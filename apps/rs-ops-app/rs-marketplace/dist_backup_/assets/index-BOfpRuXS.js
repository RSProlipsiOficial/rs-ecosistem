(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const c of i.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function Uu(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Cm={exports:{}},xl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var My;function gT(){if(My)return xl;My=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,s,i){var c=null;if(i!==void 0&&(c=""+i),s.key!==void 0&&(c=""+s.key),"key"in s){i={};for(var d in s)d!=="key"&&(i[d]=s[d])}else i=s;return s=i.ref,{$$typeof:t,type:r,key:c,ref:s!==void 0?s:null,props:i}}return xl.Fragment=e,xl.jsx=n,xl.jsxs=n,xl}var Ry;function xT(){return Ry||(Ry=1,Cm.exports=gT()),Cm.exports}var o=xT(),wm={exports:{}},je={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Iy;function bT(){if(Iy)return je;Iy=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),b=Symbol.iterator;function N(R){return R===null||typeof R!="object"?null:(R=b&&R[b]||R["@@iterator"],typeof R=="function"?R:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,T={};function E(R,B,X){this.props=R,this.context=B,this.refs=T,this.updater=X||w}E.prototype.isReactComponent={},E.prototype.setState=function(R,B){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,B,"setState")},E.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function M(){}M.prototype=E.prototype;function D(R,B,X){this.props=R,this.context=B,this.refs=T,this.updater=X||w}var H=D.prototype=new M;H.constructor=D,S(H,E.prototype),H.isPureReactComponent=!0;var V=Array.isArray;function z(){}var P={H:null,A:null,T:null,S:null},te=Object.prototype.hasOwnProperty;function K(R,B,X){var oe=X.ref;return{$$typeof:t,type:R,key:B,ref:oe!==void 0?oe:null,props:X}}function ce(R,B){return K(R.type,B,R.props)}function ye(R){return typeof R=="object"&&R!==null&&R.$$typeof===t}function re(R){var B={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(X){return B[X]})}var le=/\/+/g;function ge(R,B){return typeof R=="object"&&R!==null&&R.key!=null?re(""+R.key):B.toString(36)}function Y(R){switch(R.status){case"fulfilled":return R.value;case"rejected":throw R.reason;default:switch(typeof R.status=="string"?R.then(z,z):(R.status="pending",R.then(function(B){R.status==="pending"&&(R.status="fulfilled",R.value=B)},function(B){R.status==="pending"&&(R.status="rejected",R.reason=B)})),R.status){case"fulfilled":return R.value;case"rejected":throw R.reason}}throw R}function O(R,B,X,oe,he){var Te=typeof R;(Te==="undefined"||Te==="boolean")&&(R=null);var ke=!1;if(R===null)ke=!0;else switch(Te){case"bigint":case"string":case"number":ke=!0;break;case"object":switch(R.$$typeof){case t:case e:ke=!0;break;case p:return ke=R._init,O(ke(R._payload),B,X,oe,he)}}if(ke)return he=he(R),ke=oe===""?"."+ge(R,0):oe,V(he)?(X="",ke!=null&&(X=ke.replace(le,"$&/")+"/"),O(he,B,X,"",function(Kt){return Kt})):he!=null&&(ye(he)&&(he=ce(he,X+(he.key==null||R&&R.key===he.key?"":(""+he.key).replace(le,"$&/")+"/")+ke)),B.push(he)),1;ke=0;var Ae=oe===""?".":oe+":";if(V(R))for(var Ie=0;Ie<R.length;Ie++)oe=R[Ie],Te=Ae+ge(oe,Ie),ke+=O(oe,B,X,Te,he);else if(Ie=N(R),typeof Ie=="function")for(R=Ie.call(R),Ie=0;!(oe=R.next()).done;)oe=oe.value,Te=Ae+ge(oe,Ie++),ke+=O(oe,B,X,Te,he);else if(Te==="object"){if(typeof R.then=="function")return O(Y(R),B,X,oe,he);throw B=String(R),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.")}return ke}function J(R,B,X){if(R==null)return R;var oe=[],he=0;return O(R,oe,"","",function(Te){return B.call(X,Te,he++)}),oe}function pe(R){if(R._status===-1){var B=R._result;B=B(),B.then(function(X){(R._status===0||R._status===-1)&&(R._status=1,R._result=X)},function(X){(R._status===0||R._status===-1)&&(R._status=2,R._result=X)}),R._status===-1&&(R._status=0,R._result=B)}if(R._status===1)return R._result.default;throw R._result}var we=typeof reportError=="function"?reportError:function(R){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var B=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof R=="object"&&R!==null&&typeof R.message=="string"?String(R.message):String(R),error:R});if(!window.dispatchEvent(B))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",R);return}console.error(R)},Be={map:J,forEach:function(R,B,X){J(R,function(){B.apply(this,arguments)},X)},count:function(R){var B=0;return J(R,function(){B++}),B},toArray:function(R){return J(R,function(B){return B})||[]},only:function(R){if(!ye(R))throw Error("React.Children.only expected to receive a single React element child.");return R}};return je.Activity=g,je.Children=Be,je.Component=E,je.Fragment=n,je.Profiler=s,je.PureComponent=D,je.StrictMode=r,je.Suspense=f,je.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=P,je.__COMPILER_RUNTIME={__proto__:null,c:function(R){return P.H.useMemoCache(R)}},je.cache=function(R){return function(){return R.apply(null,arguments)}},je.cacheSignal=function(){return null},je.cloneElement=function(R,B,X){if(R==null)throw Error("The argument must be a React element, but you passed "+R+".");var oe=S({},R.props),he=R.key;if(B!=null)for(Te in B.key!==void 0&&(he=""+B.key),B)!te.call(B,Te)||Te==="key"||Te==="__self"||Te==="__source"||Te==="ref"&&B.ref===void 0||(oe[Te]=B[Te]);var Te=arguments.length-2;if(Te===1)oe.children=X;else if(1<Te){for(var ke=Array(Te),Ae=0;Ae<Te;Ae++)ke[Ae]=arguments[Ae+2];oe.children=ke}return K(R.type,he,oe)},je.createContext=function(R){return R={$$typeof:c,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null},R.Provider=R,R.Consumer={$$typeof:i,_context:R},R},je.createElement=function(R,B,X){var oe,he={},Te=null;if(B!=null)for(oe in B.key!==void 0&&(Te=""+B.key),B)te.call(B,oe)&&oe!=="key"&&oe!=="__self"&&oe!=="__source"&&(he[oe]=B[oe]);var ke=arguments.length-2;if(ke===1)he.children=X;else if(1<ke){for(var Ae=Array(ke),Ie=0;Ie<ke;Ie++)Ae[Ie]=arguments[Ie+2];he.children=Ae}if(R&&R.defaultProps)for(oe in ke=R.defaultProps,ke)he[oe]===void 0&&(he[oe]=ke[oe]);return K(R,Te,he)},je.createRef=function(){return{current:null}},je.forwardRef=function(R){return{$$typeof:d,render:R}},je.isValidElement=ye,je.lazy=function(R){return{$$typeof:p,_payload:{_status:-1,_result:R},_init:pe}},je.memo=function(R,B){return{$$typeof:h,type:R,compare:B===void 0?null:B}},je.startTransition=function(R){var B=P.T,X={};P.T=X;try{var oe=R(),he=P.S;he!==null&&he(X,oe),typeof oe=="object"&&oe!==null&&typeof oe.then=="function"&&oe.then(z,we)}catch(Te){we(Te)}finally{B!==null&&X.types!==null&&(B.types=X.types),P.T=B}},je.unstable_useCacheRefresh=function(){return P.H.useCacheRefresh()},je.use=function(R){return P.H.use(R)},je.useActionState=function(R,B,X){return P.H.useActionState(R,B,X)},je.useCallback=function(R,B){return P.H.useCallback(R,B)},je.useContext=function(R){return P.H.useContext(R)},je.useDebugValue=function(){},je.useDeferredValue=function(R,B){return P.H.useDeferredValue(R,B)},je.useEffect=function(R,B){return P.H.useEffect(R,B)},je.useEffectEvent=function(R){return P.H.useEffectEvent(R)},je.useId=function(){return P.H.useId()},je.useImperativeHandle=function(R,B,X){return P.H.useImperativeHandle(R,B,X)},je.useInsertionEffect=function(R,B){return P.H.useInsertionEffect(R,B)},je.useLayoutEffect=function(R,B){return P.H.useLayoutEffect(R,B)},je.useMemo=function(R,B){return P.H.useMemo(R,B)},je.useOptimistic=function(R,B){return P.H.useOptimistic(R,B)},je.useReducer=function(R,B,X){return P.H.useReducer(R,B,X)},je.useRef=function(R){return P.H.useRef(R)},je.useState=function(R){return P.H.useState(R)},je.useSyncExternalStore=function(R,B,X){return P.H.useSyncExternalStore(R,B,X)},je.useTransition=function(){return P.H.useTransition()},je.version="19.2.0",je}var Dy;function Wl(){return Dy||(Dy=1,wm.exports=bT()),wm.exports}var j=Wl();const kr=Uu(j);var Sm={exports:{}},bl={},Tm={exports:{}},km={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _y;function yT(){return _y||(_y=1,(function(t){function e(O,J){var pe=O.length;O.push(J);e:for(;0<pe;){var we=pe-1>>>1,Be=O[we];if(0<s(Be,J))O[we]=J,O[pe]=Be,pe=we;else break e}}function n(O){return O.length===0?null:O[0]}function r(O){if(O.length===0)return null;var J=O[0],pe=O.pop();if(pe!==J){O[0]=pe;e:for(var we=0,Be=O.length,R=Be>>>1;we<R;){var B=2*(we+1)-1,X=O[B],oe=B+1,he=O[oe];if(0>s(X,pe))oe<Be&&0>s(he,X)?(O[we]=he,O[oe]=pe,we=oe):(O[we]=X,O[B]=pe,we=B);else if(oe<Be&&0>s(he,pe))O[we]=he,O[oe]=pe,we=oe;else break e}}return J}function s(O,J){var pe=O.sortIndex-J.sortIndex;return pe!==0?pe:O.id-J.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var c=Date,d=c.now();t.unstable_now=function(){return c.now()-d}}var f=[],h=[],p=1,g=null,b=3,N=!1,w=!1,S=!1,T=!1,E=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;function H(O){for(var J=n(h);J!==null;){if(J.callback===null)r(h);else if(J.startTime<=O)r(h),J.sortIndex=J.expirationTime,e(f,J);else break;J=n(h)}}function V(O){if(S=!1,H(O),!w)if(n(f)!==null)w=!0,z||(z=!0,re());else{var J=n(h);J!==null&&Y(V,J.startTime-O)}}var z=!1,P=-1,te=5,K=-1;function ce(){return T?!0:!(t.unstable_now()-K<te)}function ye(){if(T=!1,z){var O=t.unstable_now();K=O;var J=!0;try{e:{w=!1,S&&(S=!1,M(P),P=-1),N=!0;var pe=b;try{t:{for(H(O),g=n(f);g!==null&&!(g.expirationTime>O&&ce());){var we=g.callback;if(typeof we=="function"){g.callback=null,b=g.priorityLevel;var Be=we(g.expirationTime<=O);if(O=t.unstable_now(),typeof Be=="function"){g.callback=Be,H(O),J=!0;break t}g===n(f)&&r(f),H(O)}else r(f);g=n(f)}if(g!==null)J=!0;else{var R=n(h);R!==null&&Y(V,R.startTime-O),J=!1}}break e}finally{g=null,b=pe,N=!1}J=void 0}}finally{J?re():z=!1}}}var re;if(typeof D=="function")re=function(){D(ye)};else if(typeof MessageChannel<"u"){var le=new MessageChannel,ge=le.port2;le.port1.onmessage=ye,re=function(){ge.postMessage(null)}}else re=function(){E(ye,0)};function Y(O,J){P=E(function(){O(t.unstable_now())},J)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(O){O.callback=null},t.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):te=0<O?Math.floor(1e3/O):5},t.unstable_getCurrentPriorityLevel=function(){return b},t.unstable_next=function(O){switch(b){case 1:case 2:case 3:var J=3;break;default:J=b}var pe=b;b=J;try{return O()}finally{b=pe}},t.unstable_requestPaint=function(){T=!0},t.unstable_runWithPriority=function(O,J){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var pe=b;b=O;try{return J()}finally{b=pe}},t.unstable_scheduleCallback=function(O,J,pe){var we=t.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?we+pe:we):pe=we,O){case 1:var Be=-1;break;case 2:Be=250;break;case 5:Be=1073741823;break;case 4:Be=1e4;break;default:Be=5e3}return Be=pe+Be,O={id:p++,callback:J,priorityLevel:O,startTime:pe,expirationTime:Be,sortIndex:-1},pe>we?(O.sortIndex=pe,e(h,O),n(f)===null&&O===n(h)&&(S?(M(P),P=-1):S=!0,Y(V,pe-we))):(O.sortIndex=Be,e(f,O),w||N||(w=!0,z||(z=!0,re()))),O},t.unstable_shouldYield=ce,t.unstable_wrapCallback=function(O){var J=b;return function(){var pe=b;b=J;try{return O.apply(this,arguments)}finally{b=pe}}}})(km)),km}var Py;function vT(){return Py||(Py=1,Tm.exports=yT()),Tm.exports}var Em={exports:{}},Xt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ly;function NT(){if(Ly)return Xt;Ly=1;var t=Wl();function e(f){var h="https://react.dev/errors/"+f;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)h+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+f+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},s=Symbol.for("react.portal");function i(f,h,p){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:g==null?null:""+g,children:f,containerInfo:h,implementation:p}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(f,h){if(f==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return Xt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Xt.createPortal=function(f,h){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return i(f,h,null,p)},Xt.flushSync=function(f){var h=c.T,p=r.p;try{if(c.T=null,r.p=2,f)return f()}finally{c.T=h,r.p=p,r.d.f()}},Xt.preconnect=function(f,h){typeof f=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,r.d.C(f,h))},Xt.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},Xt.preinit=function(f,h){if(typeof f=="string"&&h&&typeof h.as=="string"){var p=h.as,g=d(p,h.crossOrigin),b=typeof h.integrity=="string"?h.integrity:void 0,N=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;p==="style"?r.d.S(f,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:g,integrity:b,fetchPriority:N}):p==="script"&&r.d.X(f,{crossOrigin:g,integrity:b,fetchPriority:N,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},Xt.preinitModule=function(f,h){if(typeof f=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var p=d(h.as,h.crossOrigin);r.d.M(f,{crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&r.d.M(f)},Xt.preload=function(f,h){if(typeof f=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var p=h.as,g=d(p,h.crossOrigin);r.d.L(f,p,{crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},Xt.preloadModule=function(f,h){if(typeof f=="string")if(h){var p=d(h.as,h.crossOrigin);r.d.m(f,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else r.d.m(f)},Xt.requestFormReset=function(f){r.d.r(f)},Xt.unstable_batchedUpdates=function(f,h){return f(h)},Xt.useFormState=function(f,h,p){return c.H.useFormState(f,h,p)},Xt.useFormStatus=function(){return c.H.useHostTransitionStatus()},Xt.version="19.2.0",Xt}var Oy;function V2(){if(Oy)return Em.exports;Oy=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Em.exports=NT(),Em.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var By;function CT(){if(By)return bl;By=1;var t=vT(),e=Wl(),n=V2();function r(a){var l="https://react.dev/errors/"+a;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)l+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+a+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function i(a){var l=a,u=a;if(a.alternate)for(;l.return;)l=l.return;else{a=l;do l=a,(l.flags&4098)!==0&&(u=l.return),a=l.return;while(a)}return l.tag===3?u:null}function c(a){if(a.tag===13){var l=a.memoizedState;if(l===null&&(a=a.alternate,a!==null&&(l=a.memoizedState)),l!==null)return l.dehydrated}return null}function d(a){if(a.tag===31){var l=a.memoizedState;if(l===null&&(a=a.alternate,a!==null&&(l=a.memoizedState)),l!==null)return l.dehydrated}return null}function f(a){if(i(a)!==a)throw Error(r(188))}function h(a){var l=a.alternate;if(!l){if(l=i(a),l===null)throw Error(r(188));return l!==a?null:a}for(var u=a,m=l;;){var v=u.return;if(v===null)break;var C=v.alternate;if(C===null){if(m=v.return,m!==null){u=m;continue}break}if(v.child===C.child){for(C=v.child;C;){if(C===u)return f(v),a;if(C===m)return f(v),l;C=C.sibling}throw Error(r(188))}if(u.return!==m.return)u=v,m=C;else{for(var k=!1,A=v.child;A;){if(A===u){k=!0,u=v,m=C;break}if(A===m){k=!0,m=v,u=C;break}A=A.sibling}if(!k){for(A=C.child;A;){if(A===u){k=!0,u=C,m=v;break}if(A===m){k=!0,m=C,u=v;break}A=A.sibling}if(!k)throw Error(r(189))}}if(u.alternate!==m)throw Error(r(190))}if(u.tag!==3)throw Error(r(188));return u.stateNode.current===u?a:l}function p(a){var l=a.tag;if(l===5||l===26||l===27||l===6)return a;for(a=a.child;a!==null;){if(l=p(a),l!==null)return l;a=a.sibling}return null}var g=Object.assign,b=Symbol.for("react.element"),N=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),M=Symbol.for("react.consumer"),D=Symbol.for("react.context"),H=Symbol.for("react.forward_ref"),V=Symbol.for("react.suspense"),z=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),te=Symbol.for("react.lazy"),K=Symbol.for("react.activity"),ce=Symbol.for("react.memo_cache_sentinel"),ye=Symbol.iterator;function re(a){return a===null||typeof a!="object"?null:(a=ye&&a[ye]||a["@@iterator"],typeof a=="function"?a:null)}var le=Symbol.for("react.client.reference");function ge(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===le?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case S:return"Fragment";case E:return"Profiler";case T:return"StrictMode";case V:return"Suspense";case z:return"SuspenseList";case K:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case w:return"Portal";case D:return a.displayName||"Context";case M:return(a._context.displayName||"Context")+".Consumer";case H:var l=a.render;return a=a.displayName,a||(a=l.displayName||l.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case P:return l=a.displayName||null,l!==null?l:ge(a.type)||"Memo";case te:l=a._payload,a=a._init;try{return ge(a(l))}catch{}}return null}var Y=Array.isArray,O=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe={pending:!1,data:null,method:null,action:null},we=[],Be=-1;function R(a){return{current:a}}function B(a){0>Be||(a.current=we[Be],we[Be]=null,Be--)}function X(a,l){Be++,we[Be]=a.current,a.current=l}var oe=R(null),he=R(null),Te=R(null),ke=R(null);function Ae(a,l){switch(X(Te,l),X(he,a),X(oe,null),l.nodeType){case 9:case 11:a=(a=l.documentElement)&&(a=a.namespaceURI)?Zb(a):0;break;default:if(a=l.tagName,l=l.namespaceURI)l=Zb(l),a=ey(l,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}B(oe),X(oe,a)}function Ie(){B(oe),B(he),B(Te)}function Kt(a){a.memoizedState!==null&&X(ke,a);var l=oe.current,u=ey(l,a.type);l!==u&&(X(he,a),X(oe,u))}function ut(a){he.current===a&&(B(oe),B(he)),ke.current===a&&(B(ke),hl._currentValue=pe)}var mt,Rt;function ot(a){if(mt===void 0)try{throw Error()}catch(u){var l=u.stack.trim().match(/\n( *(at )?)/);mt=l&&l[1]||"",Rt=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+mt+a+Rt}var Yt=!1;function En(a,l){if(!a||Yt)return"";Yt=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(l){var ee=function(){throw Error()};if(Object.defineProperty(ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ee,[])}catch($){var G=$}Reflect.construct(a,[],ee)}else{try{ee.call()}catch($){G=$}a.call(ee.prototype)}}else{try{throw Error()}catch($){G=$}(ee=a())&&typeof ee.catch=="function"&&ee.catch(function(){})}}catch($){if($&&G&&typeof $.stack=="string")return[$.stack,G.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var C=m.DetermineComponentFrameRoot(),k=C[0],A=C[1];if(k&&A){var _=k.split(`
`),F=A.split(`
`);for(v=m=0;m<_.length&&!_[m].includes("DetermineComponentFrameRoot");)m++;for(;v<F.length&&!F[v].includes("DetermineComponentFrameRoot");)v++;if(m===_.length||v===F.length)for(m=_.length-1,v=F.length-1;1<=m&&0<=v&&_[m]!==F[v];)v--;for(;1<=m&&0<=v;m--,v--)if(_[m]!==F[v]){if(m!==1||v!==1)do if(m--,v--,0>v||_[m]!==F[v]){var W=`
`+_[m].replace(" at new "," at ");return a.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",a.displayName)),W}while(1<=m&&0<=v);break}}}finally{Yt=!1,Error.prepareStackTrace=u}return(u=a?a.displayName||a.name:"")?ot(u):""}function rn(a,l){switch(a.tag){case 26:case 27:case 5:return ot(a.type);case 16:return ot("Lazy");case 13:return a.child!==l&&l!==null?ot("Suspense Fallback"):ot("Suspense");case 19:return ot("SuspenseList");case 0:case 15:return En(a.type,!1);case 11:return En(a.type.render,!1);case 1:return En(a.type,!0);case 31:return ot("Activity");default:return""}}function bo(a){try{var l="",u=null;do l+=rn(a,u),u=a,a=a.return;while(a);return l}catch(m){return`
Error generating stack: `+m.message+`
`+m.stack}}var rr=Object.prototype.hasOwnProperty,us=t.unstable_scheduleCallback,sr=t.unstable_cancelCallback,da=t.unstable_shouldYield,ua=t.unstable_requestPaint,_t=t.unstable_now,be=t.unstable_getCurrentPriorityLevel,Le=t.unstable_ImmediatePriority,Me=t.unstable_UserBlockingPriority,Oe=t.unstable_NormalPriority,sn=t.unstable_LowPriority,fs=t.unstable_IdlePriority,An=t.log,hs=t.unstable_setDisableYieldValue,or=null,mn=null;function ar(a){if(typeof An=="function"&&hs(a),mn&&typeof mn.setStrictMode=="function")try{mn.setStrictMode(or,a)}catch{}}var on=Math.clz32?Math.clz32:mf,Mr=Math.log,hf=Math.LN2;function mf(a){return a>>>=0,a===0?32:31-(Mr(a)/hf|0)|0}var yo=256,vo=262144,fa=4194304;function an(a){var l=a&42;if(l!==0)return l;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function Rr(a,l,u){var m=a.pendingLanes;if(m===0)return 0;var v=0,C=a.suspendedLanes,k=a.pingedLanes;a=a.warmLanes;var A=m&134217727;return A!==0?(m=A&~C,m!==0?v=an(m):(k&=A,k!==0?v=an(k):u||(u=A&~a,u!==0&&(v=an(u))))):(A=m&~C,A!==0?v=an(A):k!==0?v=an(k):u||(u=m&~a,u!==0&&(v=an(u)))),v===0?0:l!==0&&l!==v&&(l&C)===0&&(C=v&-v,u=l&-l,C>=u||C===32&&(u&4194048)!==0)?l:v}function No(a,l){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&l)===0}function ms(a,l){switch(a){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function oc(){var a=fa;return fa<<=1,(fa&62914560)===0&&(fa=4194304),a}function Co(a){for(var l=[],u=0;31>u;u++)l.push(a);return l}function ps(a,l){a.pendingLanes|=l,l!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function pf(a,l,u,m,v,C){var k=a.pendingLanes;a.pendingLanes=u,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=u,a.entangledLanes&=u,a.errorRecoveryDisabledLanes&=u,a.shellSuspendCounter=0;var A=a.entanglements,_=a.expirationTimes,F=a.hiddenUpdates;for(u=k&~u;0<u;){var W=31-on(u),ee=1<<W;A[W]=0,_[W]=-1;var G=F[W];if(G!==null)for(F[W]=null,W=0;W<G.length;W++){var $=G[W];$!==null&&($.lane&=-536870913)}u&=~ee}m!==0&&ac(a,m,0),C!==0&&v===0&&a.tag!==0&&(a.suspendedLanes|=C&~(k&~l))}function ac(a,l,u){a.pendingLanes|=l,a.suspendedLanes&=~l;var m=31-on(l);a.entangledLanes|=l,a.entanglements[m]=a.entanglements[m]|1073741824|u&261930}function vi(a,l){var u=a.entangledLanes|=l;for(a=a.entanglements;u;){var m=31-on(u),v=1<<m;v&l|a[m]&l&&(a[m]|=l),u&=~v}}function Ni(a,l){var u=l&-l;return u=(u&42)!==0?1:Ci(u),(u&(a.suspendedLanes|l))!==0?0:u}function Ci(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function wi(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function de(){var a=J.p;return a!==0?a:(a=window.event,a===void 0?32:wy(a.type))}function wo(a,l){var u=J.p;try{return J.p=a,l()}finally{J.p=u}}var xr=Math.random().toString(36).slice(2),It="__reactFiber$"+xr,Wt="__reactProps$"+xr,gs="__reactContainer$"+xr,Si="__reactEvents$"+xr,gf="__reactListeners$"+xr,ic="__reactHandles$"+xr,Ti="__reactResources$"+xr,So="__reactMarker$"+xr;function ki(a){delete a[It],delete a[Wt],delete a[Si],delete a[gf],delete a[ic]}function xs(a){var l=a[It];if(l)return l;for(var u=a.parentNode;u;){if(l=u[gs]||u[It]){if(u=l.alternate,l.child!==null||u!==null&&u.child!==null)for(a=iy(a);a!==null;){if(u=a[It])return u;a=iy(a)}return l}a=u,u=a.parentNode}return null}function bs(a){if(a=a[It]||a[gs]){var l=a.tag;if(l===5||l===6||l===13||l===31||l===26||l===27||l===3)return a}return null}function ys(a){var l=a.tag;if(l===5||l===26||l===27||l===6)return a.stateNode;throw Error(r(33))}function vs(a){var l=a[Ti];return l||(l=a[Ti]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function Ct(a){a[So]=!0}var lc=new Set,cc={};function Ir(a,l){Ns(a,l),Ns(a+"Capture",l)}function Ns(a,l){for(cc[a]=l,a=0;a<l.length;a++)lc.add(l[a])}var xf=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),dc={},uc={};function fc(a){return rr.call(uc,a)?!0:rr.call(dc,a)?!1:xf.test(a)?uc[a]=!0:(dc[a]=!0,!1)}function ha(a,l,u){if(fc(l))if(u===null)a.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":a.removeAttribute(l);return;case"boolean":var m=l.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){a.removeAttribute(l);return}}a.setAttribute(l,""+u)}}function ma(a,l,u){if(u===null)a.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(l);return}a.setAttribute(l,""+u)}}function ir(a,l,u,m){if(m===null)a.removeAttribute(u);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(u);return}a.setAttributeNS(l,u,""+m)}}function pn(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function hc(a){var l=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function bf(a,l,u){var m=Object.getOwnPropertyDescriptor(a.constructor.prototype,l);if(!a.hasOwnProperty(l)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var v=m.get,C=m.set;return Object.defineProperty(a,l,{configurable:!0,get:function(){return v.call(this)},set:function(k){u=""+k,C.call(this,k)}}),Object.defineProperty(a,l,{enumerable:m.enumerable}),{getValue:function(){return u},setValue:function(k){u=""+k},stopTracking:function(){a._valueTracker=null,delete a[l]}}}}function Ei(a){if(!a._valueTracker){var l=hc(a)?"checked":"value";a._valueTracker=bf(a,l,""+a[l])}}function mc(a){if(!a)return!1;var l=a._valueTracker;if(!l)return!0;var u=l.getValue(),m="";return a&&(m=hc(a)?a.checked?"true":"false":a.value),a=m,a!==u?(l.setValue(a),!0):!1}function pa(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var yf=/[\n"\\]/g;function gn(a){return a.replace(yf,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function Ai(a,l,u,m,v,C,k,A){a.name="",k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?a.type=k:a.removeAttribute("type"),l!=null?k==="number"?(l===0&&a.value===""||a.value!=l)&&(a.value=""+pn(l)):a.value!==""+pn(l)&&(a.value=""+pn(l)):k!=="submit"&&k!=="reset"||a.removeAttribute("value"),l!=null?ga(a,k,pn(l)):u!=null?ga(a,k,pn(u)):m!=null&&a.removeAttribute("value"),v==null&&C!=null&&(a.defaultChecked=!!C),v!=null&&(a.checked=v&&typeof v!="function"&&typeof v!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?a.name=""+pn(A):a.removeAttribute("name")}function Dr(a,l,u,m,v,C,k,A){if(C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(a.type=C),l!=null||u!=null){if(!(C!=="submit"&&C!=="reset"||l!=null)){Ei(a);return}u=u!=null?""+pn(u):"",l=l!=null?""+pn(l):u,A||l===a.value||(a.value=l),a.defaultValue=l}m=m??v,m=typeof m!="function"&&typeof m!="symbol"&&!!m,a.checked=A?a.checked:!!m,a.defaultChecked=!!m,k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"&&(a.name=k),Ei(a)}function ga(a,l,u){l==="number"&&pa(a.ownerDocument)===a||a.defaultValue===""+u||(a.defaultValue=""+u)}function Cs(a,l,u,m){if(a=a.options,l){l={};for(var v=0;v<u.length;v++)l["$"+u[v]]=!0;for(u=0;u<a.length;u++)v=l.hasOwnProperty("$"+a[u].value),a[u].selected!==v&&(a[u].selected=v),v&&m&&(a[u].defaultSelected=!0)}else{for(u=""+pn(u),l=null,v=0;v<a.length;v++){if(a[v].value===u){a[v].selected=!0,m&&(a[v].defaultSelected=!0);return}l!==null||a[v].disabled||(l=a[v])}l!==null&&(l.selected=!0)}}function pc(a,l,u){if(l!=null&&(l=""+pn(l),l!==a.value&&(a.value=l),u==null)){a.defaultValue!==l&&(a.defaultValue=l);return}a.defaultValue=u!=null?""+pn(u):""}function gc(a,l,u,m){if(l==null){if(m!=null){if(u!=null)throw Error(r(92));if(Y(m)){if(1<m.length)throw Error(r(93));m=m[0]}u=m}u==null&&(u=""),l=u}u=pn(l),a.defaultValue=u,m=a.textContent,m===u&&m!==""&&m!==null&&(a.value=m),Ei(a)}function ws(a,l){if(l){var u=a.firstChild;if(u&&u===a.lastChild&&u.nodeType===3){u.nodeValue=l;return}}a.textContent=l}var vf=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function xc(a,l,u){var m=l.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?m?a.setProperty(l,""):l==="float"?a.cssFloat="":a[l]="":m?a.setProperty(l,u):typeof u!="number"||u===0||vf.has(l)?l==="float"?a.cssFloat=u:a[l]=(""+u).trim():a[l]=u+"px"}function br(a,l,u){if(l!=null&&typeof l!="object")throw Error(r(62));if(a=a.style,u!=null){for(var m in u)!u.hasOwnProperty(m)||l!=null&&l.hasOwnProperty(m)||(m.indexOf("--")===0?a.setProperty(m,""):m==="float"?a.cssFloat="":a[m]="");for(var v in l)m=l[v],l.hasOwnProperty(v)&&u[v]!==m&&xc(a,v,m)}else for(var C in l)l.hasOwnProperty(C)&&xc(a,C,l[C])}function ji(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Nf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Cf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function xa(a){return Cf.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function lr(){}var Mi=null;function Ri(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var Ss=null,I=null;function Q(a){var l=bs(a);if(l&&(a=l.stateNode)){var u=a[Wt]||null;e:switch(a=l.stateNode,l.type){case"input":if(Ai(a,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),l=u.name,u.type==="radio"&&l!=null){for(u=a;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+gn(""+l)+'"][type="radio"]'),l=0;l<u.length;l++){var m=u[l];if(m!==a&&m.form===a.form){var v=m[Wt]||null;if(!v)throw Error(r(90));Ai(m,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(l=0;l<u.length;l++)m=u[l],m.form===a.form&&mc(m)}break e;case"textarea":pc(a,u.value,u.defaultValue);break e;case"select":l=u.value,l!=null&&Cs(a,!!u.multiple,l,!1)}}}var ie=!1;function se(a,l,u){if(ie)return a(l,u);ie=!0;try{var m=a(l);return m}finally{if(ie=!1,(Ss!==null||I!==null)&&(sd(),Ss&&(l=Ss,a=I,I=Ss=null,Q(l),a)))for(l=0;l<a.length;l++)Q(a[l])}}function Qe(a,l){var u=a.stateNode;if(u===null)return null;var m=u[Wt]||null;if(m===null)return null;u=m[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(a=a.type,m=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!m;break e;default:a=!1}if(a)return null;if(u&&typeof u!="function")throw Error(r(231,l,typeof u));return u}var xn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ts=!1;if(xn)try{var ln={};Object.defineProperty(ln,"passive",{get:function(){Ts=!0}}),window.addEventListener("test",ln,ln),window.removeEventListener("test",ln,ln)}catch{Ts=!1}var cr=null,wf=null,bc=null;function ex(){if(bc)return bc;var a,l=wf,u=l.length,m,v="value"in cr?cr.value:cr.textContent,C=v.length;for(a=0;a<u&&l[a]===v[a];a++);var k=u-a;for(m=1;m<=k&&l[u-m]===v[C-m];m++);return bc=v.slice(a,1<m?1-m:void 0)}function yc(a){var l=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&l===13&&(a=13)):a=l,a===10&&(a=13),32<=a||a===13?a:0}function vc(){return!0}function tx(){return!1}function bn(a){function l(u,m,v,C,k){this._reactName=u,this._targetInst=v,this.type=m,this.nativeEvent=C,this.target=k,this.currentTarget=null;for(var A in a)a.hasOwnProperty(A)&&(u=a[A],this[A]=u?u(C):C[A]);return this.isDefaultPrevented=(C.defaultPrevented!=null?C.defaultPrevented:C.returnValue===!1)?vc:tx,this.isPropagationStopped=tx,this}return g(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=vc)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=vc)},persist:function(){},isPersistent:vc}),l}var To={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Nc=bn(To),Ii=g({},To,{view:0,detail:0}),mS=bn(Ii),Sf,Tf,Di,Cc=g({},Ii,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ef,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Di&&(Di&&a.type==="mousemove"?(Sf=a.screenX-Di.screenX,Tf=a.screenY-Di.screenY):Tf=Sf=0,Di=a),Sf)},movementY:function(a){return"movementY"in a?a.movementY:Tf}}),nx=bn(Cc),pS=g({},Cc,{dataTransfer:0}),gS=bn(pS),xS=g({},Ii,{relatedTarget:0}),kf=bn(xS),bS=g({},To,{animationName:0,elapsedTime:0,pseudoElement:0}),yS=bn(bS),vS=g({},To,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),NS=bn(vS),CS=g({},To,{data:0}),rx=bn(CS),wS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},SS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},TS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kS(a){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(a):(a=TS[a])?!!l[a]:!1}function Ef(){return kS}var ES=g({},Ii,{key:function(a){if(a.key){var l=wS[a.key]||a.key;if(l!=="Unidentified")return l}return a.type==="keypress"?(a=yc(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?SS[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ef,charCode:function(a){return a.type==="keypress"?yc(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?yc(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),AS=bn(ES),jS=g({},Cc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),sx=bn(jS),MS=g({},Ii,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ef}),RS=bn(MS),IS=g({},To,{propertyName:0,elapsedTime:0,pseudoElement:0}),DS=bn(IS),_S=g({},Cc,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),PS=bn(_S),LS=g({},To,{newState:0,oldState:0}),OS=bn(LS),BS=[9,13,27,32],Af=xn&&"CompositionEvent"in window,_i=null;xn&&"documentMode"in document&&(_i=document.documentMode);var zS=xn&&"TextEvent"in window&&!_i,ox=xn&&(!Af||_i&&8<_i&&11>=_i),ax=" ",ix=!1;function lx(a,l){switch(a){case"keyup":return BS.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function cx(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var ba=!1;function US(a,l){switch(a){case"compositionend":return cx(l);case"keypress":return l.which!==32?null:(ix=!0,ax);case"textInput":return a=l.data,a===ax&&ix?null:a;default:return null}}function HS(a,l){if(ba)return a==="compositionend"||!Af&&lx(a,l)?(a=ex(),bc=wf=cr=null,ba=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return ox&&l.locale!=="ko"?null:l.data;default:return null}}var VS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function dx(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l==="input"?!!VS[a.type]:l==="textarea"}function ux(a,l,u,m){Ss?I?I.push(m):I=[m]:Ss=m,l=ud(l,"onChange"),0<l.length&&(u=new Nc("onChange","change",null,u,m),a.push({event:u,listeners:l}))}var Pi=null,Li=null;function qS(a){Jb(a,0)}function wc(a){var l=ys(a);if(mc(l))return a}function fx(a,l){if(a==="change")return l}var hx=!1;if(xn){var jf;if(xn){var Mf="oninput"in document;if(!Mf){var mx=document.createElement("div");mx.setAttribute("oninput","return;"),Mf=typeof mx.oninput=="function"}jf=Mf}else jf=!1;hx=jf&&(!document.documentMode||9<document.documentMode)}function px(){Pi&&(Pi.detachEvent("onpropertychange",gx),Li=Pi=null)}function gx(a){if(a.propertyName==="value"&&wc(Li)){var l=[];ux(l,Li,a,Ri(a)),se(qS,l)}}function FS(a,l,u){a==="focusin"?(px(),Pi=l,Li=u,Pi.attachEvent("onpropertychange",gx)):a==="focusout"&&px()}function GS(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return wc(Li)}function $S(a,l){if(a==="click")return wc(l)}function JS(a,l){if(a==="input"||a==="change")return wc(l)}function KS(a,l){return a===l&&(a!==0||1/a===1/l)||a!==a&&l!==l}var jn=typeof Object.is=="function"?Object.is:KS;function Oi(a,l){if(jn(a,l))return!0;if(typeof a!="object"||a===null||typeof l!="object"||l===null)return!1;var u=Object.keys(a),m=Object.keys(l);if(u.length!==m.length)return!1;for(m=0;m<u.length;m++){var v=u[m];if(!rr.call(l,v)||!jn(a[v],l[v]))return!1}return!0}function xx(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function bx(a,l){var u=xx(a);a=0;for(var m;u;){if(u.nodeType===3){if(m=a+u.textContent.length,a<=l&&m>=l)return{node:u,offset:l-a};a=m}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=xx(u)}}function yx(a,l){return a&&l?a===l?!0:a&&a.nodeType===3?!1:l&&l.nodeType===3?yx(a,l.parentNode):"contains"in a?a.contains(l):a.compareDocumentPosition?!!(a.compareDocumentPosition(l)&16):!1:!1}function vx(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var l=pa(a.document);l instanceof a.HTMLIFrameElement;){try{var u=typeof l.contentWindow.location.href=="string"}catch{u=!1}if(u)a=l.contentWindow;else break;l=pa(a.document)}return l}function Rf(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l&&(l==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||l==="textarea"||a.contentEditable==="true")}var YS=xn&&"documentMode"in document&&11>=document.documentMode,ya=null,If=null,Bi=null,Df=!1;function Nx(a,l,u){var m=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Df||ya==null||ya!==pa(m)||(m=ya,"selectionStart"in m&&Rf(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),Bi&&Oi(Bi,m)||(Bi=m,m=ud(If,"onSelect"),0<m.length&&(l=new Nc("onSelect","select",null,l,u),a.push({event:l,listeners:m}),l.target=ya)))}function ko(a,l){var u={};return u[a.toLowerCase()]=l.toLowerCase(),u["Webkit"+a]="webkit"+l,u["Moz"+a]="moz"+l,u}var va={animationend:ko("Animation","AnimationEnd"),animationiteration:ko("Animation","AnimationIteration"),animationstart:ko("Animation","AnimationStart"),transitionrun:ko("Transition","TransitionRun"),transitionstart:ko("Transition","TransitionStart"),transitioncancel:ko("Transition","TransitionCancel"),transitionend:ko("Transition","TransitionEnd")},_f={},Cx={};xn&&(Cx=document.createElement("div").style,"AnimationEvent"in window||(delete va.animationend.animation,delete va.animationiteration.animation,delete va.animationstart.animation),"TransitionEvent"in window||delete va.transitionend.transition);function Eo(a){if(_f[a])return _f[a];if(!va[a])return a;var l=va[a],u;for(u in l)if(l.hasOwnProperty(u)&&u in Cx)return _f[a]=l[u];return a}var wx=Eo("animationend"),Sx=Eo("animationiteration"),Tx=Eo("animationstart"),WS=Eo("transitionrun"),XS=Eo("transitionstart"),QS=Eo("transitioncancel"),kx=Eo("transitionend"),Ex=new Map,Pf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Pf.push("scrollEnd");function dr(a,l){Ex.set(a,l),Ir(l,[a])}var Sc=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},Un=[],Na=0,Lf=0;function Tc(){for(var a=Na,l=Lf=Na=0;l<a;){var u=Un[l];Un[l++]=null;var m=Un[l];Un[l++]=null;var v=Un[l];Un[l++]=null;var C=Un[l];if(Un[l++]=null,m!==null&&v!==null){var k=m.pending;k===null?v.next=v:(v.next=k.next,k.next=v),m.pending=v}C!==0&&Ax(u,v,C)}}function kc(a,l,u,m){Un[Na++]=a,Un[Na++]=l,Un[Na++]=u,Un[Na++]=m,Lf|=m,a.lanes|=m,a=a.alternate,a!==null&&(a.lanes|=m)}function Of(a,l,u,m){return kc(a,l,u,m),Ec(a)}function Ao(a,l){return kc(a,null,null,l),Ec(a)}function Ax(a,l,u){a.lanes|=u;var m=a.alternate;m!==null&&(m.lanes|=u);for(var v=!1,C=a.return;C!==null;)C.childLanes|=u,m=C.alternate,m!==null&&(m.childLanes|=u),C.tag===22&&(a=C.stateNode,a===null||a._visibility&1||(v=!0)),a=C,C=C.return;return a.tag===3?(C=a.stateNode,v&&l!==null&&(v=31-on(u),a=C.hiddenUpdates,m=a[v],m===null?a[v]=[l]:m.push(l),l.lane=u|536870912),C):null}function Ec(a){if(50<al)throw al=0,$h=null,Error(r(185));for(var l=a.return;l!==null;)a=l,l=a.return;return a.tag===3?a.stateNode:null}var Ca={};function ZS(a,l,u,m){this.tag=a,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mn(a,l,u,m){return new ZS(a,l,u,m)}function Bf(a){return a=a.prototype,!(!a||!a.isReactComponent)}function _r(a,l){var u=a.alternate;return u===null?(u=Mn(a.tag,l,a.key,a.mode),u.elementType=a.elementType,u.type=a.type,u.stateNode=a.stateNode,u.alternate=a,a.alternate=u):(u.pendingProps=l,u.type=a.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=a.flags&65011712,u.childLanes=a.childLanes,u.lanes=a.lanes,u.child=a.child,u.memoizedProps=a.memoizedProps,u.memoizedState=a.memoizedState,u.updateQueue=a.updateQueue,l=a.dependencies,u.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},u.sibling=a.sibling,u.index=a.index,u.ref=a.ref,u.refCleanup=a.refCleanup,u}function jx(a,l){a.flags&=65011714;var u=a.alternate;return u===null?(a.childLanes=0,a.lanes=l,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=u.childLanes,a.lanes=u.lanes,a.child=u.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=u.memoizedProps,a.memoizedState=u.memoizedState,a.updateQueue=u.updateQueue,a.type=u.type,l=u.dependencies,a.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),a}function Ac(a,l,u,m,v,C){var k=0;if(m=a,typeof a=="function")Bf(a)&&(k=1);else if(typeof a=="string")k=sT(a,u,oe.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case K:return a=Mn(31,u,l,v),a.elementType=K,a.lanes=C,a;case S:return jo(u.children,v,C,l);case T:k=8,v|=24;break;case E:return a=Mn(12,u,l,v|2),a.elementType=E,a.lanes=C,a;case V:return a=Mn(13,u,l,v),a.elementType=V,a.lanes=C,a;case z:return a=Mn(19,u,l,v),a.elementType=z,a.lanes=C,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case D:k=10;break e;case M:k=9;break e;case H:k=11;break e;case P:k=14;break e;case te:k=16,m=null;break e}k=29,u=Error(r(130,a===null?"null":typeof a,"")),m=null}return l=Mn(k,u,l,v),l.elementType=a,l.type=m,l.lanes=C,l}function jo(a,l,u,m){return a=Mn(7,a,m,l),a.lanes=u,a}function zf(a,l,u){return a=Mn(6,a,null,l),a.lanes=u,a}function Mx(a){var l=Mn(18,null,null,0);return l.stateNode=a,l}function Uf(a,l,u){return l=Mn(4,a.children!==null?a.children:[],a.key,l),l.lanes=u,l.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},l}var Rx=new WeakMap;function Hn(a,l){if(typeof a=="object"&&a!==null){var u=Rx.get(a);return u!==void 0?u:(l={value:a,source:l,stack:bo(l)},Rx.set(a,l),l)}return{value:a,source:l,stack:bo(l)}}var wa=[],Sa=0,jc=null,zi=0,Vn=[],qn=0,ks=null,yr=1,vr="";function Pr(a,l){wa[Sa++]=zi,wa[Sa++]=jc,jc=a,zi=l}function Ix(a,l,u){Vn[qn++]=yr,Vn[qn++]=vr,Vn[qn++]=ks,ks=a;var m=yr;a=vr;var v=32-on(m)-1;m&=~(1<<v),u+=1;var C=32-on(l)+v;if(30<C){var k=v-v%5;C=(m&(1<<k)-1).toString(32),m>>=k,v-=k,yr=1<<32-on(l)+v|u<<v|m,vr=C+a}else yr=1<<C|u<<v|m,vr=a}function Hf(a){a.return!==null&&(Pr(a,1),Ix(a,1,0))}function Vf(a){for(;a===jc;)jc=wa[--Sa],wa[Sa]=null,zi=wa[--Sa],wa[Sa]=null;for(;a===ks;)ks=Vn[--qn],Vn[qn]=null,vr=Vn[--qn],Vn[qn]=null,yr=Vn[--qn],Vn[qn]=null}function Dx(a,l){Vn[qn++]=yr,Vn[qn++]=vr,Vn[qn++]=ks,yr=l.id,vr=l.overflow,ks=a}var Ht=null,at=null,qe=!1,Es=null,Fn=!1,qf=Error(r(519));function As(a){var l=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ui(Hn(l,a)),qf}function _x(a){var l=a.stateNode,u=a.type,m=a.memoizedProps;switch(l[It]=a,l[Wt]=m,u){case"dialog":Ue("cancel",l),Ue("close",l);break;case"iframe":case"object":case"embed":Ue("load",l);break;case"video":case"audio":for(u=0;u<ll.length;u++)Ue(ll[u],l);break;case"source":Ue("error",l);break;case"img":case"image":case"link":Ue("error",l),Ue("load",l);break;case"details":Ue("toggle",l);break;case"input":Ue("invalid",l),Dr(l,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0);break;case"select":Ue("invalid",l);break;case"textarea":Ue("invalid",l),gc(l,m.value,m.defaultValue,m.children)}u=m.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||l.textContent===""+u||m.suppressHydrationWarning===!0||Xb(l.textContent,u)?(m.popover!=null&&(Ue("beforetoggle",l),Ue("toggle",l)),m.onScroll!=null&&Ue("scroll",l),m.onScrollEnd!=null&&Ue("scrollend",l),m.onClick!=null&&(l.onclick=lr),l=!0):l=!1,l||As(a,!0)}function Px(a){for(Ht=a.return;Ht;)switch(Ht.tag){case 5:case 31:case 13:Fn=!1;return;case 27:case 3:Fn=!0;return;default:Ht=Ht.return}}function Ta(a){if(a!==Ht)return!1;if(!qe)return Px(a),qe=!0,!1;var l=a.tag,u;if((u=l!==3&&l!==27)&&((u=l===5)&&(u=a.type,u=!(u!=="form"&&u!=="button")||im(a.type,a.memoizedProps)),u=!u),u&&at&&As(a),Px(a),l===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));at=ay(a)}else if(l===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));at=ay(a)}else l===27?(l=at,Vs(a.type)?(a=fm,fm=null,at=a):at=l):at=Ht?$n(a.stateNode.nextSibling):null;return!0}function Mo(){at=Ht=null,qe=!1}function Ff(){var a=Es;return a!==null&&(Cn===null?Cn=a:Cn.push.apply(Cn,a),Es=null),a}function Ui(a){Es===null?Es=[a]:Es.push(a)}var Gf=R(null),Ro=null,Lr=null;function js(a,l,u){X(Gf,l._currentValue),l._currentValue=u}function Or(a){a._currentValue=Gf.current,B(Gf)}function $f(a,l,u){for(;a!==null;){var m=a.alternate;if((a.childLanes&l)!==l?(a.childLanes|=l,m!==null&&(m.childLanes|=l)):m!==null&&(m.childLanes&l)!==l&&(m.childLanes|=l),a===u)break;a=a.return}}function Jf(a,l,u,m){var v=a.child;for(v!==null&&(v.return=a);v!==null;){var C=v.dependencies;if(C!==null){var k=v.child;C=C.firstContext;e:for(;C!==null;){var A=C;C=v;for(var _=0;_<l.length;_++)if(A.context===l[_]){C.lanes|=u,A=C.alternate,A!==null&&(A.lanes|=u),$f(C.return,u,a),m||(k=null);break e}C=A.next}}else if(v.tag===18){if(k=v.return,k===null)throw Error(r(341));k.lanes|=u,C=k.alternate,C!==null&&(C.lanes|=u),$f(k,u,a),k=null}else k=v.child;if(k!==null)k.return=v;else for(k=v;k!==null;){if(k===a){k=null;break}if(v=k.sibling,v!==null){v.return=k.return,k=v;break}k=k.return}v=k}}function ka(a,l,u,m){a=null;for(var v=l,C=!1;v!==null;){if(!C){if((v.flags&524288)!==0)C=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var k=v.alternate;if(k===null)throw Error(r(387));if(k=k.memoizedProps,k!==null){var A=v.type;jn(v.pendingProps.value,k.value)||(a!==null?a.push(A):a=[A])}}else if(v===ke.current){if(k=v.alternate,k===null)throw Error(r(387));k.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(a!==null?a.push(hl):a=[hl])}v=v.return}a!==null&&Jf(l,a,u,m),l.flags|=262144}function Mc(a){for(a=a.firstContext;a!==null;){if(!jn(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function Io(a){Ro=a,Lr=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function Vt(a){return Lx(Ro,a)}function Rc(a,l){return Ro===null&&Io(a),Lx(a,l)}function Lx(a,l){var u=l._currentValue;if(l={context:l,memoizedValue:u,next:null},Lr===null){if(a===null)throw Error(r(308));Lr=l,a.dependencies={lanes:0,firstContext:l},a.flags|=524288}else Lr=Lr.next=l;return u}var e5=typeof AbortController<"u"?AbortController:function(){var a=[],l=this.signal={aborted:!1,addEventListener:function(u,m){a.push(m)}};this.abort=function(){l.aborted=!0,a.forEach(function(u){return u()})}},t5=t.unstable_scheduleCallback,n5=t.unstable_NormalPriority,wt={$$typeof:D,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Kf(){return{controller:new e5,data:new Map,refCount:0}}function Hi(a){a.refCount--,a.refCount===0&&t5(n5,function(){a.controller.abort()})}var Vi=null,Yf=0,Ea=0,Aa=null;function r5(a,l){if(Vi===null){var u=Vi=[];Yf=0,Ea=Qh(),Aa={status:"pending",value:void 0,then:function(m){u.push(m)}}}return Yf++,l.then(Ox,Ox),l}function Ox(){if(--Yf===0&&Vi!==null){Aa!==null&&(Aa.status="fulfilled");var a=Vi;Vi=null,Ea=0,Aa=null;for(var l=0;l<a.length;l++)(0,a[l])()}}function s5(a,l){var u=[],m={status:"pending",value:null,reason:null,then:function(v){u.push(v)}};return a.then(function(){m.status="fulfilled",m.value=l;for(var v=0;v<u.length;v++)(0,u[v])(l)},function(v){for(m.status="rejected",m.reason=v,v=0;v<u.length;v++)(0,u[v])(void 0)}),m}var Bx=O.S;O.S=function(a,l){Nb=_t(),typeof l=="object"&&l!==null&&typeof l.then=="function"&&r5(a,l),Bx!==null&&Bx(a,l)};var Do=R(null);function Wf(){var a=Do.current;return a!==null?a:nt.pooledCache}function Ic(a,l){l===null?X(Do,Do.current):X(Do,l.pool)}function zx(){var a=Wf();return a===null?null:{parent:wt._currentValue,pool:a}}var ja=Error(r(460)),Xf=Error(r(474)),Dc=Error(r(542)),_c={then:function(){}};function Ux(a){return a=a.status,a==="fulfilled"||a==="rejected"}function Hx(a,l,u){switch(u=a[u],u===void 0?a.push(l):u!==l&&(l.then(lr,lr),l=u),l.status){case"fulfilled":return l.value;case"rejected":throw a=l.reason,qx(a),a;default:if(typeof l.status=="string")l.then(lr,lr);else{if(a=nt,a!==null&&100<a.shellSuspendCounter)throw Error(r(482));a=l,a.status="pending",a.then(function(m){if(l.status==="pending"){var v=l;v.status="fulfilled",v.value=m}},function(m){if(l.status==="pending"){var v=l;v.status="rejected",v.reason=m}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw a=l.reason,qx(a),a}throw Po=l,ja}}function _o(a){try{var l=a._init;return l(a._payload)}catch(u){throw u!==null&&typeof u=="object"&&typeof u.then=="function"?(Po=u,ja):u}}var Po=null;function Vx(){if(Po===null)throw Error(r(459));var a=Po;return Po=null,a}function qx(a){if(a===ja||a===Dc)throw Error(r(483))}var Ma=null,qi=0;function Pc(a){var l=qi;return qi+=1,Ma===null&&(Ma=[]),Hx(Ma,a,l)}function Fi(a,l){l=l.props.ref,a.ref=l!==void 0?l:null}function Lc(a,l){throw l.$$typeof===b?Error(r(525)):(a=Object.prototype.toString.call(l),Error(r(31,a==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":a)))}function Fx(a){function l(U,L){if(a){var q=U.deletions;q===null?(U.deletions=[L],U.flags|=16):q.push(L)}}function u(U,L){if(!a)return null;for(;L!==null;)l(U,L),L=L.sibling;return null}function m(U){for(var L=new Map;U!==null;)U.key!==null?L.set(U.key,U):L.set(U.index,U),U=U.sibling;return L}function v(U,L){return U=_r(U,L),U.index=0,U.sibling=null,U}function C(U,L,q){return U.index=q,a?(q=U.alternate,q!==null?(q=q.index,q<L?(U.flags|=67108866,L):q):(U.flags|=67108866,L)):(U.flags|=1048576,L)}function k(U){return a&&U.alternate===null&&(U.flags|=67108866),U}function A(U,L,q,Z){return L===null||L.tag!==6?(L=zf(q,U.mode,Z),L.return=U,L):(L=v(L,q),L.return=U,L)}function _(U,L,q,Z){var ve=q.type;return ve===S?W(U,L,q.props.children,Z,q.key):L!==null&&(L.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===te&&_o(ve)===L.type)?(L=v(L,q.props),Fi(L,q),L.return=U,L):(L=Ac(q.type,q.key,q.props,null,U.mode,Z),Fi(L,q),L.return=U,L)}function F(U,L,q,Z){return L===null||L.tag!==4||L.stateNode.containerInfo!==q.containerInfo||L.stateNode.implementation!==q.implementation?(L=Uf(q,U.mode,Z),L.return=U,L):(L=v(L,q.children||[]),L.return=U,L)}function W(U,L,q,Z,ve){return L===null||L.tag!==7?(L=jo(q,U.mode,Z,ve),L.return=U,L):(L=v(L,q),L.return=U,L)}function ee(U,L,q){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return L=zf(""+L,U.mode,q),L.return=U,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case N:return q=Ac(L.type,L.key,L.props,null,U.mode,q),Fi(q,L),q.return=U,q;case w:return L=Uf(L,U.mode,q),L.return=U,L;case te:return L=_o(L),ee(U,L,q)}if(Y(L)||re(L))return L=jo(L,U.mode,q,null),L.return=U,L;if(typeof L.then=="function")return ee(U,Pc(L),q);if(L.$$typeof===D)return ee(U,Rc(U,L),q);Lc(U,L)}return null}function G(U,L,q,Z){var ve=L!==null?L.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return ve!==null?null:A(U,L,""+q,Z);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case N:return q.key===ve?_(U,L,q,Z):null;case w:return q.key===ve?F(U,L,q,Z):null;case te:return q=_o(q),G(U,L,q,Z)}if(Y(q)||re(q))return ve!==null?null:W(U,L,q,Z,null);if(typeof q.then=="function")return G(U,L,Pc(q),Z);if(q.$$typeof===D)return G(U,L,Rc(U,q),Z);Lc(U,q)}return null}function $(U,L,q,Z,ve){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return U=U.get(q)||null,A(L,U,""+Z,ve);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case N:return U=U.get(Z.key===null?q:Z.key)||null,_(L,U,Z,ve);case w:return U=U.get(Z.key===null?q:Z.key)||null,F(L,U,Z,ve);case te:return Z=_o(Z),$(U,L,q,Z,ve)}if(Y(Z)||re(Z))return U=U.get(q)||null,W(L,U,Z,ve,null);if(typeof Z.then=="function")return $(U,L,q,Pc(Z),ve);if(Z.$$typeof===D)return $(U,L,q,Rc(L,Z),ve);Lc(L,Z)}return null}function me(U,L,q,Z){for(var ve=null,Fe=null,xe=L,De=L=0,Ve=null;xe!==null&&De<q.length;De++){xe.index>De?(Ve=xe,xe=null):Ve=xe.sibling;var Ge=G(U,xe,q[De],Z);if(Ge===null){xe===null&&(xe=Ve);break}a&&xe&&Ge.alternate===null&&l(U,xe),L=C(Ge,L,De),Fe===null?ve=Ge:Fe.sibling=Ge,Fe=Ge,xe=Ve}if(De===q.length)return u(U,xe),qe&&Pr(U,De),ve;if(xe===null){for(;De<q.length;De++)xe=ee(U,q[De],Z),xe!==null&&(L=C(xe,L,De),Fe===null?ve=xe:Fe.sibling=xe,Fe=xe);return qe&&Pr(U,De),ve}for(xe=m(xe);De<q.length;De++)Ve=$(xe,U,De,q[De],Z),Ve!==null&&(a&&Ve.alternate!==null&&xe.delete(Ve.key===null?De:Ve.key),L=C(Ve,L,De),Fe===null?ve=Ve:Fe.sibling=Ve,Fe=Ve);return a&&xe.forEach(function(Js){return l(U,Js)}),qe&&Pr(U,De),ve}function Se(U,L,q,Z){if(q==null)throw Error(r(151));for(var ve=null,Fe=null,xe=L,De=L=0,Ve=null,Ge=q.next();xe!==null&&!Ge.done;De++,Ge=q.next()){xe.index>De?(Ve=xe,xe=null):Ve=xe.sibling;var Js=G(U,xe,Ge.value,Z);if(Js===null){xe===null&&(xe=Ve);break}a&&xe&&Js.alternate===null&&l(U,xe),L=C(Js,L,De),Fe===null?ve=Js:Fe.sibling=Js,Fe=Js,xe=Ve}if(Ge.done)return u(U,xe),qe&&Pr(U,De),ve;if(xe===null){for(;!Ge.done;De++,Ge=q.next())Ge=ee(U,Ge.value,Z),Ge!==null&&(L=C(Ge,L,De),Fe===null?ve=Ge:Fe.sibling=Ge,Fe=Ge);return qe&&Pr(U,De),ve}for(xe=m(xe);!Ge.done;De++,Ge=q.next())Ge=$(xe,U,De,Ge.value,Z),Ge!==null&&(a&&Ge.alternate!==null&&xe.delete(Ge.key===null?De:Ge.key),L=C(Ge,L,De),Fe===null?ve=Ge:Fe.sibling=Ge,Fe=Ge);return a&&xe.forEach(function(pT){return l(U,pT)}),qe&&Pr(U,De),ve}function tt(U,L,q,Z){if(typeof q=="object"&&q!==null&&q.type===S&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case N:e:{for(var ve=q.key;L!==null;){if(L.key===ve){if(ve=q.type,ve===S){if(L.tag===7){u(U,L.sibling),Z=v(L,q.props.children),Z.return=U,U=Z;break e}}else if(L.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===te&&_o(ve)===L.type){u(U,L.sibling),Z=v(L,q.props),Fi(Z,q),Z.return=U,U=Z;break e}u(U,L);break}else l(U,L);L=L.sibling}q.type===S?(Z=jo(q.props.children,U.mode,Z,q.key),Z.return=U,U=Z):(Z=Ac(q.type,q.key,q.props,null,U.mode,Z),Fi(Z,q),Z.return=U,U=Z)}return k(U);case w:e:{for(ve=q.key;L!==null;){if(L.key===ve)if(L.tag===4&&L.stateNode.containerInfo===q.containerInfo&&L.stateNode.implementation===q.implementation){u(U,L.sibling),Z=v(L,q.children||[]),Z.return=U,U=Z;break e}else{u(U,L);break}else l(U,L);L=L.sibling}Z=Uf(q,U.mode,Z),Z.return=U,U=Z}return k(U);case te:return q=_o(q),tt(U,L,q,Z)}if(Y(q))return me(U,L,q,Z);if(re(q)){if(ve=re(q),typeof ve!="function")throw Error(r(150));return q=ve.call(q),Se(U,L,q,Z)}if(typeof q.then=="function")return tt(U,L,Pc(q),Z);if(q.$$typeof===D)return tt(U,L,Rc(U,q),Z);Lc(U,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,L!==null&&L.tag===6?(u(U,L.sibling),Z=v(L,q),Z.return=U,U=Z):(u(U,L),Z=zf(q,U.mode,Z),Z.return=U,U=Z),k(U)):u(U,L)}return function(U,L,q,Z){try{qi=0;var ve=tt(U,L,q,Z);return Ma=null,ve}catch(xe){if(xe===ja||xe===Dc)throw xe;var Fe=Mn(29,xe,null,U.mode);return Fe.lanes=Z,Fe.return=U,Fe}finally{}}}var Lo=Fx(!0),Gx=Fx(!1),Ms=!1;function Qf(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Zf(a,l){a=a.updateQueue,l.updateQueue===a&&(l.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function Rs(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function Is(a,l,u){var m=a.updateQueue;if(m===null)return null;if(m=m.shared,(Je&2)!==0){var v=m.pending;return v===null?l.next=l:(l.next=v.next,v.next=l),m.pending=l,l=Ec(a),Ax(a,null,u),l}return kc(a,m,l,u),Ec(a)}function Gi(a,l,u){if(l=l.updateQueue,l!==null&&(l=l.shared,(u&4194048)!==0)){var m=l.lanes;m&=a.pendingLanes,u|=m,l.lanes=u,vi(a,u)}}function eh(a,l){var u=a.updateQueue,m=a.alternate;if(m!==null&&(m=m.updateQueue,u===m)){var v=null,C=null;if(u=u.firstBaseUpdate,u!==null){do{var k={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};C===null?v=C=k:C=C.next=k,u=u.next}while(u!==null);C===null?v=C=l:C=C.next=l}else v=C=l;u={baseState:m.baseState,firstBaseUpdate:v,lastBaseUpdate:C,shared:m.shared,callbacks:m.callbacks},a.updateQueue=u;return}a=u.lastBaseUpdate,a===null?u.firstBaseUpdate=l:a.next=l,u.lastBaseUpdate=l}var th=!1;function $i(){if(th){var a=Aa;if(a!==null)throw a}}function Ji(a,l,u,m){th=!1;var v=a.updateQueue;Ms=!1;var C=v.firstBaseUpdate,k=v.lastBaseUpdate,A=v.shared.pending;if(A!==null){v.shared.pending=null;var _=A,F=_.next;_.next=null,k===null?C=F:k.next=F,k=_;var W=a.alternate;W!==null&&(W=W.updateQueue,A=W.lastBaseUpdate,A!==k&&(A===null?W.firstBaseUpdate=F:A.next=F,W.lastBaseUpdate=_))}if(C!==null){var ee=v.baseState;k=0,W=F=_=null,A=C;do{var G=A.lane&-536870913,$=G!==A.lane;if($?(He&G)===G:(m&G)===G){G!==0&&G===Ea&&(th=!0),W!==null&&(W=W.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var me=a,Se=A;G=l;var tt=u;switch(Se.tag){case 1:if(me=Se.payload,typeof me=="function"){ee=me.call(tt,ee,G);break e}ee=me;break e;case 3:me.flags=me.flags&-65537|128;case 0:if(me=Se.payload,G=typeof me=="function"?me.call(tt,ee,G):me,G==null)break e;ee=g({},ee,G);break e;case 2:Ms=!0}}G=A.callback,G!==null&&(a.flags|=64,$&&(a.flags|=8192),$=v.callbacks,$===null?v.callbacks=[G]:$.push(G))}else $={lane:G,tag:A.tag,payload:A.payload,callback:A.callback,next:null},W===null?(F=W=$,_=ee):W=W.next=$,k|=G;if(A=A.next,A===null){if(A=v.shared.pending,A===null)break;$=A,A=$.next,$.next=null,v.lastBaseUpdate=$,v.shared.pending=null}}while(!0);W===null&&(_=ee),v.baseState=_,v.firstBaseUpdate=F,v.lastBaseUpdate=W,C===null&&(v.shared.lanes=0),Os|=k,a.lanes=k,a.memoizedState=ee}}function $x(a,l){if(typeof a!="function")throw Error(r(191,a));a.call(l)}function Jx(a,l){var u=a.callbacks;if(u!==null)for(a.callbacks=null,a=0;a<u.length;a++)$x(u[a],l)}var Ra=R(null),Oc=R(0);function Kx(a,l){a=$r,X(Oc,a),X(Ra,l),$r=a|l.baseLanes}function nh(){X(Oc,$r),X(Ra,Ra.current)}function rh(){$r=Oc.current,B(Ra),B(Oc)}var Rn=R(null),Gn=null;function Ds(a){var l=a.alternate;X(vt,vt.current&1),X(Rn,a),Gn===null&&(l===null||Ra.current!==null||l.memoizedState!==null)&&(Gn=a)}function sh(a){X(vt,vt.current),X(Rn,a),Gn===null&&(Gn=a)}function Yx(a){a.tag===22?(X(vt,vt.current),X(Rn,a),Gn===null&&(Gn=a)):_s()}function _s(){X(vt,vt.current),X(Rn,Rn.current)}function In(a){B(Rn),Gn===a&&(Gn=null),B(vt)}var vt=R(0);function Bc(a){for(var l=a;l!==null;){if(l.tag===13){var u=l.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||dm(u)||um(u)))return l}else if(l.tag===19&&(l.memoizedProps.revealOrder==="forwards"||l.memoizedProps.revealOrder==="backwards"||l.memoizedProps.revealOrder==="unstable_legacy-backwards"||l.memoizedProps.revealOrder==="together")){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var Br=0,Re=null,Ze=null,St=null,zc=!1,Ia=!1,Oo=!1,Uc=0,Ki=0,Da=null,o5=0;function pt(){throw Error(r(321))}function oh(a,l){if(l===null)return!1;for(var u=0;u<l.length&&u<a.length;u++)if(!jn(a[u],l[u]))return!1;return!0}function ah(a,l,u,m,v,C){return Br=C,Re=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,O.H=a===null||a.memoizedState===null?I0:Nh,Oo=!1,C=u(m,v),Oo=!1,Ia&&(C=Xx(l,u,m,v)),Wx(a),C}function Wx(a){O.H=Xi;var l=Ze!==null&&Ze.next!==null;if(Br=0,St=Ze=Re=null,zc=!1,Ki=0,Da=null,l)throw Error(r(300));a===null||Tt||(a=a.dependencies,a!==null&&Mc(a)&&(Tt=!0))}function Xx(a,l,u,m){Re=a;var v=0;do{if(Ia&&(Da=null),Ki=0,Ia=!1,25<=v)throw Error(r(301));if(v+=1,St=Ze=null,a.updateQueue!=null){var C=a.updateQueue;C.lastEffect=null,C.events=null,C.stores=null,C.memoCache!=null&&(C.memoCache.index=0)}O.H=D0,C=l(u,m)}while(Ia);return C}function a5(){var a=O.H,l=a.useState()[0];return l=typeof l.then=="function"?Yi(l):l,a=a.useState()[0],(Ze!==null?Ze.memoizedState:null)!==a&&(Re.flags|=1024),l}function ih(){var a=Uc!==0;return Uc=0,a}function lh(a,l,u){l.updateQueue=a.updateQueue,l.flags&=-2053,a.lanes&=~u}function ch(a){if(zc){for(a=a.memoizedState;a!==null;){var l=a.queue;l!==null&&(l.pending=null),a=a.next}zc=!1}Br=0,St=Ze=Re=null,Ia=!1,Ki=Uc=0,Da=null}function cn(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return St===null?Re.memoizedState=St=a:St=St.next=a,St}function Nt(){if(Ze===null){var a=Re.alternate;a=a!==null?a.memoizedState:null}else a=Ze.next;var l=St===null?Re.memoizedState:St.next;if(l!==null)St=l,Ze=a;else{if(a===null)throw Re.alternate===null?Error(r(467)):Error(r(310));Ze=a,a={memoizedState:Ze.memoizedState,baseState:Ze.baseState,baseQueue:Ze.baseQueue,queue:Ze.queue,next:null},St===null?Re.memoizedState=St=a:St=St.next=a}return St}function Hc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Yi(a){var l=Ki;return Ki+=1,Da===null&&(Da=[]),a=Hx(Da,a,l),l=Re,(St===null?l.memoizedState:St.next)===null&&(l=l.alternate,O.H=l===null||l.memoizedState===null?I0:Nh),a}function Vc(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return Yi(a);if(a.$$typeof===D)return Vt(a)}throw Error(r(438,String(a)))}function dh(a){var l=null,u=Re.updateQueue;if(u!==null&&(l=u.memoCache),l==null){var m=Re.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(l={data:m.data.map(function(v){return v.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),u===null&&(u=Hc(),Re.updateQueue=u),u.memoCache=l,u=l.data[l.index],u===void 0)for(u=l.data[l.index]=Array(a),m=0;m<a;m++)u[m]=ce;return l.index++,u}function zr(a,l){return typeof l=="function"?l(a):l}function qc(a){var l=Nt();return uh(l,Ze,a)}function uh(a,l,u){var m=a.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=u;var v=a.baseQueue,C=m.pending;if(C!==null){if(v!==null){var k=v.next;v.next=C.next,C.next=k}l.baseQueue=v=C,m.pending=null}if(C=a.baseState,v===null)a.memoizedState=C;else{l=v.next;var A=k=null,_=null,F=l,W=!1;do{var ee=F.lane&-536870913;if(ee!==F.lane?(He&ee)===ee:(Br&ee)===ee){var G=F.revertLane;if(G===0)_!==null&&(_=_.next={lane:0,revertLane:0,gesture:null,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),ee===Ea&&(W=!0);else if((Br&G)===G){F=F.next,G===Ea&&(W=!0);continue}else ee={lane:0,revertLane:F.revertLane,gesture:null,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},_===null?(A=_=ee,k=C):_=_.next=ee,Re.lanes|=G,Os|=G;ee=F.action,Oo&&u(C,ee),C=F.hasEagerState?F.eagerState:u(C,ee)}else G={lane:ee,revertLane:F.revertLane,gesture:F.gesture,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},_===null?(A=_=G,k=C):_=_.next=G,Re.lanes|=ee,Os|=ee;F=F.next}while(F!==null&&F!==l);if(_===null?k=C:_.next=A,!jn(C,a.memoizedState)&&(Tt=!0,W&&(u=Aa,u!==null)))throw u;a.memoizedState=C,a.baseState=k,a.baseQueue=_,m.lastRenderedState=C}return v===null&&(m.lanes=0),[a.memoizedState,m.dispatch]}function fh(a){var l=Nt(),u=l.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=a;var m=u.dispatch,v=u.pending,C=l.memoizedState;if(v!==null){u.pending=null;var k=v=v.next;do C=a(C,k.action),k=k.next;while(k!==v);jn(C,l.memoizedState)||(Tt=!0),l.memoizedState=C,l.baseQueue===null&&(l.baseState=C),u.lastRenderedState=C}return[C,m]}function Qx(a,l,u){var m=Re,v=Nt(),C=qe;if(C){if(u===void 0)throw Error(r(407));u=u()}else u=l();var k=!jn((Ze||v).memoizedState,u);if(k&&(v.memoizedState=u,Tt=!0),v=v.queue,ph(t0.bind(null,m,v,a),[a]),v.getSnapshot!==l||k||St!==null&&St.memoizedState.tag&1){if(m.flags|=2048,_a(9,{destroy:void 0},e0.bind(null,m,v,u,l),null),nt===null)throw Error(r(349));C||(Br&127)!==0||Zx(m,l,u)}return u}function Zx(a,l,u){a.flags|=16384,a={getSnapshot:l,value:u},l=Re.updateQueue,l===null?(l=Hc(),Re.updateQueue=l,l.stores=[a]):(u=l.stores,u===null?l.stores=[a]:u.push(a))}function e0(a,l,u,m){l.value=u,l.getSnapshot=m,n0(l)&&r0(a)}function t0(a,l,u){return u(function(){n0(l)&&r0(a)})}function n0(a){var l=a.getSnapshot;a=a.value;try{var u=l();return!jn(a,u)}catch{return!0}}function r0(a){var l=Ao(a,2);l!==null&&wn(l,a,2)}function hh(a){var l=cn();if(typeof a=="function"){var u=a;if(a=u(),Oo){ar(!0);try{u()}finally{ar(!1)}}}return l.memoizedState=l.baseState=a,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zr,lastRenderedState:a},l}function s0(a,l,u,m){return a.baseState=u,uh(a,Ze,typeof m=="function"?m:zr)}function i5(a,l,u,m,v){if($c(a))throw Error(r(485));if(a=l.action,a!==null){var C={payload:v,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(k){C.listeners.push(k)}};O.T!==null?u(!0):C.isTransition=!1,m(C),u=l.pending,u===null?(C.next=l.pending=C,o0(l,C)):(C.next=u.next,l.pending=u.next=C)}}function o0(a,l){var u=l.action,m=l.payload,v=a.state;if(l.isTransition){var C=O.T,k={};O.T=k;try{var A=u(v,m),_=O.S;_!==null&&_(k,A),a0(a,l,A)}catch(F){mh(a,l,F)}finally{C!==null&&k.types!==null&&(C.types=k.types),O.T=C}}else try{C=u(v,m),a0(a,l,C)}catch(F){mh(a,l,F)}}function a0(a,l,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(m){i0(a,l,m)},function(m){return mh(a,l,m)}):i0(a,l,u)}function i0(a,l,u){l.status="fulfilled",l.value=u,l0(l),a.state=u,l=a.pending,l!==null&&(u=l.next,u===l?a.pending=null:(u=u.next,l.next=u,o0(a,u)))}function mh(a,l,u){var m=a.pending;if(a.pending=null,m!==null){m=m.next;do l.status="rejected",l.reason=u,l0(l),l=l.next;while(l!==m)}a.action=null}function l0(a){a=a.listeners;for(var l=0;l<a.length;l++)(0,a[l])()}function c0(a,l){return l}function d0(a,l){if(qe){var u=nt.formState;if(u!==null){e:{var m=Re;if(qe){if(at){t:{for(var v=at,C=Fn;v.nodeType!==8;){if(!C){v=null;break t}if(v=$n(v.nextSibling),v===null){v=null;break t}}C=v.data,v=C==="F!"||C==="F"?v:null}if(v){at=$n(v.nextSibling),m=v.data==="F!";break e}}As(m)}m=!1}m&&(l=u[0])}}return u=cn(),u.memoizedState=u.baseState=l,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:c0,lastRenderedState:l},u.queue=m,u=j0.bind(null,Re,m),m.dispatch=u,m=hh(!1),C=vh.bind(null,Re,!1,m.queue),m=cn(),v={state:l,dispatch:null,action:a,pending:null},m.queue=v,u=i5.bind(null,Re,v,C,u),v.dispatch=u,m.memoizedState=a,[l,u,!1]}function u0(a){var l=Nt();return f0(l,Ze,a)}function f0(a,l,u){if(l=uh(a,l,c0)[0],a=qc(zr)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var m=Yi(l)}catch(k){throw k===ja?Dc:k}else m=l;l=Nt();var v=l.queue,C=v.dispatch;return u!==l.memoizedState&&(Re.flags|=2048,_a(9,{destroy:void 0},l5.bind(null,v,u),null)),[m,C,a]}function l5(a,l){a.action=l}function h0(a){var l=Nt(),u=Ze;if(u!==null)return f0(l,u,a);Nt(),l=l.memoizedState,u=Nt();var m=u.queue.dispatch;return u.memoizedState=a,[l,m,!1]}function _a(a,l,u,m){return a={tag:a,create:u,deps:m,inst:l,next:null},l=Re.updateQueue,l===null&&(l=Hc(),Re.updateQueue=l),u=l.lastEffect,u===null?l.lastEffect=a.next=a:(m=u.next,u.next=a,a.next=m,l.lastEffect=a),a}function m0(){return Nt().memoizedState}function Fc(a,l,u,m){var v=cn();Re.flags|=a,v.memoizedState=_a(1|l,{destroy:void 0},u,m===void 0?null:m)}function Gc(a,l,u,m){var v=Nt();m=m===void 0?null:m;var C=v.memoizedState.inst;Ze!==null&&m!==null&&oh(m,Ze.memoizedState.deps)?v.memoizedState=_a(l,C,u,m):(Re.flags|=a,v.memoizedState=_a(1|l,C,u,m))}function p0(a,l){Fc(8390656,8,a,l)}function ph(a,l){Gc(2048,8,a,l)}function c5(a){Re.flags|=4;var l=Re.updateQueue;if(l===null)l=Hc(),Re.updateQueue=l,l.events=[a];else{var u=l.events;u===null?l.events=[a]:u.push(a)}}function g0(a){var l=Nt().memoizedState;return c5({ref:l,nextImpl:a}),function(){if((Je&2)!==0)throw Error(r(440));return l.impl.apply(void 0,arguments)}}function x0(a,l){return Gc(4,2,a,l)}function b0(a,l){return Gc(4,4,a,l)}function y0(a,l){if(typeof l=="function"){a=a();var u=l(a);return function(){typeof u=="function"?u():l(null)}}if(l!=null)return a=a(),l.current=a,function(){l.current=null}}function v0(a,l,u){u=u!=null?u.concat([a]):null,Gc(4,4,y0.bind(null,l,a),u)}function gh(){}function N0(a,l){var u=Nt();l=l===void 0?null:l;var m=u.memoizedState;return l!==null&&oh(l,m[1])?m[0]:(u.memoizedState=[a,l],a)}function C0(a,l){var u=Nt();l=l===void 0?null:l;var m=u.memoizedState;if(l!==null&&oh(l,m[1]))return m[0];if(m=a(),Oo){ar(!0);try{a()}finally{ar(!1)}}return u.memoizedState=[m,l],m}function xh(a,l,u){return u===void 0||(Br&1073741824)!==0&&(He&261930)===0?a.memoizedState=l:(a.memoizedState=u,a=wb(),Re.lanes|=a,Os|=a,u)}function w0(a,l,u,m){return jn(u,l)?u:Ra.current!==null?(a=xh(a,u,m),jn(a,l)||(Tt=!0),a):(Br&42)===0||(Br&1073741824)!==0&&(He&261930)===0?(Tt=!0,a.memoizedState=u):(a=wb(),Re.lanes|=a,Os|=a,l)}function S0(a,l,u,m,v){var C=J.p;J.p=C!==0&&8>C?C:8;var k=O.T,A={};O.T=A,vh(a,!1,l,u);try{var _=v(),F=O.S;if(F!==null&&F(A,_),_!==null&&typeof _=="object"&&typeof _.then=="function"){var W=s5(_,m);Wi(a,l,W,Pn(a))}else Wi(a,l,m,Pn(a))}catch(ee){Wi(a,l,{then:function(){},status:"rejected",reason:ee},Pn())}finally{J.p=C,k!==null&&A.types!==null&&(k.types=A.types),O.T=k}}function d5(){}function bh(a,l,u,m){if(a.tag!==5)throw Error(r(476));var v=T0(a).queue;S0(a,v,l,pe,u===null?d5:function(){return k0(a),u(m)})}function T0(a){var l=a.memoizedState;if(l!==null)return l;l={memoizedState:pe,baseState:pe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zr,lastRenderedState:pe},next:null};var u={};return l.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zr,lastRenderedState:u},next:null},a.memoizedState=l,a=a.alternate,a!==null&&(a.memoizedState=l),l}function k0(a){var l=T0(a);l.next===null&&(l=a.alternate.memoizedState),Wi(a,l.next.queue,{},Pn())}function yh(){return Vt(hl)}function E0(){return Nt().memoizedState}function A0(){return Nt().memoizedState}function u5(a){for(var l=a.return;l!==null;){switch(l.tag){case 24:case 3:var u=Pn();a=Rs(u);var m=Is(l,a,u);m!==null&&(wn(m,l,u),Gi(m,l,u)),l={cache:Kf()},a.payload=l;return}l=l.return}}function f5(a,l,u){var m=Pn();u={lane:m,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},$c(a)?M0(l,u):(u=Of(a,l,u,m),u!==null&&(wn(u,a,m),R0(u,l,m)))}function j0(a,l,u){var m=Pn();Wi(a,l,u,m)}function Wi(a,l,u,m){var v={lane:m,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null};if($c(a))M0(l,v);else{var C=a.alternate;if(a.lanes===0&&(C===null||C.lanes===0)&&(C=l.lastRenderedReducer,C!==null))try{var k=l.lastRenderedState,A=C(k,u);if(v.hasEagerState=!0,v.eagerState=A,jn(A,k))return kc(a,l,v,0),nt===null&&Tc(),!1}catch{}finally{}if(u=Of(a,l,v,m),u!==null)return wn(u,a,m),R0(u,l,m),!0}return!1}function vh(a,l,u,m){if(m={lane:2,revertLane:Qh(),gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null},$c(a)){if(l)throw Error(r(479))}else l=Of(a,u,m,2),l!==null&&wn(l,a,2)}function $c(a){var l=a.alternate;return a===Re||l!==null&&l===Re}function M0(a,l){Ia=zc=!0;var u=a.pending;u===null?l.next=l:(l.next=u.next,u.next=l),a.pending=l}function R0(a,l,u){if((u&4194048)!==0){var m=l.lanes;m&=a.pendingLanes,u|=m,l.lanes=u,vi(a,u)}}var Xi={readContext:Vt,use:Vc,useCallback:pt,useContext:pt,useEffect:pt,useImperativeHandle:pt,useLayoutEffect:pt,useInsertionEffect:pt,useMemo:pt,useReducer:pt,useRef:pt,useState:pt,useDebugValue:pt,useDeferredValue:pt,useTransition:pt,useSyncExternalStore:pt,useId:pt,useHostTransitionStatus:pt,useFormState:pt,useActionState:pt,useOptimistic:pt,useMemoCache:pt,useCacheRefresh:pt};Xi.useEffectEvent=pt;var I0={readContext:Vt,use:Vc,useCallback:function(a,l){return cn().memoizedState=[a,l===void 0?null:l],a},useContext:Vt,useEffect:p0,useImperativeHandle:function(a,l,u){u=u!=null?u.concat([a]):null,Fc(4194308,4,y0.bind(null,l,a),u)},useLayoutEffect:function(a,l){return Fc(4194308,4,a,l)},useInsertionEffect:function(a,l){Fc(4,2,a,l)},useMemo:function(a,l){var u=cn();l=l===void 0?null:l;var m=a();if(Oo){ar(!0);try{a()}finally{ar(!1)}}return u.memoizedState=[m,l],m},useReducer:function(a,l,u){var m=cn();if(u!==void 0){var v=u(l);if(Oo){ar(!0);try{u(l)}finally{ar(!1)}}}else v=l;return m.memoizedState=m.baseState=v,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:v},m.queue=a,a=a.dispatch=f5.bind(null,Re,a),[m.memoizedState,a]},useRef:function(a){var l=cn();return a={current:a},l.memoizedState=a},useState:function(a){a=hh(a);var l=a.queue,u=j0.bind(null,Re,l);return l.dispatch=u,[a.memoizedState,u]},useDebugValue:gh,useDeferredValue:function(a,l){var u=cn();return xh(u,a,l)},useTransition:function(){var a=hh(!1);return a=S0.bind(null,Re,a.queue,!0,!1),cn().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,l,u){var m=Re,v=cn();if(qe){if(u===void 0)throw Error(r(407));u=u()}else{if(u=l(),nt===null)throw Error(r(349));(He&127)!==0||Zx(m,l,u)}v.memoizedState=u;var C={value:u,getSnapshot:l};return v.queue=C,p0(t0.bind(null,m,C,a),[a]),m.flags|=2048,_a(9,{destroy:void 0},e0.bind(null,m,C,u,l),null),u},useId:function(){var a=cn(),l=nt.identifierPrefix;if(qe){var u=vr,m=yr;u=(m&~(1<<32-on(m)-1)).toString(32)+u,l="_"+l+"R_"+u,u=Uc++,0<u&&(l+="H"+u.toString(32)),l+="_"}else u=o5++,l="_"+l+"r_"+u.toString(32)+"_";return a.memoizedState=l},useHostTransitionStatus:yh,useFormState:d0,useActionState:d0,useOptimistic:function(a){var l=cn();l.memoizedState=l.baseState=a;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=u,l=vh.bind(null,Re,!0,u),u.dispatch=l,[a,l]},useMemoCache:dh,useCacheRefresh:function(){return cn().memoizedState=u5.bind(null,Re)},useEffectEvent:function(a){var l=cn(),u={impl:a};return l.memoizedState=u,function(){if((Je&2)!==0)throw Error(r(440));return u.impl.apply(void 0,arguments)}}},Nh={readContext:Vt,use:Vc,useCallback:N0,useContext:Vt,useEffect:ph,useImperativeHandle:v0,useInsertionEffect:x0,useLayoutEffect:b0,useMemo:C0,useReducer:qc,useRef:m0,useState:function(){return qc(zr)},useDebugValue:gh,useDeferredValue:function(a,l){var u=Nt();return w0(u,Ze.memoizedState,a,l)},useTransition:function(){var a=qc(zr)[0],l=Nt().memoizedState;return[typeof a=="boolean"?a:Yi(a),l]},useSyncExternalStore:Qx,useId:E0,useHostTransitionStatus:yh,useFormState:u0,useActionState:u0,useOptimistic:function(a,l){var u=Nt();return s0(u,Ze,a,l)},useMemoCache:dh,useCacheRefresh:A0};Nh.useEffectEvent=g0;var D0={readContext:Vt,use:Vc,useCallback:N0,useContext:Vt,useEffect:ph,useImperativeHandle:v0,useInsertionEffect:x0,useLayoutEffect:b0,useMemo:C0,useReducer:fh,useRef:m0,useState:function(){return fh(zr)},useDebugValue:gh,useDeferredValue:function(a,l){var u=Nt();return Ze===null?xh(u,a,l):w0(u,Ze.memoizedState,a,l)},useTransition:function(){var a=fh(zr)[0],l=Nt().memoizedState;return[typeof a=="boolean"?a:Yi(a),l]},useSyncExternalStore:Qx,useId:E0,useHostTransitionStatus:yh,useFormState:h0,useActionState:h0,useOptimistic:function(a,l){var u=Nt();return Ze!==null?s0(u,Ze,a,l):(u.baseState=a,[a,u.queue.dispatch])},useMemoCache:dh,useCacheRefresh:A0};D0.useEffectEvent=g0;function Ch(a,l,u,m){l=a.memoizedState,u=u(m,l),u=u==null?l:g({},l,u),a.memoizedState=u,a.lanes===0&&(a.updateQueue.baseState=u)}var wh={enqueueSetState:function(a,l,u){a=a._reactInternals;var m=Pn(),v=Rs(m);v.payload=l,u!=null&&(v.callback=u),l=Is(a,v,m),l!==null&&(wn(l,a,m),Gi(l,a,m))},enqueueReplaceState:function(a,l,u){a=a._reactInternals;var m=Pn(),v=Rs(m);v.tag=1,v.payload=l,u!=null&&(v.callback=u),l=Is(a,v,m),l!==null&&(wn(l,a,m),Gi(l,a,m))},enqueueForceUpdate:function(a,l){a=a._reactInternals;var u=Pn(),m=Rs(u);m.tag=2,l!=null&&(m.callback=l),l=Is(a,m,u),l!==null&&(wn(l,a,u),Gi(l,a,u))}};function _0(a,l,u,m,v,C,k){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(m,C,k):l.prototype&&l.prototype.isPureReactComponent?!Oi(u,m)||!Oi(v,C):!0}function P0(a,l,u,m){a=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(u,m),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(u,m),l.state!==a&&wh.enqueueReplaceState(l,l.state,null)}function Bo(a,l){var u=l;if("ref"in l){u={};for(var m in l)m!=="ref"&&(u[m]=l[m])}if(a=a.defaultProps){u===l&&(u=g({},u));for(var v in a)u[v]===void 0&&(u[v]=a[v])}return u}function L0(a){Sc(a)}function O0(a){console.error(a)}function B0(a){Sc(a)}function Jc(a,l){try{var u=a.onUncaughtError;u(l.value,{componentStack:l.stack})}catch(m){setTimeout(function(){throw m})}}function z0(a,l,u){try{var m=a.onCaughtError;m(u.value,{componentStack:u.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function Sh(a,l,u){return u=Rs(u),u.tag=3,u.payload={element:null},u.callback=function(){Jc(a,l)},u}function U0(a){return a=Rs(a),a.tag=3,a}function H0(a,l,u,m){var v=u.type.getDerivedStateFromError;if(typeof v=="function"){var C=m.value;a.payload=function(){return v(C)},a.callback=function(){z0(l,u,m)}}var k=u.stateNode;k!==null&&typeof k.componentDidCatch=="function"&&(a.callback=function(){z0(l,u,m),typeof v!="function"&&(Bs===null?Bs=new Set([this]):Bs.add(this));var A=m.stack;this.componentDidCatch(m.value,{componentStack:A!==null?A:""})})}function h5(a,l,u,m,v){if(u.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(l=u.alternate,l!==null&&ka(l,u,v,!0),u=Rn.current,u!==null){switch(u.tag){case 31:case 13:return Gn===null?od():u.alternate===null&&gt===0&&(gt=3),u.flags&=-257,u.flags|=65536,u.lanes=v,m===_c?u.flags|=16384:(l=u.updateQueue,l===null?u.updateQueue=new Set([m]):l.add(m),Yh(a,m,v)),!1;case 22:return u.flags|=65536,m===_c?u.flags|=16384:(l=u.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([m])},u.updateQueue=l):(u=l.retryQueue,u===null?l.retryQueue=new Set([m]):u.add(m)),Yh(a,m,v)),!1}throw Error(r(435,u.tag))}return Yh(a,m,v),od(),!1}if(qe)return l=Rn.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=v,m!==qf&&(a=Error(r(422),{cause:m}),Ui(Hn(a,u)))):(m!==qf&&(l=Error(r(423),{cause:m}),Ui(Hn(l,u))),a=a.current.alternate,a.flags|=65536,v&=-v,a.lanes|=v,m=Hn(m,u),v=Sh(a.stateNode,m,v),eh(a,v),gt!==4&&(gt=2)),!1;var C=Error(r(520),{cause:m});if(C=Hn(C,u),ol===null?ol=[C]:ol.push(C),gt!==4&&(gt=2),l===null)return!0;m=Hn(m,u),u=l;do{switch(u.tag){case 3:return u.flags|=65536,a=v&-v,u.lanes|=a,a=Sh(u.stateNode,m,a),eh(u,a),!1;case 1:if(l=u.type,C=u.stateNode,(u.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(Bs===null||!Bs.has(C))))return u.flags|=65536,v&=-v,u.lanes|=v,v=U0(v),H0(v,a,u,m),eh(u,v),!1}u=u.return}while(u!==null);return!1}var Th=Error(r(461)),Tt=!1;function qt(a,l,u,m){l.child=a===null?Gx(l,null,u,m):Lo(l,a.child,u,m)}function V0(a,l,u,m,v){u=u.render;var C=l.ref;if("ref"in m){var k={};for(var A in m)A!=="ref"&&(k[A]=m[A])}else k=m;return Io(l),m=ah(a,l,u,k,C,v),A=ih(),a!==null&&!Tt?(lh(a,l,v),Ur(a,l,v)):(qe&&A&&Hf(l),l.flags|=1,qt(a,l,m,v),l.child)}function q0(a,l,u,m,v){if(a===null){var C=u.type;return typeof C=="function"&&!Bf(C)&&C.defaultProps===void 0&&u.compare===null?(l.tag=15,l.type=C,F0(a,l,C,m,v)):(a=Ac(u.type,null,m,l,l.mode,v),a.ref=l.ref,a.return=l,l.child=a)}if(C=a.child,!Dh(a,v)){var k=C.memoizedProps;if(u=u.compare,u=u!==null?u:Oi,u(k,m)&&a.ref===l.ref)return Ur(a,l,v)}return l.flags|=1,a=_r(C,m),a.ref=l.ref,a.return=l,l.child=a}function F0(a,l,u,m,v){if(a!==null){var C=a.memoizedProps;if(Oi(C,m)&&a.ref===l.ref)if(Tt=!1,l.pendingProps=m=C,Dh(a,v))(a.flags&131072)!==0&&(Tt=!0);else return l.lanes=a.lanes,Ur(a,l,v)}return kh(a,l,u,m,v)}function G0(a,l,u,m){var v=m.children,C=a!==null?a.memoizedState:null;if(a===null&&l.stateNode===null&&(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),m.mode==="hidden"){if((l.flags&128)!==0){if(C=C!==null?C.baseLanes|u:u,a!==null){for(m=l.child=a.child,v=0;m!==null;)v=v|m.lanes|m.childLanes,m=m.sibling;m=v&~C}else m=0,l.child=null;return $0(a,l,C,u,m)}if((u&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},a!==null&&Ic(l,C!==null?C.cachePool:null),C!==null?Kx(l,C):nh(),Yx(l);else return m=l.lanes=536870912,$0(a,l,C!==null?C.baseLanes|u:u,u,m)}else C!==null?(Ic(l,C.cachePool),Kx(l,C),_s(),l.memoizedState=null):(a!==null&&Ic(l,null),nh(),_s());return qt(a,l,v,u),l.child}function Qi(a,l){return a!==null&&a.tag===22||l.stateNode!==null||(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.sibling}function $0(a,l,u,m,v){var C=Wf();return C=C===null?null:{parent:wt._currentValue,pool:C},l.memoizedState={baseLanes:u,cachePool:C},a!==null&&Ic(l,null),nh(),Yx(l),a!==null&&ka(a,l,m,!0),l.childLanes=v,null}function Kc(a,l){return l=Wc({mode:l.mode,children:l.children},a.mode),l.ref=a.ref,a.child=l,l.return=a,l}function J0(a,l,u){return Lo(l,a.child,null,u),a=Kc(l,l.pendingProps),a.flags|=2,In(l),l.memoizedState=null,a}function m5(a,l,u){var m=l.pendingProps,v=(l.flags&128)!==0;if(l.flags&=-129,a===null){if(qe){if(m.mode==="hidden")return a=Kc(l,m),l.lanes=536870912,Qi(null,a);if(sh(l),(a=at)?(a=oy(a,Fn),a=a!==null&&a.data==="&"?a:null,a!==null&&(l.memoizedState={dehydrated:a,treeContext:ks!==null?{id:yr,overflow:vr}:null,retryLane:536870912,hydrationErrors:null},u=Mx(a),u.return=l,l.child=u,Ht=l,at=null)):a=null,a===null)throw As(l);return l.lanes=536870912,null}return Kc(l,m)}var C=a.memoizedState;if(C!==null){var k=C.dehydrated;if(sh(l),v)if(l.flags&256)l.flags&=-257,l=J0(a,l,u);else if(l.memoizedState!==null)l.child=a.child,l.flags|=128,l=null;else throw Error(r(558));else if(Tt||ka(a,l,u,!1),v=(u&a.childLanes)!==0,Tt||v){if(m=nt,m!==null&&(k=Ni(m,u),k!==0&&k!==C.retryLane))throw C.retryLane=k,Ao(a,k),wn(m,a,k),Th;od(),l=J0(a,l,u)}else a=C.treeContext,at=$n(k.nextSibling),Ht=l,qe=!0,Es=null,Fn=!1,a!==null&&Dx(l,a),l=Kc(l,m),l.flags|=4096;return l}return a=_r(a.child,{mode:m.mode,children:m.children}),a.ref=l.ref,l.child=a,a.return=l,a}function Yc(a,l){var u=l.ref;if(u===null)a!==null&&a.ref!==null&&(l.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(r(284));(a===null||a.ref!==u)&&(l.flags|=4194816)}}function kh(a,l,u,m,v){return Io(l),u=ah(a,l,u,m,void 0,v),m=ih(),a!==null&&!Tt?(lh(a,l,v),Ur(a,l,v)):(qe&&m&&Hf(l),l.flags|=1,qt(a,l,u,v),l.child)}function K0(a,l,u,m,v,C){return Io(l),l.updateQueue=null,u=Xx(l,m,u,v),Wx(a),m=ih(),a!==null&&!Tt?(lh(a,l,C),Ur(a,l,C)):(qe&&m&&Hf(l),l.flags|=1,qt(a,l,u,C),l.child)}function Y0(a,l,u,m,v){if(Io(l),l.stateNode===null){var C=Ca,k=u.contextType;typeof k=="object"&&k!==null&&(C=Vt(k)),C=new u(m,C),l.memoizedState=C.state!==null&&C.state!==void 0?C.state:null,C.updater=wh,l.stateNode=C,C._reactInternals=l,C=l.stateNode,C.props=m,C.state=l.memoizedState,C.refs={},Qf(l),k=u.contextType,C.context=typeof k=="object"&&k!==null?Vt(k):Ca,C.state=l.memoizedState,k=u.getDerivedStateFromProps,typeof k=="function"&&(Ch(l,u,k,m),C.state=l.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof C.getSnapshotBeforeUpdate=="function"||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(k=C.state,typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount(),k!==C.state&&wh.enqueueReplaceState(C,C.state,null),Ji(l,m,C,v),$i(),C.state=l.memoizedState),typeof C.componentDidMount=="function"&&(l.flags|=4194308),m=!0}else if(a===null){C=l.stateNode;var A=l.memoizedProps,_=Bo(u,A);C.props=_;var F=C.context,W=u.contextType;k=Ca,typeof W=="object"&&W!==null&&(k=Vt(W));var ee=u.getDerivedStateFromProps;W=typeof ee=="function"||typeof C.getSnapshotBeforeUpdate=="function",A=l.pendingProps!==A,W||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(A||F!==k)&&P0(l,C,m,k),Ms=!1;var G=l.memoizedState;C.state=G,Ji(l,m,C,v),$i(),F=l.memoizedState,A||G!==F||Ms?(typeof ee=="function"&&(Ch(l,u,ee,m),F=l.memoizedState),(_=Ms||_0(l,u,_,m,G,F,k))?(W||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount()),typeof C.componentDidMount=="function"&&(l.flags|=4194308)):(typeof C.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=m,l.memoizedState=F),C.props=m,C.state=F,C.context=k,m=_):(typeof C.componentDidMount=="function"&&(l.flags|=4194308),m=!1)}else{C=l.stateNode,Zf(a,l),k=l.memoizedProps,W=Bo(u,k),C.props=W,ee=l.pendingProps,G=C.context,F=u.contextType,_=Ca,typeof F=="object"&&F!==null&&(_=Vt(F)),A=u.getDerivedStateFromProps,(F=typeof A=="function"||typeof C.getSnapshotBeforeUpdate=="function")||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(k!==ee||G!==_)&&P0(l,C,m,_),Ms=!1,G=l.memoizedState,C.state=G,Ji(l,m,C,v),$i();var $=l.memoizedState;k!==ee||G!==$||Ms||a!==null&&a.dependencies!==null&&Mc(a.dependencies)?(typeof A=="function"&&(Ch(l,u,A,m),$=l.memoizedState),(W=Ms||_0(l,u,W,m,G,$,_)||a!==null&&a.dependencies!==null&&Mc(a.dependencies))?(F||typeof C.UNSAFE_componentWillUpdate!="function"&&typeof C.componentWillUpdate!="function"||(typeof C.componentWillUpdate=="function"&&C.componentWillUpdate(m,$,_),typeof C.UNSAFE_componentWillUpdate=="function"&&C.UNSAFE_componentWillUpdate(m,$,_)),typeof C.componentDidUpdate=="function"&&(l.flags|=4),typeof C.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof C.componentDidUpdate!="function"||k===a.memoizedProps&&G===a.memoizedState||(l.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||k===a.memoizedProps&&G===a.memoizedState||(l.flags|=1024),l.memoizedProps=m,l.memoizedState=$),C.props=m,C.state=$,C.context=_,m=W):(typeof C.componentDidUpdate!="function"||k===a.memoizedProps&&G===a.memoizedState||(l.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||k===a.memoizedProps&&G===a.memoizedState||(l.flags|=1024),m=!1)}return C=m,Yc(a,l),m=(l.flags&128)!==0,C||m?(C=l.stateNode,u=m&&typeof u.getDerivedStateFromError!="function"?null:C.render(),l.flags|=1,a!==null&&m?(l.child=Lo(l,a.child,null,v),l.child=Lo(l,null,u,v)):qt(a,l,u,v),l.memoizedState=C.state,a=l.child):a=Ur(a,l,v),a}function W0(a,l,u,m){return Mo(),l.flags|=256,qt(a,l,u,m),l.child}var Eh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ah(a){return{baseLanes:a,cachePool:zx()}}function jh(a,l,u){return a=a!==null?a.childLanes&~u:0,l&&(a|=_n),a}function X0(a,l,u){var m=l.pendingProps,v=!1,C=(l.flags&128)!==0,k;if((k=C)||(k=a!==null&&a.memoizedState===null?!1:(vt.current&2)!==0),k&&(v=!0,l.flags&=-129),k=(l.flags&32)!==0,l.flags&=-33,a===null){if(qe){if(v?Ds(l):_s(),(a=at)?(a=oy(a,Fn),a=a!==null&&a.data!=="&"?a:null,a!==null&&(l.memoizedState={dehydrated:a,treeContext:ks!==null?{id:yr,overflow:vr}:null,retryLane:536870912,hydrationErrors:null},u=Mx(a),u.return=l,l.child=u,Ht=l,at=null)):a=null,a===null)throw As(l);return um(a)?l.lanes=32:l.lanes=536870912,null}var A=m.children;return m=m.fallback,v?(_s(),v=l.mode,A=Wc({mode:"hidden",children:A},v),m=jo(m,v,u,null),A.return=l,m.return=l,A.sibling=m,l.child=A,m=l.child,m.memoizedState=Ah(u),m.childLanes=jh(a,k,u),l.memoizedState=Eh,Qi(null,m)):(Ds(l),Mh(l,A))}var _=a.memoizedState;if(_!==null&&(A=_.dehydrated,A!==null)){if(C)l.flags&256?(Ds(l),l.flags&=-257,l=Rh(a,l,u)):l.memoizedState!==null?(_s(),l.child=a.child,l.flags|=128,l=null):(_s(),A=m.fallback,v=l.mode,m=Wc({mode:"visible",children:m.children},v),A=jo(A,v,u,null),A.flags|=2,m.return=l,A.return=l,m.sibling=A,l.child=m,Lo(l,a.child,null,u),m=l.child,m.memoizedState=Ah(u),m.childLanes=jh(a,k,u),l.memoizedState=Eh,l=Qi(null,m));else if(Ds(l),um(A)){if(k=A.nextSibling&&A.nextSibling.dataset,k)var F=k.dgst;k=F,m=Error(r(419)),m.stack="",m.digest=k,Ui({value:m,source:null,stack:null}),l=Rh(a,l,u)}else if(Tt||ka(a,l,u,!1),k=(u&a.childLanes)!==0,Tt||k){if(k=nt,k!==null&&(m=Ni(k,u),m!==0&&m!==_.retryLane))throw _.retryLane=m,Ao(a,m),wn(k,a,m),Th;dm(A)||od(),l=Rh(a,l,u)}else dm(A)?(l.flags|=192,l.child=a.child,l=null):(a=_.treeContext,at=$n(A.nextSibling),Ht=l,qe=!0,Es=null,Fn=!1,a!==null&&Dx(l,a),l=Mh(l,m.children),l.flags|=4096);return l}return v?(_s(),A=m.fallback,v=l.mode,_=a.child,F=_.sibling,m=_r(_,{mode:"hidden",children:m.children}),m.subtreeFlags=_.subtreeFlags&65011712,F!==null?A=_r(F,A):(A=jo(A,v,u,null),A.flags|=2),A.return=l,m.return=l,m.sibling=A,l.child=m,Qi(null,m),m=l.child,A=a.child.memoizedState,A===null?A=Ah(u):(v=A.cachePool,v!==null?(_=wt._currentValue,v=v.parent!==_?{parent:_,pool:_}:v):v=zx(),A={baseLanes:A.baseLanes|u,cachePool:v}),m.memoizedState=A,m.childLanes=jh(a,k,u),l.memoizedState=Eh,Qi(a.child,m)):(Ds(l),u=a.child,a=u.sibling,u=_r(u,{mode:"visible",children:m.children}),u.return=l,u.sibling=null,a!==null&&(k=l.deletions,k===null?(l.deletions=[a],l.flags|=16):k.push(a)),l.child=u,l.memoizedState=null,u)}function Mh(a,l){return l=Wc({mode:"visible",children:l},a.mode),l.return=a,a.child=l}function Wc(a,l){return a=Mn(22,a,null,l),a.lanes=0,a}function Rh(a,l,u){return Lo(l,a.child,null,u),a=Mh(l,l.pendingProps.children),a.flags|=2,l.memoizedState=null,a}function Q0(a,l,u){a.lanes|=l;var m=a.alternate;m!==null&&(m.lanes|=l),$f(a.return,l,u)}function Ih(a,l,u,m,v,C){var k=a.memoizedState;k===null?a.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:m,tail:u,tailMode:v,treeForkCount:C}:(k.isBackwards=l,k.rendering=null,k.renderingStartTime=0,k.last=m,k.tail=u,k.tailMode=v,k.treeForkCount=C)}function Z0(a,l,u){var m=l.pendingProps,v=m.revealOrder,C=m.tail;m=m.children;var k=vt.current,A=(k&2)!==0;if(A?(k=k&1|2,l.flags|=128):k&=1,X(vt,k),qt(a,l,m,u),m=qe?zi:0,!A&&a!==null&&(a.flags&128)!==0)e:for(a=l.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&Q0(a,u,l);else if(a.tag===19)Q0(a,u,l);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===l)break e;for(;a.sibling===null;){if(a.return===null||a.return===l)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(v){case"forwards":for(u=l.child,v=null;u!==null;)a=u.alternate,a!==null&&Bc(a)===null&&(v=u),u=u.sibling;u=v,u===null?(v=l.child,l.child=null):(v=u.sibling,u.sibling=null),Ih(l,!1,v,u,C,m);break;case"backwards":case"unstable_legacy-backwards":for(u=null,v=l.child,l.child=null;v!==null;){if(a=v.alternate,a!==null&&Bc(a)===null){l.child=v;break}a=v.sibling,v.sibling=u,u=v,v=a}Ih(l,!0,u,null,C,m);break;case"together":Ih(l,!1,null,null,void 0,m);break;default:l.memoizedState=null}return l.child}function Ur(a,l,u){if(a!==null&&(l.dependencies=a.dependencies),Os|=l.lanes,(u&l.childLanes)===0)if(a!==null){if(ka(a,l,u,!1),(u&l.childLanes)===0)return null}else return null;if(a!==null&&l.child!==a.child)throw Error(r(153));if(l.child!==null){for(a=l.child,u=_r(a,a.pendingProps),l.child=u,u.return=l;a.sibling!==null;)a=a.sibling,u=u.sibling=_r(a,a.pendingProps),u.return=l;u.sibling=null}return l.child}function Dh(a,l){return(a.lanes&l)!==0?!0:(a=a.dependencies,!!(a!==null&&Mc(a)))}function p5(a,l,u){switch(l.tag){case 3:Ae(l,l.stateNode.containerInfo),js(l,wt,a.memoizedState.cache),Mo();break;case 27:case 5:Kt(l);break;case 4:Ae(l,l.stateNode.containerInfo);break;case 10:js(l,l.type,l.memoizedProps.value);break;case 31:if(l.memoizedState!==null)return l.flags|=128,sh(l),null;break;case 13:var m=l.memoizedState;if(m!==null)return m.dehydrated!==null?(Ds(l),l.flags|=128,null):(u&l.child.childLanes)!==0?X0(a,l,u):(Ds(l),a=Ur(a,l,u),a!==null?a.sibling:null);Ds(l);break;case 19:var v=(a.flags&128)!==0;if(m=(u&l.childLanes)!==0,m||(ka(a,l,u,!1),m=(u&l.childLanes)!==0),v){if(m)return Z0(a,l,u);l.flags|=128}if(v=l.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),X(vt,vt.current),m)break;return null;case 22:return l.lanes=0,G0(a,l,u,l.pendingProps);case 24:js(l,wt,a.memoizedState.cache)}return Ur(a,l,u)}function eb(a,l,u){if(a!==null)if(a.memoizedProps!==l.pendingProps)Tt=!0;else{if(!Dh(a,u)&&(l.flags&128)===0)return Tt=!1,p5(a,l,u);Tt=(a.flags&131072)!==0}else Tt=!1,qe&&(l.flags&1048576)!==0&&Ix(l,zi,l.index);switch(l.lanes=0,l.tag){case 16:e:{var m=l.pendingProps;if(a=_o(l.elementType),l.type=a,typeof a=="function")Bf(a)?(m=Bo(a,m),l.tag=1,l=Y0(null,l,a,m,u)):(l.tag=0,l=kh(null,l,a,m,u));else{if(a!=null){var v=a.$$typeof;if(v===H){l.tag=11,l=V0(null,l,a,m,u);break e}else if(v===P){l.tag=14,l=q0(null,l,a,m,u);break e}}throw l=ge(a)||a,Error(r(306,l,""))}}return l;case 0:return kh(a,l,l.type,l.pendingProps,u);case 1:return m=l.type,v=Bo(m,l.pendingProps),Y0(a,l,m,v,u);case 3:e:{if(Ae(l,l.stateNode.containerInfo),a===null)throw Error(r(387));m=l.pendingProps;var C=l.memoizedState;v=C.element,Zf(a,l),Ji(l,m,null,u);var k=l.memoizedState;if(m=k.cache,js(l,wt,m),m!==C.cache&&Jf(l,[wt],u,!0),$i(),m=k.element,C.isDehydrated)if(C={element:m,isDehydrated:!1,cache:k.cache},l.updateQueue.baseState=C,l.memoizedState=C,l.flags&256){l=W0(a,l,m,u);break e}else if(m!==v){v=Hn(Error(r(424)),l),Ui(v),l=W0(a,l,m,u);break e}else{switch(a=l.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(at=$n(a.firstChild),Ht=l,qe=!0,Es=null,Fn=!0,u=Gx(l,null,m,u),l.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(Mo(),m===v){l=Ur(a,l,u);break e}qt(a,l,m,u)}l=l.child}return l;case 26:return Yc(a,l),a===null?(u=uy(l.type,null,l.pendingProps,null))?l.memoizedState=u:qe||(u=l.type,a=l.pendingProps,m=fd(Te.current).createElement(u),m[It]=l,m[Wt]=a,Ft(m,u,a),Ct(m),l.stateNode=m):l.memoizedState=uy(l.type,a.memoizedProps,l.pendingProps,a.memoizedState),null;case 27:return Kt(l),a===null&&qe&&(m=l.stateNode=ly(l.type,l.pendingProps,Te.current),Ht=l,Fn=!0,v=at,Vs(l.type)?(fm=v,at=$n(m.firstChild)):at=v),qt(a,l,l.pendingProps.children,u),Yc(a,l),a===null&&(l.flags|=4194304),l.child;case 5:return a===null&&qe&&((v=m=at)&&(m=G5(m,l.type,l.pendingProps,Fn),m!==null?(l.stateNode=m,Ht=l,at=$n(m.firstChild),Fn=!1,v=!0):v=!1),v||As(l)),Kt(l),v=l.type,C=l.pendingProps,k=a!==null?a.memoizedProps:null,m=C.children,im(v,C)?m=null:k!==null&&im(v,k)&&(l.flags|=32),l.memoizedState!==null&&(v=ah(a,l,a5,null,null,u),hl._currentValue=v),Yc(a,l),qt(a,l,m,u),l.child;case 6:return a===null&&qe&&((a=u=at)&&(u=$5(u,l.pendingProps,Fn),u!==null?(l.stateNode=u,Ht=l,at=null,a=!0):a=!1),a||As(l)),null;case 13:return X0(a,l,u);case 4:return Ae(l,l.stateNode.containerInfo),m=l.pendingProps,a===null?l.child=Lo(l,null,m,u):qt(a,l,m,u),l.child;case 11:return V0(a,l,l.type,l.pendingProps,u);case 7:return qt(a,l,l.pendingProps,u),l.child;case 8:return qt(a,l,l.pendingProps.children,u),l.child;case 12:return qt(a,l,l.pendingProps.children,u),l.child;case 10:return m=l.pendingProps,js(l,l.type,m.value),qt(a,l,m.children,u),l.child;case 9:return v=l.type._context,m=l.pendingProps.children,Io(l),v=Vt(v),m=m(v),l.flags|=1,qt(a,l,m,u),l.child;case 14:return q0(a,l,l.type,l.pendingProps,u);case 15:return F0(a,l,l.type,l.pendingProps,u);case 19:return Z0(a,l,u);case 31:return m5(a,l,u);case 22:return G0(a,l,u,l.pendingProps);case 24:return Io(l),m=Vt(wt),a===null?(v=Wf(),v===null&&(v=nt,C=Kf(),v.pooledCache=C,C.refCount++,C!==null&&(v.pooledCacheLanes|=u),v=C),l.memoizedState={parent:m,cache:v},Qf(l),js(l,wt,v)):((a.lanes&u)!==0&&(Zf(a,l),Ji(l,null,null,u),$i()),v=a.memoizedState,C=l.memoizedState,v.parent!==m?(v={parent:m,cache:m},l.memoizedState=v,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=v),js(l,wt,m)):(m=C.cache,js(l,wt,m),m!==v.cache&&Jf(l,[wt],u,!0))),qt(a,l,l.pendingProps.children,u),l.child;case 29:throw l.pendingProps}throw Error(r(156,l.tag))}function Hr(a){a.flags|=4}function _h(a,l,u,m,v){if((l=(a.mode&32)!==0)&&(l=!1),l){if(a.flags|=16777216,(v&335544128)===v)if(a.stateNode.complete)a.flags|=8192;else if(Eb())a.flags|=8192;else throw Po=_c,Xf}else a.flags&=-16777217}function tb(a,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!gy(l))if(Eb())a.flags|=8192;else throw Po=_c,Xf}function Xc(a,l){l!==null&&(a.flags|=4),a.flags&16384&&(l=a.tag!==22?oc():536870912,a.lanes|=l,Ba|=l)}function Zi(a,l){if(!qe)switch(a.tailMode){case"hidden":l=a.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?a.tail=null:u.sibling=null;break;case"collapsed":u=a.tail;for(var m=null;u!==null;)u.alternate!==null&&(m=u),u=u.sibling;m===null?l||a.tail===null?a.tail=null:a.tail.sibling=null:m.sibling=null}}function it(a){var l=a.alternate!==null&&a.alternate.child===a.child,u=0,m=0;if(l)for(var v=a.child;v!==null;)u|=v.lanes|v.childLanes,m|=v.subtreeFlags&65011712,m|=v.flags&65011712,v.return=a,v=v.sibling;else for(v=a.child;v!==null;)u|=v.lanes|v.childLanes,m|=v.subtreeFlags,m|=v.flags,v.return=a,v=v.sibling;return a.subtreeFlags|=m,a.childLanes=u,l}function g5(a,l,u){var m=l.pendingProps;switch(Vf(l),l.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return it(l),null;case 1:return it(l),null;case 3:return u=l.stateNode,m=null,a!==null&&(m=a.memoizedState.cache),l.memoizedState.cache!==m&&(l.flags|=2048),Or(wt),Ie(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(a===null||a.child===null)&&(Ta(l)?Hr(l):a===null||a.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,Ff())),it(l),null;case 26:var v=l.type,C=l.memoizedState;return a===null?(Hr(l),C!==null?(it(l),tb(l,C)):(it(l),_h(l,v,null,m,u))):C?C!==a.memoizedState?(Hr(l),it(l),tb(l,C)):(it(l),l.flags&=-16777217):(a=a.memoizedProps,a!==m&&Hr(l),it(l),_h(l,v,a,m,u)),null;case 27:if(ut(l),u=Te.current,v=l.type,a!==null&&l.stateNode!=null)a.memoizedProps!==m&&Hr(l);else{if(!m){if(l.stateNode===null)throw Error(r(166));return it(l),null}a=oe.current,Ta(l)?_x(l):(a=ly(v,m,u),l.stateNode=a,Hr(l))}return it(l),null;case 5:if(ut(l),v=l.type,a!==null&&l.stateNode!=null)a.memoizedProps!==m&&Hr(l);else{if(!m){if(l.stateNode===null)throw Error(r(166));return it(l),null}if(C=oe.current,Ta(l))_x(l);else{var k=fd(Te.current);switch(C){case 1:C=k.createElementNS("http://www.w3.org/2000/svg",v);break;case 2:C=k.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;default:switch(v){case"svg":C=k.createElementNS("http://www.w3.org/2000/svg",v);break;case"math":C=k.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;case"script":C=k.createElement("div"),C.innerHTML="<script><\/script>",C=C.removeChild(C.firstChild);break;case"select":C=typeof m.is=="string"?k.createElement("select",{is:m.is}):k.createElement("select"),m.multiple?C.multiple=!0:m.size&&(C.size=m.size);break;default:C=typeof m.is=="string"?k.createElement(v,{is:m.is}):k.createElement(v)}}C[It]=l,C[Wt]=m;e:for(k=l.child;k!==null;){if(k.tag===5||k.tag===6)C.appendChild(k.stateNode);else if(k.tag!==4&&k.tag!==27&&k.child!==null){k.child.return=k,k=k.child;continue}if(k===l)break e;for(;k.sibling===null;){if(k.return===null||k.return===l)break e;k=k.return}k.sibling.return=k.return,k=k.sibling}l.stateNode=C;e:switch(Ft(C,v,m),v){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}m&&Hr(l)}}return it(l),_h(l,l.type,a===null?null:a.memoizedProps,l.pendingProps,u),null;case 6:if(a&&l.stateNode!=null)a.memoizedProps!==m&&Hr(l);else{if(typeof m!="string"&&l.stateNode===null)throw Error(r(166));if(a=Te.current,Ta(l)){if(a=l.stateNode,u=l.memoizedProps,m=null,v=Ht,v!==null)switch(v.tag){case 27:case 5:m=v.memoizedProps}a[It]=l,a=!!(a.nodeValue===u||m!==null&&m.suppressHydrationWarning===!0||Xb(a.nodeValue,u)),a||As(l,!0)}else a=fd(a).createTextNode(m),a[It]=l,l.stateNode=a}return it(l),null;case 31:if(u=l.memoizedState,a===null||a.memoizedState!==null){if(m=Ta(l),u!==null){if(a===null){if(!m)throw Error(r(318));if(a=l.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(557));a[It]=l}else Mo(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;it(l),a=!1}else u=Ff(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=u),a=!0;if(!a)return l.flags&256?(In(l),l):(In(l),null);if((l.flags&128)!==0)throw Error(r(558))}return it(l),null;case 13:if(m=l.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(v=Ta(l),m!==null&&m.dehydrated!==null){if(a===null){if(!v)throw Error(r(318));if(v=l.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(r(317));v[It]=l}else Mo(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;it(l),v=!1}else v=Ff(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=v),v=!0;if(!v)return l.flags&256?(In(l),l):(In(l),null)}return In(l),(l.flags&128)!==0?(l.lanes=u,l):(u=m!==null,a=a!==null&&a.memoizedState!==null,u&&(m=l.child,v=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(v=m.alternate.memoizedState.cachePool.pool),C=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(C=m.memoizedState.cachePool.pool),C!==v&&(m.flags|=2048)),u!==a&&u&&(l.child.flags|=8192),Xc(l,l.updateQueue),it(l),null);case 4:return Ie(),a===null&&nm(l.stateNode.containerInfo),it(l),null;case 10:return Or(l.type),it(l),null;case 19:if(B(vt),m=l.memoizedState,m===null)return it(l),null;if(v=(l.flags&128)!==0,C=m.rendering,C===null)if(v)Zi(m,!1);else{if(gt!==0||a!==null&&(a.flags&128)!==0)for(a=l.child;a!==null;){if(C=Bc(a),C!==null){for(l.flags|=128,Zi(m,!1),a=C.updateQueue,l.updateQueue=a,Xc(l,a),l.subtreeFlags=0,a=u,u=l.child;u!==null;)jx(u,a),u=u.sibling;return X(vt,vt.current&1|2),qe&&Pr(l,m.treeForkCount),l.child}a=a.sibling}m.tail!==null&&_t()>nd&&(l.flags|=128,v=!0,Zi(m,!1),l.lanes=4194304)}else{if(!v)if(a=Bc(C),a!==null){if(l.flags|=128,v=!0,a=a.updateQueue,l.updateQueue=a,Xc(l,a),Zi(m,!0),m.tail===null&&m.tailMode==="hidden"&&!C.alternate&&!qe)return it(l),null}else 2*_t()-m.renderingStartTime>nd&&u!==536870912&&(l.flags|=128,v=!0,Zi(m,!1),l.lanes=4194304);m.isBackwards?(C.sibling=l.child,l.child=C):(a=m.last,a!==null?a.sibling=C:l.child=C,m.last=C)}return m.tail!==null?(a=m.tail,m.rendering=a,m.tail=a.sibling,m.renderingStartTime=_t(),a.sibling=null,u=vt.current,X(vt,v?u&1|2:u&1),qe&&Pr(l,m.treeForkCount),a):(it(l),null);case 22:case 23:return In(l),rh(),m=l.memoizedState!==null,a!==null?a.memoizedState!==null!==m&&(l.flags|=8192):m&&(l.flags|=8192),m?(u&536870912)!==0&&(l.flags&128)===0&&(it(l),l.subtreeFlags&6&&(l.flags|=8192)):it(l),u=l.updateQueue,u!==null&&Xc(l,u.retryQueue),u=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),m=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==u&&(l.flags|=2048),a!==null&&B(Do),null;case 24:return u=null,a!==null&&(u=a.memoizedState.cache),l.memoizedState.cache!==u&&(l.flags|=2048),Or(wt),it(l),null;case 25:return null;case 30:return null}throw Error(r(156,l.tag))}function x5(a,l){switch(Vf(l),l.tag){case 1:return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 3:return Or(wt),Ie(),a=l.flags,(a&65536)!==0&&(a&128)===0?(l.flags=a&-65537|128,l):null;case 26:case 27:case 5:return ut(l),null;case 31:if(l.memoizedState!==null){if(In(l),l.alternate===null)throw Error(r(340));Mo()}return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 13:if(In(l),a=l.memoizedState,a!==null&&a.dehydrated!==null){if(l.alternate===null)throw Error(r(340));Mo()}return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 19:return B(vt),null;case 4:return Ie(),null;case 10:return Or(l.type),null;case 22:case 23:return In(l),rh(),a!==null&&B(Do),a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 24:return Or(wt),null;case 25:return null;default:return null}}function nb(a,l){switch(Vf(l),l.tag){case 3:Or(wt),Ie();break;case 26:case 27:case 5:ut(l);break;case 4:Ie();break;case 31:l.memoizedState!==null&&In(l);break;case 13:In(l);break;case 19:B(vt);break;case 10:Or(l.type);break;case 22:case 23:In(l),rh(),a!==null&&B(Do);break;case 24:Or(wt)}}function el(a,l){try{var u=l.updateQueue,m=u!==null?u.lastEffect:null;if(m!==null){var v=m.next;u=v;do{if((u.tag&a)===a){m=void 0;var C=u.create,k=u.inst;m=C(),k.destroy=m}u=u.next}while(u!==v)}}catch(A){Ye(l,l.return,A)}}function Ps(a,l,u){try{var m=l.updateQueue,v=m!==null?m.lastEffect:null;if(v!==null){var C=v.next;m=C;do{if((m.tag&a)===a){var k=m.inst,A=k.destroy;if(A!==void 0){k.destroy=void 0,v=l;var _=u,F=A;try{F()}catch(W){Ye(v,_,W)}}}m=m.next}while(m!==C)}}catch(W){Ye(l,l.return,W)}}function rb(a){var l=a.updateQueue;if(l!==null){var u=a.stateNode;try{Jx(l,u)}catch(m){Ye(a,a.return,m)}}}function sb(a,l,u){u.props=Bo(a.type,a.memoizedProps),u.state=a.memoizedState;try{u.componentWillUnmount()}catch(m){Ye(a,l,m)}}function tl(a,l){try{var u=a.ref;if(u!==null){switch(a.tag){case 26:case 27:case 5:var m=a.stateNode;break;case 30:m=a.stateNode;break;default:m=a.stateNode}typeof u=="function"?a.refCleanup=u(m):u.current=m}}catch(v){Ye(a,l,v)}}function Nr(a,l){var u=a.ref,m=a.refCleanup;if(u!==null)if(typeof m=="function")try{m()}catch(v){Ye(a,l,v)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(v){Ye(a,l,v)}else u.current=null}function ob(a){var l=a.type,u=a.memoizedProps,m=a.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":u.autoFocus&&m.focus();break e;case"img":u.src?m.src=u.src:u.srcSet&&(m.srcset=u.srcSet)}}catch(v){Ye(a,a.return,v)}}function Ph(a,l,u){try{var m=a.stateNode;z5(m,a.type,u,l),m[Wt]=l}catch(v){Ye(a,a.return,v)}}function ab(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&Vs(a.type)||a.tag===4}function Lh(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||ab(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&Vs(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Oh(a,l,u){var m=a.tag;if(m===5||m===6)a=a.stateNode,l?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(a,l):(l=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,l.appendChild(a),u=u._reactRootContainer,u!=null||l.onclick!==null||(l.onclick=lr));else if(m!==4&&(m===27&&Vs(a.type)&&(u=a.stateNode,l=null),a=a.child,a!==null))for(Oh(a,l,u),a=a.sibling;a!==null;)Oh(a,l,u),a=a.sibling}function Qc(a,l,u){var m=a.tag;if(m===5||m===6)a=a.stateNode,l?u.insertBefore(a,l):u.appendChild(a);else if(m!==4&&(m===27&&Vs(a.type)&&(u=a.stateNode),a=a.child,a!==null))for(Qc(a,l,u),a=a.sibling;a!==null;)Qc(a,l,u),a=a.sibling}function ib(a){var l=a.stateNode,u=a.memoizedProps;try{for(var m=a.type,v=l.attributes;v.length;)l.removeAttributeNode(v[0]);Ft(l,m,u),l[It]=a,l[Wt]=u}catch(C){Ye(a,a.return,C)}}var Vr=!1,kt=!1,Bh=!1,lb=typeof WeakSet=="function"?WeakSet:Set,Pt=null;function b5(a,l){if(a=a.containerInfo,om=yd,a=vx(a),Rf(a)){if("selectionStart"in a)var u={start:a.selectionStart,end:a.selectionEnd};else e:{u=(u=a.ownerDocument)&&u.defaultView||window;var m=u.getSelection&&u.getSelection();if(m&&m.rangeCount!==0){u=m.anchorNode;var v=m.anchorOffset,C=m.focusNode;m=m.focusOffset;try{u.nodeType,C.nodeType}catch{u=null;break e}var k=0,A=-1,_=-1,F=0,W=0,ee=a,G=null;t:for(;;){for(var $;ee!==u||v!==0&&ee.nodeType!==3||(A=k+v),ee!==C||m!==0&&ee.nodeType!==3||(_=k+m),ee.nodeType===3&&(k+=ee.nodeValue.length),($=ee.firstChild)!==null;)G=ee,ee=$;for(;;){if(ee===a)break t;if(G===u&&++F===v&&(A=k),G===C&&++W===m&&(_=k),($=ee.nextSibling)!==null)break;ee=G,G=ee.parentNode}ee=$}u=A===-1||_===-1?null:{start:A,end:_}}else u=null}u=u||{start:0,end:0}}else u=null;for(am={focusedElem:a,selectionRange:u},yd=!1,Pt=l;Pt!==null;)if(l=Pt,a=l.child,(l.subtreeFlags&1028)!==0&&a!==null)a.return=l,Pt=a;else for(;Pt!==null;){switch(l=Pt,C=l.alternate,a=l.flags,l.tag){case 0:if((a&4)!==0&&(a=l.updateQueue,a=a!==null?a.events:null,a!==null))for(u=0;u<a.length;u++)v=a[u],v.ref.impl=v.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&C!==null){a=void 0,u=l,v=C.memoizedProps,C=C.memoizedState,m=u.stateNode;try{var me=Bo(u.type,v);a=m.getSnapshotBeforeUpdate(me,C),m.__reactInternalSnapshotBeforeUpdate=a}catch(Se){Ye(u,u.return,Se)}}break;case 3:if((a&1024)!==0){if(a=l.stateNode.containerInfo,u=a.nodeType,u===9)cm(a);else if(u===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":cm(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(r(163))}if(a=l.sibling,a!==null){a.return=l.return,Pt=a;break}Pt=l.return}}function cb(a,l,u){var m=u.flags;switch(u.tag){case 0:case 11:case 15:Fr(a,u),m&4&&el(5,u);break;case 1:if(Fr(a,u),m&4)if(a=u.stateNode,l===null)try{a.componentDidMount()}catch(k){Ye(u,u.return,k)}else{var v=Bo(u.type,l.memoizedProps);l=l.memoizedState;try{a.componentDidUpdate(v,l,a.__reactInternalSnapshotBeforeUpdate)}catch(k){Ye(u,u.return,k)}}m&64&&rb(u),m&512&&tl(u,u.return);break;case 3:if(Fr(a,u),m&64&&(a=u.updateQueue,a!==null)){if(l=null,u.child!==null)switch(u.child.tag){case 27:case 5:l=u.child.stateNode;break;case 1:l=u.child.stateNode}try{Jx(a,l)}catch(k){Ye(u,u.return,k)}}break;case 27:l===null&&m&4&&ib(u);case 26:case 5:Fr(a,u),l===null&&m&4&&ob(u),m&512&&tl(u,u.return);break;case 12:Fr(a,u);break;case 31:Fr(a,u),m&4&&fb(a,u);break;case 13:Fr(a,u),m&4&&hb(a,u),m&64&&(a=u.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(u=E5.bind(null,u),J5(a,u))));break;case 22:if(m=u.memoizedState!==null||Vr,!m){l=l!==null&&l.memoizedState!==null||kt,v=Vr;var C=kt;Vr=m,(kt=l)&&!C?Gr(a,u,(u.subtreeFlags&8772)!==0):Fr(a,u),Vr=v,kt=C}break;case 30:break;default:Fr(a,u)}}function db(a){var l=a.alternate;l!==null&&(a.alternate=null,db(l)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(l=a.stateNode,l!==null&&ki(l)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var dt=null,yn=!1;function qr(a,l,u){for(u=u.child;u!==null;)ub(a,l,u),u=u.sibling}function ub(a,l,u){if(mn&&typeof mn.onCommitFiberUnmount=="function")try{mn.onCommitFiberUnmount(or,u)}catch{}switch(u.tag){case 26:kt||Nr(u,l),qr(a,l,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:kt||Nr(u,l);var m=dt,v=yn;Vs(u.type)&&(dt=u.stateNode,yn=!1),qr(a,l,u),dl(u.stateNode),dt=m,yn=v;break;case 5:kt||Nr(u,l);case 6:if(m=dt,v=yn,dt=null,qr(a,l,u),dt=m,yn=v,dt!==null)if(yn)try{(dt.nodeType===9?dt.body:dt.nodeName==="HTML"?dt.ownerDocument.body:dt).removeChild(u.stateNode)}catch(C){Ye(u,l,C)}else try{dt.removeChild(u.stateNode)}catch(C){Ye(u,l,C)}break;case 18:dt!==null&&(yn?(a=dt,ry(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,u.stateNode),$a(a)):ry(dt,u.stateNode));break;case 4:m=dt,v=yn,dt=u.stateNode.containerInfo,yn=!0,qr(a,l,u),dt=m,yn=v;break;case 0:case 11:case 14:case 15:Ps(2,u,l),kt||Ps(4,u,l),qr(a,l,u);break;case 1:kt||(Nr(u,l),m=u.stateNode,typeof m.componentWillUnmount=="function"&&sb(u,l,m)),qr(a,l,u);break;case 21:qr(a,l,u);break;case 22:kt=(m=kt)||u.memoizedState!==null,qr(a,l,u),kt=m;break;default:qr(a,l,u)}}function fb(a,l){if(l.memoizedState===null&&(a=l.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{$a(a)}catch(u){Ye(l,l.return,u)}}}function hb(a,l){if(l.memoizedState===null&&(a=l.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{$a(a)}catch(u){Ye(l,l.return,u)}}function y5(a){switch(a.tag){case 31:case 13:case 19:var l=a.stateNode;return l===null&&(l=a.stateNode=new lb),l;case 22:return a=a.stateNode,l=a._retryCache,l===null&&(l=a._retryCache=new lb),l;default:throw Error(r(435,a.tag))}}function Zc(a,l){var u=y5(a);l.forEach(function(m){if(!u.has(m)){u.add(m);var v=A5.bind(null,a,m);m.then(v,v)}})}function vn(a,l){var u=l.deletions;if(u!==null)for(var m=0;m<u.length;m++){var v=u[m],C=a,k=l,A=k;e:for(;A!==null;){switch(A.tag){case 27:if(Vs(A.type)){dt=A.stateNode,yn=!1;break e}break;case 5:dt=A.stateNode,yn=!1;break e;case 3:case 4:dt=A.stateNode.containerInfo,yn=!0;break e}A=A.return}if(dt===null)throw Error(r(160));ub(C,k,v),dt=null,yn=!1,C=v.alternate,C!==null&&(C.return=null),v.return=null}if(l.subtreeFlags&13886)for(l=l.child;l!==null;)mb(l,a),l=l.sibling}var ur=null;function mb(a,l){var u=a.alternate,m=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:vn(l,a),Nn(a),m&4&&(Ps(3,a,a.return),el(3,a),Ps(5,a,a.return));break;case 1:vn(l,a),Nn(a),m&512&&(kt||u===null||Nr(u,u.return)),m&64&&Vr&&(a=a.updateQueue,a!==null&&(m=a.callbacks,m!==null&&(u=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=u===null?m:u.concat(m))));break;case 26:var v=ur;if(vn(l,a),Nn(a),m&512&&(kt||u===null||Nr(u,u.return)),m&4){var C=u!==null?u.memoizedState:null;if(m=a.memoizedState,u===null)if(m===null)if(a.stateNode===null){e:{m=a.type,u=a.memoizedProps,v=v.ownerDocument||v;t:switch(m){case"title":C=v.getElementsByTagName("title")[0],(!C||C[So]||C[It]||C.namespaceURI==="http://www.w3.org/2000/svg"||C.hasAttribute("itemprop"))&&(C=v.createElement(m),v.head.insertBefore(C,v.querySelector("head > title"))),Ft(C,m,u),C[It]=a,Ct(C),m=C;break e;case"link":var k=my("link","href",v).get(m+(u.href||""));if(k){for(var A=0;A<k.length;A++)if(C=k[A],C.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&C.getAttribute("rel")===(u.rel==null?null:u.rel)&&C.getAttribute("title")===(u.title==null?null:u.title)&&C.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){k.splice(A,1);break t}}C=v.createElement(m),Ft(C,m,u),v.head.appendChild(C);break;case"meta":if(k=my("meta","content",v).get(m+(u.content||""))){for(A=0;A<k.length;A++)if(C=k[A],C.getAttribute("content")===(u.content==null?null:""+u.content)&&C.getAttribute("name")===(u.name==null?null:u.name)&&C.getAttribute("property")===(u.property==null?null:u.property)&&C.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&C.getAttribute("charset")===(u.charSet==null?null:u.charSet)){k.splice(A,1);break t}}C=v.createElement(m),Ft(C,m,u),v.head.appendChild(C);break;default:throw Error(r(468,m))}C[It]=a,Ct(C),m=C}a.stateNode=m}else py(v,a.type,a.stateNode);else a.stateNode=hy(v,m,a.memoizedProps);else C!==m?(C===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):C.count--,m===null?py(v,a.type,a.stateNode):hy(v,m,a.memoizedProps)):m===null&&a.stateNode!==null&&Ph(a,a.memoizedProps,u.memoizedProps)}break;case 27:vn(l,a),Nn(a),m&512&&(kt||u===null||Nr(u,u.return)),u!==null&&m&4&&Ph(a,a.memoizedProps,u.memoizedProps);break;case 5:if(vn(l,a),Nn(a),m&512&&(kt||u===null||Nr(u,u.return)),a.flags&32){v=a.stateNode;try{ws(v,"")}catch(me){Ye(a,a.return,me)}}m&4&&a.stateNode!=null&&(v=a.memoizedProps,Ph(a,v,u!==null?u.memoizedProps:v)),m&1024&&(Bh=!0);break;case 6:if(vn(l,a),Nn(a),m&4){if(a.stateNode===null)throw Error(r(162));m=a.memoizedProps,u=a.stateNode;try{u.nodeValue=m}catch(me){Ye(a,a.return,me)}}break;case 3:if(pd=null,v=ur,ur=hd(l.containerInfo),vn(l,a),ur=v,Nn(a),m&4&&u!==null&&u.memoizedState.isDehydrated)try{$a(l.containerInfo)}catch(me){Ye(a,a.return,me)}Bh&&(Bh=!1,pb(a));break;case 4:m=ur,ur=hd(a.stateNode.containerInfo),vn(l,a),Nn(a),ur=m;break;case 12:vn(l,a),Nn(a);break;case 31:vn(l,a),Nn(a),m&4&&(m=a.updateQueue,m!==null&&(a.updateQueue=null,Zc(a,m)));break;case 13:vn(l,a),Nn(a),a.child.flags&8192&&a.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(td=_t()),m&4&&(m=a.updateQueue,m!==null&&(a.updateQueue=null,Zc(a,m)));break;case 22:v=a.memoizedState!==null;var _=u!==null&&u.memoizedState!==null,F=Vr,W=kt;if(Vr=F||v,kt=W||_,vn(l,a),kt=W,Vr=F,Nn(a),m&8192)e:for(l=a.stateNode,l._visibility=v?l._visibility&-2:l._visibility|1,v&&(u===null||_||Vr||kt||zo(a)),u=null,l=a;;){if(l.tag===5||l.tag===26){if(u===null){_=u=l;try{if(C=_.stateNode,v)k=C.style,typeof k.setProperty=="function"?k.setProperty("display","none","important"):k.display="none";else{A=_.stateNode;var ee=_.memoizedProps.style,G=ee!=null&&ee.hasOwnProperty("display")?ee.display:null;A.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(me){Ye(_,_.return,me)}}}else if(l.tag===6){if(u===null){_=l;try{_.stateNode.nodeValue=v?"":_.memoizedProps}catch(me){Ye(_,_.return,me)}}}else if(l.tag===18){if(u===null){_=l;try{var $=_.stateNode;v?sy($,!0):sy(_.stateNode,!1)}catch(me){Ye(_,_.return,me)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===a)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break e;for(;l.sibling===null;){if(l.return===null||l.return===a)break e;u===l&&(u=null),l=l.return}u===l&&(u=null),l.sibling.return=l.return,l=l.sibling}m&4&&(m=a.updateQueue,m!==null&&(u=m.retryQueue,u!==null&&(m.retryQueue=null,Zc(a,u))));break;case 19:vn(l,a),Nn(a),m&4&&(m=a.updateQueue,m!==null&&(a.updateQueue=null,Zc(a,m)));break;case 30:break;case 21:break;default:vn(l,a),Nn(a)}}function Nn(a){var l=a.flags;if(l&2){try{for(var u,m=a.return;m!==null;){if(ab(m)){u=m;break}m=m.return}if(u==null)throw Error(r(160));switch(u.tag){case 27:var v=u.stateNode,C=Lh(a);Qc(a,C,v);break;case 5:var k=u.stateNode;u.flags&32&&(ws(k,""),u.flags&=-33);var A=Lh(a);Qc(a,A,k);break;case 3:case 4:var _=u.stateNode.containerInfo,F=Lh(a);Oh(a,F,_);break;default:throw Error(r(161))}}catch(W){Ye(a,a.return,W)}a.flags&=-3}l&4096&&(a.flags&=-4097)}function pb(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var l=a;pb(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),a=a.sibling}}function Fr(a,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)cb(a,l.alternate,l),l=l.sibling}function zo(a){for(a=a.child;a!==null;){var l=a;switch(l.tag){case 0:case 11:case 14:case 15:Ps(4,l,l.return),zo(l);break;case 1:Nr(l,l.return);var u=l.stateNode;typeof u.componentWillUnmount=="function"&&sb(l,l.return,u),zo(l);break;case 27:dl(l.stateNode);case 26:case 5:Nr(l,l.return),zo(l);break;case 22:l.memoizedState===null&&zo(l);break;case 30:zo(l);break;default:zo(l)}a=a.sibling}}function Gr(a,l,u){for(u=u&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var m=l.alternate,v=a,C=l,k=C.flags;switch(C.tag){case 0:case 11:case 15:Gr(v,C,u),el(4,C);break;case 1:if(Gr(v,C,u),m=C,v=m.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(F){Ye(m,m.return,F)}if(m=C,v=m.updateQueue,v!==null){var A=m.stateNode;try{var _=v.shared.hiddenCallbacks;if(_!==null)for(v.shared.hiddenCallbacks=null,v=0;v<_.length;v++)$x(_[v],A)}catch(F){Ye(m,m.return,F)}}u&&k&64&&rb(C),tl(C,C.return);break;case 27:ib(C);case 26:case 5:Gr(v,C,u),u&&m===null&&k&4&&ob(C),tl(C,C.return);break;case 12:Gr(v,C,u);break;case 31:Gr(v,C,u),u&&k&4&&fb(v,C);break;case 13:Gr(v,C,u),u&&k&4&&hb(v,C);break;case 22:C.memoizedState===null&&Gr(v,C,u),tl(C,C.return);break;case 30:break;default:Gr(v,C,u)}l=l.sibling}}function zh(a,l){var u=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),a=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(a=l.memoizedState.cachePool.pool),a!==u&&(a!=null&&a.refCount++,u!=null&&Hi(u))}function Uh(a,l){a=null,l.alternate!==null&&(a=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==a&&(l.refCount++,a!=null&&Hi(a))}function fr(a,l,u,m){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)gb(a,l,u,m),l=l.sibling}function gb(a,l,u,m){var v=l.flags;switch(l.tag){case 0:case 11:case 15:fr(a,l,u,m),v&2048&&el(9,l);break;case 1:fr(a,l,u,m);break;case 3:fr(a,l,u,m),v&2048&&(a=null,l.alternate!==null&&(a=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==a&&(l.refCount++,a!=null&&Hi(a)));break;case 12:if(v&2048){fr(a,l,u,m),a=l.stateNode;try{var C=l.memoizedProps,k=C.id,A=C.onPostCommit;typeof A=="function"&&A(k,l.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(_){Ye(l,l.return,_)}}else fr(a,l,u,m);break;case 31:fr(a,l,u,m);break;case 13:fr(a,l,u,m);break;case 23:break;case 22:C=l.stateNode,k=l.alternate,l.memoizedState!==null?C._visibility&2?fr(a,l,u,m):nl(a,l):C._visibility&2?fr(a,l,u,m):(C._visibility|=2,Pa(a,l,u,m,(l.subtreeFlags&10256)!==0||!1)),v&2048&&zh(k,l);break;case 24:fr(a,l,u,m),v&2048&&Uh(l.alternate,l);break;default:fr(a,l,u,m)}}function Pa(a,l,u,m,v){for(v=v&&((l.subtreeFlags&10256)!==0||!1),l=l.child;l!==null;){var C=a,k=l,A=u,_=m,F=k.flags;switch(k.tag){case 0:case 11:case 15:Pa(C,k,A,_,v),el(8,k);break;case 23:break;case 22:var W=k.stateNode;k.memoizedState!==null?W._visibility&2?Pa(C,k,A,_,v):nl(C,k):(W._visibility|=2,Pa(C,k,A,_,v)),v&&F&2048&&zh(k.alternate,k);break;case 24:Pa(C,k,A,_,v),v&&F&2048&&Uh(k.alternate,k);break;default:Pa(C,k,A,_,v)}l=l.sibling}}function nl(a,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var u=a,m=l,v=m.flags;switch(m.tag){case 22:nl(u,m),v&2048&&zh(m.alternate,m);break;case 24:nl(u,m),v&2048&&Uh(m.alternate,m);break;default:nl(u,m)}l=l.sibling}}var rl=8192;function La(a,l,u){if(a.subtreeFlags&rl)for(a=a.child;a!==null;)xb(a,l,u),a=a.sibling}function xb(a,l,u){switch(a.tag){case 26:La(a,l,u),a.flags&rl&&a.memoizedState!==null&&oT(u,ur,a.memoizedState,a.memoizedProps);break;case 5:La(a,l,u);break;case 3:case 4:var m=ur;ur=hd(a.stateNode.containerInfo),La(a,l,u),ur=m;break;case 22:a.memoizedState===null&&(m=a.alternate,m!==null&&m.memoizedState!==null?(m=rl,rl=16777216,La(a,l,u),rl=m):La(a,l,u));break;default:La(a,l,u)}}function bb(a){var l=a.alternate;if(l!==null&&(a=l.child,a!==null)){l.child=null;do l=a.sibling,a.sibling=null,a=l;while(a!==null)}}function sl(a){var l=a.deletions;if((a.flags&16)!==0){if(l!==null)for(var u=0;u<l.length;u++){var m=l[u];Pt=m,vb(m,a)}bb(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)yb(a),a=a.sibling}function yb(a){switch(a.tag){case 0:case 11:case 15:sl(a),a.flags&2048&&Ps(9,a,a.return);break;case 3:sl(a);break;case 12:sl(a);break;case 22:var l=a.stateNode;a.memoizedState!==null&&l._visibility&2&&(a.return===null||a.return.tag!==13)?(l._visibility&=-3,ed(a)):sl(a);break;default:sl(a)}}function ed(a){var l=a.deletions;if((a.flags&16)!==0){if(l!==null)for(var u=0;u<l.length;u++){var m=l[u];Pt=m,vb(m,a)}bb(a)}for(a=a.child;a!==null;){switch(l=a,l.tag){case 0:case 11:case 15:Ps(8,l,l.return),ed(l);break;case 22:u=l.stateNode,u._visibility&2&&(u._visibility&=-3,ed(l));break;default:ed(l)}a=a.sibling}}function vb(a,l){for(;Pt!==null;){var u=Pt;switch(u.tag){case 0:case 11:case 15:Ps(8,u,l);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var m=u.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:Hi(u.memoizedState.cache)}if(m=u.child,m!==null)m.return=u,Pt=m;else e:for(u=a;Pt!==null;){m=Pt;var v=m.sibling,C=m.return;if(db(m),m===u){Pt=null;break e}if(v!==null){v.return=C,Pt=v;break e}Pt=C}}}var v5={getCacheForType:function(a){var l=Vt(wt),u=l.data.get(a);return u===void 0&&(u=a(),l.data.set(a,u)),u},cacheSignal:function(){return Vt(wt).controller.signal}},N5=typeof WeakMap=="function"?WeakMap:Map,Je=0,nt=null,ze=null,He=0,Ke=0,Dn=null,Ls=!1,Oa=!1,Hh=!1,$r=0,gt=0,Os=0,Uo=0,Vh=0,_n=0,Ba=0,ol=null,Cn=null,qh=!1,td=0,Nb=0,nd=1/0,rd=null,Bs=null,Dt=0,zs=null,za=null,Jr=0,Fh=0,Gh=null,Cb=null,al=0,$h=null;function Pn(){return(Je&2)!==0&&He!==0?He&-He:O.T!==null?Qh():de()}function wb(){if(_n===0)if((He&536870912)===0||qe){var a=vo;vo<<=1,(vo&3932160)===0&&(vo=262144),_n=a}else _n=536870912;return a=Rn.current,a!==null&&(a.flags|=32),_n}function wn(a,l,u){(a===nt&&(Ke===2||Ke===9)||a.cancelPendingCommit!==null)&&(Ua(a,0),Us(a,He,_n,!1)),ps(a,u),((Je&2)===0||a!==nt)&&(a===nt&&((Je&2)===0&&(Uo|=u),gt===4&&Us(a,He,_n,!1)),Cr(a))}function Sb(a,l,u){if((Je&6)!==0)throw Error(r(327));var m=!u&&(l&127)===0&&(l&a.expiredLanes)===0||No(a,l),v=m?S5(a,l):Kh(a,l,!0),C=m;do{if(v===0){Oa&&!m&&Us(a,l,0,!1);break}else{if(u=a.current.alternate,C&&!C5(u)){v=Kh(a,l,!1),C=!1;continue}if(v===2){if(C=l,a.errorRecoveryDisabledLanes&C)var k=0;else k=a.pendingLanes&-536870913,k=k!==0?k:k&536870912?536870912:0;if(k!==0){l=k;e:{var A=a;v=ol;var _=A.current.memoizedState.isDehydrated;if(_&&(Ua(A,k).flags|=256),k=Kh(A,k,!1),k!==2){if(Hh&&!_){A.errorRecoveryDisabledLanes|=C,Uo|=C,v=4;break e}C=Cn,Cn=v,C!==null&&(Cn===null?Cn=C:Cn.push.apply(Cn,C))}v=k}if(C=!1,v!==2)continue}}if(v===1){Ua(a,0),Us(a,l,0,!0);break}e:{switch(m=a,C=v,C){case 0:case 1:throw Error(r(345));case 4:if((l&4194048)!==l)break;case 6:Us(m,l,_n,!Ls);break e;case 2:Cn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((l&62914560)===l&&(v=td+300-_t(),10<v)){if(Us(m,l,_n,!Ls),Rr(m,0,!0)!==0)break e;Jr=l,m.timeoutHandle=ty(Tb.bind(null,m,u,Cn,rd,qh,l,_n,Uo,Ba,Ls,C,"Throttled",-0,0),v);break e}Tb(m,u,Cn,rd,qh,l,_n,Uo,Ba,Ls,C,null,-0,0)}}break}while(!0);Cr(a)}function Tb(a,l,u,m,v,C,k,A,_,F,W,ee,G,$){if(a.timeoutHandle=-1,ee=l.subtreeFlags,ee&8192||(ee&16785408)===16785408){ee={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:lr},xb(l,C,ee);var me=(C&62914560)===C?td-_t():(C&4194048)===C?Nb-_t():0;if(me=aT(ee,me),me!==null){Jr=C,a.cancelPendingCommit=me(Db.bind(null,a,l,C,u,m,v,k,A,_,W,ee,null,G,$)),Us(a,C,k,!F);return}}Db(a,l,C,u,m,v,k,A,_)}function C5(a){for(var l=a;;){var u=l.tag;if((u===0||u===11||u===15)&&l.flags&16384&&(u=l.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var m=0;m<u.length;m++){var v=u[m],C=v.getSnapshot;v=v.value;try{if(!jn(C(),v))return!1}catch{return!1}}if(u=l.child,l.subtreeFlags&16384&&u!==null)u.return=l,l=u;else{if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function Us(a,l,u,m){l&=~Vh,l&=~Uo,a.suspendedLanes|=l,a.pingedLanes&=~l,m&&(a.warmLanes|=l),m=a.expirationTimes;for(var v=l;0<v;){var C=31-on(v),k=1<<C;m[C]=-1,v&=~k}u!==0&&ac(a,u,l)}function sd(){return(Je&6)===0?(il(0),!1):!0}function Jh(){if(ze!==null){if(Ke===0)var a=ze.return;else a=ze,Lr=Ro=null,ch(a),Ma=null,qi=0,a=ze;for(;a!==null;)nb(a.alternate,a),a=a.return;ze=null}}function Ua(a,l){var u=a.timeoutHandle;u!==-1&&(a.timeoutHandle=-1,V5(u)),u=a.cancelPendingCommit,u!==null&&(a.cancelPendingCommit=null,u()),Jr=0,Jh(),nt=a,ze=u=_r(a.current,null),He=l,Ke=0,Dn=null,Ls=!1,Oa=No(a,l),Hh=!1,Ba=_n=Vh=Uo=Os=gt=0,Cn=ol=null,qh=!1,(l&8)!==0&&(l|=l&32);var m=a.entangledLanes;if(m!==0)for(a=a.entanglements,m&=l;0<m;){var v=31-on(m),C=1<<v;l|=a[v],m&=~C}return $r=l,Tc(),u}function kb(a,l){Re=null,O.H=Xi,l===ja||l===Dc?(l=Vx(),Ke=3):l===Xf?(l=Vx(),Ke=4):Ke=l===Th?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,Dn=l,ze===null&&(gt=1,Jc(a,Hn(l,a.current)))}function Eb(){var a=Rn.current;return a===null?!0:(He&4194048)===He?Gn===null:(He&62914560)===He||(He&536870912)!==0?a===Gn:!1}function Ab(){var a=O.H;return O.H=Xi,a===null?Xi:a}function jb(){var a=O.A;return O.A=v5,a}function od(){gt=4,Ls||(He&4194048)!==He&&Rn.current!==null||(Oa=!0),(Os&134217727)===0&&(Uo&134217727)===0||nt===null||Us(nt,He,_n,!1)}function Kh(a,l,u){var m=Je;Je|=2;var v=Ab(),C=jb();(nt!==a||He!==l)&&(rd=null,Ua(a,l)),l=!1;var k=gt;e:do try{if(Ke!==0&&ze!==null){var A=ze,_=Dn;switch(Ke){case 8:Jh(),k=6;break e;case 3:case 2:case 9:case 6:Rn.current===null&&(l=!0);var F=Ke;if(Ke=0,Dn=null,Ha(a,A,_,F),u&&Oa){k=0;break e}break;default:F=Ke,Ke=0,Dn=null,Ha(a,A,_,F)}}w5(),k=gt;break}catch(W){kb(a,W)}while(!0);return l&&a.shellSuspendCounter++,Lr=Ro=null,Je=m,O.H=v,O.A=C,ze===null&&(nt=null,He=0,Tc()),k}function w5(){for(;ze!==null;)Mb(ze)}function S5(a,l){var u=Je;Je|=2;var m=Ab(),v=jb();nt!==a||He!==l?(rd=null,nd=_t()+500,Ua(a,l)):Oa=No(a,l);e:do try{if(Ke!==0&&ze!==null){l=ze;var C=Dn;t:switch(Ke){case 1:Ke=0,Dn=null,Ha(a,l,C,1);break;case 2:case 9:if(Ux(C)){Ke=0,Dn=null,Rb(l);break}l=function(){Ke!==2&&Ke!==9||nt!==a||(Ke=7),Cr(a)},C.then(l,l);break e;case 3:Ke=7;break e;case 4:Ke=5;break e;case 7:Ux(C)?(Ke=0,Dn=null,Rb(l)):(Ke=0,Dn=null,Ha(a,l,C,7));break;case 5:var k=null;switch(ze.tag){case 26:k=ze.memoizedState;case 5:case 27:var A=ze;if(k?gy(k):A.stateNode.complete){Ke=0,Dn=null;var _=A.sibling;if(_!==null)ze=_;else{var F=A.return;F!==null?(ze=F,ad(F)):ze=null}break t}}Ke=0,Dn=null,Ha(a,l,C,5);break;case 6:Ke=0,Dn=null,Ha(a,l,C,6);break;case 8:Jh(),gt=6;break e;default:throw Error(r(462))}}T5();break}catch(W){kb(a,W)}while(!0);return Lr=Ro=null,O.H=m,O.A=v,Je=u,ze!==null?0:(nt=null,He=0,Tc(),gt)}function T5(){for(;ze!==null&&!da();)Mb(ze)}function Mb(a){var l=eb(a.alternate,a,$r);a.memoizedProps=a.pendingProps,l===null?ad(a):ze=l}function Rb(a){var l=a,u=l.alternate;switch(l.tag){case 15:case 0:l=K0(u,l,l.pendingProps,l.type,void 0,He);break;case 11:l=K0(u,l,l.pendingProps,l.type.render,l.ref,He);break;case 5:ch(l);default:nb(u,l),l=ze=jx(l,$r),l=eb(u,l,$r)}a.memoizedProps=a.pendingProps,l===null?ad(a):ze=l}function Ha(a,l,u,m){Lr=Ro=null,ch(l),Ma=null,qi=0;var v=l.return;try{if(h5(a,v,l,u,He)){gt=1,Jc(a,Hn(u,a.current)),ze=null;return}}catch(C){if(v!==null)throw ze=v,C;gt=1,Jc(a,Hn(u,a.current)),ze=null;return}l.flags&32768?(qe||m===1?a=!0:Oa||(He&536870912)!==0?a=!1:(Ls=a=!0,(m===2||m===9||m===3||m===6)&&(m=Rn.current,m!==null&&m.tag===13&&(m.flags|=16384))),Ib(l,a)):ad(l)}function ad(a){var l=a;do{if((l.flags&32768)!==0){Ib(l,Ls);return}a=l.return;var u=g5(l.alternate,l,$r);if(u!==null){ze=u;return}if(l=l.sibling,l!==null){ze=l;return}ze=l=a}while(l!==null);gt===0&&(gt=5)}function Ib(a,l){do{var u=x5(a.alternate,a);if(u!==null){u.flags&=32767,ze=u;return}if(u=a.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!l&&(a=a.sibling,a!==null)){ze=a;return}ze=a=u}while(a!==null);gt=6,ze=null}function Db(a,l,u,m,v,C,k,A,_){a.cancelPendingCommit=null;do id();while(Dt!==0);if((Je&6)!==0)throw Error(r(327));if(l!==null){if(l===a.current)throw Error(r(177));if(C=l.lanes|l.childLanes,C|=Lf,pf(a,u,C,k,A,_),a===nt&&(ze=nt=null,He=0),za=l,zs=a,Jr=u,Fh=C,Gh=v,Cb=m,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,j5(Oe,function(){return Bb(),null})):(a.callbackNode=null,a.callbackPriority=0),m=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||m){m=O.T,O.T=null,v=J.p,J.p=2,k=Je,Je|=4;try{b5(a,l,u)}finally{Je=k,J.p=v,O.T=m}}Dt=1,_b(),Pb(),Lb()}}function _b(){if(Dt===1){Dt=0;var a=zs,l=za,u=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||u){u=O.T,O.T=null;var m=J.p;J.p=2;var v=Je;Je|=4;try{mb(l,a);var C=am,k=vx(a.containerInfo),A=C.focusedElem,_=C.selectionRange;if(k!==A&&A&&A.ownerDocument&&yx(A.ownerDocument.documentElement,A)){if(_!==null&&Rf(A)){var F=_.start,W=_.end;if(W===void 0&&(W=F),"selectionStart"in A)A.selectionStart=F,A.selectionEnd=Math.min(W,A.value.length);else{var ee=A.ownerDocument||document,G=ee&&ee.defaultView||window;if(G.getSelection){var $=G.getSelection(),me=A.textContent.length,Se=Math.min(_.start,me),tt=_.end===void 0?Se:Math.min(_.end,me);!$.extend&&Se>tt&&(k=tt,tt=Se,Se=k);var U=bx(A,Se),L=bx(A,tt);if(U&&L&&($.rangeCount!==1||$.anchorNode!==U.node||$.anchorOffset!==U.offset||$.focusNode!==L.node||$.focusOffset!==L.offset)){var q=ee.createRange();q.setStart(U.node,U.offset),$.removeAllRanges(),Se>tt?($.addRange(q),$.extend(L.node,L.offset)):(q.setEnd(L.node,L.offset),$.addRange(q))}}}}for(ee=[],$=A;$=$.parentNode;)$.nodeType===1&&ee.push({element:$,left:$.scrollLeft,top:$.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<ee.length;A++){var Z=ee[A];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}yd=!!om,am=om=null}finally{Je=v,J.p=m,O.T=u}}a.current=l,Dt=2}}function Pb(){if(Dt===2){Dt=0;var a=zs,l=za,u=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||u){u=O.T,O.T=null;var m=J.p;J.p=2;var v=Je;Je|=4;try{cb(a,l.alternate,l)}finally{Je=v,J.p=m,O.T=u}}Dt=3}}function Lb(){if(Dt===4||Dt===3){Dt=0,ua();var a=zs,l=za,u=Jr,m=Cb;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?Dt=5:(Dt=0,za=zs=null,Ob(a,a.pendingLanes));var v=a.pendingLanes;if(v===0&&(Bs=null),wi(u),l=l.stateNode,mn&&typeof mn.onCommitFiberRoot=="function")try{mn.onCommitFiberRoot(or,l,void 0,(l.current.flags&128)===128)}catch{}if(m!==null){l=O.T,v=J.p,J.p=2,O.T=null;try{for(var C=a.onRecoverableError,k=0;k<m.length;k++){var A=m[k];C(A.value,{componentStack:A.stack})}}finally{O.T=l,J.p=v}}(Jr&3)!==0&&id(),Cr(a),v=a.pendingLanes,(u&261930)!==0&&(v&42)!==0?a===$h?al++:(al=0,$h=a):al=0,il(0)}}function Ob(a,l){(a.pooledCacheLanes&=l)===0&&(l=a.pooledCache,l!=null&&(a.pooledCache=null,Hi(l)))}function id(){return _b(),Pb(),Lb(),Bb()}function Bb(){if(Dt!==5)return!1;var a=zs,l=Fh;Fh=0;var u=wi(Jr),m=O.T,v=J.p;try{J.p=32>u?32:u,O.T=null,u=Gh,Gh=null;var C=zs,k=Jr;if(Dt=0,za=zs=null,Jr=0,(Je&6)!==0)throw Error(r(331));var A=Je;if(Je|=4,yb(C.current),gb(C,C.current,k,u),Je=A,il(0,!1),mn&&typeof mn.onPostCommitFiberRoot=="function")try{mn.onPostCommitFiberRoot(or,C)}catch{}return!0}finally{J.p=v,O.T=m,Ob(a,l)}}function zb(a,l,u){l=Hn(u,l),l=Sh(a.stateNode,l,2),a=Is(a,l,2),a!==null&&(ps(a,2),Cr(a))}function Ye(a,l,u){if(a.tag===3)zb(a,a,u);else for(;l!==null;){if(l.tag===3){zb(l,a,u);break}else if(l.tag===1){var m=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(Bs===null||!Bs.has(m))){a=Hn(u,a),u=U0(2),m=Is(l,u,2),m!==null&&(H0(u,m,l,a),ps(m,2),Cr(m));break}}l=l.return}}function Yh(a,l,u){var m=a.pingCache;if(m===null){m=a.pingCache=new N5;var v=new Set;m.set(l,v)}else v=m.get(l),v===void 0&&(v=new Set,m.set(l,v));v.has(u)||(Hh=!0,v.add(u),a=k5.bind(null,a,l,u),l.then(a,a))}function k5(a,l,u){var m=a.pingCache;m!==null&&m.delete(l),a.pingedLanes|=a.suspendedLanes&u,a.warmLanes&=~u,nt===a&&(He&u)===u&&(gt===4||gt===3&&(He&62914560)===He&&300>_t()-td?(Je&2)===0&&Ua(a,0):Vh|=u,Ba===He&&(Ba=0)),Cr(a)}function Ub(a,l){l===0&&(l=oc()),a=Ao(a,l),a!==null&&(ps(a,l),Cr(a))}function E5(a){var l=a.memoizedState,u=0;l!==null&&(u=l.retryLane),Ub(a,u)}function A5(a,l){var u=0;switch(a.tag){case 31:case 13:var m=a.stateNode,v=a.memoizedState;v!==null&&(u=v.retryLane);break;case 19:m=a.stateNode;break;case 22:m=a.stateNode._retryCache;break;default:throw Error(r(314))}m!==null&&m.delete(l),Ub(a,u)}function j5(a,l){return us(a,l)}var ld=null,Va=null,Wh=!1,cd=!1,Xh=!1,Hs=0;function Cr(a){a!==Va&&a.next===null&&(Va===null?ld=Va=a:Va=Va.next=a),cd=!0,Wh||(Wh=!0,R5())}function il(a,l){if(!Xh&&cd){Xh=!0;do for(var u=!1,m=ld;m!==null;){if(a!==0){var v=m.pendingLanes;if(v===0)var C=0;else{var k=m.suspendedLanes,A=m.pingedLanes;C=(1<<31-on(42|a)+1)-1,C&=v&~(k&~A),C=C&201326741?C&201326741|1:C?C|2:0}C!==0&&(u=!0,Fb(m,C))}else C=He,C=Rr(m,m===nt?C:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(C&3)===0||No(m,C)||(u=!0,Fb(m,C));m=m.next}while(u);Xh=!1}}function M5(){Hb()}function Hb(){cd=Wh=!1;var a=0;Hs!==0&&H5()&&(a=Hs);for(var l=_t(),u=null,m=ld;m!==null;){var v=m.next,C=Vb(m,l);C===0?(m.next=null,u===null?ld=v:u.next=v,v===null&&(Va=u)):(u=m,(a!==0||(C&3)!==0)&&(cd=!0)),m=v}Dt!==0&&Dt!==5||il(a),Hs!==0&&(Hs=0)}function Vb(a,l){for(var u=a.suspendedLanes,m=a.pingedLanes,v=a.expirationTimes,C=a.pendingLanes&-62914561;0<C;){var k=31-on(C),A=1<<k,_=v[k];_===-1?((A&u)===0||(A&m)!==0)&&(v[k]=ms(A,l)):_<=l&&(a.expiredLanes|=A),C&=~A}if(l=nt,u=He,u=Rr(a,a===l?u:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),m=a.callbackNode,u===0||a===l&&(Ke===2||Ke===9)||a.cancelPendingCommit!==null)return m!==null&&m!==null&&sr(m),a.callbackNode=null,a.callbackPriority=0;if((u&3)===0||No(a,u)){if(l=u&-u,l===a.callbackPriority)return l;switch(m!==null&&sr(m),wi(u)){case 2:case 8:u=Me;break;case 32:u=Oe;break;case 268435456:u=fs;break;default:u=Oe}return m=qb.bind(null,a),u=us(u,m),a.callbackPriority=l,a.callbackNode=u,l}return m!==null&&m!==null&&sr(m),a.callbackPriority=2,a.callbackNode=null,2}function qb(a,l){if(Dt!==0&&Dt!==5)return a.callbackNode=null,a.callbackPriority=0,null;var u=a.callbackNode;if(id()&&a.callbackNode!==u)return null;var m=He;return m=Rr(a,a===nt?m:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),m===0?null:(Sb(a,m,l),Vb(a,_t()),a.callbackNode!=null&&a.callbackNode===u?qb.bind(null,a):null)}function Fb(a,l){if(id())return null;Sb(a,l,!0)}function R5(){q5(function(){(Je&6)!==0?us(Le,M5):Hb()})}function Qh(){if(Hs===0){var a=Ea;a===0&&(a=yo,yo<<=1,(yo&261888)===0&&(yo=256)),Hs=a}return Hs}function Gb(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:xa(""+a)}function $b(a,l){var u=l.ownerDocument.createElement("input");return u.name=l.name,u.value=l.value,a.id&&u.setAttribute("form",a.id),l.parentNode.insertBefore(u,l),a=new FormData(a),u.parentNode.removeChild(u),a}function I5(a,l,u,m,v){if(l==="submit"&&u&&u.stateNode===v){var C=Gb((v[Wt]||null).action),k=m.submitter;k&&(l=(l=k[Wt]||null)?Gb(l.formAction):k.getAttribute("formAction"),l!==null&&(C=l,k=null));var A=new Nc("action","action",null,m,v);a.push({event:A,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(Hs!==0){var _=k?$b(v,k):new FormData(v);bh(u,{pending:!0,data:_,method:v.method,action:C},null,_)}}else typeof C=="function"&&(A.preventDefault(),_=k?$b(v,k):new FormData(v),bh(u,{pending:!0,data:_,method:v.method,action:C},C,_))},currentTarget:v}]})}}for(var Zh=0;Zh<Pf.length;Zh++){var em=Pf[Zh],D5=em.toLowerCase(),_5=em[0].toUpperCase()+em.slice(1);dr(D5,"on"+_5)}dr(wx,"onAnimationEnd"),dr(Sx,"onAnimationIteration"),dr(Tx,"onAnimationStart"),dr("dblclick","onDoubleClick"),dr("focusin","onFocus"),dr("focusout","onBlur"),dr(WS,"onTransitionRun"),dr(XS,"onTransitionStart"),dr(QS,"onTransitionCancel"),dr(kx,"onTransitionEnd"),Ns("onMouseEnter",["mouseout","mouseover"]),Ns("onMouseLeave",["mouseout","mouseover"]),Ns("onPointerEnter",["pointerout","pointerover"]),Ns("onPointerLeave",["pointerout","pointerover"]),Ir("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ir("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ir("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ir("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ir("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ir("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ll="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),P5=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ll));function Jb(a,l){l=(l&4)!==0;for(var u=0;u<a.length;u++){var m=a[u],v=m.event;m=m.listeners;e:{var C=void 0;if(l)for(var k=m.length-1;0<=k;k--){var A=m[k],_=A.instance,F=A.currentTarget;if(A=A.listener,_!==C&&v.isPropagationStopped())break e;C=A,v.currentTarget=F;try{C(v)}catch(W){Sc(W)}v.currentTarget=null,C=_}else for(k=0;k<m.length;k++){if(A=m[k],_=A.instance,F=A.currentTarget,A=A.listener,_!==C&&v.isPropagationStopped())break e;C=A,v.currentTarget=F;try{C(v)}catch(W){Sc(W)}v.currentTarget=null,C=_}}}}function Ue(a,l){var u=l[Si];u===void 0&&(u=l[Si]=new Set);var m=a+"__bubble";u.has(m)||(Kb(l,a,2,!1),u.add(m))}function tm(a,l,u){var m=0;l&&(m|=4),Kb(u,a,m,l)}var dd="_reactListening"+Math.random().toString(36).slice(2);function nm(a){if(!a[dd]){a[dd]=!0,lc.forEach(function(u){u!=="selectionchange"&&(P5.has(u)||tm(u,!1,a),tm(u,!0,a))});var l=a.nodeType===9?a:a.ownerDocument;l===null||l[dd]||(l[dd]=!0,tm("selectionchange",!1,l))}}function Kb(a,l,u,m){switch(wy(l)){case 2:var v=cT;break;case 8:v=dT;break;default:v=xm}u=v.bind(null,l,u,a),v=void 0,!Ts||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(v=!0),m?v!==void 0?a.addEventListener(l,u,{capture:!0,passive:v}):a.addEventListener(l,u,!0):v!==void 0?a.addEventListener(l,u,{passive:v}):a.addEventListener(l,u,!1)}function rm(a,l,u,m,v){var C=m;if((l&1)===0&&(l&2)===0&&m!==null)e:for(;;){if(m===null)return;var k=m.tag;if(k===3||k===4){var A=m.stateNode.containerInfo;if(A===v)break;if(k===4)for(k=m.return;k!==null;){var _=k.tag;if((_===3||_===4)&&k.stateNode.containerInfo===v)return;k=k.return}for(;A!==null;){if(k=xs(A),k===null)return;if(_=k.tag,_===5||_===6||_===26||_===27){m=C=k;continue e}A=A.parentNode}}m=m.return}se(function(){var F=C,W=Ri(u),ee=[];e:{var G=Ex.get(a);if(G!==void 0){var $=Nc,me=a;switch(a){case"keypress":if(yc(u)===0)break e;case"keydown":case"keyup":$=AS;break;case"focusin":me="focus",$=kf;break;case"focusout":me="blur",$=kf;break;case"beforeblur":case"afterblur":$=kf;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":$=nx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":$=gS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":$=RS;break;case wx:case Sx:case Tx:$=yS;break;case kx:$=DS;break;case"scroll":case"scrollend":$=mS;break;case"wheel":$=PS;break;case"copy":case"cut":case"paste":$=NS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":$=sx;break;case"toggle":case"beforetoggle":$=OS}var Se=(l&4)!==0,tt=!Se&&(a==="scroll"||a==="scrollend"),U=Se?G!==null?G+"Capture":null:G;Se=[];for(var L=F,q;L!==null;){var Z=L;if(q=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||q===null||U===null||(Z=Qe(L,U),Z!=null&&Se.push(cl(L,Z,q))),tt)break;L=L.return}0<Se.length&&(G=new $(G,me,null,u,W),ee.push({event:G,listeners:Se}))}}if((l&7)===0){e:{if(G=a==="mouseover"||a==="pointerover",$=a==="mouseout"||a==="pointerout",G&&u!==Mi&&(me=u.relatedTarget||u.fromElement)&&(xs(me)||me[gs]))break e;if(($||G)&&(G=W.window===W?W:(G=W.ownerDocument)?G.defaultView||G.parentWindow:window,$?(me=u.relatedTarget||u.toElement,$=F,me=me?xs(me):null,me!==null&&(tt=i(me),Se=me.tag,me!==tt||Se!==5&&Se!==27&&Se!==6)&&(me=null)):($=null,me=F),$!==me)){if(Se=nx,Z="onMouseLeave",U="onMouseEnter",L="mouse",(a==="pointerout"||a==="pointerover")&&(Se=sx,Z="onPointerLeave",U="onPointerEnter",L="pointer"),tt=$==null?G:ys($),q=me==null?G:ys(me),G=new Se(Z,L+"leave",$,u,W),G.target=tt,G.relatedTarget=q,Z=null,xs(W)===F&&(Se=new Se(U,L+"enter",me,u,W),Se.target=q,Se.relatedTarget=tt,Z=Se),tt=Z,$&&me)t:{for(Se=L5,U=$,L=me,q=0,Z=U;Z;Z=Se(Z))q++;Z=0;for(var ve=L;ve;ve=Se(ve))Z++;for(;0<q-Z;)U=Se(U),q--;for(;0<Z-q;)L=Se(L),Z--;for(;q--;){if(U===L||L!==null&&U===L.alternate){Se=U;break t}U=Se(U),L=Se(L)}Se=null}else Se=null;$!==null&&Yb(ee,G,$,Se,!1),me!==null&&tt!==null&&Yb(ee,tt,me,Se,!0)}}e:{if(G=F?ys(F):window,$=G.nodeName&&G.nodeName.toLowerCase(),$==="select"||$==="input"&&G.type==="file")var Fe=fx;else if(dx(G))if(hx)Fe=JS;else{Fe=GS;var xe=FS}else $=G.nodeName,!$||$.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?F&&ji(F.elementType)&&(Fe=fx):Fe=$S;if(Fe&&(Fe=Fe(a,F))){ux(ee,Fe,u,W);break e}xe&&xe(a,G,F),a==="focusout"&&F&&G.type==="number"&&F.memoizedProps.value!=null&&ga(G,"number",G.value)}switch(xe=F?ys(F):window,a){case"focusin":(dx(xe)||xe.contentEditable==="true")&&(ya=xe,If=F,Bi=null);break;case"focusout":Bi=If=ya=null;break;case"mousedown":Df=!0;break;case"contextmenu":case"mouseup":case"dragend":Df=!1,Nx(ee,u,W);break;case"selectionchange":if(YS)break;case"keydown":case"keyup":Nx(ee,u,W)}var De;if(Af)e:{switch(a){case"compositionstart":var Ve="onCompositionStart";break e;case"compositionend":Ve="onCompositionEnd";break e;case"compositionupdate":Ve="onCompositionUpdate";break e}Ve=void 0}else ba?lx(a,u)&&(Ve="onCompositionEnd"):a==="keydown"&&u.keyCode===229&&(Ve="onCompositionStart");Ve&&(ox&&u.locale!=="ko"&&(ba||Ve!=="onCompositionStart"?Ve==="onCompositionEnd"&&ba&&(De=ex()):(cr=W,wf="value"in cr?cr.value:cr.textContent,ba=!0)),xe=ud(F,Ve),0<xe.length&&(Ve=new rx(Ve,a,null,u,W),ee.push({event:Ve,listeners:xe}),De?Ve.data=De:(De=cx(u),De!==null&&(Ve.data=De)))),(De=zS?US(a,u):HS(a,u))&&(Ve=ud(F,"onBeforeInput"),0<Ve.length&&(xe=new rx("onBeforeInput","beforeinput",null,u,W),ee.push({event:xe,listeners:Ve}),xe.data=De)),I5(ee,a,F,u,W)}Jb(ee,l)})}function cl(a,l,u){return{instance:a,listener:l,currentTarget:u}}function ud(a,l){for(var u=l+"Capture",m=[];a!==null;){var v=a,C=v.stateNode;if(v=v.tag,v!==5&&v!==26&&v!==27||C===null||(v=Qe(a,u),v!=null&&m.unshift(cl(a,v,C)),v=Qe(a,l),v!=null&&m.push(cl(a,v,C))),a.tag===3)return m;a=a.return}return[]}function L5(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function Yb(a,l,u,m,v){for(var C=l._reactName,k=[];u!==null&&u!==m;){var A=u,_=A.alternate,F=A.stateNode;if(A=A.tag,_!==null&&_===m)break;A!==5&&A!==26&&A!==27||F===null||(_=F,v?(F=Qe(u,C),F!=null&&k.unshift(cl(u,F,_))):v||(F=Qe(u,C),F!=null&&k.push(cl(u,F,_)))),u=u.return}k.length!==0&&a.push({event:l,listeners:k})}var O5=/\r\n?/g,B5=/\u0000|\uFFFD/g;function Wb(a){return(typeof a=="string"?a:""+a).replace(O5,`
`).replace(B5,"")}function Xb(a,l){return l=Wb(l),Wb(a)===l}function et(a,l,u,m,v,C){switch(u){case"children":typeof m=="string"?l==="body"||l==="textarea"&&m===""||ws(a,m):(typeof m=="number"||typeof m=="bigint")&&l!=="body"&&ws(a,""+m);break;case"className":ma(a,"class",m);break;case"tabIndex":ma(a,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":ma(a,u,m);break;case"style":br(a,m,C);break;case"data":if(l!=="object"){ma(a,"data",m);break}case"src":case"href":if(m===""&&(l!=="a"||u!=="href")){a.removeAttribute(u);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){a.removeAttribute(u);break}m=xa(""+m),a.setAttribute(u,m);break;case"action":case"formAction":if(typeof m=="function"){a.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof C=="function"&&(u==="formAction"?(l!=="input"&&et(a,l,"name",v.name,v,null),et(a,l,"formEncType",v.formEncType,v,null),et(a,l,"formMethod",v.formMethod,v,null),et(a,l,"formTarget",v.formTarget,v,null)):(et(a,l,"encType",v.encType,v,null),et(a,l,"method",v.method,v,null),et(a,l,"target",v.target,v,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){a.removeAttribute(u);break}m=xa(""+m),a.setAttribute(u,m);break;case"onClick":m!=null&&(a.onclick=lr);break;case"onScroll":m!=null&&Ue("scroll",a);break;case"onScrollEnd":m!=null&&Ue("scrollend",a);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(u=m.__html,u!=null){if(v.children!=null)throw Error(r(60));a.innerHTML=u}}break;case"multiple":a.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":a.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){a.removeAttribute("xlink:href");break}u=xa(""+m),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?a.setAttribute(u,""+m):a.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?a.setAttribute(u,""):a.removeAttribute(u);break;case"capture":case"download":m===!0?a.setAttribute(u,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?a.setAttribute(u,m):a.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?a.setAttribute(u,m):a.removeAttribute(u);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?a.removeAttribute(u):a.setAttribute(u,m);break;case"popover":Ue("beforetoggle",a),Ue("toggle",a),ha(a,"popover",m);break;case"xlinkActuate":ir(a,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":ir(a,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":ir(a,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":ir(a,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":ir(a,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":ir(a,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":ir(a,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":ir(a,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":ir(a,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":ha(a,"is",m);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=Nf.get(u)||u,ha(a,u,m))}}function sm(a,l,u,m,v,C){switch(u){case"style":br(a,m,C);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(u=m.__html,u!=null){if(v.children!=null)throw Error(r(60));a.innerHTML=u}}break;case"children":typeof m=="string"?ws(a,m):(typeof m=="number"||typeof m=="bigint")&&ws(a,""+m);break;case"onScroll":m!=null&&Ue("scroll",a);break;case"onScrollEnd":m!=null&&Ue("scrollend",a);break;case"onClick":m!=null&&(a.onclick=lr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!cc.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(v=u.endsWith("Capture"),l=u.slice(2,v?u.length-7:void 0),C=a[Wt]||null,C=C!=null?C[u]:null,typeof C=="function"&&a.removeEventListener(l,C,v),typeof m=="function")){typeof C!="function"&&C!==null&&(u in a?a[u]=null:a.hasAttribute(u)&&a.removeAttribute(u)),a.addEventListener(l,m,v);break e}u in a?a[u]=m:m===!0?a.setAttribute(u,""):ha(a,u,m)}}}function Ft(a,l,u){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ue("error",a),Ue("load",a);var m=!1,v=!1,C;for(C in u)if(u.hasOwnProperty(C)){var k=u[C];if(k!=null)switch(C){case"src":m=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:et(a,l,C,k,u,null)}}v&&et(a,l,"srcSet",u.srcSet,u,null),m&&et(a,l,"src",u.src,u,null);return;case"input":Ue("invalid",a);var A=C=k=v=null,_=null,F=null;for(m in u)if(u.hasOwnProperty(m)){var W=u[m];if(W!=null)switch(m){case"name":v=W;break;case"type":k=W;break;case"checked":_=W;break;case"defaultChecked":F=W;break;case"value":C=W;break;case"defaultValue":A=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(r(137,l));break;default:et(a,l,m,W,u,null)}}Dr(a,C,A,_,F,k,v,!1);return;case"select":Ue("invalid",a),m=k=C=null;for(v in u)if(u.hasOwnProperty(v)&&(A=u[v],A!=null))switch(v){case"value":C=A;break;case"defaultValue":k=A;break;case"multiple":m=A;default:et(a,l,v,A,u,null)}l=C,u=k,a.multiple=!!m,l!=null?Cs(a,!!m,l,!1):u!=null&&Cs(a,!!m,u,!0);return;case"textarea":Ue("invalid",a),C=v=m=null;for(k in u)if(u.hasOwnProperty(k)&&(A=u[k],A!=null))switch(k){case"value":m=A;break;case"defaultValue":v=A;break;case"children":C=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(r(91));break;default:et(a,l,k,A,u,null)}gc(a,m,v,C);return;case"option":for(_ in u)if(u.hasOwnProperty(_)&&(m=u[_],m!=null))switch(_){case"selected":a.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:et(a,l,_,m,u,null)}return;case"dialog":Ue("beforetoggle",a),Ue("toggle",a),Ue("cancel",a),Ue("close",a);break;case"iframe":case"object":Ue("load",a);break;case"video":case"audio":for(m=0;m<ll.length;m++)Ue(ll[m],a);break;case"image":Ue("error",a),Ue("load",a);break;case"details":Ue("toggle",a);break;case"embed":case"source":case"link":Ue("error",a),Ue("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(F in u)if(u.hasOwnProperty(F)&&(m=u[F],m!=null))switch(F){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:et(a,l,F,m,u,null)}return;default:if(ji(l)){for(W in u)u.hasOwnProperty(W)&&(m=u[W],m!==void 0&&sm(a,l,W,m,u,void 0));return}}for(A in u)u.hasOwnProperty(A)&&(m=u[A],m!=null&&et(a,l,A,m,u,null))}function z5(a,l,u,m){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,C=null,k=null,A=null,_=null,F=null,W=null;for($ in u){var ee=u[$];if(u.hasOwnProperty($)&&ee!=null)switch($){case"checked":break;case"value":break;case"defaultValue":_=ee;default:m.hasOwnProperty($)||et(a,l,$,null,m,ee)}}for(var G in m){var $=m[G];if(ee=u[G],m.hasOwnProperty(G)&&($!=null||ee!=null))switch(G){case"type":C=$;break;case"name":v=$;break;case"checked":F=$;break;case"defaultChecked":W=$;break;case"value":k=$;break;case"defaultValue":A=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(r(137,l));break;default:$!==ee&&et(a,l,G,$,m,ee)}}Ai(a,k,A,_,F,W,C,v);return;case"select":$=k=A=G=null;for(C in u)if(_=u[C],u.hasOwnProperty(C)&&_!=null)switch(C){case"value":break;case"multiple":$=_;default:m.hasOwnProperty(C)||et(a,l,C,null,m,_)}for(v in m)if(C=m[v],_=u[v],m.hasOwnProperty(v)&&(C!=null||_!=null))switch(v){case"value":G=C;break;case"defaultValue":A=C;break;case"multiple":k=C;default:C!==_&&et(a,l,v,C,m,_)}l=A,u=k,m=$,G!=null?Cs(a,!!u,G,!1):!!m!=!!u&&(l!=null?Cs(a,!!u,l,!0):Cs(a,!!u,u?[]:"",!1));return;case"textarea":$=G=null;for(A in u)if(v=u[A],u.hasOwnProperty(A)&&v!=null&&!m.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:et(a,l,A,null,m,v)}for(k in m)if(v=m[k],C=u[k],m.hasOwnProperty(k)&&(v!=null||C!=null))switch(k){case"value":G=v;break;case"defaultValue":$=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(r(91));break;default:v!==C&&et(a,l,k,v,m,C)}pc(a,G,$);return;case"option":for(var me in u)if(G=u[me],u.hasOwnProperty(me)&&G!=null&&!m.hasOwnProperty(me))switch(me){case"selected":a.selected=!1;break;default:et(a,l,me,null,m,G)}for(_ in m)if(G=m[_],$=u[_],m.hasOwnProperty(_)&&G!==$&&(G!=null||$!=null))switch(_){case"selected":a.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:et(a,l,_,G,m,$)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Se in u)G=u[Se],u.hasOwnProperty(Se)&&G!=null&&!m.hasOwnProperty(Se)&&et(a,l,Se,null,m,G);for(F in m)if(G=m[F],$=u[F],m.hasOwnProperty(F)&&G!==$&&(G!=null||$!=null))switch(F){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(137,l));break;default:et(a,l,F,G,m,$)}return;default:if(ji(l)){for(var tt in u)G=u[tt],u.hasOwnProperty(tt)&&G!==void 0&&!m.hasOwnProperty(tt)&&sm(a,l,tt,void 0,m,G);for(W in m)G=m[W],$=u[W],!m.hasOwnProperty(W)||G===$||G===void 0&&$===void 0||sm(a,l,W,G,m,$);return}}for(var U in u)G=u[U],u.hasOwnProperty(U)&&G!=null&&!m.hasOwnProperty(U)&&et(a,l,U,null,m,G);for(ee in m)G=m[ee],$=u[ee],!m.hasOwnProperty(ee)||G===$||G==null&&$==null||et(a,l,ee,G,m,$)}function Qb(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function U5(){if(typeof performance.getEntriesByType=="function"){for(var a=0,l=0,u=performance.getEntriesByType("resource"),m=0;m<u.length;m++){var v=u[m],C=v.transferSize,k=v.initiatorType,A=v.duration;if(C&&A&&Qb(k)){for(k=0,A=v.responseEnd,m+=1;m<u.length;m++){var _=u[m],F=_.startTime;if(F>A)break;var W=_.transferSize,ee=_.initiatorType;W&&Qb(ee)&&(_=_.responseEnd,k+=W*(_<A?1:(A-F)/(_-F)))}if(--m,l+=8*(C+k)/(v.duration/1e3),a++,10<a)break}}if(0<a)return l/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var om=null,am=null;function fd(a){return a.nodeType===9?a:a.ownerDocument}function Zb(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ey(a,l){if(a===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&l==="foreignObject"?0:a}function im(a,l){return a==="textarea"||a==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var lm=null;function H5(){var a=window.event;return a&&a.type==="popstate"?a===lm?!1:(lm=a,!0):(lm=null,!1)}var ty=typeof setTimeout=="function"?setTimeout:void 0,V5=typeof clearTimeout=="function"?clearTimeout:void 0,ny=typeof Promise=="function"?Promise:void 0,q5=typeof queueMicrotask=="function"?queueMicrotask:typeof ny<"u"?function(a){return ny.resolve(null).then(a).catch(F5)}:ty;function F5(a){setTimeout(function(){throw a})}function Vs(a){return a==="head"}function ry(a,l){var u=l,m=0;do{var v=u.nextSibling;if(a.removeChild(u),v&&v.nodeType===8)if(u=v.data,u==="/$"||u==="/&"){if(m===0){a.removeChild(v),$a(l);return}m--}else if(u==="$"||u==="$?"||u==="$~"||u==="$!"||u==="&")m++;else if(u==="html")dl(a.ownerDocument.documentElement);else if(u==="head"){u=a.ownerDocument.head,dl(u);for(var C=u.firstChild;C;){var k=C.nextSibling,A=C.nodeName;C[So]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&C.rel.toLowerCase()==="stylesheet"||u.removeChild(C),C=k}}else u==="body"&&dl(a.ownerDocument.body);u=v}while(u);$a(l)}function sy(a,l){var u=a;a=0;do{var m=u.nextSibling;if(u.nodeType===1?l?(u._stashedDisplay=u.style.display,u.style.display="none"):(u.style.display=u._stashedDisplay||"",u.getAttribute("style")===""&&u.removeAttribute("style")):u.nodeType===3&&(l?(u._stashedText=u.nodeValue,u.nodeValue=""):u.nodeValue=u._stashedText||""),m&&m.nodeType===8)if(u=m.data,u==="/$"){if(a===0)break;a--}else u!=="$"&&u!=="$?"&&u!=="$~"&&u!=="$!"||a++;u=m}while(u)}function cm(a){var l=a.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var u=l;switch(l=l.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":cm(u),ki(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}a.removeChild(u)}}function G5(a,l,u,m){for(;a.nodeType===1;){var v=u;if(a.nodeName.toLowerCase()!==l.toLowerCase()){if(!m&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(m){if(!a[So])switch(l){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(C=a.getAttribute("rel"),C==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(C!==v.rel||a.getAttribute("href")!==(v.href==null||v.href===""?null:v.href)||a.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||a.getAttribute("title")!==(v.title==null?null:v.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(C=a.getAttribute("src"),(C!==(v.src==null?null:v.src)||a.getAttribute("type")!==(v.type==null?null:v.type)||a.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&C&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(l==="input"&&a.type==="hidden"){var C=v.name==null?null:""+v.name;if(v.type==="hidden"&&a.getAttribute("name")===C)return a}else return a;if(a=$n(a.nextSibling),a===null)break}return null}function $5(a,l,u){if(l==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!u||(a=$n(a.nextSibling),a===null))return null;return a}function oy(a,l){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!l||(a=$n(a.nextSibling),a===null))return null;return a}function dm(a){return a.data==="$?"||a.data==="$~"}function um(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function J5(a,l){var u=a.ownerDocument;if(a.data==="$~")a._reactRetry=l;else if(a.data!=="$?"||u.readyState!=="loading")l();else{var m=function(){l(),u.removeEventListener("DOMContentLoaded",m)};u.addEventListener("DOMContentLoaded",m),a._reactRetry=m}}function $n(a){for(;a!=null;a=a.nextSibling){var l=a.nodeType;if(l===1||l===3)break;if(l===8){if(l=a.data,l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"||l==="F!"||l==="F")break;if(l==="/$"||l==="/&")return null}}return a}var fm=null;function ay(a){a=a.nextSibling;for(var l=0;a;){if(a.nodeType===8){var u=a.data;if(u==="/$"||u==="/&"){if(l===0)return $n(a.nextSibling);l--}else u!=="$"&&u!=="$!"&&u!=="$?"&&u!=="$~"&&u!=="&"||l++}a=a.nextSibling}return null}function iy(a){a=a.previousSibling;for(var l=0;a;){if(a.nodeType===8){var u=a.data;if(u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"){if(l===0)return a;l--}else u!=="/$"&&u!=="/&"||l++}a=a.previousSibling}return null}function ly(a,l,u){switch(l=fd(u),a){case"html":if(a=l.documentElement,!a)throw Error(r(452));return a;case"head":if(a=l.head,!a)throw Error(r(453));return a;case"body":if(a=l.body,!a)throw Error(r(454));return a;default:throw Error(r(451))}}function dl(a){for(var l=a.attributes;l.length;)a.removeAttributeNode(l[0]);ki(a)}var Jn=new Map,cy=new Set;function hd(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var Kr=J.d;J.d={f:K5,r:Y5,D:W5,C:X5,L:Q5,m:Z5,X:tT,S:eT,M:nT};function K5(){var a=Kr.f(),l=sd();return a||l}function Y5(a){var l=bs(a);l!==null&&l.tag===5&&l.type==="form"?k0(l):Kr.r(a)}var qa=typeof document>"u"?null:document;function dy(a,l,u){var m=qa;if(m&&typeof l=="string"&&l){var v=gn(l);v='link[rel="'+a+'"][href="'+v+'"]',typeof u=="string"&&(v+='[crossorigin="'+u+'"]'),cy.has(v)||(cy.add(v),a={rel:a,crossOrigin:u,href:l},m.querySelector(v)===null&&(l=m.createElement("link"),Ft(l,"link",a),Ct(l),m.head.appendChild(l)))}}function W5(a){Kr.D(a),dy("dns-prefetch",a,null)}function X5(a,l){Kr.C(a,l),dy("preconnect",a,l)}function Q5(a,l,u){Kr.L(a,l,u);var m=qa;if(m&&a&&l){var v='link[rel="preload"][as="'+gn(l)+'"]';l==="image"&&u&&u.imageSrcSet?(v+='[imagesrcset="'+gn(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(v+='[imagesizes="'+gn(u.imageSizes)+'"]')):v+='[href="'+gn(a)+'"]';var C=v;switch(l){case"style":C=Fa(a);break;case"script":C=Ga(a)}Jn.has(C)||(a=g({rel:"preload",href:l==="image"&&u&&u.imageSrcSet?void 0:a,as:l},u),Jn.set(C,a),m.querySelector(v)!==null||l==="style"&&m.querySelector(ul(C))||l==="script"&&m.querySelector(fl(C))||(l=m.createElement("link"),Ft(l,"link",a),Ct(l),m.head.appendChild(l)))}}function Z5(a,l){Kr.m(a,l);var u=qa;if(u&&a){var m=l&&typeof l.as=="string"?l.as:"script",v='link[rel="modulepreload"][as="'+gn(m)+'"][href="'+gn(a)+'"]',C=v;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":C=Ga(a)}if(!Jn.has(C)&&(a=g({rel:"modulepreload",href:a},l),Jn.set(C,a),u.querySelector(v)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(fl(C)))return}m=u.createElement("link"),Ft(m,"link",a),Ct(m),u.head.appendChild(m)}}}function eT(a,l,u){Kr.S(a,l,u);var m=qa;if(m&&a){var v=vs(m).hoistableStyles,C=Fa(a);l=l||"default";var k=v.get(C);if(!k){var A={loading:0,preload:null};if(k=m.querySelector(ul(C)))A.loading=5;else{a=g({rel:"stylesheet",href:a,"data-precedence":l},u),(u=Jn.get(C))&&hm(a,u);var _=k=m.createElement("link");Ct(_),Ft(_,"link",a),_._p=new Promise(function(F,W){_.onload=F,_.onerror=W}),_.addEventListener("load",function(){A.loading|=1}),_.addEventListener("error",function(){A.loading|=2}),A.loading|=4,md(k,l,m)}k={type:"stylesheet",instance:k,count:1,state:A},v.set(C,k)}}}function tT(a,l){Kr.X(a,l);var u=qa;if(u&&a){var m=vs(u).hoistableScripts,v=Ga(a),C=m.get(v);C||(C=u.querySelector(fl(v)),C||(a=g({src:a,async:!0},l),(l=Jn.get(v))&&mm(a,l),C=u.createElement("script"),Ct(C),Ft(C,"link",a),u.head.appendChild(C)),C={type:"script",instance:C,count:1,state:null},m.set(v,C))}}function nT(a,l){Kr.M(a,l);var u=qa;if(u&&a){var m=vs(u).hoistableScripts,v=Ga(a),C=m.get(v);C||(C=u.querySelector(fl(v)),C||(a=g({src:a,async:!0,type:"module"},l),(l=Jn.get(v))&&mm(a,l),C=u.createElement("script"),Ct(C),Ft(C,"link",a),u.head.appendChild(C)),C={type:"script",instance:C,count:1,state:null},m.set(v,C))}}function uy(a,l,u,m){var v=(v=Te.current)?hd(v):null;if(!v)throw Error(r(446));switch(a){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(l=Fa(u.href),u=vs(v).hoistableStyles,m=u.get(l),m||(m={type:"style",instance:null,count:0,state:null},u.set(l,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){a=Fa(u.href);var C=vs(v).hoistableStyles,k=C.get(a);if(k||(v=v.ownerDocument||v,k={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},C.set(a,k),(C=v.querySelector(ul(a)))&&!C._p&&(k.instance=C,k.state.loading=5),Jn.has(a)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},Jn.set(a,u),C||rT(v,a,u,k.state))),l&&m===null)throw Error(r(528,""));return k}if(l&&m!==null)throw Error(r(529,""));return null;case"script":return l=u.async,u=u.src,typeof u=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=Ga(u),u=vs(v).hoistableScripts,m=u.get(l),m||(m={type:"script",instance:null,count:0,state:null},u.set(l,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,a))}}function Fa(a){return'href="'+gn(a)+'"'}function ul(a){return'link[rel="stylesheet"]['+a+"]"}function fy(a){return g({},a,{"data-precedence":a.precedence,precedence:null})}function rT(a,l,u,m){a.querySelector('link[rel="preload"][as="style"]['+l+"]")?m.loading=1:(l=a.createElement("link"),m.preload=l,l.addEventListener("load",function(){return m.loading|=1}),l.addEventListener("error",function(){return m.loading|=2}),Ft(l,"link",u),Ct(l),a.head.appendChild(l))}function Ga(a){return'[src="'+gn(a)+'"]'}function fl(a){return"script[async]"+a}function hy(a,l,u){if(l.count++,l.instance===null)switch(l.type){case"style":var m=a.querySelector('style[data-href~="'+gn(u.href)+'"]');if(m)return l.instance=m,Ct(m),m;var v=g({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return m=(a.ownerDocument||a).createElement("style"),Ct(m),Ft(m,"style",v),md(m,u.precedence,a),l.instance=m;case"stylesheet":v=Fa(u.href);var C=a.querySelector(ul(v));if(C)return l.state.loading|=4,l.instance=C,Ct(C),C;m=fy(u),(v=Jn.get(v))&&hm(m,v),C=(a.ownerDocument||a).createElement("link"),Ct(C);var k=C;return k._p=new Promise(function(A,_){k.onload=A,k.onerror=_}),Ft(C,"link",m),l.state.loading|=4,md(C,u.precedence,a),l.instance=C;case"script":return C=Ga(u.src),(v=a.querySelector(fl(C)))?(l.instance=v,Ct(v),v):(m=u,(v=Jn.get(C))&&(m=g({},u),mm(m,v)),a=a.ownerDocument||a,v=a.createElement("script"),Ct(v),Ft(v,"link",m),a.head.appendChild(v),l.instance=v);case"void":return null;default:throw Error(r(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(m=l.instance,l.state.loading|=4,md(m,u.precedence,a));return l.instance}function md(a,l,u){for(var m=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=m.length?m[m.length-1]:null,C=v,k=0;k<m.length;k++){var A=m[k];if(A.dataset.precedence===l)C=A;else if(C!==v)break}C?C.parentNode.insertBefore(a,C.nextSibling):(l=u.nodeType===9?u.head:u,l.insertBefore(a,l.firstChild))}function hm(a,l){a.crossOrigin==null&&(a.crossOrigin=l.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=l.referrerPolicy),a.title==null&&(a.title=l.title)}function mm(a,l){a.crossOrigin==null&&(a.crossOrigin=l.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=l.referrerPolicy),a.integrity==null&&(a.integrity=l.integrity)}var pd=null;function my(a,l,u){if(pd===null){var m=new Map,v=pd=new Map;v.set(u,m)}else v=pd,m=v.get(u),m||(m=new Map,v.set(u,m));if(m.has(a))return m;for(m.set(a,null),u=u.getElementsByTagName(a),v=0;v<u.length;v++){var C=u[v];if(!(C[So]||C[It]||a==="link"&&C.getAttribute("rel")==="stylesheet")&&C.namespaceURI!=="http://www.w3.org/2000/svg"){var k=C.getAttribute(l)||"";k=a+k;var A=m.get(k);A?A.push(C):m.set(k,[C])}}return m}function py(a,l,u){a=a.ownerDocument||a,a.head.insertBefore(u,l==="title"?a.querySelector("head > title"):null)}function sT(a,l,u){if(u===1||l.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return a=l.disabled,typeof l.precedence=="string"&&a==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function gy(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function oT(a,l,u,m){if(u.type==="stylesheet"&&(typeof m.media!="string"||matchMedia(m.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var v=Fa(m.href),C=l.querySelector(ul(v));if(C){l=C._p,l!==null&&typeof l=="object"&&typeof l.then=="function"&&(a.count++,a=gd.bind(a),l.then(a,a)),u.state.loading|=4,u.instance=C,Ct(C);return}C=l.ownerDocument||l,m=fy(m),(v=Jn.get(v))&&hm(m,v),C=C.createElement("link"),Ct(C);var k=C;k._p=new Promise(function(A,_){k.onload=A,k.onerror=_}),Ft(C,"link",m),u.instance=C}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(u,l),(l=u.state.preload)&&(u.state.loading&3)===0&&(a.count++,u=gd.bind(a),l.addEventListener("load",u),l.addEventListener("error",u))}}var pm=0;function aT(a,l){return a.stylesheets&&a.count===0&&bd(a,a.stylesheets),0<a.count||0<a.imgCount?function(u){var m=setTimeout(function(){if(a.stylesheets&&bd(a,a.stylesheets),a.unsuspend){var C=a.unsuspend;a.unsuspend=null,C()}},6e4+l);0<a.imgBytes&&pm===0&&(pm=62500*U5());var v=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&bd(a,a.stylesheets),a.unsuspend)){var C=a.unsuspend;a.unsuspend=null,C()}},(a.imgBytes>pm?50:800)+l);return a.unsuspend=u,function(){a.unsuspend=null,clearTimeout(m),clearTimeout(v)}}:null}function gd(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)bd(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var xd=null;function bd(a,l){a.stylesheets=null,a.unsuspend!==null&&(a.count++,xd=new Map,l.forEach(iT,a),xd=null,gd.call(a))}function iT(a,l){if(!(l.state.loading&4)){var u=xd.get(a);if(u)var m=u.get(null);else{u=new Map,xd.set(a,u);for(var v=a.querySelectorAll("link[data-precedence],style[data-precedence]"),C=0;C<v.length;C++){var k=v[C];(k.nodeName==="LINK"||k.getAttribute("media")!=="not all")&&(u.set(k.dataset.precedence,k),m=k)}m&&u.set(null,m)}v=l.instance,k=v.getAttribute("data-precedence"),C=u.get(k)||m,C===m&&u.set(null,v),u.set(k,v),this.count++,m=gd.bind(this),v.addEventListener("load",m),v.addEventListener("error",m),C?C.parentNode.insertBefore(v,C.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(v,a.firstChild)),l.state.loading|=4}}var hl={$$typeof:D,Provider:null,Consumer:null,_currentValue:pe,_currentValue2:pe,_threadCount:0};function lT(a,l,u,m,v,C,k,A,_){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Co(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Co(0),this.hiddenUpdates=Co(null),this.identifierPrefix=m,this.onUncaughtError=v,this.onCaughtError=C,this.onRecoverableError=k,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=_,this.incompleteTransitions=new Map}function xy(a,l,u,m,v,C,k,A,_,F,W,ee){return a=new lT(a,l,u,k,_,F,W,ee,A),l=1,C===!0&&(l|=24),C=Mn(3,null,null,l),a.current=C,C.stateNode=a,l=Kf(),l.refCount++,a.pooledCache=l,l.refCount++,C.memoizedState={element:m,isDehydrated:u,cache:l},Qf(C),a}function by(a){return a?(a=Ca,a):Ca}function yy(a,l,u,m,v,C){v=by(v),m.context===null?m.context=v:m.pendingContext=v,m=Rs(l),m.payload={element:u},C=C===void 0?null:C,C!==null&&(m.callback=C),u=Is(a,m,l),u!==null&&(wn(u,a,l),Gi(u,a,l))}function vy(a,l){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var u=a.retryLane;a.retryLane=u!==0&&u<l?u:l}}function gm(a,l){vy(a,l),(a=a.alternate)&&vy(a,l)}function Ny(a){if(a.tag===13||a.tag===31){var l=Ao(a,67108864);l!==null&&wn(l,a,67108864),gm(a,67108864)}}function Cy(a){if(a.tag===13||a.tag===31){var l=Pn();l=Ci(l);var u=Ao(a,l);u!==null&&wn(u,a,l),gm(a,l)}}var yd=!0;function cT(a,l,u,m){var v=O.T;O.T=null;var C=J.p;try{J.p=2,xm(a,l,u,m)}finally{J.p=C,O.T=v}}function dT(a,l,u,m){var v=O.T;O.T=null;var C=J.p;try{J.p=8,xm(a,l,u,m)}finally{J.p=C,O.T=v}}function xm(a,l,u,m){if(yd){var v=bm(m);if(v===null)rm(a,l,m,vd,u),Sy(a,m);else if(fT(v,a,l,u,m))m.stopPropagation();else if(Sy(a,m),l&4&&-1<uT.indexOf(a)){for(;v!==null;){var C=bs(v);if(C!==null)switch(C.tag){case 3:if(C=C.stateNode,C.current.memoizedState.isDehydrated){var k=an(C.pendingLanes);if(k!==0){var A=C;for(A.pendingLanes|=2,A.entangledLanes|=2;k;){var _=1<<31-on(k);A.entanglements[1]|=_,k&=~_}Cr(C),(Je&6)===0&&(nd=_t()+500,il(0))}}break;case 31:case 13:A=Ao(C,2),A!==null&&wn(A,C,2),sd(),gm(C,2)}if(C=bm(m),C===null&&rm(a,l,m,vd,u),C===v)break;v=C}v!==null&&m.stopPropagation()}else rm(a,l,m,null,u)}}function bm(a){return a=Ri(a),ym(a)}var vd=null;function ym(a){if(vd=null,a=xs(a),a!==null){var l=i(a);if(l===null)a=null;else{var u=l.tag;if(u===13){if(a=c(l),a!==null)return a;a=null}else if(u===31){if(a=d(l),a!==null)return a;a=null}else if(u===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;a=null}else l!==a&&(a=null)}}return vd=a,null}function wy(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(be()){case Le:return 2;case Me:return 8;case Oe:case sn:return 32;case fs:return 268435456;default:return 32}default:return 32}}var vm=!1,qs=null,Fs=null,Gs=null,ml=new Map,pl=new Map,$s=[],uT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Sy(a,l){switch(a){case"focusin":case"focusout":qs=null;break;case"dragenter":case"dragleave":Fs=null;break;case"mouseover":case"mouseout":Gs=null;break;case"pointerover":case"pointerout":ml.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":pl.delete(l.pointerId)}}function gl(a,l,u,m,v,C){return a===null||a.nativeEvent!==C?(a={blockedOn:l,domEventName:u,eventSystemFlags:m,nativeEvent:C,targetContainers:[v]},l!==null&&(l=bs(l),l!==null&&Ny(l)),a):(a.eventSystemFlags|=m,l=a.targetContainers,v!==null&&l.indexOf(v)===-1&&l.push(v),a)}function fT(a,l,u,m,v){switch(l){case"focusin":return qs=gl(qs,a,l,u,m,v),!0;case"dragenter":return Fs=gl(Fs,a,l,u,m,v),!0;case"mouseover":return Gs=gl(Gs,a,l,u,m,v),!0;case"pointerover":var C=v.pointerId;return ml.set(C,gl(ml.get(C)||null,a,l,u,m,v)),!0;case"gotpointercapture":return C=v.pointerId,pl.set(C,gl(pl.get(C)||null,a,l,u,m,v)),!0}return!1}function Ty(a){var l=xs(a.target);if(l!==null){var u=i(l);if(u!==null){if(l=u.tag,l===13){if(l=c(u),l!==null){a.blockedOn=l,wo(a.priority,function(){Cy(u)});return}}else if(l===31){if(l=d(u),l!==null){a.blockedOn=l,wo(a.priority,function(){Cy(u)});return}}else if(l===3&&u.stateNode.current.memoizedState.isDehydrated){a.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Nd(a){if(a.blockedOn!==null)return!1;for(var l=a.targetContainers;0<l.length;){var u=bm(a.nativeEvent);if(u===null){u=a.nativeEvent;var m=new u.constructor(u.type,u);Mi=m,u.target.dispatchEvent(m),Mi=null}else return l=bs(u),l!==null&&Ny(l),a.blockedOn=u,!1;l.shift()}return!0}function ky(a,l,u){Nd(a)&&u.delete(l)}function hT(){vm=!1,qs!==null&&Nd(qs)&&(qs=null),Fs!==null&&Nd(Fs)&&(Fs=null),Gs!==null&&Nd(Gs)&&(Gs=null),ml.forEach(ky),pl.forEach(ky)}function Cd(a,l){a.blockedOn===l&&(a.blockedOn=null,vm||(vm=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,hT)))}var wd=null;function Ey(a){wd!==a&&(wd=a,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){wd===a&&(wd=null);for(var l=0;l<a.length;l+=3){var u=a[l],m=a[l+1],v=a[l+2];if(typeof m!="function"){if(ym(m||u)===null)continue;break}var C=bs(u);C!==null&&(a.splice(l,3),l-=3,bh(C,{pending:!0,data:v,method:u.method,action:m},m,v))}}))}function $a(a){function l(_){return Cd(_,a)}qs!==null&&Cd(qs,a),Fs!==null&&Cd(Fs,a),Gs!==null&&Cd(Gs,a),ml.forEach(l),pl.forEach(l);for(var u=0;u<$s.length;u++){var m=$s[u];m.blockedOn===a&&(m.blockedOn=null)}for(;0<$s.length&&(u=$s[0],u.blockedOn===null);)Ty(u),u.blockedOn===null&&$s.shift();if(u=(a.ownerDocument||a).$$reactFormReplay,u!=null)for(m=0;m<u.length;m+=3){var v=u[m],C=u[m+1],k=v[Wt]||null;if(typeof C=="function")k||Ey(u);else if(k){var A=null;if(C&&C.hasAttribute("formAction")){if(v=C,k=C[Wt]||null)A=k.formAction;else if(ym(v)!==null)continue}else A=k.action;typeof A=="function"?u[m+1]=A:(u.splice(m,3),m-=3),Ey(u)}}}function Ay(){function a(C){C.canIntercept&&C.info==="react-transition"&&C.intercept({handler:function(){return new Promise(function(k){return v=k})},focusReset:"manual",scroll:"manual"})}function l(){v!==null&&(v(),v=null),m||setTimeout(u,20)}function u(){if(!m&&!navigation.transition){var C=navigation.currentEntry;C&&C.url!=null&&navigation.navigate(C.url,{state:C.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var m=!1,v=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",l),navigation.addEventListener("navigateerror",l),setTimeout(u,100),function(){m=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",l),navigation.removeEventListener("navigateerror",l),v!==null&&(v(),v=null)}}}function Nm(a){this._internalRoot=a}Sd.prototype.render=Nm.prototype.render=function(a){var l=this._internalRoot;if(l===null)throw Error(r(409));var u=l.current,m=Pn();yy(u,m,a,l,null,null)},Sd.prototype.unmount=Nm.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var l=a.containerInfo;yy(a.current,2,null,a,null,null),sd(),l[gs]=null}};function Sd(a){this._internalRoot=a}Sd.prototype.unstable_scheduleHydration=function(a){if(a){var l=de();a={blockedOn:null,target:a,priority:l};for(var u=0;u<$s.length&&l!==0&&l<$s[u].priority;u++);$s.splice(u,0,a),u===0&&Ty(a)}};var jy=e.version;if(jy!=="19.2.0")throw Error(r(527,jy,"19.2.0"));J.findDOMNode=function(a){var l=a._reactInternals;if(l===void 0)throw typeof a.render=="function"?Error(r(188)):(a=Object.keys(a).join(","),Error(r(268,a)));return a=h(l),a=a!==null?p(a):null,a=a===null?null:a.stateNode,a};var mT={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:O,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Td=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Td.isDisabled&&Td.supportsFiber)try{or=Td.inject(mT),mn=Td}catch{}}return bl.createRoot=function(a,l){if(!s(a))throw Error(r(299));var u=!1,m="",v=L0,C=O0,k=B0;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onUncaughtError!==void 0&&(v=l.onUncaughtError),l.onCaughtError!==void 0&&(C=l.onCaughtError),l.onRecoverableError!==void 0&&(k=l.onRecoverableError)),l=xy(a,1,!1,null,null,u,m,null,v,C,k,Ay),a[gs]=l.current,nm(a),new Nm(l)},bl.hydrateRoot=function(a,l,u){if(!s(a))throw Error(r(299));var m=!1,v="",C=L0,k=O0,A=B0,_=null;return u!=null&&(u.unstable_strictMode===!0&&(m=!0),u.identifierPrefix!==void 0&&(v=u.identifierPrefix),u.onUncaughtError!==void 0&&(C=u.onUncaughtError),u.onCaughtError!==void 0&&(k=u.onCaughtError),u.onRecoverableError!==void 0&&(A=u.onRecoverableError),u.formState!==void 0&&(_=u.formState)),l=xy(a,1,!0,l,u??null,m,v,_,C,k,A,Ay),l.context=by(null),u=l.current,m=Pn(),m=Ci(m),v=Rs(m),v.callback=null,Is(u,v,m),u=m,l.current.lanes=u,ps(l,u),Cr(l),a[gs]=l.current,nm(a),new Sd(l)},bl.version="19.2.0",bl}var zy;function wT(){if(zy)return Sm.exports;zy=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Sm.exports=CT(),Sm.exports}var ST=wT();const TT=Uu(ST),tn=t=>o.jsx("svg",{...t,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),Bn=t=>o.jsx("svg",{...t,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),Xl=t=>o.jsx("svg",{...t,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})}),up=t=>o.jsx("svg",{...t,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 9l-7 7-7-7"})}),q2=t=>o.jsx("svg",{...t,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 6h16M4 12h16M4 18h16"})}),zn=t=>o.jsx("svg",{...t,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),kT=({logoUrl:t,onLogoClick:e,onConsultantClick:n,cartItems:r,onCartClick:s,collections:i,onNavigate:c,currentCustomer:d,onLogout:f})=>{const[h,p]=j.useState(!1),[g,b]=j.useState(!1),[N,w]=j.useState(!1),S=r.reduce((M,D)=>M+D.quantity,0),T=[{name:"Categorias",action:()=>b(!g),dropdown:!0},{name:"Ofertas",href:"#offers"},{name:"Mais Vendidos",href:"#bestsellers"}],E=i.map(M=>({name:M.title,id:M.id}));return o.jsx("header",{className:"bg-[rgb(var(--color-brand-gray))] backdrop-blur-sm border-b border-[rgb(var(--color-brand-gold))]/[.30] sticky top-0 z-50",children:o.jsxs("div",{className:"container mx-auto px-4",children:[o.jsxs("div",{className:"flex justify-between items-center h-16",children:[o.jsx("button",{onClick:e,className:"flex-shrink-0",children:t?o.jsx("img",{src:t,alt:"RS Prlipsi Logo",className:"h-10 max-w-[120px] object-contain"}):o.jsx("span",{className:"text-3xl font-display text-[rgb(var(--color-brand-gold))]",children:"RS Prlipsi"})}),o.jsx("div",{className:"hidden lg:flex flex-grow max-w-xl mx-8",children:o.jsxs("div",{className:"relative w-full",children:[o.jsx("input",{type:"text",placeholder:"Buscar produtos...",className:"w-full bg-[rgb(var(--color-brand-dark))]/[.50] border-2 border-[rgb(var(--color-brand-gray-light))] rounded-full py-2 pl-12 pr-4 text-[rgb(var(--color-brand-text-light))] placeholder-[rgb(var(--color-brand-text-dim))] focus:outline-none focus:border-[rgb(var(--color-brand-gold))] transition-colors"}),o.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:o.jsx(tn,{className:"h-5 w-5 text-[rgb(var(--color-brand-text-dim))]"})})]})}),o.jsx("nav",{className:"hidden lg:flex items-center space-x-6",children:T.map(M=>o.jsxs("div",{className:"relative",children:[M.dropdown?o.jsxs("button",{onClick:M.action,onBlur:()=>setTimeout(()=>b(!1),200),className:"flex items-center gap-1 text-[rgb(var(--color-brand-text-light))] hover:text-[rgb(var(--color-brand-gold))] transition-colors",children:[M.name,o.jsx(up,{className:`w-4 h-4 transition-transform ${g?"rotate-180":""}`})]}):o.jsx("a",{href:M.href,className:"text-[rgb(var(--color-brand-text-light))] hover:text-[rgb(var(--color-brand-gold))] transition-colors",children:M.name}),M.dropdown&&g&&o.jsx("div",{className:"absolute top-full mt-4 w-48 bg-[rgb(var(--color-brand-dark))] border-2 border-[rgb(var(--color-brand-gold))]/[.20] rounded-md shadow-lg animate-fade-in-down",children:E.map(D=>o.jsx("button",{onClick:()=>c("collectionView",i.find(H=>H.id===D.id)),className:"block text-left w-full px-4 py-2 text-[rgb(var(--color-brand-text-dim))] hover:bg-[rgb(var(--color-brand-gold))] hover:text-[rgb(var(--color-brand-dark))]",children:D.name},D.id))})]},M.name))}),o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs("div",{className:"relative hidden sm:block",children:[o.jsx("button",{onBlur:()=>setTimeout(()=>w(!1),200),onClick:()=>w(!N),className:"text-[rgb(var(--color-brand-text-light))] hover:text-[rgb(var(--color-brand-gold))] transition-colors",children:o.jsx(Bn,{className:"h-6 w-6"})}),N&&o.jsx("div",{className:"absolute top-full right-0 mt-4 w-56 bg-[rgb(var(--color-brand-dark))] border-2 border-[rgb(var(--color-brand-gold))]/[.20] rounded-md shadow-lg animate-fade-in-down",children:d?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"px-4 py-3 border-b border-[rgb(var(--color-brand-gray-light))]",children:[o.jsx("p",{className:"text-sm text-[rgb(var(--color-brand-text-dim))]",children:"Logado como"}),o.jsx("p",{className:"font-semibold text-[rgb(var(--color-brand-text-light))] truncate",children:d.name})]}),o.jsx("button",{onClick:()=>{c("customerAccount"),w(!1)},className:"block text-left w-full px-4 py-2 text-[rgb(var(--color-brand-text-dim))] hover:bg-[rgb(var(--color-brand-gold))] hover:text-[rgb(var(--color-brand-dark))]",children:"Minha Conta"}),o.jsx("button",{onClick:()=>{c("customerWishlist"),w(!1)},className:"block text-left w-full px-4 py-2 text-[rgb(var(--color-brand-text-dim))] hover:bg-[rgb(var(--color-brand-gold))] hover:text-[rgb(var(--color-brand-dark))]",children:"Lista de Desejos"}),o.jsx("a",{href:"https://marketplace.rsprolipsi.com.br/loja",target:"_blank",rel:"noopener noreferrer",className:"block text-left w-full px-4 py-2 text-[rgb(var(--color-brand-text-dim))] hover:bg-[rgb(var(--color-brand-gold))] hover:text-[rgb(var(--color-brand-dark))] border-t border-[rgb(var(--color-brand-gray-light))]",children:"Painel do Lojista"}),o.jsx("button",{onClick:f,className:"block text-left w-full px-4 py-2 text-[rgb(var(--color-brand-text-dim))] hover:bg-[rgb(var(--color-brand-gold))] hover:text-[rgb(var(--color-brand-dark))] border-t border-[rgb(var(--color-brand-gray-light))]",children:"Sair"})]}):o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:()=>{c("customerLogin"),w(!1)},className:"block text-left w-full px-4 py-2 text-[rgb(var(--color-brand-text-dim))] hover:bg-[rgb(var(--color-brand-gold))] hover:text-[rgb(var(--color-brand-dark))]",children:"Entrar"}),o.jsx("button",{onClick:()=>{c("customerRegister"),w(!1)},className:"block text-left w-full px-4 py-2 text-[rgb(var(--color-brand-text-dim))] hover:bg-[rgb(var(--color-brand-gold))] hover:text-[rgb(var(--color-brand-dark))]",children:"Cadastre-se"}),o.jsx("a",{href:"https://marketplace.rsprolipsi.com.br/loja",target:"_blank",rel:"noopener noreferrer",className:"block text-left w-full px-4 py-2 text-[rgb(var(--color-brand-text-dim))] hover:bg-[rgb(var(--color-brand-gold))] hover:text-[rgb(var(--color-brand-dark))] border-t border-[rgb(var(--color-brand-gray-light))]",children:"Painel do Lojista"})]})})]}),o.jsxs("button",{onClick:s,className:"relative text-[rgb(var(--color-brand-text-light))] hover:text-[rgb(var(--color-brand-gold))] transition-colors",children:[o.jsx(Xl,{className:"h-6 w-6"}),S>0&&o.jsx("span",{className:"absolute -top-2 -right-2 bg-[rgb(var(--color-brand-gold))] text-[rgb(var(--color-brand-dark))] text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:S})]}),o.jsx("button",{onClick:()=>p(!h),className:"lg:hidden text-[rgb(var(--color-brand-text-light))]",children:h?o.jsx(zn,{className:"h-6 w-6"}):o.jsx(q2,{className:"h-6 w-6"})})]})]}),h&&o.jsx("div",{className:"lg:hidden py-4 border-t border-[rgb(var(--color-brand-gray-light))]",children:o.jsxs("nav",{className:"flex flex-col space-y-4",children:[T.map(M=>o.jsxs("div",{children:[M.dropdown?o.jsxs("button",{onClick:M.action,className:"w-full text-left flex items-center gap-1 text-[rgb(var(--color-brand-text-light))] hover:text-[rgb(var(--color-brand-gold))] transition-colors",children:[M.name,o.jsx(up,{className:`w-4 h-4 transition-transform ${g?"rotate-180":""}`})]}):o.jsx("a",{href:M.href,onClick:()=>p(!1),className:"text-[rgb(var(--color-brand-text-light))] hover:text-[rgb(var(--color-brand-gold))] transition-colors",children:M.name}),M.dropdown&&g&&o.jsx("div",{className:"pl-4 mt-2 space-y-2",children:E.map(D=>o.jsx("button",{onClick:()=>{c("collectionView",i.find(H=>H.id===D.id)),p(!1)},className:"block text-[rgb(var(--color-brand-text-dim))] hover:text-[rgb(var(--color-brand-gold))]",children:D.name},D.id))})]},M.name)),o.jsx("a",{href:"https://marketplace.rsprolipsi.com.br/loja",target:"_blank",rel:"noopener noreferrer",className:"text-left text-[rgb(var(--color-brand-text-light))] hover:text-[rgb(var(--color-brand-gold))] transition-colors",children:"Painel do Lojista"})]})})]})})},ET=({content:t})=>{const e=(n,r)=>{n.preventDefault();const s=document.getElementById(r);s&&s.scrollIntoView({behavior:"smooth"})};return o.jsxs(o.Fragment,{children:[o.jsx("style",{children:`
        .hero-section {
          background-image: url('${t.mobileImage}');
        }
        @media (min-width: 768px) {
          .hero-section {
            background-image: url('${t.desktopImage}');
          }
        }
      `}),o.jsxs("section",{className:"hero-section relative h-[60vh] md:h-[70vh] flex items-center justify-center text-center bg-cover bg-center",children:[o.jsx("div",{className:"absolute inset-0 bg-[rgb(var(--color-brand-dark))]/[.60]"}),o.jsxs("div",{className:"relative z-10 px-4",children:[o.jsx("h1",{className:"text-4xl md:text-6xl font-bold font-display text-[rgb(var(--color-brand-text-light))] drop-shadow-lg",children:t.title}),o.jsx("p",{className:"mt-4 max-w-2xl mx-auto text-lg md:text-xl text-[rgb(var(--color-brand-text-light))]",children:t.subtitle}),o.jsx("div",{className:"mt-8 flex justify-center",children:o.jsx("a",{href:"#featured-products",onClick:n=>e(n,"featured-products"),className:"bg-[rgb(var(--color-active-lime))] text-[rgb(var(--color-brand-dark))] font-bold py-3 px-8 rounded-full text-lg hover:bg-[rgb(var(--color-success))] transition-transform transform hover:scale-105",children:"Compre Agora"})})]})]})]})},ti=t=>o.jsx("svg",{...t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:o.jsx("path",{fillRule:"evenodd",d:"M10.788 3.21c.448-1.077 1.976-1.077 2.424 0l2.082 5.007 5.404.433c1.164.093 1.636 1.545.749 2.305l-4.117 3.527 1.257 5.273c.271 1.136-.964 2.033-1.96 1.425L12 18.354 7.373 21.18c-.996.608-2.231-.29-1.96-1.425l1.257-5.273-4.117-3.527c-.887-.76-.415-2.212.749-2.305l5.404-.433 2.082-5.007z",clipRule:"evenodd"})}),Hu=t=>o.jsx("svg",{...t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12z"})}),ea=({product:t,onClick:e,wishlist:n,onToggleWishlist:r})=>{const s=n.includes(t.id),i=c=>{c.stopPropagation(),r(t.id)};return o.jsxs("div",{className:"bg-[rgb(var(--color-brand-gray))]/[.50] backdrop-blur-sm border border-[rgb(var(--color-brand-gold))]/[.20] rounded-lg overflow-hidden shadow-lg hover:shadow-[rgb(var(--color-brand-gold))]/[.10] transition-shadow duration-300 cursor-pointer group",onClick:e,role:"button",tabIndex:0,onKeyPress:c=>c.key==="Enter"&&e(),children:[o.jsxs("div",{className:"relative overflow-hidden",children:[o.jsx("img",{src:t.images[0],alt:t.name,className:"w-full h-56 object-cover group-hover:scale-105 transition-transform duration-300"}),o.jsx("button",{onClick:i,className:"absolute top-2 right-2 z-10 p-2 bg-[rgb(var(--color-brand-dark))]/[.40] rounded-full text-[rgb(var(--color-brand-text-light))] hover:text-[rgb(var(--color-brand-gold))] transition-colors","aria-label":"Adicionar  lista de desejos",children:o.jsx(Hu,{className:`w-6 h-6 transition-all ${s?"text-[rgb(var(--color-brand-gold))] fill-current":""}`})}),o.jsx("div",{className:"absolute top-0 left-0 bg-[rgb(var(--color-brand-gold))] text-[rgb(var(--color-brand-dark))] px-3 py-1 text-sm font-bold rounded-br-lg",children:t.type})]}),o.jsxs("div",{className:"p-4",children:[o.jsx("p",{className:"text-sm text-[rgb(var(--color-brand-text-dim))]",children:t.seller}),o.jsx("h3",{className:"text-lg font-bold text-[rgb(var(--color-brand-text-light))] mt-1 truncate group-hover:text-[rgb(var(--color-brand-gold))] transition-colors",children:t.name}),o.jsxs("div",{className:"flex items-center mt-2",children:[o.jsx("div",{className:"flex items-center",children:[...Array(5)].map((c,d)=>o.jsx(ti,{className:`h-5 w-5 ${d<Math.round(t.rating)?"text-[rgb(var(--color-brand-gold))]":"text-[rgb(var(--color-brand-gray-light))]"}`},d))}),o.jsxs("span",{className:"text-[rgb(var(--color-brand-text-dim))] text-sm ml-2",children:["(",t.reviewCount,")"]})]}),o.jsxs("div",{className:"mt-4 flex justify-between items-center",children:[o.jsx("p",{className:"text-xl font-semibold text-[rgb(var(--color-brand-gold))]",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:t.currency}).format(t.price)}),o.jsx("button",{className:"bg-transparent border border-[rgb(var(--color-brand-gold))] text-[rgb(var(--color-brand-gold))] text-sm font-bold py-1 px-3 rounded-full hover:bg-[rgb(var(--color-brand-gold))] hover:text-[rgb(var(--color-brand-dark))] transition-colors",children:"Ver Mais"})]})]})]})},AT=({onProductClick:t,products:e,wishlist:n,onToggleWishlist:r})=>{const s=e.filter(i=>i.status==="Ativo").slice(0,4);return o.jsx("section",{id:"featured-products",className:"py-16 sm:py-24 bg-[rgb(var(--color-brand-dark))]",children:o.jsxs("div",{className:"container mx-auto px-4",children:[o.jsxs("div",{className:"text-center mb-12",children:[o.jsx("h2",{className:"text-3xl md:text-4xl font-bold font-display text-[rgb(var(--color-brand-text-light))]",children:"Produtos em Destaque"}),o.jsx("p",{className:"mt-4 max-w-2xl mx-auto text-lg text-[rgb(var(--color-brand-text-dim))]",children:"Explore nossa seleo de produtos de alta qualidade dos melhores vendedores."})]}),o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8",children:s.map(i=>o.jsx(ea,{product:i,onClick:()=>t(i),wishlist:n,onToggleWishlist:r},i.id))})]})})},Zp=t=>o.jsx("svg",{...t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:o.jsx("path",{d:"M20 4H4v2h16V4zm1 10v-2l-1-5H4l-1 5v2h1v6h10v-6h4v6h2v-6h1zm-9 4H6v-4h6v4z"})}),jT=({onConsultantClick:t,onBecomeSellerClick:e})=>o.jsx("section",{id:"cta-section",className:"py-12 sm:py-16 bg-[rgb(var(--color-brand-gray))]",children:o.jsx("div",{className:"container mx-auto px-4",children:o.jsx("div",{className:"grid grid-cols-1 gap-8 items-stretch",children:o.jsxs("div",{className:"bg-gradient-to-br from-[rgb(var(--color-brand-gray))] to-[rgb(var(--color-brand-dark))] p-8 rounded-lg border-2 border-[rgb(var(--color-brand-gold))]/[.30] flex flex-col items-center text-center shadow-2xl",children:[o.jsx("div",{className:"bg-[rgb(var(--color-brand-gold))]/[.10] p-3 rounded-full border-2 border-[rgb(var(--color-brand-gold))]/[.30]",children:o.jsx(Zp,{className:"h-10 w-10 text-[rgb(var(--color-brand-gold))]"})}),o.jsx("h3",{className:"mt-5 text-2xl font-bold font-display text-[rgb(var(--color-brand-text-light))]",children:"Seja um Lojista"}),o.jsx("p",{className:"mt-3 text-[rgb(var(--color-brand-text-dim))] max-w-md",children:"Junte-se ao nosso marketplace. Construa sua marca, alcance milhes de clientes e faa seu negcio crescer com nossas ferramentas poderosas."}),o.jsx("button",{onClick:e,className:"mt-6 bg-transparent border-2 border-[rgb(var(--color-brand-gold))] text-[rgb(var(--color-brand-gold))] font-bold py-2 px-6 rounded-full text-base hover:bg-[rgb(var(--color-brand-gold))] hover:text-[rgb(var(--color-brand-dark))] transition-colors",children:"Comece a Vender"})]})})})}),F2=t=>o.jsx("svg",{...t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:o.jsx("path",{d:"M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.879V14.89H8.313v-2.91h2.125v-2.207c0-2.103 1.25-3.245 3.162-3.245.897 0 1.8.165 1.8.165v2.468h-1.265c-1.03 0-1.35.613-1.35 1.325v1.562h2.79l-.45 2.91h-2.34v7.028C18.343 21.128 22 16.991 22 12z"})}),MT=t=>o.jsx("svg",{...t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:o.jsx("path",{d:"M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.85s-.011 3.584-.069 4.85c-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07s-3.584-.012-4.85-.07c-3.252-.148-4.771-1.691-4.919-4.919-.058-1.265-.069-1.645-.069-4.85s.011-3.584.069-4.85c.149-3.225 1.664-4.771 4.919-4.919C8.416 2.175 8.796 2.163 12 2.163zm0 1.802c-3.116 0-3.472.012-4.695.068-2.61.12-3.648 1.15-3.768 3.768-.056 1.223-.067 1.57-.067 4.695s.011 3.472.067 4.695c.12 2.61 1.158 3.648 3.768 3.768 1.223.056 1.57.067 4.695.067s3.472-.011 4.695-.067c2.61-.12 3.648-1.158 3.768-3.768.056-1.223.067-1.57.067-4.695s-.011-3.472-.067-4.695c-.12-2.61-1.158-3.648-3.768-3.768C15.472 3.977 15.116 3.965 12 3.965zM12 6.837c-2.843 0-5.163 2.32-5.163 5.163s2.32 5.163 5.163 5.163 5.163-2.32 5.163-5.163S14.843 6.837 12 6.837zm0 8.529c-1.856 0-3.366-1.51-3.366-3.366s1.51-3.366 3.366-3.366 3.366 1.51 3.366 3.366-1.51 3.366-3.366 3.366zm4.65-6.39c-.664 0-1.2.536-1.2 1.2s.536 1.2 1.2 1.2 1.2-.536 1.2-1.2-.536-1.2-1.2-1.2z"})}),G2=t=>o.jsx("svg",{...t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:o.jsx("path",{d:"M22.46 6c-.77.35-1.6.58-2.46.67.88-.53 1.56-1.37 1.88-2.38-.83.5-1.75.85-2.72 1.05C18.37 4.5 17.26 4 16 4c-2.35 0-4.27 1.92-4.27 4.29 0 .34.04.67.11.98C8.28 9.09 5.11 7.38 3 4.79c-.37.63-.58 1.37-.58 2.15 0 1.49.75 2.81 1.91 3.56-.71 0-1.37-.22-1.95-.55v.03c0 2.08 1.48 3.82 3.44 4.21a4.22 4.22 0 0 1-1.93.07 4.28 4.28 0 0 0 4 2.98 8.521 8.521 0 0 1-5.33 1.84c-.34 0-.68-.02-1.02-.06C3.44 20.29 5.7 21 8.12 21 16 21 20.68 14.37 20.68 8.43c0-.21 0-.42-.01-.63.84-.6 1.56-1.36 2.14-2.23z"})}),$2=t=>o.jsx("svg",{...t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:o.jsx("path",{d:"M19 3a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h14zm-11 5H5v11h3V8zm-1.5-2.25a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM18 8h-2.5c-1.93 0-3.5 1.57-3.5 3.5V19h3v-5.5c0-.825.675-1.5 1.5-1.5s1.5.675 1.5 1.5V19h3v-6.5c0-3.038-2.462-5.5-5.5-5.5z"})}),RT={facebook:F2,instagram:MT,twitter:G2,linkedin:$2},IT=({logoUrl:t,content:e,onConsultantClick:n,onNavigate:r,currentCustomer:s})=>{const i=c=>{c.preventDefault();const d=document.getElementById("featured-products");d?d.scrollIntoView({behavior:"smooth"}):(r("home"),setTimeout(()=>{var f;(f=document.getElementById("featured-products"))==null||f.scrollIntoView({behavior:"smooth"})},100))};return o.jsx("footer",{className:"bg-[rgb(var(--color-brand-gray))] border-t border-[rgb(var(--color-brand-gold))]/[.30] text-[rgb(var(--color-brand-text-dim))]",children:o.jsxs("div",{className:"container mx-auto px-4 py-12",children:[o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-5 gap-8",children:[o.jsxs("div",{className:"col-span-2 lg:col-span-1",children:[t?o.jsx("img",{src:t,alt:"RS Prlipsi Logo",className:"h-12 max-w-[150px] object-contain"}):o.jsx("h3",{className:"text-2xl font-display text-[rgb(var(--color-brand-gold))]",children:"RS Prlipsi"}),o.jsx("p",{className:"mt-4 text-sm",children:e.description})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-bold text-[rgb(var(--color-brand-text-light))] tracking-wider",children:"Para Compradores"}),o.jsx("ul",{className:"mt-4 space-y-2 text-sm",children:e.buyerLinks.map(c=>o.jsx("li",{children:c.label==="Rastrear Pedidos"?o.jsx("button",{onClick:()=>r("orderLookup"),className:"text-left hover:text-[rgb(var(--color-brand-gold))] transition-colors",children:c.label}):c.label==="Sua Conta"?o.jsx("button",{onClick:()=>r(s?"customerAccount":"customerLogin"),className:"text-left hover:text-[rgb(var(--color-brand-gold))] transition-colors",children:c.label}):c.url==="#featured-products"?o.jsx("button",{onClick:i,className:"text-left hover:text-[rgb(var(--color-brand-gold))] transition-colors",children:c.label}):o.jsx("a",{href:c.url,className:"hover:text-[rgb(var(--color-brand-gold))]",children:c.label})},c.label))})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-bold text-[rgb(var(--color-brand-text-light))] tracking-wider",children:"Para Vendedores"}),o.jsx("ul",{className:"mt-4 space-y-2 text-sm",children:e.sellerLinks.map(c=>o.jsx("li",{children:c.isAction?o.jsx("a",{href:"https://marketplace.rsprolipsi.com.br/loja",target:"_blank",rel:"noopener noreferrer",className:"text-left hover:text-[rgb(var(--color-brand-gold))] transition-colors",children:c.label}):c.label==="Ferramentas de Marketing"?o.jsx("button",{onClick:()=>r("communication"),className:"text-left hover:text-[rgb(var(--color-brand-gold))] transition-colors",children:c.label}):c.label==="Seja um Lojista"?o.jsx("button",{onClick:()=>r("sellerRegistration"),className:"text-left hover:text-[rgb(var(--color-brand-gold))] transition-colors",children:c.label}):o.jsx("a",{href:c.url,className:"hover:text-[rgb(var(--color-brand-gold))]",children:c.label})},c.label))})]}),e.companyLinks.length>0&&o.jsxs("div",{children:[o.jsx("h4",{className:"font-bold text-[rgb(var(--color-brand-text-light))] tracking-wider",children:"Empresa"}),o.jsx("ul",{className:"mt-4 space-y-2 text-sm",children:e.companyLinks.map(c=>o.jsx("li",{children:o.jsx("a",{href:c.url,className:"hover:text-[rgb(var(--color-brand-gold))]",children:c.label})},c.label))})]}),o.jsxs("div",{className:"col-span-2 md:col-span-1",children:[o.jsx("h4",{className:"font-bold text-[rgb(var(--color-brand-text-light))] tracking-wider",children:"Siga-nos"}),o.jsx("div",{className:"flex mt-4 space-x-4",children:e.socialLinks.map(c=>{const d=RT[c.platform.toLowerCase()];return d?o.jsx("a",{href:c.url,className:"hover:text-[rgb(var(--color-brand-gold))]",target:"_blank",rel:"noopener noreferrer","aria-label":c.platform,children:o.jsx(d,{className:"h-6 w-6 currentColor"})},c.platform):null})})]})]}),o.jsxs("div",{className:"mt-12 border-t border-[rgb(var(--color-brand-gray-light))] pt-8 text-sm",children:[o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 text-center md:text-left",children:o.jsxs("div",{className:"lg:col-span-1",children:[o.jsx("h4",{className:"font-bold text-[rgb(var(--color-brand-text-light))] tracking-wider mb-2",children:"Informaes"}),o.jsx("p",{children:e.businessAddress}),o.jsx("p",{children:e.contactEmail}),o.jsxs("p",{children:["CNPJ: ",e.cnpj]})]})}),o.jsx("div",{className:"mt-8 border-t border-[rgb(var(--color-brand-gray-light))] pt-8 text-center",children:o.jsxs("p",{children:[" ",new Date().getFullYear()," RS Prlipsi. Todos os Direitos Reservados."]})})]})]})})},DT=t=>o.jsx("svg",{...t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:o.jsx("path",{fillRule:"evenodd",d:"M12 2.25c-4.97 0-9 4.03-9 9v1.5c0 .34.03.67.08.99.1.66.27 1.3.52 1.91.24.6.56 1.16.94 1.68.82 1.09 1.88 2.01 3.09 2.76.84.52 1.76.92 2.74 1.19.04.01.08.02.12.03.04.01.08.02.12.03C11.601 21.96 11.79 22 12 22s.399-.04.59-.11c.04-.01.08-.02.12-.03.04-.01.08-.02.12-.03.98-.27 1.9-.67 2.74-1.19 1.21-.75 2.27-1.67 3.09-2.76.38-.52.7-1.08.94-1.68.25-.61.42-1.25.52-1.91.05-.32.08-.65.08-.99v-1.5c0-4.97-4.03-9-9-9zm-1.03 13.28a.75.75 0 001.06 0l4.5-4.5a.75.75 0 10-1.06-1.06L11.25 13.94l-2.72-2.72a.75.75 0 00-1.06 1.06l3.25 3.25z",clipRule:"evenodd"})}),_T=t=>o.jsx("svg",{...t,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0l3.181 3.183a8.25 8.25 0 0011.664 0l3.181-3.183m-4.991-2.696L7.985 9.348m0 0L2.985 4.356m5 4.992L16.023 4.356m0 0L21.015 9.348"})}),PT=({product:t,reviews:e,onReviewSubmit:n})=>{const[r,s]=j.useState(!1),[i,c]=j.useState({rating:0,title:"",text:"",author:""}),[d,f]=j.useState(0),h=j.useMemo(()=>e.filter(N=>N.productId===t.id&&N.status==="Aprovada").sort((N,w)=>new Date(w.createdAt).getTime()-new Date(N.createdAt).getTime()),[e,t.id]),p=j.useMemo(()=>{const N=[{stars:5,count:0,percentage:0},{stars:4,count:0,percentage:0},{stars:3,count:0,percentage:0},{stars:2,count:0,percentage:0},{stars:1,count:0,percentage:0}];return h.length===0||(h.forEach(w=>{const S=Math.floor(w.rating);S>=1&&S<=5&&N[5-S].count++}),N.forEach(w=>{w.percentage=w.count/h.length*100})),N},[h]),g=N=>{N.preventDefault(),i.rating>0&&i.title&&i.text&&i.author?(n({...i,productId:t.id,productName:t.name}),s(!1),c({rating:0,title:"",text:"",author:""})):alert("Por favor, preencha todos os campos e selecione uma nota.")},b=()=>o.jsx("div",{className:"fixed inset-0 bg-black/70 z-[101] flex items-center justify-center p-4",onClick:()=>s(!1),children:o.jsxs("div",{className:"bg-gray-900 border-2 border-yellow-600/30 rounded-lg shadow-2xl p-6 w-full max-w-lg space-y-4",onClick:N=>N.stopPropagation(),children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h3",{className:"text-xl font-bold text-white",children:"Escreva sua avaliao"}),o.jsx("button",{onClick:()=>s(!1),children:o.jsx(zn,{className:"w-5 h-5"})})]}),o.jsxs("form",{onSubmit:g,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Sua Nota"}),o.jsx("div",{className:"flex items-center",onMouseLeave:()=>f(0),children:[...Array(5)].map((N,w)=>{const S=w+1;return o.jsx("button",{type:"button",onClick:()=>c(T=>({...T,rating:S})),onMouseEnter:()=>f(S),className:"focus:outline-none",children:o.jsx(ti,{className:`w-8 h-8 cursor-pointer transition-colors ${S<=(d||i.rating)?"text-yellow-400":"text-gray-600"}`})},S)})})]}),o.jsx("input",{type:"text",placeholder:"Seu nome",value:i.author,onChange:N=>c(w=>({...w,author:N.target.value})),className:"w-full bg-gray-800 border-2 border-gray-700 rounded-md py-2 px-3 text-white",required:!0}),o.jsx("input",{type:"text",placeholder:"Ttulo da sua avaliao",value:i.title,onChange:N=>c(w=>({...w,title:N.target.value})),className:"w-full bg-gray-800 border-2 border-gray-700 rounded-md py-2 px-3 text-white",required:!0}),o.jsx("textarea",{placeholder:"Escreva sua avaliao aqui...",value:i.text,onChange:N=>c(w=>({...w,text:N.target.value})),rows:4,className:"w-full bg-gray-800 border-2 border-gray-700 rounded-md py-2 px-3 text-white",required:!0}),o.jsx("div",{className:"text-right",children:o.jsx("button",{type:"submit",className:"text-sm font-bold bg-yellow-500 text-black py-2 px-6 rounded-md hover:bg-yellow-400",children:"Enviar Avaliao"})})]})]})});return o.jsxs("div",{children:[r&&b(),o.jsx("h2",{className:"text-2xl font-bold font-display text-white",children:"Avaliaes de Clientes"}),o.jsxs("div",{className:"my-4 flex flex-col sm:flex-row sm:items-center gap-4",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"flex",children:[...Array(5)].map((N,w)=>o.jsx(ti,{className:`h-6 w-6 ${w<Math.round(t.rating)?"text-yellow-400":"text-gray-600"}`},w))}),o.jsxs("p",{className:"ml-3 text-lg font-semibold text-white",children:[t.rating.toFixed(1)," de 5"]})]}),t.reviewCount>0&&o.jsxs("p",{className:"text-gray-400 text-sm sm:border-l sm:border-gray-700 sm:pl-4",children:["Baseado em ",t.reviewCount," ",t.reviewCount>1?"avaliaes":"avaliao"]})]}),h.length>0&&o.jsx("div",{className:"mb-6 space-y-1",children:p.map(N=>o.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[o.jsxs("span",{className:"text-gray-400 w-16 whitespace-nowrap",children:[N.stars," estrelas"]}),o.jsx("div",{className:"flex-grow bg-gray-700 rounded-full h-2",children:o.jsx("div",{className:"bg-yellow-400 h-2 rounded-full",style:{width:`${N.percentage}%`}})}),o.jsxs("span",{className:"text-gray-400 w-8 text-right",children:[N.percentage.toFixed(0),"%"]})]},N.stars))}),o.jsx("button",{onClick:()=>s(!0),className:"text-sm font-semibold bg-gray-700 text-white py-2 px-4 rounded-md hover:bg-gray-600 transition-colors",children:"Deixe sua avaliao"}),o.jsx("div",{className:"mt-8 space-y-6 max-h-[400px] overflow-y-auto pr-2",children:h.length>0?h.map(N=>o.jsxs("div",{className:"border-b border-gray-800 pb-6 last:border-b-0",children:[o.jsxs("div",{className:"flex items-center mb-2",children:[o.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-700 flex items-center justify-center mr-3",children:o.jsx(Bn,{className:"w-6 h-6 text-gray-400"})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-semibold text-white",children:N.author}),o.jsx("p",{className:"text-xs text-gray-500",children:new Date(N.createdAt).toLocaleDateString("pt-BR")})]}),o.jsx("div",{className:"flex ml-auto",children:[...Array(5)].map((w,S)=>o.jsx(ti,{className:`h-5 w-5 ${S<N.rating?"text-yellow-400":"text-gray-600"}`},S))})]}),o.jsx("h4",{className:"font-bold text-gray-200",children:N.title}),o.jsx("p",{className:"text-gray-300 mt-1 text-sm",children:N.text})]},N.id)):o.jsxs("div",{className:"text-center py-8",children:[o.jsx("p",{className:"text-gray-500",children:"Este produto ainda no tem avaliaes."}),o.jsx("p",{className:"text-gray-500 text-sm",children:"Seja o primeiro a avaliar!"})]})})]})},LT=({productId:t,questions:e,onQuestionSubmit:n,onAnswerSubmit:r})=>{const s=j.useMemo(()=>e.filter(S=>S.productId===t).sort((S,T)=>new Date(T.createdAt).getTime()-new Date(S.createdAt).getTime()),[e,t]),[i,c]=j.useState(""),[d,f]=j.useState(""),[h,p]=j.useState(null),[g,b]=j.useState(""),N=S=>{S.preventDefault(),i.trim()&&d.trim()&&(n({productId:t,author:d,text:i}),c(""),f(""))},w=S=>{g.trim()&&(r(S,{author:"Ana Carolina (Vendedor)",text:g}),p(null),b(""))};return o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold font-display text-white mb-4",children:"Perguntas e Respostas"}),o.jsxs("form",{onSubmit:N,className:"bg-gray-800/50 p-4 rounded-lg mb-6 space-y-3",children:[o.jsx("textarea",{value:i,onChange:S=>c(S.target.value),placeholder:"Faa sua pergunta sobre o produto...",rows:3,className:"w-full bg-gray-800 border-2 border-gray-700 rounded-md py-2 px-3 text-white"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("input",{value:d,onChange:S=>f(S.target.value),placeholder:"Seu nome",className:"flex-grow bg-gray-800 border-2 border-gray-700 rounded-md py-2 px-3 text-white"}),o.jsx("button",{type:"submit",className:"bg-yellow-500 text-black font-bold py-2 px-4 rounded-md",children:"Enviar Pergunta"})]})]}),o.jsx("div",{className:"space-y-6 max-h-[400px] overflow-y-auto pr-2",children:s.length>0?s.map(S=>o.jsxs("div",{className:"border-b border-gray-800 pb-4 last:border-b-0",children:[o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:"font-bold text-yellow-400 text-lg",children:"P:"}),o.jsxs("div",{className:"flex-grow",children:[o.jsx("p",{className:"text-gray-200",children:S.text}),o.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[S.author," - ",new Date(S.createdAt).toLocaleDateString("pt-BR")]})]})]}),o.jsxs("div",{className:"pl-8 mt-2 space-y-2",children:[S.answers.map(T=>o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:"font-bold text-cyan-400 text-lg",children:"R:"}),o.jsxs("div",{className:"flex-grow bg-gray-800/50 p-2 rounded-md",children:[o.jsx("p",{className:"text-gray-300 text-sm",children:T.text}),o.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[T.author," - ",new Date(T.createdAt).toLocaleDateString("pt-BR")]})]})]},T.id)),h===S.id?o.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[o.jsx("input",{value:g,onChange:T=>b(T.target.value),placeholder:"Sua resposta...",className:"flex-grow bg-gray-700 border border-gray-600 rounded-md py-1 px-2 text-sm text-white"}),o.jsx("button",{onClick:()=>w(S.id),className:"bg-cyan-500 text-black text-xs font-bold py-1 px-2 rounded-md",children:"Postar"}),o.jsx("button",{onClick:()=>p(null),className:"text-gray-500 text-xs",children:"Cancelar"})]}):o.jsx("button",{onClick:()=>p(S.id),className:"text-xs font-semibold text-cyan-400 hover:underline mt-2",children:"Responder"})]})]},S.id)):o.jsx("p",{className:"text-gray-500 text-center py-4",children:"Nenhuma pergunta foi feita ainda. Seja o primeiro!"})})]})},OT=({product:t,collections:e,onBack:n,onAddToCart:r,onNavigate:s,reviews:i,onReviewSubmit:c,wishlist:d,onToggleWishlist:f,questions:h,onQuestionSubmit:p,onAnswerSubmit:g})=>{const[b,N]=j.useState(1),[w,S]=j.useState(t.images[0]),[T,E]=j.useState("description"),[M,D]=j.useState(()=>{const re={};return t.options.forEach(le=>{re[le.name]=le.values[0]}),re}),H=j.useMemo(()=>!t.variants||t.variants.length===0?{id:"default",options:{},price:t.price,inventory:t.inventory,sku:t.sku}:t.variants.find(re=>Object.entries(M).every(([le,ge])=>re.options[le]===ge)),[M,t]),V=d.includes(t.id),z=(re,le)=>{D(ge=>({...ge,[re]:le}))},P=re=>{N(le=>Math.max(1,le+re))},te=()=>{H?(r(t,b,H),alert(`${b}x "${t.name}" adicionado ao carrinho!`)):alert("Por favor, selecione uma opo vlida.")},K=t.collectionId?e.find(re=>re.id===t.collectionId):null,ce=H?H.inventory<=0:t.inventory<=0,ye=h.filter(re=>re.productId===t.id);return o.jsx("section",{className:"py-12 sm:py-16 bg-[rgb(var(--color-brand-dark))] text-[rgb(var(--color-brand-text-light))]",children:o.jsxs("div",{className:"container mx-auto px-4",children:[o.jsx("button",{onClick:n,className:"text-sm text-[rgb(var(--color-brand-text-dim))] hover:text-[rgb(var(--color-brand-gold))] mb-6",children:" Voltar aos produtos"}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[o.jsxs("div",{children:[o.jsx("div",{className:"aspect-square bg-[rgb(var(--color-brand-gray))]/[.50] rounded-lg overflow-hidden mb-4 border border-[rgb(var(--color-brand-gray-light))]",children:o.jsx("img",{src:w,alt:t.name,className:"w-full h-full object-cover"})}),o.jsx("div",{className:"grid grid-cols-4 gap-2",children:t.images.map((re,le)=>o.jsx("button",{onClick:()=>S(re),className:`aspect-square rounded-md overflow-hidden border-2 ${w===re?"border-[rgb(var(--color-brand-gold))]":"border-transparent hover:border-[rgb(var(--color-brand-gray-light))]"}`,children:o.jsx("img",{src:re,alt:`${t.name} - thumbnail ${le+1}`,className:"w-full h-full object-cover"})},le))})]}),o.jsxs("div",{children:[K&&o.jsx("button",{onClick:()=>s("collectionView",K),className:"text-[rgb(var(--color-brand-gold))] font-semibold mb-1 hover:underline",children:K.title}),o.jsx("h1",{className:"text-3xl md:text-4xl font-bold font-display text-[rgb(var(--color-brand-text-light))]",children:t.name}),o.jsxs("div",{className:"flex items-center mt-3",children:[o.jsx("div",{className:"flex items-center",children:[...Array(5)].map((re,le)=>o.jsx(ti,{className:`h-5 w-5 ${le<Math.round(t.rating)?"text-[rgb(var(--color-brand-gold))]":"text-[rgb(var(--color-brand-gray-light))]"}`},le))}),o.jsxs("span",{className:"text-[rgb(var(--color-brand-text-dim))] text-sm ml-2",children:["(",t.reviewCount," avaliaes)"]})]}),o.jsx("p",{className:"text-3xl md:text-4xl font-light text-[rgb(var(--color-brand-gold))] my-4",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:t.currency}).format((H==null?void 0:H.price)||t.price)}),o.jsx("div",{className:"prose prose-invert max-w-none text-[rgb(var(--color-brand-text-dim))] mb-6",children:o.jsx("p",{children:t.shortDescription})}),t.options&&t.options.length>0&&o.jsx("div",{className:"space-y-4 mb-6",children:t.options.map(re=>o.jsxs("div",{children:[o.jsx("p",{className:"font-semibold text-[rgb(var(--color-brand-text-light))] mb-2",children:re.name}),o.jsx("div",{className:"flex flex-wrap gap-2",children:re.values.map(le=>o.jsx("button",{onClick:()=>z(re.name,le),className:`px-4 py-2 text-sm rounded-full border-2 transition-colors ${M[re.name]===le?"bg-[rgb(var(--color-brand-gold))] text-[rgb(var(--color-brand-dark))] border-[rgb(var(--color-brand-gold))]":"bg-[rgb(var(--color-brand-dark))] border-[rgb(var(--color-brand-gray-light))] hover:border-[rgb(var(--color-brand-gray))]"}`,children:le},le))})]},re.id))}),o.jsxs("div",{className:"mt-6 flex items-center gap-4",children:[o.jsxs("div",{className:"flex items-center border border-[rgb(var(--color-brand-gray-light))] rounded-full",children:[o.jsx("button",{onClick:()=>P(-1),className:"px-4 py-2 text-xl text-[rgb(var(--color-brand-text-dim))] hover:text-[rgb(var(--color-brand-text-light))] rounded-l-full",children:"-"}),o.jsx("span",{className:"px-4 text-lg font-semibold",children:b}),o.jsx("button",{onClick:()=>P(1),className:"px-4 py-2 text-xl text-[rgb(var(--color-brand-text-dim))] hover:text-[rgb(var(--color-brand-text-light))] rounded-r-full",children:"+"})]}),o.jsx("button",{onClick:te,disabled:ce,className:"flex-grow bg-[rgb(var(--color-active-lime))] text-[rgb(var(--color-brand-dark))] font-bold py-3 px-8 rounded-full text-lg hover:bg-[rgb(var(--color-success))] transition-transform transform hover:scale-105 disabled:bg-[rgb(var(--color-brand-gray-light))] disabled:cursor-not-allowed",children:ce?"Esgotado":"Adicionar ao Carrinho"}),o.jsx("button",{onClick:()=>f(t.id),className:"p-3 border border-[rgb(var(--color-brand-gray-light))] rounded-full text-[rgb(var(--color-brand-text-light))] hover:text-[rgb(var(--color-brand-gold))]","aria-label":"Adicionar  lista de desejos",children:o.jsx(Hu,{className:`w-6 h-6 transition-all ${V?"text-[rgb(var(--color-brand-gold))] fill-current":""}`})})]}),o.jsxs("div",{className:"mt-6 space-y-3",children:[o.jsxs("div",{className:"flex items-center gap-3 text-sm text-[rgb(var(--color-brand-text-dim))]",children:[o.jsx(DT,{className:"w-6 h-6 text-[rgb(var(--color-success))]"}),o.jsxs("span",{children:["Compra ",o.jsx("strong",{children:"100% segura"})," e verificada."]})]}),o.jsxs("div",{className:"flex items-center gap-3 text-sm text-[rgb(var(--color-brand-text-dim))]",children:[o.jsx(_T,{className:"w-6 h-6 text-[rgb(var(--color-info))]"}),o.jsxs("span",{children:["Garantia de devoluo de ",o.jsx("strong",{children:"7 dias"}),"."]})]})]})]})]}),o.jsxs("div",{className:"mt-16 border-t border-[rgb(var(--color-brand-gray-light))] pt-12",children:[o.jsx("div",{className:"border-b border-[rgb(var(--color-brand-gray-light))] mb-8",children:o.jsxs("nav",{className:"-mb-px flex space-x-8","aria-label":"Tabs",children:[o.jsx("button",{onClick:()=>E("description"),className:`whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm ${T==="description"?"border-[rgb(var(--color-brand-gold))] text-[rgb(var(--color-brand-gold))]":"border-transparent text-[rgb(var(--color-brand-text-dim))] hover:text-[rgb(var(--color-brand-text-light))]"}`,children:"Descrio"}),o.jsxs("button",{onClick:()=>E("reviews"),className:`whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm ${T==="reviews"?"border-[rgb(var(--color-brand-gold))] text-[rgb(var(--color-brand-gold))]":"border-transparent text-[rgb(var(--color-brand-text-dim))] hover:text-[rgb(var(--color-brand-text-light))]"}`,children:["Avaliaes (",t.reviewCount,")"]}),o.jsxs("button",{onClick:()=>E("qa"),className:`whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm ${T==="qa"?"border-[rgb(var(--color-brand-gold))] text-[rgb(var(--color-brand-gold))]":"border-transparent text-[rgb(var(--color-brand-text-dim))] hover:text-[rgb(var(--color-brand-text-light))]"}`,children:["Perguntas (",ye.length,")"]})]})}),o.jsxs("div",{children:[T==="description"&&o.jsx("div",{className:"prose prose-invert max-w-none text-[rgb(var(--color-brand-text-dim))]",dangerouslySetInnerHTML:{__html:t.description}}),T==="reviews"&&o.jsx(PT,{product:t,reviews:i,onReviewSubmit:c}),T==="qa"&&o.jsx(LT,{productId:t.id,questions:h,onQuestionSubmit:p,onAnswerSubmit:g})]})]})]})})},lo=t=>o.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:[o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 010-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.432 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178z"}),o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),ii=t=>o.jsx("svg",{...t,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.98 8.223A10.477 10.477 0 001.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.45 10.45 0 0112 4.5c4.756 0 8.773 3.162 10.065 7.498a10.523 10.523 0 01-4.293 5.774M6.228 6.228L3 3m3.228 3.228l3.65 3.65m7.894 7.894L21 21m-3.228-3.228l-3.65-3.65m0 0a3 3 0 10-4.243-4.243m4.243 4.243l-4.243-4.243"})}),BT=({onLoginSuccess:t,onBackToHome:e})=>{const[n,r]=j.useState("rsprolipsioficial@gmail.com"),[s,i]=j.useState("Yannis784512@"),[c,d]=j.useState(""),[f,h]=j.useState(!1),p=g=>{g.preventDefault(),d(""),n==="rsprolipsioficial@gmail.com"&&s==="Yannis784512@"?t():d("E-mail ou senha invlidos.")};return o.jsx("div",{className:"flex items-center justify-center min-h-screen bg-[rgb(var(--color-brand-dark))] py-12",children:o.jsxs("div",{className:"w-full max-w-md p-8 space-y-8 bg-[rgb(var(--color-brand-dark))] border-2 border-[rgb(var(--color-brand-gold))]/[.30] rounded-lg shadow-2xl",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-3xl font-bold text-center font-display text-[rgb(var(--color-brand-gold))]",children:"Acesso Restrito"}),o.jsx("p",{className:"mt-2 text-center text-[rgb(var(--color-brand-text-dim))]",children:"Faa login para acessar os painis de gerenciamento."})]}),o.jsxs("form",{className:"mt-8 space-y-6",onSubmit:p,children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"email-address",className:"sr-only",children:"E-mail"}),o.jsx("input",{id:"email-address",name:"email",type:"email",autoComplete:"email",required:!0,value:n,onChange:g=>r(g.target.value),className:"appearance-none relative block w-full px-3 py-3 border-2 border-[rgb(var(--color-brand-gray-light))] bg-[rgb(var(--color-brand-gray))] text-[rgb(var(--color-brand-text-light))] placeholder-[rgb(var(--color-brand-text-dim))] rounded-md focus:outline-none focus:ring-[rgb(var(--color-brand-gold))] focus:border-[rgb(var(--color-brand-gold))] sm:text-sm",placeholder:"E-mail"})]}),o.jsxs("div",{className:"relative",children:[o.jsx("label",{htmlFor:"password",className:"sr-only",children:"Senha"}),o.jsx("input",{id:"password",name:"password",type:f?"text":"password",autoComplete:"current-password",required:!0,value:s,onChange:g=>i(g.target.value),className:"appearance-none relative block w-full px-3 py-3 border-2 border-[rgb(var(--color-brand-gray-light))] bg-[rgb(var(--color-brand-gray))] text-[rgb(var(--color-brand-text-light))] placeholder-[rgb(var(--color-brand-text-dim))] rounded-md focus:outline-none focus:ring-[rgb(var(--color-brand-gold))] focus:border-[rgb(var(--color-brand-gold))] sm:text-sm pr-10",placeholder:"Senha"}),o.jsx("button",{type:"button",onClick:()=>h(!f),className:"absolute inset-y-0 right-0 px-3 flex items-center text-[rgb(var(--color-brand-text-dim))] hover:text-[rgb(var(--color-brand-gold))]","aria-label":f?"Esconder senha":"Mostrar senha",children:f?o.jsx(ii,{className:"h-5 w-5"}):o.jsx(lo,{className:"h-5 w-5"})})]})]}),c&&o.jsx("p",{className:"text-[rgb(var(--color-error))] text-sm text-center !mt-4",children:c}),o.jsx("div",{children:o.jsx("button",{type:"submit",className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-bold rounded-md text-[rgb(var(--color-brand-dark))] bg-[rgb(var(--color-brand-gold))] hover:bg-[rgb(var(--color-warning))] focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-[rgb(var(--color-brand-dark))] focus:ring-[rgb(var(--color-brand-gold))] transition-colors mt-6",children:"Entrar"})})]}),o.jsx("div",{className:"text-center",children:o.jsx("button",{onClick:e,className:"font-medium text-sm text-[rgb(var(--color-brand-gold))] hover:text-[rgb(var(--color-warning))]",children:"Voltar para a loja"})})]})})},co=t=>o.jsx("svg",{...t,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5L3 12m0 0l7.5-7.5M3 12h18"})}),zT=t=>o.jsx("svg",{...t,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 4.5L21 12m0 0l-7.5 7.5M21 12H3"})}),J2=({banners:t,className:e})=>{const[n,r]=j.useState(0),s=()=>{const d=n===0?t.length-1:n-1;r(d)},i=j.useCallback(()=>{if(t.length===0)return;const d=n===t.length-1?0:n+1;r(d)},[n,t]);return j.useEffect(()=>{if(t.length>1){const c=setInterval(i,5e3);return()=>clearInterval(c)}},[t,i]),!t||t.length===0?null:o.jsxs("section",{className:`relative w-full overflow-hidden bg-gray-900 group ${e||"h-[300px] md:h-[400px]"}`,children:[o.jsx("div",{className:"w-full h-full flex transition-transform duration-700 ease-in-out",style:{transform:`translateX(-${n*100}%)`},children:t.map(c=>o.jsx("a",{href:c.link,className:"w-full h-full flex-shrink-0","aria-label":`Banner ${c.id}`,children:o.jsxs("picture",{className:"w-full h-full",children:[o.jsx("source",{media:"(min-width: 768px)",srcSet:c.desktopImage}),o.jsx("img",{src:c.mobileImage,alt:`Banner ${c.id}`,className:"w-full h-full object-cover"})]})},c.id))}),t.length>1&&o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:s,className:"absolute top-1/2 left-4 -translate-y-1/2 z-10 p-2 bg-black/40 text-white rounded-full hover:bg-black/70 transition-opacity opacity-0 group-hover:opacity-100","aria-label":"Slide anterior",children:o.jsx(co,{className:"w-6 h-6"})}),o.jsx("button",{onClick:i,className:"absolute top-1/2 right-4 -translate-y-1/2 z-10 p-2 bg-black/40 text-white rounded-full hover:bg-black/70 transition-opacity opacity-0 group-hover:opacity-100","aria-label":"Prximo slide",children:o.jsx(zT,{className:"w-6 h-6"})}),o.jsx("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 z-10 flex space-x-2",children:t.map((c,d)=>o.jsx("button",{onClick:()=>r(d),className:`w-3 h-3 rounded-full transition-colors ${n===d?"bg-yellow-500":"bg-gray-400/50 hover:bg-gray-200/80"}`,"aria-label":`Ir para o slide ${d+1}`},d))})]})]})},Er=t=>o.jsx("svg",{...t,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5a3.375 3.375 0 00-3.375-3.375H9.75"})}),uo=t=>o.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:[o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.666 3.888A2.25 2.25 0 0013.5 2.25h-3c-1.03 0-1.9.693-2.166 1.638m7.332 0c.055.194.084.4.084.612v0a2.25 2.25 0 01-2.25 2.25h-1.5a2.25 2.25 0 01-2.25-2.25v0c0-.212.03-.418.084-.612m7.332 0c.646.049 1.288.11 1.927.184 1.1.128 1.907 1.077 1.907 2.185V19.5a2.25 2.25 0 01-2.25 2.25H6.75A2.25 2.25 0 014.5 19.5V6.257c0-1.108.806-2.057 1.907-2.185a48.208 48.208 0 011.927-.184"}),o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75l3 3m0 0l3-3m-3 3v-7.5"})]}),eg=t=>o.jsx("svg",{...t,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19.128a9.38 9.38 0 002.625.372 9.337 9.337 0 004.121-.952 4.125 4.125 0 00-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 018.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0111.964-4.663M12 3.375c-1.109 0-2.168.25-3.126.688a4.5 4.5 0 00-6.136 5.862c.39.856.86 1.66 1.417 2.416a9.337 9.337 0 00.728 1.106c.638.92 1.446 1.73 2.378 2.422a9.337 9.337 0 001.082.728c.16.09.322.178.487.264l.002.001c.164.086.33.17.498.252a9.35 9.35 0 002.16-.952 4.125 4.125 0 00.158-6.422l-.001-.001a4.125 4.125 0 00-3.23-1.622z"})}),Ql=t=>o.jsx("svg",{...t,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 18.75a1.5 1.5 0 01-3 0m3 0a1.5 1.5 0 00-3 0m3 0h6m-9 0H3.375a1.125 1.125 0 01-1.125-1.125V14.25m17.25 4.5a1.5 1.5 0 01-3 0m3 0a1.5 1.5 0 00-3 0m3 0h1.125c.621 0 1.125-.504 1.125-1.125V14.25m-17.25 4.5v-1.875a3.375 3.375 0 013.375-3.375h9.75a3.375 3.375 0 013.375 3.375v1.875m-17.25 4.5h15M5.25 6H9m0 0a2.25 2.25 0 012.25 2.25v.75"})}),mi=t=>o.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:[o.jsx("path",{d:"M8.25 18.75a1.5 1.5 0 01-3 0m3 0a1.5 1.5 0 00-3 0m3 0h6m-9 0H3.375a1.125 1.125 0 01-1.125-1.125V14.25m17.25 4.5a1.5 1.5 0 01-3 0m3 0a1.5 1.5 0 00-3 0m3 0h1.125c.621 0 1.125-.504 1.125-1.125V14.25m-17.25 4.5v-1.875a3.375 3.375 0 013.375-3.375h9.75a3.375 3.375 0 013.375 3.375v1.875m-17.25 4.5h15M5.25 6H9m0 0a2.25 2.25 0 012.25 2.25v.75",strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12H9m12 0h-2.25"})]}),K2=t=>o.jsx("svg",{...t,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 21a9.004 9.004 0 008.716-6.747M12 21a9.004 9.004 0 01-8.716-6.747M12 21c2.485 0 4.5-4.03 4.5-9S14.485 3 12 3m0 18c-2.485 0-4.5-4.03-4.5-9S9.515 3 12 3m0 0a8.997 8.997 0 017.843 4.582M12 3a8.997 8.997 0 00-7.843 4.582m15.686 0A11.953 11.953 0 0112 10.5c-2.998 0-5.74-1.1-7.843-2.918m15.686 0A8.959 8.959 0 0121 12c0 .778-.099 1.533-.284 2.253m0 0A17.919 17.919 0 0112 16.5c-3.162 0-6.133-.815-8.716-2.247m0 0A9.015 9.015 0 013 12c0-1.605.42-3.113 1.157-4.418"})}),Y2=t=>o.jsx("svg",{...t,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.48 3.499a.562.562 0 011.04 0l2.125 5.111a.563.563 0 00.475.321l5.584.41a.563.563 0 01.31.95l-4.236 3.823a.563.563 0 00-.182.51l1.285 5.385a.562.562 0 01-.84.61l-4.725-2.885a.563.563 0 00-.586 0L6.982 21.03a.562.562 0 01-.84-.61l1.285-5.386a.562.562 0 00-.182-.51l-4.236-3.823a.563.563 0 01.31-.95l5.584-.41a.563.563 0 00.475-.321L11.48 3.5z"})}),W2=t=>o.jsx("svg",{...t,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 18.75h-9a9.75 9.75 0 011.316-5.322A4.5 4.5 0 0112 9.75a4.5 4.5 0 015.184 3.678 9.75 9.75 0 011.316 5.322zM21 15.75a9.75 9.75 0 00-3.375-7.234 4.502 4.502 0 00-1.096-1.096A9.75 9.75 0 0012 3c-1.605 0-3.113.42-4.418 1.157a4.502 4.502 0 00-1.096 1.096A9.75 9.75 0 003 15.75m18 0v2.25c0 .621-.504 1.125-1.125 1.125H4.125A1.125 1.125 0 013 18v-2.25m18 0A12.03 12.03 0 0012 9.75c-2.493 0-4.815.73-6.75 2.006"})}),pi=t=>o.jsx("svg",{...t,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 12a2.25 2.25 0 00-2.25-2.25H5.25A2.25 2.25 0 003 12m18 0v6a2.25 2.25 0 01-2.25 2.25H5.25A2.25 2.25 0 013 18v-6m18 0V9M3 12V9m18 3a2.25 2.25 0 00-2.25-2.25H5.25A2.25 2.25 0 003 12m18 0a2.25 2.25 0 01-2.25 2.25H5.25A2.25 2.25 0 013 12m15-3H6a2.25 2.25 0 00-2.25 2.25v.75"})}),Vu=t=>o.jsx("svg",{...t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:o.jsx("path",{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm2 16H8v-2h8v2zm0-4H8v-2h8v2zm-3-5V3.5L18.5 9H13z"})}),X2=t=>o.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:[o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.568 3H5.25A2.25 2.25 0 003 5.25v4.318c0 .597.237 1.17.659 1.591l9.581 9.581c.699.699 1.78.872 2.607.33a18.095 18.095 0 005.223-5.223c.542-.827.369-1.908-.33-2.607L11.16 3.66A2.25 2.25 0 009.568 3z"}),o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 6h.008v.008H6V6z"})]}),Q2=t=>o.jsx("svg",{...t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:o.jsx("path",{d:"M10 20h4V4h-4v16zm-6 0h4v-8H4v8zM16 9v11h4V9h-4z"})}),tg=t=>o.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:[o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.568 3H5.25A2.25 2.25 0 003 5.25v4.318c0 .597.237 1.17.659 1.591l9.581 9.581c.699.699 1.78.872 2.607.33a18.095 18.095 0 005.223-5.223c.542-.827.369-1.908-.33-2.607L11.16 3.66A2.25 2.25 0 009.568 3z"}),o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 6h.008v.008H6V6z"})]}),Zl=t=>o.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:[o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 6a7.5 7.5 0 100 15 7.5 7.5 0 000-15z"}),o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"}),o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 10.5h.008v.008h-.008V10.5z"}),o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 21a8.966 8.966 0 01-5.982-2.275M12 3a8.966 8.966 0 015.982 2.275"})]}),qu=t=>o.jsx("svg",{...t,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.19 8.688a4.5 4.5 0 011.242 7.244l-4.5 4.5a4.5 4.5 0 01-6.364-6.364l1.757-1.757m13.35-.622l1.757-1.757a4.5 4.5 0 00-6.364-6.364l-4.5 4.5a4.5 4.5 0 001.242 7.244"})}),ng=t=>o.jsx("svg",{...t,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.857 17.082a23.848 23.848 0 005.454-1.31A8.967 8.967 0 0118 9.75v-.7V9A6 6 0 006 9v.75a8.967 8.967 0 01-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 01-5.714 0m5.714 0a3 3 0 11-5.714 0"})}),Z2=t=>o.jsx("svg",{...t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:o.jsx("path",{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zM9 6c0-1.66 1.34-3 3-3s3 1.34 3 3v2H9V6zm9 14H6V10h12v10zm-6-3c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2z"})}),UT=t=>o.jsx("svg",{...t,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 7.5v3m0 0v3m0-3h3m-3 0h-3m-2.25-4.125a3.375 3.375 0 11-6.75 0 3.375 3.375 0 016.75 0zM4 19.235v-.11a6.375 6.375 0 0112.75 0v.109A12.318 12.318 0 0110.374 21c-2.331 0-4.512-.645-6.374-1.766z"})}),rg=t=>o.jsx("svg",{...t,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 013 19.875v-6.75zM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 01-1.125-1.125V8.625zM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 01-1.125-1.125V4.125z"})}),Bl={AffiliateIcon:eg,DistributionIcon:Ql,TruckIcon:mi,GlobalIcon:K2,StarOutlineIcon:Y2,TrophyIcon:W2,WalletIcon:pi,OrdersIcon:Vu,ProductsIcon:X2,AnalyticsIcon:Q2,TagIcon:tg,MegaphoneIcon:Zl,LinkChainIcon:qu,UserIcon:Bn,BellIcon:ng,ShoppingBagIcon:Z2,UserPlusIcon:UT,ShoppingCartIcon:Xl},HT={consultantStore:"Painel do Consultor",manageProducts:"Produtos",addEditProduct:"Adicionar/Editar Produto",editDropshippingProduct:"Editar Produto Dropshipping",manageInventory:"Gerenciar Estoque",manageOrders:"Pedidos",orderDetail:"Detalhes do Pedido",manageReturns:"Gerenciar Devolues",returnDetail:"Detalhes da Devoluo",manageDropshippingOrders:"Pedidos Dropshipping",managePromotions:"Cupons de Desconto",addEditCoupon:"Adicionar/Editar Cupom",addEditMarketingPixel:"Adicionar/Editar Pixel",storeEditor:"Aparncia da Loja",virtualOfficeDropshipping:"Produtos Dropshipping",virtualOfficeAffiliateLinks:"Links de Afiliado",virtualOfficePixels:"Pixels de Marketing",virtualOfficeLinkShortener:"Encurtador de Link",bannerDashboard:"Banners do Painel",dashboardEditor:"Editor do Painel",storeBannerEditor:"Banners da Loja",managePayments:"Configuraes de Pagamento",manageShipping:"Configuraes de Frete",compensationPlan:"Plano de Compensao",manageCollections:"Colees",addEditCollection:"Adicionar/Editar Coleo",dropshippingCatalog:"Catlogo Dropshipping",manageAffiliates:"Programa de Afiliados",walletOverview:"WalletPay - Viso Geral",walletReports:"WalletPay - Extrato e Relatrios",walletTransfers:"WalletPay - Transferncias",walletCharges:"WalletPay - Cobranas",walletSettings:"WalletPay - Configuraes",userProfileEditor:"Meu Perfil",manageAnnouncements:"Gerenciar Comunicados",addEditAnnouncement:"Adicionar/Editar Comunicado",manageTrainings:"Gerenciar Treinamentos",addEditTraining:"Adicionar/Editar Treinamento",manageMarketingAssets:"Gerenciar Materiais de Marketing",addEditMarketingAsset:"Adicionar/Editar Material de Marketing"},VT=({profile:t,visibleFields:e})=>o.jsxs("div",{className:"bg-[rgb(var(--color-brand-dark))] border border-[rgb(var(--color-brand-gray-light))] rounded-lg p-4",children:[o.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[o.jsx("img",{src:t.avatarUrl,alt:t.name,className:"w-16 h-16 rounded-full"}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold text-lg text-[rgb(var(--color-brand-text-light))]",children:t.name}),(e==null?void 0:e.id)&&o.jsxs("p",{className:"text-xs text-[rgb(var(--color-brand-text-dim))]",children:["ID: ",t.id]})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[(e==null?void 0:e.graduation)&&o.jsxs(o.Fragment,{children:[o.jsx("div",{children:o.jsx("span",{className:"text-[rgb(var(--color-brand-text-dim))]",children:"Graduao:"})}),o.jsx("div",{children:o.jsx("span",{className:"font-bold text-[rgb(var(--color-brand-gold))]",children:t.graduation})})]}),(e==null?void 0:e.accountStatus)&&o.jsxs(o.Fragment,{children:[o.jsx("div",{children:o.jsx("span",{className:"text-[rgb(var(--color-brand-text-dim))]",children:"Status da Conta:"})}),o.jsx("div",{children:o.jsx("span",{className:"font-bold text-[rgb(var(--color-info))]",children:t.accountStatus})})]}),(e==null?void 0:e.monthlyActivity)&&o.jsxs(o.Fragment,{children:[o.jsx("div",{children:o.jsx("span",{className:"text-[rgb(var(--color-brand-text-dim))]",children:"Atividade Mensal:"})}),o.jsx("div",{children:o.jsx("span",{className:"font-bold text-[rgb(var(--color-info))]",children:t.monthlyActivity})})]}),(e==null?void 0:e.category)&&o.jsxs(o.Fragment,{children:[o.jsx("div",{children:o.jsx("span",{className:"text-[rgb(var(--color-brand-text-dim))]",children:"Categoria:"})}),o.jsx("div",{children:o.jsx("span",{className:"font-bold text-[rgb(var(--color-brand-gold))]",children:t.category})})]})]})]}),qT=({referral:t,affiliate:e})=>{const[n,r]=kr.useState(null),s=i=>{navigator.clipboard.writeText(i==="referral"?t:e),r(i),setTimeout(()=>r(null),2e3)};return o.jsxs("div",{className:"bg-[rgb(var(--color-brand-dark))] border border-[rgb(var(--color-brand-gray-light))] rounded-lg p-4 space-y-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-xs text-[rgb(var(--color-brand-text-dim))]",children:"Link de Indicao"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"text",readOnly:!0,value:t,className:"w-full bg-[rgb(var(--color-brand-gray))]/[.50] text-[rgb(var(--color-brand-text-dim))] text-sm rounded-md px-2 py-1 border border-[rgb(var(--color-brand-gray-light))]"}),o.jsx("button",{onClick:()=>s("referral"),className:"p-2 bg-[rgb(var(--color-brand-gray))] rounded-md hover:bg-[rgb(var(--color-brand-gray-light))]",children:n==="referral"?o.jsx(uo,{className:"w-5 h-5 text-[rgb(var(--color-success))]"}):o.jsx(Er,{className:"w-5 h-5"})})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-xs text-[rgb(var(--color-brand-text-dim))]",children:"Link de Afiliado"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"text",readOnly:!0,value:e,className:"w-full bg-[rgb(var(--color-brand-gray))]/[.50] text-[rgb(var(--color-brand-text-dim))] text-sm rounded-md px-2 py-1 border border-[rgb(var(--color-brand-gray-light))]"}),o.jsx("button",{onClick:()=>s("affiliate"),className:"p-2 bg-[rgb(var(--color-brand-gray))] rounded-md hover:bg-[rgb(var(--color-brand-gray-light))]",children:n==="affiliate"?o.jsx(uo,{className:"w-5 h-5 text-[rgb(var(--color-success))]"}):o.jsx(Er,{className:"w-5 h-5"})})]})]})]})},FT=({component:t,tiers:e})=>{const{title:n,value:r=0,max:s=100}=t,i=s>0?r/s*100:0,c=Math.min(i,100),d=e.find(g=>g.name===t.startLabel),f=e.find(g=>g.name===t.endLabel),h=t.startIcon?Bl[t.startIcon]:null,p=t.endIcon?Bl[t.endIcon]:null;return o.jsxs("div",{className:"bg-[rgb(var(--color-brand-dark))] border border-[rgb(var(--color-brand-gray-light))] rounded-lg p-4",children:[o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsx("h4",{className:"font-semibold text-[rgb(var(--color-brand-text-light))]",children:n}),o.jsxs("span",{className:"font-bold text-[rgb(var(--color-brand-gold))] text-sm",children:[i.toFixed(0),"%"]})]}),o.jsx("div",{className:"relative h-4 bg-[rgb(var(--color-brand-gray))] rounded-full overflow-hidden",children:o.jsx("div",{className:"absolute h-4 bg-[rgb(var(--color-brand-gold))] rounded-full",style:{width:`${c}%`}})}),o.jsxs("div",{className:"flex justify-between items-center mt-1 text-[rgb(var(--color-brand-gold))]",children:[d!=null&&d.pinImageUrl?o.jsx("img",{src:d.pinImageUrl,alt:d==null?void 0:d.name,className:"w-8 h-8 object-contain",title:t.startLabel}):h?o.jsx(h,{className:"w-6 h-6",title:t.startLabel}):o.jsx("div",{className:"w-8 h-8"}),f!=null&&f.pinImageUrl?o.jsx("img",{src:f.pinImageUrl,alt:f==null?void 0:f.name,className:"w-8 h-8 object-contain",title:t.endLabel}):p?o.jsx(p,{className:"w-6 h-6",title:t.endLabel}):o.jsx("div",{className:"w-8 h-8"})]})]})},GT=({card:t,value:e})=>{const n=Bl[t.icon];return o.jsxs("div",{className:"bg-[rgb(var(--color-brand-dark))] border border-[rgb(var(--color-brand-gray-light))] rounded-lg p-4 flex items-center gap-3",children:[n&&o.jsx("div",{className:"p-2 bg-[rgb(var(--color-brand-gold))]/[.10] rounded-full",children:o.jsx(n,{className:"w-6 h-6 text-[rgb(var(--color-brand-gold))]"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-[rgb(var(--color-brand-text-dim))] uppercase",children:t.title}),o.jsx("p",{className:"text-xl font-bold text-[rgb(var(--color-brand-text-light))]",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e)})]})]})},$T=({component:t})=>{var e;return o.jsxs("div",{className:"bg-[rgb(var(--color-brand-dark))] border border-[rgb(var(--color-brand-gray-light))] rounded-lg p-6 space-y-4",children:[o.jsx("h3",{className:"text-lg font-semibold text-[rgb(var(--color-brand-text-light))]",children:t.title}),(e=t.content)==null?void 0:e.map((n,r)=>o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[o.jsx("span",{className:"text-[rgb(var(--color-brand-text-dim))]",children:n.title}),o.jsxs("span",{className:"font-semibold text-[rgb(var(--color-brand-text-light))]",children:[n.progress,"%"]})]}),o.jsx("div",{className:"relative h-4 bg-[rgb(var(--color-brand-gray))] rounded-full overflow-hidden",children:o.jsx("div",{className:"absolute h-4 bg-[rgb(var(--color-brand-gold))] rounded-full",style:{width:`${n.progress}%`}})})]},r))]})},JT=({title:t,items:e})=>o.jsxs("div",{className:"bg-[rgb(var(--color-brand-dark))] border border-[rgb(var(--color-brand-gray-light))] rounded-lg p-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-[rgb(var(--color-brand-text-light))] mb-4",children:t||"Atividade da Rede"}),o.jsx("ul",{className:"space-y-4",children:e.map(n=>{const r=Bl[n.icon];return o.jsxs("li",{className:"flex items-start gap-3 border-l border-[rgb(var(--color-brand-gold))] pl-3 border-b border-[rgb(var(--color-brand-gray-light))] pb-4 last:border-b-0",children:[o.jsx("div",{className:"p-1.5 bg-[rgb(var(--color-brand-gray))] rounded-full mt-1",children:r&&o.jsx(r,{className:"w-5 h-5 text-[rgb(var(--color-brand-gold))]"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-[rgb(var(--color-brand-text-dim))]",dangerouslySetInnerHTML:{__html:n.text}}),o.jsx("p",{className:"text-xs text-[rgb(var(--color-brand-text-dim))]",children:n.timestamp})]})]},n.id)})})]}),KT=({component:t,onNavigate:e})=>{const n=t.icon?Bl[t.icon]:qu,r=Object.keys(HT).includes(t.url||""),s=i=>{r&&t.url&&(i.preventDefault(),e(t.url))};return o.jsxs("a",{href:r?"#":t.url||"#",onClick:s,className:"bg-[rgb(var(--color-brand-dark))] border border-[rgb(var(--color-brand-gray-light))] rounded-lg p-4 flex items-center gap-4 hover:bg-[rgb(var(--color-brand-gray))]/[.50] transition-colors",children:[o.jsx("div",{className:"p-2 bg-[rgb(var(--color-brand-gold))]/[.10] rounded-full",children:o.jsx(n,{className:"w-6 h-6 text-[rgb(var(--color-brand-gold))]"})}),o.jsx("h4",{className:"font-semibold text-[rgb(var(--color-brand-text-light))]",children:t.title})]})},YT=({title:t,data:e})=>{const[n,r]=j.useState(null),s=j.useRef(null),i=150,c=400,d=40,f=20,h=Math.ceil(Math.max(...e.map(b=>b.bonus),0)/100)*100||100,p=(b,N,w)=>{if(!s.current)return;const S=s.current.getBoundingClientRect();r({x:b.clientX-S.left,y:b.clientY-S.top-10,content:`${N}: R$ ${w.toFixed(2)}`})},g=[0,h/2,h].map(b=>({value:b,y:i-i*(b/h)}));return o.jsxs("div",{ref:s,className:"bg-[rgb(var(--color-brand-dark))] border border-[rgb(var(--color-brand-gray-light))] rounded-lg p-6 relative",children:[o.jsx("style",{children:`
                @keyframes grow-bar { from { transform: scaleY(0); } to { transform: scaleY(1); } }
                .bar-rect { transform-origin: bottom; animation: grow-bar 0.5s ease-out forwards; transition: filter 0.2s ease-in-out; }
                .bar-rect:hover { filter: brightness(1.2); }
            `}),o.jsxs("h3",{className:"text-lg font-semibold text-[rgb(var(--color-brand-text-light))] mb-4 flex items-center gap-2",children:[o.jsx(rg,{className:"w-6 h-6 text-[rgb(var(--color-brand-gold))]"}),t]}),o.jsxs("div",{className:"relative h-[180px]",children:[o.jsxs("svg",{viewBox:`0 0 ${c} ${i+f}`,width:"100%",height:"100%",children:[o.jsx("defs",{children:o.jsxs("linearGradient",{id:"barGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[o.jsx("stop",{offset:"0%",stopColor:"rgb(var(--color-brand-gold))"}),o.jsx("stop",{offset:"100%",stopColor:"rgb(var(--color-warning))"})]})}),g.map(({value:b,y:N})=>o.jsxs("g",{children:[o.jsx("text",{x:d-8,y:N+4,textAnchor:"end",fill:"rgb(var(--color-brand-text-dim))",fontSize:"10",children:b}),o.jsx("line",{x1:d,x2:c,y1:N,y2:N,stroke:"rgb(var(--color-brand-gray-light))",strokeWidth:"0.5",strokeDasharray:"2,2"})]},b)),o.jsx("g",{transform:`translate(${d}, 0)`,children:e.map((b,N)=>{const w=(c-d)/e.length,S=w*.5,T=h>0?b.bonus/h*i:0,E=N*w+(w-S)/2;return o.jsxs("g",{children:[o.jsx("rect",{className:"bar-rect",x:E,y:i-T,width:S,height:T,fill:"url(#barGradient)",rx:"2",onMouseMove:M=>p(M,b.day,b.bonus),onMouseOut:()=>r(null),style:{animationDelay:`${N*70}ms`}}),o.jsx("text",{x:E+S/2,y:i+15,textAnchor:"middle",fill:"rgb(var(--color-brand-text-dim))",fontSize:"12",children:b.day})]},N)})})]}),n&&o.jsx("div",{className:"absolute bg-[rgb(var(--color-brand-gray))] text-[rgb(var(--color-brand-text-light))] text-xs rounded-md py-1 px-2 pointer-events-none transform -translate-x-1/2 -translate-y-full shadow-lg",style:{left:n.x,top:n.y},children:n.content})]})]})},Am=(t,e)=>{switch(t.type){case"userInfo":return o.jsx(VT,{profile:e.userProfile,visibleFields:t.visibleFields});case"referralLinks":return o.jsx(qT,{referral:e.userProfile.referralLink,affiliate:e.userProfile.affiliateLink});case"qualificationProgress":return o.jsx(FT,{component:t,tiers:e.compensationSettings.tiers});case"adminBanner":return o.jsx(J2,{banners:e.banners,className:"h-full rounded-lg overflow-hidden"});case"bonusCards":return o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:e.settings.cards.map(n=>{const r=e.bonuses[n.dataKey]||0;return o.jsx(GT,{card:n,value:r},n.id)})});case"incentivesProgram":return o.jsx($T,{component:t});case"networkActivity":return o.jsx(JT,{title:t.title,items:e.networkActivity});case"shortcut":return o.jsx(KT,{component:t,onNavigate:e.onNavigate});case"performanceChart":return o.jsx(YT,{title:t.title,data:e.weeklyBonuses});default:return null}},Uy=(t,e)=>{var g;if(!e||e.length===0)return{currentTier:null,nextTier:null,value:0,max:100,startLabel:"N/A",endLabel:"N/A"};const n=[...e].sort((b,N)=>b.pointsRequired-N.pointsRequired),r=n.slice().reverse().find(b=>t>=b.pointsRequired),s=r?n.findIndex(b=>b.id===r.id):-1,i=s>-1?n[s+1]:n[0],c=s>0?n[s-1].pointsRequired:0,d=r?r.name:"Iniciante",f=i?i.name:r?r.name:"N/A",h=i?i.pointsRequired-c:r?r.pointsRequired-c:((g=n[0])==null?void 0:g.pointsRequired)||100;return{value:t-c,max:h,startLabel:d,endLabel:f}},WT=t=>{const{settings:e,userPoints:n,monthlyUserPoints:r,compensationSettings:s}=t,i=j.useMemo(()=>{const p=JSON.parse(JSON.stringify(e)),g=Uy(n,s.tiers),b=Uy(r,s.tiers);return p.components=p.components.map(N=>{if(N.type==="qualificationProgress"){if(N.id==="comp-qual-current"||N.id==="comp-qual-next")return{...N,...g};if(N.id==="comp-qual-month")return{...N,...b}}return N}),p},[e,n,r,s]),c=i.components.find(p=>p.type==="adminBanner"&&p.enabled),d=i.components.filter(p=>p.column==="left"&&p.enabled),f=i.components.filter(p=>p.column==="right"&&p.enabled&&p.type!=="adminBanner"),h={...t,settings:i};return o.jsxs("div",{className:"space-y-6",children:[c&&o.jsx("div",{className:"h-[250px]",children:Am(c,h)},c.id),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsx("div",{className:"lg:col-span-1 space-y-6",children:d.map(p=>o.jsx("div",{children:Am(p,h)},p.id))}),o.jsx("div",{className:"lg:col-span-2 space-y-6",children:f.map(p=>o.jsx("div",{children:Am(p,h)},p.id))})]})]})},jt=t=>o.jsx("svg",{...t,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.134-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.067-2.09 1.02-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})}),Fu=t=>o.jsx("svg",{...t,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10"})}),XT=({products:t,onNavigate:e,onDelete:n})=>{const[r,s]=j.useState(""),[i,c]=j.useState([]),d=j.useMemo(()=>t.filter(p=>p.name.toLowerCase().includes(r.toLowerCase())||p.sku&&p.sku.toLowerCase().includes(r.toLowerCase())),[t,r]),f=p=>{p.target.checked?c(d.map(g=>g.id)):c([])},h=p=>{c(g=>g.includes(p)?g.filter(b=>b!==p):[...g,p])};return o.jsxs("div",{className:"bg-[rgb(var(--color-brand-dark))] border border-[rgb(var(--color-brand-gray-light))] rounded-lg",children:[o.jsxs("div",{className:"p-4 border-b border-[rgb(var(--color-brand-gray-light))] flex justify-end",children:[" ",o.jsxs("div",{className:"relative max-w-lg flex-grow",children:[" ",o.jsx("input",{type:"text",placeholder:"Buscar produtos por nome ou SKU",value:r,onChange:p=>s(p.target.value),className:"w-full bg-[rgb(var(--color-brand-gray))] border-2 border-[rgb(var(--color-brand-gray-light))] rounded-md py-2 pl-10 pr-4 text-[rgb(var(--color-brand-text-light))]"}),o.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:o.jsx(tn,{className:"h-5 w-5 text-[rgb(var(--color-brand-text-dim))]"})})]}),o.jsx("button",{onClick:()=>e("addEditProduct"),className:"ml-4 text-sm font-bold bg-[rgb(var(--color-active-lime))] text-[rgb(var(--color-brand-dark))] py-2 px-4 rounded-md hover:bg-[rgb(var(--color-success))] transition-colors whitespace-nowrap",children:"+ Adicionar Produto"})]}),i.length>0&&o.jsx("div",{className:"p-4 bg-[rgb(var(--color-brand-gray))]/[.50]",children:o.jsxs("button",{onClick:()=>n(i),className:"flex items-center gap-2 text-sm text-[rgb(var(--color-error))] hover:text-[rgb(var(--color-error))]/[.80]",children:[o.jsx(jt,{className:"w-5 h-5"}),"Excluir ",i.length," produto(s)"]})}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-sm text-left text-[rgb(var(--color-brand-text-dim))]",children:[o.jsx("thead",{className:"text-xs text-[rgb(var(--color-brand-text-dim))] uppercase bg-[rgb(var(--color-brand-dark))]",children:o.jsxs("tr",{children:[o.jsx("th",{scope:"col",className:"p-4",children:o.jsx("input",{type:"checkbox",onChange:f,checked:i.length>0&&i.length===d.length})}),o.jsx("th",{scope:"col",className:"px-6 py-3",children:"Produto"}),o.jsx("th",{scope:"col",className:"px-6 py-3",children:"Status"}),o.jsx("th",{scope:"col",className:"px-6 py-3",children:"Estoque"}),o.jsx("th",{scope:"col",className:"px-6 py-3",children:"Preo"}),o.jsx("th",{scope:"col",className:"px-6 py-3",children:"Aes"})]})}),o.jsx("tbody",{children:d.map(p=>o.jsxs("tr",{className:"border-b border-[rgb(var(--color-brand-gray-light))] hover:bg-[rgb(var(--color-brand-gray))]/[.50]",children:[o.jsx("td",{className:"w-4 p-4",children:o.jsx("input",{type:"checkbox",checked:i.includes(p.id),onChange:()=>h(p.id)})}),o.jsx("td",{className:"px-6 py-4",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("img",{src:p.images[0],alt:p.name,className:"w-10 h-10 object-cover rounded"}),o.jsx("button",{onClick:()=>e("addEditProduct",p),className:"font-medium text-[rgb(var(--color-brand-text-light))] hover:text-[rgb(var(--color-brand-gold))]",children:p.name})]})}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${p.status==="Ativo"?"bg-[rgb(var(--color-success))]/[.20] text-[rgb(var(--color-success))]":"bg-[rgb(var(--color-brand-gray-light))]/[.20] text-[rgb(var(--color-brand-text-dim))]"}`,children:p.status})}),o.jsx("td",{className:"px-6 py-4",children:p.inventory}),o.jsx("td",{className:"px-6 py-4",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:p.currency}).format(p.price)}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("button",{onClick:()=>e("addEditProduct",p),className:"text-[rgb(var(--color-brand-text-dim))] hover:text-[rgb(var(--color-brand-gold))]",children:o.jsx(Fu,{className:"w-5 h-5"})})})]},p.id))})]})})]})},eN=t=>o.jsx("svg",{...t,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 15.75l5.159-5.159a2.25 2.25 0 013.182 0l5.159 5.159m-1.5-1.5l1.409-1.409a2.25 2.25 0 013.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 001.5-1.5V6a1.5 1.5 0 00-1.5-1.5H3.75A1.5 1.5 0 002.25 6v12a1.5 1.5 0 001.5 1.5zm10.5-11.25h.008v.008h-.008V8.25zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0z"})}),Et=({currentImage:t,onImageUpload:e,placeholderText:n,aspectRatio:r="video"})=>{const[s,i]=j.useState(!1),c=j.useRef(null),d=r==="square"?"aspect-square":"aspect-video",f=N=>{if(N&&N[0]){const w=URL.createObjectURL(N[0]);e(w)}},h=N=>{N.preventDefault(),i(!0)},p=N=>{N.preventDefault(),i(!1)},g=N=>{N.preventDefault(),i(!1),N.dataTransfer.files&&N.dataTransfer.files.length>0&&(f(N.dataTransfer.files),N.dataTransfer.clearData())},b=()=>{t.startsWith("blob:")&&URL.revokeObjectURL(t),e("")};return t?o.jsxs("div",{className:`relative group ${d}`,children:[o.jsx("img",{src:t,alt:"Preview",className:"w-full h-full object-cover rounded-md"}),o.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:o.jsx("button",{type:"button",onClick:b,className:"bg-red-600 text-white rounded-full p-2",children:o.jsx(zn,{className:"w-5 h-5"})})})]}):o.jsxs("div",{onDragOver:h,onDragLeave:p,onDrop:g,onClick:()=>{var N;return(N=c.current)==null?void 0:N.click()},className:`border-2 border-dashed border-gray-700 rounded-lg p-6 text-center cursor-pointer transition-colors flex flex-col items-center justify-center ${d} ${s?"border-yellow-500 bg-gray-800/50":"hover:border-gray-600"}`,children:[o.jsx("input",{type:"file",ref:c,onChange:N=>f(N.target.files),accept:"image/*",className:"hidden"}),o.jsx(eN,{className:"w-8 h-8 text-gray-500 mb-2"}),o.jsx("p",{className:"text-gray-400 text-sm",children:n})]})};var QT=V2();const ZT=Uu(QT);var jm={exports:{}},Mm={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hy;function ek(){if(Hy)return Mm;Hy=1;var t=Wl();function e(g,b){return g===b&&(g!==0||1/g===1/b)||g!==g&&b!==b}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,s=t.useEffect,i=t.useLayoutEffect,c=t.useDebugValue;function d(g,b){var N=b(),w=r({inst:{value:N,getSnapshot:b}}),S=w[0].inst,T=w[1];return i(function(){S.value=N,S.getSnapshot=b,f(S)&&T({inst:S})},[g,N,b]),s(function(){return f(S)&&T({inst:S}),g(function(){f(S)&&T({inst:S})})},[g]),c(N),N}function f(g){var b=g.getSnapshot;g=g.value;try{var N=b();return!n(g,N)}catch{return!0}}function h(g,b){return b()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:d;return Mm.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:p,Mm}var Vy;function tN(){return Vy||(Vy=1,jm.exports=ek()),jm.exports}var nN=tN();function Gt(t){this.content=t}Gt.prototype={constructor:Gt,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,n){var r=n&&n!=t?this.remove(n):this,s=r.find(t),i=r.content.slice();return s==-1?i.push(n||t,e):(i[s+1]=e,n&&(i[s]=n)),new Gt(i)},remove:function(t){var e=this.find(t);if(e==-1)return this;var n=this.content.slice();return n.splice(e,2),new Gt(n)},addToStart:function(t,e){return new Gt([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var n=this.remove(t).content.slice();return n.push(t,e),new Gt(n)},addBefore:function(t,e,n){var r=this.remove(e),s=r.content.slice(),i=r.find(t);return s.splice(i==-1?s.length:i,0,e,n),new Gt(s)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=Gt.from(t),t.size?new Gt(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=Gt.from(t),t.size?new Gt(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=Gt.from(t);for(var n=0;n<t.content.length;n+=2)e=e.remove(t.content[n]);return e},toObject:function(){var t={};return this.forEach(function(e,n){t[e]=n}),t},get size(){return this.content.length>>1}};Gt.from=function(t){if(t instanceof Gt)return t;var e=[];if(t)for(var n in t)e.push(n,t[n]);return new Gt(e)};function rN(t,e,n){for(let r=0;;r++){if(r==t.childCount||r==e.childCount)return t.childCount==e.childCount?null:n;let s=t.child(r),i=e.child(r);if(s==i){n+=s.nodeSize;continue}if(!s.sameMarkup(i))return n;if(s.isText&&s.text!=i.text){for(let c=0;s.text[c]==i.text[c];c++)n++;return n}if(s.content.size||i.content.size){let c=rN(s.content,i.content,n+1);if(c!=null)return c}n+=s.nodeSize}}function sN(t,e,n,r){for(let s=t.childCount,i=e.childCount;;){if(s==0||i==0)return s==i?null:{a:n,b:r};let c=t.child(--s),d=e.child(--i),f=c.nodeSize;if(c==d){n-=f,r-=f;continue}if(!c.sameMarkup(d))return{a:n,b:r};if(c.isText&&c.text!=d.text){let h=0,p=Math.min(c.text.length,d.text.length);for(;h<p&&c.text[c.text.length-h-1]==d.text[d.text.length-h-1];)h++,n--,r--;return{a:n,b:r}}if(c.content.size||d.content.size){let h=sN(c.content,d.content,n-1,r-1);if(h)return h}n-=f,r-=f}}class ne{constructor(e,n){if(this.content=e,this.size=n||0,n==null)for(let r=0;r<e.length;r++)this.size+=e[r].nodeSize}nodesBetween(e,n,r,s=0,i){for(let c=0,d=0;d<n;c++){let f=this.content[c],h=d+f.nodeSize;if(h>e&&r(f,s+d,i||null,c)!==!1&&f.content.size){let p=d+1;f.nodesBetween(Math.max(0,e-p),Math.min(f.content.size,n-p),r,s+p)}d=h}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,n,r,s){let i="",c=!0;return this.nodesBetween(e,n,(d,f)=>{let h=d.isText?d.text.slice(Math.max(e,f)-f,n-f):d.isLeaf?s?typeof s=="function"?s(d):s:d.type.spec.leafText?d.type.spec.leafText(d):"":"";d.isBlock&&(d.isLeaf&&h||d.isTextblock)&&r&&(c?c=!1:i+=r),i+=h},0),i}append(e){if(!e.size)return this;if(!this.size)return e;let n=this.lastChild,r=e.firstChild,s=this.content.slice(),i=0;for(n.isText&&n.sameMarkup(r)&&(s[s.length-1]=n.withText(n.text+r.text),i=1);i<e.content.length;i++)s.push(e.content[i]);return new ne(s,this.size+e.size)}cut(e,n=this.size){if(e==0&&n==this.size)return this;let r=[],s=0;if(n>e)for(let i=0,c=0;c<n;i++){let d=this.content[i],f=c+d.nodeSize;f>e&&((c<e||f>n)&&(d.isText?d=d.cut(Math.max(0,e-c),Math.min(d.text.length,n-c)):d=d.cut(Math.max(0,e-c-1),Math.min(d.content.size,n-c-1))),r.push(d),s+=d.nodeSize),c=f}return new ne(r,s)}cutByIndex(e,n){return e==n?ne.empty:e==0&&n==this.content.length?this:new ne(this.content.slice(e,n))}replaceChild(e,n){let r=this.content[e];if(r==n)return this;let s=this.content.slice(),i=this.size+n.nodeSize-r.nodeSize;return s[e]=n,new ne(s,i)}addToStart(e){return new ne([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new ne(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(e.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let n=this.content[e];if(!n)throw new RangeError("Index "+e+" out of range for "+this);return n}maybeChild(e){return this.content[e]||null}forEach(e){for(let n=0,r=0;n<this.content.length;n++){let s=this.content[n];e(s,r,n),r+=s.nodeSize}}findDiffStart(e,n=0){return rN(this,e,n)}findDiffEnd(e,n=this.size,r=e.size){return sN(this,e,n,r)}findIndex(e){if(e==0)return kd(0,e);if(e==this.size)return kd(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let n=0,r=0;;n++){let s=this.child(n),i=r+s.nodeSize;if(i>=e)return i==e?kd(n+1,i):kd(n,r);r=i}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,n){if(!n)return ne.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new ne(n.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return ne.empty;let n,r=0;for(let s=0;s<e.length;s++){let i=e[s];r+=i.nodeSize,s&&i.isText&&e[s-1].sameMarkup(i)?(n||(n=e.slice(0,s)),n[n.length-1]=i.withText(n[n.length-1].text+i.text)):n&&n.push(i)}return new ne(n||e,r)}static from(e){if(!e)return ne.empty;if(e instanceof ne)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new ne([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}ne.empty=new ne([],0);const Rm={index:0,offset:0};function kd(t,e){return Rm.index=t,Rm.offset=e,Rm}function $d(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;let n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!$d(t[r],e[r]))return!1}else{for(let r in t)if(!(r in e)||!$d(t[r],e[r]))return!1;for(let r in e)if(!(r in t))return!1}return!0}let rt=class fp{constructor(e,n){this.type=e,this.attrs=n}addToSet(e){let n,r=!1;for(let s=0;s<e.length;s++){let i=e[s];if(this.eq(i))return e;if(this.type.excludes(i.type))n||(n=e.slice(0,s));else{if(i.type.excludes(this.type))return e;!r&&i.type.rank>this.type.rank&&(n||(n=e.slice(0,s)),n.push(this),r=!0),n&&n.push(i)}}return n||(n=e.slice()),r||n.push(this),n}removeFromSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return e.slice(0,n).concat(e.slice(n+1));return e}isInSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return!0;return!1}eq(e){return this==e||this.type==e.type&&$d(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let r=e.marks[n.type];if(!r)throw new RangeError(`There is no mark type ${n.type} in this schema`);let s=r.create(n.attrs);return r.checkAttrs(s.attrs),s}static sameSet(e,n){if(e==n)return!0;if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].eq(n[r]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return fp.none;if(e instanceof fp)return[e];let n=e.slice();return n.sort((r,s)=>r.type.rank-s.type.rank),n}};rt.none=[];class Jd extends Error{}class fe{constructor(e,n,r){this.content=e,this.openStart=n,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,n){let r=aN(this.content,e+this.openStart,n);return r&&new fe(r,this.openStart,this.openEnd)}removeBetween(e,n){return new fe(oN(this.content,e+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,n){if(!n)return fe.empty;let r=n.openStart||0,s=n.openEnd||0;if(typeof r!="number"||typeof s!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new fe(ne.fromJSON(e,n.content),r,s)}static maxOpen(e,n=!0){let r=0,s=0;for(let i=e.firstChild;i&&!i.isLeaf&&(n||!i.type.spec.isolating);i=i.firstChild)r++;for(let i=e.lastChild;i&&!i.isLeaf&&(n||!i.type.spec.isolating);i=i.lastChild)s++;return new fe(e,r,s)}}fe.empty=new fe(ne.empty,0,0);function oN(t,e,n){let{index:r,offset:s}=t.findIndex(e),i=t.maybeChild(r),{index:c,offset:d}=t.findIndex(n);if(s==e||i.isText){if(d!=n&&!t.child(c).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(n))}if(r!=c)throw new RangeError("Removing non-flat range");return t.replaceChild(r,i.copy(oN(i.content,e-s-1,n-s-1)))}function aN(t,e,n,r){let{index:s,offset:i}=t.findIndex(e),c=t.maybeChild(s);if(i==e||c.isText)return r&&!r.canReplace(s,s,n)?null:t.cut(0,e).append(n).append(t.cut(e));let d=aN(c.content,e-i-1,n,c);return d&&t.replaceChild(s,c.copy(d))}function tk(t,e,n){if(n.openStart>t.depth)throw new Jd("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new Jd("Inconsistent open depths");return iN(t,e,n,0)}function iN(t,e,n,r){let s=t.index(r),i=t.node(r);if(s==e.index(r)&&r<t.depth-n.openStart){let c=iN(t,e,n,r+1);return i.copy(i.content.replaceChild(s,c))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&t.depth==r&&e.depth==r){let c=t.parent,d=c.content;return Wo(c,d.cut(0,t.parentOffset).append(n.content).append(d.cut(e.parentOffset)))}else{let{start:c,end:d}=nk(n,t);return Wo(i,cN(t,c,d,e,r))}else return Wo(i,Kd(t,e,r))}function lN(t,e){if(!e.type.compatibleContent(t.type))throw new Jd("Cannot join "+e.type.name+" onto "+t.type.name)}function hp(t,e,n){let r=t.node(n);return lN(r,e.node(n)),r}function Yo(t,e){let n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function kl(t,e,n,r){let s=(e||t).node(n),i=0,c=e?e.index(n):s.childCount;t&&(i=t.index(n),t.depth>n?i++:t.textOffset&&(Yo(t.nodeAfter,r),i++));for(let d=i;d<c;d++)Yo(s.child(d),r);e&&e.depth==n&&e.textOffset&&Yo(e.nodeBefore,r)}function Wo(t,e){return t.type.checkContent(e),t.copy(e)}function cN(t,e,n,r,s){let i=t.depth>s&&hp(t,e,s+1),c=r.depth>s&&hp(n,r,s+1),d=[];return kl(null,t,s,d),i&&c&&e.index(s)==n.index(s)?(lN(i,c),Yo(Wo(i,cN(t,e,n,r,s+1)),d)):(i&&Yo(Wo(i,Kd(t,e,s+1)),d),kl(e,n,s,d),c&&Yo(Wo(c,Kd(n,r,s+1)),d)),kl(r,null,s,d),new ne(d)}function Kd(t,e,n){let r=[];if(kl(null,t,n,r),t.depth>n){let s=hp(t,e,n+1);Yo(Wo(s,Kd(t,e,n+1)),r)}return kl(e,null,n,r),new ne(r)}function nk(t,e){let n=e.depth-t.openStart,s=e.node(n).copy(t.content);for(let i=n-1;i>=0;i--)s=e.node(i).copy(ne.from(s));return{start:s.resolveNoCache(t.openStart+n),end:s.resolveNoCache(s.content.size-t.openEnd-n)}}class zl{constructor(e,n,r){this.pos=e,this.path=n,this.parentOffset=r,this.depth=n.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,n=this.index(this.depth);if(n==e.childCount)return null;let r=this.pos-this.path[this.path.length-1],s=e.child(n);return r?e.child(n).cut(r):s}get nodeBefore(){let e=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(e).cut(0,n):e==0?null:this.parent.child(e-1)}posAtIndex(e,n){n=this.resolveDepth(n);let r=this.path[n*3],s=n==0?0:this.path[n*3-1]+1;for(let i=0;i<e;i++)s+=r.child(i).nodeSize;return s}marks(){let e=this.parent,n=this.index();if(e.content.size==0)return rt.none;if(this.textOffset)return e.child(n).marks;let r=e.maybeChild(n-1),s=e.maybeChild(n);if(!r){let d=r;r=s,s=d}let i=r.marks;for(var c=0;c<i.length;c++)i[c].type.spec.inclusive===!1&&(!s||!i[c].isInSet(s.marks))&&(i=i[c--].removeFromSet(i));return i}marksAcross(e){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let r=n.marks,s=e.parent.maybeChild(e.index());for(var i=0;i<r.length;i++)r[i].type.spec.inclusive===!1&&(!s||!r[i].isInSet(s.marks))&&(r=r[i--].removeFromSet(r));return r}sharedDepth(e){for(let n=this.depth;n>0;n--)if(this.start(n)<=e&&this.end(n)>=e)return n;return 0}blockRange(e=this,n){if(e.pos<this.pos)return e.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);r>=0;r--)if(e.pos<=this.end(r)&&(!n||n(this.node(r))))return new Yd(this,e,r);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let n=1;n<=this.depth;n++)e+=(e?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return e+":"+this.parentOffset}static resolve(e,n){if(!(n>=0&&n<=e.content.size))throw new RangeError("Position "+n+" out of range");let r=[],s=0,i=n;for(let c=e;;){let{index:d,offset:f}=c.content.findIndex(i),h=i-f;if(r.push(c,d,s+f),!h||(c=c.child(d),c.isText))break;i=h-1,s+=f+1}return new zl(n,r,i)}static resolveCached(e,n){let r=qy.get(e);if(r)for(let i=0;i<r.elts.length;i++){let c=r.elts[i];if(c.pos==n)return c}else qy.set(e,r=new rk);let s=r.elts[r.i]=zl.resolve(e,n);return r.i=(r.i+1)%sk,s}}class rk{constructor(){this.elts=[],this.i=0}}const sk=12,qy=new WeakMap;class Yd{constructor(e,n,r){this.$from=e,this.$to=n,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const ok=Object.create(null);class pr{constructor(e,n,r,s=rt.none){this.type=e,this.attrs=n,this.marks=s,this.content=r||ne.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,n,r,s=0){this.content.nodesBetween(e,n,r,s,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,n,r,s){return this.content.textBetween(e,n,r,s)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,n,r){return this.type==e&&$d(this.attrs,n||e.defaultAttrs||ok)&&rt.sameSet(this.marks,r||rt.none)}copy(e=null){return e==this.content?this:new pr(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new pr(this.type,this.attrs,this.content,e)}cut(e,n=this.content.size){return e==0&&n==this.content.size?this:this.copy(this.content.cut(e,n))}slice(e,n=this.content.size,r=!1){if(e==n)return fe.empty;let s=this.resolve(e),i=this.resolve(n),c=r?0:s.sharedDepth(n),d=s.start(c),h=s.node(c).content.cut(s.pos-d,i.pos-d);return new fe(h,s.depth-c,i.depth-c)}replace(e,n,r){return tk(this.resolve(e),this.resolve(n),r)}nodeAt(e){for(let n=this;;){let{index:r,offset:s}=n.content.findIndex(e);if(n=n.maybeChild(r),!n)return null;if(s==e||n.isText)return n;e-=s+1}}childAfter(e){let{index:n,offset:r}=this.content.findIndex(e);return{node:this.content.maybeChild(n),index:n,offset:r}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:n,offset:r}=this.content.findIndex(e);if(r<e)return{node:this.content.child(n),index:n,offset:r};let s=this.content.child(n-1);return{node:s,index:n-1,offset:r-s.nodeSize}}resolve(e){return zl.resolveCached(this,e)}resolveNoCache(e){return zl.resolve(this,e)}rangeHasMark(e,n,r){let s=!1;return n>e&&this.nodesBetween(e,n,i=>(r.isInSet(i.marks)&&(s=!0),!s)),s}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),dN(this.marks,e)}contentMatchAt(e){let n=this.type.contentMatch.matchFragment(this.content,0,e);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(e,n,r=ne.empty,s=0,i=r.childCount){let c=this.contentMatchAt(e).matchFragment(r,s,i),d=c&&c.matchFragment(this.content,n);if(!d||!d.validEnd)return!1;for(let f=s;f<i;f++)if(!this.type.allowsMarks(r.child(f).marks))return!1;return!0}canReplaceWith(e,n,r,s){if(s&&!this.type.allowsMarks(s))return!1;let i=this.contentMatchAt(e).matchType(r),c=i&&i.matchFragment(this.content,n);return c?c.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=rt.none;for(let n=0;n<this.marks.length;n++){let r=this.marks[n];r.type.checkAttrs(r.attrs),e=r.addToSet(e)}if(!rt.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(n=>n.toJSON())),e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let r;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=n.marks.map(e.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(n.text,r)}let s=ne.fromJSON(e,n.content),i=e.nodeType(n.type).create(n.attrs,s,r);return i.type.checkAttrs(i.attrs),i}}pr.prototype.text=void 0;class Wd extends pr{constructor(e,n,r,s){if(super(e,n,null,s),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):dN(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,n){return this.text.slice(e,n)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new Wd(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new Wd(this.type,this.attrs,e,this.marks)}cut(e=0,n=this.text.length){return e==0&&n==this.text.length?this:this.withText(this.text.slice(e,n))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function dN(t,e){for(let n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}class ta{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,n){let r=new ak(e,n);if(r.next==null)return ta.empty;let s=uN(r);r.next&&r.err("Unexpected trailing text");let i=hk(fk(s));return mk(i,r),i}matchType(e){for(let n=0;n<this.next.length;n++)if(this.next[n].type==e)return this.next[n].next;return null}matchFragment(e,n=0,r=e.childCount){let s=this;for(let i=n;s&&i<r;i++)s=s.matchType(e.child(i).type);return s}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:n}=this.next[e];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(e){for(let n=0;n<this.next.length;n++)for(let r=0;r<e.next.length;r++)if(this.next[n].type==e.next[r].type)return!0;return!1}fillBefore(e,n=!1,r=0){let s=[this];function i(c,d){let f=c.matchFragment(e,r);if(f&&(!n||f.validEnd))return ne.from(d.map(h=>h.createAndFill()));for(let h=0;h<c.next.length;h++){let{type:p,next:g}=c.next[h];if(!(p.isText||p.hasRequiredAttrs())&&s.indexOf(g)==-1){s.push(g);let b=i(g,d.concat(p));if(b)return b}}return null}return i(this,[])}findWrapping(e){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==e)return this.wrapCache[r+1];let n=this.computeWrapping(e);return this.wrapCache.push(e,n),n}computeWrapping(e){let n=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let s=r.shift(),i=s.match;if(i.matchType(e)){let c=[];for(let d=s;d.type;d=d.via)c.push(d.type);return c.reverse()}for(let c=0;c<i.next.length;c++){let{type:d,next:f}=i.next[c];!d.isLeaf&&!d.hasRequiredAttrs()&&!(d.name in n)&&(!s.type||f.validEnd)&&(r.push({match:d.contentMatch,type:d,via:s}),n[d.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function n(r){e.push(r);for(let s=0;s<r.next.length;s++)e.indexOf(r.next[s].next)==-1&&n(r.next[s].next)}return n(this),e.map((r,s)=>{let i=s+(r.validEnd?"*":" ")+" ";for(let c=0;c<r.next.length;c++)i+=(c?", ":"")+r.next[c].type.name+"->"+e.indexOf(r.next[c].next);return i}).join(`
`)}}ta.empty=new ta(!0);class ak{constructor(e,n){this.string=e,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function uN(t){let e=[];do e.push(ik(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function ik(t){let e=[];do e.push(lk(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function lk(t){let e=uk(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=ck(t,e);else break;return e}function Fy(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function ck(t,e){let n=Fy(t),r=n;return t.eat(",")&&(t.next!="}"?r=Fy(t):r=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:e}}function dk(t,e){let n=t.nodeTypes,r=n[e];if(r)return[r];let s=[];for(let i in n){let c=n[i];c.isInGroup(e)&&s.push(c)}return s.length==0&&t.err("No node type or group '"+e+"' found"),s}function uk(t){if(t.eat("(")){let e=uN(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=dk(t,t.next).map(n=>(t.inline==null?t.inline=n.isInline:t.inline!=n.isInline&&t.err("Mixing inline and block content"),{type:"name",value:n}));return t.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function fk(t){let e=[[]];return s(i(t,0),n()),e;function n(){return e.push([])-1}function r(c,d,f){let h={term:f,to:d};return e[c].push(h),h}function s(c,d){c.forEach(f=>f.to=d)}function i(c,d){if(c.type=="choice")return c.exprs.reduce((f,h)=>f.concat(i(h,d)),[]);if(c.type=="seq")for(let f=0;;f++){let h=i(c.exprs[f],d);if(f==c.exprs.length-1)return h;s(h,d=n())}else if(c.type=="star"){let f=n();return r(d,f),s(i(c.expr,f),f),[r(f)]}else if(c.type=="plus"){let f=n();return s(i(c.expr,d),f),s(i(c.expr,f),f),[r(f)]}else{if(c.type=="opt")return[r(d)].concat(i(c.expr,d));if(c.type=="range"){let f=d;for(let h=0;h<c.min;h++){let p=n();s(i(c.expr,f),p),f=p}if(c.max==-1)s(i(c.expr,f),f);else for(let h=c.min;h<c.max;h++){let p=n();r(f,p),s(i(c.expr,f),p),f=p}return[r(f)]}else{if(c.type=="name")return[r(d,void 0,c.value)];throw new Error("Unknown expr type")}}}}function fN(t,e){return e-t}function Gy(t,e){let n=[];return r(e),n.sort(fN);function r(s){let i=t[s];if(i.length==1&&!i[0].term)return r(i[0].to);n.push(s);for(let c=0;c<i.length;c++){let{term:d,to:f}=i[c];!d&&n.indexOf(f)==-1&&r(f)}}}function hk(t){let e=Object.create(null);return n(Gy(t,0));function n(r){let s=[];r.forEach(c=>{t[c].forEach(({term:d,to:f})=>{if(!d)return;let h;for(let p=0;p<s.length;p++)s[p][0]==d&&(h=s[p][1]);Gy(t,f).forEach(p=>{h||s.push([d,h=[]]),h.indexOf(p)==-1&&h.push(p)})})});let i=e[r.join(",")]=new ta(r.indexOf(t.length-1)>-1);for(let c=0;c<s.length;c++){let d=s[c][1].sort(fN);i.next.push({type:s[c][0],next:e[d.join(",")]||n(d)})}return i}}function mk(t,e){for(let n=0,r=[t];n<r.length;n++){let s=r[n],i=!s.validEnd,c=[];for(let d=0;d<s.next.length;d++){let{type:f,next:h}=s.next[d];c.push(f.name),i&&!(f.isText||f.hasRequiredAttrs())&&(i=!1),r.indexOf(h)==-1&&r.push(h)}i&&e.err("Only non-generatable nodes ("+c.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function hN(t){let e=Object.create(null);for(let n in t){let r=t[n];if(!r.hasDefault)return null;e[n]=r.default}return e}function mN(t,e){let n=Object.create(null);for(let r in t){let s=e&&e[r];if(s===void 0){let i=t[r];if(i.hasDefault)s=i.default;else throw new RangeError("No value supplied for attribute "+r)}n[r]=s}return n}function pN(t,e,n,r){for(let s in e)if(!(s in t))throw new RangeError(`Unsupported attribute ${s} for ${n} of type ${s}`);for(let s in t){let i=t[s];i.validate&&i.validate(e[s])}}function gN(t,e){let n=Object.create(null);if(e)for(let r in e)n[r]=new gk(t,r,e[r]);return n}let $y=class xN{constructor(e,n,r){this.name=e,this.schema=n,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=gN(e,r.attrs),this.defaultAttrs=hN(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==ta.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:mN(this.attrs,e)}create(e=null,n,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new pr(this,this.computeAttrs(e),ne.from(n),rt.setFrom(r))}createChecked(e=null,n,r){return n=ne.from(n),this.checkContent(n),new pr(this,this.computeAttrs(e),n,rt.setFrom(r))}createAndFill(e=null,n,r){if(e=this.computeAttrs(e),n=ne.from(n),n.size){let c=this.contentMatch.fillBefore(n);if(!c)return null;n=c.append(n)}let s=this.contentMatch.matchFragment(n),i=s&&s.fillBefore(ne.empty,!0);return i?new pr(this,e,n.append(i),rt.setFrom(r)):null}validContent(e){let n=this.contentMatch.matchFragment(e);if(!n||!n.validEnd)return!1;for(let r=0;r<e.childCount;r++)if(!this.allowsMarks(e.child(r).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){pN(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let n=0;n<e.length;n++)if(!this.allowsMarkType(e[n].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let n;for(let r=0;r<e.length;r++)this.allowsMarkType(e[r].type)?n&&n.push(e[r]):n||(n=e.slice(0,r));return n?n.length?n:rt.none:e}static compile(e,n){let r=Object.create(null);e.forEach((i,c)=>r[i]=new xN(i,n,c));let s=n.spec.topNode||"doc";if(!r[s])throw new RangeError("Schema is missing its top node type ('"+s+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let i in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};function pk(t,e,n){let r=n.split("|");return s=>{let i=s===null?"null":typeof s;if(r.indexOf(i)<0)throw new RangeError(`Expected value of type ${r} for attribute ${e} on type ${t}, got ${i}`)}}class gk{constructor(e,n,r){this.hasDefault=Object.prototype.hasOwnProperty.call(r,"default"),this.default=r.default,this.validate=typeof r.validate=="string"?pk(e,n,r.validate):r.validate}get isRequired(){return!this.hasDefault}}class Gu{constructor(e,n,r,s){this.name=e,this.rank=n,this.schema=r,this.spec=s,this.attrs=gN(e,s.attrs),this.excluded=null;let i=hN(this.attrs);this.instance=i?new rt(this,i):null}create(e=null){return!e&&this.instance?this.instance:new rt(this,mN(this.attrs,e))}static compile(e,n){let r=Object.create(null),s=0;return e.forEach((i,c)=>r[i]=new Gu(i,s++,n,c)),r}removeFromSet(e){for(var n=0;n<e.length;n++)e[n].type==this&&(e=e.slice(0,n).concat(e.slice(n+1)),n--);return e}isInSet(e){for(let n=0;n<e.length;n++)if(e[n].type==this)return e[n]}checkAttrs(e){pN(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class bN{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let n=this.spec={};for(let s in e)n[s]=e[s];n.nodes=Gt.from(e.nodes),n.marks=Gt.from(e.marks||{}),this.nodes=$y.compile(this.spec.nodes,this),this.marks=Gu.compile(this.spec.marks,this);let r=Object.create(null);for(let s in this.nodes){if(s in this.marks)throw new RangeError(s+" can not be both a node and a mark");let i=this.nodes[s],c=i.spec.content||"",d=i.spec.marks;if(i.contentMatch=r[c]||(r[c]=ta.parse(c,this.nodes)),i.inlineContent=i.contentMatch.inlineContent,i.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!i.isInline||!i.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=i}i.markSet=d=="_"?null:d?Jy(this,d.split(" ")):d==""||!i.inlineContent?[]:null}for(let s in this.marks){let i=this.marks[s],c=i.spec.excludes;i.excluded=c==null?[i]:c==""?[]:Jy(this,c.split(" "))}this.nodeFromJSON=s=>pr.fromJSON(this,s),this.markFromJSON=s=>rt.fromJSON(this,s),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,n=null,r,s){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof $y){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(n,r,s)}text(e,n){let r=this.nodes.text;return new Wd(r,r.defaultAttrs,e,rt.setFrom(n))}mark(e,n){return typeof e=="string"&&(e=this.marks[e]),e.create(n)}nodeType(e){let n=this.nodes[e];if(!n)throw new RangeError("Unknown node type: "+e);return n}}function Jy(t,e){let n=[];for(let r=0;r<e.length;r++){let s=e[r],i=t.marks[s],c=i;if(i)n.push(i);else for(let d in t.marks){let f=t.marks[d];(s=="_"||f.spec.group&&f.spec.group.split(" ").indexOf(s)>-1)&&n.push(c=f)}if(!c)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return n}function xk(t){return t.tag!=null}function bk(t){return t.style!=null}class so{constructor(e,n){this.schema=e,this.rules=n,this.tags=[],this.styles=[];let r=this.matchedStyles=[];n.forEach(s=>{if(xk(s))this.tags.push(s);else if(bk(s)){let i=/[^=]*/.exec(s.style)[0];r.indexOf(i)<0&&r.push(i),this.styles.push(s)}}),this.normalizeLists=!this.tags.some(s=>{if(!/^(ul|ol)\b/.test(s.tag)||!s.node)return!1;let i=e.nodes[s.node];return i.contentMatch.matchType(i)})}parse(e,n={}){let r=new Yy(this,n,!1);return r.addAll(e,rt.none,n.from,n.to),r.finish()}parseSlice(e,n={}){let r=new Yy(this,n,!0);return r.addAll(e,rt.none,n.from,n.to),fe.maxOpen(r.finish())}matchTag(e,n,r){for(let s=r?this.tags.indexOf(r)+1:0;s<this.tags.length;s++){let i=this.tags[s];if(Nk(e,i.tag)&&(i.namespace===void 0||e.namespaceURI==i.namespace)&&(!i.context||n.matchesContext(i.context))){if(i.getAttrs){let c=i.getAttrs(e);if(c===!1)continue;i.attrs=c||void 0}return i}}}matchStyle(e,n,r,s){for(let i=s?this.styles.indexOf(s)+1:0;i<this.styles.length;i++){let c=this.styles[i],d=c.style;if(!(d.indexOf(e)!=0||c.context&&!r.matchesContext(c.context)||d.length>e.length&&(d.charCodeAt(e.length)!=61||d.slice(e.length+1)!=n))){if(c.getAttrs){let f=c.getAttrs(n);if(f===!1)continue;c.attrs=f||void 0}return c}}}static schemaRules(e){let n=[];function r(s){let i=s.priority==null?50:s.priority,c=0;for(;c<n.length;c++){let d=n[c];if((d.priority==null?50:d.priority)<i)break}n.splice(c,0,s)}for(let s in e.marks){let i=e.marks[s].spec.parseDOM;i&&i.forEach(c=>{r(c=Wy(c)),c.mark||c.ignore||c.clearMark||(c.mark=s)})}for(let s in e.nodes){let i=e.nodes[s].spec.parseDOM;i&&i.forEach(c=>{r(c=Wy(c)),c.node||c.ignore||c.mark||(c.node=s)})}return n}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new so(e,so.schemaRules(e)))}}const yN={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},yk={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},vN={ol:!0,ul:!0},Ul=1,mp=2,El=4;function Ky(t,e,n){return e!=null?(e?Ul:0)|(e==="full"?mp:0):t&&t.whitespace=="pre"?Ul|mp:n&~El}class Ed{constructor(e,n,r,s,i,c){this.type=e,this.attrs=n,this.marks=r,this.solid=s,this.options=c,this.content=[],this.activeMarks=rt.none,this.match=i||(c&El?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(ne.from(e));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let r=this.type.contentMatch,s;return(s=r.findWrapping(e.type))?(this.match=r,s):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&Ul)){let r=this.content[this.content.length-1],s;if(r&&r.isText&&(s=/[ \t\r\n\u000c]+$/.exec(r.text))){let i=r;r.text.length==s[0].length?this.content.pop():this.content[this.content.length-1]=i.withText(i.text.slice(0,i.text.length-s[0].length))}}let n=ne.from(this.content);return!e&&this.match&&(n=n.append(this.match.fillBefore(ne.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!yN.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class Yy{constructor(e,n,r){this.parser=e,this.options=n,this.isOpen=r,this.open=0,this.localPreserveWS=!1;let s=n.topNode,i,c=Ky(null,n.preserveWhitespace,0)|(r?El:0);s?i=new Ed(s.type,s.attrs,rt.none,!0,n.topMatch||s.type.contentMatch,c):r?i=new Ed(null,null,rt.none,!0,null,c):i=new Ed(e.schema.topNodeType,null,rt.none,!0,null,c),this.nodes=[i],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,n){e.nodeType==3?this.addTextNode(e,n):e.nodeType==1&&this.addElement(e,n)}addTextNode(e,n){let r=e.nodeValue,s=this.top,i=s.options&mp?"full":this.localPreserveWS||(s.options&Ul)>0,{schema:c}=this.parser;if(i==="full"||s.inlineContext(e)||/[^ \t\r\n\u000c]/.test(r)){if(i)if(i==="full")r=r.replace(/\r\n?/g,`
`);else if(c.linebreakReplacement&&/[\r\n]/.test(r)&&this.top.findWrapping(c.linebreakReplacement.create())){let d=r.split(/\r?\n|\r/);for(let f=0;f<d.length;f++)f&&this.insertNode(c.linebreakReplacement.create(),n,!0),d[f]&&this.insertNode(c.text(d[f]),n,!/\S/.test(d[f]));r=""}else r=r.replace(/\r?\n|\r/g," ");else if(r=r.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(r)&&this.open==this.nodes.length-1){let d=s.content[s.content.length-1],f=e.previousSibling;(!d||f&&f.nodeName=="BR"||d.isText&&/[ \t\r\n\u000c]$/.test(d.text))&&(r=r.slice(1))}r&&this.insertNode(c.text(r),n,!/\S/.test(r)),this.findInText(e)}else this.findInside(e)}addElement(e,n,r){let s=this.localPreserveWS,i=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let c=e.nodeName.toLowerCase(),d;vN.hasOwnProperty(c)&&this.parser.normalizeLists&&vk(e);let f=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(d=this.parser.matchTag(e,this,r));e:if(f?f.ignore:yk.hasOwnProperty(c))this.findInside(e),this.ignoreFallback(e,n);else if(!f||f.skip||f.closeParent){f&&f.closeParent?this.open=Math.max(0,this.open-1):f&&f.skip.nodeType&&(e=f.skip);let h,p=this.needsBlock;if(yN.hasOwnProperty(c))i.content.length&&i.content[0].isInline&&this.open&&(this.open--,i=this.top),h=!0,i.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,n);break e}let g=f&&f.skip?n:this.readStyles(e,n);g&&this.addAll(e,g),h&&this.sync(i),this.needsBlock=p}else{let h=this.readStyles(e,n);h&&this.addElementByRule(e,f,h,f.consuming===!1?d:void 0)}this.localPreserveWS=s}leafFallback(e,n){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),n)}ignoreFallback(e,n){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),n,!0)}readStyles(e,n){let r=e.style;if(r&&r.length)for(let s=0;s<this.parser.matchedStyles.length;s++){let i=this.parser.matchedStyles[s],c=r.getPropertyValue(i);if(c)for(let d=void 0;;){let f=this.parser.matchStyle(i,c,this,d);if(!f)break;if(f.ignore)return null;if(f.clearMark?n=n.filter(h=>!f.clearMark(h)):n=n.concat(this.parser.schema.marks[f.mark].create(f.attrs)),f.consuming===!1)d=f;else break}}return n}addElementByRule(e,n,r,s){let i,c;if(n.node)if(c=this.parser.schema.nodes[n.node],c.isLeaf)this.insertNode(c.create(n.attrs),r,e.nodeName=="BR")||this.leafFallback(e,r);else{let f=this.enter(c,n.attrs||null,r,n.preserveWhitespace);f&&(i=!0,r=f)}else{let f=this.parser.schema.marks[n.mark];r=r.concat(f.create(n.attrs))}let d=this.top;if(c&&c.isLeaf)this.findInside(e);else if(s)this.addElement(e,r,s);else if(n.getContent)this.findInside(e),n.getContent(e,this.parser.schema).forEach(f=>this.insertNode(f,r,!1));else{let f=e;typeof n.contentElement=="string"?f=e.querySelector(n.contentElement):typeof n.contentElement=="function"?f=n.contentElement(e):n.contentElement&&(f=n.contentElement),this.findAround(e,f,!0),this.addAll(f,r),this.findAround(e,f,!1)}i&&this.sync(d)&&this.open--}addAll(e,n,r,s){let i=r||0;for(let c=r?e.childNodes[r]:e.firstChild,d=s==null?null:e.childNodes[s];c!=d;c=c.nextSibling,++i)this.findAtPoint(e,i),this.addDOM(c,n);this.findAtPoint(e,i)}findPlace(e,n,r){let s,i;for(let c=this.open,d=0;c>=0;c--){let f=this.nodes[c],h=f.findWrapping(e);if(h&&(!s||s.length>h.length+d)&&(s=h,i=f,!h.length))break;if(f.solid){if(r)break;d+=2}}if(!s)return null;this.sync(i);for(let c=0;c<s.length;c++)n=this.enterInner(s[c],null,n,!1);return n}insertNode(e,n,r){if(e.isInline&&this.needsBlock&&!this.top.type){let i=this.textblockFromContext();i&&(n=this.enterInner(i,null,n))}let s=this.findPlace(e,n,r);if(s){this.closeExtra();let i=this.top;i.match&&(i.match=i.match.matchType(e.type));let c=rt.none;for(let d of s.concat(e.marks))(i.type?i.type.allowsMarkType(d.type):Xy(d.type,e.type))&&(c=d.addToSet(c));return i.content.push(e.mark(c)),!0}return!1}enter(e,n,r,s){let i=this.findPlace(e.create(n),r,!1);return i&&(i=this.enterInner(e,n,r,!0,s)),i}enterInner(e,n,r,s=!1,i){this.closeExtra();let c=this.top;c.match=c.match&&c.match.matchType(e);let d=Ky(e,i,c.options);c.options&El&&c.content.length==0&&(d|=El);let f=rt.none;return r=r.filter(h=>(c.type?c.type.allowsMarkType(h.type):Xy(h.type,e))?(f=h.addToSet(f),!1):!0),this.nodes.push(new Ed(e,n,f,s,null,d)),this.open++,r}closeExtra(e=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let n=this.open;n>=0;n--){if(this.nodes[n]==e)return this.open=n,!0;this.localPreserveWS&&(this.nodes[n].options|=Ul)}return!1}get currentPos(){this.closeExtra();let e=0;for(let n=this.open;n>=0;n--){let r=this.nodes[n].content;for(let s=r.length-1;s>=0;s--)e+=r[s].nodeSize;n&&e++}return e}findAtPoint(e,n){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&this.find[r].offset==n&&(this.find[r].pos=this.currentPos)}findInside(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&e.nodeType==1&&e.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(e,n,r){if(e!=n&&this.find)for(let s=0;s<this.find.length;s++)this.find[s].pos==null&&e.nodeType==1&&e.contains(this.find[s].node)&&n.compareDocumentPosition(this.find[s].node)&(r?2:4)&&(this.find[s].pos=this.currentPos)}findInText(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&(this.find[n].pos=this.currentPos-(e.nodeValue.length-this.find[n].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let n=e.split("/"),r=this.options.context,s=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),i=-(r?r.depth+1:0)+(s?0:1),c=(d,f)=>{for(;d>=0;d--){let h=n[d];if(h==""){if(d==n.length-1||d==0)continue;for(;f>=i;f--)if(c(d-1,f))return!0;return!1}else{let p=f>0||f==0&&s?this.nodes[f].type:r&&f>=i?r.node(f-i).type:null;if(!p||p.name!=h&&!p.isInGroup(h))return!1;f--}}return!0};return c(n.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let n=e.depth;n>=0;n--){let r=e.node(n).contentMatchAt(e.indexAfter(n)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let n in this.parser.schema.nodes){let r=this.parser.schema.nodes[n];if(r.isTextblock&&r.defaultAttrs)return r}}}function vk(t){for(let e=t.firstChild,n=null;e;e=e.nextSibling){let r=e.nodeType==1?e.nodeName.toLowerCase():null;r&&vN.hasOwnProperty(r)&&n?(n.appendChild(e),e=n):r=="li"?n=e:r&&(n=null)}}function Nk(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function Wy(t){let e={};for(let n in t)e[n]=t[n];return e}function Xy(t,e){let n=e.schema.nodes;for(let r in n){let s=n[r];if(!s.allowsMarkType(t))continue;let i=[],c=d=>{i.push(d);for(let f=0;f<d.edgeCount;f++){let{type:h,next:p}=d.edge(f);if(h==e||i.indexOf(p)<0&&c(p))return!0}};if(c(s.contentMatch))return!0}}class la{constructor(e,n){this.nodes=e,this.marks=n}serializeFragment(e,n={},r){r||(r=Im(n).createDocumentFragment());let s=r,i=[];return e.forEach(c=>{if(i.length||c.marks.length){let d=0,f=0;for(;d<i.length&&f<c.marks.length;){let h=c.marks[f];if(!this.marks[h.type.name]){f++;continue}if(!h.eq(i[d][0])||h.type.spec.spanning===!1)break;d++,f++}for(;d<i.length;)s=i.pop()[1];for(;f<c.marks.length;){let h=c.marks[f++],p=this.serializeMark(h,c.isInline,n);p&&(i.push([h,s]),s.appendChild(p.dom),s=p.contentDOM||p.dom)}}s.appendChild(this.serializeNodeInner(c,n))}),r}serializeNodeInner(e,n){let{dom:r,contentDOM:s}=zd(Im(n),this.nodes[e.type.name](e),null,e.attrs);if(s){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,n,s)}return r}serializeNode(e,n={}){let r=this.serializeNodeInner(e,n);for(let s=e.marks.length-1;s>=0;s--){let i=this.serializeMark(e.marks[s],e.isInline,n);i&&((i.contentDOM||i.dom).appendChild(r),r=i.dom)}return r}serializeMark(e,n,r={}){let s=this.marks[e.type.name];return s&&zd(Im(r),s(e,n),null,e.attrs)}static renderSpec(e,n,r=null,s){return zd(e,n,r,s)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new la(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let n=Qy(e.nodes);return n.text||(n.text=r=>r.text),n}static marksFromSchema(e){return Qy(e.marks)}}function Qy(t){let e={};for(let n in t){let r=t[n].spec.toDOM;r&&(e[n]=r)}return e}function Im(t){return t.document||window.document}const Zy=new WeakMap;function Ck(t){let e=Zy.get(t);return e===void 0&&Zy.set(t,e=wk(t)),e}function wk(t){let e=null;function n(r){if(r&&typeof r=="object")if(Array.isArray(r))if(typeof r[0]=="string")e||(e=[]),e.push(r);else for(let s=0;s<r.length;s++)n(r[s]);else for(let s in r)n(r[s])}return n(t),e}function zd(t,e,n,r){if(typeof e=="string")return{dom:t.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let s=e[0],i;if(typeof s!="string")throw new RangeError("Invalid array passed to renderSpec");if(r&&(i=Ck(r))&&i.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let c=s.indexOf(" ");c>0&&(n=s.slice(0,c),s=s.slice(c+1));let d,f=n?t.createElementNS(n,s):t.createElement(s),h=e[1],p=1;if(h&&typeof h=="object"&&h.nodeType==null&&!Array.isArray(h)){p=2;for(let g in h)if(h[g]!=null){let b=g.indexOf(" ");b>0?f.setAttributeNS(g.slice(0,b),g.slice(b+1),h[g]):g=="style"&&f.style?f.style.cssText=h[g]:f.setAttribute(g,h[g])}}for(let g=p;g<e.length;g++){let b=e[g];if(b===0){if(g<e.length-1||g>p)throw new RangeError("Content hole must be the only child of its parent node");return{dom:f,contentDOM:f}}else{let{dom:N,contentDOM:w}=zd(t,b,n,r);if(f.appendChild(N),w){if(d)throw new RangeError("Multiple content holes");d=w}}}return{dom:f,contentDOM:d}}const NN=65535,CN=Math.pow(2,16);function Sk(t,e){return t+e*CN}function ev(t){return t&NN}function Tk(t){return(t-(t&NN))/CN}const wN=1,SN=2,Ud=4,TN=8;class pp{constructor(e,n,r){this.pos=e,this.delInfo=n,this.recover=r}get deleted(){return(this.delInfo&TN)>0}get deletedBefore(){return(this.delInfo&(wN|Ud))>0}get deletedAfter(){return(this.delInfo&(SN|Ud))>0}get deletedAcross(){return(this.delInfo&Ud)>0}}class Ln{constructor(e,n=!1){if(this.ranges=e,this.inverted=n,!e.length&&Ln.empty)return Ln.empty}recover(e){let n=0,r=ev(e);if(!this.inverted)for(let s=0;s<r;s++)n+=this.ranges[s*3+2]-this.ranges[s*3+1];return this.ranges[r*3]+n+Tk(e)}mapResult(e,n=1){return this._map(e,n,!1)}map(e,n=1){return this._map(e,n,!0)}_map(e,n,r){let s=0,i=this.inverted?2:1,c=this.inverted?1:2;for(let d=0;d<this.ranges.length;d+=3){let f=this.ranges[d]-(this.inverted?s:0);if(f>e)break;let h=this.ranges[d+i],p=this.ranges[d+c],g=f+h;if(e<=g){let b=h?e==f?-1:e==g?1:n:n,N=f+s+(b<0?0:p);if(r)return N;let w=e==(n<0?f:g)?null:Sk(d/3,e-f),S=e==f?SN:e==g?wN:Ud;return(n<0?e!=f:e!=g)&&(S|=TN),new pp(N,S,w)}s+=p-h}return r?e+s:new pp(e+s,0,null)}touches(e,n){let r=0,s=ev(n),i=this.inverted?2:1,c=this.inverted?1:2;for(let d=0;d<this.ranges.length;d+=3){let f=this.ranges[d]-(this.inverted?r:0);if(f>e)break;let h=this.ranges[d+i],p=f+h;if(e<=p&&d==s*3)return!0;r+=this.ranges[d+c]-h}return!1}forEach(e){let n=this.inverted?2:1,r=this.inverted?1:2;for(let s=0,i=0;s<this.ranges.length;s+=3){let c=this.ranges[s],d=c-(this.inverted?i:0),f=c+(this.inverted?0:i),h=this.ranges[s+n],p=this.ranges[s+r];e(d,d+h,f,f+p),i+=p-h}}invert(){return new Ln(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?Ln.empty:new Ln(e<0?[0,-e,0]:[0,0,e])}}Ln.empty=new Ln([]);class Hl{constructor(e,n,r=0,s=e?e.length:0){this.mirror=n,this.from=r,this.to=s,this._maps=e||[],this.ownData=!(e||n)}get maps(){return this._maps}slice(e=0,n=this.maps.length){return new Hl(this._maps,this.mirror,e,n)}appendMap(e,n){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(e),n!=null&&this.setMirror(this._maps.length-1,n)}appendMapping(e){for(let n=0,r=this._maps.length;n<e._maps.length;n++){let s=e.getMirror(n);this.appendMap(e._maps[n],s!=null&&s<n?r+s:void 0)}}getMirror(e){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==e)return this.mirror[n+(n%2?-1:1)]}}setMirror(e,n){this.mirror||(this.mirror=[]),this.mirror.push(e,n)}appendMappingInverted(e){for(let n=e.maps.length-1,r=this._maps.length+e._maps.length;n>=0;n--){let s=e.getMirror(n);this.appendMap(e._maps[n].invert(),s!=null&&s>n?r-s-1:void 0)}}invert(){let e=new Hl;return e.appendMappingInverted(this),e}map(e,n=1){if(this.mirror)return this._map(e,n,!0);for(let r=this.from;r<this.to;r++)e=this._maps[r].map(e,n);return e}mapResult(e,n=1){return this._map(e,n,!1)}_map(e,n,r){let s=0;for(let i=this.from;i<this.to;i++){let c=this._maps[i],d=c.mapResult(e,n);if(d.recover!=null){let f=this.getMirror(i);if(f!=null&&f>i&&f<this.to){i=f,e=this._maps[f].recover(d.recover);continue}}s|=d.delInfo,e=d.pos}return r?e:new pp(e,s,null)}}const Dm=Object.create(null);class nn{getMap(){return Ln.empty}merge(e){return null}static fromJSON(e,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=Dm[n.stepType];if(!r)throw new RangeError(`No step type ${n.stepType} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in Dm)throw new RangeError("Duplicate use of step JSON ID "+e);return Dm[e]=n,n.prototype.jsonID=e,n}}class At{constructor(e,n){this.doc=e,this.failed=n}static ok(e){return new At(e,null)}static fail(e){return new At(null,e)}static fromReplace(e,n,r,s){try{return At.ok(e.replace(n,r,s))}catch(i){if(i instanceof Jd)return At.fail(i.message);throw i}}}function sg(t,e,n){let r=[];for(let s=0;s<t.childCount;s++){let i=t.child(s);i.content.size&&(i=i.copy(sg(i.content,e,i))),i.isInline&&(i=e(i,n,s)),r.push(i)}return ne.fromArray(r)}class to extends nn{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=e.resolve(this.from),s=r.node(r.sharedDepth(this.to)),i=new fe(sg(n.content,(c,d)=>!c.isAtom||!d.type.allowsMarkType(this.mark.type)?c:c.mark(this.mark.addToSet(c.marks)),s),n.openStart,n.openEnd);return At.fromReplace(e,this.from,this.to,i)}invert(){return new mr(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new to(n.pos,r.pos,this.mark)}merge(e){return e instanceof to&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new to(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new to(n.from,n.to,e.markFromJSON(n.mark))}}nn.jsonID("addMark",to);class mr extends nn{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=new fe(sg(n.content,s=>s.mark(this.mark.removeFromSet(s.marks)),e),n.openStart,n.openEnd);return At.fromReplace(e,this.from,this.to,r)}invert(){return new to(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new mr(n.pos,r.pos,this.mark)}merge(e){return e instanceof mr&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new mr(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new mr(n.from,n.to,e.markFromJSON(n.mark))}}nn.jsonID("removeMark",mr);class no extends nn{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return At.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return At.fromReplace(e,this.pos,this.pos+1,new fe(ne.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);if(n){let r=this.mark.addToSet(n.marks);if(r.length==n.marks.length){for(let s=0;s<n.marks.length;s++)if(!n.marks[s].isInSet(r))return new no(this.pos,n.marks[s]);return new no(this.pos,this.mark)}}return new na(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new no(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new no(n.pos,e.markFromJSON(n.mark))}}nn.jsonID("addNodeMark",no);class na extends nn{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return At.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return At.fromReplace(e,this.pos,this.pos+1,new fe(ne.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new no(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new na(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new na(n.pos,e.markFromJSON(n.mark))}}nn.jsonID("removeNodeMark",na);class Ot extends nn{constructor(e,n,r,s=!1){super(),this.from=e,this.to=n,this.slice=r,this.structure=s}apply(e){return this.structure&&gp(e,this.from,this.to)?At.fail("Structure replace would overwrite content"):At.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new Ln([this.from,this.to-this.from,this.slice.size])}invert(e){return new Ot(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deletedAcross&&r.deletedAcross?null:new Ot(n.pos,Math.max(n.pos,r.pos),this.slice,this.structure)}merge(e){if(!(e instanceof Ot)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let n=this.slice.size+e.slice.size==0?fe.empty:new fe(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new Ot(this.from,this.to+(e.to-e.from),n,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let n=this.slice.size+e.slice.size==0?fe.empty:new fe(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new Ot(e.from,this.to,n,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new Ot(n.from,n.to,fe.fromJSON(e,n.slice),!!n.structure)}}nn.jsonID("replace",Ot);class Bt extends nn{constructor(e,n,r,s,i,c,d=!1){super(),this.from=e,this.to=n,this.gapFrom=r,this.gapTo=s,this.slice=i,this.insert=c,this.structure=d}apply(e){if(this.structure&&(gp(e,this.from,this.gapFrom)||gp(e,this.gapTo,this.to)))return At.fail("Structure gap-replace would overwrite content");let n=e.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return At.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,n.content);return r?At.fromReplace(e,this.from,this.to,r):At.fail("Content does not fit in gap")}getMap(){return new Ln([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let n=this.gapTo-this.gapFrom;return new Bt(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),s=this.from==this.gapFrom?n.pos:e.map(this.gapFrom,-1),i=this.to==this.gapTo?r.pos:e.map(this.gapTo,1);return n.deletedAcross&&r.deletedAcross||s<n.pos||i>r.pos?null:new Bt(n.pos,r.pos,s,i,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new Bt(n.from,n.to,n.gapFrom,n.gapTo,fe.fromJSON(e,n.slice),n.insert,!!n.structure)}}nn.jsonID("replaceAround",Bt);function gp(t,e,n){let r=t.resolve(e),s=n-e,i=r.depth;for(;s>0&&i>0&&r.indexAfter(i)==r.node(i).childCount;)i--,s--;if(s>0){let c=r.node(i).maybeChild(r.indexAfter(i));for(;s>0;){if(!c||c.isLeaf)return!0;c=c.firstChild,s--}}return!1}function kk(t,e,n,r){let s=[],i=[],c,d;t.doc.nodesBetween(e,n,(f,h,p)=>{if(!f.isInline)return;let g=f.marks;if(!r.isInSet(g)&&p.type.allowsMarkType(r.type)){let b=Math.max(h,e),N=Math.min(h+f.nodeSize,n),w=r.addToSet(g);for(let S=0;S<g.length;S++)g[S].isInSet(w)||(c&&c.to==b&&c.mark.eq(g[S])?c.to=N:s.push(c=new mr(b,N,g[S])));d&&d.to==b?d.to=N:i.push(d=new to(b,N,r))}}),s.forEach(f=>t.step(f)),i.forEach(f=>t.step(f))}function Ek(t,e,n,r){let s=[],i=0;t.doc.nodesBetween(e,n,(c,d)=>{if(!c.isInline)return;i++;let f=null;if(r instanceof Gu){let h=c.marks,p;for(;p=r.isInSet(h);)(f||(f=[])).push(p),h=p.removeFromSet(h)}else r?r.isInSet(c.marks)&&(f=[r]):f=c.marks;if(f&&f.length){let h=Math.min(d+c.nodeSize,n);for(let p=0;p<f.length;p++){let g=f[p],b;for(let N=0;N<s.length;N++){let w=s[N];w.step==i-1&&g.eq(s[N].style)&&(b=w)}b?(b.to=h,b.step=i):s.push({style:g,from:Math.max(d,e),to:h,step:i})}}}),s.forEach(c=>t.step(new mr(c.from,c.to,c.style)))}function og(t,e,n,r=n.contentMatch,s=!0){let i=t.doc.nodeAt(e),c=[],d=e+1;for(let f=0;f<i.childCount;f++){let h=i.child(f),p=d+h.nodeSize,g=r.matchType(h.type);if(!g)c.push(new Ot(d,p,fe.empty));else{r=g;for(let b=0;b<h.marks.length;b++)n.allowsMarkType(h.marks[b].type)||t.step(new mr(d,p,h.marks[b]));if(s&&h.isText&&n.whitespace!="pre"){let b,N=/\r?\n|\r/g,w;for(;b=N.exec(h.text);)w||(w=new fe(ne.from(n.schema.text(" ",n.allowedMarks(h.marks))),0,0)),c.push(new Ot(d+b.index,d+b.index+b[0].length,w))}}d=p}if(!r.validEnd){let f=r.fillBefore(ne.empty,!0);t.replace(d,d,new fe(f,0,0))}for(let f=c.length-1;f>=0;f--)t.step(c[f])}function Ak(t,e,n){return(e==0||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function gi(t){let n=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let r=t.depth;;--r){let s=t.$from.node(r),i=t.$from.index(r),c=t.$to.indexAfter(r);if(r<t.depth&&s.canReplace(i,c,n))return r;if(r==0||s.type.spec.isolating||!Ak(s,i,c))break}return null}function jk(t,e,n){let{$from:r,$to:s,depth:i}=e,c=r.before(i+1),d=s.after(i+1),f=c,h=d,p=ne.empty,g=0;for(let w=i,S=!1;w>n;w--)S||r.index(w)>0?(S=!0,p=ne.from(r.node(w).copy(p)),g++):f--;let b=ne.empty,N=0;for(let w=i,S=!1;w>n;w--)S||s.after(w+1)<s.end(w)?(S=!0,b=ne.from(s.node(w).copy(b)),N++):h++;t.step(new Bt(f,h,c,d,new fe(p.append(b),g,N),p.size-g,!0))}function ag(t,e,n=null,r=t){let s=Mk(t,e),i=s&&Rk(r,e);return i?s.map(tv).concat({type:e,attrs:n}).concat(i.map(tv)):null}function tv(t){return{type:t,attrs:null}}function Mk(t,e){let{parent:n,startIndex:r,endIndex:s}=t,i=n.contentMatchAt(r).findWrapping(e);if(!i)return null;let c=i.length?i[0]:e;return n.canReplaceWith(r,s,c)?i:null}function Rk(t,e){let{parent:n,startIndex:r,endIndex:s}=t,i=n.child(r),c=e.contentMatch.findWrapping(i.type);if(!c)return null;let f=(c.length?c[c.length-1]:e).contentMatch;for(let h=r;f&&h<s;h++)f=f.matchType(n.child(h).type);return!f||!f.validEnd?null:c}function Ik(t,e,n){let r=ne.empty;for(let c=n.length-1;c>=0;c--){if(r.size){let d=n[c].type.contentMatch.matchFragment(r);if(!d||!d.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=ne.from(n[c].type.create(n[c].attrs,r))}let s=e.start,i=e.end;t.step(new Bt(s,i,s,i,new fe(r,0,0),n.length,!0))}function Dk(t,e,n,r,s){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let i=t.steps.length;t.doc.nodesBetween(e,n,(c,d)=>{let f=typeof s=="function"?s(c):s;if(c.isTextblock&&!c.hasMarkup(r,f)&&_k(t.doc,t.mapping.slice(i).map(d),r)){let h=null;if(r.schema.linebreakReplacement){let N=r.whitespace=="pre",w=!!r.contentMatch.matchType(r.schema.linebreakReplacement);N&&!w?h=!1:!N&&w&&(h=!0)}h===!1&&EN(t,c,d,i),og(t,t.mapping.slice(i).map(d,1),r,void 0,h===null);let p=t.mapping.slice(i),g=p.map(d,1),b=p.map(d+c.nodeSize,1);return t.step(new Bt(g,b,g+1,b-1,new fe(ne.from(r.create(f,null,c.marks)),0,0),1,!0)),h===!0&&kN(t,c,d,i),!1}})}function kN(t,e,n,r){e.forEach((s,i)=>{if(s.isText){let c,d=/\r?\n|\r/g;for(;c=d.exec(s.text);){let f=t.mapping.slice(r).map(n+1+i+c.index);t.replaceWith(f,f+1,e.type.schema.linebreakReplacement.create())}}})}function EN(t,e,n,r){e.forEach((s,i)=>{if(s.type==s.type.schema.linebreakReplacement){let c=t.mapping.slice(r).map(n+1+i);t.replaceWith(c,c+1,e.type.schema.text(`
`))}})}function _k(t,e,n){let r=t.resolve(e),s=r.index();return r.parent.canReplaceWith(s,s+1,n)}function Pk(t,e,n,r,s){let i=t.doc.nodeAt(e);if(!i)throw new RangeError("No node at given position");n||(n=i.type);let c=n.create(r,null,s||i.marks);if(i.isLeaf)return t.replaceWith(e,e+i.nodeSize,c);if(!n.validContent(i.content))throw new RangeError("Invalid content for node type "+n.name);t.step(new Bt(e,e+i.nodeSize,e+1,e+i.nodeSize-1,new fe(ne.from(c),0,0),1,!0))}function ns(t,e,n=1,r){let s=t.resolve(e),i=s.depth-n,c=r&&r[r.length-1]||s.parent;if(i<0||s.parent.type.spec.isolating||!s.parent.canReplace(s.index(),s.parent.childCount)||!c.type.validContent(s.parent.content.cutByIndex(s.index(),s.parent.childCount)))return!1;for(let h=s.depth-1,p=n-2;h>i;h--,p--){let g=s.node(h),b=s.index(h);if(g.type.spec.isolating)return!1;let N=g.content.cutByIndex(b,g.childCount),w=r&&r[p+1];w&&(N=N.replaceChild(0,w.type.create(w.attrs)));let S=r&&r[p]||g;if(!g.canReplace(b+1,g.childCount)||!S.type.validContent(N))return!1}let d=s.indexAfter(i),f=r&&r[0];return s.node(i).canReplaceWith(d,d,f?f.type:s.node(i+1).type)}function Lk(t,e,n=1,r){let s=t.doc.resolve(e),i=ne.empty,c=ne.empty;for(let d=s.depth,f=s.depth-n,h=n-1;d>f;d--,h--){i=ne.from(s.node(d).copy(i));let p=r&&r[h];c=ne.from(p?p.type.create(p.attrs,c):s.node(d).copy(c))}t.step(new Ot(e,e,new fe(i.append(c),n,n),!0))}function po(t,e){let n=t.resolve(e),r=n.index();return AN(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function Ok(t,e){e.content.size||t.type.compatibleContent(e.type);let n=t.contentMatchAt(t.childCount),{linebreakReplacement:r}=t.type.schema;for(let s=0;s<e.childCount;s++){let i=e.child(s),c=i.type==r?t.type.schema.nodes.text:i.type;if(n=n.matchType(c),!n||!t.type.allowsMarks(i.marks))return!1}return n.validEnd}function AN(t,e){return!!(t&&e&&!t.isLeaf&&Ok(t,e))}function $u(t,e,n=-1){let r=t.resolve(e);for(let s=r.depth;;s--){let i,c,d=r.index(s);if(s==r.depth?(i=r.nodeBefore,c=r.nodeAfter):n>0?(i=r.node(s+1),d++,c=r.node(s).maybeChild(d)):(i=r.node(s).maybeChild(d-1),c=r.node(s+1)),i&&!i.isTextblock&&AN(i,c)&&r.node(s).canReplace(d,d+1))return e;if(s==0)break;e=n<0?r.before(s):r.after(s)}}function Bk(t,e,n){let r=null,{linebreakReplacement:s}=t.doc.type.schema,i=t.doc.resolve(e-n),c=i.node().type;if(s&&c.inlineContent){let p=c.whitespace=="pre",g=!!c.contentMatch.matchType(s);p&&!g?r=!1:!p&&g&&(r=!0)}let d=t.steps.length;if(r===!1){let p=t.doc.resolve(e+n);EN(t,p.node(),p.before(),d)}c.inlineContent&&og(t,e+n-1,c,i.node().contentMatchAt(i.index()),r==null);let f=t.mapping.slice(d),h=f.map(e-n);if(t.step(new Ot(h,f.map(e+n,-1),fe.empty,!0)),r===!0){let p=t.doc.resolve(h);kN(t,p.node(),p.before(),t.steps.length)}return t}function zk(t,e,n){let r=t.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),n))return e;if(r.parentOffset==0)for(let s=r.depth-1;s>=0;s--){let i=r.index(s);if(r.node(s).canReplaceWith(i,i,n))return r.before(s+1);if(i>0)return null}if(r.parentOffset==r.parent.content.size)for(let s=r.depth-1;s>=0;s--){let i=r.indexAfter(s);if(r.node(s).canReplaceWith(i,i,n))return r.after(s+1);if(i<r.node(s).childCount)return null}return null}function jN(t,e,n){let r=t.resolve(e);if(!n.content.size)return e;let s=n.content;for(let i=0;i<n.openStart;i++)s=s.firstChild.content;for(let i=1;i<=(n.openStart==0&&n.size?2:1);i++)for(let c=r.depth;c>=0;c--){let d=c==r.depth?0:r.pos<=(r.start(c+1)+r.end(c+1))/2?-1:1,f=r.index(c)+(d>0?1:0),h=r.node(c),p=!1;if(i==1)p=h.canReplace(f,f,s);else{let g=h.contentMatchAt(f).findWrapping(s.firstChild.type);p=g&&h.canReplaceWith(f,f,g[0])}if(p)return d==0?r.pos:d<0?r.before(c+1):r.after(c+1)}return null}function Ju(t,e,n=e,r=fe.empty){if(e==n&&!r.size)return null;let s=t.resolve(e),i=t.resolve(n);return MN(s,i,r)?new Ot(e,n,r):new Uk(s,i,r).fit()}function MN(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}class Uk{constructor(e,n,r){this.$from=e,this.$to=n,this.unplaced=r,this.frontier=[],this.placed=ne.empty;for(let s=0;s<=e.depth;s++){let i=e.node(s);this.frontier.push({type:i.type,match:i.contentMatchAt(e.indexAfter(s))})}for(let s=e.depth;s>0;s--)this.placed=ne.from(e.node(s).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let h=this.findFittable();h?this.placeNodes(h):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,s=this.close(e<0?this.$to:r.doc.resolve(e));if(!s)return null;let i=this.placed,c=r.depth,d=s.depth;for(;c&&d&&i.childCount==1;)i=i.firstChild.content,c--,d--;let f=new fe(i,c,d);return e>-1?new Bt(r.pos,e,this.$to.pos,this.$to.end(),f,n):f.size||r.pos!=this.$to.pos?new Ot(r.pos,s.pos,f):null}findFittable(){let e=this.unplaced.openStart;for(let n=this.unplaced.content,r=0,s=this.unplaced.openEnd;r<e;r++){let i=n.firstChild;if(n.childCount>1&&(s=0),i.type.spec.isolating&&s<=r){e=r;break}n=i.content}for(let n=1;n<=2;n++)for(let r=n==1?e:this.unplaced.openStart;r>=0;r--){let s,i=null;r?(i=_m(this.unplaced.content,r-1).firstChild,s=i.content):s=this.unplaced.content;let c=s.firstChild;for(let d=this.depth;d>=0;d--){let{type:f,match:h}=this.frontier[d],p,g=null;if(n==1&&(c?h.matchType(c.type)||(g=h.fillBefore(ne.from(c),!1)):i&&f.compatibleContent(i.type)))return{sliceDepth:r,frontierDepth:d,parent:i,inject:g};if(n==2&&c&&(p=h.findWrapping(c.type)))return{sliceDepth:r,frontierDepth:d,parent:i,wrap:p};if(i&&h.matchType(i.type))break}}}openMore(){let{content:e,openStart:n,openEnd:r}=this.unplaced,s=_m(e,n);return!s.childCount||s.firstChild.isLeaf?!1:(this.unplaced=new fe(e,n+1,Math.max(r,s.size+n>=e.size-r?n+1:0)),!0)}dropNode(){let{content:e,openStart:n,openEnd:r}=this.unplaced,s=_m(e,n);if(s.childCount<=1&&n>0){let i=e.size-n<=n+s.size;this.unplaced=new fe(Cl(e,n-1,1),n-1,i?n-1:r)}else this.unplaced=new fe(Cl(e,n,1),n,r)}placeNodes({sliceDepth:e,frontierDepth:n,parent:r,inject:s,wrap:i}){for(;this.depth>n;)this.closeFrontierNode();if(i)for(let S=0;S<i.length;S++)this.openFrontierNode(i[S]);let c=this.unplaced,d=r?r.content:c.content,f=c.openStart-e,h=0,p=[],{match:g,type:b}=this.frontier[n];if(s){for(let S=0;S<s.childCount;S++)p.push(s.child(S));g=g.matchFragment(s)}let N=d.size+e-(c.content.size-c.openEnd);for(;h<d.childCount;){let S=d.child(h),T=g.matchType(S.type);if(!T)break;h++,(h>1||f==0||S.content.size)&&(g=T,p.push(RN(S.mark(b.allowedMarks(S.marks)),h==1?f:0,h==d.childCount?N:-1)))}let w=h==d.childCount;w||(N=-1),this.placed=wl(this.placed,n,ne.from(p)),this.frontier[n].match=g,w&&N<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let S=0,T=d;S<N;S++){let E=T.lastChild;this.frontier.push({type:E.type,match:E.contentMatchAt(E.childCount)}),T=E.content}this.unplaced=w?e==0?fe.empty:new fe(Cl(c.content,e-1,1),e-1,N<0?c.openEnd:e-1):new fe(Cl(c.content,e,h),c.openStart,c.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],n;if(!e.type.isTextblock||!Pm(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:r}=this.$to,s=this.$to.after(r);for(;r>1&&s==this.$to.end(--r);)++s;return s}findCloseLevel(e){e:for(let n=Math.min(this.depth,e.depth);n>=0;n--){let{match:r,type:s}=this.frontier[n],i=n<e.depth&&e.end(n+1)==e.pos+(e.depth-(n+1)),c=Pm(e,n,s,r,i);if(c){for(let d=n-1;d>=0;d--){let{match:f,type:h}=this.frontier[d],p=Pm(e,d,h,f,!0);if(!p||p.childCount)continue e}return{depth:n,fit:c,move:i?e.doc.resolve(e.after(n+1)):e}}}}close(e){let n=this.findCloseLevel(e);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=wl(this.placed,n.depth,n.fit)),e=n.move;for(let r=n.depth+1;r<=e.depth;r++){let s=e.node(r),i=s.type.contentMatch.fillBefore(s.content,!0,e.index(r));this.openFrontierNode(s.type,s.attrs,i)}return e}openFrontierNode(e,n=null,r){let s=this.frontier[this.depth];s.match=s.match.matchType(e),this.placed=wl(this.placed,this.depth,ne.from(e.create(n,r))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(ne.empty,!0);n.childCount&&(this.placed=wl(this.placed,this.frontier.length,n))}}function Cl(t,e,n){return e==0?t.cutByIndex(n,t.childCount):t.replaceChild(0,t.firstChild.copy(Cl(t.firstChild.content,e-1,n)))}function wl(t,e,n){return e==0?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy(wl(t.lastChild.content,e-1,n)))}function _m(t,e){for(let n=0;n<e;n++)t=t.firstChild.content;return t}function RN(t,e,n){if(e<=0)return t;let r=t.content;return e>1&&(r=r.replaceChild(0,RN(r.firstChild,e-1,r.childCount==1?n-1:0))),e>0&&(r=t.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(t.type.contentMatch.matchFragment(r).fillBefore(ne.empty,!0)))),t.copy(r)}function Pm(t,e,n,r,s){let i=t.node(e),c=s?t.indexAfter(e):t.index(e);if(c==i.childCount&&!n.compatibleContent(i.type))return null;let d=r.fillBefore(i.content,!0,c);return d&&!Hk(n,i.content,c)?d:null}function Hk(t,e,n){for(let r=n;r<e.childCount;r++)if(!t.allowsMarks(e.child(r).marks))return!0;return!1}function Vk(t){return t.spec.defining||t.spec.definingForContent}function qk(t,e,n,r){if(!r.size)return t.deleteRange(e,n);let s=t.doc.resolve(e),i=t.doc.resolve(n);if(MN(s,i,r))return t.step(new Ot(e,n,r));let c=DN(s,t.doc.resolve(n));c[c.length-1]==0&&c.pop();let d=-(s.depth+1);c.unshift(d);for(let b=s.depth,N=s.pos-1;b>0;b--,N--){let w=s.node(b).type.spec;if(w.defining||w.definingAsContext||w.isolating)break;c.indexOf(b)>-1?d=b:s.before(b)==N&&c.splice(1,0,-b)}let f=c.indexOf(d),h=[],p=r.openStart;for(let b=r.content,N=0;;N++){let w=b.firstChild;if(h.push(w),N==r.openStart)break;b=w.content}for(let b=p-1;b>=0;b--){let N=h[b],w=Vk(N.type);if(w&&!N.sameMarkup(s.node(Math.abs(d)-1)))p=b;else if(w||!N.type.isTextblock)break}for(let b=r.openStart;b>=0;b--){let N=(b+p+1)%(r.openStart+1),w=h[N];if(w)for(let S=0;S<c.length;S++){let T=c[(S+f)%c.length],E=!0;T<0&&(E=!1,T=-T);let M=s.node(T-1),D=s.index(T-1);if(M.canReplaceWith(D,D,w.type,w.marks))return t.replace(s.before(T),E?i.after(T):n,new fe(IN(r.content,0,r.openStart,N),N,r.openEnd))}}let g=t.steps.length;for(let b=c.length-1;b>=0&&(t.replace(e,n,r),!(t.steps.length>g));b--){let N=c[b];N<0||(e=s.before(N),n=i.after(N))}}function IN(t,e,n,r,s){if(e<n){let i=t.firstChild;t=t.replaceChild(0,i.copy(IN(i.content,e+1,n,r,i)))}if(e>r){let i=s.contentMatchAt(0),c=i.fillBefore(t).append(t);t=c.append(i.matchFragment(c).fillBefore(ne.empty,!0))}return t}function Fk(t,e,n,r){if(!r.isInline&&e==n&&t.doc.resolve(e).parent.content.size){let s=zk(t.doc,e,r.type);s!=null&&(e=n=s)}t.replaceRange(e,n,new fe(ne.from(r),0,0))}function Gk(t,e,n){let r=t.doc.resolve(e),s=t.doc.resolve(n),i=DN(r,s);for(let c=0;c<i.length;c++){let d=i[c],f=c==i.length-1;if(f&&d==0||r.node(d).type.contentMatch.validEnd)return t.delete(r.start(d),s.end(d));if(d>0&&(f||r.node(d-1).canReplace(r.index(d-1),s.indexAfter(d-1))))return t.delete(r.before(d),s.after(d))}for(let c=1;c<=r.depth&&c<=s.depth;c++)if(e-r.start(c)==r.depth-c&&n>r.end(c)&&s.end(c)-n!=s.depth-c&&r.start(c-1)==s.start(c-1)&&r.node(c-1).canReplace(r.index(c-1),s.index(c-1)))return t.delete(r.before(c),n);t.delete(e,n)}function DN(t,e){let n=[],r=Math.min(t.depth,e.depth);for(let s=r;s>=0;s--){let i=t.start(s);if(i<t.pos-(t.depth-s)||e.end(s)>e.pos+(e.depth-s)||t.node(s).type.spec.isolating||e.node(s).type.spec.isolating)break;(i==e.start(s)||s==t.depth&&s==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&s&&e.start(s-1)==i-1)&&n.push(s)}return n}class ni extends nn{constructor(e,n,r){super(),this.pos=e,this.attr=n,this.value=r}apply(e){let n=e.nodeAt(this.pos);if(!n)return At.fail("No node at attribute step's position");let r=Object.create(null);for(let i in n.attrs)r[i]=n.attrs[i];r[this.attr]=this.value;let s=n.type.create(r,null,n.marks);return At.fromReplace(e,this.pos,this.pos+1,new fe(ne.from(s),0,n.isLeaf?0:1))}getMap(){return Ln.empty}invert(e){return new ni(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new ni(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new ni(n.pos,n.attr,n.value)}}nn.jsonID("attr",ni);class Vl extends nn{constructor(e,n){super(),this.attr=e,this.value=n}apply(e){let n=Object.create(null);for(let s in e.attrs)n[s]=e.attrs[s];n[this.attr]=this.value;let r=e.type.create(n,e.content,e.marks);return At.ok(r)}getMap(){return Ln.empty}invert(e){return new Vl(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new Vl(n.attr,n.value)}}nn.jsonID("docAttr",Vl);let li=class extends Error{};li=function t(e){let n=Error.call(this,e);return n.__proto__=t.prototype,n};li.prototype=Object.create(Error.prototype);li.prototype.constructor=li;li.prototype.name="TransformError";class _N{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new Hl}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let n=this.maybeStep(e);if(n.failed)throw new li(n.failed);return this}maybeStep(e){let n=e.apply(this.doc);return n.failed||this.addStep(e,n.doc),n}get docChanged(){return this.steps.length>0}addStep(e,n){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=n}replace(e,n=e,r=fe.empty){let s=Ju(this.doc,e,n,r);return s&&this.step(s),this}replaceWith(e,n,r){return this.replace(e,n,new fe(ne.from(r),0,0))}delete(e,n){return this.replace(e,n,fe.empty)}insert(e,n){return this.replaceWith(e,e,n)}replaceRange(e,n,r){return qk(this,e,n,r),this}replaceRangeWith(e,n,r){return Fk(this,e,n,r),this}deleteRange(e,n){return Gk(this,e,n),this}lift(e,n){return jk(this,e,n),this}join(e,n=1){return Bk(this,e,n),this}wrap(e,n){return Ik(this,e,n),this}setBlockType(e,n=e,r,s=null){return Dk(this,e,n,r,s),this}setNodeMarkup(e,n,r=null,s){return Pk(this,e,n,r,s),this}setNodeAttribute(e,n,r){return this.step(new ni(e,n,r)),this}setDocAttribute(e,n){return this.step(new Vl(e,n)),this}addNodeMark(e,n){return this.step(new no(e,n)),this}removeNodeMark(e,n){let r=this.doc.nodeAt(e);if(!r)throw new RangeError("No node at position "+e);if(n instanceof rt)n.isInSet(r.marks)&&this.step(new na(e,n));else{let s=r.marks,i,c=[];for(;i=n.isInSet(s);)c.push(new na(e,i)),s=i.removeFromSet(s);for(let d=c.length-1;d>=0;d--)this.step(c[d])}return this}split(e,n=1,r){return Lk(this,e,n,r),this}addMark(e,n,r){return kk(this,e,n,r),this}removeMark(e,n,r){return Ek(this,e,n,r),this}clearIncompatible(e,n,r){return og(this,e,n,r),this}}const Lm=Object.create(null);class Pe{constructor(e,n,r){this.$anchor=e,this.$head=n,this.ranges=r||[new $k(e.min(n),e.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let n=0;n<e.length;n++)if(e[n].$from.pos!=e[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,n=fe.empty){let r=n.content.lastChild,s=null;for(let d=0;d<n.openEnd;d++)s=r,r=r.lastChild;let i=e.steps.length,c=this.ranges;for(let d=0;d<c.length;d++){let{$from:f,$to:h}=c[d],p=e.mapping.slice(i);e.replaceRange(p.map(f.pos),p.map(h.pos),d?fe.empty:n),d==0&&sv(e,i,(r?r.isInline:s&&s.isTextblock)?-1:1)}}replaceWith(e,n){let r=e.steps.length,s=this.ranges;for(let i=0;i<s.length;i++){let{$from:c,$to:d}=s[i],f=e.mapping.slice(r),h=f.map(c.pos),p=f.map(d.pos);i?e.deleteRange(h,p):(e.replaceRangeWith(h,p,n),sv(e,r,n.isInline?-1:1))}}static findFrom(e,n,r=!1){let s=e.parent.inlineContent?new Ee(e):Ya(e.node(0),e.parent,e.pos,e.index(),n,r);if(s)return s;for(let i=e.depth-1;i>=0;i--){let c=n<0?Ya(e.node(0),e.node(i),e.before(i+1),e.index(i),n,r):Ya(e.node(0),e.node(i),e.after(i+1),e.index(i)+1,n,r);if(c)return c}return null}static near(e,n=1){return this.findFrom(e,n)||this.findFrom(e,-n)||new On(e.node(0))}static atStart(e){return Ya(e,e,0,0,1)||new On(e)}static atEnd(e){return Ya(e,e,e.content.size,e.childCount,-1)||new On(e)}static fromJSON(e,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=Lm[n.type];if(!r)throw new RangeError(`No selection type ${n.type} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in Lm)throw new RangeError("Duplicate use of selection JSON ID "+e);return Lm[e]=n,n.prototype.jsonID=e,n}getBookmark(){return Ee.between(this.$anchor,this.$head).getBookmark()}}Pe.prototype.visible=!0;class $k{constructor(e,n){this.$from=e,this.$to=n}}let nv=!1;function rv(t){!nv&&!t.parent.inlineContent&&(nv=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class Ee extends Pe{constructor(e,n=e){rv(e),rv(n),super(e,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,n){let r=e.resolve(n.map(this.head));if(!r.parent.inlineContent)return Pe.near(r);let s=e.resolve(n.map(this.anchor));return new Ee(s.parent.inlineContent?s:r,r)}replace(e,n=fe.empty){if(super.replace(e,n),n==fe.empty){let r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}}eq(e){return e instanceof Ee&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new Ku(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new Ee(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,r=n){let s=e.resolve(n);return new this(s,r==n?s:e.resolve(r))}static between(e,n,r){let s=e.pos-n.pos;if((!r||s)&&(r=s>=0?1:-1),!n.parent.inlineContent){let i=Pe.findFrom(n,r,!0)||Pe.findFrom(n,-r,!0);if(i)n=i.$head;else return Pe.near(n,r)}return e.parent.inlineContent||(s==0?e=n:(e=(Pe.findFrom(e,-r,!0)||Pe.findFrom(e,r,!0)).$anchor,e.pos<n.pos!=s<0&&(e=n))),new Ee(e,n)}}Pe.jsonID("text",Ee);class Ku{constructor(e,n){this.anchor=e,this.head=n}map(e){return new Ku(e.map(this.anchor),e.map(this.head))}resolve(e){return Ee.between(e.resolve(this.anchor),e.resolve(this.head))}}class Ce extends Pe{constructor(e){let n=e.nodeAfter,r=e.node(0).resolve(e.pos+n.nodeSize);super(e,r),this.node=n}map(e,n){let{deleted:r,pos:s}=n.mapResult(this.anchor),i=e.resolve(s);return r?Pe.near(i):new Ce(i)}content(){return new fe(ne.from(this.node),0,0)}eq(e){return e instanceof Ce&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new ig(this.anchor)}static fromJSON(e,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new Ce(e.resolve(n.anchor))}static create(e,n){return new Ce(e.resolve(n))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}Ce.prototype.visible=!1;Pe.jsonID("node",Ce);class ig{constructor(e){this.anchor=e}map(e){let{deleted:n,pos:r}=e.mapResult(this.anchor);return n?new Ku(r,r):new ig(r)}resolve(e){let n=e.resolve(this.anchor),r=n.nodeAfter;return r&&Ce.isSelectable(r)?new Ce(n):Pe.near(n)}}class On extends Pe{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,n=fe.empty){if(n==fe.empty){e.delete(0,e.doc.content.size);let r=Pe.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else super.replace(e,n)}toJSON(){return{type:"all"}}static fromJSON(e){return new On(e)}map(e){return new On(e)}eq(e){return e instanceof On}getBookmark(){return Jk}}Pe.jsonID("all",On);const Jk={map(){return this},resolve(t){return new On(t)}};function Ya(t,e,n,r,s,i=!1){if(e.inlineContent)return Ee.create(t,n);for(let c=r-(s>0?0:1);s>0?c<e.childCount:c>=0;c+=s){let d=e.child(c);if(d.isAtom){if(!i&&Ce.isSelectable(d))return Ce.create(t,n-(s<0?d.nodeSize:0))}else{let f=Ya(t,d,n+s,s<0?d.childCount:0,s,i);if(f)return f}n+=d.nodeSize*s}return null}function sv(t,e,n){let r=t.steps.length-1;if(r<e)return;let s=t.steps[r];if(!(s instanceof Ot||s instanceof Bt))return;let i=t.mapping.maps[r],c;i.forEach((d,f,h,p)=>{c==null&&(c=p)}),t.setSelection(Pe.near(t.doc.resolve(c),n))}const ov=1,Ad=2,av=4;class Kk extends _N{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|ov)&~Ad,this.storedMarks=null,this}get selectionSet(){return(this.updated&ov)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=Ad,this}ensureMarks(e){return rt.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&Ad)>0}addStep(e,n){super.addStep(e,n),this.updated=this.updated&~Ad,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,n=!0){let r=this.selection;return n&&(e=e.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||rt.none))),r.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,n,r){let s=this.doc.type.schema;if(n==null)return e?this.replaceSelectionWith(s.text(e),!0):this.deleteSelection();{if(r==null&&(r=n),!e)return this.deleteRange(n,r);let i=this.storedMarks;if(!i){let c=this.doc.resolve(n);i=r==n?c.marks():c.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(n,r,s.text(e,i)),!this.selection.empty&&this.selection.to==n+e.length&&this.setSelection(Pe.near(this.selection.$to)),this}}setMeta(e,n){return this.meta[typeof e=="string"?e:e.key]=n,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=av,this}get scrolledIntoView(){return(this.updated&av)>0}}function iv(t,e){return!e||!t?t:t.bind(e)}class Sl{constructor(e,n,r){this.name=e,this.init=iv(n.init,r),this.apply=iv(n.apply,r)}}const Yk=[new Sl("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new Sl("selection",{init(t,e){return t.selection||Pe.atStart(e.doc)},apply(t){return t.selection}}),new Sl("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,n,r){return r.selection.$cursor?t.storedMarks:null}}),new Sl("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}})];class Om{constructor(e,n){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=Yk.slice(),n&&n.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new Sl(r.key,r.spec.state,r))})}}class Za{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,n=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=n){let s=this.config.plugins[r];if(s.spec.filterTransaction&&!s.spec.filterTransaction.call(s,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let n=[e],r=this.applyInner(e),s=null;for(;;){let i=!1;for(let c=0;c<this.config.plugins.length;c++){let d=this.config.plugins[c];if(d.spec.appendTransaction){let f=s?s[c].n:0,h=s?s[c].state:this,p=f<n.length&&d.spec.appendTransaction.call(d,f?n.slice(f):n,h,r);if(p&&r.filterTransaction(p,c)){if(p.setMeta("appendedTransaction",e),!s){s=[];for(let g=0;g<this.config.plugins.length;g++)s.push(g<c?{state:r,n:n.length}:{state:this,n:0})}n.push(p),r=r.applyInner(p),i=!0}s&&(s[c]={state:r,n:n.length})}}if(!i)return{state:r,transactions:n}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new Za(this.config),r=this.config.fields;for(let s=0;s<r.length;s++){let i=r[s];n[i.name]=i.apply(e,this[i.name],this,n)}return n}get tr(){return new Kk(this)}static create(e){let n=new Om(e.doc?e.doc.type.schema:e.schema,e.plugins),r=new Za(n);for(let s=0;s<n.fields.length;s++)r[n.fields[s].name]=n.fields[s].init(e,r);return r}reconfigure(e){let n=new Om(this.schema,e.plugins),r=n.fields,s=new Za(n);for(let i=0;i<r.length;i++){let c=r[i].name;s[c]=this.hasOwnProperty(c)?this[c]:r[i].init(e,s)}return s}toJSON(e){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(r=>r.toJSON())),e&&typeof e=="object")for(let r in e){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let s=e[r],i=s.spec.state;i&&i.toJSON&&(n[r]=i.toJSON.call(s,this[s.key]))}return n}static fromJSON(e,n,r){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let s=new Om(e.schema,e.plugins),i=new Za(s);return s.fields.forEach(c=>{if(c.name=="doc")i.doc=pr.fromJSON(e.schema,n.doc);else if(c.name=="selection")i.selection=Pe.fromJSON(i.doc,n.selection);else if(c.name=="storedMarks")n.storedMarks&&(i.storedMarks=n.storedMarks.map(e.schema.markFromJSON));else{if(r)for(let d in r){let f=r[d],h=f.spec.state;if(f.key==c.name&&h&&h.fromJSON&&Object.prototype.hasOwnProperty.call(n,d)){i[c.name]=h.fromJSON.call(f,e,n[d],i);return}}i[c.name]=c.init(e,i)}}),i}}function PN(t,e,n){for(let r in t){let s=t[r];s instanceof Function?s=s.bind(e):r=="handleDOMEvents"&&(s=PN(s,e,{})),n[r]=s}return n}class yt{constructor(e){this.spec=e,this.props={},e.props&&PN(e.props,this,this.props),this.key=e.key?e.key.key:LN("plugin")}getState(e){return e[this.key]}}const Bm=Object.create(null);function LN(t){return t in Bm?t+"$"+ ++Bm[t]:(Bm[t]=0,t+"$")}class Ut{constructor(e="key"){this.key=LN(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const lg=(t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0);function ON(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("backward",t):n.parentOffset>0)?null:n}const BN=(t,e,n)=>{let r=ON(t,n);if(!r)return!1;let s=cg(r);if(!s){let c=r.blockRange(),d=c&&gi(c);return d==null?!1:(e&&e(t.tr.lift(c,d).scrollIntoView()),!0)}let i=s.nodeBefore;if(JN(t,s,e,-1))return!0;if(r.parent.content.size==0&&(ci(i,"end")||Ce.isSelectable(i)))for(let c=r.depth;;c--){let d=Ju(t.doc,r.before(c),r.after(c),fe.empty);if(d&&d.slice.size<d.to-d.from){if(e){let f=t.tr.step(d);f.setSelection(ci(i,"end")?Pe.findFrom(f.doc.resolve(f.mapping.map(s.pos,-1)),-1):Ce.create(f.doc,s.pos-i.nodeSize)),e(f.scrollIntoView())}return!0}if(c==1||r.node(c-1).childCount>1)break}return i.isAtom&&s.depth==r.depth-1?(e&&e(t.tr.delete(s.pos-i.nodeSize,s.pos).scrollIntoView()),!0):!1},Wk=(t,e,n)=>{let r=ON(t,n);if(!r)return!1;let s=cg(r);return s?zN(t,s,e):!1},Xk=(t,e,n)=>{let r=HN(t,n);if(!r)return!1;let s=dg(r);return s?zN(t,s,e):!1};function zN(t,e,n){let r=e.nodeBefore,s=r,i=e.pos-1;for(;!s.isTextblock;i--){if(s.type.spec.isolating)return!1;let p=s.lastChild;if(!p)return!1;s=p}let c=e.nodeAfter,d=c,f=e.pos+1;for(;!d.isTextblock;f++){if(d.type.spec.isolating)return!1;let p=d.firstChild;if(!p)return!1;d=p}let h=Ju(t.doc,i,f,fe.empty);if(!h||h.from!=i||h instanceof Ot&&h.slice.size>=f-i)return!1;if(n){let p=t.tr.step(h);p.setSelection(Ee.create(p.doc,i)),n(p.scrollIntoView())}return!0}function ci(t,e,n=!1){for(let r=t;r;r=e=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&r.childCount!=1)return!1}return!1}const UN=(t,e,n)=>{let{$head:r,empty:s}=t.selection,i=r;if(!s)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",t):r.parentOffset>0)return!1;i=cg(r)}let c=i&&i.nodeBefore;return!c||!Ce.isSelectable(c)?!1:(e&&e(t.tr.setSelection(Ce.create(t.doc,i.pos-c.nodeSize)).scrollIntoView()),!0)};function cg(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function HN(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size)?null:n}const VN=(t,e,n)=>{let r=HN(t,n);if(!r)return!1;let s=dg(r);if(!s)return!1;let i=s.nodeAfter;if(JN(t,s,e,1))return!0;if(r.parent.content.size==0&&(ci(i,"start")||Ce.isSelectable(i))){let c=Ju(t.doc,r.before(),r.after(),fe.empty);if(c&&c.slice.size<c.to-c.from){if(e){let d=t.tr.step(c);d.setSelection(ci(i,"start")?Pe.findFrom(d.doc.resolve(d.mapping.map(s.pos)),1):Ce.create(d.doc,d.mapping.map(s.pos))),e(d.scrollIntoView())}return!0}}return i.isAtom&&s.depth==r.depth-1?(e&&e(t.tr.delete(s.pos,s.pos+i.nodeSize).scrollIntoView()),!0):!1},qN=(t,e,n)=>{let{$head:r,empty:s}=t.selection,i=r;if(!s)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",t):r.parentOffset<r.parent.content.size)return!1;i=dg(r)}let c=i&&i.nodeAfter;return!c||!Ce.isSelectable(c)?!1:(e&&e(t.tr.setSelection(Ce.create(t.doc,i.pos)).scrollIntoView()),!0)};function dg(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let n=t.node(e);if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1));if(n.type.spec.isolating)break}return null}const Qk=(t,e)=>{let n=t.selection,r=n instanceof Ce,s;if(r){if(n.node.isTextblock||!po(t.doc,n.from))return!1;s=n.from}else if(s=$u(t.doc,n.from,-1),s==null)return!1;if(e){let i=t.tr.join(s);r&&i.setSelection(Ce.create(i.doc,s-t.doc.resolve(s).nodeBefore.nodeSize)),e(i.scrollIntoView())}return!0},Zk=(t,e)=>{let n=t.selection,r;if(n instanceof Ce){if(n.node.isTextblock||!po(t.doc,n.to))return!1;r=n.to}else if(r=$u(t.doc,n.to,1),r==null)return!1;return e&&e(t.tr.join(r).scrollIntoView()),!0},eE=(t,e)=>{let{$from:n,$to:r}=t.selection,s=n.blockRange(r),i=s&&gi(s);return i==null?!1:(e&&e(t.tr.lift(s,i).scrollIntoView()),!0)},FN=(t,e)=>{let{$head:n,$anchor:r}=t.selection;return!n.parent.type.spec.code||!n.sameParent(r)?!1:(e&&e(t.tr.insertText(`
`).scrollIntoView()),!0)};function ug(t){for(let e=0;e<t.edgeCount;e++){let{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const tE=(t,e)=>{let{$head:n,$anchor:r}=t.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let s=n.node(-1),i=n.indexAfter(-1),c=ug(s.contentMatchAt(i));if(!c||!s.canReplaceWith(i,i,c))return!1;if(e){let d=n.after(),f=t.tr.replaceWith(d,d,c.createAndFill());f.setSelection(Pe.near(f.doc.resolve(d),1)),e(f.scrollIntoView())}return!0},GN=(t,e)=>{let n=t.selection,{$from:r,$to:s}=n;if(n instanceof On||r.parent.inlineContent||s.parent.inlineContent)return!1;let i=ug(s.parent.contentMatchAt(s.indexAfter()));if(!i||!i.isTextblock)return!1;if(e){let c=(!r.parentOffset&&s.index()<s.parent.childCount?r:s).pos,d=t.tr.insert(c,i.createAndFill());d.setSelection(Ee.create(d.doc,c+1)),e(d.scrollIntoView())}return!0},$N=(t,e)=>{let{$cursor:n}=t.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let i=n.before();if(ns(t.doc,i))return e&&e(t.tr.split(i).scrollIntoView()),!0}let r=n.blockRange(),s=r&&gi(r);return s==null?!1:(e&&e(t.tr.lift(r,s).scrollIntoView()),!0)};function nE(t){return(e,n)=>{let{$from:r,$to:s}=e.selection;if(e.selection instanceof Ce&&e.selection.node.isBlock)return!r.parentOffset||!ns(e.doc,r.pos)?!1:(n&&n(e.tr.split(r.pos).scrollIntoView()),!0);if(!r.depth)return!1;let i=[],c,d,f=!1,h=!1;for(let N=r.depth;;N--)if(r.node(N).isBlock){f=r.end(N)==r.pos+(r.depth-N),h=r.start(N)==r.pos-(r.depth-N),d=ug(r.node(N-1).contentMatchAt(r.indexAfter(N-1))),i.unshift(f&&d?{type:d}:null),c=N;break}else{if(N==1)return!1;i.unshift(null)}let p=e.tr;(e.selection instanceof Ee||e.selection instanceof On)&&p.deleteSelection();let g=p.mapping.map(r.pos),b=ns(p.doc,g,i.length,i);if(b||(i[0]=d?{type:d}:null,b=ns(p.doc,g,i.length,i)),!b)return!1;if(p.split(g,i.length,i),!f&&h&&r.node(c).type!=d){let N=p.mapping.map(r.before(c)),w=p.doc.resolve(N);d&&r.node(c-1).canReplaceWith(w.index(),w.index()+1,d)&&p.setNodeMarkup(p.mapping.map(r.before(c)),d)}return n&&n(p.scrollIntoView()),!0}}const rE=nE(),sE=(t,e)=>{let{$from:n,to:r}=t.selection,s,i=n.sharedDepth(r);return i==0?!1:(s=n.before(i),e&&e(t.tr.setSelection(Ce.create(t.doc,s))),!0)};function oE(t,e,n){let r=e.nodeBefore,s=e.nodeAfter,i=e.index();return!r||!s||!r.type.compatibleContent(s.type)?!1:!r.content.size&&e.parent.canReplace(i-1,i)?(n&&n(t.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(i,i+1)||!(s.isTextblock||po(t.doc,e.pos))?!1:(n&&n(t.tr.join(e.pos).scrollIntoView()),!0)}function JN(t,e,n,r){let s=e.nodeBefore,i=e.nodeAfter,c,d,f=s.type.spec.isolating||i.type.spec.isolating;if(!f&&oE(t,e,n))return!0;let h=!f&&e.parent.canReplace(e.index(),e.index()+1);if(h&&(c=(d=s.contentMatchAt(s.childCount)).findWrapping(i.type))&&d.matchType(c[0]||i.type).validEnd){if(n){let N=e.pos+i.nodeSize,w=ne.empty;for(let E=c.length-1;E>=0;E--)w=ne.from(c[E].create(null,w));w=ne.from(s.copy(w));let S=t.tr.step(new Bt(e.pos-1,N,e.pos,N,new fe(w,1,0),c.length,!0)),T=S.doc.resolve(N+2*c.length);T.nodeAfter&&T.nodeAfter.type==s.type&&po(S.doc,T.pos)&&S.join(T.pos),n(S.scrollIntoView())}return!0}let p=i.type.spec.isolating||r>0&&f?null:Pe.findFrom(e,1),g=p&&p.$from.blockRange(p.$to),b=g&&gi(g);if(b!=null&&b>=e.depth)return n&&n(t.tr.lift(g,b).scrollIntoView()),!0;if(h&&ci(i,"start",!0)&&ci(s,"end")){let N=s,w=[];for(;w.push(N),!N.isTextblock;)N=N.lastChild;let S=i,T=1;for(;!S.isTextblock;S=S.firstChild)T++;if(N.canReplace(N.childCount,N.childCount,S.content)){if(n){let E=ne.empty;for(let D=w.length-1;D>=0;D--)E=ne.from(w[D].copy(E));let M=t.tr.step(new Bt(e.pos-w.length,e.pos+i.nodeSize,e.pos+T,e.pos+i.nodeSize-T,new fe(E,w.length,0),0,!0));n(M.scrollIntoView())}return!0}}return!1}function KN(t){return function(e,n){let r=e.selection,s=t<0?r.$from:r.$to,i=s.depth;for(;s.node(i).isInline;){if(!i)return!1;i--}return s.node(i).isTextblock?(n&&n(e.tr.setSelection(Ee.create(e.doc,t<0?s.start(i):s.end(i)))),!0):!1}}const aE=KN(-1),iE=KN(1);function lE(t,e=null){return function(n,r){let{$from:s,$to:i}=n.selection,c=s.blockRange(i),d=c&&ag(c,t,e);return d?(r&&r(n.tr.wrap(c,d).scrollIntoView()),!0):!1}}function lv(t,e=null){return function(n,r){let s=!1;for(let i=0;i<n.selection.ranges.length&&!s;i++){let{$from:{pos:c},$to:{pos:d}}=n.selection.ranges[i];n.doc.nodesBetween(c,d,(f,h)=>{if(s)return!1;if(!(!f.isTextblock||f.hasMarkup(t,e)))if(f.type==t)s=!0;else{let p=n.doc.resolve(h),g=p.index();s=p.parent.canReplaceWith(g,g+1,t)}})}if(!s)return!1;if(r){let i=n.tr;for(let c=0;c<n.selection.ranges.length;c++){let{$from:{pos:d},$to:{pos:f}}=n.selection.ranges[c];i.setBlockType(d,f,t,e)}r(i.scrollIntoView())}return!0}}function fg(...t){return function(e,n,r){for(let s=0;s<t.length;s++)if(t[s](e,n,r))return!0;return!1}}fg(lg,BN,UN);fg(lg,VN,qN);fg(FN,GN,$N,rE);typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function cE(t,e=null){return function(n,r){let{$from:s,$to:i}=n.selection,c=s.blockRange(i);if(!c)return!1;let d=r?n.tr:null;return dE(d,c,t,e)?(r&&r(d.scrollIntoView()),!0):!1}}function dE(t,e,n,r=null){let s=!1,i=e,c=e.$from.doc;if(e.depth>=2&&e.$from.node(e.depth-1).type.compatibleContent(n)&&e.startIndex==0){if(e.$from.index(e.depth-1)==0)return!1;let f=c.resolve(e.start-2);i=new Yd(f,f,e.depth),e.endIndex<e.parent.childCount&&(e=new Yd(e.$from,c.resolve(e.$to.end(e.depth)),e.depth)),s=!0}let d=ag(i,n,r,e);return d?(t&&uE(t,e,d,s,n),!0):!1}function uE(t,e,n,r,s){let i=ne.empty;for(let p=n.length-1;p>=0;p--)i=ne.from(n[p].type.create(n[p].attrs,i));t.step(new Bt(e.start-(r?2:0),e.end,e.start,e.end,new fe(i,0,0),n.length,!0));let c=0;for(let p=0;p<n.length;p++)n[p].type==s&&(c=p+1);let d=n.length-c,f=e.start+n.length-(r?2:0),h=e.parent;for(let p=e.startIndex,g=e.endIndex,b=!0;p<g;p++,b=!1)!b&&ns(t.doc,f,d)&&(t.split(f,d),f+=2*d),f+=h.child(p).nodeSize;return t}function fE(t){return function(e,n){let{$from:r,$to:s}=e.selection,i=r.blockRange(s,c=>c.childCount>0&&c.firstChild.type==t);return i?n?r.node(i.depth-1).type==t?hE(e,n,t,i):mE(e,n,i):!0:!1}}function hE(t,e,n,r){let s=t.tr,i=r.end,c=r.$to.end(r.depth);i<c&&(s.step(new Bt(i-1,c,i,c,new fe(ne.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new Yd(s.doc.resolve(r.$from.pos),s.doc.resolve(c),r.depth));const d=gi(r);if(d==null)return!1;s.lift(r,d);let f=s.doc.resolve(s.mapping.map(i,-1)-1);return po(s.doc,f.pos)&&f.nodeBefore.type==f.nodeAfter.type&&s.join(f.pos),e(s.scrollIntoView()),!0}function mE(t,e,n){let r=t.tr,s=n.parent;for(let N=n.end,w=n.endIndex-1,S=n.startIndex;w>S;w--)N-=s.child(w).nodeSize,r.delete(N-1,N+1);let i=r.doc.resolve(n.start),c=i.nodeAfter;if(r.mapping.map(n.end)!=n.start+i.nodeAfter.nodeSize)return!1;let d=n.startIndex==0,f=n.endIndex==s.childCount,h=i.node(-1),p=i.index(-1);if(!h.canReplace(p+(d?0:1),p+1,c.content.append(f?ne.empty:ne.from(s))))return!1;let g=i.pos,b=g+c.nodeSize;return r.step(new Bt(g-(d?1:0),b+(f?1:0),g+1,b-1,new fe((d?ne.empty:ne.from(s.copy(ne.empty))).append(f?ne.empty:ne.from(s.copy(ne.empty))),d?0:1,f?0:1),d?0:1)),e(r.scrollIntoView()),!0}function pE(t){return function(e,n){let{$from:r,$to:s}=e.selection,i=r.blockRange(s,h=>h.childCount>0&&h.firstChild.type==t);if(!i)return!1;let c=i.startIndex;if(c==0)return!1;let d=i.parent,f=d.child(c-1);if(f.type!=t)return!1;if(n){let h=f.lastChild&&f.lastChild.type==d.type,p=ne.from(h?t.create():null),g=new fe(ne.from(t.create(null,ne.from(d.type.create(null,p)))),h?3:1,0),b=i.start,N=i.end;n(e.tr.step(new Bt(b-(h?3:1),N,b,N,g,1,!0)).scrollIntoView())}return!0}}const $t=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},di=function(t){let e=t.assignedSlot||t.parentNode;return e&&e.nodeType==11?e.host:e};let xp=null;const es=function(t,e,n){let r=xp||(xp=document.createRange());return r.setEnd(t,n??t.nodeValue.length),r.setStart(t,e||0),r},gE=function(){xp=null},ra=function(t,e,n,r){return n&&(cv(t,e,n,r,-1)||cv(t,e,n,r,1))},xE=/^(img|br|input|textarea|hr)$/i;function cv(t,e,n,r,s){for(var i;;){if(t==n&&e==r)return!0;if(e==(s<0?0:Xn(t))){let c=t.parentNode;if(!c||c.nodeType!=1||ec(t)||xE.test(t.nodeName)||t.contentEditable=="false")return!1;e=$t(t)+(s<0?0:1),t=c}else if(t.nodeType==1){let c=t.childNodes[e+(s<0?-1:0)];if(c.nodeType==1&&c.contentEditable=="false")if(!((i=c.pmViewDesc)===null||i===void 0)&&i.ignoreForSelection)e+=s;else return!1;else t=c,e=s<0?Xn(t):0}else return!1}}function Xn(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function bE(t,e){for(;;){if(t.nodeType==3&&e)return t;if(t.nodeType==1&&e>0){if(t.contentEditable=="false")return null;t=t.childNodes[e-1],e=Xn(t)}else if(t.parentNode&&!ec(t))e=$t(t),t=t.parentNode;else return null}}function yE(t,e){for(;;){if(t.nodeType==3&&e<t.nodeValue.length)return t;if(t.nodeType==1&&e<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[e],e=0}else if(t.parentNode&&!ec(t))e=$t(t)+1,t=t.parentNode;else return null}}function vE(t,e,n){for(let r=e==0,s=e==Xn(t);r||s;){if(t==n)return!0;let i=$t(t);if(t=t.parentNode,!t)return!1;r=r&&i==0,s=s&&i==Xn(t)}}function ec(t){let e;for(let n=t;n&&!(e=n.pmViewDesc);n=n.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const Yu=function(t){return t.focusNode&&ra(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)};function Fo(t,e){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}function NE(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function CE(t,e,n){if(t.caretPositionFromPoint)try{let r=t.caretPositionFromPoint(e,n);if(r)return{node:r.offsetNode,offset:Math.min(Xn(r.offsetNode),r.offset)}}catch{}if(t.caretRangeFromPoint){let r=t.caretRangeFromPoint(e,n);if(r)return{node:r.startContainer,offset:Math.min(Xn(r.startContainer),r.startOffset)}}}const Ar=typeof navigator<"u"?navigator:null,dv=typeof document<"u"?document:null,go=Ar&&Ar.userAgent||"",bp=/Edge\/(\d+)/.exec(go),YN=/MSIE \d/.exec(go),yp=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(go),Tn=!!(YN||yp||bp),oo=YN?document.documentMode:yp?+yp[1]:bp?+bp[1]:0,Zn=!Tn&&/gecko\/(\d+)/i.test(go);Zn&&+(/Firefox\/(\d+)/.exec(go)||[0,0])[1];const vp=!Tn&&/Chrome\/(\d+)/.exec(go),Zt=!!vp,WN=vp?+vp[1]:0,un=!Tn&&!!Ar&&/Apple Computer/.test(Ar.vendor),ui=un&&(/Mobile\/\w+/.test(go)||!!Ar&&Ar.maxTouchPoints>2),Wn=ui||(Ar?/Mac/.test(Ar.platform):!1),wE=Ar?/Win/.test(Ar.platform):!1,ts=/Android \d/.test(go),tc=!!dv&&"webkitFontSmoothing"in dv.documentElement.style,SE=tc?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function TE(t){let e=t.defaultView&&t.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function Yr(t,e){return typeof t=="number"?t:t[e]}function kE(t){let e=t.getBoundingClientRect(),n=e.width/t.offsetWidth||1,r=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*n,top:e.top,bottom:e.top+t.clientHeight*r}}function uv(t,e,n){let r=t.someProp("scrollThreshold")||0,s=t.someProp("scrollMargin")||5,i=t.dom.ownerDocument;for(let c=n||t.dom;c;){if(c.nodeType!=1){c=di(c);continue}let d=c,f=d==i.body,h=f?TE(i):kE(d),p=0,g=0;if(e.top<h.top+Yr(r,"top")?g=-(h.top-e.top+Yr(s,"top")):e.bottom>h.bottom-Yr(r,"bottom")&&(g=e.bottom-e.top>h.bottom-h.top?e.top+Yr(s,"top")-h.top:e.bottom-h.bottom+Yr(s,"bottom")),e.left<h.left+Yr(r,"left")?p=-(h.left-e.left+Yr(s,"left")):e.right>h.right-Yr(r,"right")&&(p=e.right-h.right+Yr(s,"right")),p||g)if(f)i.defaultView.scrollBy(p,g);else{let N=d.scrollLeft,w=d.scrollTop;g&&(d.scrollTop+=g),p&&(d.scrollLeft+=p);let S=d.scrollLeft-N,T=d.scrollTop-w;e={left:e.left-S,top:e.top-T,right:e.right-S,bottom:e.bottom-T}}let b=f?"fixed":getComputedStyle(c).position;if(/^(fixed|sticky)$/.test(b))break;c=b=="absolute"?c.offsetParent:di(c)}}function EE(t){let e=t.dom.getBoundingClientRect(),n=Math.max(0,e.top),r,s;for(let i=(e.left+e.right)/2,c=n+1;c<Math.min(innerHeight,e.bottom);c+=5){let d=t.root.elementFromPoint(i,c);if(!d||d==t.dom||!t.dom.contains(d))continue;let f=d.getBoundingClientRect();if(f.top>=n-20){r=d,s=f.top;break}}return{refDOM:r,refTop:s,stack:XN(t.dom)}}function XN(t){let e=[],n=t.ownerDocument;for(let r=t;r&&(e.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),t!=n);r=di(r));return e}function AE({refDOM:t,refTop:e,stack:n}){let r=t?t.getBoundingClientRect().top:0;QN(n,r==0?0:r-e)}function QN(t,e){for(let n=0;n<t.length;n++){let{dom:r,top:s,left:i}=t[n];r.scrollTop!=s+e&&(r.scrollTop=s+e),r.scrollLeft!=i&&(r.scrollLeft=i)}}let Ja=null;function jE(t){if(t.setActive)return t.setActive();if(Ja)return t.focus(Ja);let e=XN(t);t.focus(Ja==null?{get preventScroll(){return Ja={preventScroll:!0},!0}}:void 0),Ja||(Ja=!1,QN(e,0))}function ZN(t,e){let n,r=2e8,s,i=0,c=e.top,d=e.top,f,h;for(let p=t.firstChild,g=0;p;p=p.nextSibling,g++){let b;if(p.nodeType==1)b=p.getClientRects();else if(p.nodeType==3)b=es(p).getClientRects();else continue;for(let N=0;N<b.length;N++){let w=b[N];if(w.top<=c&&w.bottom>=d){c=Math.max(w.bottom,c),d=Math.min(w.top,d);let S=w.left>e.left?w.left-e.left:w.right<e.left?e.left-w.right:0;if(S<r){n=p,r=S,s=S&&n.nodeType==3?{left:w.right<e.left?w.right:w.left,top:e.top}:e,p.nodeType==1&&S&&(i=g+(e.left>=(w.left+w.right)/2?1:0));continue}}else w.top>e.top&&!f&&w.left<=e.left&&w.right>=e.left&&(f=p,h={left:Math.max(w.left,Math.min(w.right,e.left)),top:w.top});!n&&(e.left>=w.right&&e.top>=w.top||e.left>=w.left&&e.top>=w.bottom)&&(i=g+1)}}return!n&&f&&(n=f,s=h,r=0),n&&n.nodeType==3?ME(n,s):!n||r&&n.nodeType==1?{node:t,offset:i}:ZN(n,s)}function ME(t,e){let n=t.nodeValue.length,r=document.createRange();for(let s=0;s<n;s++){r.setEnd(t,s+1),r.setStart(t,s);let i=Ys(r,1);if(i.top!=i.bottom&&hg(e,i))return{node:t,offset:s+(e.left>=(i.left+i.right)/2?1:0)}}return{node:t,offset:0}}function hg(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function RE(t,e){let n=t.parentNode;return n&&/^li$/i.test(n.nodeName)&&e.left<t.getBoundingClientRect().left?n:t}function IE(t,e,n){let{node:r,offset:s}=ZN(e,n),i=-1;if(r.nodeType==1&&!r.firstChild){let c=r.getBoundingClientRect();i=c.left!=c.right&&n.left>(c.left+c.right)/2?1:-1}return t.docView.posFromDOM(r,s,i)}function DE(t,e,n,r){let s=-1;for(let i=e,c=!1;i!=t.dom;){let d=t.docView.nearestDesc(i,!0),f;if(!d)return null;if(d.dom.nodeType==1&&(d.node.isBlock&&d.parent||!d.contentDOM)&&((f=d.dom.getBoundingClientRect()).width||f.height)&&(d.node.isBlock&&d.parent&&!/^T(R|BODY|HEAD|FOOT)$/.test(d.dom.nodeName)&&(!c&&f.left>r.left||f.top>r.top?s=d.posBefore:(!c&&f.right<r.left||f.bottom<r.top)&&(s=d.posAfter),c=!0),!d.contentDOM&&s<0&&!d.node.isText))return(d.node.isBlock?r.top<(f.top+f.bottom)/2:r.left<(f.left+f.right)/2)?d.posBefore:d.posAfter;i=d.dom.parentNode}return s>-1?s:t.docView.posFromDOM(e,n,-1)}function eC(t,e,n){let r=t.childNodes.length;if(r&&n.top<n.bottom)for(let s=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-n.top)/(n.bottom-n.top))-2)),i=s;;){let c=t.childNodes[i];if(c.nodeType==1){let d=c.getClientRects();for(let f=0;f<d.length;f++){let h=d[f];if(hg(e,h))return eC(c,e,h)}}if((i=(i+1)%r)==s)break}return t}function _E(t,e){let n=t.dom.ownerDocument,r,s=0,i=CE(n,e.left,e.top);i&&({node:r,offset:s}=i);let c=(t.root.elementFromPoint?t.root:n).elementFromPoint(e.left,e.top),d;if(!c||!t.dom.contains(c.nodeType!=1?c.parentNode:c)){let h=t.dom.getBoundingClientRect();if(!hg(e,h)||(c=eC(t.dom,e,h),!c))return null}if(un)for(let h=c;r&&h;h=di(h))h.draggable&&(r=void 0);if(c=RE(c,e),r){if(Zn&&r.nodeType==1&&(s=Math.min(s,r.childNodes.length),s<r.childNodes.length)){let p=r.childNodes[s],g;p.nodeName=="IMG"&&(g=p.getBoundingClientRect()).right<=e.left&&g.bottom>e.top&&s++}let h;tc&&s&&r.nodeType==1&&(h=r.childNodes[s-1]).nodeType==1&&h.contentEditable=="false"&&h.getBoundingClientRect().top>=e.top&&s--,r==t.dom&&s==r.childNodes.length-1&&r.lastChild.nodeType==1&&e.top>r.lastChild.getBoundingClientRect().bottom?d=t.state.doc.content.size:(s==0||r.nodeType!=1||r.childNodes[s-1].nodeName!="BR")&&(d=DE(t,r,s,e))}d==null&&(d=IE(t,c,e));let f=t.docView.nearestDesc(c,!0);return{pos:d,inside:f?f.posAtStart-f.border:-1}}function fv(t){return t.top<t.bottom||t.left<t.right}function Ys(t,e){let n=t.getClientRects();if(n.length){let r=n[e<0?0:n.length-1];if(fv(r))return r}return Array.prototype.find.call(n,fv)||t.getBoundingClientRect()}const PE=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function tC(t,e,n){let{node:r,offset:s,atom:i}=t.docView.domFromPos(e,n<0?-1:1),c=tc||Zn;if(r.nodeType==3)if(c&&(PE.test(r.nodeValue)||(n<0?!s:s==r.nodeValue.length))){let f=Ys(es(r,s,s),n);if(Zn&&s&&/\s/.test(r.nodeValue[s-1])&&s<r.nodeValue.length){let h=Ys(es(r,s-1,s-1),-1);if(h.top==f.top){let p=Ys(es(r,s,s+1),-1);if(p.top!=f.top)return yl(p,p.left<h.left)}}return f}else{let f=s,h=s,p=n<0?1:-1;return n<0&&!s?(h++,p=-1):n>=0&&s==r.nodeValue.length?(f--,p=1):n<0?f--:h++,yl(Ys(es(r,f,h),p),p<0)}if(!t.state.doc.resolve(e-(i||0)).parent.inlineContent){if(i==null&&s&&(n<0||s==Xn(r))){let f=r.childNodes[s-1];if(f.nodeType==1)return zm(f.getBoundingClientRect(),!1)}if(i==null&&s<Xn(r)){let f=r.childNodes[s];if(f.nodeType==1)return zm(f.getBoundingClientRect(),!0)}return zm(r.getBoundingClientRect(),n>=0)}if(i==null&&s&&(n<0||s==Xn(r))){let f=r.childNodes[s-1],h=f.nodeType==3?es(f,Xn(f)-(c?0:1)):f.nodeType==1&&(f.nodeName!="BR"||!f.nextSibling)?f:null;if(h)return yl(Ys(h,1),!1)}if(i==null&&s<Xn(r)){let f=r.childNodes[s];for(;f.pmViewDesc&&f.pmViewDesc.ignoreForCoords;)f=f.nextSibling;let h=f?f.nodeType==3?es(f,0,c?0:1):f.nodeType==1?f:null:null;if(h)return yl(Ys(h,-1),!0)}return yl(Ys(r.nodeType==3?es(r):r,-n),n>=0)}function yl(t,e){if(t.width==0)return t;let n=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:n,right:n}}function zm(t,e){if(t.height==0)return t;let n=e?t.top:t.bottom;return{top:n,bottom:n,left:t.left,right:t.right}}function nC(t,e,n){let r=t.state,s=t.root.activeElement;r!=e&&t.updateState(e),s!=t.dom&&t.focus();try{return n()}finally{r!=e&&t.updateState(r),s!=t.dom&&s&&s.focus()}}function LE(t,e,n){let r=e.selection,s=n=="up"?r.$from:r.$to;return nC(t,e,()=>{let{node:i}=t.docView.domFromPos(s.pos,n=="up"?-1:1);for(;;){let d=t.docView.nearestDesc(i,!0);if(!d)break;if(d.node.isBlock){i=d.contentDOM||d.dom;break}i=d.dom.parentNode}let c=tC(t,s.pos,1);for(let d=i.firstChild;d;d=d.nextSibling){let f;if(d.nodeType==1)f=d.getClientRects();else if(d.nodeType==3)f=es(d,0,d.nodeValue.length).getClientRects();else continue;for(let h=0;h<f.length;h++){let p=f[h];if(p.bottom>p.top+1&&(n=="up"?c.top-p.top>(p.bottom-c.top)*2:p.bottom-c.bottom>(c.bottom-p.top)*2))return!1}}return!0})}const OE=/[\u0590-\u08ac]/;function BE(t,e,n){let{$head:r}=e.selection;if(!r.parent.isTextblock)return!1;let s=r.parentOffset,i=!s,c=s==r.parent.content.size,d=t.domSelection();return d?!OE.test(r.parent.textContent)||!d.modify?n=="left"||n=="backward"?i:c:nC(t,e,()=>{let{focusNode:f,focusOffset:h,anchorNode:p,anchorOffset:g}=t.domSelectionRange(),b=d.caretBidiLevel;d.modify("move",n,"character");let N=r.depth?t.docView.domAfterPos(r.before()):t.dom,{focusNode:w,focusOffset:S}=t.domSelectionRange(),T=w&&!N.contains(w.nodeType==1?w:w.parentNode)||f==w&&h==S;try{d.collapse(p,g),f&&(f!=p||h!=g)&&d.extend&&d.extend(f,h)}catch{}return b!=null&&(d.caretBidiLevel=b),T}):r.pos==r.start()||r.pos==r.end()}let hv=null,mv=null,pv=!1;function zE(t,e,n){return hv==e&&mv==n?pv:(hv=e,mv=n,pv=n=="up"||n=="down"?LE(t,e,n):BE(t,e,n))}const er=0,gv=1,Go=2,jr=3;class nc{constructor(e,n,r,s){this.parent=e,this.children=n,this.dom=r,this.contentDOM=s,this.dirty=er,r.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,n,r){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let n=0;n<this.children.length;n++)e+=this.children[n].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let n=0,r=this.posAtStart;;n++){let s=this.children[n];if(s==e)return r;r+=s.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,n,r){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(r<0){let i,c;if(e==this.contentDOM)i=e.childNodes[n-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;i=e.previousSibling}for(;i&&!((c=i.pmViewDesc)&&c.parent==this);)i=i.previousSibling;return i?this.posBeforeChild(c)+c.size:this.posAtStart}else{let i,c;if(e==this.contentDOM)i=e.childNodes[n];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;i=e.nextSibling}for(;i&&!((c=i.pmViewDesc)&&c.parent==this);)i=i.nextSibling;return i?this.posBeforeChild(c):this.posAtEnd}let s;if(e==this.dom&&this.contentDOM)s=n>$t(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))s=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let i=e;;i=i.parentNode){if(i==this.dom){s=!1;break}if(i.previousSibling)break}if(s==null&&n==e.childNodes.length)for(let i=e;;i=i.parentNode){if(i==this.dom){s=!0;break}if(i.nextSibling)break}}return s??r>0?this.posAtEnd:this.posAtStart}nearestDesc(e,n=!1){for(let r=!0,s=e;s;s=s.parentNode){let i=this.getDesc(s),c;if(i&&(!n||i.node))if(r&&(c=i.nodeDOM)&&!(c.nodeType==1?c.contains(e.nodeType==1?e:e.parentNode):c==e))r=!1;else return i}}getDesc(e){let n=e.pmViewDesc;for(let r=n;r;r=r.parent)if(r==this)return n}posFromDOM(e,n,r){for(let s=e;s;s=s.parentNode){let i=this.getDesc(s);if(i)return i.localPosFromDOM(e,n,r)}return-1}descAt(e){for(let n=0,r=0;n<this.children.length;n++){let s=this.children[n],i=r+s.size;if(r==e&&i!=r){for(;!s.border&&s.children.length;)for(let c=0;c<s.children.length;c++){let d=s.children[c];if(d.size){s=d;break}}return s}if(e<i)return s.descAt(e-r-s.border);r=i}}domFromPos(e,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let r=0,s=0;for(let i=0;r<this.children.length;r++){let c=this.children[r],d=i+c.size;if(d>e||c instanceof sC){s=e-i;break}i=d}if(s)return this.children[r].domFromPos(s-this.children[r].border,n);for(let i;r&&!(i=this.children[r-1]).size&&i instanceof rC&&i.side>=0;r--);if(n<=0){let i,c=!0;for(;i=r?this.children[r-1]:null,!(!i||i.dom.parentNode==this.contentDOM);r--,c=!1);return i&&n&&c&&!i.border&&!i.domAtom?i.domFromPos(i.size,n):{node:this.contentDOM,offset:i?$t(i.dom)+1:0}}else{let i,c=!0;for(;i=r<this.children.length?this.children[r]:null,!(!i||i.dom.parentNode==this.contentDOM);r++,c=!1);return i&&c&&!i.border&&!i.domAtom?i.domFromPos(0,n):{node:this.contentDOM,offset:i?$t(i.dom):this.contentDOM.childNodes.length}}}parseRange(e,n,r=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let s=-1,i=-1;for(let c=r,d=0;;d++){let f=this.children[d],h=c+f.size;if(s==-1&&e<=h){let p=c+f.border;if(e>=p&&n<=h-f.border&&f.node&&f.contentDOM&&this.contentDOM.contains(f.contentDOM))return f.parseRange(e,n,p);e=c;for(let g=d;g>0;g--){let b=this.children[g-1];if(b.size&&b.dom.parentNode==this.contentDOM&&!b.emptyChildAt(1)){s=$t(b.dom)+1;break}e-=b.size}s==-1&&(s=0)}if(s>-1&&(h>n||d==this.children.length-1)){n=h;for(let p=d+1;p<this.children.length;p++){let g=this.children[p];if(g.size&&g.dom.parentNode==this.contentDOM&&!g.emptyChildAt(-1)){i=$t(g.dom);break}n+=g.size}i==-1&&(i=this.contentDOM.childNodes.length);break}c=h}return{node:this.contentDOM,from:e,to:n,fromOffset:s,toOffset:i}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[e<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(e)}domAfterPos(e){let{node:n,offset:r}=this.domFromPos(e,0);if(n.nodeType!=1||r==n.childNodes.length)throw new RangeError("No node after pos "+e);return n.childNodes[r]}setSelection(e,n,r,s=!1){let i=Math.min(e,n),c=Math.max(e,n);for(let N=0,w=0;N<this.children.length;N++){let S=this.children[N],T=w+S.size;if(i>w&&c<T)return S.setSelection(e-w-S.border,n-w-S.border,r,s);w=T}let d=this.domFromPos(e,e?-1:1),f=n==e?d:this.domFromPos(n,n?-1:1),h=r.root.getSelection(),p=r.domSelectionRange(),g=!1;if((Zn||un)&&e==n){let{node:N,offset:w}=d;if(N.nodeType==3){if(g=!!(w&&N.nodeValue[w-1]==`
`),g&&w==N.nodeValue.length)for(let S=N,T;S;S=S.parentNode){if(T=S.nextSibling){T.nodeName=="BR"&&(d=f={node:T.parentNode,offset:$t(T)+1});break}let E=S.pmViewDesc;if(E&&E.node&&E.node.isBlock)break}}else{let S=N.childNodes[w-1];g=S&&(S.nodeName=="BR"||S.contentEditable=="false")}}if(Zn&&p.focusNode&&p.focusNode!=f.node&&p.focusNode.nodeType==1){let N=p.focusNode.childNodes[p.focusOffset];N&&N.contentEditable=="false"&&(s=!0)}if(!(s||g&&un)&&ra(d.node,d.offset,p.anchorNode,p.anchorOffset)&&ra(f.node,f.offset,p.focusNode,p.focusOffset))return;let b=!1;if((h.extend||e==n)&&!(g&&Zn)){h.collapse(d.node,d.offset);try{e!=n&&h.extend(f.node,f.offset),b=!0}catch{}}if(!b){if(e>n){let w=d;d=f,f=w}let N=document.createRange();N.setEnd(f.node,f.offset),N.setStart(d.node,d.offset),h.removeAllRanges(),h.addRange(N)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,n){for(let r=0,s=0;s<this.children.length;s++){let i=this.children[s],c=r+i.size;if(r==c?e<=c&&n>=r:e<c&&n>r){let d=r+i.border,f=c-i.border;if(e>=d&&n<=f){this.dirty=e==r||n==c?Go:gv,e==d&&n==f&&(i.contentLost||i.dom.parentNode!=this.contentDOM)?i.dirty=jr:i.markDirty(e-d,n-d);return}else i.dirty=i.dom==i.contentDOM&&i.dom.parentNode==this.contentDOM&&!i.children.length?Go:jr}r=c}this.dirty=Go}markParentsDirty(){let e=1;for(let n=this.parent;n;n=n.parent,e++){let r=e==1?Go:gv;n.dirty<r&&(n.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(e){return!1}}class rC extends nc{constructor(e,n,r,s){let i,c=n.type.toDOM;if(typeof c=="function"&&(c=c(r,()=>{if(!i)return s;if(i.parent)return i.parent.posBeforeChild(i)})),!n.type.spec.raw){if(c.nodeType!=1){let d=document.createElement("span");d.appendChild(c),c=d}c.contentEditable="false",c.classList.add("ProseMirror-widget")}super(e,[],c,null),this.widget=n,this.widget=n,i=this}matchesWidget(e){return this.dirty==er&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let n=this.widget.spec.stopEvent;return n?n(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class UE extends nc{constructor(e,n,r,s){super(e,[],n,null),this.textDOM=r,this.text=s}get size(){return this.text.length}localPosFromDOM(e,n){return e!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class sa extends nc{constructor(e,n,r,s,i){super(e,[],r,s),this.mark=n,this.spec=i}static create(e,n,r,s){let i=s.nodeViews[n.type.name],c=i&&i(n,s,r);return(!c||!c.dom)&&(c=la.renderSpec(document,n.type.spec.toDOM(n,r),null,n.attrs)),new sa(e,n,c.dom,c.contentDOM||c.dom,c)}parseRule(){return this.dirty&jr||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=jr&&this.mark.eq(e)}markDirty(e,n){if(super.markDirty(e,n),this.dirty!=er){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=er}}slice(e,n,r){let s=sa.create(this.parent,this.mark,!0,r),i=this.children,c=this.size;n<c&&(i=Cp(i,n,c,r)),e>0&&(i=Cp(i,0,e,r));for(let d=0;d<i.length;d++)i[d].parent=s;return s.children=i,s}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class ao extends nc{constructor(e,n,r,s,i,c,d,f,h){super(e,[],i,c),this.node=n,this.outerDeco=r,this.innerDeco=s,this.nodeDOM=d}static create(e,n,r,s,i,c){let d=i.nodeViews[n.type.name],f,h=d&&d(n,i,()=>{if(!f)return c;if(f.parent)return f.parent.posBeforeChild(f)},r,s),p=h&&h.dom,g=h&&h.contentDOM;if(n.isText){if(!p)p=document.createTextNode(n.text);else if(p.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else p||({dom:p,contentDOM:g}=la.renderSpec(document,n.type.spec.toDOM(n),null,n.attrs));!g&&!n.isText&&p.nodeName!="BR"&&(p.hasAttribute("contenteditable")||(p.contentEditable="false"),n.type.spec.draggable&&(p.draggable=!0));let b=p;return p=iC(p,r,n),h?f=new HE(e,n,r,s,p,g||null,b,h,i,c+1):n.isText?new Wu(e,n,r,s,p,b,i):new ao(e,n,r,s,p,g||null,b,i,c+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let r=this.children[n];if(this.dom.contains(r.dom.parentNode)){e.contentElement=r.dom.parentNode;break}}e.contentElement||(e.getContent=()=>ne.empty)}return e}matchesNode(e,n,r){return this.dirty==er&&e.eq(this.node)&&Xd(n,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,n){let r=this.node.inlineContent,s=n,i=e.composing?this.localCompositionInfo(e,n):null,c=i&&i.pos>-1?i:null,d=i&&i.pos<0,f=new qE(this,c&&c.node,e);$E(this.node,this.innerDeco,(h,p,g)=>{h.spec.marks?f.syncToMarks(h.spec.marks,r,e):h.type.side>=0&&!g&&f.syncToMarks(p==this.node.childCount?rt.none:this.node.child(p).marks,r,e),f.placeWidget(h,e,s)},(h,p,g,b)=>{f.syncToMarks(h.marks,r,e);let N;f.findNodeMatch(h,p,g,b)||d&&e.state.selection.from>s&&e.state.selection.to<s+h.nodeSize&&(N=f.findIndexWithChild(i.node))>-1&&f.updateNodeAt(h,p,g,N,e)||f.updateNextNode(h,p,g,e,b,s)||f.addNode(h,p,g,e,s),s+=h.nodeSize}),f.syncToMarks([],r,e),this.node.isTextblock&&f.addTextblockHacks(),f.destroyRest(),(f.changed||this.dirty==Go)&&(c&&this.protectLocalComposition(e,c),oC(this.contentDOM,this.children,e),ui&&JE(this.dom))}localCompositionInfo(e,n){let{from:r,to:s}=e.state.selection;if(!(e.state.selection instanceof Ee)||r<n||s>n+this.node.content.size)return null;let i=e.input.compositionNode;if(!i||!this.dom.contains(i.parentNode))return null;if(this.node.inlineContent){let c=i.nodeValue,d=KE(this.node.content,c,r-n,s-n);return d<0?null:{node:i,pos:d,text:c}}else return{node:i,pos:-1,text:""}}protectLocalComposition(e,{node:n,pos:r,text:s}){if(this.getDesc(n))return;let i=n;for(;i.parentNode!=this.contentDOM;i=i.parentNode){for(;i.previousSibling;)i.parentNode.removeChild(i.previousSibling);for(;i.nextSibling;)i.parentNode.removeChild(i.nextSibling);i.pmViewDesc&&(i.pmViewDesc=void 0)}let c=new UE(this,i,n,s);e.input.compositionNodes.push(c),this.children=Cp(this.children,r,r+s.length,e,c)}update(e,n,r,s){return this.dirty==jr||!e.sameMarkup(this.node)?!1:(this.updateInner(e,n,r,s),!0)}updateInner(e,n,r,s){this.updateOuterDeco(n),this.node=e,this.innerDeco=r,this.contentDOM&&this.updateChildren(s,this.posAtStart),this.dirty=er}updateOuterDeco(e){if(Xd(e,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=aC(this.dom,this.nodeDOM,Np(this.outerDeco,this.node,n),Np(e,this.node,n)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.nodeDOM.draggable=!0))}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.nodeDOM.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function xv(t,e,n,r,s){iC(r,e,t);let i=new ao(void 0,t,e,n,r,r,r,s,0);return i.contentDOM&&i.updateChildren(s,0),i}class Wu extends ao{constructor(e,n,r,s,i,c,d){super(e,n,r,s,i,null,c,d,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,n,r,s){return this.dirty==jr||this.dirty!=er&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=er||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,s.trackWrites==this.nodeDOM&&(s.trackWrites=null)),this.node=e,this.dirty=er,!0)}inParent(){let e=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,n,r){return e==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(e,n,r)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,n,r){let s=this.node.cut(e,n),i=document.createTextNode(s.text);return new Wu(this.parent,s,this.outerDeco,this.innerDeco,i,i,r)}markDirty(e,n){super.markDirty(e,n),this.dom!=this.nodeDOM&&(e==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=jr)}get domAtom(){return!1}isText(e){return this.node.text==e}}class sC extends nc{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==er&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class HE extends ao{constructor(e,n,r,s,i,c,d,f,h,p){super(e,n,r,s,i,c,d,h,p),this.spec=f}update(e,n,r,s){if(this.dirty==jr)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let i=this.spec.update(e,n,r);return i&&this.updateInner(e,n,r,s),i}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,n,r,s)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,n,r,s){this.spec.setSelection?this.spec.setSelection(e,n,r.root):super.setSelection(e,n,r,s)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function oC(t,e,n){let r=t.firstChild,s=!1;for(let i=0;i<e.length;i++){let c=e[i],d=c.dom;if(d.parentNode==t){for(;d!=r;)r=bv(r),s=!0;r=r.nextSibling}else s=!0,t.insertBefore(d,r);if(c instanceof sa){let f=r?r.previousSibling:t.lastChild;oC(c.contentDOM,c.children,n),r=f?f.nextSibling:t.firstChild}}for(;r;)r=bv(r),s=!0;s&&n.trackWrites==t&&(n.trackWrites=null)}const Al=function(t){t&&(this.nodeName=t)};Al.prototype=Object.create(null);const $o=[new Al];function Np(t,e,n){if(t.length==0)return $o;let r=n?$o[0]:new Al,s=[r];for(let i=0;i<t.length;i++){let c=t[i].type.attrs;if(c){c.nodeName&&s.push(r=new Al(c.nodeName));for(let d in c){let f=c[d];f!=null&&(n&&s.length==1&&s.push(r=new Al(e.isInline?"span":"div")),d=="class"?r.class=(r.class?r.class+" ":"")+f:d=="style"?r.style=(r.style?r.style+";":"")+f:d!="nodeName"&&(r[d]=f))}}}return s}function aC(t,e,n,r){if(n==$o&&r==$o)return e;let s=e;for(let i=0;i<r.length;i++){let c=r[i],d=n[i];if(i){let f;d&&d.nodeName==c.nodeName&&s!=t&&(f=s.parentNode)&&f.nodeName.toLowerCase()==c.nodeName||(f=document.createElement(c.nodeName),f.pmIsDeco=!0,f.appendChild(s),d=$o[0]),s=f}VE(s,d||$o[0],c)}return s}function VE(t,e,n){for(let r in e)r!="class"&&r!="style"&&r!="nodeName"&&!(r in n)&&t.removeAttribute(r);for(let r in n)r!="class"&&r!="style"&&r!="nodeName"&&n[r]!=e[r]&&t.setAttribute(r,n[r]);if(e.class!=n.class){let r=e.class?e.class.split(" ").filter(Boolean):[],s=n.class?n.class.split(" ").filter(Boolean):[];for(let i=0;i<r.length;i++)s.indexOf(r[i])==-1&&t.classList.remove(r[i]);for(let i=0;i<s.length;i++)r.indexOf(s[i])==-1&&t.classList.add(s[i]);t.classList.length==0&&t.removeAttribute("class")}if(e.style!=n.style){if(e.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,s;for(;s=r.exec(e.style);)t.style.removeProperty(s[1])}n.style&&(t.style.cssText+=n.style)}}function iC(t,e,n){return aC(t,t,$o,Np(e,n,t.nodeType!=1))}function Xd(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].type.eq(e[n].type))return!1;return!0}function bv(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class qE{constructor(e,n,r){this.lock=n,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=FE(e.node.content,e)}destroyBetween(e,n){if(e!=n){for(let r=e;r<n;r++)this.top.children[r].destroy();this.top.children.splice(e,n-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,n,r){let s=0,i=this.stack.length>>1,c=Math.min(i,e.length);for(;s<c&&(s==i-1?this.top:this.stack[s+1<<1]).matchesMark(e[s])&&e[s].type.spec.spanning!==!1;)s++;for(;s<i;)this.destroyRest(),this.top.dirty=er,this.index=this.stack.pop(),this.top=this.stack.pop(),i--;for(;i<e.length;){this.stack.push(this.top,this.index+1);let d=-1;for(let f=this.index;f<Math.min(this.index+3,this.top.children.length);f++){let h=this.top.children[f];if(h.matchesMark(e[i])&&!this.isLocked(h.dom)){d=f;break}}if(d>-1)d>this.index&&(this.changed=!0,this.destroyBetween(this.index,d)),this.top=this.top.children[this.index];else{let f=sa.create(this.top,e[i],n,r);this.top.children.splice(this.index,0,f),this.top=f,this.changed=!0}this.index=0,i++}}findNodeMatch(e,n,r,s){let i=-1,c;if(s>=this.preMatch.index&&(c=this.preMatch.matches[s-this.preMatch.index]).parent==this.top&&c.matchesNode(e,n,r))i=this.top.children.indexOf(c,this.index);else for(let d=this.index,f=Math.min(this.top.children.length,d+5);d<f;d++){let h=this.top.children[d];if(h.matchesNode(e,n,r)&&!this.preMatch.matched.has(h)){i=d;break}}return i<0?!1:(this.destroyBetween(this.index,i),this.index++,!0)}updateNodeAt(e,n,r,s,i){let c=this.top.children[s];return c.dirty==jr&&c.dom==c.contentDOM&&(c.dirty=Go),c.update(e,n,r,i)?(this.destroyBetween(this.index,s),this.index++,!0):!1}findIndexWithChild(e){for(;;){let n=e.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let r=e.pmViewDesc;if(r){for(let s=this.index;s<this.top.children.length;s++)if(this.top.children[s]==r)return s}return-1}e=n}}updateNextNode(e,n,r,s,i,c){for(let d=this.index;d<this.top.children.length;d++){let f=this.top.children[d];if(f instanceof ao){let h=this.preMatch.matched.get(f);if(h!=null&&h!=i)return!1;let p=f.dom,g,b=this.isLocked(p)&&!(e.isText&&f.node&&f.node.isText&&f.nodeDOM.nodeValue==e.text&&f.dirty!=jr&&Xd(n,f.outerDeco));if(!b&&f.update(e,n,r,s))return this.destroyBetween(this.index,d),f.dom!=p&&(this.changed=!0),this.index++,!0;if(!b&&(g=this.recreateWrapper(f,e,n,r,s,c)))return this.destroyBetween(this.index,d),this.top.children[this.index]=g,g.contentDOM&&(g.dirty=Go,g.updateChildren(s,c+1),g.dirty=er),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,n,r,s,i,c){if(e.dirty||n.isAtom||!e.children.length||!e.node.content.eq(n.content)||!Xd(r,e.outerDeco)||!s.eq(e.innerDeco))return null;let d=ao.create(this.top,n,r,s,i,c);if(d.contentDOM){d.children=e.children,e.children=[];for(let f of d.children)f.parent=d}return e.destroy(),d}addNode(e,n,r,s,i){let c=ao.create(this.top,e,n,r,s,i);c.contentDOM&&c.updateChildren(s,i+1),this.top.children.splice(this.index++,0,c),this.changed=!0}placeWidget(e,n,r){let s=this.index<this.top.children.length?this.top.children[this.index]:null;if(s&&s.matchesWidget(e)&&(e==s.widget||!s.widget.type.toDOM.parentNode))this.index++;else{let i=new rC(this.top,e,n,r);this.top.children.splice(this.index++,0,i),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],n=this.top;for(;e instanceof sa;)n=e,e=n.children[n.children.length-1];(!e||!(e instanceof Wu)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((un||Zt)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(e,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(e))this.index++;else{let r=document.createElement(e);e=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),e=="BR"&&(r.className="ProseMirror-trailingBreak");let s=new sC(this.top,[],r,null);n!=this.top?n.children.push(s):n.children.splice(this.index++,0,s),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function FE(t,e){let n=e,r=n.children.length,s=t.childCount,i=new Map,c=[];e:for(;s>0;){let d;for(;;)if(r){let h=n.children[r-1];if(h instanceof sa)n=h,r=h.children.length;else{d=h,r--;break}}else{if(n==e)break e;r=n.parent.children.indexOf(n),n=n.parent}let f=d.node;if(f){if(f!=t.child(s-1))break;--s,i.set(d,s),c.push(d)}}return{index:s,matched:i,matches:c.reverse()}}function GE(t,e){return t.type.side-e.type.side}function $E(t,e,n,r){let s=e.locals(t),i=0;if(s.length==0){for(let h=0;h<t.childCount;h++){let p=t.child(h);r(p,s,e.forChild(i,p),h),i+=p.nodeSize}return}let c=0,d=[],f=null;for(let h=0;;){let p,g;for(;c<s.length&&s[c].to==i;){let T=s[c++];T.widget&&(p?(g||(g=[p])).push(T):p=T)}if(p)if(g){g.sort(GE);for(let T=0;T<g.length;T++)n(g[T],h,!!f)}else n(p,h,!!f);let b,N;if(f)N=-1,b=f,f=null;else if(h<t.childCount)N=h,b=t.child(h++);else break;for(let T=0;T<d.length;T++)d[T].to<=i&&d.splice(T--,1);for(;c<s.length&&s[c].from<=i&&s[c].to>i;)d.push(s[c++]);let w=i+b.nodeSize;if(b.isText){let T=w;c<s.length&&s[c].from<T&&(T=s[c].from);for(let E=0;E<d.length;E++)d[E].to<T&&(T=d[E].to);T<w&&(f=b.cut(T-i),b=b.cut(0,T-i),w=T,N=-1)}else for(;c<s.length&&s[c].to<w;)c++;let S=b.isInline&&!b.isLeaf?d.filter(T=>!T.inline):d.slice();r(b,S,e.forChild(i,b),N),i=w}}function JE(t){if(t.nodeName=="UL"||t.nodeName=="OL"){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function KE(t,e,n,r){for(let s=0,i=0;s<t.childCount&&i<=r;){let c=t.child(s++),d=i;if(i+=c.nodeSize,!c.isText)continue;let f=c.text;for(;s<t.childCount;){let h=t.child(s++);if(i+=h.nodeSize,!h.isText)break;f+=h.text}if(i>=n){if(i>=r&&f.slice(r-e.length-d,r-d)==e)return r-e.length;let h=d<r?f.lastIndexOf(e,r-d-1):-1;if(h>=0&&h+e.length+d>=n)return d+h;if(n==r&&f.length>=r+e.length-d&&f.slice(r-d,r-d+e.length)==e)return r}}return-1}function Cp(t,e,n,r,s){let i=[];for(let c=0,d=0;c<t.length;c++){let f=t[c],h=d,p=d+=f.size;h>=n||p<=e?i.push(f):(h<e&&i.push(f.slice(0,e-h,r)),s&&(i.push(s),s=void 0),p>n&&i.push(f.slice(n-h,f.size,r)))}return i}function mg(t,e=null){let n=t.domSelectionRange(),r=t.state.doc;if(!n.focusNode)return null;let s=t.docView.nearestDesc(n.focusNode),i=s&&s.size==0,c=t.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(c<0)return null;let d=r.resolve(c),f,h;if(Yu(n)){for(f=c;s&&!s.node;)s=s.parent;let g=s.node;if(s&&g.isAtom&&Ce.isSelectable(g)&&s.parent&&!(g.isInline&&vE(n.focusNode,n.focusOffset,s.dom))){let b=s.posBefore;h=new Ce(c==b?d:r.resolve(b))}}else{if(n instanceof t.dom.ownerDocument.defaultView.Selection&&n.rangeCount>1){let g=c,b=c;for(let N=0;N<n.rangeCount;N++){let w=n.getRangeAt(N);g=Math.min(g,t.docView.posFromDOM(w.startContainer,w.startOffset,1)),b=Math.max(b,t.docView.posFromDOM(w.endContainer,w.endOffset,-1))}if(g<0)return null;[f,c]=b==t.state.selection.anchor?[b,g]:[g,b],d=r.resolve(c)}else f=t.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(f<0)return null}let p=r.resolve(f);if(!h){let g=e=="pointer"||t.state.selection.head<d.pos&&!i?1:-1;h=pg(t,p,d,g)}return h}function lC(t){return t.editable?t.hasFocus():dC(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function rs(t,e=!1){let n=t.state.selection;if(cC(t,n),!!lC(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&Zt){let r=t.domSelectionRange(),s=t.domObserver.currentSelection;if(r.anchorNode&&s.anchorNode&&ra(r.anchorNode,r.anchorOffset,s.anchorNode,s.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)WE(t);else{let{anchor:r,head:s}=n,i,c;yv&&!(n instanceof Ee)&&(n.$from.parent.inlineContent||(i=vv(t,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(c=vv(t,n.to))),t.docView.setSelection(r,s,t,e),yv&&(i&&Nv(i),c&&Nv(c)),n.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&YE(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const yv=un||Zt&&WN<63;function vv(t,e){let{node:n,offset:r}=t.docView.domFromPos(e,0),s=r<n.childNodes.length?n.childNodes[r]:null,i=r?n.childNodes[r-1]:null;if(un&&s&&s.contentEditable=="false")return Um(s);if((!s||s.contentEditable=="false")&&(!i||i.contentEditable=="false")){if(s)return Um(s);if(i)return Um(i)}}function Um(t){return t.contentEditable="true",un&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function Nv(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function YE(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let n=t.domSelectionRange(),r=n.anchorNode,s=n.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(n.anchorNode!=r||n.anchorOffset!=s)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!lC(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function WE(t){let e=t.domSelection();if(!e)return;let n=t.cursorWrapper.dom,r=n.nodeName=="IMG";r?e.collapse(n.parentNode,$t(n)+1):e.collapse(n,0),!r&&!t.state.selection.visible&&Tn&&oo<=11&&(n.disabled=!0,n.disabled=!1)}function cC(t,e){if(e instanceof Ce){let n=t.docView.descAt(e.from);n!=t.lastSelectedViewDesc&&(Cv(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else Cv(t)}function Cv(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function pg(t,e,n,r){return t.someProp("createSelectionBetween",s=>s(t,e,n))||Ee.between(e,n,r)}function wv(t){return t.editable&&!t.hasFocus()?!1:dC(t)}function dC(t){let e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function XE(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),n=t.domSelectionRange();return ra(e.node,e.offset,n.anchorNode,n.anchorOffset)}function wp(t,e){let{$anchor:n,$head:r}=t.selection,s=e>0?n.max(r):n.min(r),i=s.parent.inlineContent?s.depth?t.doc.resolve(e>0?s.after():s.before()):null:s;return i&&Pe.findFrom(i,e)}function Ws(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function Sv(t,e,n){let r=t.state.selection;if(r instanceof Ee)if(n.indexOf("s")>-1){let{$head:s}=r,i=s.textOffset?null:e<0?s.nodeBefore:s.nodeAfter;if(!i||i.isText||!i.isLeaf)return!1;let c=t.state.doc.resolve(s.pos+i.nodeSize*(e<0?-1:1));return Ws(t,new Ee(r.$anchor,c))}else if(r.empty){if(t.endOfTextblock(e>0?"forward":"backward")){let s=wp(t.state,e);return s&&s instanceof Ce?Ws(t,s):!1}else if(!(Wn&&n.indexOf("m")>-1)){let s=r.$head,i=s.textOffset?null:e<0?s.nodeBefore:s.nodeAfter,c;if(!i||i.isText)return!1;let d=e<0?s.pos-i.nodeSize:s.pos;return i.isAtom||(c=t.docView.descAt(d))&&!c.contentDOM?Ce.isSelectable(i)?Ws(t,new Ce(e<0?t.state.doc.resolve(s.pos-i.nodeSize):s)):tc?Ws(t,new Ee(t.state.doc.resolve(e<0?d:d+i.nodeSize))):!1:!1}}else return!1;else{if(r instanceof Ce&&r.node.isInline)return Ws(t,new Ee(e>0?r.$to:r.$from));{let s=wp(t.state,e);return s?Ws(t,s):!1}}}function Qd(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function jl(t,e){let n=t.pmViewDesc;return n&&n.size==0&&(e<0||t.nextSibling||t.nodeName!="BR")}function Ka(t,e){return e<0?QE(t):ZE(t)}function QE(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let s,i,c=!1;for(Zn&&n.nodeType==1&&r<Qd(n)&&jl(n.childNodes[r],-1)&&(c=!0);;)if(r>0){if(n.nodeType!=1)break;{let d=n.childNodes[r-1];if(jl(d,-1))s=n,i=--r;else if(d.nodeType==3)n=d,r=n.nodeValue.length;else break}}else{if(uC(n))break;{let d=n.previousSibling;for(;d&&jl(d,-1);)s=n.parentNode,i=$t(d),d=d.previousSibling;if(d)n=d,r=Qd(n);else{if(n=n.parentNode,n==t.dom)break;r=0}}}c?Sp(t,n,r):s&&Sp(t,s,i)}function ZE(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let s=Qd(n),i,c;for(;;)if(r<s){if(n.nodeType!=1)break;let d=n.childNodes[r];if(jl(d,1))i=n,c=++r;else break}else{if(uC(n))break;{let d=n.nextSibling;for(;d&&jl(d,1);)i=d.parentNode,c=$t(d)+1,d=d.nextSibling;if(d)n=d,r=0,s=Qd(n);else{if(n=n.parentNode,n==t.dom)break;r=s=0}}}i&&Sp(t,i,c)}function uC(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function eA(t,e){for(;t&&e==t.childNodes.length&&!ec(t);)e=$t(t)+1,t=t.parentNode;for(;t&&e<t.childNodes.length;){let n=t.childNodes[e];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=0}}function tA(t,e){for(;t&&!e&&!ec(t);)e=$t(t),t=t.parentNode;for(;t&&e;){let n=t.childNodes[e-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=t.childNodes.length}}function Sp(t,e,n){if(e.nodeType!=3){let i,c;(c=eA(e,n))?(e=c,n=0):(i=tA(e,n))&&(e=i,n=i.nodeValue.length)}let r=t.domSelection();if(!r)return;if(Yu(r)){let i=document.createRange();i.setEnd(e,n),i.setStart(e,n),r.removeAllRanges(),r.addRange(i)}else r.extend&&r.extend(e,n);t.domObserver.setCurSelection();let{state:s}=t;setTimeout(()=>{t.state==s&&rs(t)},50)}function Tv(t,e){let n=t.state.doc.resolve(e);if(!(Zt||wE)&&n.parent.inlineContent){let s=t.coordsAtPos(e);if(e>n.start()){let i=t.coordsAtPos(e-1),c=(i.top+i.bottom)/2;if(c>s.top&&c<s.bottom&&Math.abs(i.left-s.left)>1)return i.left<s.left?"ltr":"rtl"}if(e<n.end()){let i=t.coordsAtPos(e+1),c=(i.top+i.bottom)/2;if(c>s.top&&c<s.bottom&&Math.abs(i.left-s.left)>1)return i.left>s.left?"ltr":"rtl"}}return getComputedStyle(t.dom).direction=="rtl"?"rtl":"ltr"}function kv(t,e,n){let r=t.state.selection;if(r instanceof Ee&&!r.empty||n.indexOf("s")>-1||Wn&&n.indexOf("m")>-1)return!1;let{$from:s,$to:i}=r;if(!s.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let c=wp(t.state,e);if(c&&c instanceof Ce)return Ws(t,c)}if(!s.parent.inlineContent){let c=e<0?s:i,d=r instanceof On?Pe.near(c,e):Pe.findFrom(c,e);return d?Ws(t,d):!1}return!1}function Ev(t,e){if(!(t.state.selection instanceof Ee))return!0;let{$head:n,$anchor:r,empty:s}=t.state.selection;if(!n.sameParent(r))return!0;if(!s)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let i=!n.textOffset&&(e<0?n.nodeBefore:n.nodeAfter);if(i&&!i.isText){let c=t.state.tr;return e<0?c.delete(n.pos-i.nodeSize,n.pos):c.delete(n.pos,n.pos+i.nodeSize),t.dispatch(c),!0}return!1}function Av(t,e,n){t.domObserver.stop(),e.contentEditable=n,t.domObserver.start()}function nA(t){if(!un||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(e&&e.nodeType==1&&n==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let r=e.firstChild;Av(t,r,"true"),setTimeout(()=>Av(t,r,"false"),20)}return!1}function rA(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function sA(t,e){let n=e.keyCode,r=rA(e);if(n==8||Wn&&n==72&&r=="c")return Ev(t,-1)||Ka(t,-1);if(n==46&&!e.shiftKey||Wn&&n==68&&r=="c")return Ev(t,1)||Ka(t,1);if(n==13||n==27)return!0;if(n==37||Wn&&n==66&&r=="c"){let s=n==37?Tv(t,t.state.selection.from)=="ltr"?-1:1:-1;return Sv(t,s,r)||Ka(t,s)}else if(n==39||Wn&&n==70&&r=="c"){let s=n==39?Tv(t,t.state.selection.from)=="ltr"?1:-1:1;return Sv(t,s,r)||Ka(t,s)}else{if(n==38||Wn&&n==80&&r=="c")return kv(t,-1,r)||Ka(t,-1);if(n==40||Wn&&n==78&&r=="c")return nA(t)||kv(t,1,r)||Ka(t,1);if(r==(Wn?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function gg(t,e){t.someProp("transformCopied",N=>{e=N(e,t)});let n=[],{content:r,openStart:s,openEnd:i}=e;for(;s>1&&i>1&&r.childCount==1&&r.firstChild.childCount==1;){s--,i--;let N=r.firstChild;n.push(N.type.name,N.attrs!=N.type.defaultAttrs?N.attrs:null),r=N.content}let c=t.someProp("clipboardSerializer")||la.fromSchema(t.state.schema),d=xC(),f=d.createElement("div");f.appendChild(c.serializeFragment(r,{document:d}));let h=f.firstChild,p,g=0;for(;h&&h.nodeType==1&&(p=gC[h.nodeName.toLowerCase()]);){for(let N=p.length-1;N>=0;N--){let w=d.createElement(p[N]);for(;f.firstChild;)w.appendChild(f.firstChild);f.appendChild(w),g++}h=f.firstChild}h&&h.nodeType==1&&h.setAttribute("data-pm-slice",`${s} ${i}${g?` -${g}`:""} ${JSON.stringify(n)}`);let b=t.someProp("clipboardTextSerializer",N=>N(e,t))||e.content.textBetween(0,e.content.size,`

`);return{dom:f,text:b,slice:e}}function fC(t,e,n,r,s){let i=s.parent.type.spec.code,c,d;if(!n&&!e)return null;let f=!!e&&(r||i||!n);if(f){if(t.someProp("transformPastedText",b=>{e=b(e,i||r,t)}),i)return d=new fe(ne.from(t.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0),t.someProp("transformPasted",b=>{d=b(d,t,!0)}),d;let g=t.someProp("clipboardTextParser",b=>b(e,s,r,t));if(g)d=g;else{let b=s.marks(),{schema:N}=t.state,w=la.fromSchema(N);c=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(S=>{let T=c.appendChild(document.createElement("p"));S&&T.appendChild(w.serializeNode(N.text(S,b)))})}}else t.someProp("transformPastedHTML",g=>{n=g(n,t)}),c=lA(n),tc&&cA(c);let h=c&&c.querySelector("[data-pm-slice]"),p=h&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(h.getAttribute("data-pm-slice")||"");if(p&&p[3])for(let g=+p[3];g>0;g--){let b=c.firstChild;for(;b&&b.nodeType!=1;)b=b.nextSibling;if(!b)break;c=b}if(d||(d=(t.someProp("clipboardParser")||t.someProp("domParser")||so.fromSchema(t.state.schema)).parseSlice(c,{preserveWhitespace:!!(f||p),context:s,ruleFromNode(b){return b.nodeName=="BR"&&!b.nextSibling&&b.parentNode&&!oA.test(b.parentNode.nodeName)?{ignore:!0}:null}})),p)d=dA(jv(d,+p[1],+p[2]),p[4]);else if(d=fe.maxOpen(aA(d.content,s),!0),d.openStart||d.openEnd){let g=0,b=0;for(let N=d.content.firstChild;g<d.openStart&&!N.type.spec.isolating;g++,N=N.firstChild);for(let N=d.content.lastChild;b<d.openEnd&&!N.type.spec.isolating;b++,N=N.lastChild);d=jv(d,g,b)}return t.someProp("transformPasted",g=>{d=g(d,t,f)}),d}const oA=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function aA(t,e){if(t.childCount<2)return t;for(let n=e.depth;n>=0;n--){let s=e.node(n).contentMatchAt(e.index(n)),i,c=[];if(t.forEach(d=>{if(!c)return;let f=s.findWrapping(d.type),h;if(!f)return c=null;if(h=c.length&&i.length&&mC(f,i,d,c[c.length-1],0))c[c.length-1]=h;else{c.length&&(c[c.length-1]=pC(c[c.length-1],i.length));let p=hC(d,f);c.push(p),s=s.matchType(p.type),i=f}}),c)return ne.from(c)}return t}function hC(t,e,n=0){for(let r=e.length-1;r>=n;r--)t=e[r].create(null,ne.from(t));return t}function mC(t,e,n,r,s){if(s<t.length&&s<e.length&&t[s]==e[s]){let i=mC(t,e,n,r.lastChild,s+1);if(i)return r.copy(r.content.replaceChild(r.childCount-1,i));if(r.contentMatchAt(r.childCount).matchType(s==t.length-1?n.type:t[s+1]))return r.copy(r.content.append(ne.from(hC(n,t,s+1))))}}function pC(t,e){if(e==0)return t;let n=t.content.replaceChild(t.childCount-1,pC(t.lastChild,e-1)),r=t.contentMatchAt(t.childCount).fillBefore(ne.empty,!0);return t.copy(n.append(r))}function Tp(t,e,n,r,s,i){let c=e<0?t.firstChild:t.lastChild,d=c.content;return t.childCount>1&&(i=0),s<r-1&&(d=Tp(d,e,n,r,s+1,i)),s>=n&&(d=e<0?c.contentMatchAt(0).fillBefore(d,i<=s).append(d):d.append(c.contentMatchAt(c.childCount).fillBefore(ne.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,c.copy(d))}function jv(t,e,n){return e<t.openStart&&(t=new fe(Tp(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),n<t.openEnd&&(t=new fe(Tp(t.content,1,n,t.openEnd,0,0),t.openStart,n)),t}const gC={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let Mv=null;function xC(){return Mv||(Mv=document.implementation.createHTMLDocument("title"))}let Hm=null;function iA(t){let e=window.trustedTypes;return e?(Hm||(Hm=e.defaultPolicy||e.createPolicy("ProseMirrorClipboard",{createHTML:n=>n})),Hm.createHTML(t)):t}function lA(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let n=xC().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(t),s;if((s=r&&gC[r[1].toLowerCase()])&&(t=s.map(i=>"<"+i+">").join("")+t+s.map(i=>"</"+i+">").reverse().join("")),n.innerHTML=iA(t),s)for(let i=0;i<s.length;i++)n=n.querySelector(s[i])||n;return n}function cA(t){let e=t.querySelectorAll(Zt?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<e.length;n++){let r=e[n];r.childNodes.length==1&&r.textContent==""&&r.parentNode&&r.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),r)}}function dA(t,e){if(!t.size)return t;let n=t.content.firstChild.type.schema,r;try{r=JSON.parse(e)}catch{return t}let{content:s,openStart:i,openEnd:c}=t;for(let d=r.length-2;d>=0;d-=2){let f=n.nodes[r[d]];if(!f||f.hasRequiredAttrs())break;s=ne.from(f.create(r[d+1],s)),i++,c++}return new fe(s,i,c)}const fn={},hn={},uA={touchstart:!0,touchmove:!0};class fA{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function hA(t){for(let e in fn){let n=fn[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=r=>{pA(t,r)&&!xg(t,r)&&(t.editable||!(r.type in hn))&&n(t,r)},uA[e]?{passive:!0}:void 0)}un&&t.dom.addEventListener("input",()=>null),kp(t)}function ro(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function mA(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}function kp(t){t.someProp("handleDOMEvents",e=>{for(let n in e)t.input.eventHandlers[n]||t.dom.addEventListener(n,t.input.eventHandlers[n]=r=>xg(t,r))})}function xg(t,e){return t.someProp("handleDOMEvents",n=>{let r=n[e.type];return r?r(t,e)||e.defaultPrevented:!1})}function pA(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target;n!=t.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(e))return!1;return!0}function gA(t,e){!xg(t,e)&&fn[e.type]&&(t.editable||!(e.type in hn))&&fn[e.type](t,e)}hn.keydown=(t,e)=>{let n=e;if(t.input.shiftKey=n.keyCode==16||n.shiftKey,!yC(t,n)&&(t.input.lastKeyCode=n.keyCode,t.input.lastKeyCodeTime=Date.now(),!(ts&&Zt&&n.keyCode==13)))if(n.keyCode!=229&&t.domObserver.forceFlush(),ui&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let r=Date.now();t.input.lastIOSEnter=r,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==r&&(t.someProp("handleKeyDown",s=>s(t,Fo(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",r=>r(t,n))||sA(t,n)?n.preventDefault():ro(t,"key")};hn.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)};hn.keypress=(t,e)=>{let n=e;if(yC(t,n)||!n.charCode||n.ctrlKey&&!n.altKey||Wn&&n.metaKey)return;if(t.someProp("handleKeyPress",s=>s(t,n))){n.preventDefault();return}let r=t.state.selection;if(!(r instanceof Ee)||!r.$from.sameParent(r.$to)){let s=String.fromCharCode(n.charCode),i=()=>t.state.tr.insertText(s).scrollIntoView();!/[\r\n]/.test(s)&&!t.someProp("handleTextInput",c=>c(t,r.$from.pos,r.$to.pos,s,i))&&t.dispatch(i()),n.preventDefault()}};function Xu(t){return{left:t.clientX,top:t.clientY}}function xA(t,e){let n=e.x-t.clientX,r=e.y-t.clientY;return n*n+r*r<100}function bg(t,e,n,r,s){if(r==-1)return!1;let i=t.state.doc.resolve(r);for(let c=i.depth+1;c>0;c--)if(t.someProp(e,d=>c>i.depth?d(t,n,i.nodeAfter,i.before(c),s,!0):d(t,n,i.node(c),i.before(c),s,!1)))return!0;return!1}function ri(t,e,n){if(t.focused||t.focus(),t.state.selection.eq(e))return;let r=t.state.tr.setSelection(e);r.setMeta("pointer",!0),t.dispatch(r)}function bA(t,e){if(e==-1)return!1;let n=t.state.doc.resolve(e),r=n.nodeAfter;return r&&r.isAtom&&Ce.isSelectable(r)?(ri(t,new Ce(n)),!0):!1}function yA(t,e){if(e==-1)return!1;let n=t.state.selection,r,s;n instanceof Ce&&(r=n.node);let i=t.state.doc.resolve(e);for(let c=i.depth+1;c>0;c--){let d=c>i.depth?i.nodeAfter:i.node(c);if(Ce.isSelectable(d)){r&&n.$from.depth>0&&c>=n.$from.depth&&i.before(n.$from.depth+1)==n.$from.pos?s=i.before(n.$from.depth):s=i.before(c);break}}return s!=null?(ri(t,Ce.create(t.state.doc,s)),!0):!1}function vA(t,e,n,r,s){return bg(t,"handleClickOn",e,n,r)||t.someProp("handleClick",i=>i(t,e,r))||(s?yA(t,n):bA(t,n))}function NA(t,e,n,r){return bg(t,"handleDoubleClickOn",e,n,r)||t.someProp("handleDoubleClick",s=>s(t,e,r))}function CA(t,e,n,r){return bg(t,"handleTripleClickOn",e,n,r)||t.someProp("handleTripleClick",s=>s(t,e,r))||wA(t,n,r)}function wA(t,e,n){if(n.button!=0)return!1;let r=t.state.doc;if(e==-1)return r.inlineContent?(ri(t,Ee.create(r,0,r.content.size)),!0):!1;let s=r.resolve(e);for(let i=s.depth+1;i>0;i--){let c=i>s.depth?s.nodeAfter:s.node(i),d=s.before(i);if(c.inlineContent)ri(t,Ee.create(r,d+1,d+1+c.content.size));else if(Ce.isSelectable(c))ri(t,Ce.create(r,d));else continue;return!0}}function yg(t){return Zd(t)}const bC=Wn?"metaKey":"ctrlKey";fn.mousedown=(t,e)=>{let n=e;t.input.shiftKey=n.shiftKey;let r=yg(t),s=Date.now(),i="singleClick";s-t.input.lastClick.time<500&&xA(n,t.input.lastClick)&&!n[bC]&&t.input.lastClick.button==n.button&&(t.input.lastClick.type=="singleClick"?i="doubleClick":t.input.lastClick.type=="doubleClick"&&(i="tripleClick")),t.input.lastClick={time:s,x:n.clientX,y:n.clientY,type:i,button:n.button};let c=t.posAtCoords(Xu(n));c&&(i=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new SA(t,c,n,!!r)):(i=="doubleClick"?NA:CA)(t,c.pos,c.inside,n)?n.preventDefault():ro(t,"pointer"))};class SA{constructor(e,n,r,s){this.view=e,this.pos=n,this.event=r,this.flushed=s,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!r[bC],this.allowDefault=r.shiftKey;let i,c;if(n.inside>-1)i=e.state.doc.nodeAt(n.inside),c=n.inside;else{let p=e.state.doc.resolve(n.pos);i=p.parent,c=p.depth?p.before():0}const d=s?null:r.target,f=d?e.docView.nearestDesc(d,!0):null;this.target=f&&f.nodeDOM.nodeType==1?f.nodeDOM:null;let{selection:h}=e.state;(r.button==0&&i.type.spec.draggable&&i.type.spec.selectable!==!1||h instanceof Ce&&h.from<=c&&h.to>c)&&(this.mightDrag={node:i,pos:c,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&Zn&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),ro(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>rs(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(Xu(e))),this.updateAllowDefault(e),this.allowDefault||!n?ro(this.view,"pointer"):vA(this.view,n.pos,n.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||un&&this.mightDrag&&!this.mightDrag.node.isAtom||Zt&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(ri(this.view,Pe.near(this.view.state.doc.resolve(n.pos))),e.preventDefault()):ro(this.view,"pointer")}move(e){this.updateAllowDefault(e),ro(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}fn.touchstart=t=>{t.input.lastTouch=Date.now(),yg(t),ro(t,"pointer")};fn.touchmove=t=>{t.input.lastTouch=Date.now(),ro(t,"pointer")};fn.contextmenu=t=>yg(t);function yC(t,e){return t.composing?!0:un&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}const TA=ts?5e3:-1;hn.compositionstart=hn.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,n=e.selection.$to;if(e.selection instanceof Ee&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)))t.markCursor=t.state.storedMarks||n.marks(),Zd(t,!0),t.markCursor=null;else if(Zd(t,!e.selection.empty),Zn&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let r=t.domSelectionRange();for(let s=r.focusNode,i=r.focusOffset;s&&s.nodeType==1&&i!=0;){let c=i<0?s.lastChild:s.childNodes[i-1];if(!c)break;if(c.nodeType==3){let d=t.domSelection();d&&d.collapse(c,c.nodeValue.length);break}else s=c,i=-1}}t.input.composing=!0}vC(t,TA)};hn.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,t.input.compositionPendingChanges=t.domObserver.pendingRecords().length?t.input.compositionID:0,t.input.compositionNode=null,t.input.compositionPendingChanges&&Promise.resolve().then(()=>t.domObserver.flush()),t.input.compositionID++,vC(t,20))};function vC(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>Zd(t),e))}function NC(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=EA());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function kA(t){let e=t.domSelectionRange();if(!e.focusNode)return null;let n=bE(e.focusNode,e.focusOffset),r=yE(e.focusNode,e.focusOffset);if(n&&r&&n!=r){let s=r.pmViewDesc,i=t.domObserver.lastChangedTextNode;if(n==i||r==i)return i;if(!s||!s.isText(r.nodeValue))return r;if(t.input.compositionNode==r){let c=n.pmViewDesc;if(!(!c||!c.isText(n.nodeValue)))return r}}return n||r}function EA(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function Zd(t,e=!1){if(!(ts&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),NC(t),e||t.docView&&t.docView.dirty){let n=mg(t),r=t.state.selection;return n&&!n.eq(r)?t.dispatch(t.state.tr.setSelection(n)):(t.markCursor||e)&&!r.$from.node(r.$from.sharedDepth(r.to)).inlineContent?t.dispatch(t.state.tr.deleteSelection()):t.updateState(t.state),!0}return!1}}function AA(t,e){if(!t.dom.parentNode)return;let n=t.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(e),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),s=document.createRange();s.selectNodeContents(e),t.dom.blur(),r.removeAllRanges(),r.addRange(s),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),t.focus()},50)}const ql=Tn&&oo<15||ui&&SE<604;fn.copy=hn.cut=(t,e)=>{let n=e,r=t.state.selection,s=n.type=="cut";if(r.empty)return;let i=ql?null:n.clipboardData,c=r.content(),{dom:d,text:f}=gg(t,c);i?(n.preventDefault(),i.clearData(),i.setData("text/html",d.innerHTML),i.setData("text/plain",f)):AA(t,d),s&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function jA(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function MA(t,e){if(!t.dom.parentNode)return;let n=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,r=t.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let s=t.input.shiftKey&&t.input.lastKeyCode!=45;setTimeout(()=>{t.focus(),r.parentNode&&r.parentNode.removeChild(r),n?Fl(t,r.value,null,s,e):Fl(t,r.textContent,r.innerHTML,s,e)},50)}function Fl(t,e,n,r,s){let i=fC(t,e,n,r,t.state.selection.$from);if(t.someProp("handlePaste",f=>f(t,s,i||fe.empty)))return!0;if(!i)return!1;let c=jA(i),d=c?t.state.tr.replaceSelectionWith(c,r):t.state.tr.replaceSelection(i);return t.dispatch(d.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function CC(t){let e=t.getData("text/plain")||t.getData("Text");if(e)return e;let n=t.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}hn.paste=(t,e)=>{let n=e;if(t.composing&&!ts)return;let r=ql?null:n.clipboardData,s=t.input.shiftKey&&t.input.lastKeyCode!=45;r&&Fl(t,CC(r),r.getData("text/html"),s,n)?n.preventDefault():MA(t,n)};class wC{constructor(e,n,r){this.slice=e,this.move=n,this.node=r}}const RA=Wn?"altKey":"ctrlKey";function SC(t,e){let n=t.someProp("dragCopies",r=>!r(e));return n??!e[RA]}fn.dragstart=(t,e)=>{let n=e,r=t.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let s=t.state.selection,i=s.empty?null:t.posAtCoords(Xu(n)),c;if(!(i&&i.pos>=s.from&&i.pos<=(s instanceof Ce?s.to-1:s.to))){if(r&&r.mightDrag)c=Ce.create(t.state.doc,r.mightDrag.pos);else if(n.target&&n.target.nodeType==1){let g=t.docView.nearestDesc(n.target,!0);g&&g.node.type.spec.draggable&&g!=t.docView&&(c=Ce.create(t.state.doc,g.posBefore))}}let d=(c||t.state.selection).content(),{dom:f,text:h,slice:p}=gg(t,d);(!n.dataTransfer.files.length||!Zt||WN>120)&&n.dataTransfer.clearData(),n.dataTransfer.setData(ql?"Text":"text/html",f.innerHTML),n.dataTransfer.effectAllowed="copyMove",ql||n.dataTransfer.setData("text/plain",h),t.dragging=new wC(p,SC(t,n),c)};fn.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)};hn.dragover=hn.dragenter=(t,e)=>e.preventDefault();hn.drop=(t,e)=>{let n=e,r=t.dragging;if(t.dragging=null,!n.dataTransfer)return;let s=t.posAtCoords(Xu(n));if(!s)return;let i=t.state.doc.resolve(s.pos),c=r&&r.slice;c?t.someProp("transformPasted",w=>{c=w(c,t,!1)}):c=fC(t,CC(n.dataTransfer),ql?null:n.dataTransfer.getData("text/html"),!1,i);let d=!!(r&&SC(t,n));if(t.someProp("handleDrop",w=>w(t,n,c||fe.empty,d))){n.preventDefault();return}if(!c)return;n.preventDefault();let f=c?jN(t.state.doc,i.pos,c):i.pos;f==null&&(f=i.pos);let h=t.state.tr;if(d){let{node:w}=r;w?w.replace(h):h.deleteSelection()}let p=h.mapping.map(f),g=c.openStart==0&&c.openEnd==0&&c.content.childCount==1,b=h.doc;if(g?h.replaceRangeWith(p,p,c.content.firstChild):h.replaceRange(p,p,c),h.doc.eq(b))return;let N=h.doc.resolve(p);if(g&&Ce.isSelectable(c.content.firstChild)&&N.nodeAfter&&N.nodeAfter.sameMarkup(c.content.firstChild))h.setSelection(new Ce(N));else{let w=h.mapping.map(f);h.mapping.maps[h.mapping.maps.length-1].forEach((S,T,E,M)=>w=M),h.setSelection(pg(t,N,h.doc.resolve(w)))}t.focus(),t.dispatch(h.setMeta("uiEvent","drop"))};fn.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&rs(t)},20))};fn.blur=(t,e)=>{let n=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),n.relatedTarget&&t.dom.contains(n.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)};fn.beforeinput=(t,e)=>{if(Zt&&ts&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:r}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=r||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",i=>i(t,Fo(8,"Backspace")))))return;let{$cursor:s}=t.state.selection;s&&s.pos>0&&t.dispatch(t.state.tr.delete(s.pos-1,s.pos).scrollIntoView())},50)}};for(let t in hn)fn[t]=hn[t];function Gl(t,e){if(t==e)return!0;for(let n in t)if(t[n]!==e[n])return!1;for(let n in e)if(!(n in t))return!1;return!0}class eu{constructor(e,n){this.toDOM=e,this.spec=n||Xo,this.side=this.spec.side||0}map(e,n,r,s){let{pos:i,deleted:c}=e.mapResult(n.from+s,this.side<0?-1:1);return c?null:new dn(i-r,i-r,this)}valid(){return!0}eq(e){return this==e||e instanceof eu&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&Gl(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class io{constructor(e,n){this.attrs=e,this.spec=n||Xo}map(e,n,r,s){let i=e.map(n.from+s,this.spec.inclusiveStart?-1:1)-r,c=e.map(n.to+s,this.spec.inclusiveEnd?1:-1)-r;return i>=c?null:new dn(i,c,this)}valid(e,n){return n.from<n.to}eq(e){return this==e||e instanceof io&&Gl(this.attrs,e.attrs)&&Gl(this.spec,e.spec)}static is(e){return e.type instanceof io}destroy(){}}class vg{constructor(e,n){this.attrs=e,this.spec=n||Xo}map(e,n,r,s){let i=e.mapResult(n.from+s,1);if(i.deleted)return null;let c=e.mapResult(n.to+s,-1);return c.deleted||c.pos<=i.pos?null:new dn(i.pos-r,c.pos-r,this)}valid(e,n){let{index:r,offset:s}=e.content.findIndex(n.from),i;return s==n.from&&!(i=e.child(r)).isText&&s+i.nodeSize==n.to}eq(e){return this==e||e instanceof vg&&Gl(this.attrs,e.attrs)&&Gl(this.spec,e.spec)}destroy(){}}class dn{constructor(e,n,r){this.from=e,this.to=n,this.type=r}copy(e,n){return new dn(e,n,this.type)}eq(e,n=0){return this.type.eq(e.type)&&this.from+n==e.from&&this.to+n==e.to}map(e,n,r){return this.type.map(e,this,n,r)}static widget(e,n,r){return new dn(e,e,new eu(n,r))}static inline(e,n,r,s){return new dn(e,n,new io(r,s))}static node(e,n,r,s){return new dn(e,n,new vg(r,s))}get spec(){return this.type.spec}get inline(){return this.type instanceof io}get widget(){return this.type instanceof eu}}const Wa=[],Xo={};class ft{constructor(e,n){this.local=e.length?e:Wa,this.children=n.length?n:Wa}static create(e,n){return n.length?tu(n,e,0,Xo):Qt}find(e,n,r){let s=[];return this.findInner(e??0,n??1e9,s,0,r),s}findInner(e,n,r,s,i){for(let c=0;c<this.local.length;c++){let d=this.local[c];d.from<=n&&d.to>=e&&(!i||i(d.spec))&&r.push(d.copy(d.from+s,d.to+s))}for(let c=0;c<this.children.length;c+=3)if(this.children[c]<n&&this.children[c+1]>e){let d=this.children[c]+1;this.children[c+2].findInner(e-d,n-d,r,s+d,i)}}map(e,n,r){return this==Qt||e.maps.length==0?this:this.mapInner(e,n,0,0,r||Xo)}mapInner(e,n,r,s,i){let c;for(let d=0;d<this.local.length;d++){let f=this.local[d].map(e,r,s);f&&f.type.valid(n,f)?(c||(c=[])).push(f):i.onRemove&&i.onRemove(this.local[d].spec)}return this.children.length?IA(this.children,c||[],e,n,r,s,i):c?new ft(c.sort(Qo),Wa):Qt}add(e,n){return n.length?this==Qt?ft.create(e,n):this.addInner(e,n,0):this}addInner(e,n,r){let s,i=0;e.forEach((d,f)=>{let h=f+r,p;if(p=kC(n,d,h)){for(s||(s=this.children.slice());i<s.length&&s[i]<f;)i+=3;s[i]==f?s[i+2]=s[i+2].addInner(d,p,h+1):s.splice(i,0,f,f+d.nodeSize,tu(p,d,h+1,Xo)),i+=3}});let c=TC(i?EC(n):n,-r);for(let d=0;d<c.length;d++)c[d].type.valid(e,c[d])||c.splice(d--,1);return new ft(c.length?this.local.concat(c).sort(Qo):this.local,s||this.children)}remove(e){return e.length==0||this==Qt?this:this.removeInner(e,0)}removeInner(e,n){let r=this.children,s=this.local;for(let i=0;i<r.length;i+=3){let c,d=r[i]+n,f=r[i+1]+n;for(let p=0,g;p<e.length;p++)(g=e[p])&&g.from>d&&g.to<f&&(e[p]=null,(c||(c=[])).push(g));if(!c)continue;r==this.children&&(r=this.children.slice());let h=r[i+2].removeInner(c,d+1);h!=Qt?r[i+2]=h:(r.splice(i,3),i-=3)}if(s.length){for(let i=0,c;i<e.length;i++)if(c=e[i])for(let d=0;d<s.length;d++)s[d].eq(c,n)&&(s==this.local&&(s=this.local.slice()),s.splice(d--,1))}return r==this.children&&s==this.local?this:s.length||r.length?new ft(s,r):Qt}forChild(e,n){if(this==Qt)return this;if(n.isLeaf)return ft.empty;let r,s;for(let d=0;d<this.children.length;d+=3)if(this.children[d]>=e){this.children[d]==e&&(r=this.children[d+2]);break}let i=e+1,c=i+n.content.size;for(let d=0;d<this.local.length;d++){let f=this.local[d];if(f.from<c&&f.to>i&&f.type instanceof io){let h=Math.max(i,f.from)-i,p=Math.min(c,f.to)-i;h<p&&(s||(s=[])).push(f.copy(h,p))}}if(s){let d=new ft(s.sort(Qo),Wa);return r?new Zs([d,r]):d}return r||Qt}eq(e){if(this==e)return!0;if(!(e instanceof ft)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(e.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=e.children[n]||this.children[n+1]!=e.children[n+1]||!this.children[n+2].eq(e.children[n+2]))return!1;return!0}locals(e){return Ng(this.localsInner(e))}localsInner(e){if(this==Qt)return Wa;if(e.inlineContent||!this.local.some(io.is))return this.local;let n=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof io||n.push(this.local[r]);return n}forEachSet(e){e(this)}}ft.empty=new ft([],[]);ft.removeOverlap=Ng;const Qt=ft.empty;class Zs{constructor(e){this.members=e}map(e,n){const r=this.members.map(s=>s.map(e,n,Xo));return Zs.from(r)}forChild(e,n){if(n.isLeaf)return ft.empty;let r=[];for(let s=0;s<this.members.length;s++){let i=this.members[s].forChild(e,n);i!=Qt&&(i instanceof Zs?r=r.concat(i.members):r.push(i))}return Zs.from(r)}eq(e){if(!(e instanceof Zs)||e.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(e.members[n]))return!1;return!0}locals(e){let n,r=!0;for(let s=0;s<this.members.length;s++){let i=this.members[s].localsInner(e);if(i.length)if(!n)n=i;else{r&&(n=n.slice(),r=!1);for(let c=0;c<i.length;c++)n.push(i[c])}}return n?Ng(r?n:n.sort(Qo)):Wa}static from(e){switch(e.length){case 0:return Qt;case 1:return e[0];default:return new Zs(e.every(n=>n instanceof ft)?e:e.reduce((n,r)=>n.concat(r instanceof ft?r:r.members),[]))}}forEachSet(e){for(let n=0;n<this.members.length;n++)this.members[n].forEachSet(e)}}function IA(t,e,n,r,s,i,c){let d=t.slice();for(let h=0,p=i;h<n.maps.length;h++){let g=0;n.maps[h].forEach((b,N,w,S)=>{let T=S-w-(N-b);for(let E=0;E<d.length;E+=3){let M=d[E+1];if(M<0||b>M+p-g)continue;let D=d[E]+p-g;N>=D?d[E+1]=b<=D?-2:-1:b>=p&&T&&(d[E]+=T,d[E+1]+=T)}g+=T}),p=n.maps[h].map(p,-1)}let f=!1;for(let h=0;h<d.length;h+=3)if(d[h+1]<0){if(d[h+1]==-2){f=!0,d[h+1]=-1;continue}let p=n.map(t[h]+i),g=p-s;if(g<0||g>=r.content.size){f=!0;continue}let b=n.map(t[h+1]+i,-1),N=b-s,{index:w,offset:S}=r.content.findIndex(g),T=r.maybeChild(w);if(T&&S==g&&S+T.nodeSize==N){let E=d[h+2].mapInner(n,T,p+1,t[h]+i+1,c);E!=Qt?(d[h]=g,d[h+1]=N,d[h+2]=E):(d[h+1]=-2,f=!0)}else f=!0}if(f){let h=DA(d,t,e,n,s,i,c),p=tu(h,r,0,c);e=p.local;for(let g=0;g<d.length;g+=3)d[g+1]<0&&(d.splice(g,3),g-=3);for(let g=0,b=0;g<p.children.length;g+=3){let N=p.children[g];for(;b<d.length&&d[b]<N;)b+=3;d.splice(b,0,p.children[g],p.children[g+1],p.children[g+2])}}return new ft(e.sort(Qo),d)}function TC(t,e){if(!e||!t.length)return t;let n=[];for(let r=0;r<t.length;r++){let s=t[r];n.push(new dn(s.from+e,s.to+e,s.type))}return n}function DA(t,e,n,r,s,i,c){function d(f,h){for(let p=0;p<f.local.length;p++){let g=f.local[p].map(r,s,h);g?n.push(g):c.onRemove&&c.onRemove(f.local[p].spec)}for(let p=0;p<f.children.length;p+=3)d(f.children[p+2],f.children[p]+h+1)}for(let f=0;f<t.length;f+=3)t[f+1]==-1&&d(t[f+2],e[f]+i+1);return n}function kC(t,e,n){if(e.isLeaf)return null;let r=n+e.nodeSize,s=null;for(let i=0,c;i<t.length;i++)(c=t[i])&&c.from>n&&c.to<r&&((s||(s=[])).push(c),t[i]=null);return s}function EC(t){let e=[];for(let n=0;n<t.length;n++)t[n]!=null&&e.push(t[n]);return e}function tu(t,e,n,r){let s=[],i=!1;e.forEach((d,f)=>{let h=kC(t,d,f+n);if(h){i=!0;let p=tu(h,d,n+f+1,r);p!=Qt&&s.push(f,f+d.nodeSize,p)}});let c=TC(i?EC(t):t,-n).sort(Qo);for(let d=0;d<c.length;d++)c[d].type.valid(e,c[d])||(r.onRemove&&r.onRemove(c[d].spec),c.splice(d--,1));return c.length||s.length?new ft(c,s):Qt}function Qo(t,e){return t.from-e.from||t.to-e.to}function Ng(t){let e=t;for(let n=0;n<e.length-1;n++){let r=e[n];if(r.from!=r.to)for(let s=n+1;s<e.length;s++){let i=e[s];if(i.from==r.from){i.to!=r.to&&(e==t&&(e=t.slice()),e[s]=i.copy(i.from,r.to),Rv(e,s+1,i.copy(r.to,i.to)));continue}else{i.from<r.to&&(e==t&&(e=t.slice()),e[n]=r.copy(r.from,i.from),Rv(e,s,r.copy(i.from,r.to)));break}}}return e}function Rv(t,e,n){for(;e<t.length&&Qo(n,t[e])>0;)e++;t.splice(e,0,n)}function Vm(t){let e=[];return t.someProp("decorations",n=>{let r=n(t.state);r&&r!=Qt&&e.push(r)}),t.cursorWrapper&&e.push(ft.create(t.state.doc,[t.cursorWrapper.deco])),Zs.from(e)}const _A={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},PA=Tn&&oo<=11;class LA{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class OA{constructor(e,n){this.view=e,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new LA,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let s=0;s<r.length;s++)this.queue.push(r[s]);Tn&&oo<=11&&r.some(s=>s.type=="childList"&&s.removedNodes.length||s.type=="characterData"&&s.oldValue.length>s.target.nodeValue.length)?this.flushSoon():this.flush()}),PA&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,_A)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let n=0;n<e.length;n++)this.queue.push(e[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(wv(this.view)){if(this.suppressingSelectionUpdates)return rs(this.view);if(Tn&&oo<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&ra(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let n=new Set,r;for(let i=e.focusNode;i;i=di(i))n.add(i);for(let i=e.anchorNode;i;i=di(i))if(n.has(i)){r=i;break}let s=r&&this.view.docView.nearestDesc(r);if(s&&s.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let n=this.pendingRecords();n.length&&(this.queue=[]);let r=e.domSelectionRange(),s=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&wv(e)&&!this.ignoreSelectionChange(r),i=-1,c=-1,d=!1,f=[];if(e.editable)for(let p=0;p<n.length;p++){let g=this.registerMutation(n[p],f);g&&(i=i<0?g.from:Math.min(g.from,i),c=c<0?g.to:Math.max(g.to,c),g.typeOver&&(d=!0))}if(Zn&&f.length){let p=f.filter(g=>g.nodeName=="BR");if(p.length==2){let[g,b]=p;g.parentNode&&g.parentNode.parentNode==b.parentNode?b.remove():g.remove()}else{let{focusNode:g}=this.currentSelection;for(let b of p){let N=b.parentNode;N&&N.nodeName=="LI"&&(!g||UA(e,g)!=N)&&b.remove()}}}let h=null;i<0&&s&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&Yu(r)&&(h=mg(e))&&h.eq(Pe.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,rs(e),this.currentSelection.set(r),e.scrollToSelection()):(i>-1||s)&&(i>-1&&(e.docView.markDirty(i,c),BA(e)),this.handleDOMChange(i,c,d,f),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(r)||rs(e),this.currentSelection.set(r))}registerMutation(e,n){if(n.indexOf(e.target)>-1)return null;let r=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(r==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!r||r.ignoreMutation(e))return null;if(e.type=="childList"){for(let p=0;p<e.addedNodes.length;p++){let g=e.addedNodes[p];n.push(g),g.nodeType==3&&(this.lastChangedTextNode=g)}if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(e.target))return{from:r.posBefore,to:r.posAfter};let s=e.previousSibling,i=e.nextSibling;if(Tn&&oo<=11&&e.addedNodes.length)for(let p=0;p<e.addedNodes.length;p++){let{previousSibling:g,nextSibling:b}=e.addedNodes[p];(!g||Array.prototype.indexOf.call(e.addedNodes,g)<0)&&(s=g),(!b||Array.prototype.indexOf.call(e.addedNodes,b)<0)&&(i=b)}let c=s&&s.parentNode==e.target?$t(s)+1:0,d=r.localPosFromDOM(e.target,c,-1),f=i&&i.parentNode==e.target?$t(i):e.target.childNodes.length,h=r.localPosFromDOM(e.target,f,1);return{from:d,to:h}}else return e.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:(this.lastChangedTextNode=e.target,{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let Iv=new WeakMap,Dv=!1;function BA(t){if(!Iv.has(t)&&(Iv.set(t,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace)!==-1)){if(t.requiresGeckoHackNode=Zn,Dv)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),Dv=!0}}function _v(t,e){let n=e.startContainer,r=e.startOffset,s=e.endContainer,i=e.endOffset,c=t.domAtPos(t.state.selection.anchor);return ra(c.node,c.offset,s,i)&&([n,r,s,i]=[s,i,n,r]),{anchorNode:n,anchorOffset:r,focusNode:s,focusOffset:i}}function zA(t,e){if(e.getComposedRanges){let s=e.getComposedRanges(t.root)[0];if(s)return _v(t,s)}let n;function r(s){s.preventDefault(),s.stopImmediatePropagation(),n=s.getTargetRanges()[0]}return t.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",r,!0),n?_v(t,n):null}function UA(t,e){for(let n=e.parentNode;n&&n!=t.dom;n=n.parentNode){let r=t.docView.nearestDesc(n,!0);if(r&&r.node.isBlock)return n}return null}function HA(t,e,n){let{node:r,fromOffset:s,toOffset:i,from:c,to:d}=t.docView.parseRange(e,n),f=t.domSelectionRange(),h,p=f.anchorNode;if(p&&t.dom.contains(p.nodeType==1?p:p.parentNode)&&(h=[{node:p,offset:f.anchorOffset}],Yu(f)||h.push({node:f.focusNode,offset:f.focusOffset})),Zt&&t.input.lastKeyCode===8)for(let T=i;T>s;T--){let E=r.childNodes[T-1],M=E.pmViewDesc;if(E.nodeName=="BR"&&!M){i=T;break}if(!M||M.size)break}let g=t.state.doc,b=t.someProp("domParser")||so.fromSchema(t.state.schema),N=g.resolve(c),w=null,S=b.parse(r,{topNode:N.parent,topMatch:N.parent.contentMatchAt(N.index()),topOpen:!0,from:s,to:i,preserveWhitespace:N.parent.type.whitespace=="pre"?"full":!0,findPositions:h,ruleFromNode:VA,context:N});if(h&&h[0].pos!=null){let T=h[0].pos,E=h[1]&&h[1].pos;E==null&&(E=T),w={anchor:T+c,head:E+c}}return{doc:S,sel:w,from:c,to:d}}function VA(t){let e=t.pmViewDesc;if(e)return e.parseRule();if(t.nodeName=="BR"&&t.parentNode){if(un&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(t.parentNode.lastChild==t||un&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if(t.nodeName=="IMG"&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}const qA=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|img|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function FA(t,e,n,r,s){let i=t.input.compositionPendingChanges||(t.composing?t.input.compositionID:0);if(t.input.compositionPendingChanges=0,e<0){let P=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,te=mg(t,P);if(te&&!t.state.selection.eq(te)){if(Zt&&ts&&t.input.lastKeyCode===13&&Date.now()-100<t.input.lastKeyCodeTime&&t.someProp("handleKeyDown",ce=>ce(t,Fo(13,"Enter"))))return;let K=t.state.tr.setSelection(te);P=="pointer"?K.setMeta("pointer",!0):P=="key"&&K.scrollIntoView(),i&&K.setMeta("composition",i),t.dispatch(K)}return}let c=t.state.doc.resolve(e),d=c.sharedDepth(n);e=c.before(d+1),n=t.state.doc.resolve(n).after(d+1);let f=t.state.selection,h=HA(t,e,n),p=t.state.doc,g=p.slice(h.from,h.to),b,N;t.input.lastKeyCode===8&&Date.now()-100<t.input.lastKeyCodeTime?(b=t.state.selection.to,N="end"):(b=t.state.selection.from,N="start"),t.input.lastKeyCode=null;let w=JA(g.content,h.doc.content,h.from,b,N);if(w&&t.input.domChangeCount++,(ui&&t.input.lastIOSEnter>Date.now()-225||ts)&&s.some(P=>P.nodeType==1&&!qA.test(P.nodeName))&&(!w||w.endA>=w.endB)&&t.someProp("handleKeyDown",P=>P(t,Fo(13,"Enter")))){t.input.lastIOSEnter=0;return}if(!w)if(r&&f instanceof Ee&&!f.empty&&f.$head.sameParent(f.$anchor)&&!t.composing&&!(h.sel&&h.sel.anchor!=h.sel.head))w={start:f.from,endA:f.to,endB:f.to};else{if(h.sel){let P=Pv(t,t.state.doc,h.sel);if(P&&!P.eq(t.state.selection)){let te=t.state.tr.setSelection(P);i&&te.setMeta("composition",i),t.dispatch(te)}}return}t.state.selection.from<t.state.selection.to&&w.start==w.endB&&t.state.selection instanceof Ee&&(w.start>t.state.selection.from&&w.start<=t.state.selection.from+2&&t.state.selection.from>=h.from?w.start=t.state.selection.from:w.endA<t.state.selection.to&&w.endA>=t.state.selection.to-2&&t.state.selection.to<=h.to&&(w.endB+=t.state.selection.to-w.endA,w.endA=t.state.selection.to)),Tn&&oo<=11&&w.endB==w.start+1&&w.endA==w.start&&w.start>h.from&&h.doc.textBetween(w.start-h.from-1,w.start-h.from+1)==" "&&(w.start--,w.endA--,w.endB--);let S=h.doc.resolveNoCache(w.start-h.from),T=h.doc.resolveNoCache(w.endB-h.from),E=p.resolve(w.start),M=S.sameParent(T)&&S.parent.inlineContent&&E.end()>=w.endA;if((ui&&t.input.lastIOSEnter>Date.now()-225&&(!M||s.some(P=>P.nodeName=="DIV"||P.nodeName=="P"))||!M&&S.pos<h.doc.content.size&&(!S.sameParent(T)||!S.parent.inlineContent)&&S.pos<T.pos&&!/\S/.test(h.doc.textBetween(S.pos,T.pos,"","")))&&t.someProp("handleKeyDown",P=>P(t,Fo(13,"Enter")))){t.input.lastIOSEnter=0;return}if(t.state.selection.anchor>w.start&&$A(p,w.start,w.endA,S,T)&&t.someProp("handleKeyDown",P=>P(t,Fo(8,"Backspace")))){ts&&Zt&&t.domObserver.suppressSelectionUpdates();return}Zt&&w.endB==w.start&&(t.input.lastChromeDelete=Date.now()),ts&&!M&&S.start()!=T.start()&&T.parentOffset==0&&S.depth==T.depth&&h.sel&&h.sel.anchor==h.sel.head&&h.sel.head==w.endA&&(w.endB-=2,T=h.doc.resolveNoCache(w.endB-h.from),setTimeout(()=>{t.someProp("handleKeyDown",function(P){return P(t,Fo(13,"Enter"))})},20));let D=w.start,H=w.endA,V=P=>{let te=P||t.state.tr.replace(D,H,h.doc.slice(w.start-h.from,w.endB-h.from));if(h.sel){let K=Pv(t,te.doc,h.sel);K&&!(Zt&&t.composing&&K.empty&&(w.start!=w.endB||t.input.lastChromeDelete<Date.now()-100)&&(K.head==D||K.head==te.mapping.map(H)-1)||Tn&&K.empty&&K.head==D)&&te.setSelection(K)}return i&&te.setMeta("composition",i),te.scrollIntoView()},z;if(M)if(S.pos==T.pos){Tn&&oo<=11&&S.parentOffset==0&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>rs(t),20));let P=V(t.state.tr.delete(D,H)),te=p.resolve(w.start).marksAcross(p.resolve(w.endA));te&&P.ensureMarks(te),t.dispatch(P)}else if(w.endA==w.endB&&(z=GA(S.parent.content.cut(S.parentOffset,T.parentOffset),E.parent.content.cut(E.parentOffset,w.endA-E.start())))){let P=V(t.state.tr);z.type=="add"?P.addMark(D,H,z.mark):P.removeMark(D,H,z.mark),t.dispatch(P)}else if(S.parent.child(S.index()).isText&&S.index()==T.index()-(T.textOffset?0:1)){let P=S.parent.textBetween(S.parentOffset,T.parentOffset),te=()=>V(t.state.tr.insertText(P,D,H));t.someProp("handleTextInput",K=>K(t,D,H,P,te))||t.dispatch(te())}else t.dispatch(V());else t.dispatch(V())}function Pv(t,e,n){return Math.max(n.anchor,n.head)>e.content.size?null:pg(t,e.resolve(n.anchor),e.resolve(n.head))}function GA(t,e){let n=t.firstChild.marks,r=e.firstChild.marks,s=n,i=r,c,d,f;for(let p=0;p<r.length;p++)s=r[p].removeFromSet(s);for(let p=0;p<n.length;p++)i=n[p].removeFromSet(i);if(s.length==1&&i.length==0)d=s[0],c="add",f=p=>p.mark(d.addToSet(p.marks));else if(s.length==0&&i.length==1)d=i[0],c="remove",f=p=>p.mark(d.removeFromSet(p.marks));else return null;let h=[];for(let p=0;p<e.childCount;p++)h.push(f(e.child(p)));if(ne.from(h).eq(t))return{mark:d,type:c}}function $A(t,e,n,r,s){if(n-e<=s.pos-r.pos||qm(r,!0,!1)<s.pos)return!1;let i=t.resolve(e);if(!r.parent.isTextblock){let d=i.nodeAfter;return d!=null&&n==e+d.nodeSize}if(i.parentOffset<i.parent.content.size||!i.parent.isTextblock)return!1;let c=t.resolve(qm(i,!0,!0));return!c.parent.isTextblock||c.pos>n||qm(c,!0,!1)<n?!1:r.parent.content.cut(r.parentOffset).eq(c.parent.content)}function qm(t,e,n){let r=t.depth,s=e?t.end():t.pos;for(;r>0&&(e||t.indexAfter(r)==t.node(r).childCount);)r--,s++,e=!1;if(n){let i=t.node(r).maybeChild(t.indexAfter(r));for(;i&&!i.isLeaf;)i=i.firstChild,s++}return s}function JA(t,e,n,r,s){let i=t.findDiffStart(e,n);if(i==null)return null;let{a:c,b:d}=t.findDiffEnd(e,n+t.size,n+e.size);if(s=="end"){let f=Math.max(0,i-Math.min(c,d));r-=c+f-i}if(c<i&&t.size<e.size){let f=r<=i&&r>=c?i-r:0;i-=f,i&&i<e.size&&Lv(e.textBetween(i-1,i+1))&&(i+=f?1:-1),d=i+(d-c),c=i}else if(d<i){let f=r<=i&&r>=d?i-r:0;i-=f,i&&i<t.size&&Lv(t.textBetween(i-1,i+1))&&(i+=f?1:-1),c=i+(c-d),d=i}return{start:i,endA:c,endB:d}}function Lv(t){if(t.length!=2)return!1;let e=t.charCodeAt(0),n=t.charCodeAt(1);return e>=56320&&e<=57343&&n>=55296&&n<=56319}class AC{constructor(e,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new fA,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(Hv),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=zv(this),Bv(this),this.nodeViews=Uv(this),this.docView=xv(this.state.doc,Ov(this),Vm(this),this.dom,this),this.domObserver=new OA(this,(r,s,i,c)=>FA(this,r,s,i,c)),this.domObserver.start(),hA(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let n in e)this._props[n]=e[n];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&kp(this);let n=this._props;this._props=e,e.plugins&&(e.plugins.forEach(Hv),this.directPlugins=e.plugins),this.updateStateInner(e.state,n)}setProps(e){let n={};for(let r in this._props)n[r]=this._props[r];n.state=this.state;for(let r in e)n[r]=e[r];this.update(n)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,n){var r;let s=this.state,i=!1,c=!1;e.storedMarks&&this.composing&&(NC(this),c=!0),this.state=e;let d=s.plugins!=e.plugins||this._props.plugins!=n.plugins;if(d||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let N=Uv(this);YA(N,this.nodeViews)&&(this.nodeViews=N,i=!0)}(d||n.handleDOMEvents!=this._props.handleDOMEvents)&&kp(this),this.editable=zv(this),Bv(this);let f=Vm(this),h=Ov(this),p=s.plugins!=e.plugins&&!s.doc.eq(e.doc)?"reset":e.scrollToSelection>s.scrollToSelection?"to selection":"preserve",g=i||!this.docView.matchesNode(e.doc,h,f);(g||!e.selection.eq(s.selection))&&(c=!0);let b=p=="preserve"&&c&&this.dom.style.overflowAnchor==null&&EE(this);if(c){this.domObserver.stop();let N=g&&(Tn||Zt)&&!this.composing&&!s.selection.empty&&!e.selection.empty&&KA(s.selection,e.selection);if(g){let w=Zt?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=kA(this)),(i||!this.docView.update(e.doc,h,f,this))&&(this.docView.updateOuterDeco(h),this.docView.destroy(),this.docView=xv(e.doc,h,f,this.dom,this)),w&&!this.trackWrites&&(N=!0)}N||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&XE(this))?rs(this,N):(cC(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(s),!((r=this.dragging)===null||r===void 0)&&r.node&&!s.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,s),p=="reset"?this.dom.scrollTop=0:p=="to selection"?this.scrollToSelection():b&&AE(b)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!(!e||!this.dom.contains(e.nodeType==1?e:e.parentNode))){if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof Ce){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&uv(this,n.getBoundingClientRect(),e)}else uv(this,this.coordsAtPos(this.state.selection.head,1),e)}}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let r=this.directPlugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let r=this.state.plugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let r=this.pluginViews[n];r.update&&r.update(this,e)}}updateDraggedNode(e,n){let r=e.node,s=-1;if(this.state.doc.nodeAt(r.from)==r.node)s=r.from;else{let i=r.from+(this.state.doc.content.size-n.doc.content.size);(i>0&&this.state.doc.nodeAt(i))==r.node&&(s=i)}this.dragging=new wC(e.slice,e.move,s<0?void 0:Ce.create(this.state.doc,s))}someProp(e,n){let r=this._props&&this._props[e],s;if(r!=null&&(s=n?n(r):r))return s;for(let c=0;c<this.directPlugins.length;c++){let d=this.directPlugins[c].props[e];if(d!=null&&(s=n?n(d):d))return s}let i=this.state.plugins;if(i)for(let c=0;c<i.length;c++){let d=i[c].props[e];if(d!=null&&(s=n?n(d):d))return s}}hasFocus(){if(Tn){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&jE(this.dom),rs(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return e||document}updateRoot(){this._root=null}posAtCoords(e){return _E(this,e)}coordsAtPos(e,n=1){return tC(this,e,n)}domAtPos(e,n=0){return this.docView.domFromPos(e,n)}nodeDOM(e){let n=this.docView.descAt(e);return n?n.nodeDOM:null}posAtDOM(e,n,r=-1){let s=this.docView.posFromDOM(e,n,r);if(s==null)throw new RangeError("DOM position not inside the editor");return s}endOfTextblock(e,n){return zE(this,n||this.state,e)}pasteHTML(e,n){return Fl(this,"",e,!1,n||new ClipboardEvent("paste"))}pasteText(e,n){return Fl(this,e,null,!0,n||new ClipboardEvent("paste"))}serializeForClipboard(e){return gg(this,e)}destroy(){this.docView&&(mA(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],Vm(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,gE())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return gA(this,e)}domSelectionRange(){let e=this.domSelection();return e?un&&this.root.nodeType===11&&NE(this.dom.ownerDocument)==this.dom&&zA(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}AC.prototype.dispatch=function(t){let e=this._props.dispatchTransaction;e?e.call(this,t):this.updateState(this.state.apply(t))};function Ov(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),t.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(t.state)),n)for(let r in n)r=="class"?e.class+=" "+n[r]:r=="style"?e.style=(e.style?e.style+";":"")+n[r]:!e[r]&&r!="contenteditable"&&r!="nodeName"&&(e[r]=String(n[r]))}),e.translate||(e.translate="no"),[dn.node(0,t.state.doc.content.size,e)]}function Bv(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:dn.widget(t.state.selection.from,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function zv(t){return!t.someProp("editable",e=>e(t.state)===!1)}function KA(t,e){let n=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(n)!=e.$anchor.start(n)}function Uv(t){let e=Object.create(null);function n(r){for(let s in r)Object.prototype.hasOwnProperty.call(e,s)||(e[s]=r[s])}return t.someProp("nodeViews",n),t.someProp("markViews",n),e}function YA(t,e){let n=0,r=0;for(let s in t){if(t[s]!=e[s])return!0;n++}for(let s in e)r++;return n!=r}function Hv(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var fo={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},nu={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},WA=typeof navigator<"u"&&/Mac/.test(navigator.platform),XA=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var Jt=0;Jt<10;Jt++)fo[48+Jt]=fo[96+Jt]=String(Jt);for(var Jt=1;Jt<=24;Jt++)fo[Jt+111]="F"+Jt;for(var Jt=65;Jt<=90;Jt++)fo[Jt]=String.fromCharCode(Jt+32),nu[Jt]=String.fromCharCode(Jt);for(var Fm in fo)nu.hasOwnProperty(Fm)||(nu[Fm]=fo[Fm]);function QA(t){var e=WA&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||XA&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?nu:fo)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const ZA=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),ej=typeof navigator<"u"&&/Win/.test(navigator.platform);function tj(t){let e=t.split(/-(?!$)/),n=e[e.length-1];n=="Space"&&(n=" ");let r,s,i,c;for(let d=0;d<e.length-1;d++){let f=e[d];if(/^(cmd|meta|m)$/i.test(f))c=!0;else if(/^a(lt)?$/i.test(f))r=!0;else if(/^(c|ctrl|control)$/i.test(f))s=!0;else if(/^s(hift)?$/i.test(f))i=!0;else if(/^mod$/i.test(f))ZA?c=!0:s=!0;else throw new Error("Unrecognized modifier name: "+f)}return r&&(n="Alt-"+n),s&&(n="Ctrl-"+n),c&&(n="Meta-"+n),i&&(n="Shift-"+n),n}function nj(t){let e=Object.create(null);for(let n in t)e[tj(n)]=t[n];return e}function Gm(t,e,n=!0){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n&&e.shiftKey&&(t="Shift-"+t),t}function rj(t){return new yt({props:{handleKeyDown:jC(t)}})}function jC(t){let e=nj(t);return function(n,r){let s=QA(r),i,c=e[Gm(s,r)];if(c&&c(n.state,n.dispatch,n))return!0;if(s.length==1&&s!=" "){if(r.shiftKey){let d=e[Gm(s,r,!1)];if(d&&d(n.state,n.dispatch,n))return!0}if((r.altKey||r.metaKey||r.ctrlKey)&&!(ej&&r.ctrlKey&&r.altKey)&&(i=fo[r.keyCode])&&i!=s){let d=e[Gm(i,r)];if(d&&d(n.state,n.dispatch,n))return!0}}return!1}}var sj=Object.defineProperty,Cg=(t,e)=>{for(var n in e)sj(t,n,{get:e[n],enumerable:!0})};function Qu(t){const{state:e,transaction:n}=t;let{selection:r}=n,{doc:s}=n,{storedMarks:i}=n;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return i},get selection(){return r},get doc(){return s},get tr(){return r=n.selection,s=n.doc,i=n.storedMarks,n}}}var Zu=class{constructor(t){this.editor=t.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=t.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:t,editor:e,state:n}=this,{view:r}=e,{tr:s}=n,i=this.buildProps(s);return Object.fromEntries(Object.entries(t).map(([c,d])=>[c,(...h)=>{const p=d(...h)(i);return!s.getMeta("preventDispatch")&&!this.hasCustomState&&r.dispatch(s),p}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(t,e=!0){const{rawCommands:n,editor:r,state:s}=this,{view:i}=r,c=[],d=!!t,f=t||s.tr,h=()=>(!d&&e&&!f.getMeta("preventDispatch")&&!this.hasCustomState&&i.dispatch(f),c.every(g=>g===!0)),p={...Object.fromEntries(Object.entries(n).map(([g,b])=>[g,(...w)=>{const S=this.buildProps(f,e),T=b(...w)(S);return c.push(T),p}])),run:h};return p}createCan(t){const{rawCommands:e,state:n}=this,r=!1,s=t||n.tr,i=this.buildProps(s,r);return{...Object.fromEntries(Object.entries(e).map(([d,f])=>[d,(...h)=>f(...h)({...i,dispatch:void 0})])),chain:()=>this.createChain(s,r)}}buildProps(t,e=!0){const{rawCommands:n,editor:r,state:s}=this,{view:i}=r,c={tr:t,editor:r,view:i,state:Qu({state:s,transaction:t}),dispatch:e?()=>{}:void 0,chain:()=>this.createChain(t,e),can:()=>this.createCan(t),get commands(){return Object.fromEntries(Object.entries(n).map(([d,f])=>[d,(...h)=>f(...h)(c)]))}};return c}},MC={};Cg(MC,{blur:()=>oj,clearContent:()=>aj,clearNodes:()=>ij,command:()=>lj,createParagraphNear:()=>cj,cut:()=>dj,deleteCurrentNode:()=>uj,deleteNode:()=>fj,deleteRange:()=>hj,deleteSelection:()=>mj,enter:()=>pj,exitCode:()=>gj,extendMarkRange:()=>xj,first:()=>bj,focus:()=>vj,forEach:()=>Nj,insertContent:()=>Cj,insertContentAt:()=>Tj,joinBackward:()=>Aj,joinDown:()=>Ej,joinForward:()=>jj,joinItemBackward:()=>Mj,joinItemForward:()=>Rj,joinTextblockBackward:()=>Ij,joinTextblockForward:()=>Dj,joinUp:()=>kj,keyboardShortcut:()=>Pj,lift:()=>Lj,liftEmptyBlock:()=>Oj,liftListItem:()=>Bj,newlineInCode:()=>zj,resetAttributes:()=>Uj,scrollIntoView:()=>Hj,selectAll:()=>Vj,selectNodeBackward:()=>qj,selectNodeForward:()=>Fj,selectParentNode:()=>Gj,selectTextblockEnd:()=>$j,selectTextblockStart:()=>Jj,setContent:()=>Kj,setMark:()=>f4,setMeta:()=>h4,setNode:()=>m4,setNodeSelection:()=>p4,setTextSelection:()=>g4,sinkListItem:()=>x4,splitBlock:()=>b4,splitListItem:()=>y4,toggleList:()=>v4,toggleMark:()=>N4,toggleNode:()=>C4,toggleWrap:()=>w4,undoInputRule:()=>S4,unsetAllMarks:()=>T4,unsetMark:()=>k4,updateAttributes:()=>E4,wrapIn:()=>A4,wrapInList:()=>j4});var oj=()=>({editor:t,view:e})=>(requestAnimationFrame(()=>{var n;t.isDestroyed||(e.dom.blur(),(n=window==null?void 0:window.getSelection())==null||n.removeAllRanges())}),!0),aj=(t=!0)=>({commands:e})=>e.setContent("",{emitUpdate:t}),ij=()=>({state:t,tr:e,dispatch:n})=>{const{selection:r}=e,{ranges:s}=r;return n&&s.forEach(({$from:i,$to:c})=>{t.doc.nodesBetween(i.pos,c.pos,(d,f)=>{if(d.type.isText)return;const{doc:h,mapping:p}=e,g=h.resolve(p.map(f)),b=h.resolve(p.map(f+d.nodeSize)),N=g.blockRange(b);if(!N)return;const w=gi(N);if(d.type.isTextblock){const{defaultType:S}=g.parent.contentMatchAt(g.index());e.setNodeMarkup(N.start,S)}(w||w===0)&&e.lift(N,w)})}),!0},lj=t=>e=>t(e),cj=()=>({state:t,dispatch:e})=>GN(t,e),dj=(t,e)=>({editor:n,tr:r})=>{const{state:s}=n,i=s.doc.slice(t.from,t.to);r.deleteRange(t.from,t.to);const c=r.mapping.map(e);return r.insert(c,i.content),r.setSelection(new Ee(r.doc.resolve(Math.max(c-1,0)))),!0},uj=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,r=n.$anchor.node();if(r.content.size>0)return!1;const s=t.selection.$anchor;for(let i=s.depth;i>0;i-=1)if(s.node(i).type===r.type){if(e){const d=s.before(i),f=s.after(i);t.delete(d,f).scrollIntoView()}return!0}return!1};function Mt(t,e){if(typeof t=="string"){if(!e.nodes[t])throw Error(`There is no node type named '${t}'. Maybe you forgot to add the extension?`);return e.nodes[t]}return t}var fj=t=>({tr:e,state:n,dispatch:r})=>{const s=Mt(t,n.schema),i=e.selection.$anchor;for(let c=i.depth;c>0;c-=1)if(i.node(c).type===s){if(r){const f=i.before(c),h=i.after(c);e.delete(f,h).scrollIntoView()}return!0}return!1},hj=t=>({tr:e,dispatch:n})=>{const{from:r,to:s}=t;return n&&e.delete(r,s),!0},mj=()=>({state:t,dispatch:e})=>lg(t,e),pj=()=>({commands:t})=>t.keyboardShortcut("Enter"),gj=()=>({state:t,dispatch:e})=>tE(t,e);function wg(t){return Object.prototype.toString.call(t)==="[object RegExp]"}function ru(t,e,n={strict:!0}){const r=Object.keys(e);return r.length?r.every(s=>n.strict?e[s]===t[s]:wg(e[s])?e[s].test(t[s]):e[s]===t[s]):!0}function RC(t,e,n={}){return t.find(r=>r.type===e&&ru(Object.fromEntries(Object.keys(n).map(s=>[s,r.attrs[s]])),n))}function Vv(t,e,n={}){return!!RC(t,e,n)}function Sg(t,e,n){var r;if(!t||!e)return;let s=t.parent.childAfter(t.parentOffset);if((!s.node||!s.node.marks.some(p=>p.type===e))&&(s=t.parent.childBefore(t.parentOffset)),!s.node||!s.node.marks.some(p=>p.type===e)||(n=n||((r=s.node.marks[0])==null?void 0:r.attrs),!RC([...s.node.marks],e,n)))return;let c=s.index,d=t.start()+s.offset,f=c+1,h=d+s.node.nodeSize;for(;c>0&&Vv([...t.parent.child(c-1).marks],e,n);)c-=1,d-=t.parent.child(c).nodeSize;for(;f<t.parent.childCount&&Vv([...t.parent.child(f).marks],e,n);)h+=t.parent.child(f).nodeSize,f+=1;return{from:d,to:h}}function is(t,e){if(typeof t=="string"){if(!e.marks[t])throw Error(`There is no mark type named '${t}'. Maybe you forgot to add the extension?`);return e.marks[t]}return t}var xj=(t,e={})=>({tr:n,state:r,dispatch:s})=>{const i=is(t,r.schema),{doc:c,selection:d}=n,{$from:f,from:h,to:p}=d;if(s){const g=Sg(f,i,e);if(g&&g.from<=h&&g.to>=p){const b=Ee.create(c,g.from,g.to);n.setSelection(b)}}return!0},bj=t=>e=>{const n=typeof t=="function"?t(e):t;for(let r=0;r<n.length;r+=1)if(n[r](e))return!0;return!1};function IC(t){return t instanceof Ee}function Jo(t=0,e=0,n=0){return Math.min(Math.max(t,e),n)}function DC(t,e=null){if(!e)return null;const n=Pe.atStart(t),r=Pe.atEnd(t);if(e==="start"||e===!0)return n;if(e==="end")return r;const s=n.from,i=r.to;return e==="all"?Ee.create(t,Jo(0,s,i),Jo(t.content.size,s,i)):Ee.create(t,Jo(e,s,i),Jo(e,s,i))}function yj(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function Tg(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}var vj=(t=null,e={})=>({editor:n,view:r,tr:s,dispatch:i})=>{e={scrollIntoView:!0,...e};const c=()=>{(Tg()||yj())&&r.dom.focus(),requestAnimationFrame(()=>{n.isDestroyed||(r.focus(),e!=null&&e.scrollIntoView&&n.commands.scrollIntoView())})};if(r.hasFocus()&&t===null||t===!1)return!0;if(i&&t===null&&!IC(n.state.selection))return c(),!0;const d=DC(s.doc,t)||n.state.selection,f=n.state.selection.eq(d);return i&&(f||s.setSelection(d),f&&s.storedMarks&&s.setStoredMarks(s.storedMarks),c()),!0},Nj=(t,e)=>n=>t.every((r,s)=>e(r,{...n,index:s})),Cj=(t,e)=>({tr:n,commands:r})=>r.insertContentAt({from:n.selection.from,to:n.selection.to},t,e),_C=t=>{const e=t.childNodes;for(let n=e.length-1;n>=0;n-=1){const r=e[n];r.nodeType===3&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?t.removeChild(r):r.nodeType===1&&_C(r)}return t};function jd(t){if(typeof window>"u")throw new Error("[tiptap error]: there is no window object available, so this function cannot be used");const e=`<body>${t}</body>`,n=new window.DOMParser().parseFromString(e,"text/html").body;return _C(n)}function $l(t,e,n){if(t instanceof pr||t instanceof ne)return t;n={slice:!0,parseOptions:{},...n};const r=typeof t=="object"&&t!==null,s=typeof t=="string";if(r)try{if(Array.isArray(t)&&t.length>0)return ne.fromArray(t.map(d=>e.nodeFromJSON(d)));const c=e.nodeFromJSON(t);return n.errorOnInvalidContent&&c.check(),c}catch(i){if(n.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:i});return console.warn("[tiptap warn]: Invalid content.","Passed value:",t,"Error:",i),$l("",e,n)}if(s){if(n.errorOnInvalidContent){let c=!1,d="";const f=new bN({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:h=>(c=!0,d=typeof h=="string"?h:h.outerHTML,null)}]}})});if(n.slice?so.fromSchema(f).parseSlice(jd(t),n.parseOptions):so.fromSchema(f).parse(jd(t),n.parseOptions),n.errorOnInvalidContent&&c)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${d}`)})}const i=so.fromSchema(e);return n.slice?i.parseSlice(jd(t),n.parseOptions).content:i.parse(jd(t),n.parseOptions)}return $l("",e,n)}function wj(t,e,n){const r=t.steps.length-1;if(r<e)return;const s=t.steps[r];if(!(s instanceof Ot||s instanceof Bt))return;const i=t.mapping.maps[r];let c=0;i.forEach((d,f,h,p)=>{c===0&&(c=p)}),t.setSelection(Pe.near(t.doc.resolve(c),n))}var Sj=t=>!("type"in t),Tj=(t,e,n)=>({tr:r,dispatch:s,editor:i})=>{var c;if(s){n={parseOptions:i.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...n};let d;const f=T=>{i.emit("contentError",{editor:i,error:T,disableCollaboration:()=>{"collaboration"in i.storage&&typeof i.storage.collaboration=="object"&&i.storage.collaboration&&(i.storage.collaboration.isDisabled=!0)}})},h={preserveWhitespace:"full",...n.parseOptions};if(!n.errorOnInvalidContent&&!i.options.enableContentCheck&&i.options.emitContentError)try{$l(e,i.schema,{parseOptions:h,errorOnInvalidContent:!0})}catch(T){f(T)}try{d=$l(e,i.schema,{parseOptions:h,errorOnInvalidContent:(c=n.errorOnInvalidContent)!=null?c:i.options.enableContentCheck})}catch(T){return f(T),!1}let{from:p,to:g}=typeof t=="number"?{from:t,to:t}:{from:t.from,to:t.to},b=!0,N=!0;if((Sj(d)?d:[d]).forEach(T=>{T.check(),b=b?T.isText&&T.marks.length===0:!1,N=N?T.isBlock:!1}),p===g&&N){const{parent:T}=r.doc.resolve(p);T.isTextblock&&!T.type.spec.code&&!T.childCount&&(p-=1,g+=1)}let S;if(b){if(Array.isArray(e))S=e.map(T=>T.text||"").join("");else if(e instanceof ne){let T="";e.forEach(E=>{E.text&&(T+=E.text)}),S=T}else typeof e=="object"&&e&&e.text?S=e.text:S=e;r.insertText(S,p,g)}else{S=d;const T=r.doc.resolve(p),E=T.node(),M=T.parentOffset===0,D=E.isText||E.isTextblock,H=E.content.size>0;M&&D&&H&&(p=Math.max(0,p-1)),r.replaceWith(p,g,S)}n.updateSelection&&wj(r,r.steps.length-1,-1),n.applyInputRules&&r.setMeta("applyInputRules",{from:p,text:S}),n.applyPasteRules&&r.setMeta("applyPasteRules",{from:p,text:S})}return!0},kj=()=>({state:t,dispatch:e})=>Qk(t,e),Ej=()=>({state:t,dispatch:e})=>Zk(t,e),Aj=()=>({state:t,dispatch:e})=>BN(t,e),jj=()=>({state:t,dispatch:e})=>VN(t,e),Mj=()=>({state:t,dispatch:e,tr:n})=>{try{const r=$u(t.doc,t.selection.$from.pos,-1);return r==null?!1:(n.join(r,2),e&&e(n),!0)}catch{return!1}},Rj=()=>({state:t,dispatch:e,tr:n})=>{try{const r=$u(t.doc,t.selection.$from.pos,1);return r==null?!1:(n.join(r,2),e&&e(n),!0)}catch{return!1}},Ij=()=>({state:t,dispatch:e})=>Wk(t,e),Dj=()=>({state:t,dispatch:e})=>Xk(t,e);function PC(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function _j(t){const e=t.split(/-(?!$)/);let n=e[e.length-1];n==="Space"&&(n=" ");let r,s,i,c;for(let d=0;d<e.length-1;d+=1){const f=e[d];if(/^(cmd|meta|m)$/i.test(f))c=!0;else if(/^a(lt)?$/i.test(f))r=!0;else if(/^(c|ctrl|control)$/i.test(f))s=!0;else if(/^s(hift)?$/i.test(f))i=!0;else if(/^mod$/i.test(f))Tg()||PC()?c=!0:s=!0;else throw new Error(`Unrecognized modifier name: ${f}`)}return r&&(n=`Alt-${n}`),s&&(n=`Ctrl-${n}`),c&&(n=`Meta-${n}`),i&&(n=`Shift-${n}`),n}var Pj=t=>({editor:e,view:n,tr:r,dispatch:s})=>{const i=_j(t).split(/-(?!$)/),c=i.find(h=>!["Alt","Ctrl","Meta","Shift"].includes(h)),d=new KeyboardEvent("keydown",{key:c==="Space"?" ":c,altKey:i.includes("Alt"),ctrlKey:i.includes("Ctrl"),metaKey:i.includes("Meta"),shiftKey:i.includes("Shift"),bubbles:!0,cancelable:!0}),f=e.captureTransaction(()=>{n.someProp("handleKeyDown",h=>h(n,d))});return f==null||f.steps.forEach(h=>{const p=h.map(r.mapping);p&&s&&r.maybeStep(p)}),!0};function ho(t,e,n={}){const{from:r,to:s,empty:i}=t.selection,c=e?Mt(e,t.schema):null,d=[];t.doc.nodesBetween(r,s,(g,b)=>{if(g.isText)return;const N=Math.max(r,b),w=Math.min(s,b+g.nodeSize);d.push({node:g,from:N,to:w})});const f=s-r,h=d.filter(g=>c?c.name===g.node.type.name:!0).filter(g=>ru(g.node.attrs,n,{strict:!1}));return i?!!h.length:h.reduce((g,b)=>g+b.to-b.from,0)>=f}var Lj=(t,e={})=>({state:n,dispatch:r})=>{const s=Mt(t,n.schema);return ho(n,s,e)?eE(n,r):!1},Oj=()=>({state:t,dispatch:e})=>$N(t,e),Bj=t=>({state:e,dispatch:n})=>{const r=Mt(t,e.schema);return fE(r)(e,n)},zj=()=>({state:t,dispatch:e})=>FN(t,e);function ef(t,e){return e.nodes[t]?"node":e.marks[t]?"mark":null}function qv(t,e){const n=typeof e=="string"?[e]:e;return Object.keys(t).reduce((r,s)=>(n.includes(s)||(r[s]=t[s]),r),{})}var Uj=(t,e)=>({tr:n,state:r,dispatch:s})=>{let i=null,c=null;const d=ef(typeof t=="string"?t:t.name,r.schema);return d?(d==="node"&&(i=Mt(t,r.schema)),d==="mark"&&(c=is(t,r.schema)),s&&n.selection.ranges.forEach(f=>{r.doc.nodesBetween(f.$from.pos,f.$to.pos,(h,p)=>{i&&i===h.type&&n.setNodeMarkup(p,void 0,qv(h.attrs,e)),c&&h.marks.length&&h.marks.forEach(g=>{c===g.type&&n.addMark(p,p+h.nodeSize,c.create(qv(g.attrs,e)))})})}),!0):!1},Hj=()=>({tr:t,dispatch:e})=>(e&&t.scrollIntoView(),!0),Vj=()=>({tr:t,dispatch:e})=>{if(e){const n=new On(t.doc);t.setSelection(n)}return!0},qj=()=>({state:t,dispatch:e})=>UN(t,e),Fj=()=>({state:t,dispatch:e})=>qN(t,e),Gj=()=>({state:t,dispatch:e})=>sE(t,e),$j=()=>({state:t,dispatch:e})=>iE(t,e),Jj=()=>({state:t,dispatch:e})=>aE(t,e);function Ep(t,e,n={},r={}){return $l(t,e,{slice:!1,parseOptions:n,errorOnInvalidContent:r.errorOnInvalidContent})}var Kj=(t,{errorOnInvalidContent:e,emitUpdate:n=!0,parseOptions:r={}}={})=>({editor:s,tr:i,dispatch:c,commands:d})=>{const{doc:f}=i;if(r.preserveWhitespace!=="full"){const h=Ep(t,s.schema,r,{errorOnInvalidContent:e??s.options.enableContentCheck});return c&&i.replaceWith(0,f.content.size,h).setMeta("preventUpdate",!n),!0}return c&&i.setMeta("preventUpdate",!n),d.insertContentAt({from:0,to:f.content.size},t,{parseOptions:r,errorOnInvalidContent:e??s.options.enableContentCheck})};function LC(t,e){const n=is(e,t.schema),{from:r,to:s,empty:i}=t.selection,c=[];i?(t.storedMarks&&c.push(...t.storedMarks),c.push(...t.selection.$head.marks())):t.doc.nodesBetween(r,s,f=>{c.push(...f.marks)});const d=c.find(f=>f.type.name===n.name);return d?{...d.attrs}:{}}function OC(t,e){const n=new _N(t);return e.forEach(r=>{r.steps.forEach(s=>{n.step(s)})}),n}function Yj(t){for(let e=0;e<t.edgeCount;e+=1){const{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function Wj(t,e,n){const r=[];return t.nodesBetween(e.from,e.to,(s,i)=>{n(s)&&r.push({node:s,pos:i})}),r}function Xj(t,e){for(let n=t.depth;n>0;n-=1){const r=t.node(n);if(e(r))return{pos:n>0?t.before(n):0,start:t.start(n),depth:n,node:r}}}function tf(t){return e=>Xj(e.$from,t)}function Ne(t,e,n){return t.config[e]===void 0&&t.parent?Ne(t.parent,e,n):typeof t.config[e]=="function"?t.config[e].bind({...n,parent:t.parent?Ne(t.parent,e,n):null}):t.config[e]}function kg(t){return t.map(e=>{const n={name:e.name,options:e.options,storage:e.storage},r=Ne(e,"addExtensions",n);return r?[e,...kg(r())]:e}).flat(10)}function Eg(t,e){const n=la.fromSchema(e).serializeFragment(t),s=document.implementation.createHTMLDocument().createElement("div");return s.appendChild(n),s.innerHTML}function BC(t){return typeof t=="function"}function We(t,e=void 0,...n){return BC(t)?e?t.bind(e)(...n):t(...n):t}function Qj(t={}){return Object.keys(t).length===0&&t.constructor===Object}function Jl(t){const e=t.filter(s=>s.type==="extension"),n=t.filter(s=>s.type==="node"),r=t.filter(s=>s.type==="mark");return{baseExtensions:e,nodeExtensions:n,markExtensions:r}}function zC(t){const e=[],{nodeExtensions:n,markExtensions:r}=Jl(t),s=[...n,...r],i={default:null,validate:void 0,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return t.forEach(c=>{const d={name:c.name,options:c.options,storage:c.storage,extensions:s},f=Ne(c,"addGlobalAttributes",d);if(!f)return;f().forEach(p=>{p.types.forEach(g=>{Object.entries(p.attributes).forEach(([b,N])=>{e.push({type:g,name:b,attribute:{...i,...N}})})})})}),s.forEach(c=>{const d={name:c.name,options:c.options,storage:c.storage},f=Ne(c,"addAttributes",d);if(!f)return;const h=f();Object.entries(h).forEach(([p,g])=>{const b={...i,...g};typeof(b==null?void 0:b.default)=="function"&&(b.default=b.default()),b!=null&&b.isRequired&&(b==null?void 0:b.default)===void 0&&delete b.default,e.push({type:c.name,name:p,attribute:b})})}),e}function ht(...t){return t.filter(e=>!!e).reduce((e,n)=>{const r={...e};return Object.entries(n).forEach(([s,i])=>{if(!r[s]){r[s]=i;return}if(s==="class"){const d=i?String(i).split(" "):[],f=r[s]?r[s].split(" "):[],h=d.filter(p=>!f.includes(p));r[s]=[...f,...h].join(" ")}else if(s==="style"){const d=i?i.split(";").map(p=>p.trim()).filter(Boolean):[],f=r[s]?r[s].split(";").map(p=>p.trim()).filter(Boolean):[],h=new Map;f.forEach(p=>{const[g,b]=p.split(":").map(N=>N.trim());h.set(g,b)}),d.forEach(p=>{const[g,b]=p.split(":").map(N=>N.trim());h.set(g,b)}),r[s]=Array.from(h.entries()).map(([p,g])=>`${p}: ${g}`).join("; ")}else r[s]=i}),r},{})}function su(t,e){return e.filter(n=>n.type===t.type.name).filter(n=>n.attribute.rendered).map(n=>n.attribute.renderHTML?n.attribute.renderHTML(t.attrs)||{}:{[n.name]:t.attrs[n.name]}).reduce((n,r)=>ht(n,r),{})}function Zj(t){return typeof t!="string"?t:t.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(t):t==="true"?!0:t==="false"?!1:t}function Fv(t,e){return"style"in t?t:{...t,getAttrs:n=>{const r=t.getAttrs?t.getAttrs(n):t.attrs;if(r===!1)return!1;const s=e.reduce((i,c)=>{const d=c.attribute.parseHTML?c.attribute.parseHTML(n):Zj(n.getAttribute(c.name));return d==null?i:{...i,[c.name]:d}},{});return{...r,...s}}}}function Gv(t){return Object.fromEntries(Object.entries(t).filter(([e,n])=>e==="attrs"&&Qj(n)?!1:n!=null))}function e4(t,e){var n;const r=zC(t),{nodeExtensions:s,markExtensions:i}=Jl(t),c=(n=s.find(h=>Ne(h,"topNode")))==null?void 0:n.name,d=Object.fromEntries(s.map(h=>{const p=r.filter(E=>E.type===h.name),g={name:h.name,options:h.options,storage:h.storage,editor:e},b=t.reduce((E,M)=>{const D=Ne(M,"extendNodeSchema",g);return{...E,...D?D(h):{}}},{}),N=Gv({...b,content:We(Ne(h,"content",g)),marks:We(Ne(h,"marks",g)),group:We(Ne(h,"group",g)),inline:We(Ne(h,"inline",g)),atom:We(Ne(h,"atom",g)),selectable:We(Ne(h,"selectable",g)),draggable:We(Ne(h,"draggable",g)),code:We(Ne(h,"code",g)),whitespace:We(Ne(h,"whitespace",g)),linebreakReplacement:We(Ne(h,"linebreakReplacement",g)),defining:We(Ne(h,"defining",g)),isolating:We(Ne(h,"isolating",g)),attrs:Object.fromEntries(p.map(E=>{var M,D;return[E.name,{default:(M=E==null?void 0:E.attribute)==null?void 0:M.default,validate:(D=E==null?void 0:E.attribute)==null?void 0:D.validate}]}))}),w=We(Ne(h,"parseHTML",g));w&&(N.parseDOM=w.map(E=>Fv(E,p)));const S=Ne(h,"renderHTML",g);S&&(N.toDOM=E=>S({node:E,HTMLAttributes:su(E,p)}));const T=Ne(h,"renderText",g);return T&&(N.toText=T),[h.name,N]})),f=Object.fromEntries(i.map(h=>{const p=r.filter(T=>T.type===h.name),g={name:h.name,options:h.options,storage:h.storage,editor:e},b=t.reduce((T,E)=>{const M=Ne(E,"extendMarkSchema",g);return{...T,...M?M(h):{}}},{}),N=Gv({...b,inclusive:We(Ne(h,"inclusive",g)),excludes:We(Ne(h,"excludes",g)),group:We(Ne(h,"group",g)),spanning:We(Ne(h,"spanning",g)),code:We(Ne(h,"code",g)),attrs:Object.fromEntries(p.map(T=>{var E,M;return[T.name,{default:(E=T==null?void 0:T.attribute)==null?void 0:E.default,validate:(M=T==null?void 0:T.attribute)==null?void 0:M.validate}]}))}),w=We(Ne(h,"parseHTML",g));w&&(N.parseDOM=w.map(T=>Fv(T,p)));const S=Ne(h,"renderHTML",g);return S&&(N.toDOM=T=>S({mark:T,HTMLAttributes:su(T,p)})),[h.name,N]}));return new bN({topNode:c,nodes:d,marks:f})}function t4(t){const e=t.filter((n,r)=>t.indexOf(n)!==r);return Array.from(new Set(e))}function Ag(t){return t.sort((n,r)=>{const s=Ne(n,"priority")||100,i=Ne(r,"priority")||100;return s>i?-1:s<i?1:0})}function UC(t){const e=Ag(kg(t)),n=t4(e.map(r=>r.name));return n.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${n.map(r=>`'${r}'`).join(", ")}]. This can lead to issues.`),e}function HC(t,e,n){const{from:r,to:s}=e,{blockSeparator:i=`

`,textSerializers:c={}}=n||{};let d="";return t.nodesBetween(r,s,(f,h,p,g)=>{var b;f.isBlock&&h>r&&(d+=i);const N=c==null?void 0:c[f.type.name];if(N)return p&&(d+=N({node:f,pos:h,parent:p,index:g,range:e})),!1;f.isText&&(d+=(b=f==null?void 0:f.text)==null?void 0:b.slice(Math.max(r,h)-h,s-h))}),d}function n4(t,e){const n={from:0,to:t.content.size};return HC(t,n,e)}function VC(t){return Object.fromEntries(Object.entries(t.nodes).filter(([,e])=>e.spec.toText).map(([e,n])=>[e,n.spec.toText]))}function r4(t,e){const n=Mt(e,t.schema),{from:r,to:s}=t.selection,i=[];t.doc.nodesBetween(r,s,d=>{i.push(d)});const c=i.reverse().find(d=>d.type.name===n.name);return c?{...c.attrs}:{}}function qC(t,e){const n=ef(typeof e=="string"?e:e.name,t.schema);return n==="node"?r4(t,e):n==="mark"?LC(t,e):{}}function s4(t,e=JSON.stringify){const n={};return t.filter(r=>{const s=e(r);return Object.prototype.hasOwnProperty.call(n,s)?!1:n[s]=!0})}function o4(t){const e=s4(t);return e.length===1?e:e.filter((n,r)=>!e.filter((i,c)=>c!==r).some(i=>n.oldRange.from>=i.oldRange.from&&n.oldRange.to<=i.oldRange.to&&n.newRange.from>=i.newRange.from&&n.newRange.to<=i.newRange.to))}function FC(t){const{mapping:e,steps:n}=t,r=[];return e.maps.forEach((s,i)=>{const c=[];if(s.ranges.length)s.forEach((d,f)=>{c.push({from:d,to:f})});else{const{from:d,to:f}=n[i];if(d===void 0||f===void 0)return;c.push({from:d,to:f})}c.forEach(({from:d,to:f})=>{const h=e.slice(i).map(d,-1),p=e.slice(i).map(f),g=e.invert().map(h,-1),b=e.invert().map(p);r.push({oldRange:{from:g,to:b},newRange:{from:h,to:p}})})}),o4(r)}function jg(t,e,n){const r=[];return t===e?n.resolve(t).marks().forEach(s=>{const i=n.resolve(t),c=Sg(i,s.type);c&&r.push({mark:s,...c})}):n.nodesBetween(t,e,(s,i)=>{!s||(s==null?void 0:s.nodeSize)===void 0||r.push(...s.marks.map(c=>({from:i,to:i+s.nodeSize,mark:c})))}),r}var a4=(t,e,n,r=20)=>{const s=t.doc.resolve(n);let i=r,c=null;for(;i>0&&c===null;){const d=s.node(i);(d==null?void 0:d.type.name)===e?c=d:i-=1}return[c,i]};function $m(t,e){return e.nodes[t]||e.marks[t]||null}function Hd(t,e,n){return Object.fromEntries(Object.entries(n).filter(([r])=>{const s=t.find(i=>i.type===e&&i.name===r);return s?s.attribute.keepOnSplit:!1}))}var i4=(t,e=500)=>{let n="";const r=t.parentOffset;return t.parent.nodesBetween(Math.max(0,r-e),r,(s,i,c,d)=>{var f,h;const p=((h=(f=s.type.spec).toText)==null?void 0:h.call(f,{node:s,pos:i,parent:c,index:d}))||s.textContent||"%leaf%";n+=s.isAtom&&!s.isText?p:p.slice(0,Math.max(0,r-i))}),n};function Ap(t,e,n={}){const{empty:r,ranges:s}=t.selection,i=e?is(e,t.schema):null;if(r)return!!(t.storedMarks||t.selection.$from.marks()).filter(g=>i?i.name===g.type.name:!0).find(g=>ru(g.attrs,n,{strict:!1}));let c=0;const d=[];if(s.forEach(({$from:g,$to:b})=>{const N=g.pos,w=b.pos;t.doc.nodesBetween(N,w,(S,T)=>{if(!S.isText&&!S.marks.length)return;const E=Math.max(N,T),M=Math.min(w,T+S.nodeSize),D=M-E;c+=D,d.push(...S.marks.map(H=>({mark:H,from:E,to:M})))})}),c===0)return!1;const f=d.filter(g=>i?i.name===g.mark.type.name:!0).filter(g=>ru(g.mark.attrs,n,{strict:!1})).reduce((g,b)=>g+b.to-b.from,0),h=d.filter(g=>i?g.mark.type!==i&&g.mark.type.excludes(i):!0).reduce((g,b)=>g+b.to-b.from,0);return(f>0?f+h:f)>=c}function l4(t,e,n={}){if(!e)return ho(t,null,n)||Ap(t,null,n);const r=ef(e,t.schema);return r==="node"?ho(t,e,n):r==="mark"?Ap(t,e,n):!1}var c4=(t,e)=>{const{$from:n,$to:r,$anchor:s}=t.selection;if(e){const i=tf(d=>d.type.name===e)(t.selection);if(!i)return!1;const c=t.doc.resolve(i.pos+1);return s.pos+1===c.end()}return!(r.parentOffset<r.parent.nodeSize-2||n.pos!==r.pos)},d4=t=>{const{$from:e,$to:n}=t.selection;return!(e.parentOffset>0||e.pos!==n.pos)};function $v(t,e){return Array.isArray(e)?e.some(n=>(typeof n=="string"?n:n.name)===t.name):e}function Jv(t,e){const{nodeExtensions:n}=Jl(e),r=n.find(c=>c.name===t);if(!r)return!1;const s={name:r.name,options:r.options,storage:r.storage},i=We(Ne(r,"group",s));return typeof i!="string"?!1:i.split(" ").includes("list")}function nf(t,{checkChildren:e=!0,ignoreWhitespace:n=!1}={}){var r;if(n){if(t.type.name==="hardBreak")return!0;if(t.isText)return/^\s*$/m.test((r=t.text)!=null?r:"")}if(t.isText)return!t.text;if(t.isAtom||t.isLeaf)return!1;if(t.content.childCount===0)return!0;if(e){let s=!0;return t.content.forEach(i=>{s!==!1&&(nf(i,{ignoreWhitespace:n,checkChildren:e})||(s=!1))}),s}return!1}function GC(t){return t instanceof Ce}function u4(t,e,n){var r;const{selection:s}=e;let i=null;if(IC(s)&&(i=s.$cursor),i){const d=(r=t.storedMarks)!=null?r:i.marks();return i.parent.type.allowsMarkType(n)&&(!!n.isInSet(d)||!d.some(h=>h.type.excludes(n)))}const{ranges:c}=s;return c.some(({$from:d,$to:f})=>{let h=d.depth===0?t.doc.inlineContent&&t.doc.type.allowsMarkType(n):!1;return t.doc.nodesBetween(d.pos,f.pos,(p,g,b)=>{if(h)return!1;if(p.isInline){const N=!b||b.type.allowsMarkType(n),w=!!n.isInSet(p.marks)||!p.marks.some(S=>S.type.excludes(n));h=N&&w}return!h}),h})}var f4=(t,e={})=>({tr:n,state:r,dispatch:s})=>{const{selection:i}=n,{empty:c,ranges:d}=i,f=is(t,r.schema);if(s)if(c){const h=LC(r,f);n.addStoredMark(f.create({...h,...e}))}else d.forEach(h=>{const p=h.$from.pos,g=h.$to.pos;r.doc.nodesBetween(p,g,(b,N)=>{const w=Math.max(N,p),S=Math.min(N+b.nodeSize,g);b.marks.find(E=>E.type===f)?b.marks.forEach(E=>{f===E.type&&n.addMark(w,S,f.create({...E.attrs,...e}))}):n.addMark(w,S,f.create(e))})});return u4(r,n,f)},h4=(t,e)=>({tr:n})=>(n.setMeta(t,e),!0),m4=(t,e={})=>({state:n,dispatch:r,chain:s})=>{const i=Mt(t,n.schema);let c;return n.selection.$anchor.sameParent(n.selection.$head)&&(c=n.selection.$anchor.parent.attrs),i.isTextblock?s().command(({commands:d})=>lv(i,{...c,...e})(n)?!0:d.clearNodes()).command(({state:d})=>lv(i,{...c,...e})(d,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},p4=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,s=Jo(t,0,r.content.size),i=Ce.create(r,s);e.setSelection(i)}return!0},g4=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,{from:s,to:i}=typeof t=="number"?{from:t,to:t}:t,c=Ee.atStart(r).from,d=Ee.atEnd(r).to,f=Jo(s,c,d),h=Jo(i,c,d),p=Ee.create(r,f,h);e.setSelection(p)}return!0},x4=t=>({state:e,dispatch:n})=>{const r=Mt(t,e.schema);return pE(r)(e,n)};function Kv(t,e){const n=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks();if(n){const r=n.filter(s=>e==null?void 0:e.includes(s.type.name));t.tr.ensureMarks(r)}}var b4=({keepMarks:t=!0}={})=>({tr:e,state:n,dispatch:r,editor:s})=>{const{selection:i,doc:c}=e,{$from:d,$to:f}=i,h=s.extensionManager.attributes,p=Hd(h,d.node().type.name,d.node().attrs);if(i instanceof Ce&&i.node.isBlock)return!d.parentOffset||!ns(c,d.pos)?!1:(r&&(t&&Kv(n,s.extensionManager.splittableMarks),e.split(d.pos).scrollIntoView()),!0);if(!d.parent.isBlock)return!1;const g=f.parentOffset===f.parent.content.size,b=d.depth===0?void 0:Yj(d.node(-1).contentMatchAt(d.indexAfter(-1)));let N=g&&b?[{type:b,attrs:p}]:void 0,w=ns(e.doc,e.mapping.map(d.pos),1,N);if(!N&&!w&&ns(e.doc,e.mapping.map(d.pos),1,b?[{type:b}]:void 0)&&(w=!0,N=b?[{type:b,attrs:p}]:void 0),r){if(w&&(i instanceof Ee&&e.deleteSelection(),e.split(e.mapping.map(d.pos),1,N),b&&!g&&!d.parentOffset&&d.parent.type!==b)){const S=e.mapping.map(d.before()),T=e.doc.resolve(S);d.node(-1).canReplaceWith(T.index(),T.index()+1,b)&&e.setNodeMarkup(e.mapping.map(d.before()),b)}t&&Kv(n,s.extensionManager.splittableMarks),e.scrollIntoView()}return w},y4=(t,e={})=>({tr:n,state:r,dispatch:s,editor:i})=>{var c;const d=Mt(t,r.schema),{$from:f,$to:h}=r.selection,p=r.selection.node;if(p&&p.isBlock||f.depth<2||!f.sameParent(h))return!1;const g=f.node(-1);if(g.type!==d)return!1;const b=i.extensionManager.attributes;if(f.parent.content.size===0&&f.node(-1).childCount===f.indexAfter(-1)){if(f.depth===2||f.node(-3).type!==d||f.index(-2)!==f.node(-2).childCount-1)return!1;if(s){let E=ne.empty;const M=f.index(-1)?1:f.index(-2)?2:3;for(let te=f.depth-M;te>=f.depth-3;te-=1)E=ne.from(f.node(te).copy(E));const D=f.indexAfter(-1)<f.node(-2).childCount?1:f.indexAfter(-2)<f.node(-3).childCount?2:3,H={...Hd(b,f.node().type.name,f.node().attrs),...e},V=((c=d.contentMatch.defaultType)==null?void 0:c.createAndFill(H))||void 0;E=E.append(ne.from(d.createAndFill(null,V)||void 0));const z=f.before(f.depth-(M-1));n.replace(z,f.after(-D),new fe(E,4-M,0));let P=-1;n.doc.nodesBetween(z,n.doc.content.size,(te,K)=>{if(P>-1)return!1;te.isTextblock&&te.content.size===0&&(P=K+1)}),P>-1&&n.setSelection(Ee.near(n.doc.resolve(P))),n.scrollIntoView()}return!0}const N=h.pos===f.end()?g.contentMatchAt(0).defaultType:null,w={...Hd(b,g.type.name,g.attrs),...e},S={...Hd(b,f.node().type.name,f.node().attrs),...e};n.delete(f.pos,h.pos);const T=N?[{type:d,attrs:w},{type:N,attrs:S}]:[{type:d,attrs:w}];if(!ns(n.doc,f.pos,2))return!1;if(s){const{selection:E,storedMarks:M}=r,{splittableMarks:D}=i.extensionManager,H=M||E.$to.parentOffset&&E.$from.marks();if(n.split(f.pos,2,T).scrollIntoView(),!H||!s)return!0;const V=H.filter(z=>D.includes(z.type.name));n.ensureMarks(V)}return!0},Jm=(t,e)=>{const n=tf(c=>c.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(r===void 0)return!0;const s=t.doc.nodeAt(r);return n.node.type===(s==null?void 0:s.type)&&po(t.doc,n.pos)&&t.join(n.pos),!0},Km=(t,e)=>{const n=tf(c=>c.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(n.start).after(n.depth);if(r===void 0)return!0;const s=t.doc.nodeAt(r);return n.node.type===(s==null?void 0:s.type)&&po(t.doc,r)&&t.join(r),!0},v4=(t,e,n,r={})=>({editor:s,tr:i,state:c,dispatch:d,chain:f,commands:h,can:p})=>{const{extensions:g,splittableMarks:b}=s.extensionManager,N=Mt(t,c.schema),w=Mt(e,c.schema),{selection:S,storedMarks:T}=c,{$from:E,$to:M}=S,D=E.blockRange(M),H=T||S.$to.parentOffset&&S.$from.marks();if(!D)return!1;const V=tf(z=>Jv(z.type.name,g))(S);if(D.depth>=1&&V&&D.depth-V.depth<=1){if(V.node.type===N)return h.liftListItem(w);if(Jv(V.node.type.name,g)&&N.validContent(V.node.content)&&d)return f().command(()=>(i.setNodeMarkup(V.pos,N),!0)).command(()=>Jm(i,N)).command(()=>Km(i,N)).run()}return!n||!H||!d?f().command(()=>p().wrapInList(N,r)?!0:h.clearNodes()).wrapInList(N,r).command(()=>Jm(i,N)).command(()=>Km(i,N)).run():f().command(()=>{const z=p().wrapInList(N,r),P=H.filter(te=>b.includes(te.type.name));return i.ensureMarks(P),z?!0:h.clearNodes()}).wrapInList(N,r).command(()=>Jm(i,N)).command(()=>Km(i,N)).run()},N4=(t,e={},n={})=>({state:r,commands:s})=>{const{extendEmptyMarkRange:i=!1}=n,c=is(t,r.schema);return Ap(r,c,e)?s.unsetMark(c,{extendEmptyMarkRange:i}):s.setMark(c,e)},C4=(t,e,n={})=>({state:r,commands:s})=>{const i=Mt(t,r.schema),c=Mt(e,r.schema),d=ho(r,i,n);let f;return r.selection.$anchor.sameParent(r.selection.$head)&&(f=r.selection.$anchor.parent.attrs),d?s.setNode(c,f):s.setNode(i,{...f,...n})},w4=(t,e={})=>({state:n,commands:r})=>{const s=Mt(t,n.schema);return ho(n,s,e)?r.lift(s):r.wrapIn(s,e)},S4=()=>({state:t,dispatch:e})=>{const n=t.plugins;for(let r=0;r<n.length;r+=1){const s=n[r];let i;if(s.spec.isInputRules&&(i=s.getState(t))){if(e){const c=t.tr,d=i.transform;for(let f=d.steps.length-1;f>=0;f-=1)c.step(d.steps[f].invert(d.docs[f]));if(i.text){const f=c.doc.resolve(i.from).marks();c.replaceWith(i.from,i.to,t.schema.text(i.text,f))}else c.delete(i.from,i.to)}return!0}}return!1},T4=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,{empty:r,ranges:s}=n;return r||e&&s.forEach(i=>{t.removeMark(i.$from.pos,i.$to.pos)}),!0},k4=(t,e={})=>({tr:n,state:r,dispatch:s})=>{var i;const{extendEmptyMarkRange:c=!1}=e,{selection:d}=n,f=is(t,r.schema),{$from:h,empty:p,ranges:g}=d;if(!s)return!0;if(p&&c){let{from:b,to:N}=d;const w=(i=h.marks().find(T=>T.type===f))==null?void 0:i.attrs,S=Sg(h,f,w);S&&(b=S.from,N=S.to),n.removeMark(b,N,f)}else g.forEach(b=>{n.removeMark(b.$from.pos,b.$to.pos,f)});return n.removeStoredMark(f),!0},E4=(t,e={})=>({tr:n,state:r,dispatch:s})=>{let i=null,c=null;const d=ef(typeof t=="string"?t:t.name,r.schema);return d?(d==="node"&&(i=Mt(t,r.schema)),d==="mark"&&(c=is(t,r.schema)),s&&n.selection.ranges.forEach(f=>{const h=f.$from.pos,p=f.$to.pos;let g,b,N,w;n.selection.empty?r.doc.nodesBetween(h,p,(S,T)=>{i&&i===S.type&&(N=Math.max(T,h),w=Math.min(T+S.nodeSize,p),g=T,b=S)}):r.doc.nodesBetween(h,p,(S,T)=>{T<h&&i&&i===S.type&&(N=Math.max(T,h),w=Math.min(T+S.nodeSize,p),g=T,b=S),T>=h&&T<=p&&(i&&i===S.type&&n.setNodeMarkup(T,void 0,{...S.attrs,...e}),c&&S.marks.length&&S.marks.forEach(E=>{if(c===E.type){const M=Math.max(T,h),D=Math.min(T+S.nodeSize,p);n.addMark(M,D,c.create({...E.attrs,...e}))}}))}),b&&(g!==void 0&&n.setNodeMarkup(g,void 0,{...b.attrs,...e}),c&&b.marks.length&&b.marks.forEach(S=>{c===S.type&&n.addMark(N,w,c.create({...S.attrs,...e}))}))}),!0):!1},A4=(t,e={})=>({state:n,dispatch:r})=>{const s=Mt(t,n.schema);return lE(s,e)(n,r)},j4=(t,e={})=>({state:n,dispatch:r})=>{const s=Mt(t,n.schema);return cE(s,e)(n,r)},M4=class{constructor(){this.callbacks={}}on(t,e){return this.callbacks[t]||(this.callbacks[t]=[]),this.callbacks[t].push(e),this}emit(t,...e){const n=this.callbacks[t];return n&&n.forEach(r=>r.apply(this,e)),this}off(t,e){const n=this.callbacks[t];return n&&(e?this.callbacks[t]=n.filter(r=>r!==e):delete this.callbacks[t]),this}once(t,e){const n=(...r)=>{this.off(t,n),e.apply(this,r)};return this.on(t,n)}removeAllListeners(){this.callbacks={}}},rf=class{constructor(t){var e;this.find=t.find,this.handler=t.handler,this.undoable=(e=t.undoable)!=null?e:!0}},R4=(t,e)=>{if(wg(e))return e.exec(t);const n=e(t);if(!n)return null;const r=[n.text];return r.index=n.index,r.input=t,r.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(n.replaceWith)),r};function Md(t){var e;const{editor:n,from:r,to:s,text:i,rules:c,plugin:d}=t,{view:f}=n;if(f.composing)return!1;const h=f.state.doc.resolve(r);if(h.parent.type.spec.code||(e=h.nodeBefore||h.nodeAfter)!=null&&e.marks.find(b=>b.type.spec.code))return!1;let p=!1;const g=i4(h)+i;return c.forEach(b=>{if(p)return;const N=R4(g,b.find);if(!N)return;const w=f.state.tr,S=Qu({state:f.state,transaction:w}),T={from:r-(N[0].length-i.length),to:s},{commands:E,chain:M,can:D}=new Zu({editor:n,state:S});b.handler({state:S,range:T,match:N,commands:E,chain:M,can:D})===null||!w.steps.length||(b.undoable&&w.setMeta(d,{transform:w,from:r,to:s,text:i}),f.dispatch(w),p=!0)}),p}function I4(t){const{editor:e,rules:n}=t,r=new yt({state:{init(){return null},apply(s,i,c){const d=s.getMeta(r);if(d)return d;const f=s.getMeta("applyInputRules");return!!f&&setTimeout(()=>{let{text:p}=f;typeof p=="string"?p=p:p=Eg(ne.from(p),c.schema);const{from:g}=f,b=g+p.length;Md({editor:e,from:g,to:b,text:p,rules:n,plugin:r})}),s.selectionSet||s.docChanged?null:i}},props:{handleTextInput(s,i,c,d){return Md({editor:e,from:i,to:c,text:d,rules:n,plugin:r})},handleDOMEvents:{compositionend:s=>(setTimeout(()=>{const{$cursor:i}=s.state.selection;i&&Md({editor:e,from:i.pos,to:i.pos,text:"",rules:n,plugin:r})}),!1)},handleKeyDown(s,i){if(i.key!=="Enter")return!1;const{$cursor:c}=s.state.selection;return c?Md({editor:e,from:c.pos,to:c.pos,text:`
`,rules:n,plugin:r}):!1}},isInputRules:!0});return r}function D4(t){return Object.prototype.toString.call(t).slice(8,-1)}function Rd(t){return D4(t)!=="Object"?!1:t.constructor===Object&&Object.getPrototypeOf(t)===Object.prototype}function $C(t,e){const n={...t};return Rd(t)&&Rd(e)&&Object.keys(e).forEach(r=>{Rd(e[r])&&Rd(t[r])?n[r]=$C(t[r],e[r]):n[r]=e[r]}),n}var Mg=class{constructor(t={}){this.type="extendable",this.parent=null,this.child=null,this.name="",this.config={name:this.name},this.config={...this.config,...t},this.name=this.config.name}get options(){return{...We(Ne(this,"addOptions",{name:this.name}))||{}}}get storage(){return{...We(Ne(this,"addStorage",{name:this.name,options:this.options}))||{}}}configure(t={}){const e=this.extend({...this.config,addOptions:()=>$C(this.options,t)});return e.name=this.name,e.parent=this.parent,e}extend(t={}){const e=new this.constructor({...this.config,...t});return e.parent=this,this.child=e,e.name="name"in t?t.name:e.parent.name,e}},ls=class JC extends Mg{constructor(){super(...arguments),this.type="mark"}static create(e={}){const n=typeof e=="function"?e():e;return new JC(n)}static handleExit({editor:e,mark:n}){const{tr:r}=e.state,s=e.state.selection.$from;if(s.pos===s.end()){const c=s.marks();if(!!!c.find(h=>(h==null?void 0:h.type.name)===n.name))return!1;const f=c.find(h=>(h==null?void 0:h.type.name)===n.name);return f&&r.removeStoredMark(f),r.insertText(" ",s.pos),e.view.dispatch(r),!0}return!1}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}};function _4(t){return typeof t=="number"}var P4=class{constructor(t){this.find=t.find,this.handler=t.handler}},L4=(t,e,n)=>{if(wg(e))return[...t.matchAll(e)];const r=e(t,n);return r?r.map(s=>{const i=[s.text];return i.index=s.index,i.input=t,i.data=s.data,s.replaceWith&&(s.text.includes(s.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),i.push(s.replaceWith)),i}):[]};function O4(t){const{editor:e,state:n,from:r,to:s,rule:i,pasteEvent:c,dropEvent:d}=t,{commands:f,chain:h,can:p}=new Zu({editor:e,state:n}),g=[];return n.doc.nodesBetween(r,s,(N,w)=>{var S,T,E,M,D;if((T=(S=N.type)==null?void 0:S.spec)!=null&&T.code||!(N.isText||N.isTextblock||N.isInline))return;const H=(D=(M=(E=N.content)==null?void 0:E.size)!=null?M:N.nodeSize)!=null?D:0,V=Math.max(r,w),z=Math.min(s,w+H);if(V>=z)return;const P=N.isText?N.text||"":N.textBetween(V-w,z-w,void 0,"");L4(P,i.find,c).forEach(K=>{if(K.index===void 0)return;const ce=V+K.index+1,ye=ce+K[0].length,re={from:n.tr.mapping.map(ce),to:n.tr.mapping.map(ye)},le=i.handler({state:n,range:re,match:K,commands:f,chain:h,can:p,pasteEvent:c,dropEvent:d});g.push(le)})}),g.every(N=>N!==null)}var Id=null,B4=t=>{var e;const n=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=n.clipboardData)==null||e.setData("text/html",t),n};function z4(t){const{editor:e,rules:n}=t;let r=null,s=!1,i=!1,c=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,d;try{d=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{d=null}const f=({state:p,from:g,to:b,rule:N,pasteEvt:w})=>{const S=p.tr,T=Qu({state:p,transaction:S});if(!(!O4({editor:e,state:T,from:Math.max(g-1,0),to:b.b-1,rule:N,pasteEvent:w,dropEvent:d})||!S.steps.length)){try{d=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{d=null}return c=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,S}};return n.map(p=>new yt({view(g){const b=w=>{var S;r=(S=g.dom.parentElement)!=null&&S.contains(w.target)?g.dom.parentElement:null,r&&(Id=e)},N=()=>{Id&&(Id=null)};return window.addEventListener("dragstart",b),window.addEventListener("dragend",N),{destroy(){window.removeEventListener("dragstart",b),window.removeEventListener("dragend",N)}}},props:{handleDOMEvents:{drop:(g,b)=>{if(i=r===g.dom.parentElement,d=b,!i){const N=Id;N!=null&&N.isEditable&&setTimeout(()=>{const w=N.state.selection;w&&N.commands.deleteRange({from:w.from,to:w.to})},10)}return!1},paste:(g,b)=>{var N;const w=(N=b.clipboardData)==null?void 0:N.getData("text/html");return c=b,s=!!(w!=null&&w.includes("data-pm-slice")),!1}}},appendTransaction:(g,b,N)=>{const w=g[0],S=w.getMeta("uiEvent")==="paste"&&!s,T=w.getMeta("uiEvent")==="drop"&&!i,E=w.getMeta("applyPasteRules"),M=!!E;if(!S&&!T&&!M)return;if(M){let{text:V}=E;typeof V=="string"?V=V:V=Eg(ne.from(V),N.schema);const{from:z}=E,P=z+V.length,te=B4(V);return f({rule:p,state:N,from:z,to:{b:P},pasteEvt:te})}const D=b.doc.content.findDiffStart(N.doc.content),H=b.doc.content.findDiffEnd(N.doc.content);if(!(!_4(D)||!H||D===H.b))return f({rule:p,state:N,from:D,to:H,pasteEvt:c})}}))}var sf=class{constructor(t,e){this.splittableMarks=[],this.editor=e,this.baseExtensions=t,this.extensions=UC(t),this.schema=e4(this.extensions,e),this.setupExtensions()}get commands(){return this.extensions.reduce((t,e)=>{const n={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:$m(e.name,this.schema)},r=Ne(e,"addCommands",n);return r?{...t,...r()}:t},{})}get plugins(){const{editor:t}=this;return Ag([...this.extensions].reverse()).flatMap(r=>{const s={name:r.name,options:r.options,storage:this.editor.extensionStorage[r.name],editor:t,type:$m(r.name,this.schema)},i=[],c=Ne(r,"addKeyboardShortcuts",s);let d={};if(r.type==="mark"&&Ne(r,"exitable",s)&&(d.ArrowRight=()=>ls.handleExit({editor:t,mark:r})),c){const b=Object.fromEntries(Object.entries(c()).map(([N,w])=>[N,()=>w({editor:t})]));d={...d,...b}}const f=rj(d);i.push(f);const h=Ne(r,"addInputRules",s);if($v(r,t.options.enableInputRules)&&h){const b=h();if(b&&b.length){const N=I4({editor:t,rules:b}),w=Array.isArray(N)?N:[N];i.push(...w)}}const p=Ne(r,"addPasteRules",s);if($v(r,t.options.enablePasteRules)&&p){const b=p();if(b&&b.length){const N=z4({editor:t,rules:b});i.push(...N)}}const g=Ne(r,"addProseMirrorPlugins",s);if(g){const b=g();i.push(...b)}return i})}get attributes(){return zC(this.extensions)}get nodeViews(){const{editor:t}=this,{nodeExtensions:e}=Jl(this.extensions);return Object.fromEntries(e.filter(n=>!!Ne(n,"addNodeView")).map(n=>{const r=this.attributes.filter(f=>f.type===n.name),s={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:t,type:Mt(n.name,this.schema)},i=Ne(n,"addNodeView",s);if(!i)return[];const c=i();if(!c)return[];const d=(f,h,p,g,b)=>{const N=su(f,r);return c({node:f,view:h,getPos:p,decorations:g,innerDecorations:b,editor:t,extension:n,HTMLAttributes:N})};return[n.name,d]}))}get markViews(){const{editor:t}=this,{markExtensions:e}=Jl(this.extensions);return Object.fromEntries(e.filter(n=>!!Ne(n,"addMarkView")).map(n=>{const r=this.attributes.filter(d=>d.type===n.name),s={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:t,type:is(n.name,this.schema)},i=Ne(n,"addMarkView",s);if(!i)return[];const c=(d,f,h)=>{const p=su(d,r);return i()({mark:d,view:f,inline:h,editor:t,extension:n,HTMLAttributes:p,updateAttributes:g=>{e3(d,t,g)}})};return[n.name,c]}))}setupExtensions(){const t=this.extensions;this.editor.extensionStorage=Object.fromEntries(t.map(e=>[e.name,e.storage])),t.forEach(e=>{var n;const r={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:$m(e.name,this.schema)};e.type==="mark"&&((n=We(Ne(e,"keepOnSplit",r)))==null||n)&&this.splittableMarks.push(e.name);const s=Ne(e,"onBeforeCreate",r),i=Ne(e,"onCreate",r),c=Ne(e,"onUpdate",r),d=Ne(e,"onSelectionUpdate",r),f=Ne(e,"onTransaction",r),h=Ne(e,"onFocus",r),p=Ne(e,"onBlur",r),g=Ne(e,"onDestroy",r);s&&this.editor.on("beforeCreate",s),i&&this.editor.on("create",i),c&&this.editor.on("update",c),d&&this.editor.on("selectionUpdate",d),f&&this.editor.on("transaction",f),h&&this.editor.on("focus",h),p&&this.editor.on("blur",p),g&&this.editor.on("destroy",g)})}};sf.resolve=UC;sf.sort=Ag;sf.flatten=kg;var U4={};Cg(U4,{ClipboardTextSerializer:()=>YC,Commands:()=>WC,Delete:()=>XC,Drop:()=>QC,Editable:()=>ZC,FocusEvents:()=>tw,Keymap:()=>nw,Paste:()=>rw,Tabindex:()=>sw,focusEventsPluginKey:()=>ew});var st=class KC extends Mg{constructor(){super(...arguments),this.type="extension"}static create(e={}){const n=typeof e=="function"?e():e;return new KC(n)}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}},YC=st.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new yt({key:new Ut("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:t}=this,{state:e,schema:n}=t,{doc:r,selection:s}=e,{ranges:i}=s,c=Math.min(...i.map(p=>p.$from.pos)),d=Math.max(...i.map(p=>p.$to.pos)),f=VC(n);return HC(r,{from:c,to:d},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:f})}}})]}}),WC=st.create({name:"commands",addCommands(){return{...MC}}}),XC=st.create({name:"delete",onUpdate({transaction:t,appendedTransactions:e}){var n,r,s;const i=()=>{var c,d,f,h;if((h=(f=(d=(c=this.editor.options.coreExtensionOptions)==null?void 0:c.delete)==null?void 0:d.filterTransaction)==null?void 0:f.call(d,t))!=null?h:t.getMeta("y-sync$"))return;const p=OC(t.before,[t,...e]);FC(p).forEach(N=>{p.mapping.mapResult(N.oldRange.from).deletedAfter&&p.mapping.mapResult(N.oldRange.to).deletedBefore&&p.before.nodesBetween(N.oldRange.from,N.oldRange.to,(w,S)=>{const T=S+w.nodeSize-2,E=N.oldRange.from<=S&&T<=N.oldRange.to;this.editor.emit("delete",{type:"node",node:w,from:S,to:T,newFrom:p.mapping.map(S),newTo:p.mapping.map(T),deletedRange:N.oldRange,newRange:N.newRange,partial:!E,editor:this.editor,transaction:t,combinedTransform:p})})});const b=p.mapping;p.steps.forEach((N,w)=>{var S,T;if(N instanceof mr){const E=b.slice(w).map(N.from,-1),M=b.slice(w).map(N.to),D=b.invert().map(E,-1),H=b.invert().map(M),V=(S=p.doc.nodeAt(E-1))==null?void 0:S.marks.some(P=>P.eq(N.mark)),z=(T=p.doc.nodeAt(M))==null?void 0:T.marks.some(P=>P.eq(N.mark));this.editor.emit("delete",{type:"mark",mark:N.mark,from:N.from,to:N.to,deletedRange:{from:D,to:H},newRange:{from:E,to:M},partial:!!(z||V),editor:this.editor,transaction:t,combinedTransform:p})}})};(s=(r=(n=this.editor.options.coreExtensionOptions)==null?void 0:n.delete)==null?void 0:r.async)==null||s?setTimeout(i,0):i()}}),QC=st.create({name:"drop",addProseMirrorPlugins(){return[new yt({key:new Ut("tiptapDrop"),props:{handleDrop:(t,e,n,r)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:n,moved:r})}}})]}}),ZC=st.create({name:"editable",addProseMirrorPlugins(){return[new yt({key:new Ut("editable"),props:{editable:()=>this.editor.options.editable}})]}}),ew=new Ut("focusEvents"),tw=st.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:t}=this;return[new yt({key:ew,props:{handleDOMEvents:{focus:(e,n)=>{t.isFocused=!0;const r=t.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1},blur:(e,n)=>{t.isFocused=!1;const r=t.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1}}}})]}}),nw=st.create({name:"keymap",addKeyboardShortcuts(){const t=()=>this.editor.commands.first(({commands:c})=>[()=>c.undoInputRule(),()=>c.command(({tr:d})=>{const{selection:f,doc:h}=d,{empty:p,$anchor:g}=f,{pos:b,parent:N}=g,w=g.parent.isTextblock&&b>0?d.doc.resolve(b-1):g,S=w.parent.type.spec.isolating,T=g.pos-g.parentOffset,E=S&&w.parent.childCount===1?T===g.pos:Pe.atStart(h).from===b;return!p||!N.type.isTextblock||N.textContent.length||!E||E&&g.parent.type.name==="paragraph"?!1:c.clearNodes()}),()=>c.deleteSelection(),()=>c.joinBackward(),()=>c.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:c})=>[()=>c.deleteSelection(),()=>c.deleteCurrentNode(),()=>c.joinForward(),()=>c.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:c})=>[()=>c.newlineInCode(),()=>c.createParagraphNear(),()=>c.liftEmptyBlock(),()=>c.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:t,"Mod-Backspace":t,"Shift-Backspace":t,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},s={...r},i={...r,"Ctrl-h":t,"Alt-Backspace":t,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return Tg()||PC()?i:s},addProseMirrorPlugins(){return[new yt({key:new Ut("clearDocument"),appendTransaction:(t,e,n)=>{if(t.some(S=>S.getMeta("composition")))return;const r=t.some(S=>S.docChanged)&&!e.doc.eq(n.doc),s=t.some(S=>S.getMeta("preventClearDocument"));if(!r||s)return;const{empty:i,from:c,to:d}=e.selection,f=Pe.atStart(e.doc).from,h=Pe.atEnd(e.doc).to;if(i||!(c===f&&d===h)||!nf(n.doc))return;const b=n.tr,N=Qu({state:n,transaction:b}),{commands:w}=new Zu({editor:this.editor,state:N});if(w.clearNodes(),!!b.steps.length)return b}})]}}),rw=st.create({name:"paste",addProseMirrorPlugins(){return[new yt({key:new Ut("tiptapPaste"),props:{handlePaste:(t,e,n)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:n})}}})]}}),sw=st.create({name:"tabindex",addProseMirrorPlugins(){return[new yt({key:new Ut("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}}),H4=class Xa{constructor(e,n,r=!1,s=null){this.currentNode=null,this.actualDepth=null,this.isBlock=r,this.resolvedPos=e,this.editor=n,this.currentNode=s}get name(){return this.node.type.name}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!=null?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let n=this.from,r=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You cant set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}n=this.from+1,r=this.to-1}this.editor.commands.insertContentAt({from:n,to:r},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),n=this.resolvedPos.doc.resolve(e);return new Xa(n,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new Xa(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new Xa(e,this.editor)}get children(){const e=[];return this.node.content.forEach((n,r)=>{const s=n.isBlock&&!n.isTextblock,i=n.isAtom&&!n.isText,c=this.pos+r+(i?0:1);if(c<0||c>this.resolvedPos.doc.nodeSize-2)return;const d=this.resolvedPos.doc.resolve(c);if(!s&&d.depth<=this.depth)return;const f=new Xa(d,this.editor,s,s?n:null);s&&(f.actualDepth=this.depth+1),e.push(new Xa(d,this.editor,s,s?n:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,n={}){let r=null,s=this.parent;for(;s&&!r;){if(s.node.type.name===e)if(Object.keys(n).length>0){const i=s.node.attrs,c=Object.keys(n);for(let d=0;d<c.length;d+=1){const f=c[d];if(i[f]!==n[f])break}}else r=s;s=s.parent}return r}querySelector(e,n={}){return this.querySelectorAll(e,n,!0)[0]||null}querySelectorAll(e,n={},r=!1){let s=[];if(!this.children||this.children.length===0)return s;const i=Object.keys(n);return this.children.forEach(c=>{r&&s.length>0||(c.node.type.name===e&&i.every(f=>n[f]===c.node.attrs[f])&&s.push(c),!(r&&s.length>0)&&(s=s.concat(c.querySelectorAll(e,n,r))))}),s}setAttribute(e){const{tr:n}=this.editor.state;n.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(n)}},V4=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}`;function q4(t,e,n){const r=document.querySelector("style[data-tiptap-style]");if(r!==null)return r;const s=document.createElement("style");return e&&s.setAttribute("nonce",e),s.setAttribute("data-tiptap-style",""),s.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(s),s}var F4=class extends M4{constructor(t={}){super(),this.css=null,this.className="tiptap",this.editorView=null,this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.instanceId=Math.random().toString(36).slice(2,9),this.options={element:typeof document<"u"?document.createElement("div"):null,content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onMount:()=>null,onUnmount:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:r})=>{throw r},onPaste:()=>null,onDrop:()=>null,onDelete:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(t),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("mount",this.options.onMount),this.on("unmount",this.options.onUnmount),this.on("contentError",this.options.onContentError),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:r,slice:s,moved:i})=>this.options.onDrop(r,s,i)),this.on("paste",({event:r,slice:s})=>this.options.onPaste(r,s)),this.on("delete",this.options.onDelete);const e=this.createDoc(),n=DC(e,this.options.autofocus);this.editorState=Za.create({doc:e,schema:this.schema,selection:n||void 0}),this.options.element&&this.mount(this.options.element)}mount(t){if(typeof document>"u")throw new Error("[tiptap error]: The editor cannot be mounted because there is no 'document' defined in this environment.");this.createView(t),this.emit("mount",{editor:this}),this.css&&!document.head.contains(this.css)&&document.head.appendChild(this.css),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}unmount(){if(this.editorView){const t=this.editorView.dom;t!=null&&t.editor&&delete t.editor,this.editorView.destroy()}if(this.editorView=null,this.isInitialized=!1,this.css&&!document.querySelectorAll(`.${this.className}`).length)try{typeof this.css.remove=="function"?this.css.remove():this.css.parentNode&&this.css.parentNode.removeChild(this.css)}catch(t){console.warn("Failed to remove CSS element:",t)}this.css=null,this.emit("unmount",{editor:this})}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&typeof document<"u"&&(this.css=q4(V4,this.options.injectNonce))}setOptions(t={}){this.options={...this.options,...t},!(!this.editorView||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(t,e=!0){this.setOptions({editable:t}),e&&this.emit("update",{editor:this,transaction:this.state.tr,appendedTransactions:[]})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get view(){return this.editorView?this.editorView:new Proxy({state:this.editorState,updateState:t=>{this.editorState=t},dispatch:t=>{this.dispatchTransaction(t)},composing:!1,dragging:null,editable:!0,isDestroyed:!1},{get:(t,e)=>{if(this.editorView)return this.editorView[e];if(e==="state")return this.editorState;if(e in t)return Reflect.get(t,e);throw new Error(`[tiptap error]: The editor view is not available. Cannot access view['${e}']. The editor may not be mounted yet.`)}})}get state(){return this.editorView&&(this.editorState=this.view.state),this.editorState}registerPlugin(t,e){const n=BC(e)?e(t,[...this.state.plugins]):[...this.state.plugins,t],r=this.state.reconfigure({plugins:n});return this.view.updateState(r),r}unregisterPlugin(t){if(this.isDestroyed)return;const e=this.state.plugins;let n=e;if([].concat(t).forEach(s=>{const i=typeof s=="string"?`${s}$`:s.key;n=n.filter(c=>!c.key.startsWith(i))}),e.length===n.length)return;const r=this.state.reconfigure({plugins:n});return this.view.updateState(r),r}createExtensionManager(){var t,e;const r=[...this.options.enableCoreExtensions?[ZC,YC.configure({blockSeparator:(e=(t=this.options.coreExtensionOptions)==null?void 0:t.clipboardTextSerializer)==null?void 0:e.blockSeparator}),WC,tw,nw,sw,QC,rw,XC].filter(s=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[s.name]!==!1:!0):[],...this.options.extensions].filter(s=>["extension","node","mark"].includes(s==null?void 0:s.type));this.extensionManager=new sf(r,this)}createCommandManager(){this.commandManager=new Zu({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createDoc(){let t;try{t=Ep(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(e){if(!(e instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(e.message))throw e;this.emit("contentError",{editor:this,error:e,disableCollaboration:()=>{"collaboration"in this.storage&&typeof this.storage.collaboration=="object"&&this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(n=>n.name!=="collaboration"),this.createExtensionManager()}}),t=Ep(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}return t}createView(t){var e;this.editorView=new AC(t,{...this.options.editorProps,attributes:{role:"textbox",...(e=this.options.editorProps)==null?void 0:e.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:this.editorState,markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews});const n=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(n),this.prependClass(),this.injectCSS();const r=this.view.dom;r.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`${this.className} ${this.view.dom.className}`}captureTransaction(t){this.isCapturingTransaction=!0,t(),this.isCapturingTransaction=!1;const e=this.capturedTransaction;return this.capturedTransaction=null,e}dispatchTransaction(t){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=t;return}t.steps.forEach(h=>{var p;return(p=this.capturedTransaction)==null?void 0:p.step(h)});return}const{state:e,transactions:n}=this.state.applyTransaction(t),r=!this.state.selection.eq(e.selection),s=n.includes(t),i=this.state;if(this.emit("beforeTransaction",{editor:this,transaction:t,nextState:e}),!s)return;this.view.updateState(e),this.emit("transaction",{editor:this,transaction:t,appendedTransactions:n.slice(1)}),r&&this.emit("selectionUpdate",{editor:this,transaction:t});const c=n.findLast(h=>h.getMeta("focus")||h.getMeta("blur")),d=c==null?void 0:c.getMeta("focus"),f=c==null?void 0:c.getMeta("blur");d&&this.emit("focus",{editor:this,event:d.event,transaction:c}),f&&this.emit("blur",{editor:this,event:f.event,transaction:c}),!(t.getMeta("preventUpdate")||!n.some(h=>h.docChanged)||i.doc.eq(e.doc))&&this.emit("update",{editor:this,transaction:t,appendedTransactions:n.slice(1)})}getAttributes(t){return qC(this.state,t)}isActive(t,e){const n=typeof t=="string"?t:null,r=typeof t=="string"?e:t;return l4(this.state,n,r)}getJSON(){return this.state.doc.toJSON()}getHTML(){return Eg(this.state.doc.content,this.schema)}getText(t){const{blockSeparator:e=`

`,textSerializers:n={}}=t||{};return n4(this.state.doc,{blockSeparator:e,textSerializers:{...VC(this.schema),...n}})}get isEmpty(){return nf(this.state.doc)}destroy(){this.emit("destroy"),this.unmount(),this.removeAllListeners()}get isDestroyed(){var t,e;return(e=(t=this.editorView)==null?void 0:t.isDestroyed)!=null?e:!0}$node(t,e){var n;return((n=this.$doc)==null?void 0:n.querySelector(t,e))||null}$nodes(t,e){var n;return((n=this.$doc)==null?void 0:n.querySelectorAll(t,e))||null}$pos(t){const e=this.state.doc.resolve(t);return new H4(e,this)}get $doc(){return this.$pos(0)}};function oa(t){return new rf({find:t.find,handler:({state:e,range:n,match:r})=>{const s=We(t.getAttributes,void 0,r);if(s===!1||s===null)return null;const{tr:i}=e,c=r[r.length-1],d=r[0];if(c){const f=d.search(/\S/),h=n.from+d.indexOf(c),p=h+c.length;if(jg(n.from,n.to,e.doc).filter(N=>N.mark.type.excluded.find(S=>S===t.type&&S!==N.mark.type)).filter(N=>N.to>h).length)return null;p<n.to&&i.delete(p,n.to),h>n.from&&i.delete(n.from+f,h);const b=n.from+f+c.length;i.addMark(n.from+f,b,t.type.create(s||{})),i.removeStoredMark(t.type)}},undoable:t.undoable})}function ow(t){return new rf({find:t.find,handler:({state:e,range:n,match:r})=>{const s=We(t.getAttributes,void 0,r)||{},{tr:i}=e,c=n.from;let d=n.to;const f=t.type.create(s);if(r[1]){const h=r[0].lastIndexOf(r[1]);let p=c+h;p>d?p=d:d=p+r[1].length;const g=r[0][r[0].length-1];i.insertText(g,c+r[0].length-1),i.replaceWith(p,d,f)}else if(r[0]){const h=t.type.isInline?c:c-1;i.insert(h,t.type.create(s)).delete(i.mapping.map(c),i.mapping.map(d))}i.scrollIntoView()},undoable:t.undoable})}function jp(t){return new rf({find:t.find,handler:({state:e,range:n,match:r})=>{const s=e.doc.resolve(n.from),i=We(t.getAttributes,void 0,r)||{};if(!s.node(-1).canReplaceWith(s.index(-1),s.indexAfter(-1),t.type))return null;e.tr.delete(n.from,n.to).setBlockType(n.from,n.from,t.type,i)},undoable:t.undoable})}function fi(t){return new rf({find:t.find,handler:({state:e,range:n,match:r,chain:s})=>{const i=We(t.getAttributes,void 0,r)||{},c=e.tr.delete(n.from,n.to),f=c.doc.resolve(n.from).blockRange(),h=f&&ag(f,t.type,i);if(!h)return null;if(c.wrap(f,h),t.keepMarks&&t.editor){const{selection:g,storedMarks:b}=e,{splittableMarks:N}=t.editor.extensionManager,w=b||g.$to.parentOffset&&g.$from.marks();if(w){const S=w.filter(T=>N.includes(T.type.name));c.ensureMarks(S)}}if(t.keepAttributes){const g=t.type.name==="bulletList"||t.type.name==="orderedList"?"listItem":"taskList";s().updateAttributes(g,i).run()}const p=c.doc.resolve(n.from-1).nodeBefore;p&&p.type===t.type&&po(c.doc,n.from-1)&&(!t.joinPredicate||t.joinPredicate(r,p))&&c.join(n.from-1)},undoable:t.undoable})}var G4=t=>"touches"in t,$4=class{constructor(t){this.directions=["bottom-left","bottom-right","top-left","top-right"],this.minSize={height:8,width:8},this.preserveAspectRatio=!1,this.classNames={container:"",wrapper:"",handle:"",resizing:""},this.initialWidth=0,this.initialHeight=0,this.aspectRatio=1,this.isResizing=!1,this.activeHandle=null,this.startX=0,this.startY=0,this.startWidth=0,this.startHeight=0,this.isShiftKeyPressed=!1,this.handleMouseMove=c=>{if(!this.isResizing||!this.activeHandle)return;const d=c.clientX-this.startX,f=c.clientY-this.startY;this.handleResize(d,f)},this.handleTouchMove=c=>{if(!this.isResizing||!this.activeHandle)return;const d=c.touches[0];if(!d)return;const f=d.clientX-this.startX,h=d.clientY-this.startY;this.handleResize(f,h)},this.handleMouseUp=()=>{if(!this.isResizing)return;const c=this.element.offsetWidth,d=this.element.offsetHeight;this.onCommit(c,d),this.isResizing=!1,this.activeHandle=null,this.container.dataset.resizeState="false",this.classNames.resizing&&this.container.classList.remove(this.classNames.resizing),document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),document.removeEventListener("keydown",this.handleKeyDown),document.removeEventListener("keyup",this.handleKeyUp)},this.handleKeyDown=c=>{c.key==="Shift"&&(this.isShiftKeyPressed=!0)},this.handleKeyUp=c=>{c.key==="Shift"&&(this.isShiftKeyPressed=!1)};var e,n,r,s,i;this.node=t.node,this.element=t.element,this.contentElement=t.contentElement,this.getPos=t.getPos,this.onResize=t.onResize,this.onCommit=t.onCommit,this.onUpdate=t.onUpdate,(e=t.options)!=null&&e.min&&(this.minSize={...this.minSize,...t.options.min}),(n=t.options)!=null&&n.max&&(this.maxSize=t.options.max),(r=t==null?void 0:t.options)!=null&&r.directions&&(this.directions=t.options.directions),(s=t.options)!=null&&s.preserveAspectRatio&&(this.preserveAspectRatio=t.options.preserveAspectRatio),(i=t.options)!=null&&i.className&&(this.classNames={container:t.options.className.container||"",wrapper:t.options.className.wrapper||"",handle:t.options.className.handle||"",resizing:t.options.className.resizing||""}),this.wrapper=this.createWrapper(),this.container=this.createContainer(),this.applyInitialSize(),this.attachHandles()}get dom(){return this.container}get contentDOM(){return this.contentElement}update(t,e,n){return t.type!==this.node.type?!1:(this.node=t,this.onUpdate?this.onUpdate(t,e,n):!0)}destroy(){this.isResizing&&(this.container.dataset.resizeState="false",this.classNames.resizing&&this.container.classList.remove(this.classNames.resizing),document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),document.removeEventListener("keydown",this.handleKeyDown),document.removeEventListener("keyup",this.handleKeyUp),this.isResizing=!1,this.activeHandle=null),this.container.remove()}createContainer(){const t=document.createElement("div");return t.dataset.resizeContainer="",t.dataset.node=this.node.type.name,t.style.display="flex",t.style.justifyContent="flex-start",t.style.alignItems="flex-start",this.classNames.container&&(t.className=this.classNames.container),t.appendChild(this.wrapper),t}createWrapper(){const t=document.createElement("div");return t.style.position="relative",t.style.display="block",t.dataset.resizeWrapper="",this.classNames.wrapper&&(t.className=this.classNames.wrapper),t.appendChild(this.element),t}createHandle(t){const e=document.createElement("div");return e.dataset.resizeHandle=t,e.style.position="absolute",this.classNames.handle&&(e.className=this.classNames.handle),e}positionHandle(t,e){const n=e.includes("top"),r=e.includes("bottom"),s=e.includes("left"),i=e.includes("right");n&&(t.style.top="0"),r&&(t.style.bottom="0"),s&&(t.style.left="0"),i&&(t.style.right="0"),(e==="top"||e==="bottom")&&(t.style.left="0",t.style.right="0"),(e==="left"||e==="right")&&(t.style.top="0",t.style.bottom="0")}attachHandles(){this.directions.forEach(t=>{const e=this.createHandle(t);this.positionHandle(e,t),e.addEventListener("mousedown",n=>this.handleResizeStart(n,t)),e.addEventListener("touchstart",n=>this.handleResizeStart(n,t)),this.wrapper.appendChild(e)})}applyInitialSize(){const t=this.node.attrs.width,e=this.node.attrs.height;t?(this.element.style.width=`${t}px`,this.initialWidth=t):this.initialWidth=this.element.offsetWidth,e?(this.element.style.height=`${e}px`,this.initialHeight=e):this.initialHeight=this.element.offsetHeight,this.initialWidth>0&&this.initialHeight>0&&(this.aspectRatio=this.initialWidth/this.initialHeight)}handleResizeStart(t,e){t.preventDefault(),t.stopPropagation(),this.isResizing=!0,this.activeHandle=e,G4(t)?(this.startX=t.touches[0].clientX,this.startY=t.touches[0].clientY):(this.startX=t.clientX,this.startY=t.clientY),this.startWidth=this.element.offsetWidth,this.startHeight=this.element.offsetHeight,this.startWidth>0&&this.startHeight>0&&(this.aspectRatio=this.startWidth/this.startHeight),this.getPos(),this.container.dataset.resizeState="true",this.classNames.resizing&&this.container.classList.add(this.classNames.resizing),document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("touchmove",this.handleTouchMove),document.addEventListener("mouseup",this.handleMouseUp),document.addEventListener("keydown",this.handleKeyDown),document.addEventListener("keyup",this.handleKeyUp)}handleResize(t,e){if(!this.activeHandle)return;const n=this.preserveAspectRatio||this.isShiftKeyPressed,{width:r,height:s}=this.calculateNewDimensions(this.activeHandle,t,e),i=this.applyConstraints(r,s,n);this.element.style.width=`${i.width}px`,this.element.style.height=`${i.height}px`,this.onResize&&this.onResize(i.width,i.height)}calculateNewDimensions(t,e,n){let r=this.startWidth,s=this.startHeight;const i=t.includes("right"),c=t.includes("left"),d=t.includes("bottom"),f=t.includes("top");return i?r=this.startWidth+e:c&&(r=this.startWidth-e),d?s=this.startHeight+n:f&&(s=this.startHeight-n),(t==="right"||t==="left")&&(r=this.startWidth+(i?e:-e)),(t==="top"||t==="bottom")&&(s=this.startHeight+(d?n:-n)),this.preserveAspectRatio||this.isShiftKeyPressed?this.applyAspectRatio(r,s,t):{width:r,height:s}}applyConstraints(t,e,n){var r,s,i,c;if(!n){let h=Math.max(this.minSize.width,t),p=Math.max(this.minSize.height,e);return(r=this.maxSize)!=null&&r.width&&(h=Math.min(this.maxSize.width,h)),(s=this.maxSize)!=null&&s.height&&(p=Math.min(this.maxSize.height,p)),{width:h,height:p}}let d=t,f=e;return d<this.minSize.width&&(d=this.minSize.width,f=d/this.aspectRatio),f<this.minSize.height&&(f=this.minSize.height,d=f*this.aspectRatio),(i=this.maxSize)!=null&&i.width&&d>this.maxSize.width&&(d=this.maxSize.width,f=d/this.aspectRatio),(c=this.maxSize)!=null&&c.height&&f>this.maxSize.height&&(f=this.maxSize.height,d=f*this.aspectRatio),{width:d,height:f}}applyAspectRatio(t,e,n){const r=n==="left"||n==="right",s=n==="top"||n==="bottom";return r?{width:t,height:t/this.aspectRatio}:s?{width:e*this.aspectRatio,height:e}:{width:t,height:t/this.aspectRatio}}};function J4(t,e){const{selection:n}=t,{$from:r}=n;if(n instanceof Ce){const i=r.index();return r.parent.canReplaceWith(i,i+1,e)}let s=r.depth;for(;s>=0;){const i=r.index(s);if(r.node(s).contentMatchAt(i).matchType(e))return!0;s-=1}return!1}var K4={};Cg(K4,{createAtomBlockMarkdownSpec:()=>Y4,createBlockMarkdownSpec:()=>W4,createInlineMarkdownSpec:()=>Z4,parseAttributes:()=>Rg,parseIndentedBlocks:()=>Mp,renderNestedMarkdownContent:()=>Dg,serializeAttributes:()=>Ig});function Rg(t){if(!(t!=null&&t.trim()))return{};const e={},n=[],r=t.replace(/["']([^"']*)["']/g,h=>(n.push(h),`__QUOTED_${n.length-1}__`)),s=r.match(/(?:^|\s)\.([a-zA-Z][\w-]*)/g);if(s){const h=s.map(p=>p.trim().slice(1));e.class=h.join(" ")}const i=r.match(/(?:^|\s)#([a-zA-Z][\w-]*)/);i&&(e.id=i[1]);const c=/([a-zA-Z][\w-]*)\s*=\s*(__QUOTED_\d+__)/g;Array.from(r.matchAll(c)).forEach(([,h,p])=>{var g;const b=parseInt(((g=p.match(/__QUOTED_(\d+)__/))==null?void 0:g[1])||"0",10),N=n[b];N&&(e[h]=N.slice(1,-1))});const f=r.replace(/(?:^|\s)\.([a-zA-Z][\w-]*)/g,"").replace(/(?:^|\s)#([a-zA-Z][\w-]*)/g,"").replace(/([a-zA-Z][\w-]*)\s*=\s*__QUOTED_\d+__/g,"").trim();return f&&f.split(/\s+/).filter(Boolean).forEach(p=>{p.match(/^[a-zA-Z][\w-]*$/)&&(e[p]=!0)}),e}function Ig(t){if(!t||Object.keys(t).length===0)return"";const e=[];return t.class&&String(t.class).split(/\s+/).filter(Boolean).forEach(r=>e.push(`.${r}`)),t.id&&e.push(`#${t.id}`),Object.entries(t).forEach(([n,r])=>{n==="class"||n==="id"||(r===!0?e.push(n):r!==!1&&r!=null&&e.push(`${n}="${String(r)}"`))}),e.join(" ")}function Y4(t){const{nodeName:e,name:n,parseAttributes:r=Rg,serializeAttributes:s=Ig,defaultAttributes:i={},requiredAttributes:c=[],allowedAttributes:d}=t,f=n||e,h=p=>{if(!d)return p;const g={};return d.forEach(b=>{b in p&&(g[b]=p[b])}),g};return{parseMarkdown:(p,g)=>{const b={...i,...p.attributes};return g.createNode(e,b,[])},markdownTokenizer:{name:e,level:"block",start(p){var g;const b=new RegExp(`^:::${f}(?:\\s|$)`,"m"),N=(g=p.match(b))==null?void 0:g.index;return N!==void 0?N:-1},tokenize(p,g,b){const N=new RegExp(`^:::${f}(?:\\s+\\{([^}]*)\\})?\\s*:::(?:\\n|$)`),w=p.match(N);if(!w)return;const S=w[1]||"",T=r(S);if(!c.find(M=>!(M in T)))return{type:e,raw:w[0],attributes:T}}},renderMarkdown:p=>{const g=h(p.attrs||{}),b=s(g),N=b?` {${b}}`:"";return`:::${f}${N} :::`}}}function W4(t){const{nodeName:e,name:n,getContent:r,parseAttributes:s=Rg,serializeAttributes:i=Ig,defaultAttributes:c={},content:d="block",allowedAttributes:f}=t,h=n||e,p=g=>{if(!f)return g;const b={};return f.forEach(N=>{N in g&&(b[N]=g[N])}),b};return{parseMarkdown:(g,b)=>{let N;if(r){const S=r(g);N=typeof S=="string"?[{type:"text",text:S}]:S}else d==="block"?N=b.parseChildren(g.tokens||[]):N=b.parseInline(g.tokens||[]);const w={...c,...g.attributes};return b.createNode(e,w,N)},markdownTokenizer:{name:e,level:"block",start(g){var b;const N=new RegExp(`^:::${h}`,"m"),w=(b=g.match(N))==null?void 0:b.index;return w!==void 0?w:-1},tokenize(g,b,N){var w;const S=new RegExp(`^:::${h}(?:\\s+\\{([^}]*)\\})?\\s*\\n`),T=g.match(S);if(!T)return;const[E,M=""]=T,D=s(M);let H=1;const V=E.length;let z="";const P=/^:::([\w-]*)(\s.*)?/gm,te=g.slice(V);for(P.lastIndex=0;;){const K=P.exec(te);if(K===null)break;const ce=K.index,ye=K[1];if(!((w=K[2])!=null&&w.endsWith(":::"))){if(ye)H+=1;else if(H-=1,H===0){const re=te.slice(0,ce);z=re.trim();const le=g.slice(0,V+ce+K[0].length);let ge=[];if(z)if(d==="block")for(ge=N.blockTokens(re),ge.forEach(Y=>{Y.text&&(!Y.tokens||Y.tokens.length===0)&&(Y.tokens=N.inlineTokens(Y.text))});ge.length>0;){const Y=ge[ge.length-1];if(Y.type==="paragraph"&&(!Y.text||Y.text.trim()===""))ge.pop();else break}else ge=N.inlineTokens(z);return{type:e,raw:le,attributes:D,content:z,tokens:ge}}}}}},renderMarkdown:(g,b)=>{const N=p(g.attrs||{}),w=i(N),S=w?` {${w}}`:"",T=b.renderChildren(g.content||[],`

`);return`:::${h}${S}

${T}

:::`}}}function X4(t){if(!t.trim())return{};const e={},n=/(\w+)=(?:"([^"]*)"|'([^']*)')/g;let r=n.exec(t);for(;r!==null;){const[,s,i,c]=r;e[s]=i||c,r=n.exec(t)}return e}function Q4(t){return Object.entries(t).filter(([,e])=>e!=null).map(([e,n])=>`${e}="${n}"`).join(" ")}function Z4(t){const{nodeName:e,name:n,getContent:r,parseAttributes:s=X4,serializeAttributes:i=Q4,defaultAttributes:c={},selfClosing:d=!1,allowedAttributes:f}=t,h=n||e,p=b=>{if(!f)return b;const N={};return f.forEach(w=>{w in b&&(N[w]=b[w])}),N},g=h.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return{parseMarkdown:(b,N)=>{const w={...c,...b.attributes};if(d)return N.createNode(e,w);const S=r?r(b):b.content||"";return S?N.createNode(e,w,[N.createTextNode(S)]):N.createNode(e,w,[])},markdownTokenizer:{name:e,level:"inline",start(b){const N=d?new RegExp(`\\[${g}\\s*[^\\]]*\\]`):new RegExp(`\\[${g}\\s*[^\\]]*\\][\\s\\S]*?\\[\\/${g}\\]`),w=b.match(N),S=w==null?void 0:w.index;return S!==void 0?S:-1},tokenize(b,N,w){const S=d?new RegExp(`^\\[${g}\\s*([^\\]]*)\\]`):new RegExp(`^\\[${g}\\s*([^\\]]*)\\]([\\s\\S]*?)\\[\\/${g}\\]`),T=b.match(S);if(!T)return;let E="",M="";if(d){const[,H]=T;M=H}else{const[,H,V]=T;M=H,E=V||""}const D=s(M.trim());return{type:e,raw:T[0],content:E.trim(),attributes:D}}},renderMarkdown:b=>{let N="";r?N=r(b):b.content&&b.content.length>0&&(N=b.content.filter(E=>E.type==="text").map(E=>E.text).join(""));const w=p(b.attrs||{}),S=i(w),T=S?` ${S}`:"";return d?`[${h}${T}]`:`[${h}${T}]${N}[/${h}]`}}}function Mp(t,e,n){var r,s,i,c;const d=t.split(`
`),f=[];let h="",p=0;const g=e.baseIndentSize||2;for(;p<d.length;){const b=d[p],N=b.match(e.itemPattern);if(!N){if(f.length>0)break;if(b.trim()===""){p+=1;continue}else return}const w=e.extractItemData(N),{indentLevel:S,mainContent:T}=w;h=`${h}${b}
`;const E=[T];for(p+=1;p<d.length;){const V=d[p];if(V.trim()===""){const P=d.slice(p+1).findIndex(ce=>ce.trim()!=="");if(P===-1)break;if((((s=(r=d[p+1+P].match(/^(\s*)/))==null?void 0:r[1])==null?void 0:s.length)||0)>S){E.push(V),h=`${h}${V}
`,p+=1;continue}else break}if((((c=(i=V.match(/^(\s*)/))==null?void 0:i[1])==null?void 0:c.length)||0)>S)E.push(V),h=`${h}${V}
`,p+=1;else break}let M;const D=E.slice(1);if(D.length>0){const V=D.map(z=>z.slice(S+g)).join(`
`);V.trim()&&(e.customNestedParser?M=e.customNestedParser(V):M=n.blockTokens(V))}const H=e.createToken(w,M);f.push(H)}if(f.length!==0)return{items:f,raw:h.trim()}}function Dg(t,e,n,r){if(!t||!Array.isArray(t.content))return"";const s=typeof n=="function"?n(r):n,[i,...c]=t.content,d=e.renderChildren([i]),f=[`${s}${d}`];return c&&c.length>0&&c.forEach(h=>{const p=e.renderChildren([h]);if(p){const g=p.split(`
`).map(b=>b?e.indent(b):"").join(`
`);f.push(g)}}),f.join(`
`)}function e3(t,e,n={}){const{state:r}=e,{doc:s,tr:i}=r,c=t;s.descendants((d,f)=>{const h=i.mapping.map(f),p=i.mapping.map(f)+d.nodeSize;let g=null;if(d.marks.forEach(N=>{if(N!==c)return!1;g=N}),!g)return;let b=!1;if(Object.keys(n).forEach(N=>{n[N]!==g.attrs[N]&&(b=!0)}),b){const N=t.type.create({...t.attrs,...n});i.removeMark(h,p,t.type),i.addMark(h,p,N)}}),i.docChanged&&e.view.dispatch(i)}var kn=class aw extends Mg{constructor(){super(...arguments),this.type="node"}static create(e={}){const n=typeof e=="function"?e():e;return new aw(n)}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}};function mo(t){return new P4({find:t.find,handler:({state:e,range:n,match:r,pasteEvent:s})=>{const i=We(t.getAttributes,void 0,r,s);if(i===!1||i===null)return null;const{tr:c}=e,d=r[r.length-1],f=r[0];let h=n.to;if(d){const p=f.search(/\S/),g=n.from+f.indexOf(d),b=g+d.length;if(jg(n.from,n.to,e.doc).filter(w=>w.mark.type.excluded.find(T=>T===t.type&&T!==w.mark.type)).filter(w=>w.to>g).length)return null;b<n.to&&c.delete(b,n.to),g>n.from&&c.delete(n.from+p,g),h=n.from+p+d.length,c.addMark(n.from+p,h,t.type.create(i||{})),c.removeStoredMark(t.type)}}})}var Ym,Yv;function t3(){return Yv||(Yv=1,Ym=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var r,s,i;if(Array.isArray(e)){if(r=e.length,r!=n.length)return!1;for(s=r;s--!==0;)if(!t(e[s],n[s]))return!1;return!0}if(e instanceof Map&&n instanceof Map){if(e.size!==n.size)return!1;for(s of e.entries())if(!n.has(s[0]))return!1;for(s of e.entries())if(!t(s[1],n.get(s[0])))return!1;return!0}if(e instanceof Set&&n instanceof Set){if(e.size!==n.size)return!1;for(s of e.entries())if(!n.has(s[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(n)){if(r=e.length,r!=n.length)return!1;for(s=r;s--!==0;)if(e[s]!==n[s])return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(i=Object.keys(e),r=i.length,r!==Object.keys(n).length)return!1;for(s=r;s--!==0;)if(!Object.prototype.hasOwnProperty.call(n,i[s]))return!1;for(s=r;s--!==0;){var c=i[s];if(!(c==="_owner"&&e.$$typeof)&&!t(e[c],n[c]))return!1}return!0}return e!==e&&n!==n}),Ym}var n3=t3();const r3=Uu(n3);var Wm={exports:{}},Xm={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wv;function s3(){if(Wv)return Xm;Wv=1;var t=Wl(),e=tN();function n(h,p){return h===p&&(h!==0||1/h===1/p)||h!==h&&p!==p}var r=typeof Object.is=="function"?Object.is:n,s=e.useSyncExternalStore,i=t.useRef,c=t.useEffect,d=t.useMemo,f=t.useDebugValue;return Xm.useSyncExternalStoreWithSelector=function(h,p,g,b,N){var w=i(null);if(w.current===null){var S={hasValue:!1,value:null};w.current=S}else S=w.current;w=d(function(){function E(z){if(!M){if(M=!0,D=z,z=b(z),N!==void 0&&S.hasValue){var P=S.value;if(N(P,z))return H=P}return H=z}if(P=H,r(D,z))return P;var te=b(z);return N!==void 0&&N(P,te)?(D=z,P):(D=z,H=te)}var M=!1,D,H,V=g===void 0?null:g;return[function(){return E(p())},V===null?void 0:function(){return E(V())}]},[p,g,b,N]);var T=s(h,w[0],w[1]);return c(function(){S.hasValue=!0,S.value=T},[T]),f(T),T},Xm}var Xv;function o3(){return Xv||(Xv=1,Wm.exports=s3()),Wm.exports}var a3=o3(),i3=(...t)=>e=>{t.forEach(n=>{typeof n=="function"?n(e):n&&(n.current=e)})},l3=({contentComponent:t})=>{const e=nN.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getServerSnapshot);return o.jsx(o.Fragment,{children:Object.values(e)})};function c3(){const t=new Set;let e={};return{subscribe(n){return t.add(n),()=>{t.delete(n)}},getSnapshot(){return e},getServerSnapshot(){return e},setRenderer(n,r){e={...e,[n]:ZT.createPortal(r.reactElement,r.element,n)},t.forEach(s=>s())},removeRenderer(n){const r={...e};delete r[n],e=r,t.forEach(s=>s())}}}var d3=class extends kr.Component{constructor(t){var e;super(t),this.editorContentRef=kr.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!((e=t.editor)!=null&&e.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const t=this.props.editor;if(t&&!t.isDestroyed&&t.options.element){if(t.contentComponent)return;const e=this.editorContentRef.current;e.append(t.view.dom),t.setOptions({element:e}),t.contentComponent=c3(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=t.contentComponent.subscribe(()=>{this.setState(n=>n.hasContentComponentInitialized?n:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),t.createNodeViews(),this.initialized=!0}}componentWillUnmount(){var t;const e=this.props.editor;if(e){this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),e.contentComponent=null;try{if(!((t=e.view.dom)!=null&&t.firstChild))return;const n=document.createElement("div");n.append(e.view.dom),e.setOptions({element:n})}catch{}}}render(){const{editor:t,innerRef:e,...n}=this.props;return o.jsxs(o.Fragment,{children:[o.jsx("div",{ref:i3(e,this.editorContentRef),...n}),(t==null?void 0:t.contentComponent)&&o.jsx(l3,{contentComponent:t.contentComponent})]})}},u3=j.forwardRef((t,e)=>{const n=kr.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[t.editor]);return kr.createElement(d3,{key:n,innerRef:e,...t})}),f3=kr.memo(u3),h3=typeof window<"u"?j.useLayoutEffect:j.useEffect,m3=class{constructor(t){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=t,this.lastSnapshot={editor:t,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(t){return this.subscribers.add(t),()=>{this.subscribers.delete(t)}}watch(t){if(this.editor=t,this.editor){const e=()=>{this.transactionNumber+=1,this.subscribers.forEach(r=>r())},n=this.editor;return n.on("transaction",e),()=>{n.off("transaction",e)}}}};function p3(t){var e;const[n]=j.useState(()=>new m3(t.editor)),r=a3.useSyncExternalStoreWithSelector(n.subscribe,n.getSnapshot,n.getServerSnapshot,t.selector,(e=t.equalityFn)!=null?e:r3);return h3(()=>n.watch(t.editor),[t.editor,n]),j.useDebugValue(r),r}var g3=!1,Rp=typeof window>"u",x3=Rp||!!(typeof window<"u"&&window.next),b3=class iw{constructor(e){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=e,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(e){this.editor=e,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(n=>n())}getInitialEditor(){return this.options.current.immediatelyRender===void 0?Rp||x3?null:this.createEditor():(this.options.current.immediatelyRender,this.options.current.immediatelyRender?this.createEditor():null)}createEditor(){const e={...this.options.current,onBeforeCreate:(...r)=>{var s,i;return(i=(s=this.options.current).onBeforeCreate)==null?void 0:i.call(s,...r)},onBlur:(...r)=>{var s,i;return(i=(s=this.options.current).onBlur)==null?void 0:i.call(s,...r)},onCreate:(...r)=>{var s,i;return(i=(s=this.options.current).onCreate)==null?void 0:i.call(s,...r)},onDestroy:(...r)=>{var s,i;return(i=(s=this.options.current).onDestroy)==null?void 0:i.call(s,...r)},onFocus:(...r)=>{var s,i;return(i=(s=this.options.current).onFocus)==null?void 0:i.call(s,...r)},onSelectionUpdate:(...r)=>{var s,i;return(i=(s=this.options.current).onSelectionUpdate)==null?void 0:i.call(s,...r)},onTransaction:(...r)=>{var s,i;return(i=(s=this.options.current).onTransaction)==null?void 0:i.call(s,...r)},onUpdate:(...r)=>{var s,i;return(i=(s=this.options.current).onUpdate)==null?void 0:i.call(s,...r)},onContentError:(...r)=>{var s,i;return(i=(s=this.options.current).onContentError)==null?void 0:i.call(s,...r)},onDrop:(...r)=>{var s,i;return(i=(s=this.options.current).onDrop)==null?void 0:i.call(s,...r)},onPaste:(...r)=>{var s,i;return(i=(s=this.options.current).onPaste)==null?void 0:i.call(s,...r)},onDelete:(...r)=>{var s,i;return(i=(s=this.options.current).onDelete)==null?void 0:i.call(s,...r)}};return new F4(e)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(e){return this.subscriptions.add(e),()=>{this.subscriptions.delete(e)}}static compareOptions(e,n){return Object.keys(e).every(r=>["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(r)?!0:r==="extensions"&&e.extensions&&n.extensions?e.extensions.length!==n.extensions.length?!1:e.extensions.every((s,i)=>{var c;return s===((c=n.extensions)==null?void 0:c[i])}):e[r]===n[r])}onRender(e){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&e.length===0?iw.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(e),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(e){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=e;return}if(this.previousDeps.length===e.length&&this.previousDeps.every((r,s)=>r===e[s]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=e}scheduleDestroy(){const e=this.instanceId,n=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===e){n&&n.setOptions(this.options.current);return}n&&!n.isDestroyed&&(n.destroy(),this.instanceId===e&&this.setEditor(null))},1)}};function y3(t={},e=[]){const n=j.useRef(t);n.current=t;const[r]=j.useState(()=>new b3(n)),s=nN.useSyncExternalStore(r.subscribe,r.getEditor,r.getServerSnapshot);return j.useDebugValue(s),j.useEffect(r.onRender(e)),p3({editor:s,selector:({transactionNumber:i})=>t.shouldRerenderOnTransaction===!1||t.shouldRerenderOnTransaction===void 0?null:t.immediatelyRender&&i===0?0:i+1}),s}var v3=j.createContext({editor:null});v3.Consumer;var N3=j.createContext({onDragStart:()=>{},nodeViewContentChildren:void 0,nodeViewContentRef:()=>{}}),C3=()=>j.useContext(N3);kr.forwardRef((t,e)=>{const{onDragStart:n}=C3(),r=t.as||"div";return o.jsx(r,{...t,ref:e,"data-node-view-wrapper":"",onDragStart:n,style:{whiteSpace:"normal",...t.style}})});kr.createContext({markViewContentRef:()=>{}});var ou=(t,e)=>{if(t==="slot")return 0;if(t instanceof Function)return t(e);const{children:n,...r}=e??{};if(t==="svg")throw new Error("SVG elements are not supported in the JSX syntax, use the array syntax instead");return[t,r,n]},w3=/^\s*>\s$/,S3=kn.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:t}){return ou("blockquote",{...ht(this.options.HTMLAttributes,t),children:ou("slot",{})})},parseMarkdown:(t,e)=>e.createNode("blockquote",void 0,e.parseChildren(t.tokens||[])),renderMarkdown:(t,e)=>{if(!t.content)return"";const n=[];return t.content.forEach(s=>{const c=e.renderChildren(s).split(`
`).map(d=>`> ${d}`).join(`
`);n.push(c)}),n.flatMap(s=>[s,"> "]).slice(0,-1).join(`
`)},addCommands(){return{setBlockquote:()=>({commands:t})=>t.wrapIn(this.name),toggleBlockquote:()=>({commands:t})=>t.toggleWrap(this.name),unsetBlockquote:()=>({commands:t})=>t.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[fi({find:w3,type:this.type})]}}),T3=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,k3=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,E3=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,A3=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,j3=ls.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:t=>t.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:t=>t.type.name===this.name},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}]},renderHTML({HTMLAttributes:t}){return ou("strong",{...ht(this.options.HTMLAttributes,t),children:ou("slot",{})})},markdownTokenName:"strong",parseMarkdown:(t,e)=>e.applyMark("bold",e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>`**${e.renderChildren(t)}**`,addCommands(){return{setBold:()=>({commands:t})=>t.setMark(this.name),toggleBold:()=>({commands:t})=>t.toggleMark(this.name),unsetBold:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[oa({find:T3,type:this.type}),oa({find:E3,type:this.type})]},addPasteRules(){return[mo({find:k3,type:this.type}),mo({find:A3,type:this.type})]}}),M3=/(^|[^`])`([^`]+)`(?!`)$/,R3=/(^|[^`])`([^`]+)`(?!`)/g,I3=ls.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:t}){return["code",ht(this.options.HTMLAttributes,t),0]},markdownTokenName:"codespan",parseMarkdown:(t,e)=>e.applyMark("code",[{type:"text",text:t.text||""}]),renderMarkdown:(t,e)=>t.content?`\`${e.renderChildren(t.content)}\``:"",addCommands(){return{setCode:()=>({commands:t})=>t.setMark(this.name),toggleCode:()=>({commands:t})=>t.toggleMark(this.name),unsetCode:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[oa({find:M3,type:this.type})]},addPasteRules(){return[mo({find:R3,type:this.type})]}}),Qm=4,D3=/^```([a-z]+)?[\s\n]$/,_3=/^~~~([a-z]+)?[\s\n]$/,P3=kn.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,enableTabIndentation:!1,tabSize:Qm,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:t=>{var e;const{languageClassPrefix:n}=this.options;if(!n)return null;const i=[...((e=t.firstElementChild)==null?void 0:e.classList)||[]].filter(c=>c.startsWith(n)).map(c=>c.replace(n,""))[0];return i||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:t,HTMLAttributes:e}){return["pre",ht(this.options.HTMLAttributes,e),["code",{class:t.attrs.language?this.options.languageClassPrefix+t.attrs.language:null},0]]},markdownTokenName:"code",parseMarkdown:(t,e)=>{var n;return((n=t.raw)==null?void 0:n.startsWith("```"))===!1&&t.codeBlockStyle!=="indented"?[]:e.createNode("codeBlock",{language:t.lang||null},t.text?[e.createTextNode(t.text)]:[])},renderMarkdown:(t,e)=>{var n;let r="";const s=((n=t.attrs)==null?void 0:n.language)||"";return t.content?r=[`\`\`\`${s}`,e.renderChildren(t.content),"```"].join(`
`):r=`\`\`\`${s}

\`\`\``,r},addCommands(){return{setCodeBlock:t=>({commands:e})=>e.setNode(this.name,t),toggleCodeBlock:t=>({commands:e})=>e.toggleNode(this.name,"paragraph",t)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:t,$anchor:e}=this.editor.state.selection,n=e.pos===1;return!t||e.parent.type.name!==this.name?!1:n||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Tab:({editor:t})=>{var e;if(!this.options.enableTabIndentation)return!1;const n=(e=this.options.tabSize)!=null?e:Qm,{state:r}=t,{selection:s}=r,{$from:i,empty:c}=s;if(i.parent.type!==this.type)return!1;const d=" ".repeat(n);return c?t.commands.insertContent(d):t.commands.command(({tr:f})=>{const{from:h,to:p}=s,N=r.doc.textBetween(h,p,`
`,`
`).split(`
`).map(w=>d+w).join(`
`);return f.replaceWith(h,p,r.schema.text(N)),!0})},"Shift-Tab":({editor:t})=>{var e;if(!this.options.enableTabIndentation)return!1;const n=(e=this.options.tabSize)!=null?e:Qm,{state:r}=t,{selection:s}=r,{$from:i,empty:c}=s;return i.parent.type!==this.type?!1:c?t.commands.command(({tr:d})=>{var f;const{pos:h}=i,p=i.start(),g=i.end(),N=r.doc.textBetween(p,g,`
`,`
`).split(`
`);let w=0,S=0;const T=h-p;for(let z=0;z<N.length;z+=1){if(S+N[z].length>=T){w=z;break}S+=N[z].length+1}const M=((f=N[w].match(/^ */))==null?void 0:f[0])||"",D=Math.min(M.length,n);if(D===0)return!0;let H=p;for(let z=0;z<w;z+=1)H+=N[z].length+1;return d.delete(H,H+D),h-H<=D&&d.setSelection(Ee.create(d.doc,H)),!0}):t.commands.command(({tr:d})=>{const{from:f,to:h}=s,b=r.doc.textBetween(f,h,`
`,`
`).split(`
`).map(N=>{var w;const S=((w=N.match(/^ */))==null?void 0:w[0])||"",T=Math.min(S.length,n);return N.slice(T)}).join(`
`);return d.replaceWith(f,h,r.schema.text(b)),!0})},Enter:({editor:t})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=t,{selection:n}=e,{$from:r,empty:s}=n;if(!s||r.parent.type!==this.type)return!1;const i=r.parentOffset===r.parent.nodeSize-2,c=r.parent.textContent.endsWith(`

`);return!i||!c?!1:t.chain().command(({tr:d})=>(d.delete(r.pos-2,r.pos),!0)).exitCode().run()},ArrowDown:({editor:t})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=t,{selection:n,doc:r}=e,{$from:s,empty:i}=n;if(!i||s.parent.type!==this.type||!(s.parentOffset===s.parent.nodeSize-2))return!1;const d=s.after();return d===void 0?!1:r.nodeAt(d)?t.commands.command(({tr:h})=>(h.setSelection(Pe.near(r.resolve(d))),!0)):t.commands.exitCode()}}},addInputRules(){return[jp({find:D3,type:this.type,getAttributes:t=>({language:t[1]})}),jp({find:_3,type:this.type,getAttributes:t=>({language:t[1]})})]},addProseMirrorPlugins(){return[new yt({key:new Ut("codeBlockVSCodeHandler"),props:{handlePaste:(t,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const n=e.clipboardData.getData("text/plain"),r=e.clipboardData.getData("vscode-editor-data"),s=r?JSON.parse(r):void 0,i=s==null?void 0:s.mode;if(!n||!i)return!1;const{tr:c,schema:d}=t.state,f=d.text(n.replace(/\r\n?/g,`
`));return c.replaceSelectionWith(this.type.create({language:i},f)),c.selection.$from.parent.type!==this.type&&c.setSelection(Ee.near(c.doc.resolve(Math.max(0,c.selection.from-2)))),c.setMeta("paste",!0),t.dispatch(c),!0}}})]}}),L3=kn.create({name:"doc",topNode:!0,content:"block+",renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`

`):""}),O3=kn.create({name:"hardBreak",markdownTokenName:"br",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:t}){return["br",ht(this.options.HTMLAttributes,t)]},renderText(){return`
`},renderMarkdown:()=>`  
`,parseMarkdown:()=>({type:"hardBreak"}),addCommands(){return{setHardBreak:()=>({commands:t,chain:e,state:n,editor:r})=>t.first([()=>t.exitCode(),()=>t.command(()=>{const{selection:s,storedMarks:i}=n;if(s.$from.parent.type.spec.isolating)return!1;const{keepMarks:c}=this.options,{splittableMarks:d}=r.extensionManager,f=i||s.$to.parentOffset&&s.$from.marks();return e().insertContent({type:this.name}).command(({tr:h,dispatch:p})=>{if(p&&f&&c){const g=f.filter(b=>d.includes(b.type.name));h.ensureMarks(g)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),B3=kn.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(t=>({tag:`h${t}`,attrs:{level:t}}))},renderHTML({node:t,HTMLAttributes:e}){return[`h${this.options.levels.includes(t.attrs.level)?t.attrs.level:this.options.levels[0]}`,ht(this.options.HTMLAttributes,e),0]},parseMarkdown:(t,e)=>e.createNode("heading",{level:t.depth||1},e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>{var n;const r=(n=t.attrs)!=null&&n.level?parseInt(t.attrs.level,10):1,s="#".repeat(r);return t.content?`${s} ${e.renderChildren(t.content)}`:""},addCommands(){return{setHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.setNode(this.name,t):!1,toggleHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.toggleNode(this.name,"paragraph",t):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((t,e)=>({...t,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(t=>jp({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${t}})\\s$`),type:this.type,getAttributes:{level:t}}))}}),z3=kn.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{},nextNodeType:"paragraph"}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:t}){return["hr",ht(this.options.HTMLAttributes,t)]},markdownTokenName:"hr",parseMarkdown:(t,e)=>e.createNode("horizontalRule"),renderMarkdown:()=>"---",addCommands(){return{setHorizontalRule:()=>({chain:t,state:e})=>{if(!J4(e,e.schema.nodes[this.name]))return!1;const{selection:n}=e,{$to:r}=n,s=t();return GC(n)?s.insertContentAt(r.pos,{type:this.name}):s.insertContent({type:this.name}),s.command(({state:i,tr:c,dispatch:d})=>{if(d){const{$to:f}=c.selection,h=f.end();if(f.nodeAfter)f.nodeAfter.isTextblock?c.setSelection(Ee.create(c.doc,f.pos+1)):f.nodeAfter.isBlock?c.setSelection(Ce.create(c.doc,f.pos)):c.setSelection(Ee.create(c.doc,f.pos));else{const p=i.schema.nodes[this.options.nextNodeType]||f.parent.type.contentMatch.defaultType,g=p==null?void 0:p.create();g&&(c.insert(h,g),c.setSelection(Ee.create(c.doc,h+1)))}c.scrollIntoView()}return!0}).run()}}},addInputRules(){return[ow({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),U3=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,H3=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,V3=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,q3=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,F3=ls.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:t=>t.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:t=>t.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:t}){return["em",ht(this.options.HTMLAttributes,t),0]},addCommands(){return{setItalic:()=>({commands:t})=>t.setMark(this.name),toggleItalic:()=>({commands:t})=>t.toggleMark(this.name),unsetItalic:()=>({commands:t})=>t.unsetMark(this.name)}},markdownTokenName:"em",parseMarkdown:(t,e)=>e.applyMark("italic",e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>`*${e.renderChildren(t)}*`,addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[oa({find:U3,type:this.type}),oa({find:V3,type:this.type})]},addPasteRules(){return[mo({find:H3,type:this.type}),mo({find:q3,type:this.type})]}});const G3="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0axi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mgensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",$3="121342632165322333335355455655552435435422463632574574330355524444661154543332344423364211133222221212112052232222232212222223222241112222224322321222",Ip="numeric",Dp="ascii",_p="alpha",Ml="asciinumeric",Tl="alphanumeric",Pp="domain",lw="emoji",J3="scheme",K3="slashscheme",Zm="whitespace";function Y3(t,e){return t in e||(e[t]=[]),e[t]}function Ko(t,e,n){e[Ip]&&(e[Ml]=!0,e[Tl]=!0),e[Dp]&&(e[Ml]=!0,e[_p]=!0),e[Ml]&&(e[Tl]=!0),e[_p]&&(e[Tl]=!0),e[Tl]&&(e[Pp]=!0),e[lw]&&(e[Pp]=!0);for(const r in e){const s=Y3(r,n);s.indexOf(t)<0&&s.push(t)}}function W3(t,e){const n={};for(const r in e)e[r].indexOf(t)>=0&&(n[r]=!0);return n}function Sn(t=null){this.j={},this.jr=[],this.jd=null,this.t=t}Sn.groups={};Sn.prototype={accepts(){return!!this.t},go(t){const e=this,n=e.j[t];if(n)return n;for(let r=0;r<e.jr.length;r++){const s=e.jr[r][0],i=e.jr[r][1];if(i&&s.test(t))return i}return e.jd},has(t,e=!1){return e?t in this.j:!!this.go(t)},ta(t,e,n,r){for(let s=0;s<t.length;s++)this.tt(t[s],e,n,r)},tr(t,e,n,r){r=r||Sn.groups;let s;return e&&e.j?s=e:(s=new Sn(e),n&&r&&Ko(e,n,r)),this.jr.push([t,s]),s},ts(t,e,n,r){let s=this;const i=t.length;if(!i)return s;for(let c=0;c<i-1;c++)s=s.tt(t[c]);return s.tt(t[i-1],e,n,r)},tt(t,e,n,r){r=r||Sn.groups;const s=this;if(e&&e.j)return s.j[t]=e,e;const i=e;let c,d=s.go(t);if(d?(c=new Sn,Object.assign(c.j,d.j),c.jr.push.apply(c.jr,d.jr),c.jd=d.jd,c.t=d.t):c=new Sn,i){if(r)if(c.t&&typeof c.t=="string"){const f=Object.assign(W3(c.t,r),n);Ko(i,f,r)}else n&&Ko(i,n,r);c.t=i}return s.j[t]=c,c}};const _e=(t,e,n,r,s)=>t.ta(e,n,r,s),xt=(t,e,n,r,s)=>t.tr(e,n,r,s),Qv=(t,e,n,r,s)=>t.ts(e,n,r,s),ae=(t,e,n,r,s)=>t.tt(e,n,r,s),Zr="WORD",Lp="UWORD",cw="ASCIINUMERICAL",dw="ALPHANUMERICAL",Kl="LOCALHOST",Op="TLD",Bp="UTLD",Vd="SCHEME",Qa="SLASH_SCHEME",_g="NUM",zp="WS",Pg="NL",Rl="OPENBRACE",Il="CLOSEBRACE",au="OPENBRACKET",iu="CLOSEBRACKET",lu="OPENPAREN",cu="CLOSEPAREN",du="OPENANGLEBRACKET",uu="CLOSEANGLEBRACKET",fu="FULLWIDTHLEFTPAREN",hu="FULLWIDTHRIGHTPAREN",mu="LEFTCORNERBRACKET",pu="RIGHTCORNERBRACKET",gu="LEFTWHITECORNERBRACKET",xu="RIGHTWHITECORNERBRACKET",bu="FULLWIDTHLESSTHAN",yu="FULLWIDTHGREATERTHAN",vu="AMPERSAND",Nu="APOSTROPHE",Cu="ASTERISK",Xs="AT",wu="BACKSLASH",Su="BACKTICK",Tu="CARET",eo="COLON",Lg="COMMA",ku="DOLLAR",wr="DOT",Eu="EQUALS",Og="EXCLAMATION",Yn="HYPHEN",Dl="PERCENT",Au="PIPE",ju="PLUS",Mu="POUND",_l="QUERY",Bg="QUOTE",uw="FULLWIDTHMIDDLEDOT",zg="SEMI",Sr="SLASH",Pl="TILDE",Ru="UNDERSCORE",fw="EMOJI",Iu="SYM";var hw=Object.freeze({__proto__:null,ALPHANUMERICAL:dw,AMPERSAND:vu,APOSTROPHE:Nu,ASCIINUMERICAL:cw,ASTERISK:Cu,AT:Xs,BACKSLASH:wu,BACKTICK:Su,CARET:Tu,CLOSEANGLEBRACKET:uu,CLOSEBRACE:Il,CLOSEBRACKET:iu,CLOSEPAREN:cu,COLON:eo,COMMA:Lg,DOLLAR:ku,DOT:wr,EMOJI:fw,EQUALS:Eu,EXCLAMATION:Og,FULLWIDTHGREATERTHAN:yu,FULLWIDTHLEFTPAREN:fu,FULLWIDTHLESSTHAN:bu,FULLWIDTHMIDDLEDOT:uw,FULLWIDTHRIGHTPAREN:hu,HYPHEN:Yn,LEFTCORNERBRACKET:mu,LEFTWHITECORNERBRACKET:gu,LOCALHOST:Kl,NL:Pg,NUM:_g,OPENANGLEBRACKET:du,OPENBRACE:Rl,OPENBRACKET:au,OPENPAREN:lu,PERCENT:Dl,PIPE:Au,PLUS:ju,POUND:Mu,QUERY:_l,QUOTE:Bg,RIGHTCORNERBRACKET:pu,RIGHTWHITECORNERBRACKET:xu,SCHEME:Vd,SEMI:zg,SLASH:Sr,SLASH_SCHEME:Qa,SYM:Iu,TILDE:Pl,TLD:Op,UNDERSCORE:Ru,UTLD:Bp,UWORD:Lp,WORD:Zr,WS:zp});const Wr=/[a-z]/,vl=new RegExp("\\p{L}","u"),ep=new RegExp("\\p{Emoji}","u"),Xr=/\d/,tp=/\s/,Zv="\r",np=`
`,X3="",Q3="",rp="";let Dd=null,_d=null;function Z3(t=[]){const e={};Sn.groups=e;const n=new Sn;Dd==null&&(Dd=e1(G3)),_d==null&&(_d=e1($3)),ae(n,"'",Nu),ae(n,"{",Rl),ae(n,"}",Il),ae(n,"[",au),ae(n,"]",iu),ae(n,"(",lu),ae(n,")",cu),ae(n,"<",du),ae(n,">",uu),ae(n,"",fu),ae(n,"",hu),ae(n,"",mu),ae(n,"",pu),ae(n,"",gu),ae(n,"",xu),ae(n,"",bu),ae(n,"",yu),ae(n,"&",vu),ae(n,"*",Cu),ae(n,"@",Xs),ae(n,"`",Su),ae(n,"^",Tu),ae(n,":",eo),ae(n,",",Lg),ae(n,"$",ku),ae(n,".",wr),ae(n,"=",Eu),ae(n,"!",Og),ae(n,"-",Yn),ae(n,"%",Dl),ae(n,"|",Au),ae(n,"+",ju),ae(n,"#",Mu),ae(n,"?",_l),ae(n,'"',Bg),ae(n,"/",Sr),ae(n,";",zg),ae(n,"~",Pl),ae(n,"_",Ru),ae(n,"\\",wu),ae(n,"",uw);const r=xt(n,Xr,_g,{[Ip]:!0});xt(r,Xr,r);const s=xt(r,Wr,cw,{[Ml]:!0}),i=xt(r,vl,dw,{[Tl]:!0}),c=xt(n,Wr,Zr,{[Dp]:!0});xt(c,Xr,s),xt(c,Wr,c),xt(s,Xr,s),xt(s,Wr,s);const d=xt(n,vl,Lp,{[_p]:!0});xt(d,Wr),xt(d,Xr,i),xt(d,vl,d),xt(i,Xr,i),xt(i,Wr),xt(i,vl,i);const f=ae(n,np,Pg,{[Zm]:!0}),h=ae(n,Zv,zp,{[Zm]:!0}),p=xt(n,tp,zp,{[Zm]:!0});ae(n,rp,p),ae(h,np,f),ae(h,rp,p),xt(h,tp,p),ae(p,Zv),ae(p,np),xt(p,tp,p),ae(p,rp,p);const g=xt(n,ep,fw,{[lw]:!0});ae(g,"#"),xt(g,ep,g),ae(g,X3,g);const b=ae(g,Q3);ae(b,"#"),xt(b,ep,g);const N=[[Wr,c],[Xr,s]],w=[[Wr,null],[vl,d],[Xr,i]];for(let S=0;S<Dd.length;S++)Ks(n,Dd[S],Op,Zr,N);for(let S=0;S<_d.length;S++)Ks(n,_d[S],Bp,Lp,w);Ko(Op,{tld:!0,ascii:!0},e),Ko(Bp,{utld:!0,alpha:!0},e),Ks(n,"file",Vd,Zr,N),Ks(n,"mailto",Vd,Zr,N),Ks(n,"http",Qa,Zr,N),Ks(n,"https",Qa,Zr,N),Ks(n,"ftp",Qa,Zr,N),Ks(n,"ftps",Qa,Zr,N),Ko(Vd,{scheme:!0,ascii:!0},e),Ko(Qa,{slashscheme:!0,ascii:!0},e),t=t.sort((S,T)=>S[0]>T[0]?1:-1);for(let S=0;S<t.length;S++){const T=t[S][0],M=t[S][1]?{[J3]:!0}:{[K3]:!0};T.indexOf("-")>=0?M[Pp]=!0:Wr.test(T)?Xr.test(T)?M[Ml]=!0:M[Dp]=!0:M[Ip]=!0,Qv(n,T,T,M)}return Qv(n,"localhost",Kl,{ascii:!0}),n.jd=new Sn(Iu),{start:n,tokens:Object.assign({groups:e},hw)}}function mw(t,e){const n=eM(e.replace(/[A-Z]/g,d=>d.toLowerCase())),r=n.length,s=[];let i=0,c=0;for(;c<r;){let d=t,f=null,h=0,p=null,g=-1,b=-1;for(;c<r&&(f=d.go(n[c]));)d=f,d.accepts()?(g=0,b=0,p=d):g>=0&&(g+=n[c].length,b++),h+=n[c].length,i+=n[c].length,c++;i-=g,c-=b,h-=g,s.push({t:p.t,v:e.slice(i-h,i),s:i-h,e:i})}return s}function eM(t){const e=[],n=t.length;let r=0;for(;r<n;){let s=t.charCodeAt(r),i,c=s<55296||s>56319||r+1===n||(i=t.charCodeAt(r+1))<56320||i>57343?t[r]:t.slice(r,r+2);e.push(c),r+=c.length}return e}function Ks(t,e,n,r,s){let i;const c=e.length;for(let d=0;d<c-1;d++){const f=e[d];t.j[f]?i=t.j[f]:(i=new Sn(r),i.jr=s.slice(),t.j[f]=i),t=i}return i=new Sn(n),i.jr=s.slice(),t.j[e[c-1]]=i,i}function e1(t){const e=[],n=[];let r=0,s="0123456789";for(;r<t.length;){let i=0;for(;s.indexOf(t[r+i])>=0;)i++;if(i>0){e.push(n.join(""));for(let c=parseInt(t.substring(r,r+i),10);c>0;c--)n.pop();r+=i}else n.push(t[r]),r++}return e}const Yl={defaultProtocol:"http",events:null,format:t1,formatHref:t1,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function Ug(t,e=null){let n=Object.assign({},Yl);t&&(n=Object.assign(n,t instanceof Ug?t.o:t));const r=n.ignoreTags,s=[];for(let i=0;i<r.length;i++)s.push(r[i].toUpperCase());this.o=n,e&&(this.defaultRender=e),this.ignoreTags=s}Ug.prototype={o:Yl,ignoreTags:[],defaultRender(t){return t},check(t){return this.get("validate",t.toString(),t)},get(t,e,n){const r=e!=null;let s=this.o[t];return s&&(typeof s=="object"?(s=n.t in s?s[n.t]:Yl[t],typeof s=="function"&&r&&(s=s(e,n))):typeof s=="function"&&r&&(s=s(e,n.t,n)),s)},getObj(t,e,n){let r=this.o[t];return typeof r=="function"&&e!=null&&(r=r(e,n.t,n)),r},render(t){const e=t.render(this);return(this.get("render",null,t)||this.defaultRender)(e,t.t,t)}};function t1(t){return t}function pw(t,e){this.t="token",this.v=t,this.tk=e}pw.prototype={isLink:!1,toString(){return this.v},toHref(t){return this.toString()},toFormattedString(t){const e=this.toString(),n=t.get("truncate",e,this),r=t.get("format",e,this);return n&&r.length>n?r.substring(0,n)+"":r},toFormattedHref(t){return t.get("formatHref",this.toHref(t.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(t=Yl.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(t),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(t){return{type:this.t,value:this.toFormattedString(t),isLink:this.isLink,href:this.toFormattedHref(t),start:this.startIndex(),end:this.endIndex()}},validate(t){return t.get("validate",this.toString(),this)},render(t){const e=this,n=this.toHref(t.get("defaultProtocol")),r=t.get("formatHref",n,this),s=t.get("tagName",n,e),i=this.toFormattedString(t),c={},d=t.get("className",n,e),f=t.get("target",n,e),h=t.get("rel",n,e),p=t.getObj("attributes",n,e),g=t.getObj("events",n,e);return c.href=r,d&&(c.class=d),f&&(c.target=f),h&&(c.rel=h),p&&Object.assign(c,p),{tagName:s,attributes:c,content:i,eventListeners:g}}};function of(t,e){class n extends pw{constructor(s,i){super(s,i),this.t=t}}for(const r in e)n.prototype[r]=e[r];return n.t=t,n}const n1=of("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),r1=of("text"),tM=of("nl"),Pd=of("url",{isLink:!0,toHref(t=Yl.defaultProtocol){return this.hasProtocol()?this.v:`${t}://${this.v}`},hasProtocol(){const t=this.tk;return t.length>=2&&t[0].t!==Kl&&t[1].t===eo}}),Kn=t=>new Sn(t);function nM({groups:t}){const e=t.domain.concat([vu,Cu,Xs,wu,Su,Tu,ku,Eu,Yn,_g,Dl,Au,ju,Mu,Sr,Iu,Pl,Ru]),n=[Nu,eo,Lg,wr,Og,Dl,_l,Bg,zg,du,uu,Rl,Il,iu,au,lu,cu,fu,hu,mu,pu,gu,xu,bu,yu],r=[vu,Nu,Cu,wu,Su,Tu,ku,Eu,Yn,Rl,Il,Dl,Au,ju,Mu,_l,Sr,Iu,Pl,Ru],s=Kn(),i=ae(s,Pl);_e(i,r,i),_e(i,t.domain,i);const c=Kn(),d=Kn(),f=Kn();_e(s,t.domain,c),_e(s,t.scheme,d),_e(s,t.slashscheme,f),_e(c,r,i),_e(c,t.domain,c);const h=ae(c,Xs);ae(i,Xs,h),ae(d,Xs,h),ae(f,Xs,h);const p=ae(i,wr);_e(p,r,i),_e(p,t.domain,i);const g=Kn();_e(h,t.domain,g),_e(g,t.domain,g);const b=ae(g,wr);_e(b,t.domain,g);const N=Kn(n1);_e(b,t.tld,N),_e(b,t.utld,N),ae(h,Kl,N);const w=ae(g,Yn);ae(w,Yn,w),_e(w,t.domain,g),_e(N,t.domain,g),ae(N,wr,b),ae(N,Yn,w);const S=ae(N,eo);_e(S,t.numeric,n1);const T=ae(c,Yn),E=ae(c,wr);ae(T,Yn,T),_e(T,t.domain,c),_e(E,r,i),_e(E,t.domain,c);const M=Kn(Pd);_e(E,t.tld,M),_e(E,t.utld,M),_e(M,t.domain,c),_e(M,r,i),ae(M,wr,E),ae(M,Yn,T),ae(M,Xs,h);const D=ae(M,eo),H=Kn(Pd);_e(D,t.numeric,H);const V=Kn(Pd),z=Kn();_e(V,e,V),_e(V,n,z),_e(z,e,V),_e(z,n,z),ae(M,Sr,V),ae(H,Sr,V);const P=ae(d,eo),te=ae(f,eo),K=ae(te,Sr),ce=ae(K,Sr);_e(d,t.domain,c),ae(d,wr,E),ae(d,Yn,T),_e(f,t.domain,c),ae(f,wr,E),ae(f,Yn,T),_e(P,t.domain,V),ae(P,Sr,V),ae(P,_l,V),_e(ce,t.domain,V),_e(ce,e,V),ae(ce,Sr,V);const ye=[[Rl,Il],[au,iu],[lu,cu],[du,uu],[fu,hu],[mu,pu],[gu,xu],[bu,yu]];for(let re=0;re<ye.length;re++){const[le,ge]=ye[re],Y=ae(V,le);ae(z,le,Y),ae(Y,ge,V);const O=Kn(Pd);_e(Y,e,O);const J=Kn();_e(Y,n),_e(O,e,O),_e(O,n,J),_e(J,e,O),_e(J,n,J),ae(O,ge,V),ae(J,ge,V)}return ae(s,Kl,M),ae(s,Pg,tM),{start:s,tokens:hw}}function rM(t,e,n){let r=n.length,s=0,i=[],c=[];for(;s<r;){let d=t,f=null,h=null,p=0,g=null,b=-1;for(;s<r&&!(f=d.go(n[s].t));)c.push(n[s++]);for(;s<r&&(h=f||d.go(n[s].t));)f=null,d=h,d.accepts()?(b=0,g=d):b>=0&&b++,s++,p++;if(b<0)s-=p,s<r&&(c.push(n[s]),s++);else{c.length>0&&(i.push(sp(r1,e,c)),c=[]),s-=b,p-=b;const N=g.t,w=n.slice(s-p,s);i.push(sp(N,e,w))}}return c.length>0&&i.push(sp(r1,e,c)),i}function sp(t,e,n){const r=n[0].s,s=n[n.length-1].e,i=e.slice(r,s);return new t(i,n)}const sM=typeof console<"u"&&console&&console.warn||(()=>{}),oM="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",ct={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function aM(){return Sn.groups={},ct.scanner=null,ct.parser=null,ct.tokenQueue=[],ct.pluginQueue=[],ct.customSchemes=[],ct.initialized=!1,ct}function s1(t,e=!1){if(ct.initialized&&sM(`linkifyjs: already initialized - will not register custom scheme "${t}" ${oM}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(t))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);ct.customSchemes.push([t,e])}function iM(){ct.scanner=Z3(ct.customSchemes);for(let t=0;t<ct.tokenQueue.length;t++)ct.tokenQueue[t][1]({scanner:ct.scanner});ct.parser=nM(ct.scanner.tokens);for(let t=0;t<ct.pluginQueue.length;t++)ct.pluginQueue[t][1]({scanner:ct.scanner,parser:ct.parser});return ct.initialized=!0,ct}function Hg(t){return ct.initialized||iM(),rM(ct.parser.start,t,mw(ct.scanner.start,t))}Hg.scan=mw;function gw(t,e=null,n=null){if(e&&typeof e=="object"){if(n)throw Error(`linkifyjs: Invalid link type ${e}; must be a string`);n=e,e=null}const r=new Ug(n),s=Hg(t),i=[];for(let c=0;c<s.length;c++){const d=s[c];d.isLink&&(!e||d.t===e)&&r.check(d)&&i.push(d.toFormattedObject(r))}return i}var Vg="[\0- -\u2029]",lM=new RegExp(Vg),cM=new RegExp(`${Vg}$`),dM=new RegExp(Vg,"g");function uM(t){return t.length===1?t[0].isLink:t.length===3&&t[1].isLink?["()","[]"].includes(t[0].value+t[2].value):!1}function fM(t){return new yt({key:new Ut("autolink"),appendTransaction:(e,n,r)=>{const s=e.some(h=>h.docChanged)&&!n.doc.eq(r.doc),i=e.some(h=>h.getMeta("preventAutolink"));if(!s||i)return;const{tr:c}=r,d=OC(n.doc,[...e]);if(FC(d).forEach(({newRange:h})=>{const p=Wj(r.doc,h,N=>N.isTextblock);let g,b;if(p.length>1)g=p[0],b=r.doc.textBetween(g.pos,g.pos+g.node.nodeSize,void 0," ");else if(p.length){const N=r.doc.textBetween(h.from,h.to," "," ");if(!cM.test(N))return;g=p[0],b=r.doc.textBetween(g.pos,h.to,void 0," ")}if(g&&b){const N=b.split(lM).filter(Boolean);if(N.length<=0)return!1;const w=N[N.length-1],S=g.pos+b.lastIndexOf(w);if(!w)return!1;const T=Hg(w).map(E=>E.toObject(t.defaultProtocol));if(!uM(T))return!1;T.filter(E=>E.isLink).map(E=>({...E,from:S+E.start+1,to:S+E.end+1})).filter(E=>r.schema.marks.code?!r.doc.rangeHasMark(E.from,E.to,r.schema.marks.code):!0).filter(E=>t.validate(E.value)).filter(E=>t.shouldAutoLink(E.value)).forEach(E=>{jg(E.from,E.to,r.doc).some(M=>M.mark.type===t.type)||c.addMark(E.from,E.to,t.type.create({href:E.href}))})}}),!!c.steps.length)return c}})}function hM(t){return new yt({key:new Ut("handleClickLink"),props:{handleClick:(e,n,r)=>{var s,i;if(r.button!==0||!e.editable)return!1;let c=null;if(r.target instanceof HTMLAnchorElement)c=r.target;else{let p=r.target;const g=[];for(;p.nodeName!=="DIV";)g.push(p),p=p.parentNode;c=g.find(b=>b.nodeName==="A")}if(!c)return!1;const d=qC(e.state,t.type.name),f=(s=c==null?void 0:c.href)!=null?s:d.href,h=(i=c==null?void 0:c.target)!=null?i:d.target;return t.enableClickSelection&&t.editor.commands.extendMarkRange(t.type.name),c&&f?(window.open(f,h),!0):!1}}})}function mM(t){return new yt({key:new Ut("handlePasteLink"),props:{handlePaste:(e,n,r)=>{const{shouldAutoLink:s}=t,{state:i}=e,{selection:c}=i,{empty:d}=c;if(d)return!1;let f="";r.content.forEach(p=>{f+=p.textContent});const h=gw(f,{defaultProtocol:t.defaultProtocol}).find(p=>p.isLink&&p.value===f);return!f||!h||s!==void 0&&!s(h.href)?!1:t.editor.commands.setMark(t.type,{href:h.href})}}})}function Ho(t,e){const n=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return e&&e.forEach(r=>{const s=typeof r=="string"?r:r.scheme;s&&n.push(s)}),!t||t.replace(dM,"").match(new RegExp(`^(?:(?:${n.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}var xw=ls.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(t=>{if(typeof t=="string"){s1(t);return}s1(t.scheme,t.optionalSlashes)})},onDestroy(){aM()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,enableClickSelection:!1,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(t,e)=>!!Ho(t,e.protocols),validate:t=>!!t,shouldAutoLink:t=>!!t}},addAttributes(){return{href:{default:null,parseHTML(t){return t.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:t=>{const e=t.getAttribute("href");return!e||!this.options.isAllowedUri(e,{defaultValidate:n=>!!Ho(n,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:null}}]},renderHTML({HTMLAttributes:t}){return this.options.isAllowedUri(t.href,{defaultValidate:e=>!!Ho(e,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",ht(this.options.HTMLAttributes,t),0]:["a",ht(this.options.HTMLAttributes,{...t,href:""}),0]},markdownTokenName:"link",parseMarkdown:(t,e)=>e.applyMark("link",e.parseInline(t.tokens||[]),{href:t.href,title:t.title||null}),renderMarkdown:(t,e)=>{var n;const r=((n=t.attrs)==null?void 0:n.href)||"";return`[${e.renderChildren(t)}](${r})`},addCommands(){return{setLink:t=>({chain:e})=>{const{href:n}=t;return this.options.isAllowedUri(n,{defaultValidate:r=>!!Ho(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?e().setMark(this.name,t).setMeta("preventAutolink",!0).run():!1},toggleLink:t=>({chain:e})=>{const{href:n}=t||{};return n&&!this.options.isAllowedUri(n,{defaultValidate:r=>!!Ho(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:e().toggleMark(this.name,t,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()},unsetLink:()=>({chain:t})=>t().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[mo({find:t=>{const e=[];if(t){const{protocols:n,defaultProtocol:r}=this.options,s=gw(t).filter(i=>i.isLink&&this.options.isAllowedUri(i.value,{defaultValidate:c=>!!Ho(c,n),protocols:n,defaultProtocol:r}));s.length&&s.forEach(i=>{this.options.shouldAutoLink(i.value)&&e.push({text:i.value,data:{href:i.href},index:i.start})})}return e},type:this.type,getAttributes:t=>{var e;return{href:(e=t.data)==null?void 0:e.href}}})]},addProseMirrorPlugins(){const t=[],{protocols:e,defaultProtocol:n}=this.options;return this.options.autolink&&t.push(fM({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:r=>this.options.isAllowedUri(r,{defaultValidate:s=>!!Ho(s,e),protocols:e,defaultProtocol:n}),shouldAutoLink:this.options.shouldAutoLink})),this.options.openOnClick===!0&&t.push(hM({type:this.type,editor:this.editor,enableClickSelection:this.options.enableClickSelection})),this.options.linkOnPaste&&t.push(mM({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type,shouldAutoLink:this.options.shouldAutoLink})),t}}),pM=xw,gM=Object.defineProperty,xM=(t,e)=>{for(var n in e)gM(t,n,{get:e[n],enumerable:!0})},bM="listItem",o1="textStyle",a1=/^\s*([-+*])\s$/,bw=kn.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:t}){return["ul",ht(this.options.HTMLAttributes,t),0]},markdownTokenName:"list",parseMarkdown:(t,e)=>t.type!=="list"||t.ordered?[]:{type:"bulletList",content:t.items?e.parseChildren(t.items):[]},renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`
`):"",markdownOptions:{indentsContent:!0},addCommands(){return{toggleBulletList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(bM,this.editor.getAttributes(o1)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let t=fi({find:a1,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(t=fi({find:a1,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(o1),editor:this.editor})),[t]}}),yw=kn.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",ht(this.options.HTMLAttributes,t),0]},markdownTokenName:"list_item",parseMarkdown:(t,e)=>{if(t.type!=="list_item")return[];let n=[];if(t.tokens&&t.tokens.length>0)if(t.tokens.some(s=>s.type==="paragraph"))n=e.parseChildren(t.tokens);else{const s=t.tokens[0];if(s&&s.type==="text"&&s.tokens&&s.tokens.length>0){if(n=[{type:"paragraph",content:e.parseInline(s.tokens)}],t.tokens.length>1){const c=t.tokens.slice(1),d=e.parseChildren(c);n.push(...d)}}else n=e.parseChildren(t.tokens)}return n.length===0&&(n=[{type:"paragraph",content:[]}]),{type:"listItem",content:n}},renderMarkdown:(t,e,n)=>Dg(t,e,r=>r.parentType==="bulletList"?"- ":r.parentType==="orderedList"?`${r.index+1}. `:"- ",n),addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),yM={};xM(yM,{findListItemPos:()=>rc,getNextListDepth:()=>qg,handleBackspace:()=>Up,handleDelete:()=>Hp,hasListBefore:()=>vw,hasListItemAfter:()=>vM,hasListItemBefore:()=>Nw,listItemHasSubList:()=>Cw,nextListIsDeeper:()=>ww,nextListIsHigher:()=>Sw});var rc=(t,e)=>{const{$from:n}=e.selection,r=Mt(t,e.schema);let s=null,i=n.depth,c=n.pos,d=null;for(;i>0&&d===null;)s=n.node(i),s.type===r?d=i:(i-=1,c-=1);return d===null?null:{$pos:e.doc.resolve(c),depth:d}},qg=(t,e)=>{const n=rc(t,e);if(!n)return!1;const[,r]=a4(e,t,n.$pos.pos+4);return r},vw=(t,e,n)=>{const{$anchor:r}=t.selection,s=Math.max(0,r.pos-2),i=t.doc.resolve(s).node();return!(!i||!n.includes(i.type.name))},Nw=(t,e)=>{var n;const{$anchor:r}=e.selection,s=e.doc.resolve(r.pos-2);return!(s.index()===0||((n=s.nodeBefore)==null?void 0:n.type.name)!==t)},Cw=(t,e,n)=>{if(!n)return!1;const r=Mt(t,e.schema);let s=!1;return n.descendants(i=>{i.type===r&&(s=!0)}),s},Up=(t,e,n)=>{if(t.commands.undoInputRule())return!0;if(t.state.selection.from!==t.state.selection.to)return!1;if(!ho(t.state,e)&&vw(t.state,e,n)){const{$anchor:d}=t.state.selection,f=t.state.doc.resolve(d.before()-1),h=[];f.node().descendants((b,N)=>{b.type.name===e&&h.push({node:b,pos:N})});const p=h.at(-1);if(!p)return!1;const g=t.state.doc.resolve(f.start()+p.pos+1);return t.chain().cut({from:d.start()-1,to:d.end()+1},g.end()).joinForward().run()}if(!ho(t.state,e)||!d4(t.state))return!1;const r=rc(e,t.state);if(!r)return!1;const i=t.state.doc.resolve(r.$pos.pos-2).node(r.depth),c=Cw(e,t.state,i);return Nw(e,t.state)&&!c?t.commands.joinItemBackward():t.chain().liftListItem(e).run()},ww=(t,e)=>{const n=qg(t,e),r=rc(t,e);return!r||!n?!1:n>r.depth},Sw=(t,e)=>{const n=qg(t,e),r=rc(t,e);return!r||!n?!1:n<r.depth},Hp=(t,e)=>{if(!ho(t.state,e)||!c4(t.state,e))return!1;const{selection:n}=t.state,{$from:r,$to:s}=n;return!n.empty&&r.sameParent(s)?!1:ww(e,t.state)?t.chain().focus(t.state.selection.from+4).lift(e).joinBackward().run():Sw(e,t.state)?t.chain().joinForward().joinBackward().run():t.commands.joinItemForward()},vM=(t,e)=>{var n;const{$anchor:r}=e.selection,s=e.doc.resolve(r.pos-r.parentOffset-2);return!(s.index()===s.parent.childCount-1||((n=s.nodeAfter)==null?void 0:n.type.name)!==t)},Tw=st.create({name:"listKeymap",addOptions(){return{listTypes:[{itemName:"listItem",wrapperNames:["bulletList","orderedList"]},{itemName:"taskItem",wrapperNames:["taskList"]}]}},addKeyboardShortcuts(){return{Delete:({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n})=>{t.state.schema.nodes[n]!==void 0&&Hp(t,n)&&(e=!0)}),e},"Mod-Delete":({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n})=>{t.state.schema.nodes[n]!==void 0&&Hp(t,n)&&(e=!0)}),e},Backspace:({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n,wrapperNames:r})=>{t.state.schema.nodes[n]!==void 0&&Up(t,n,r)&&(e=!0)}),e},"Mod-Backspace":({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n,wrapperNames:r})=>{t.state.schema.nodes[n]!==void 0&&Up(t,n,r)&&(e=!0)}),e}}}}),i1=/^(\s*)(\d+)\.\s+(.*)$/,NM=/^\s/;function CM(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n],i=s.match(i1);if(!i)break;const[,c,d,f]=i,h=c.length;let p=f,g=n+1;const b=[s];for(;g<t.length;){const N=t[g];if(N.match(i1))break;if(N.trim()==="")b.push(N),p+=`
`,g+=1;else if(N.match(NM))b.push(N),p+=`
${N.slice(h+2)}`,g+=1;else break}e.push({indent:h,number:parseInt(d,10),content:p.trim(),raw:b.join(`
`)}),r=g,n=g}return[e,r]}function kw(t,e,n){var r;const s=[];let i=0;for(;i<t.length;){const c=t[i];if(c.indent===e){const d=c.content.split(`
`),f=((r=d[0])==null?void 0:r.trim())||"",h=[];f&&h.push({type:"paragraph",raw:f,tokens:n.inlineTokens(f)});const p=d.slice(1).join(`
`).trim();if(p){const N=n.blockTokens(p);h.push(...N)}let g=i+1;const b=[];for(;g<t.length&&t[g].indent>e;)b.push(t[g]),g+=1;if(b.length>0){const N=Math.min(...b.map(S=>S.indent)),w=kw(b,N,n);h.push({type:"list",ordered:!0,start:b[0].number,items:w,raw:b.map(S=>S.raw).join(`
`)})}s.push({type:"list_item",raw:c.raw,tokens:h}),i=g}else i+=1}return s}function wM(t,e){return t.map(n=>{if(n.type!=="list_item")return e.parseChildren([n])[0];const r=[];return n.tokens&&n.tokens.length>0&&n.tokens.forEach(s=>{if(s.type==="paragraph"||s.type==="list"||s.type==="blockquote"||s.type==="code")r.push(...e.parseChildren([s]));else if(s.type==="text"&&s.tokens){const i=e.parseChildren([s]);r.push({type:"paragraph",content:i})}else{const i=e.parseChildren([s]);i.length>0&&r.push(...i)}}),{type:"listItem",content:r}})}var SM="listItem",l1="textStyle",c1=/^(\d+)\.\s$/,Ew=kn.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:t=>t.hasAttribute("start")?parseInt(t.getAttribute("start")||"",10):1},type:{default:null,parseHTML:t=>t.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:t}){const{start:e,...n}=t;return e===1?["ol",ht(this.options.HTMLAttributes,n),0]:["ol",ht(this.options.HTMLAttributes,t),0]},markdownTokenName:"list",parseMarkdown:(t,e)=>{if(t.type!=="list"||!t.ordered)return[];const n=t.start||1,r=t.items?wM(t.items,e):[];return n!==1?{type:"orderedList",attrs:{start:n},content:r}:{type:"orderedList",content:r}},renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`
`):"",markdownTokenizer:{name:"orderedList",level:"block",start:t=>{const e=t.match(/^(\s*)(\d+)\.\s+/),n=e==null?void 0:e.index;return n!==void 0?n:-1},tokenize:(t,e,n)=>{var r;const s=t.split(`
`),[i,c]=CM(s);if(i.length===0)return;const d=kw(i,0,n);return d.length===0?void 0:{type:"list",ordered:!0,start:((r=i[0])==null?void 0:r.number)||1,items:d,raw:s.slice(0,c).join(`
`)}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleOrderedList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(SM,this.editor.getAttributes(l1)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let t=fi({find:c1,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(t=fi({find:c1,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(l1)}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1],editor:this.editor})),[t]}}),TM=/^\s*(\[([( |x])?\])\s$/,kM=kn.create({name:"taskItem",addOptions(){return{nested:!1,HTMLAttributes:{},taskListTypeName:"taskList",a11y:void 0}},content(){return this.options.nested?"paragraph block*":"paragraph+"},defining:!0,addAttributes(){return{checked:{default:!1,keepOnSplit:!1,parseHTML:t=>{const e=t.getAttribute("data-checked");return e===""||e==="true"},renderHTML:t=>({"data-checked":t.checked})}}},parseHTML(){return[{tag:`li[data-type="${this.name}"]`,priority:51}]},renderHTML({node:t,HTMLAttributes:e}){return["li",ht(this.options.HTMLAttributes,e,{"data-type":this.name}),["label",["input",{type:"checkbox",checked:t.attrs.checked?"checked":null}],["span"]],["div",0]]},parseMarkdown:(t,e)=>{const n=[];if(t.tokens&&t.tokens.length>0?n.push(e.createNode("paragraph",{},e.parseInline(t.tokens))):t.text?n.push(e.createNode("paragraph",{},[e.createNode("text",{text:t.text})])):n.push(e.createNode("paragraph",{},[])),t.nestedTokens&&t.nestedTokens.length>0){const r=e.parseChildren(t.nestedTokens);n.push(...r)}return e.createNode("taskItem",{checked:t.checked||!1},n)},renderMarkdown:(t,e)=>{var n;const s=`- [${(n=t.attrs)!=null&&n.checked?"x":" "}] `;return Dg(t,e,s)},addKeyboardShortcuts(){const t={Enter:()=>this.editor.commands.splitListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)};return this.options.nested?{...t,Tab:()=>this.editor.commands.sinkListItem(this.name)}:t},addNodeView(){return({node:t,HTMLAttributes:e,getPos:n,editor:r})=>{const s=document.createElement("li"),i=document.createElement("label"),c=document.createElement("span"),d=document.createElement("input"),f=document.createElement("div"),h=p=>{var g,b;d.ariaLabel=((b=(g=this.options.a11y)==null?void 0:g.checkboxLabel)==null?void 0:b.call(g,p,d.checked))||`Task item checkbox for ${p.textContent||"empty task item"}`};return h(t),i.contentEditable="false",d.type="checkbox",d.addEventListener("mousedown",p=>p.preventDefault()),d.addEventListener("change",p=>{if(!r.isEditable&&!this.options.onReadOnlyChecked){d.checked=!d.checked;return}const{checked:g}=p.target;r.isEditable&&typeof n=="function"&&r.chain().focus(void 0,{scrollIntoView:!1}).command(({tr:b})=>{const N=n();if(typeof N!="number")return!1;const w=b.doc.nodeAt(N);return b.setNodeMarkup(N,void 0,{...w==null?void 0:w.attrs,checked:g}),!0}).run(),!r.isEditable&&this.options.onReadOnlyChecked&&(this.options.onReadOnlyChecked(t,g)||(d.checked=!d.checked))}),Object.entries(this.options.HTMLAttributes).forEach(([p,g])=>{s.setAttribute(p,g)}),s.dataset.checked=t.attrs.checked,d.checked=t.attrs.checked,i.append(d,c),s.append(i,f),Object.entries(e).forEach(([p,g])=>{s.setAttribute(p,g)}),{dom:s,contentDOM:f,update:p=>p.type!==this.type?!1:(s.dataset.checked=p.attrs.checked,d.checked=p.attrs.checked,h(p),!0)}}},addInputRules(){return[fi({find:TM,type:this.type,getAttributes:t=>({checked:t[t.length-1]==="x"})})]}}),EM=kn.create({name:"taskList",addOptions(){return{itemTypeName:"taskItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:`ul[data-type="${this.name}"]`,priority:51}]},renderHTML({HTMLAttributes:t}){return["ul",ht(this.options.HTMLAttributes,t,{"data-type":this.name}),0]},parseMarkdown:(t,e)=>e.createNode("taskList",{},e.parseChildren(t.items||[])),renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`
`):"",markdownTokenizer:{name:"taskList",level:"block",start(t){var e;const n=(e=t.match(/^\s*[-+*]\s+\[([ xX])\]\s+/))==null?void 0:e.index;return n!==void 0?n:-1},tokenize(t,e,n){const r=i=>{const c=Mp(i,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:d=>({indentLevel:d[1].length,mainContent:d[4],checked:d[3].toLowerCase()==="x"}),createToken:(d,f)=>({type:"taskItem",raw:"",mainContent:d.mainContent,indentLevel:d.indentLevel,checked:d.checked,text:d.mainContent,tokens:n.inlineTokens(d.mainContent),nestedTokens:f}),customNestedParser:r},n);return c?[{type:"taskList",raw:c.raw,items:c.items}]:n.blockTokens(i)},s=Mp(t,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:i=>({indentLevel:i[1].length,mainContent:i[4],checked:i[3].toLowerCase()==="x"}),createToken:(i,c)=>({type:"taskItem",raw:"",mainContent:i.mainContent,indentLevel:i.indentLevel,checked:i.checked,text:i.mainContent,tokens:n.inlineTokens(i.mainContent),nestedTokens:c}),customNestedParser:r},n);if(s)return{type:"taskList",raw:s.raw,items:s.items}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleTaskList:()=>({commands:t})=>t.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-9":()=>this.editor.commands.toggleTaskList()}}});st.create({name:"listKit",addExtensions(){const t=[];return this.options.bulletList!==!1&&t.push(bw.configure(this.options.bulletList)),this.options.listItem!==!1&&t.push(yw.configure(this.options.listItem)),this.options.listKeymap!==!1&&t.push(Tw.configure(this.options.listKeymap)),this.options.orderedList!==!1&&t.push(Ew.configure(this.options.orderedList)),this.options.taskItem!==!1&&t.push(kM.configure(this.options.taskItem)),this.options.taskList!==!1&&t.push(EM.configure(this.options.taskList)),t}});var AM=kn.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:t}){return["p",ht(this.options.HTMLAttributes,t),0]},parseMarkdown:(t,e)=>{const n=t.tokens||[];return n.length===1&&n[0].type==="image"?e.parseChildren([n[0]]):e.createNode("paragraph",void 0,e.parseInline(n))},renderMarkdown:(t,e)=>!t||!Array.isArray(t.content)?"":e.renderChildren(t.content),addCommands(){return{setParagraph:()=>({commands:t})=>t.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),jM=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,MM=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,RM=ls.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["s",ht(this.options.HTMLAttributes,t),0]},markdownTokenName:"del",parseMarkdown:(t,e)=>e.applyMark("strike",e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>`~~${e.renderChildren(t)}~~`,addCommands(){return{setStrike:()=>({commands:t})=>t.setMark(this.name),toggleStrike:()=>({commands:t})=>t.toggleMark(this.name),unsetStrike:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[oa({find:jM,type:this.type})]},addPasteRules(){return[mo({find:MM,type:this.type})]}}),IM=kn.create({name:"text",group:"inline",parseMarkdown:t=>({type:"text",text:t.text||""}),renderMarkdown:t=>t.text||""}),Aw=ls.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["u",ht(this.options.HTMLAttributes,t),0]},parseMarkdown(t,e){return e.applyMark(this.name||"underline",e.parseInline(t.tokens||[]))},renderMarkdown(t,e){return`++${e.renderChildren(t)}++`},markdownTokenizer:{name:"underline",level:"inline",start(t){return t.indexOf("++")},tokenize(t,e,n){const s=/^(\+\+)([\s\S]+?)(\+\+)/.exec(t);if(!s)return;const i=s[2].trim();return{type:"underline",raw:s[0],text:i,tokens:n.inlineTokens(i)}}},addCommands(){return{setUnderline:()=>({commands:t})=>t.setMark(this.name),toggleUnderline:()=>({commands:t})=>t.toggleMark(this.name),unsetUnderline:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}}),DM=Aw;function _M(t={}){return new yt({view(e){return new PM(e,t)}})}class PM{constructor(e,n){var r;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(r=n.width)!==null&&r!==void 0?r:1,this.color=n.color===!1?void 0:n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map(s=>{let i=c=>{this[s](c)};return e.dom.addEventListener(s,i),{name:s,handler:i}})}destroy(){this.handlers.forEach(({name:e,handler:n})=>this.editorView.dom.removeEventListener(e,n))}update(e,n){this.cursorPos!=null&&n.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),n=!e.parent.inlineContent,r,s=this.editorView.dom,i=s.getBoundingClientRect(),c=i.width/s.offsetWidth,d=i.height/s.offsetHeight;if(n){let g=e.nodeBefore,b=e.nodeAfter;if(g||b){let N=this.editorView.nodeDOM(this.cursorPos-(g?g.nodeSize:0));if(N){let w=N.getBoundingClientRect(),S=g?w.bottom:w.top;g&&b&&(S=(S+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let T=this.width/2*d;r={left:w.left,right:w.right,top:S-T,bottom:S+T}}}}if(!r){let g=this.editorView.coordsAtPos(this.cursorPos),b=this.width/2*c;r={left:g.left-b,right:g.left+b,top:g.top,bottom:g.bottom}}let f=this.editorView.dom.offsetParent;this.element||(this.element=f.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n);let h,p;if(!f||f==document.body&&getComputedStyle(f).position=="static")h=-pageXOffset,p=-pageYOffset;else{let g=f.getBoundingClientRect(),b=g.width/f.offsetWidth,N=g.height/f.offsetHeight;h=g.left-f.scrollLeft*b,p=g.top-f.scrollTop*N}this.element.style.left=(r.left-h)/c+"px",this.element.style.top=(r.top-p)/d+"px",this.element.style.width=(r.right-r.left)/c+"px",this.element.style.height=(r.bottom-r.top)/d+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let n=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),r=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),s=r&&r.type.spec.disableDropCursor,i=typeof s=="function"?s(this.editorView,n,e):s;if(n&&!i){let c=n.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let d=jN(this.editorView.state.doc,c,this.editorView.dragging.slice);d!=null&&(c=d)}this.setCursor(c),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){this.editorView.dom.contains(e.relatedTarget)||this.setCursor(null)}}class bt extends Pe{constructor(e){super(e,e)}map(e,n){let r=e.resolve(n.map(this.head));return bt.valid(r)?new bt(r):Pe.near(r)}content(){return fe.empty}eq(e){return e instanceof bt&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new bt(e.resolve(n.pos))}getBookmark(){return new Fg(this.anchor)}static valid(e){let n=e.parent;if(n.isTextblock||!LM(e)||!OM(e))return!1;let r=n.type.spec.allowGapCursor;if(r!=null)return r;let s=n.contentMatchAt(e.index()).defaultType;return s&&s.isTextblock}static findGapCursorFrom(e,n,r=!1){e:for(;;){if(!r&&bt.valid(e))return e;let s=e.pos,i=null;for(let c=e.depth;;c--){let d=e.node(c);if(n>0?e.indexAfter(c)<d.childCount:e.index(c)>0){i=d.child(n>0?e.indexAfter(c):e.index(c)-1);break}else if(c==0)return null;s+=n;let f=e.doc.resolve(s);if(bt.valid(f))return f}for(;;){let c=n>0?i.firstChild:i.lastChild;if(!c){if(i.isAtom&&!i.isText&&!Ce.isSelectable(i)){e=e.doc.resolve(s+i.nodeSize*n),r=!1;continue e}break}i=c,s+=n;let d=e.doc.resolve(s);if(bt.valid(d))return d}return null}}}bt.prototype.visible=!1;bt.findFrom=bt.findGapCursorFrom;Pe.jsonID("gapcursor",bt);class Fg{constructor(e){this.pos=e}map(e){return new Fg(e.map(this.pos))}resolve(e){let n=e.resolve(this.pos);return bt.valid(n)?new bt(n):Pe.near(n)}}function jw(t){return t.isAtom||t.spec.isolating||t.spec.createGapCursor}function LM(t){for(let e=t.depth;e>=0;e--){let n=t.index(e),r=t.node(e);if(n==0){if(r.type.spec.isolating)return!0;continue}for(let s=r.child(n-1);;s=s.lastChild){if(s.childCount==0&&!s.inlineContent||jw(s.type))return!0;if(s.inlineContent)return!1}}return!0}function OM(t){for(let e=t.depth;e>=0;e--){let n=t.indexAfter(e),r=t.node(e);if(n==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let s=r.child(n);;s=s.firstChild){if(s.childCount==0&&!s.inlineContent||jw(s.type))return!0;if(s.inlineContent)return!1}}return!0}function BM(){return new yt({props:{decorations:VM,createSelectionBetween(t,e,n){return e.pos==n.pos&&bt.valid(n)?new bt(n):null},handleClick:UM,handleKeyDown:zM,handleDOMEvents:{beforeinput:HM}}})}const zM=jC({ArrowLeft:Ld("horiz",-1),ArrowRight:Ld("horiz",1),ArrowUp:Ld("vert",-1),ArrowDown:Ld("vert",1)});function Ld(t,e){const n=t=="vert"?e>0?"down":"up":e>0?"right":"left";return function(r,s,i){let c=r.selection,d=e>0?c.$to:c.$from,f=c.empty;if(c instanceof Ee){if(!i.endOfTextblock(n)||d.depth==0)return!1;f=!1,d=r.doc.resolve(e>0?d.after():d.before())}let h=bt.findGapCursorFrom(d,e,f);return h?(s&&s(r.tr.setSelection(new bt(h))),!0):!1}}function UM(t,e,n){if(!t||!t.editable)return!1;let r=t.state.doc.resolve(e);if(!bt.valid(r))return!1;let s=t.posAtCoords({left:n.clientX,top:n.clientY});return s&&s.inside>-1&&Ce.isSelectable(t.state.doc.nodeAt(s.inside))?!1:(t.dispatch(t.state.tr.setSelection(new bt(r))),!0)}function HM(t,e){if(e.inputType!="insertCompositionText"||!(t.state.selection instanceof bt))return!1;let{$from:n}=t.state.selection,r=n.parent.contentMatchAt(n.index()).findWrapping(t.state.schema.nodes.text);if(!r)return!1;let s=ne.empty;for(let c=r.length-1;c>=0;c--)s=ne.from(r[c].createAndFill(null,s));let i=t.state.tr.replace(n.pos,n.pos,new fe(s,0,0));return i.setSelection(Ee.near(i.doc.resolve(n.pos+1))),t.dispatch(i),!1}function VM(t){if(!(t.selection instanceof bt))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",ft.create(t.doc,[dn.widget(t.selection.head,e,{key:"gapcursor"})])}var Du=200,zt=function(){};zt.prototype.append=function(e){return e.length?(e=zt.from(e),!this.length&&e||e.length<Du&&this.leafAppend(e)||this.length<Du&&e.leafPrepend(this)||this.appendInner(e)):this};zt.prototype.prepend=function(e){return e.length?zt.from(e).append(this):this};zt.prototype.appendInner=function(e){return new qM(this,e)};zt.prototype.slice=function(e,n){return e===void 0&&(e=0),n===void 0&&(n=this.length),e>=n?zt.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,n))};zt.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};zt.prototype.forEach=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length),n<=r?this.forEachInner(e,n,r,0):this.forEachInvertedInner(e,n,r,0)};zt.prototype.map=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length);var s=[];return this.forEach(function(i,c){return s.push(e(i,c))},n,r),s};zt.from=function(e){return e instanceof zt?e:e&&e.length?new Mw(e):zt.empty};var Mw=(function(t){function e(r){t.call(this),this.values=r}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(s,i){return s==0&&i==this.length?this:new e(this.values.slice(s,i))},e.prototype.getInner=function(s){return this.values[s]},e.prototype.forEachInner=function(s,i,c,d){for(var f=i;f<c;f++)if(s(this.values[f],d+f)===!1)return!1},e.prototype.forEachInvertedInner=function(s,i,c,d){for(var f=i-1;f>=c;f--)if(s(this.values[f],d+f)===!1)return!1},e.prototype.leafAppend=function(s){if(this.length+s.length<=Du)return new e(this.values.concat(s.flatten()))},e.prototype.leafPrepend=function(s){if(this.length+s.length<=Du)return new e(s.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e})(zt);zt.empty=new Mw([]);var qM=(function(t){function e(n,r){t.call(this),this.left=n,this.right=r,this.length=n.length+r.length,this.depth=Math.max(n.depth,r.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},e.prototype.forEachInner=function(r,s,i,c){var d=this.left.length;if(s<d&&this.left.forEachInner(r,s,Math.min(i,d),c)===!1||i>d&&this.right.forEachInner(r,Math.max(s-d,0),Math.min(this.length,i)-d,c+d)===!1)return!1},e.prototype.forEachInvertedInner=function(r,s,i,c){var d=this.left.length;if(s>d&&this.right.forEachInvertedInner(r,s-d,Math.max(i,d)-d,c+d)===!1||i<d&&this.left.forEachInvertedInner(r,Math.min(s,d),i,c)===!1)return!1},e.prototype.sliceInner=function(r,s){if(r==0&&s==this.length)return this;var i=this.left.length;return s<=i?this.left.slice(r,s):r>=i?this.right.slice(r-i,s-i):this.left.slice(r,i).append(this.right.slice(0,s-i))},e.prototype.leafAppend=function(r){var s=this.right.leafAppend(r);if(s)return new e(this.left,s)},e.prototype.leafPrepend=function(r){var s=this.left.leafPrepend(r);if(s)return new e(s,this.right)},e.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new e(this.left,new e(this.right,r)):new e(this,r)},e})(zt);const FM=500;class hr{constructor(e,n){this.items=e,this.eventCount=n}popEvent(e,n){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let s,i;n&&(s=this.remapping(r,this.items.length),i=s.maps.length);let c=e.tr,d,f,h=[],p=[];return this.items.forEach((g,b)=>{if(!g.step){s||(s=this.remapping(r,b+1),i=s.maps.length),i--,p.push(g);return}if(s){p.push(new Tr(g.map));let N=g.step.map(s.slice(i)),w;N&&c.maybeStep(N).doc&&(w=c.mapping.maps[c.mapping.maps.length-1],h.push(new Tr(w,void 0,void 0,h.length+p.length))),i--,w&&s.appendMap(w,i)}else c.maybeStep(g.step);if(g.selection)return d=s?g.selection.map(s.slice(i)):g.selection,f=new hr(this.items.slice(0,r).append(p.reverse().concat(h)),this.eventCount-1),!1},this.items.length,0),{remaining:f,transform:c,selection:d}}addTransform(e,n,r,s){let i=[],c=this.eventCount,d=this.items,f=!s&&d.length?d.get(d.length-1):null;for(let p=0;p<e.steps.length;p++){let g=e.steps[p].invert(e.docs[p]),b=new Tr(e.mapping.maps[p],g,n),N;(N=f&&f.merge(b))&&(b=N,p?i.pop():d=d.slice(0,d.length-1)),i.push(b),n&&(c++,n=void 0),s||(f=b)}let h=c-r.depth;return h>$M&&(d=GM(d,h),c-=h),new hr(d.append(i),c)}remapping(e,n){let r=new Hl;return this.items.forEach((s,i)=>{let c=s.mirrorOffset!=null&&i-s.mirrorOffset>=e?r.maps.length-s.mirrorOffset:void 0;r.appendMap(s.map,c)},e,n),r}addMaps(e){return this.eventCount==0?this:new hr(this.items.append(e.map(n=>new Tr(n))),this.eventCount)}rebased(e,n){if(!this.eventCount)return this;let r=[],s=Math.max(0,this.items.length-n),i=e.mapping,c=e.steps.length,d=this.eventCount;this.items.forEach(b=>{b.selection&&d--},s);let f=n;this.items.forEach(b=>{let N=i.getMirror(--f);if(N==null)return;c=Math.min(c,N);let w=i.maps[N];if(b.step){let S=e.steps[N].invert(e.docs[N]),T=b.selection&&b.selection.map(i.slice(f+1,N));T&&d++,r.push(new Tr(w,S,T))}else r.push(new Tr(w))},s);let h=[];for(let b=n;b<c;b++)h.push(new Tr(i.maps[b]));let p=this.items.slice(0,s).append(h).append(r),g=new hr(p,d);return g.emptyItemCount()>FM&&(g=g.compress(this.items.length-r.length)),g}emptyItemCount(){let e=0;return this.items.forEach(n=>{n.step||e++}),e}compress(e=this.items.length){let n=this.remapping(0,e),r=n.maps.length,s=[],i=0;return this.items.forEach((c,d)=>{if(d>=e)s.push(c),c.selection&&i++;else if(c.step){let f=c.step.map(n.slice(r)),h=f&&f.getMap();if(r--,h&&n.appendMap(h,r),f){let p=c.selection&&c.selection.map(n.slice(r));p&&i++;let g=new Tr(h.invert(),f,p),b,N=s.length-1;(b=s.length&&s[N].merge(g))?s[N]=b:s.push(g)}}else c.map&&r--},this.items.length,0),new hr(zt.from(s.reverse()),i)}}hr.empty=new hr(zt.empty,0);function GM(t,e){let n;return t.forEach((r,s)=>{if(r.selection&&e--==0)return n=s,!1}),t.slice(n)}class Tr{constructor(e,n,r,s){this.map=e,this.step=n,this.selection=r,this.mirrorOffset=s}merge(e){if(this.step&&e.step&&!e.selection){let n=e.step.merge(this.step);if(n)return new Tr(n.getMap().invert(),n,this.selection)}}}class Qs{constructor(e,n,r,s,i){this.done=e,this.undone=n,this.prevRanges=r,this.prevTime=s,this.prevComposition=i}}const $M=20;function JM(t,e,n,r){let s=n.getMeta(Zo),i;if(s)return s.historyState;n.getMeta(WM)&&(t=new Qs(t.done,t.undone,null,0,-1));let c=n.getMeta("appendedTransaction");if(n.steps.length==0)return t;if(c&&c.getMeta(Zo))return c.getMeta(Zo).redo?new Qs(t.done.addTransform(n,void 0,r,qd(e)),t.undone,d1(n.mapping.maps),t.prevTime,t.prevComposition):new Qs(t.done,t.undone.addTransform(n,void 0,r,qd(e)),null,t.prevTime,t.prevComposition);if(n.getMeta("addToHistory")!==!1&&!(c&&c.getMeta("addToHistory")===!1)){let d=n.getMeta("composition"),f=t.prevTime==0||!c&&t.prevComposition!=d&&(t.prevTime<(n.time||0)-r.newGroupDelay||!KM(n,t.prevRanges)),h=c?op(t.prevRanges,n.mapping):d1(n.mapping.maps);return new Qs(t.done.addTransform(n,f?e.selection.getBookmark():void 0,r,qd(e)),hr.empty,h,n.time,d??t.prevComposition)}else return(i=n.getMeta("rebased"))?new Qs(t.done.rebased(n,i),t.undone.rebased(n,i),op(t.prevRanges,n.mapping),t.prevTime,t.prevComposition):new Qs(t.done.addMaps(n.mapping.maps),t.undone.addMaps(n.mapping.maps),op(t.prevRanges,n.mapping),t.prevTime,t.prevComposition)}function KM(t,e){if(!e)return!1;if(!t.docChanged)return!0;let n=!1;return t.mapping.maps[0].forEach((r,s)=>{for(let i=0;i<e.length;i+=2)r<=e[i+1]&&s>=e[i]&&(n=!0)}),n}function d1(t){let e=[];for(let n=t.length-1;n>=0&&e.length==0;n--)t[n].forEach((r,s,i,c)=>e.push(i,c));return e}function op(t,e){if(!t)return null;let n=[];for(let r=0;r<t.length;r+=2){let s=e.map(t[r],1),i=e.map(t[r+1],-1);s<=i&&n.push(s,i)}return n}function YM(t,e,n){let r=qd(e),s=Zo.get(e).spec.config,i=(n?t.undone:t.done).popEvent(e,r);if(!i)return null;let c=i.selection.resolve(i.transform.doc),d=(n?t.done:t.undone).addTransform(i.transform,e.selection.getBookmark(),s,r),f=new Qs(n?d:i.remaining,n?i.remaining:d,null,0,-1);return i.transform.setSelection(c).setMeta(Zo,{redo:n,historyState:f})}let ap=!1,u1=null;function qd(t){let e=t.plugins;if(u1!=e){ap=!1,u1=e;for(let n=0;n<e.length;n++)if(e[n].spec.historyPreserveItems){ap=!0;break}}return ap}const Zo=new Ut("history"),WM=new Ut("closeHistory");function XM(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new yt({key:Zo,state:{init(){return new Qs(hr.empty,hr.empty,null,0,-1)},apply(e,n,r){return JM(n,r,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(e,n){let r=n.inputType,s=r=="historyUndo"?Iw:r=="historyRedo"?Dw:null;return s?(n.preventDefault(),s(e.state,e.dispatch)):!1}}}})}function Rw(t,e){return(n,r)=>{let s=Zo.getState(n);if(!s||(t?s.undone:s.done).eventCount==0)return!1;if(r){let i=YM(s,n,t);i&&r(e?i.scrollIntoView():i)}return!0}}const Iw=Rw(!1,!0),Dw=Rw(!0,!0);st.create({name:"characterCount",addOptions(){return{limit:null,mode:"textSize",textCounter:t=>t.length,wordCounter:t=>t.split(" ").filter(e=>e!=="").length}},addStorage(){return{characters:()=>0,words:()=>0}},onBeforeCreate(){this.storage.characters=t=>{const e=(t==null?void 0:t.node)||this.editor.state.doc;if(((t==null?void 0:t.mode)||this.options.mode)==="textSize"){const r=e.textBetween(0,e.content.size,void 0," ");return this.options.textCounter(r)}return e.nodeSize},this.storage.words=t=>{const e=(t==null?void 0:t.node)||this.editor.state.doc,n=e.textBetween(0,e.content.size," "," ");return this.options.wordCounter(n)}},addProseMirrorPlugins(){let t=!1;return[new yt({key:new Ut("characterCount"),appendTransaction:(e,n,r)=>{if(t)return;const s=this.options.limit;if(s==null||s===0){t=!0;return}const i=this.storage.characters({node:r.doc});if(i>s){const c=i-s,d=0,f=c;console.warn(`[CharacterCount] Initial content exceeded limit of ${s} characters. Content was automatically trimmed.`);const h=r.tr.deleteRange(d,f);return t=!0,h}t=!0},filterTransaction:(e,n)=>{const r=this.options.limit;if(!e.docChanged||r===0||r===null||r===void 0)return!0;const s=this.storage.characters({node:n.doc}),i=this.storage.characters({node:e.doc});if(i<=r||s>r&&i>r&&i<=s)return!0;if(s>r&&i>r&&i>s||!e.getMeta("paste"))return!1;const d=e.selection.$head.pos,f=i-r,h=d-f,p=d;return e.deleteRange(h,p),!(this.storage.characters({node:e.doc})>r)}})]}});var QM=st.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[_M(this.options)]}});st.create({name:"focus",addOptions(){return{className:"has-focus",mode:"all"}},addProseMirrorPlugins(){return[new yt({key:new Ut("focus"),props:{decorations:({doc:t,selection:e})=>{const{isEditable:n,isFocused:r}=this.editor,{anchor:s}=e,i=[];if(!n||!r)return ft.create(t,[]);let c=0;this.options.mode==="deepest"&&t.descendants((f,h)=>{if(f.isText)return;if(!(s>=h&&s<=h+f.nodeSize-1))return!1;c+=1});let d=0;return t.descendants((f,h)=>{if(f.isText||!(s>=h&&s<=h+f.nodeSize-1))return!1;if(d+=1,this.options.mode==="deepest"&&c-d>0||this.options.mode==="shallowest"&&d>1)return this.options.mode==="deepest";i.push(dn.node(h,h+f.nodeSize,{class:this.options.className}))}),ft.create(t,i)}}})]}});var ZM=st.create({name:"gapCursor",addProseMirrorPlugins(){return[BM()]},extendNodeSchema(t){var e;const n={name:t.name,options:t.options,storage:t.storage};return{allowGapCursor:(e=We(Ne(t,"allowGapCursor",n)))!=null?e:null}}});st.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something ",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){return[new yt({key:new Ut("placeholder"),props:{decorations:({doc:t,selection:e})=>{const n=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:r}=e,s=[];if(!n)return null;const i=this.editor.isEmpty;return t.descendants((c,d)=>{const f=r>=d&&r<=d+c.nodeSize,h=!c.isLeaf&&nf(c);if((f||!this.options.showOnlyCurrent)&&h){const p=[this.options.emptyNodeClass];i&&p.push(this.options.emptyEditorClass);const g=dn.node(d,d+c.nodeSize,{class:p.join(" "),"data-placeholder":typeof this.options.placeholder=="function"?this.options.placeholder({editor:this.editor,node:c,pos:d,hasAnchor:f}):this.options.placeholder});s.push(g)}return this.options.includeChildren}),ft.create(t,s)}}})]}});st.create({name:"selection",addOptions(){return{className:"selection"}},addProseMirrorPlugins(){const{editor:t,options:e}=this;return[new yt({key:new Ut("selection"),props:{decorations(n){return n.selection.empty||t.isFocused||!t.isEditable||GC(n.selection)||t.view.dragging?null:ft.create(n.doc,[dn.inline(n.selection.from,n.selection.to,{class:e.className})])}}})]}});function f1({types:t,node:e}){return e&&Array.isArray(t)&&t.includes(e.type)||(e==null?void 0:e.type)===t}var eR=st.create({name:"trailingNode",addOptions(){return{node:void 0,notAfter:[]}},addProseMirrorPlugins(){var t;const e=new Ut(this.name),n=((t=this.editor.schema.topNodeType.contentMatch.defaultType)==null?void 0:t.name)||this.options.node||"paragraph",r=Object.entries(this.editor.schema.nodes).map(([,s])=>s).filter(s=>(this.options.notAfter||[]).concat(n).includes(s.name));return[new yt({key:e,appendTransaction:(s,i,c)=>{const{doc:d,tr:f,schema:h}=c,p=e.getState(c),g=d.content.size,b=h.nodes[n];if(p)return f.insert(g,b.create())},state:{init:(s,i)=>{const c=i.tr.doc.lastChild;return!f1({node:c,types:r})},apply:(s,i)=>{if(!s.docChanged)return i;const c=s.doc.lastChild;return!f1({node:c,types:r})}}})]}}),tR=st.create({name:"undoRedo",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:t,dispatch:e})=>Iw(t,e),redo:()=>({state:t,dispatch:e})=>Dw(t,e)}},addProseMirrorPlugins(){return[XM(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),nR=st.create({name:"starterKit",addExtensions(){var t,e,n,r;const s=[];return this.options.bold!==!1&&s.push(j3.configure(this.options.bold)),this.options.blockquote!==!1&&s.push(S3.configure(this.options.blockquote)),this.options.bulletList!==!1&&s.push(bw.configure(this.options.bulletList)),this.options.code!==!1&&s.push(I3.configure(this.options.code)),this.options.codeBlock!==!1&&s.push(P3.configure(this.options.codeBlock)),this.options.document!==!1&&s.push(L3.configure(this.options.document)),this.options.dropcursor!==!1&&s.push(QM.configure(this.options.dropcursor)),this.options.gapcursor!==!1&&s.push(ZM.configure(this.options.gapcursor)),this.options.hardBreak!==!1&&s.push(O3.configure(this.options.hardBreak)),this.options.heading!==!1&&s.push(B3.configure(this.options.heading)),this.options.undoRedo!==!1&&s.push(tR.configure(this.options.undoRedo)),this.options.horizontalRule!==!1&&s.push(z3.configure(this.options.horizontalRule)),this.options.italic!==!1&&s.push(F3.configure(this.options.italic)),this.options.listItem!==!1&&s.push(yw.configure(this.options.listItem)),this.options.listKeymap!==!1&&s.push(Tw.configure((t=this.options)==null?void 0:t.listKeymap)),this.options.link!==!1&&s.push(xw.configure((e=this.options)==null?void 0:e.link)),this.options.orderedList!==!1&&s.push(Ew.configure(this.options.orderedList)),this.options.paragraph!==!1&&s.push(AM.configure(this.options.paragraph)),this.options.strike!==!1&&s.push(RM.configure(this.options.strike)),this.options.text!==!1&&s.push(IM.configure(this.options.text)),this.options.underline!==!1&&s.push(Aw.configure((n=this.options)==null?void 0:n.underline)),this.options.trailingNode!==!1&&s.push(eR.configure((r=this.options)==null?void 0:r.trailingNode)),s}}),rR=nR,sR=20,_w=(t,e=0)=>{const n=[];return!t.children.length||e>sR||Array.from(t.children).forEach(r=>{r.tagName==="SPAN"?n.push(r):r.children.length&&n.push(..._w(r,e+1))}),n},oR=t=>{if(!t.children.length)return;const e=_w(t);e&&e.forEach(n=>{var r,s;const i=n.getAttribute("style"),c=(s=(r=n.parentElement)==null?void 0:r.closest("span"))==null?void 0:s.getAttribute("style");n.setAttribute("style",`${c};${i}`)})},Pw=ls.create({name:"textStyle",priority:101,addOptions(){return{HTMLAttributes:{},mergeNestedSpanStyles:!0}},parseHTML(){return[{tag:"span",consuming:!1,getAttrs:t=>t.hasAttribute("style")?(this.options.mergeNestedSpanStyles&&oR(t),{}):!1}]},renderHTML({HTMLAttributes:t}){return["span",ht(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleTextStyle:t=>({commands:e})=>e.toggleMark(this.name,t),removeEmptyTextStyle:()=>({tr:t})=>{const{selection:e}=t;return t.doc.nodesBetween(e.from,e.to,(n,r)=>{if(n.isTextblock)return!0;n.marks.filter(s=>s.type===this.type).some(s=>Object.values(s.attrs).some(i=>!!i))||t.removeMark(r,r+n.nodeSize,this.type)}),!0}}}}),aR=st.create({name:"backgroundColor",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{backgroundColor:{default:null,parseHTML:t=>{var e;const n=t.getAttribute("style");if(n){const r=n.split(";").map(s=>s.trim()).filter(Boolean);for(let s=r.length-1;s>=0;s-=1){const i=r[s].split(":");if(i.length>=2){const c=i[0].trim().toLowerCase(),d=i.slice(1).join(":").trim();if(c==="background-color")return d.replace(/['"]+/g,"")}}}return(e=t.style.backgroundColor)==null?void 0:e.replace(/['"]+/g,"")},renderHTML:t=>t.backgroundColor?{style:`background-color: ${t.backgroundColor}`}:{}}}}]},addCommands(){return{setBackgroundColor:t=>({chain:e})=>e().setMark("textStyle",{backgroundColor:t}).run(),unsetBackgroundColor:()=>({chain:t})=>t().setMark("textStyle",{backgroundColor:null}).removeEmptyTextStyle().run()}}}),Lw=st.create({name:"color",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{color:{default:null,parseHTML:t=>{var e;const n=t.getAttribute("style");if(n){const r=n.split(";").map(s=>s.trim()).filter(Boolean);for(let s=r.length-1;s>=0;s-=1){const i=r[s].split(":");if(i.length>=2){const c=i[0].trim().toLowerCase(),d=i.slice(1).join(":").trim();if(c==="color")return d.replace(/['"]+/g,"")}}}return(e=t.style.color)==null?void 0:e.replace(/['"]+/g,"")},renderHTML:t=>t.color?{style:`color: ${t.color}`}:{}}}}]},addCommands(){return{setColor:t=>({chain:e})=>e().setMark("textStyle",{color:t}).run(),unsetColor:()=>({chain:t})=>t().setMark("textStyle",{color:null}).removeEmptyTextStyle().run()}}}),iR=st.create({name:"fontFamily",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{fontFamily:{default:null,parseHTML:t=>t.style.fontFamily,renderHTML:t=>t.fontFamily?{style:`font-family: ${t.fontFamily}`}:{}}}}]},addCommands(){return{setFontFamily:t=>({chain:e})=>e().setMark("textStyle",{fontFamily:t}).run(),unsetFontFamily:()=>({chain:t})=>t().setMark("textStyle",{fontFamily:null}).removeEmptyTextStyle().run()}}}),lR=st.create({name:"fontSize",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{fontSize:{default:null,parseHTML:t=>t.style.fontSize,renderHTML:t=>t.fontSize?{style:`font-size: ${t.fontSize}`}:{}}}}]},addCommands(){return{setFontSize:t=>({chain:e})=>e().setMark("textStyle",{fontSize:t}).run(),unsetFontSize:()=>({chain:t})=>t().setMark("textStyle",{fontSize:null}).removeEmptyTextStyle().run()}}}),cR=st.create({name:"lineHeight",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{lineHeight:{default:null,parseHTML:t=>t.style.lineHeight,renderHTML:t=>t.lineHeight?{style:`line-height: ${t.lineHeight}`}:{}}}}]},addCommands(){return{setLineHeight:t=>({chain:e})=>e().setMark("textStyle",{lineHeight:t}).run(),unsetLineHeight:()=>({chain:t})=>t().setMark("textStyle",{lineHeight:null}).removeEmptyTextStyle().run()}}});st.create({name:"textStyleKit",addExtensions(){const t=[];return this.options.backgroundColor!==!1&&t.push(aR.configure(this.options.backgroundColor)),this.options.color!==!1&&t.push(Lw.configure(this.options.color)),this.options.fontFamily!==!1&&t.push(iR.configure(this.options.fontFamily)),this.options.fontSize!==!1&&t.push(lR.configure(this.options.fontSize)),this.options.lineHeight!==!1&&t.push(cR.configure(this.options.lineHeight)),this.options.textStyle!==!1&&t.push(Pw.configure(this.options.textStyle)),t}});var dR=/(?:^|\s)(==(?!\s+==)((?:[^=]+))==(?!\s+==))$/,uR=/(?:^|\s)(==(?!\s+==)((?:[^=]+))==(?!\s+==))/g,fR=ls.create({name:"highlight",addOptions(){return{multicolor:!1,HTMLAttributes:{}}},addAttributes(){return this.options.multicolor?{color:{default:null,parseHTML:t=>t.getAttribute("data-color")||t.style.backgroundColor,renderHTML:t=>t.color?{"data-color":t.color,style:`background-color: ${t.color}; color: inherit`}:{}}}:{}},parseHTML(){return[{tag:"mark"}]},renderHTML({HTMLAttributes:t}){return["mark",ht(this.options.HTMLAttributes,t),0]},renderMarkdown:(t,e)=>`==${e.renderChildren(t)}==`,parseMarkdown:(t,e)=>e.applyMark("highlight",e.parseInline(t.tokens||[])),markdownTokenizer:{name:"highlight",level:"inline",start:t=>t.indexOf("=="),tokenize(t,e,n){const s=/^(==)([^=]+)(==)/.exec(t);if(s){const i=s[2].trim(),c=n.inlineTokens(i);return{type:"highlight",raw:s[0],text:i,tokens:c}}}},addCommands(){return{setHighlight:t=>({commands:e})=>e.setMark(this.name,t),toggleHighlight:t=>({commands:e})=>e.toggleMark(this.name,t),unsetHighlight:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-h":()=>this.editor.commands.toggleHighlight()}},addInputRules(){return[oa({find:dR,type:this.type})]},addPasteRules(){return[mo({find:uR,type:this.type})]}}),hR=/(?:^|\s)(!\[(.+|:?)]\((\S+)(?:(?:\s+)["'](\S+)["'])?\))$/,mR=kn.create({name:"image",addOptions(){return{inline:!1,allowBase64:!1,HTMLAttributes:{},resize:!1}},inline(){return this.options.inline},group(){return this.options.inline?"inline":"block"},draggable:!0,addAttributes(){return{src:{default:null},alt:{default:null},title:{default:null},width:{default:null},height:{default:null}}},parseHTML(){return[{tag:this.options.allowBase64?"img[src]":'img[src]:not([src^="data:"])'}]},renderHTML({HTMLAttributes:t}){return["img",ht(this.options.HTMLAttributes,t)]},parseMarkdown:(t,e)=>e.createNode("image",{src:t.href,title:t.title,alt:t.text}),renderMarkdown:t=>{var e,n,r,s,i,c;const d=(n=(e=t.attrs)==null?void 0:e.src)!=null?n:"",f=(s=(r=t.attrs)==null?void 0:r.alt)!=null?s:"",h=(c=(i=t.attrs)==null?void 0:i.title)!=null?c:"";return h?`![${f}](${d} "${h}")`:`![${f}](${d})`},addNodeView(){if(!this.options.resize||!this.options.resize.enabled||typeof document>"u"||!this.editor.isEditable)return null;const{directions:t,minWidth:e,minHeight:n,alwaysPreserveAspectRatio:r}=this.options.resize;return({node:s,getPos:i,HTMLAttributes:c})=>{const d=document.createElement("img");Object.entries(c).forEach(([p,g])=>{if(g!=null)switch(p){case"width":case"height":break;default:d.setAttribute(p,g);break}}),d.src=c.src;const f=new $4({element:d,node:s,getPos:i,onResize:(p,g)=>{d.style.width=`${p}px`,d.style.height=`${g}px`},onCommit:(p,g)=>{const b=i();b!==void 0&&this.editor.chain().setNodeSelection(b).updateAttributes(this.name,{width:p,height:g}).run()},onUpdate:(p,g,b)=>p.type===s.type,options:{directions:t,min:{width:e,height:n},preserveAspectRatio:r===!0}}),h=f.dom;return h.style.visibility="hidden",h.style.pointerEvents="none",d.onload=()=>{h.style.visibility="",h.style.pointerEvents=""},f}},addCommands(){return{setImage:t=>({commands:e})=>e.insertContent({type:this.name,attrs:t})}},addInputRules(){return[ow({find:hR,type:this.type,getAttributes:t=>{const[,,e,n,r]=t;return{src:n,alt:e,title:r}}})]}}),pR=mR,gR=st.create({name:"textAlign",addOptions(){return{types:[],alignments:["left","center","right","justify"],defaultAlignment:null}},addGlobalAttributes(){return[{types:this.options.types,attributes:{textAlign:{default:this.options.defaultAlignment,parseHTML:t=>{const e=t.style.textAlign;return this.options.alignments.includes(e)?e:this.options.defaultAlignment},renderHTML:t=>t.textAlign?{style:`text-align: ${t.textAlign}`}:{}}}}]},addCommands(){return{setTextAlign:t=>({commands:e})=>this.options.alignments.includes(t)?this.options.types.map(n=>e.updateAttributes(n,{textAlign:t})).every(n=>n):!1,unsetTextAlign:()=>({commands:t})=>this.options.types.map(e=>t.resetAttributes(e,"textAlign")).every(e=>e),toggleTextAlign:t=>({editor:e,commands:n})=>this.options.alignments.includes(t)?e.isActive({textAlign:t})?n.unsetTextAlign():n.setTextAlign(t):!1}},addKeyboardShortcuts(){return{"Mod-Shift-l":()=>this.editor.commands.setTextAlign("left"),"Mod-Shift-e":()=>this.editor.commands.setTextAlign("center"),"Mod-Shift-r":()=>this.editor.commands.setTextAlign("right"),"Mod-Shift-j":()=>this.editor.commands.setTextAlign("justify")}}}),xR=gR;const bR=t=>o.jsx("svg",{...t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:o.jsx("path",{d:"M15.6 10.79c.97-.67 1.65-1.77 1.65-2.79 0-2.26-1.75-4-4-4H7v14h7.04c2.09 0 3.71-1.7 3.71-3.79 0-1.52-.86-2.82-2.15-3.42zM10 6.5h3c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5h-3v-3zm3.5 9H10v-3h3.5c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5z"})}),yR=t=>o.jsx("svg",{...t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:o.jsx("path",{d:"M10 4v3h2.21l-3.42 8H6v3h8v-3h-2.21l3.42-8H18V4z"})}),vR=t=>o.jsx("svg",{...t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:o.jsx("path",{d:"M12 17c3.31 0 6-2.69 6-6V3h-2.5v8c0 1.93-1.57 3.5-3.5 3.5S8.5 12.93 8.5 11V3H6v8c0 3.31 2.69 6 6 6zM5 19v2h14v-2H5z"})}),NR=t=>o.jsx("svg",{...t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:o.jsx("path",{d:"M10 19h4v-3h-4v3zM5 4v3h5v3h4V7h5V4H5zM3 14h18v-2H3v2z"})}),CR=t=>o.jsx("svg",{...t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:o.jsx("path",{d:"M7 5h14v2H7V5zm0 6h14v2H7v-2zm0 6h14v2H7v-2zM4 17.27L2.27 15.54 2 15.77V13h3v1h-1.23l1.73 1.73L4 17.27zM4.25 10H2V4h3v1H3.25v2.5h1V8.5H2v.5h2.25V10z"})}),wR=t=>o.jsx("svg",{...t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:o.jsx("path",{d:"M3 13h2v-2H3v2zm0 4h2v-2H3v2zm0-8h2V7H3v2zm4 4h14v-2H7v2zm0 4h14v-2H7v2zM7 7v2h14V7H7z"})}),SR=t=>o.jsx("svg",{...t,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h11.25m-11.25 5.25h16.5"})}),TR=t=>o.jsx("svg",{...t,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M6 12h12m-9 5.25h6"})}),kR=t=>o.jsx("svg",{...t,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M8.25 12h11.25M3.75 17.25h16.5"})}),ER=t=>o.jsx("svg",{...t,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"})}),AR=t=>o.jsx("svg",{...t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:o.jsx("path",{d:"M6 17h3l2-4V7H5v6h3l-2 4zm8 0h3l2-4V7h-6v6h3l-2 4z"})}),jR=t=>o.jsx("svg",{...t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:o.jsx("path",{d:"M12.5 8c-2.65 0-5.05.99-6.9 2.6L2 7v9h9l-3.62-3.62c1.39-1.16 3.16-1.88 5.12-1.88 3.54 0 6.55 2.31 7.6 5.5l2.37-.78C21.08 11.03 17.15 8 12.5 8z"})}),MR=t=>o.jsx("svg",{...t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:o.jsx("path",{d:"M18.4 10.6C16.55 8.99 14.15 8 11.5 8c-4.65 0-8.58 3.03-9.96 7.22L3.9 16c1.05-3.19 4.05-5.5 7.6-5.5 1.96 0 3.73.72 5.12 1.88L13 16h9V7l-3.6 3.6z"})}),RR=t=>o.jsx("svg",{...t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:o.jsx("path",{d:"M9.4 16.6L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z"})}),IR=t=>o.jsx("svg",{...t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:o.jsx("path",{d:"M3.27 5L2 6.27l6.97 6.97L6.5 19h3l1.57-3.66L16.73 21 18 19.73 3.55 5.27 3.27 5zM6 5v.18L8.82 8h2.4l-.72 1.68 2.1 2.1L14.21 8H20V5H6z"})}),DR=t=>o.jsx("svg",{...t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:o.jsx("path",{d:"M11 3L5.5 17h2.25l1.12-3h6.25l1.12 3h2.25L13 3h-2zm-1.38 9L12 5.67 14.38 12H9.62z"})}),_R=t=>o.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:[o.jsx("path",{d:"M15.24 13.16l-2.2-2.2-1.41 1.41 2.2 2.2-2.35 2.35-1.41-1.41-2.2 2.2 3.76 3.76 2.2-2.2-1.41-1.41z"}),o.jsx("path",{d:"M19.78 4.22a.996.996 0 00-1.41 0l-1.83 1.83 2.83 2.83 1.83-1.83a.996.996 0 000-1.41l-1.42-1.42zM15.54 5.64L5.64 15.54 4.22 14.12 14.12 4.22l1.42 1.42zM2.12 15.54l5.29 5.29 1.41-1.41-5.29-5.29-1.41 1.41z"})]}),af=t=>o.jsx("svg",{...t,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.19 8.688a4.5 4.5 0 011.242 7.244l-4.5 4.5a4.5 4.5 0 01-6.364-6.364l1.757-1.757m13.35-.622l1.757-1.757a4.5 4.5 0 00-6.364-6.364l-4.5 4.5a4.5 4.5 0 001.242 7.244"})}),PR=t=>o.jsx("svg",{...t,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 15.75l5.159-5.159a2.25 2.25 0 013.182 0l5.159 5.159m-1.5-1.5l1.409-1.409a2.25 2.25 0 013.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 001.5-1.5V6a1.5 1.5 0 00-1.5-1.5H3.75A1.5 1.5 0 002.25 6v12a1.5 1.5 0 001.5 1.5zm10.5-11.25h.008v.008h-.008V8.25zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0z"})}),LR=t=>o.jsx("svg",{...t,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 12h16.5"})}),OR=({editor:t,openLinkModal:e})=>{const n=j.useRef(null);if(!t)return null;const r=j.useCallback(()=>{var c;(c=n.current)==null||c.click()},[]),s=c=>{var h;const d=(h=c.target.files)==null?void 0:h[0];if(!d||!t)return;if(!d.type.startsWith("image/")){alert("Por favor, selecione um arquivo de imagem (JPG, PNG, GIF, etc.).");return}const f=new FileReader;f.onload=p=>{var b;const g=(b=p.target)==null?void 0:b.result;g&&t.chain().focus().setImage({src:g,alt:"Imagem na descrio"}).run()},f.onerror=()=>{alert("Ocorreu um erro ao ler o arquivo.")},f.readAsDataURL(d),c.target&&(c.target.value="")},i=({onClick:c,isActive:d,children:f,title:h})=>o.jsx("button",{type:"button",onClick:c,title:h,className:`p-2 rounded-md transition-colors flex flex-col items-center justify-center ${d?"bg-[rgb(var(--color-brand-gold))] text-[rgb(var(--color-brand-dark))]":"text-[rgb(var(--color-brand-text-dim))] hover:bg-[rgb(var(--color-brand-gray))]"}`,children:f});return o.jsxs("div",{className:"flex flex-wrap items-center gap-1 p-2 border-b border-[rgb(var(--color-brand-gray-light))]",children:[o.jsx("input",{type:"file",ref:n,onChange:s,accept:"image/*",className:"hidden"}),o.jsx(i,{onClick:()=>t.chain().focus().undo().run(),title:"Desfazer",children:o.jsx(jR,{className:"w-5 h-5"})}),o.jsx(i,{onClick:()=>t.chain().focus().redo().run(),title:"Refazer",children:o.jsx(MR,{className:"w-5 h-5"})}),o.jsx("div",{className:"border-l border-[rgb(var(--color-brand-gray-light))] mx-1 h-6 self-center"}),o.jsxs("select",{onChange:c=>{const d=c.target.value,f=parseInt(d,10);f===0?t.chain().focus().setParagraph().run():t.chain().focus().toggleHeading({level:f}).run()},value:t.isActive("heading",{level:1})?"1":t.isActive("heading",{level:2})?"2":t.isActive("heading",{level:3})?"3":"0",className:"bg-[rgb(var(--color-brand-gray))] border-2 border-[rgb(var(--color-brand-gray-light))] text-[rgb(var(--color-brand-text-light))] py-2 px-2 rounded-md hover:bg-[rgb(var(--color-brand-gray-light))] transition-colors text-sm font-semibold focus:outline-none focus:border-[rgb(var(--color-brand-gold))]",children:[o.jsx("option",{value:"0",children:"Pargrafo"}),o.jsx("option",{value:"1",children:"Ttulo 1"}),o.jsx("option",{value:"2",children:"Ttulo 2"}),o.jsx("option",{value:"3",children:"Ttulo 3"})]}),o.jsx("div",{className:"border-l border-[rgb(var(--color-brand-gray-light))] mx-1 h-6 self-center"}),o.jsx(i,{onClick:()=>t.chain().focus().toggleBold().run(),isActive:t.isActive("bold"),title:"Negrito",children:o.jsx(bR,{className:"w-5 h-5"})}),o.jsx(i,{onClick:()=>t.chain().focus().toggleItalic().run(),isActive:t.isActive("italic"),title:"Itlico",children:o.jsx(yR,{className:"w-5 h-5"})}),o.jsx(i,{onClick:()=>t.chain().focus().toggleUnderline().run(),isActive:t.isActive("underline"),title:"Sublinhado",children:o.jsx(vR,{className:"w-5 h-5"})}),o.jsx(i,{onClick:()=>t.chain().focus().toggleStrike().run(),isActive:t.isActive("strike"),title:"Tachado",children:o.jsx(NR,{className:"w-5 h-5"})}),o.jsxs("div",{className:"relative",children:[o.jsxs(i,{onClick:()=>{},isActive:t.isActive("textStyle"),title:"Cor do Texto",children:[o.jsx(DR,{className:"w-5 h-5"}),o.jsx("div",{className:"w-full h-1 rounded-full mt-1 border border-[rgb(var(--color-brand-gray))] ",style:{backgroundColor:t.getAttributes("textStyle").color||"currentColor"}})]}),o.jsx("input",{type:"color",className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer",onInput:c=>t.chain().focus().setColor(c.target.value).run(),value:t.getAttributes("textStyle").color||"#FFFFFF"})]}),o.jsxs("div",{className:"relative",children:[o.jsxs(i,{onClick:()=>{},isActive:t.isActive("highlight"),title:"Cor de Destaque",children:[o.jsx(_R,{className:"w-5 h-5"}),o.jsx("div",{className:"w-full h-1 rounded-full mt-1 border border-[rgb(var(--color-brand-gray))]",style:{backgroundColor:t.getAttributes("highlight").color||"rgb(var(--color-brand-gold))"}})]}),o.jsx("input",{type:"color",className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer",onInput:c=>t.chain().focus().toggleHighlight({color:c.target.value}).run(),value:t.getAttributes("highlight").color||"rgb(var(--color-brand-gold))"})]}),o.jsx("div",{className:"border-l border-[rgb(var(--color-brand-gray-light))] mx-1 h-6 self-center"}),o.jsx(i,{onClick:()=>t.chain().focus().setTextAlign("left").run(),isActive:t.isActive({textAlign:"left"}),title:"Alinhar  Esquerda",children:o.jsx(SR,{className:"w-5 h-5"})}),o.jsx(i,{onClick:()=>t.chain().focus().setTextAlign("center").run(),isActive:t.isActive({textAlign:"center"}),title:"Centralizar",children:o.jsx(TR,{className:"w-5 h-5"})}),o.jsx(i,{onClick:()=>t.chain().focus().setTextAlign("right").run(),isActive:t.isActive({textAlign:"right"}),title:"Alinhar  Direita",children:o.jsx(kR,{className:"w-5 h-5"})}),o.jsx(i,{onClick:()=>t.chain().focus().setTextAlign("justify").run(),isActive:t.isActive({textAlign:"justify"}),title:"Justificar",children:o.jsx(ER,{className:"w-5 h-5"})}),o.jsx("div",{className:"border-l border-[rgb(var(--color-brand-gray-light))] mx-1 h-6 self-center"}),o.jsx(i,{onClick:e,isActive:t.isActive("link"),title:"Adicionar Link",children:o.jsx(af,{className:"w-5 h-5"})}),o.jsx(i,{onClick:r,title:"Adicionar Imagem/GIF",children:o.jsx(PR,{className:"w-5 h-5"})}),o.jsx(i,{onClick:()=>t.chain().focus().setHorizontalRule().run(),title:"Linha Horizontal",children:o.jsx(LR,{className:"w-5 h-5"})}),o.jsx("div",{className:"border-l border-[rgb(var(--color-brand-gray-light))] mx-1 h-6 self-center"}),o.jsx(i,{onClick:()=>t.chain().focus().toggleBulletList().run(),isActive:t.isActive("bulletList"),title:"Lista com Marcadores",children:o.jsx(wR,{className:"w-5 h-5"})}),o.jsx(i,{onClick:()=>t.chain().focus().toggleOrderedList().run(),isActive:t.isActive("orderedList"),title:"Lista Numerada",children:o.jsx(CR,{className:"w-5 h-5"})}),o.jsx(i,{onClick:()=>t.chain().focus().toggleBlockquote().run(),isActive:t.isActive("blockquote"),title:"Citao",children:o.jsx(AR,{className:"w-5 h-5"})}),o.jsx(i,{onClick:()=>t.chain().focus().toggleCodeBlock().run(),isActive:t.isActive("codeBlock"),title:"Bloco de Cdigo",children:o.jsx(RR,{className:"w-5 h-5"})}),o.jsx("div",{className:"border-l border-[rgb(var(--color-brand-gray-light))] mx-1 h-6 self-center"}),o.jsx(i,{onClick:()=>t.chain().focus().unsetAllMarks().clearNodes().run(),title:"Limpar Formato",children:o.jsx(IR,{className:"w-5 h-5"})})]})},Ow=({value:t,onChange:e})=>{const n=y3({extensions:[rR.configure({heading:{levels:[1,2,3]}}),DM,pM.configure({openOnClick:!1,autolink:!0}),xR.configure({types:["heading","paragraph"]}),Pw,Lw,fR.configure({multicolor:!0}),pR],content:t,onUpdate:({editor:p})=>{e(p.getHTML())},editorProps:{attributes:{class:"focus:outline-none"}}}),[r,s]=j.useState(!1),[i,c]=j.useState(""),d=j.useCallback(()=>{if(!n)return;const p=n.getAttributes("link").href||"";c(p),s(!0)},[n]),f=j.useCallback(()=>{s(!1),c("")},[]),h=j.useCallback(()=>{if(n){if(i){let p=i;!/^https?:\/\//i.test(i)&&!/^mailto:/i.test(i)&&(p=`https://${i}`),n.chain().focus().extendMarkRange("link").setLink({href:p}).run()}else n.chain().focus().extendMarkRange("link").unsetLink().run();f()}},[n,i,f]);return o.jsxs("div",{className:"bg-[rgb(var(--color-brand-gray))] border-2 border-[rgb(var(--color-brand-gray-light))] rounded-md focus-within:border-[rgb(var(--color-brand-gold))] transition-colors",children:[o.jsx("style",{children:`
                .ProseMirror {
                    color: rgb(var(--color-brand-text-light));
                }
                .ProseMirror blockquote {
                    border-left: 3px solid rgb(var(--color-brand-gold)); /* amber-500 */
                    padding-left: 1rem;
                    margin-left: 0.5rem;
                    font-style: italic;
                    color: rgb(var(--color-brand-text-dim)); /* gray-300 */
                }
                .ProseMirror ul, .ProseMirror ol {
                    padding-left: 1.5rem;
                }
                .ProseMirror a {
                    color: rgb(var(--color-info)); /* A golden-green for links */
                    text-decoration: underline;
                    cursor: pointer;
                }
                .ProseMirror code {
                    background-color: rgba(255, 255, 255, 0.1);
                    padding: 0.2em 0.4em;
                    border-radius: 5px;
                    color: #f3f4f6;
                }
                .ProseMirror pre {
                    background-color: rgb(var(--color-brand-dark)); /* gray-900 */
                    padding: 1rem;
                    border-radius: 0.5rem;
                    color: rgb(var(--color-brand-text-dim));
                    font-family: monospace;
                }
                 .ProseMirror mark {
                    border-radius: 2px;
                    padding: 0.1em 0.2em;
                 }
                 .ProseMirror img {
                    max-width: 100%;
                    height: auto;
                    border-radius: 8px;
                    margin-top: 1rem;
                    margin-bottom: 1rem;
                 }
            `}),o.jsx(OR,{editor:n,openLinkModal:d}),o.jsx("div",{className:"min-h-[200px] cursor-text p-4",children:o.jsx(f3,{editor:n})}),r&&o.jsx("div",{className:"fixed inset-0 bg-[rgb(var(--color-brand-dark))]/[.70] z-[101] flex items-center justify-center p-4",onClick:f,children:o.jsxs("div",{className:"bg-[rgb(var(--color-brand-dark))] border-2 border-[rgb(var(--color-brand-gold))]/[.30] rounded-lg shadow-2xl p-6 w-full max-w-md space-y-4",onClick:p=>p.stopPropagation(),children:[o.jsx("h3",{className:"text-lg font-bold text-[rgb(var(--color-brand-text-light))]",children:"Adicionar / Editar Link"}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"link-url",className:"block text-sm font-medium text-[rgb(var(--color-brand-text-dim))] mb-1",children:"URL"}),o.jsx("input",{id:"link-url",type:"url",value:i,onChange:p=>c(p.target.value),autoFocus:!0,className:"w-full bg-[rgb(var(--color-brand-gray))] border-2 border-[rgb(var(--color-brand-gray-light))] rounded-md py-2 px-3 text-[rgb(var(--color-brand-text-light))] focus:outline-none focus:border-[rgb(var(--color-brand-gold))]",placeholder:"https://exemplo.com",onKeyDown:p=>{p.key==="Enter"&&(p.preventDefault(),h())}})]}),o.jsxs("div",{className:"flex justify-end gap-4 pt-2",children:[o.jsx("button",{type:"button",onClick:f,className:"text-sm font-semibold bg-[rgb(var(--color-brand-gray))] text-[rgb(var(--color-brand-text-light))] py-2 px-4 rounded-md hover:bg-[rgb(var(--color-brand-gray-light))]",children:"Cancelar"}),o.jsx("button",{type:"button",onClick:h,className:"text-sm font-bold bg-[rgb(var(--color-active-lime))] text-[rgb(var(--color-brand-dark))] py-2 px-4 rounded-md hover:bg-[rgb(var(--color-success))]",children:"Salvar"})]})]})})]})},Xe=({checked:t,onChange:e,labelId:n})=>o.jsxs("label",{htmlFor:n,className:"relative inline-flex items-center cursor-pointer",children:[o.jsx("input",{type:"checkbox",id:n,checked:t,onChange:r=>e(r.target.checked),className:"sr-only peer"}),o.jsx("div",{className:"w-11 h-6 bg-gray-700 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-yellow-500"})]}),_u=t=>o.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:[o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.5 8.25h9m-9 3H12m-2.25 3h5.25"}),o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 21v-4.5a3.75 3.75 0 013.75-3.75h9a3.75 3.75 0 013.75 3.75v4.5"}),o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12.75v-6a3 3 0 013-3h9a3 3 0 013 3v6"}),o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 3.75v-1.5a1.5 1.5 0 011.5-1.5h.008a1.5 1.5 0 011.5 1.5v1.5"})]});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let BR,zR;function UR(){return{geminiUrl:BR,vertexUrl:zR}}function HR(t,e,n,r){var s,i;if(!(t!=null&&t.baseUrl)){const c=UR();return e?(s=c.vertexUrl)!==null&&s!==void 0?s:n:(i=c.geminiUrl)!==null&&i!==void 0?i:r}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class cs{}function ue(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(r,s)=>{if(Object.prototype.hasOwnProperty.call(e,s)){const i=e[s];return i!=null?String(i):""}else throw new Error(`Key '${s}' not found in valueMap.`)})}function y(t,e,n){for(let i=0;i<e.length-1;i++){const c=e[i];if(c.endsWith("[]")){const d=c.slice(0,-2);if(!(d in t))if(Array.isArray(n))t[d]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${c}`);if(Array.isArray(t[d])){const f=t[d];if(Array.isArray(n))for(let h=0;h<f.length;h++){const p=f[h];y(p,e.slice(i+1),n[h])}else for(const h of f)y(h,e.slice(i+1),n)}return}else if(c.endsWith("[0]")){const d=c.slice(0,-3);d in t||(t[d]=[{}]);const f=t[d];y(f[0],e.slice(i+1),n);return}(!t[c]||typeof t[c]!="object")&&(t[c]={}),t=t[c]}const r=e[e.length-1],s=t[r];if(s!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===s)return;if(typeof s=="object"&&typeof n=="object"&&s!==null&&n!==null)Object.assign(s,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[r]=n}function x(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let r=0;r<e.length;r++){if(typeof t!="object"||t===null)return n;const s=e[r];if(s.endsWith("[]")){const i=s.slice(0,-2);if(i in t){const c=t[i];return Array.isArray(c)?c.map(d=>x(d,e.slice(r+1),n)):n}else return n}else t=t[s]}return t}catch(r){if(r instanceof TypeError)return n;throw r}}function VR(t,e){for(const[n,r]of Object.entries(e)){const s=n.split("."),i=r.split("."),c=new Set;let d=-1;for(let f=0;f<s.length;f++)if(s[f]==="*"){d=f;break}if(d!==-1&&i.length>d)for(let f=d;f<i.length;f++){const h=i[f];h!=="*"&&!h.endsWith("[]")&&!h.endsWith("[0]")&&c.add(h)}Vp(t,s,i,0,c)}}function Vp(t,e,n,r,s){if(r>=e.length||typeof t!="object"||t===null)return;const i=e[r];if(i.endsWith("[]")){const c=i.slice(0,-2),d=t;if(c in d&&Array.isArray(d[c]))for(const f of d[c])Vp(f,e,n,r+1,s)}else if(i==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const c=t,d=Object.keys(c).filter(h=>!h.startsWith("_")&&!s.has(h)),f={};for(const h of d)f[h]=c[h];for(const[h,p]of Object.entries(f)){const g=[];for(const b of n.slice(r))b==="*"?g.push(h):g.push(b);y(c,g,p)}for(const h of d)delete c[h]}}else{const c=t;i in c&&Vp(c[i],e,n,r+1,s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Gg(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function qR(t){const e={},n=x(t,["operationName"]);n!=null&&y(e,["operationName"],n);const r=x(t,["resourceName"]);return r!=null&&y(e,["_url","resourceName"],r),e}function FR(t){const e={},n=x(t,["name"]);n!=null&&y(e,["name"],n);const r=x(t,["metadata"]);r!=null&&y(e,["metadata"],r);const s=x(t,["done"]);s!=null&&y(e,["done"],s);const i=x(t,["error"]);i!=null&&y(e,["error"],i);const c=x(t,["response","generateVideoResponse"]);return c!=null&&y(e,["response"],$R(c)),e}function GR(t){const e={},n=x(t,["name"]);n!=null&&y(e,["name"],n);const r=x(t,["metadata"]);r!=null&&y(e,["metadata"],r);const s=x(t,["done"]);s!=null&&y(e,["done"],s);const i=x(t,["error"]);i!=null&&y(e,["error"],i);const c=x(t,["response"]);return c!=null&&y(e,["response"],JR(c)),e}function $R(t){const e={},n=x(t,["generatedSamples"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(c=>KR(c))),y(e,["generatedVideos"],i)}const r=x(t,["raiMediaFilteredCount"]);r!=null&&y(e,["raiMediaFilteredCount"],r);const s=x(t,["raiMediaFilteredReasons"]);return s!=null&&y(e,["raiMediaFilteredReasons"],s),e}function JR(t){const e={},n=x(t,["videos"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(c=>YR(c))),y(e,["generatedVideos"],i)}const r=x(t,["raiMediaFilteredCount"]);r!=null&&y(e,["raiMediaFilteredCount"],r);const s=x(t,["raiMediaFilteredReasons"]);return s!=null&&y(e,["raiMediaFilteredReasons"],s),e}function KR(t){const e={},n=x(t,["video"]);return n!=null&&y(e,["video"],tI(n)),e}function YR(t){const e={},n=x(t,["_self"]);return n!=null&&y(e,["video"],nI(n)),e}function WR(t){const e={},n=x(t,["operationName"]);return n!=null&&y(e,["_url","operationName"],n),e}function XR(t){const e={},n=x(t,["operationName"]);return n!=null&&y(e,["_url","operationName"],n),e}function QR(t){const e={},n=x(t,["name"]);n!=null&&y(e,["name"],n);const r=x(t,["metadata"]);r!=null&&y(e,["metadata"],r);const s=x(t,["done"]);s!=null&&y(e,["done"],s);const i=x(t,["error"]);i!=null&&y(e,["error"],i);const c=x(t,["response"]);return c!=null&&y(e,["response"],ZR(c)),e}function ZR(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=x(t,["parent"]);r!=null&&y(e,["parent"],r);const s=x(t,["documentName"]);return s!=null&&y(e,["documentName"],s),e}function Bw(t){const e={},n=x(t,["name"]);n!=null&&y(e,["name"],n);const r=x(t,["metadata"]);r!=null&&y(e,["metadata"],r);const s=x(t,["done"]);s!=null&&y(e,["done"],s);const i=x(t,["error"]);i!=null&&y(e,["error"],i);const c=x(t,["response"]);return c!=null&&y(e,["response"],eI(c)),e}function eI(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=x(t,["parent"]);r!=null&&y(e,["parent"],r);const s=x(t,["documentName"]);return s!=null&&y(e,["documentName"],s),e}function tI(t){const e={},n=x(t,["uri"]);n!=null&&y(e,["uri"],n);const r=x(t,["encodedVideo"]);r!=null&&y(e,["videoBytes"],Gg(r));const s=x(t,["encoding"]);return s!=null&&y(e,["mimeType"],s),e}function nI(t){const e={},n=x(t,["gcsUri"]);n!=null&&y(e,["uri"],n);const r=x(t,["bytesBase64Encoded"]);r!=null&&y(e,["videoBytes"],Gg(r));const s=x(t,["mimeType"]);return s!=null&&y(e,["mimeType"],s),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var h1;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(h1||(h1={}));var m1;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(m1||(m1={}));var p1;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(p1||(p1={}));var Lt;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(Lt||(Lt={}));var g1;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(g1||(g1={}));var x1;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(x1||(x1={}));var b1;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(b1||(b1={}));var y1;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(y1||(y1={}));var v1;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(v1||(v1={}));var N1;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(N1||(N1={}));var C1;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(C1||(C1={}));var w1;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(w1||(w1={}));var S1;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE"})(S1||(S1={}));var T1;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(T1||(T1={}));var k1;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(k1||(k1={}));var E1;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(E1||(E1={}));var A1;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(A1||(A1={}));var j1;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(j1||(j1={}));var Pu;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(Pu||(Pu={}));var M1;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(M1||(M1={}));var R1;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(R1||(R1={}));var I1;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(I1||(I1={}));var qp;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(qp||(qp={}));var D1;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(D1||(D1={}));var _1;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(_1||(_1={}));var P1;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(P1||(P1={}));var L1;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(L1||(L1={}));var O1;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(O1||(O1={}));var B1;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(B1||(B1={}));var z1;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(z1||(z1={}));var U1;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(U1||(U1={}));var H1;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(H1||(H1={}));var V1;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(V1||(V1={}));var q1;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(q1||(q1={}));var F1;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(F1||(F1={}));var G1;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(G1||(G1={}));var $1;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})($1||($1={}));var J1;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(J1||(J1={}));var K1;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(K1||(K1={}));var Y1;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(Y1||(Y1={}));var W1;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(W1||(W1={}));var X1;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(X1||(X1={}));var Q1;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(Q1||(Q1={}));var Z1;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(Z1||(Z1={}));var e2;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(e2||(e2={}));var t2;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(t2||(t2={}));var n2;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(n2||(n2={}));var r2;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(r2||(r2={}));var s2;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(s2||(s2={}));var o2;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(o2||(o2={}));var a2;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(a2||(a2={}));var i2;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(i2||(i2={}));var ei;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(ei||(ei={}));class Fp{constructor(e){const n={};for(const r of e.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class Nl{get text(){var e,n,r,s,i,c,d,f;if(((s=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let h="",p=!1;const g=[];for(const b of(f=(d=(c=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||c===void 0?void 0:c.content)===null||d===void 0?void 0:d.parts)!==null&&f!==void 0?f:[]){for(const[N,w]of Object.entries(b))N!=="text"&&N!=="thought"&&(w!==null||w!==void 0)&&g.push(N);if(typeof b.text=="string"){if(typeof b.thought=="boolean"&&b.thought)continue;p=!0,h+=b.text}}return g.length>0&&console.warn(`there are non-text parts ${g} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),p?h:void 0}get data(){var e,n,r,s,i,c,d,f;if(((s=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let h="";const p=[];for(const g of(f=(d=(c=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||c===void 0?void 0:c.content)===null||d===void 0?void 0:d.parts)!==null&&f!==void 0?f:[]){for(const[b,N]of Object.entries(g))b!=="inlineData"&&(N!==null||N!==void 0)&&p.push(b);g.inlineData&&typeof g.inlineData.data=="string"&&(h+=atob(g.inlineData.data))}return p.length>0&&console.warn(`there are non-data parts ${p} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),h.length>0?btoa(h):void 0}get functionCalls(){var e,n,r,s,i,c,d,f;if(((s=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const h=(f=(d=(c=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||c===void 0?void 0:c.content)===null||d===void 0?void 0:d.parts)===null||f===void 0?void 0:f.filter(p=>p.functionCall).map(p=>p.functionCall).filter(p=>p!==void 0);if((h==null?void 0:h.length)!==0)return h}get executableCode(){var e,n,r,s,i,c,d,f,h;if(((s=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const p=(f=(d=(c=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||c===void 0?void 0:c.content)===null||d===void 0?void 0:d.parts)===null||f===void 0?void 0:f.filter(g=>g.executableCode).map(g=>g.executableCode).filter(g=>g!==void 0);if((p==null?void 0:p.length)!==0)return(h=p==null?void 0:p[0])===null||h===void 0?void 0:h.code}get codeExecutionResult(){var e,n,r,s,i,c,d,f,h;if(((s=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const p=(f=(d=(c=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||c===void 0?void 0:c.content)===null||d===void 0?void 0:d.parts)===null||f===void 0?void 0:f.filter(g=>g.codeExecutionResult).map(g=>g.codeExecutionResult).filter(g=>g!==void 0);if((p==null?void 0:p.length)!==0)return(h=p==null?void 0:p[0])===null||h===void 0?void 0:h.output}}class l2{}class c2{}class rI{}class sI{}class oI{}class aI{}class d2{}class u2{}class f2{}class iI{}class Lu{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new Lu;let s;const i=e;return n?s=GR(i):s=FR(i),Object.assign(r,s),r}}class h2{}class m2{}class p2{}class lI{}class cI{}class dI{}class $g{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new $g,i=QR(e);return Object.assign(r,i),r}}class uI{}class fI{}class hI{}class g2{}class mI{get text(){var e,n,r;let s="",i=!1;const c=[];for(const d of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[f,h]of Object.entries(d))f!=="text"&&f!=="thought"&&h!==null&&c.push(f);if(typeof d.text=="string"){if(typeof d.thought=="boolean"&&d.thought)continue;i=!0,s+=d.text}}return c.length>0&&console.warn(`there are non-text parts ${c} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),i?s:void 0}get data(){var e,n,r;let s="";const i=[];for(const c of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[d,f]of Object.entries(c))d!=="inlineData"&&f!==null&&i.push(d);c.inlineData&&typeof c.inlineData.data=="string"&&(s+=atob(c.inlineData.data))}return i.length>0&&console.warn(`there are non-data parts ${i} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),s.length>0?btoa(s):void 0}}class pI{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class Jg{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new Jg,i=Bw(e);return Object.assign(r,i),r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function $e(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function zw(t,e){const n=$e(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function Uw(t){return Array.isArray(t)?t.map(e=>Ou(e)):[Ou(t)]}function Ou(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function Hw(t){const e=Ou(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Vw(t){const e=Ou(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function x2(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function qw(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>x2(e)):[x2(t)]}function Gp(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function b2(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function y2(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function en(t){if(t==null)throw new Error("ContentUnion is required");return Gp(t)?t:{role:"user",parts:qw(t)}}function Kg(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const r=en(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){const n=en(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>en(n)):[en(e)]}function tr(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(b2(t)||y2(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[en(t)]}const e=[],n=[],r=Gp(t[0]);for(const s of t){const i=Gp(s);if(i!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(i)e.push(s);else{if(b2(s)||y2(s))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(s)}}return r||e.push({role:"user",parts:qw(n)}),e}function gI(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(r=>r!=="null");if(n.length===1)e.type=Object.values(Lt).includes(n[0].toUpperCase())?n[0].toUpperCase():Lt.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of n)e.anyOf.push({type:Object.values(Lt).includes(r.toUpperCase())?r.toUpperCase():Lt.TYPE_UNSPECIFIED})}}function si(t){const e={},n=["items"],r=["anyOf"],s=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const i=t.anyOf;i!=null&&i.length==2&&(i[0].type==="null"?(e.nullable=!0,t=i[1]):i[1].type==="null"&&(e.nullable=!0,t=i[0])),t.type instanceof Array&&gI(t.type,e);for(const[c,d]of Object.entries(t))if(d!=null)if(c=="type"){if(d==="null")throw new Error("type: null can not be the only possible type for the field.");if(d instanceof Array)continue;e.type=Object.values(Lt).includes(d.toUpperCase())?d.toUpperCase():Lt.TYPE_UNSPECIFIED}else if(n.includes(c))e[c]=si(d);else if(r.includes(c)){const f=[];for(const h of d){if(h.type=="null"){e.nullable=!0;continue}f.push(si(h))}e[c]=f}else if(s.includes(c)){const f={};for(const[h,p]of Object.entries(d))f[h]=si(p);e[c]=f}else{if(c==="additionalProperties")continue;e[c]=d}return e}function Yg(t){return si(t)}function Wg(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function Xg(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function xi(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=si(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=si(e.response));return t}function bi(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function xI(t,e,n,r=1){const s=!e.startsWith(`${n}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:s?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:s?`${n}/${e}`:e}function ds(t,e){if(typeof e!="string")throw new Error("name must be a string");return xI(t,e,"cachedContents")}function Fw(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function xo(t){return Gg(t)}function bI(t){return t!=null&&typeof t=="object"&&"name"in t}function yI(t){return t!=null&&typeof t=="object"&&"video"in t}function vI(t){return t!=null&&typeof t=="object"&&"uri"in t}function Gw(t){var e;let n;if(bI(t)&&(n=t.name),!(vI(t)&&(n=t.uri,n===void 0))&&!(yI(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const s=n.split("files/")[1].match(/[a-z0-9]+/);if(s===null)throw new Error(`Could not extract file name from URI ${n}`);n=s[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function $w(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function Jw(t){for(const e of["models","tunedModels","publisherModels"])if(NI(t,e))return t[e];return[]}function NI(t,e){return t!==null&&typeof t=="object"&&e in t}function CI(t,e={}){const n=t,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function wI(t,e={}){const n=[],r=new Set;for(const s of t){const i=s.name;if(r.has(i))throw new Error(`Duplicate function name ${i} found in MCP tools. Please ensure function names are unique.`);r.add(i);const c=CI(s,e);c.functionDeclarations&&n.push(...c.functionDeclarations)}return{functionDeclarations:n}}function Kw(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,s=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(s>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||s!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function SI(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function Yw(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const s=n.inlinedResponses;if(!Array.isArray(s)||s.length===0)return t;let i=!1;for(const c of s){if(typeof c!="object"||c===null)continue;const f=c.response;if(typeof f!="object"||f===null)continue;if(f.embedding!==void 0){i=!0;break}}return i&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function yi(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function Ww(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function TI(t){const e={},n=x(t,["responsesFile"]);n!=null&&y(e,["fileName"],n);const r=x(t,["inlinedResponses","inlinedResponses"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(c=>nD(c))),y(e,["inlinedResponses"],i)}const s=x(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(s!=null){let i=s;Array.isArray(i)&&(i=i.map(c=>c)),y(e,["inlinedEmbedContentResponses"],i)}return e}function kI(t){const e={},n=x(t,["predictionsFormat"]);n!=null&&y(e,["format"],n);const r=x(t,["gcsDestination","outputUriPrefix"]);r!=null&&y(e,["gcsUri"],r);const s=x(t,["bigqueryDestination","outputUri"]);return s!=null&&y(e,["bigqueryUri"],s),e}function EI(t){const e={},n=x(t,["format"]);n!=null&&y(e,["predictionsFormat"],n);const r=x(t,["gcsUri"]);r!=null&&y(e,["gcsDestination","outputUriPrefix"],r);const s=x(t,["bigqueryUri"]);if(s!=null&&y(e,["bigqueryDestination","outputUri"],s),x(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(x(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(x(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function Fd(t){const e={},n=x(t,["name"]);n!=null&&y(e,["name"],n);const r=x(t,["metadata","displayName"]);r!=null&&y(e,["displayName"],r);const s=x(t,["metadata","state"]);s!=null&&y(e,["state"],Ww(s));const i=x(t,["metadata","createTime"]);i!=null&&y(e,["createTime"],i);const c=x(t,["metadata","endTime"]);c!=null&&y(e,["endTime"],c);const d=x(t,["metadata","updateTime"]);d!=null&&y(e,["updateTime"],d);const f=x(t,["metadata","model"]);f!=null&&y(e,["model"],f);const h=x(t,["metadata","output"]);return h!=null&&y(e,["dest"],TI(Yw(h))),e}function $p(t){const e={},n=x(t,["name"]);n!=null&&y(e,["name"],n);const r=x(t,["displayName"]);r!=null&&y(e,["displayName"],r);const s=x(t,["state"]);s!=null&&y(e,["state"],Ww(s));const i=x(t,["error"]);i!=null&&y(e,["error"],i);const c=x(t,["createTime"]);c!=null&&y(e,["createTime"],c);const d=x(t,["startTime"]);d!=null&&y(e,["startTime"],d);const f=x(t,["endTime"]);f!=null&&y(e,["endTime"],f);const h=x(t,["updateTime"]);h!=null&&y(e,["updateTime"],h);const p=x(t,["model"]);p!=null&&y(e,["model"],p);const g=x(t,["inputConfig"]);g!=null&&y(e,["src"],AI(g));const b=x(t,["outputConfig"]);b!=null&&y(e,["dest"],kI(Yw(b)));const N=x(t,["completionStats"]);return N!=null&&y(e,["completionStats"],N),e}function AI(t){const e={},n=x(t,["instancesFormat"]);n!=null&&y(e,["format"],n);const r=x(t,["gcsSource","uris"]);r!=null&&y(e,["gcsUri"],r);const s=x(t,["bigquerySource","inputUri"]);return s!=null&&y(e,["bigqueryUri"],s),e}function jI(t,e){const n={};if(x(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(x(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(x(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=x(e,["fileName"]);r!=null&&y(n,["fileName"],r);const s=x(e,["inlinedRequests"]);if(s!=null){let i=s;Array.isArray(i)&&(i=i.map(c=>tD(t,c))),y(n,["requests","requests"],i)}return n}function MI(t){const e={},n=x(t,["format"]);n!=null&&y(e,["instancesFormat"],n);const r=x(t,["gcsUri"]);r!=null&&y(e,["gcsSource","uris"],r);const s=x(t,["bigqueryUri"]);if(s!=null&&y(e,["bigquerySource","inputUri"],s),x(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(x(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function RI(t){const e={},n=x(t,["data"]);if(n!=null&&y(e,["data"],n),x(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=x(t,["mimeType"]);return r!=null&&y(e,["mimeType"],r),e}function II(t,e){const n={},r=x(e,["name"]);return r!=null&&y(n,["_url","name"],yi(t,r)),n}function DI(t,e){const n={},r=x(e,["name"]);return r!=null&&y(n,["_url","name"],yi(t,r)),n}function _I(t){const e={},n=x(t,["content"]);n!=null&&y(e,["content"],n);const r=x(t,["citationMetadata"]);r!=null&&y(e,["citationMetadata"],PI(r));const s=x(t,["tokenCount"]);s!=null&&y(e,["tokenCount"],s);const i=x(t,["finishReason"]);i!=null&&y(e,["finishReason"],i);const c=x(t,["avgLogprobs"]);c!=null&&y(e,["avgLogprobs"],c);const d=x(t,["groundingMetadata"]);d!=null&&y(e,["groundingMetadata"],d);const f=x(t,["index"]);f!=null&&y(e,["index"],f);const h=x(t,["logprobsResult"]);h!=null&&y(e,["logprobsResult"],h);const p=x(t,["safetyRatings"]);if(p!=null){let b=p;Array.isArray(b)&&(b=b.map(N=>N)),y(e,["safetyRatings"],b)}const g=x(t,["urlContextMetadata"]);return g!=null&&y(e,["urlContextMetadata"],g),e}function PI(t){const e={},n=x(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(s=>s)),y(e,["citations"],r)}return e}function Xw(t){const e={},n=x(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(i=>cD(i))),y(e,["parts"],s)}const r=x(t,["role"]);return r!=null&&y(e,["role"],r),e}function LI(t,e){const n={},r=x(t,["displayName"]);if(e!==void 0&&r!=null&&y(e,["batch","displayName"],r),x(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function OI(t,e){const n={},r=x(t,["displayName"]);e!==void 0&&r!=null&&y(e,["displayName"],r);const s=x(t,["dest"]);return e!==void 0&&s!=null&&y(e,["outputConfig"],EI(SI(s))),n}function v2(t,e){const n={},r=x(e,["model"]);r!=null&&y(n,["_url","model"],$e(t,r));const s=x(e,["src"]);s!=null&&y(n,["batch","inputConfig"],jI(t,Kw(t,s)));const i=x(e,["config"]);return i!=null&&LI(i,n),n}function BI(t,e){const n={},r=x(e,["model"]);r!=null&&y(n,["model"],$e(t,r));const s=x(e,["src"]);s!=null&&y(n,["inputConfig"],MI(Kw(t,s)));const i=x(e,["config"]);return i!=null&&OI(i,n),n}function zI(t,e){const n={},r=x(t,["displayName"]);return e!==void 0&&r!=null&&y(e,["batch","displayName"],r),n}function UI(t,e){const n={},r=x(e,["model"]);r!=null&&y(n,["_url","model"],$e(t,r));const s=x(e,["src"]);s!=null&&y(n,["batch","inputConfig"],JI(t,s));const i=x(e,["config"]);return i!=null&&zI(i,n),n}function HI(t,e){const n={},r=x(e,["name"]);return r!=null&&y(n,["_url","name"],yi(t,r)),n}function VI(t,e){const n={},r=x(e,["name"]);return r!=null&&y(n,["_url","name"],yi(t,r)),n}function qI(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=x(t,["name"]);r!=null&&y(e,["name"],r);const s=x(t,["done"]);s!=null&&y(e,["done"],s);const i=x(t,["error"]);return i!=null&&y(e,["error"],i),e}function FI(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=x(t,["name"]);r!=null&&y(e,["name"],r);const s=x(t,["done"]);s!=null&&y(e,["done"],s);const i=x(t,["error"]);return i!=null&&y(e,["error"],i),e}function GI(t,e){const n={},r=x(e,["contents"]);if(r!=null){let i=Kg(t,r);Array.isArray(i)&&(i=i.map(c=>c)),y(n,["requests[]","request","content"],i)}const s=x(e,["config"]);return s!=null&&(y(n,["_self"],$I(s,n)),VR(n,{"requests[].*":"requests[].request.*"})),n}function $I(t,e){const n={},r=x(t,["taskType"]);e!==void 0&&r!=null&&y(e,["requests[]","taskType"],r);const s=x(t,["title"]);e!==void 0&&s!=null&&y(e,["requests[]","title"],s);const i=x(t,["outputDimensionality"]);if(e!==void 0&&i!=null&&y(e,["requests[]","outputDimensionality"],i),x(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(x(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function JI(t,e){const n={},r=x(e,["fileName"]);r!=null&&y(n,["file_name"],r);const s=x(e,["inlinedRequests"]);return s!=null&&y(n,["requests"],GI(t,s)),n}function KI(t){const e={};if(x(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=x(t,["fileUri"]);n!=null&&y(e,["fileUri"],n);const r=x(t,["mimeType"]);return r!=null&&y(e,["mimeType"],r),e}function YI(t,e,n){const r={},s=x(e,["systemInstruction"]);n!==void 0&&s!=null&&y(n,["systemInstruction"],Xw(en(s)));const i=x(e,["temperature"]);i!=null&&y(r,["temperature"],i);const c=x(e,["topP"]);c!=null&&y(r,["topP"],c);const d=x(e,["topK"]);d!=null&&y(r,["topK"],d);const f=x(e,["candidateCount"]);f!=null&&y(r,["candidateCount"],f);const h=x(e,["maxOutputTokens"]);h!=null&&y(r,["maxOutputTokens"],h);const p=x(e,["stopSequences"]);p!=null&&y(r,["stopSequences"],p);const g=x(e,["responseLogprobs"]);g!=null&&y(r,["responseLogprobs"],g);const b=x(e,["logprobs"]);b!=null&&y(r,["logprobs"],b);const N=x(e,["presencePenalty"]);N!=null&&y(r,["presencePenalty"],N);const w=x(e,["frequencyPenalty"]);w!=null&&y(r,["frequencyPenalty"],w);const S=x(e,["seed"]);S!=null&&y(r,["seed"],S);const T=x(e,["responseMimeType"]);T!=null&&y(r,["responseMimeType"],T);const E=x(e,["responseSchema"]);E!=null&&y(r,["responseSchema"],Yg(E));const M=x(e,["responseJsonSchema"]);if(M!=null&&y(r,["responseJsonSchema"],M),x(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(x(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const D=x(e,["safetySettings"]);if(n!==void 0&&D!=null){let re=D;Array.isArray(re)&&(re=re.map(le=>dD(le))),y(n,["safetySettings"],re)}const H=x(e,["tools"]);if(n!==void 0&&H!=null){let re=bi(H);Array.isArray(re)&&(re=re.map(le=>uD(xi(le)))),y(n,["tools"],re)}const V=x(e,["toolConfig"]);if(n!==void 0&&V!=null&&y(n,["toolConfig"],V),x(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const z=x(e,["cachedContent"]);n!==void 0&&z!=null&&y(n,["cachedContent"],ds(t,z));const P=x(e,["responseModalities"]);P!=null&&y(r,["responseModalities"],P);const te=x(e,["mediaResolution"]);te!=null&&y(r,["mediaResolution"],te);const K=x(e,["speechConfig"]);if(K!=null&&y(r,["speechConfig"],Wg(K)),x(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ce=x(e,["thinkingConfig"]);ce!=null&&y(r,["thinkingConfig"],ce);const ye=x(e,["imageConfig"]);return ye!=null&&y(r,["imageConfig"],ye),r}function WI(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=x(t,["candidates"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(h=>_I(h))),y(e,["candidates"],f)}const s=x(t,["modelVersion"]);s!=null&&y(e,["modelVersion"],s);const i=x(t,["promptFeedback"]);i!=null&&y(e,["promptFeedback"],i);const c=x(t,["responseId"]);c!=null&&y(e,["responseId"],c);const d=x(t,["usageMetadata"]);return d!=null&&y(e,["usageMetadata"],d),e}function XI(t,e){const n={},r=x(e,["name"]);return r!=null&&y(n,["_url","name"],yi(t,r)),n}function QI(t,e){const n={},r=x(e,["name"]);return r!=null&&y(n,["_url","name"],yi(t,r)),n}function ZI(t){const e={};if(x(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=x(t,["enableWidget"]);return n!=null&&y(e,["enableWidget"],n),e}function eD(t){const e={};if(x(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(x(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=x(t,["timeRangeFilter"]);return n!=null&&y(e,["timeRangeFilter"],n),e}function tD(t,e){const n={},r=x(e,["model"]);r!=null&&y(n,["request","model"],$e(t,r));const s=x(e,["contents"]);if(s!=null){let d=tr(s);Array.isArray(d)&&(d=d.map(f=>Xw(f))),y(n,["request","contents"],d)}const i=x(e,["metadata"]);i!=null&&y(n,["metadata"],i);const c=x(e,["config"]);return c!=null&&y(n,["request","generationConfig"],YI(t,c,x(n,["request"],{}))),n}function nD(t){const e={},n=x(t,["response"]);n!=null&&y(e,["response"],WI(n));const r=x(t,["error"]);return r!=null&&y(e,["error"],r),e}function rD(t,e){const n={},r=x(t,["pageSize"]);e!==void 0&&r!=null&&y(e,["_query","pageSize"],r);const s=x(t,["pageToken"]);if(e!==void 0&&s!=null&&y(e,["_query","pageToken"],s),x(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function sD(t,e){const n={},r=x(t,["pageSize"]);e!==void 0&&r!=null&&y(e,["_query","pageSize"],r);const s=x(t,["pageToken"]);e!==void 0&&s!=null&&y(e,["_query","pageToken"],s);const i=x(t,["filter"]);return e!==void 0&&i!=null&&y(e,["_query","filter"],i),n}function oD(t){const e={},n=x(t,["config"]);return n!=null&&rD(n,e),e}function aD(t){const e={},n=x(t,["config"]);return n!=null&&sD(n,e),e}function iD(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=x(t,["nextPageToken"]);r!=null&&y(e,["nextPageToken"],r);const s=x(t,["operations"]);if(s!=null){let i=s;Array.isArray(i)&&(i=i.map(c=>Fd(c))),y(e,["batchJobs"],i)}return e}function lD(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=x(t,["nextPageToken"]);r!=null&&y(e,["nextPageToken"],r);const s=x(t,["batchPredictionJobs"]);if(s!=null){let i=s;Array.isArray(i)&&(i=i.map(c=>$p(c))),y(e,["batchJobs"],i)}return e}function cD(t){const e={},n=x(t,["functionCall"]);n!=null&&y(e,["functionCall"],n);const r=x(t,["codeExecutionResult"]);r!=null&&y(e,["codeExecutionResult"],r);const s=x(t,["executableCode"]);s!=null&&y(e,["executableCode"],s);const i=x(t,["fileData"]);i!=null&&y(e,["fileData"],KI(i));const c=x(t,["functionResponse"]);c!=null&&y(e,["functionResponse"],c);const d=x(t,["inlineData"]);d!=null&&y(e,["inlineData"],RI(d));const f=x(t,["text"]);f!=null&&y(e,["text"],f);const h=x(t,["thought"]);h!=null&&y(e,["thought"],h);const p=x(t,["thoughtSignature"]);p!=null&&y(e,["thoughtSignature"],p);const g=x(t,["videoMetadata"]);return g!=null&&y(e,["videoMetadata"],g),e}function dD(t){const e={},n=x(t,["category"]);if(n!=null&&y(e,["category"],n),x(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=x(t,["threshold"]);return r!=null&&y(e,["threshold"],r),e}function uD(t){const e={},n=x(t,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(g=>g)),y(e,["functionDeclarations"],p)}if(x(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=x(t,["googleSearchRetrieval"]);r!=null&&y(e,["googleSearchRetrieval"],r);const s=x(t,["computerUse"]);s!=null&&y(e,["computerUse"],s);const i=x(t,["fileSearch"]);i!=null&&y(e,["fileSearch"],i);const c=x(t,["codeExecution"]);if(c!=null&&y(e,["codeExecution"],c),x(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const d=x(t,["googleMaps"]);d!=null&&y(e,["googleMaps"],ZI(d));const f=x(t,["googleSearch"]);f!=null&&y(e,["googleSearch"],eD(f));const h=x(t,["urlContext"]);return h!=null&&y(e,["urlContext"],h),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var ss;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(ss||(ss={}));class ca{constructor(e,n,r,s){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,r,s)}init(e,n,r){var s,i;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let c={config:{}};!r||Object.keys(r).length===0?c={config:{}}:typeof r=="object"?c=Object.assign({},r):c=r,c.config&&(c.config.pageToken=n.nextPageToken),this.paramsInternal=c,this.pageInternalSize=(i=(s=c.config)===null||s===void 0?void 0:s.pageSize)!==null&&i!==void 0?i:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class fD extends cs{constructor(e){super(),this.apiClient=e,this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)},this.list=async(n={})=>new ca(ss.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n)}createInlinedGenerateContentRequest(e){const n=v2(this.apiClient,e),r=n._url,s=ue("{model}:batchGenerateContent",r),d=n.batch.inputConfig.requests,f=d.requests,h=[];for(const p of f){const g=Object.assign({},p);if(g.systemInstruction){const b=g.systemInstruction;delete g.systemInstruction;const N=g.request;N.systemInstruction=b,g.request=N}h.push(g)}return d.requests=h,delete n.config,delete n._url,delete n._query,{path:s,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const r=n?Object.assign({},n):{},s=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${s}`),r.dest===void 0){const i=this.getGcsUri(e),c=this.getBigqueryUri(e);if(i)i.endsWith(".jsonl")?r.dest=`${i.slice(0,-6)}/dest`:r.dest=`${i}_dest_${s}`;else if(c)r.dest=`${c}_dest_${s}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(e){var n,r,s,i;let c,d="",f={};if(this.apiClient.isVertexAI()){const h=BI(this.apiClient,e);return d=ue("batchPredictionJobs",h._url),f=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),c.then(p=>$p(p))}else{const h=v2(this.apiClient,e);return d=ue("{model}:batchGenerateContent",h._url),f=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),c.then(p=>Fd(p))}}async createEmbeddingsInternal(e){var n,r;let s,i="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=UI(this.apiClient,e);return i=ue("{model}:asyncBatchEmbedContent",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:i,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),s.then(f=>Fd(f))}}async get(e){var n,r,s,i;let c,d="",f={};if(this.apiClient.isVertexAI()){const h=QI(this.apiClient,e);return d=ue("batchPredictionJobs/{name}",h._url),f=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),c.then(p=>$p(p))}else{const h=XI(this.apiClient,e);return d=ue("batches/{name}",h._url),f=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),c.then(p=>Fd(p))}}async cancel(e){var n,r,s,i;let c="",d={};if(this.apiClient.isVertexAI()){const f=DI(this.apiClient,e);c=ue("batchPredictionJobs/{name}:cancel",f._url),d=f._query,delete f._url,delete f._query,await this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const f=II(this.apiClient,e);c=ue("batches/{name}:cancel",f._url),d=f._query,delete f._url,delete f._query,await this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}}async listInternal(e){var n,r,s,i;let c,d="",f={};if(this.apiClient.isVertexAI()){const h=aD(e);return d=ue("batchPredictionJobs",h._url),f=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(g=>{const b=g;return b.sdkHttpResponse={headers:p.headers},b})),c.then(p=>{const g=lD(p),b=new g2;return Object.assign(b,g),b})}else{const h=oD(e);return d=ue("batches",h._url),f=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json().then(g=>{const b=g;return b.sdkHttpResponse={headers:p.headers},b})),c.then(p=>{const g=iD(p),b=new g2;return Object.assign(b,g),b})}}async delete(e){var n,r,s,i;let c,d="",f={};if(this.apiClient.isVertexAI()){const h=VI(this.apiClient,e);return d=ue("batchPredictionJobs/{name}",h._url),f=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(g=>{const b=g;return b.sdkHttpResponse={headers:p.headers},b})),c.then(p=>FI(p))}else{const h=HI(this.apiClient,e);return d=ue("batches/{name}",h._url),f=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json().then(g=>{const b=g;return b.sdkHttpResponse={headers:p.headers},b})),c.then(p=>qI(p))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function hD(t){const e={},n=x(t,["data"]);if(n!=null&&y(e,["data"],n),x(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=x(t,["mimeType"]);return r!=null&&y(e,["mimeType"],r),e}function N2(t){const e={},n=x(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(i=>_D(i))),y(e,["parts"],s)}const r=x(t,["role"]);return r!=null&&y(e,["role"],r),e}function mD(t,e){const n={},r=x(t,["ttl"]);e!==void 0&&r!=null&&y(e,["ttl"],r);const s=x(t,["expireTime"]);e!==void 0&&s!=null&&y(e,["expireTime"],s);const i=x(t,["displayName"]);e!==void 0&&i!=null&&y(e,["displayName"],i);const c=x(t,["contents"]);if(e!==void 0&&c!=null){let p=tr(c);Array.isArray(p)&&(p=p.map(g=>N2(g))),y(e,["contents"],p)}const d=x(t,["systemInstruction"]);e!==void 0&&d!=null&&y(e,["systemInstruction"],N2(en(d)));const f=x(t,["tools"]);if(e!==void 0&&f!=null){let p=f;Array.isArray(p)&&(p=p.map(g=>PD(g))),y(e,["tools"],p)}const h=x(t,["toolConfig"]);if(e!==void 0&&h!=null&&y(e,["toolConfig"],h),x(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function pD(t,e){const n={},r=x(t,["ttl"]);e!==void 0&&r!=null&&y(e,["ttl"],r);const s=x(t,["expireTime"]);e!==void 0&&s!=null&&y(e,["expireTime"],s);const i=x(t,["displayName"]);e!==void 0&&i!=null&&y(e,["displayName"],i);const c=x(t,["contents"]);if(e!==void 0&&c!=null){let g=tr(c);Array.isArray(g)&&(g=g.map(b=>b)),y(e,["contents"],g)}const d=x(t,["systemInstruction"]);e!==void 0&&d!=null&&y(e,["systemInstruction"],en(d));const f=x(t,["tools"]);if(e!==void 0&&f!=null){let g=f;Array.isArray(g)&&(g=g.map(b=>LD(b))),y(e,["tools"],g)}const h=x(t,["toolConfig"]);e!==void 0&&h!=null&&y(e,["toolConfig"],h);const p=x(t,["kmsKeyName"]);return e!==void 0&&p!=null&&y(e,["encryption_spec","kmsKeyName"],p),n}function gD(t,e){const n={},r=x(e,["model"]);r!=null&&y(n,["model"],zw(t,r));const s=x(e,["config"]);return s!=null&&mD(s,n),n}function xD(t,e){const n={},r=x(e,["model"]);r!=null&&y(n,["model"],zw(t,r));const s=x(e,["config"]);return s!=null&&pD(s,n),n}function bD(t,e){const n={},r=x(e,["name"]);return r!=null&&y(n,["_url","name"],ds(t,r)),n}function yD(t,e){const n={},r=x(e,["name"]);return r!=null&&y(n,["_url","name"],ds(t,r)),n}function vD(t){const e={},n=x(t,["sdkHttpResponse"]);return n!=null&&y(e,["sdkHttpResponse"],n),e}function ND(t){const e={},n=x(t,["sdkHttpResponse"]);return n!=null&&y(e,["sdkHttpResponse"],n),e}function CD(t){const e={};if(x(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=x(t,["fileUri"]);n!=null&&y(e,["fileUri"],n);const r=x(t,["mimeType"]);return r!=null&&y(e,["mimeType"],r),e}function wD(t){const e={};if(x(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=x(t,["description"]);n!=null&&y(e,["description"],n);const r=x(t,["name"]);r!=null&&y(e,["name"],r);const s=x(t,["parameters"]);s!=null&&y(e,["parameters"],s);const i=x(t,["parametersJsonSchema"]);i!=null&&y(e,["parametersJsonSchema"],i);const c=x(t,["response"]);c!=null&&y(e,["response"],c);const d=x(t,["responseJsonSchema"]);return d!=null&&y(e,["responseJsonSchema"],d),e}function SD(t,e){const n={},r=x(e,["name"]);return r!=null&&y(n,["_url","name"],ds(t,r)),n}function TD(t,e){const n={},r=x(e,["name"]);return r!=null&&y(n,["_url","name"],ds(t,r)),n}function kD(t){const e={};if(x(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=x(t,["enableWidget"]);return n!=null&&y(e,["enableWidget"],n),e}function ED(t){const e={};if(x(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(x(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=x(t,["timeRangeFilter"]);return n!=null&&y(e,["timeRangeFilter"],n),e}function AD(t,e){const n={},r=x(t,["pageSize"]);e!==void 0&&r!=null&&y(e,["_query","pageSize"],r);const s=x(t,["pageToken"]);return e!==void 0&&s!=null&&y(e,["_query","pageToken"],s),n}function jD(t,e){const n={},r=x(t,["pageSize"]);e!==void 0&&r!=null&&y(e,["_query","pageSize"],r);const s=x(t,["pageToken"]);return e!==void 0&&s!=null&&y(e,["_query","pageToken"],s),n}function MD(t){const e={},n=x(t,["config"]);return n!=null&&AD(n,e),e}function RD(t){const e={},n=x(t,["config"]);return n!=null&&jD(n,e),e}function ID(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=x(t,["nextPageToken"]);r!=null&&y(e,["nextPageToken"],r);const s=x(t,["cachedContents"]);if(s!=null){let i=s;Array.isArray(i)&&(i=i.map(c=>c)),y(e,["cachedContents"],i)}return e}function DD(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=x(t,["nextPageToken"]);r!=null&&y(e,["nextPageToken"],r);const s=x(t,["cachedContents"]);if(s!=null){let i=s;Array.isArray(i)&&(i=i.map(c=>c)),y(e,["cachedContents"],i)}return e}function _D(t){const e={},n=x(t,["functionCall"]);n!=null&&y(e,["functionCall"],n);const r=x(t,["codeExecutionResult"]);r!=null&&y(e,["codeExecutionResult"],r);const s=x(t,["executableCode"]);s!=null&&y(e,["executableCode"],s);const i=x(t,["fileData"]);i!=null&&y(e,["fileData"],CD(i));const c=x(t,["functionResponse"]);c!=null&&y(e,["functionResponse"],c);const d=x(t,["inlineData"]);d!=null&&y(e,["inlineData"],hD(d));const f=x(t,["text"]);f!=null&&y(e,["text"],f);const h=x(t,["thought"]);h!=null&&y(e,["thought"],h);const p=x(t,["thoughtSignature"]);p!=null&&y(e,["thoughtSignature"],p);const g=x(t,["videoMetadata"]);return g!=null&&y(e,["videoMetadata"],g),e}function PD(t){const e={},n=x(t,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(g=>g)),y(e,["functionDeclarations"],p)}if(x(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=x(t,["googleSearchRetrieval"]);r!=null&&y(e,["googleSearchRetrieval"],r);const s=x(t,["computerUse"]);s!=null&&y(e,["computerUse"],s);const i=x(t,["fileSearch"]);i!=null&&y(e,["fileSearch"],i);const c=x(t,["codeExecution"]);if(c!=null&&y(e,["codeExecution"],c),x(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const d=x(t,["googleMaps"]);d!=null&&y(e,["googleMaps"],kD(d));const f=x(t,["googleSearch"]);f!=null&&y(e,["googleSearch"],ED(f));const h=x(t,["urlContext"]);return h!=null&&y(e,["urlContext"],h),e}function LD(t){const e={},n=x(t,["functionDeclarations"]);if(n!=null){let g=n;Array.isArray(g)&&(g=g.map(b=>wD(b))),y(e,["functionDeclarations"],g)}const r=x(t,["retrieval"]);r!=null&&y(e,["retrieval"],r);const s=x(t,["googleSearchRetrieval"]);s!=null&&y(e,["googleSearchRetrieval"],s);const i=x(t,["computerUse"]);if(i!=null&&y(e,["computerUse"],i),x(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const c=x(t,["codeExecution"]);c!=null&&y(e,["codeExecution"],c);const d=x(t,["enterpriseWebSearch"]);d!=null&&y(e,["enterpriseWebSearch"],d);const f=x(t,["googleMaps"]);f!=null&&y(e,["googleMaps"],f);const h=x(t,["googleSearch"]);h!=null&&y(e,["googleSearch"],h);const p=x(t,["urlContext"]);return p!=null&&y(e,["urlContext"],p),e}function OD(t,e){const n={},r=x(t,["ttl"]);e!==void 0&&r!=null&&y(e,["ttl"],r);const s=x(t,["expireTime"]);return e!==void 0&&s!=null&&y(e,["expireTime"],s),n}function BD(t,e){const n={},r=x(t,["ttl"]);e!==void 0&&r!=null&&y(e,["ttl"],r);const s=x(t,["expireTime"]);return e!==void 0&&s!=null&&y(e,["expireTime"],s),n}function zD(t,e){const n={},r=x(e,["name"]);r!=null&&y(n,["_url","name"],ds(t,r));const s=x(e,["config"]);return s!=null&&OD(s,n),n}function UD(t,e){const n={},r=x(e,["name"]);r!=null&&y(n,["_url","name"],ds(t,r));const s=x(e,["config"]);return s!=null&&BD(s,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class HD extends cs{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new ca(ss.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(e){var n,r,s,i;let c,d="",f={};if(this.apiClient.isVertexAI()){const h=xD(this.apiClient,e);return d=ue("cachedContents",h._url),f=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),c.then(p=>p)}else{const h=gD(this.apiClient,e);return d=ue("cachedContents",h._url),f=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),c.then(p=>p)}}async get(e){var n,r,s,i;let c,d="",f={};if(this.apiClient.isVertexAI()){const h=TD(this.apiClient,e);return d=ue("{name}",h._url),f=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),c.then(p=>p)}else{const h=SD(this.apiClient,e);return d=ue("{name}",h._url),f=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),c.then(p=>p)}}async delete(e){var n,r,s,i;let c,d="",f={};if(this.apiClient.isVertexAI()){const h=yD(this.apiClient,e);return d=ue("{name}",h._url),f=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(g=>{const b=g;return b.sdkHttpResponse={headers:p.headers},b})),c.then(p=>{const g=ND(p),b=new m2;return Object.assign(b,g),b})}else{const h=bD(this.apiClient,e);return d=ue("{name}",h._url),f=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json().then(g=>{const b=g;return b.sdkHttpResponse={headers:p.headers},b})),c.then(p=>{const g=vD(p),b=new m2;return Object.assign(b,g),b})}}async update(e){var n,r,s,i;let c,d="",f={};if(this.apiClient.isVertexAI()){const h=UD(this.apiClient,e);return d=ue("{name}",h._url),f=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),c.then(p=>p)}else{const h=zD(this.apiClient,e);return d=ue("{name}",h._url),f=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),c.then(p=>p)}}async listInternal(e){var n,r,s,i;let c,d="",f={};if(this.apiClient.isVertexAI()){const h=RD(e);return d=ue("cachedContents",h._url),f=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(g=>{const b=g;return b.sdkHttpResponse={headers:p.headers},b})),c.then(p=>{const g=DD(p),b=new p2;return Object.assign(b,g),b})}else{const h=MD(e);return d=ue("cachedContents",h._url),f=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json().then(g=>{const b=g;return b.sdkHttpResponse={headers:p.headers},b})),c.then(p=>{const g=ID(p),b=new p2;return Object.assign(b,g),b})}}}function C2(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function lt(t){return this instanceof lt?(this.v=t,this):new lt(t)}function oi(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),s,i=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),d("next"),d("throw"),d("return",c),s[Symbol.asyncIterator]=function(){return this},s;function c(N){return function(w){return Promise.resolve(w).then(N,g)}}function d(N,w){r[N]&&(s[N]=function(S){return new Promise(function(T,E){i.push([N,S,T,E])>1||f(N,S)})},w&&(s[N]=w(s[N])))}function f(N,w){try{h(r[N](w))}catch(S){b(i[0][3],S)}}function h(N){N.value instanceof lt?Promise.resolve(N.value.v).then(p,g):b(i[0][2],N)}function p(N){f("next",N)}function g(N){f("throw",N)}function b(N,w){N(w),i.shift(),i.length&&f(i[0][0],i[0][1])}}function Ll(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof C2=="function"?C2(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(i){n[i]=t[i]&&function(c){return new Promise(function(d,f){c=t[i](c),s(d,f,c.done,c.value)})}}function s(i,c,d,f){Promise.resolve(f).then(function(h){i({value:h,done:d})},c)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function VD(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:Qw(n)}function Qw(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function qD(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function w2(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let r=0;for(;r<n;)if(t[r].role==="user")e.push(t[r]),r++;else{const s=[];let i=!0;for(;r<n&&t[r].role==="model";)s.push(t[r]),i&&!Qw(t[r])&&(i=!1),r++;i?e.push(...s):e.pop()}return e}class FD{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new GD(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class GD{constructor(e,n,r,s={},i=[]){this.apiClient=e,this.modelsModule=n,this.model=r,this.config=s,this.history=i,this.sendPromise=Promise.resolve(),qD(i)}async sendMessage(e){var n;await this.sendPromise;const r=en(e.message),s=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var i,c,d;const f=await s,h=(c=(i=f.candidates)===null||i===void 0?void 0:i[0])===null||c===void 0?void 0:c.content,p=f.automaticFunctionCallingHistory,g=this.getHistory(!0).length;let b=[];p!=null&&(b=(d=p.slice(g))!==null&&d!==void 0?d:[]);const N=h?[h]:[];this.recordHistory(r,N,b)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),s}async sendMessageStream(e){var n;await this.sendPromise;const r=en(e.message),s=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=s.then(()=>{}).catch(()=>{});const i=await s;return this.processStreamResponse(i,r)}getHistory(e=!1){const n=e?w2(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){var r,s;return oi(this,arguments,function*(){var c,d,f,h;const p=[];try{for(var g=!0,b=Ll(e),N;N=yield lt(b.next()),c=N.done,!c;g=!0){h=N.value,g=!1;const w=h;if(VD(w)){const S=(s=(r=w.candidates)===null||r===void 0?void 0:r[0])===null||s===void 0?void 0:s.content;S!==void 0&&p.push(S)}yield yield lt(w)}}catch(w){d={error:w}}finally{try{!g&&!c&&(f=b.return)&&(yield lt(f.call(b)))}finally{if(d)throw d.error}}this.recordHistory(n,p)})}recordHistory(e,n,r){let s=[];n.length>0&&n.every(i=>i.role!==void 0)?s=n:s.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...w2(r)):this.history.push(e),this.history.push(...s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class lf extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,lf.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function $D(t){const e={},n=x(t,["file"]);return n!=null&&y(e,["file"],n),e}function JD(t){const e={},n=x(t,["sdkHttpResponse"]);return n!=null&&y(e,["sdkHttpResponse"],n),e}function KD(t){const e={},n=x(t,["name"]);return n!=null&&y(e,["_url","file"],Gw(n)),e}function YD(t){const e={},n=x(t,["sdkHttpResponse"]);return n!=null&&y(e,["sdkHttpResponse"],n),e}function WD(t){const e={},n=x(t,["name"]);return n!=null&&y(e,["_url","file"],Gw(n)),e}function XD(t,e){const n={},r=x(t,["pageSize"]);e!==void 0&&r!=null&&y(e,["_query","pageSize"],r);const s=x(t,["pageToken"]);return e!==void 0&&s!=null&&y(e,["_query","pageToken"],s),n}function QD(t){const e={},n=x(t,["config"]);return n!=null&&XD(n,e),e}function ZD(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=x(t,["nextPageToken"]);r!=null&&y(e,["nextPageToken"],r);const s=x(t,["files"]);if(s!=null){let i=s;Array.isArray(i)&&(i=i.map(c=>c)),y(e,["files"],i)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class e6 extends cs{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new ca(ss.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,r;let s,i="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=QD(e);return i=ue("files",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:i,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),s.then(f=>{const h=ZD(f),p=new uI;return Object.assign(p,h),p})}}async createInternal(e){var n,r;let s,i="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=$D(e);return i=ue("upload/v1beta/files",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:i,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),s.then(f=>{const h=JD(f),p=new fI;return Object.assign(p,h),p})}}async get(e){var n,r;let s,i="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=WD(e);return i=ue("files/{file}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:i,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),s.then(f=>f)}}async delete(e){var n,r;let s,i="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=KD(e);return i=ue("files/{file}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:i,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),s.then(f=>{const h=YD(f),p=new hI;return Object.assign(p,h),p})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Gd(t){const e={},n=x(t,["data"]);if(n!=null&&y(e,["data"],n),x(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=x(t,["mimeType"]);return r!=null&&y(e,["mimeType"],r),e}function t6(t){const e={},n=x(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(i=>g6(i))),y(e,["parts"],s)}const r=x(t,["role"]);return r!=null&&y(e,["role"],r),e}function n6(t){const e={};if(x(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=x(t,["fileUri"]);n!=null&&y(e,["fileUri"],n);const r=x(t,["mimeType"]);return r!=null&&y(e,["mimeType"],r),e}function r6(t){const e={};if(x(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=x(t,["description"]);n!=null&&y(e,["description"],n);const r=x(t,["name"]);r!=null&&y(e,["name"],r);const s=x(t,["parameters"]);s!=null&&y(e,["parameters"],s);const i=x(t,["parametersJsonSchema"]);i!=null&&y(e,["parametersJsonSchema"],i);const c=x(t,["response"]);c!=null&&y(e,["response"],c);const d=x(t,["responseJsonSchema"]);return d!=null&&y(e,["responseJsonSchema"],d),e}function s6(t){const e={},n=x(t,["modelSelectionConfig"]);n!=null&&y(e,["modelConfig"],n);const r=x(t,["responseJsonSchema"]);r!=null&&y(e,["responseJsonSchema"],r);const s=x(t,["audioTimestamp"]);s!=null&&y(e,["audioTimestamp"],s);const i=x(t,["candidateCount"]);i!=null&&y(e,["candidateCount"],i);const c=x(t,["enableAffectiveDialog"]);c!=null&&y(e,["enableAffectiveDialog"],c);const d=x(t,["frequencyPenalty"]);d!=null&&y(e,["frequencyPenalty"],d);const f=x(t,["logprobs"]);f!=null&&y(e,["logprobs"],f);const h=x(t,["maxOutputTokens"]);h!=null&&y(e,["maxOutputTokens"],h);const p=x(t,["mediaResolution"]);p!=null&&y(e,["mediaResolution"],p);const g=x(t,["presencePenalty"]);g!=null&&y(e,["presencePenalty"],g);const b=x(t,["responseLogprobs"]);b!=null&&y(e,["responseLogprobs"],b);const N=x(t,["responseMimeType"]);N!=null&&y(e,["responseMimeType"],N);const w=x(t,["responseModalities"]);w!=null&&y(e,["responseModalities"],w);const S=x(t,["responseSchema"]);S!=null&&y(e,["responseSchema"],S);const T=x(t,["routingConfig"]);T!=null&&y(e,["routingConfig"],T);const E=x(t,["seed"]);E!=null&&y(e,["seed"],E);const M=x(t,["speechConfig"]);M!=null&&y(e,["speechConfig"],Zw(M));const D=x(t,["stopSequences"]);D!=null&&y(e,["stopSequences"],D);const H=x(t,["temperature"]);H!=null&&y(e,["temperature"],H);const V=x(t,["thinkingConfig"]);V!=null&&y(e,["thinkingConfig"],V);const z=x(t,["topK"]);z!=null&&y(e,["topK"],z);const P=x(t,["topP"]);if(P!=null&&y(e,["topP"],P),x(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function o6(t){const e={};if(x(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=x(t,["enableWidget"]);return n!=null&&y(e,["enableWidget"],n),e}function a6(t){const e={};if(x(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(x(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=x(t,["timeRangeFilter"]);return n!=null&&y(e,["timeRangeFilter"],n),e}function i6(t,e){const n={},r=x(t,["generationConfig"]);e!==void 0&&r!=null&&y(e,["setup","generationConfig"],r);const s=x(t,["responseModalities"]);e!==void 0&&s!=null&&y(e,["setup","generationConfig","responseModalities"],s);const i=x(t,["temperature"]);e!==void 0&&i!=null&&y(e,["setup","generationConfig","temperature"],i);const c=x(t,["topP"]);e!==void 0&&c!=null&&y(e,["setup","generationConfig","topP"],c);const d=x(t,["topK"]);e!==void 0&&d!=null&&y(e,["setup","generationConfig","topK"],d);const f=x(t,["maxOutputTokens"]);e!==void 0&&f!=null&&y(e,["setup","generationConfig","maxOutputTokens"],f);const h=x(t,["mediaResolution"]);e!==void 0&&h!=null&&y(e,["setup","generationConfig","mediaResolution"],h);const p=x(t,["seed"]);e!==void 0&&p!=null&&y(e,["setup","generationConfig","seed"],p);const g=x(t,["speechConfig"]);e!==void 0&&g!=null&&y(e,["setup","generationConfig","speechConfig"],Xg(g));const b=x(t,["thinkingConfig"]);e!==void 0&&b!=null&&y(e,["setup","generationConfig","thinkingConfig"],b);const N=x(t,["enableAffectiveDialog"]);e!==void 0&&N!=null&&y(e,["setup","generationConfig","enableAffectiveDialog"],N);const w=x(t,["systemInstruction"]);e!==void 0&&w!=null&&y(e,["setup","systemInstruction"],t6(en(w)));const S=x(t,["tools"]);if(e!==void 0&&S!=null){let z=bi(S);Array.isArray(z)&&(z=z.map(P=>b6(xi(P)))),y(e,["setup","tools"],z)}const T=x(t,["sessionResumption"]);e!==void 0&&T!=null&&y(e,["setup","sessionResumption"],x6(T));const E=x(t,["inputAudioTranscription"]);e!==void 0&&E!=null&&y(e,["setup","inputAudioTranscription"],E);const M=x(t,["outputAudioTranscription"]);e!==void 0&&M!=null&&y(e,["setup","outputAudioTranscription"],M);const D=x(t,["realtimeInputConfig"]);e!==void 0&&D!=null&&y(e,["setup","realtimeInputConfig"],D);const H=x(t,["contextWindowCompression"]);e!==void 0&&H!=null&&y(e,["setup","contextWindowCompression"],H);const V=x(t,["proactivity"]);return e!==void 0&&V!=null&&y(e,["setup","proactivity"],V),n}function l6(t,e){const n={},r=x(t,["generationConfig"]);e!==void 0&&r!=null&&y(e,["setup","generationConfig"],s6(r));const s=x(t,["responseModalities"]);e!==void 0&&s!=null&&y(e,["setup","generationConfig","responseModalities"],s);const i=x(t,["temperature"]);e!==void 0&&i!=null&&y(e,["setup","generationConfig","temperature"],i);const c=x(t,["topP"]);e!==void 0&&c!=null&&y(e,["setup","generationConfig","topP"],c);const d=x(t,["topK"]);e!==void 0&&d!=null&&y(e,["setup","generationConfig","topK"],d);const f=x(t,["maxOutputTokens"]);e!==void 0&&f!=null&&y(e,["setup","generationConfig","maxOutputTokens"],f);const h=x(t,["mediaResolution"]);e!==void 0&&h!=null&&y(e,["setup","generationConfig","mediaResolution"],h);const p=x(t,["seed"]);e!==void 0&&p!=null&&y(e,["setup","generationConfig","seed"],p);const g=x(t,["speechConfig"]);e!==void 0&&g!=null&&y(e,["setup","generationConfig","speechConfig"],Zw(Xg(g)));const b=x(t,["thinkingConfig"]);e!==void 0&&b!=null&&y(e,["setup","generationConfig","thinkingConfig"],b);const N=x(t,["enableAffectiveDialog"]);e!==void 0&&N!=null&&y(e,["setup","generationConfig","enableAffectiveDialog"],N);const w=x(t,["systemInstruction"]);e!==void 0&&w!=null&&y(e,["setup","systemInstruction"],en(w));const S=x(t,["tools"]);if(e!==void 0&&S!=null){let z=bi(S);Array.isArray(z)&&(z=z.map(P=>y6(xi(P)))),y(e,["setup","tools"],z)}const T=x(t,["sessionResumption"]);e!==void 0&&T!=null&&y(e,["setup","sessionResumption"],T);const E=x(t,["inputAudioTranscription"]);e!==void 0&&E!=null&&y(e,["setup","inputAudioTranscription"],E);const M=x(t,["outputAudioTranscription"]);e!==void 0&&M!=null&&y(e,["setup","outputAudioTranscription"],M);const D=x(t,["realtimeInputConfig"]);e!==void 0&&D!=null&&y(e,["setup","realtimeInputConfig"],D);const H=x(t,["contextWindowCompression"]);e!==void 0&&H!=null&&y(e,["setup","contextWindowCompression"],H);const V=x(t,["proactivity"]);return e!==void 0&&V!=null&&y(e,["setup","proactivity"],V),n}function c6(t,e){const n={},r=x(e,["model"]);r!=null&&y(n,["setup","model"],$e(t,r));const s=x(e,["config"]);return s!=null&&y(n,["config"],i6(s,n)),n}function d6(t,e){const n={},r=x(e,["model"]);r!=null&&y(n,["setup","model"],$e(t,r));const s=x(e,["config"]);return s!=null&&y(n,["config"],l6(s,n)),n}function u6(t){const e={},n=x(t,["musicGenerationConfig"]);return n!=null&&y(e,["musicGenerationConfig"],n),e}function f6(t){const e={},n=x(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(s=>s)),y(e,["weightedPrompts"],r)}return e}function h6(t){const e={},n=x(t,["media"]);if(n!=null){let h=Uw(n);Array.isArray(h)&&(h=h.map(p=>Gd(p))),y(e,["mediaChunks"],h)}const r=x(t,["audio"]);r!=null&&y(e,["audio"],Gd(Vw(r)));const s=x(t,["audioStreamEnd"]);s!=null&&y(e,["audioStreamEnd"],s);const i=x(t,["video"]);i!=null&&y(e,["video"],Gd(Hw(i)));const c=x(t,["text"]);c!=null&&y(e,["text"],c);const d=x(t,["activityStart"]);d!=null&&y(e,["activityStart"],d);const f=x(t,["activityEnd"]);return f!=null&&y(e,["activityEnd"],f),e}function m6(t){const e={},n=x(t,["media"]);if(n!=null){let h=Uw(n);Array.isArray(h)&&(h=h.map(p=>p)),y(e,["mediaChunks"],h)}const r=x(t,["audio"]);r!=null&&y(e,["audio"],Vw(r));const s=x(t,["audioStreamEnd"]);s!=null&&y(e,["audioStreamEnd"],s);const i=x(t,["video"]);i!=null&&y(e,["video"],Hw(i));const c=x(t,["text"]);c!=null&&y(e,["text"],c);const d=x(t,["activityStart"]);d!=null&&y(e,["activityStart"],d);const f=x(t,["activityEnd"]);return f!=null&&y(e,["activityEnd"],f),e}function p6(t){const e={},n=x(t,["setupComplete"]);n!=null&&y(e,["setupComplete"],n);const r=x(t,["serverContent"]);r!=null&&y(e,["serverContent"],r);const s=x(t,["toolCall"]);s!=null&&y(e,["toolCall"],s);const i=x(t,["toolCallCancellation"]);i!=null&&y(e,["toolCallCancellation"],i);const c=x(t,["usageMetadata"]);c!=null&&y(e,["usageMetadata"],v6(c));const d=x(t,["goAway"]);d!=null&&y(e,["goAway"],d);const f=x(t,["sessionResumptionUpdate"]);return f!=null&&y(e,["sessionResumptionUpdate"],f),e}function g6(t){const e={},n=x(t,["functionCall"]);n!=null&&y(e,["functionCall"],n);const r=x(t,["codeExecutionResult"]);r!=null&&y(e,["codeExecutionResult"],r);const s=x(t,["executableCode"]);s!=null&&y(e,["executableCode"],s);const i=x(t,["fileData"]);i!=null&&y(e,["fileData"],n6(i));const c=x(t,["functionResponse"]);c!=null&&y(e,["functionResponse"],c);const d=x(t,["inlineData"]);d!=null&&y(e,["inlineData"],Gd(d));const f=x(t,["text"]);f!=null&&y(e,["text"],f);const h=x(t,["thought"]);h!=null&&y(e,["thought"],h);const p=x(t,["thoughtSignature"]);p!=null&&y(e,["thoughtSignature"],p);const g=x(t,["videoMetadata"]);return g!=null&&y(e,["videoMetadata"],g),e}function x6(t){const e={},n=x(t,["handle"]);if(n!=null&&y(e,["handle"],n),x(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function Zw(t){const e={},n=x(t,["languageCode"]);n!=null&&y(e,["languageCode"],n);const r=x(t,["voiceConfig"]);if(r!=null&&y(e,["voiceConfig"],r),x(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function b6(t){const e={},n=x(t,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(g=>g)),y(e,["functionDeclarations"],p)}if(x(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=x(t,["googleSearchRetrieval"]);r!=null&&y(e,["googleSearchRetrieval"],r);const s=x(t,["computerUse"]);s!=null&&y(e,["computerUse"],s);const i=x(t,["fileSearch"]);i!=null&&y(e,["fileSearch"],i);const c=x(t,["codeExecution"]);if(c!=null&&y(e,["codeExecution"],c),x(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const d=x(t,["googleMaps"]);d!=null&&y(e,["googleMaps"],o6(d));const f=x(t,["googleSearch"]);f!=null&&y(e,["googleSearch"],a6(f));const h=x(t,["urlContext"]);return h!=null&&y(e,["urlContext"],h),e}function y6(t){const e={},n=x(t,["functionDeclarations"]);if(n!=null){let g=n;Array.isArray(g)&&(g=g.map(b=>r6(b))),y(e,["functionDeclarations"],g)}const r=x(t,["retrieval"]);r!=null&&y(e,["retrieval"],r);const s=x(t,["googleSearchRetrieval"]);s!=null&&y(e,["googleSearchRetrieval"],s);const i=x(t,["computerUse"]);if(i!=null&&y(e,["computerUse"],i),x(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const c=x(t,["codeExecution"]);c!=null&&y(e,["codeExecution"],c);const d=x(t,["enterpriseWebSearch"]);d!=null&&y(e,["enterpriseWebSearch"],d);const f=x(t,["googleMaps"]);f!=null&&y(e,["googleMaps"],f);const h=x(t,["googleSearch"]);h!=null&&y(e,["googleSearch"],h);const p=x(t,["urlContext"]);return p!=null&&y(e,["urlContext"],p),e}function v6(t){const e={},n=x(t,["promptTokenCount"]);n!=null&&y(e,["promptTokenCount"],n);const r=x(t,["cachedContentTokenCount"]);r!=null&&y(e,["cachedContentTokenCount"],r);const s=x(t,["candidatesTokenCount"]);s!=null&&y(e,["responseTokenCount"],s);const i=x(t,["toolUsePromptTokenCount"]);i!=null&&y(e,["toolUsePromptTokenCount"],i);const c=x(t,["thoughtsTokenCount"]);c!=null&&y(e,["thoughtsTokenCount"],c);const d=x(t,["totalTokenCount"]);d!=null&&y(e,["totalTokenCount"],d);const f=x(t,["promptTokensDetails"]);if(f!=null){let N=f;Array.isArray(N)&&(N=N.map(w=>w)),y(e,["promptTokensDetails"],N)}const h=x(t,["cacheTokensDetails"]);if(h!=null){let N=h;Array.isArray(N)&&(N=N.map(w=>w)),y(e,["cacheTokensDetails"],N)}const p=x(t,["candidatesTokensDetails"]);if(p!=null){let N=p;Array.isArray(N)&&(N=N.map(w=>w)),y(e,["responseTokensDetails"],N)}const g=x(t,["toolUsePromptTokensDetails"]);if(g!=null){let N=g;Array.isArray(N)&&(N=N.map(w=>w)),y(e,["toolUsePromptTokensDetails"],N)}const b=x(t,["trafficType"]);return b!=null&&y(e,["trafficType"],b),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function N6(t){const e={},n=x(t,["data"]);if(n!=null&&y(e,["data"],n),x(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=x(t,["mimeType"]);return r!=null&&y(e,["mimeType"],r),e}function C6(t){const e={},n=x(t,["content"]);n!=null&&y(e,["content"],n);const r=x(t,["citationMetadata"]);r!=null&&y(e,["citationMetadata"],w6(r));const s=x(t,["tokenCount"]);s!=null&&y(e,["tokenCount"],s);const i=x(t,["finishReason"]);i!=null&&y(e,["finishReason"],i);const c=x(t,["avgLogprobs"]);c!=null&&y(e,["avgLogprobs"],c);const d=x(t,["groundingMetadata"]);d!=null&&y(e,["groundingMetadata"],d);const f=x(t,["index"]);f!=null&&y(e,["index"],f);const h=x(t,["logprobsResult"]);h!=null&&y(e,["logprobsResult"],h);const p=x(t,["safetyRatings"]);if(p!=null){let b=p;Array.isArray(b)&&(b=b.map(N=>N)),y(e,["safetyRatings"],b)}const g=x(t,["urlContextMetadata"]);return g!=null&&y(e,["urlContextMetadata"],g),e}function w6(t){const e={},n=x(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(s=>s)),y(e,["citations"],r)}return e}function S6(t,e){const n={},r=x(e,["model"]);r!=null&&y(n,["_url","model"],$e(t,r));const s=x(e,["contents"]);if(s!=null){let i=tr(s);Array.isArray(i)&&(i=i.map(c=>c)),y(n,["contents"],i)}return n}function T6(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=x(t,["tokensInfo"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(i=>i)),y(e,["tokensInfo"],s)}return e}function k6(t){const e={},n=x(t,["values"]);n!=null&&y(e,["values"],n);const r=x(t,["statistics"]);return r!=null&&y(e,["statistics"],E6(r)),e}function E6(t){const e={},n=x(t,["truncated"]);n!=null&&y(e,["truncated"],n);const r=x(t,["token_count"]);return r!=null&&y(e,["tokenCount"],r),e}function cf(t){const e={},n=x(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(i=>I_(i))),y(e,["parts"],s)}const r=x(t,["role"]);return r!=null&&y(e,["role"],r),e}function A6(t){const e={},n=x(t,["controlType"]);n!=null&&y(e,["controlType"],n);const r=x(t,["enableControlImageComputation"]);return r!=null&&y(e,["computeControl"],r),e}function j6(t){const e={};if(x(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(x(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(x(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function M6(t,e){const n={},r=x(t,["systemInstruction"]);e!==void 0&&r!=null&&y(e,["systemInstruction"],en(r));const s=x(t,["tools"]);if(e!==void 0&&s!=null){let c=s;Array.isArray(c)&&(c=c.map(d=>sS(d))),y(e,["tools"],c)}const i=x(t,["generationConfig"]);return e!==void 0&&i!=null&&y(e,["generationConfig"],y_(i)),n}function R6(t,e){const n={},r=x(e,["model"]);r!=null&&y(n,["_url","model"],$e(t,r));const s=x(e,["contents"]);if(s!=null){let c=tr(s);Array.isArray(c)&&(c=c.map(d=>cf(d))),y(n,["contents"],c)}const i=x(e,["config"]);return i!=null&&j6(i),n}function I6(t,e){const n={},r=x(e,["model"]);r!=null&&y(n,["_url","model"],$e(t,r));const s=x(e,["contents"]);if(s!=null){let c=tr(s);Array.isArray(c)&&(c=c.map(d=>d)),y(n,["contents"],c)}const i=x(e,["config"]);return i!=null&&M6(i,n),n}function D6(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=x(t,["totalTokens"]);r!=null&&y(e,["totalTokens"],r);const s=x(t,["cachedContentTokenCount"]);return s!=null&&y(e,["cachedContentTokenCount"],s),e}function _6(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=x(t,["totalTokens"]);return r!=null&&y(e,["totalTokens"],r),e}function P6(t,e){const n={},r=x(e,["model"]);return r!=null&&y(n,["_url","name"],$e(t,r)),n}function L6(t,e){const n={},r=x(e,["model"]);return r!=null&&y(n,["_url","name"],$e(t,r)),n}function O6(t){const e={},n=x(t,["sdkHttpResponse"]);return n!=null&&y(e,["sdkHttpResponse"],n),e}function B6(t){const e={},n=x(t,["sdkHttpResponse"]);return n!=null&&y(e,["sdkHttpResponse"],n),e}function z6(t,e){const n={},r=x(t,["outputGcsUri"]);e!==void 0&&r!=null&&y(e,["parameters","storageUri"],r);const s=x(t,["negativePrompt"]);e!==void 0&&s!=null&&y(e,["parameters","negativePrompt"],s);const i=x(t,["numberOfImages"]);e!==void 0&&i!=null&&y(e,["parameters","sampleCount"],i);const c=x(t,["aspectRatio"]);e!==void 0&&c!=null&&y(e,["parameters","aspectRatio"],c);const d=x(t,["guidanceScale"]);e!==void 0&&d!=null&&y(e,["parameters","guidanceScale"],d);const f=x(t,["seed"]);e!==void 0&&f!=null&&y(e,["parameters","seed"],f);const h=x(t,["safetyFilterLevel"]);e!==void 0&&h!=null&&y(e,["parameters","safetySetting"],h);const p=x(t,["personGeneration"]);e!==void 0&&p!=null&&y(e,["parameters","personGeneration"],p);const g=x(t,["includeSafetyAttributes"]);e!==void 0&&g!=null&&y(e,["parameters","includeSafetyAttributes"],g);const b=x(t,["includeRaiReason"]);e!==void 0&&b!=null&&y(e,["parameters","includeRaiReason"],b);const N=x(t,["language"]);e!==void 0&&N!=null&&y(e,["parameters","language"],N);const w=x(t,["outputMimeType"]);e!==void 0&&w!=null&&y(e,["parameters","outputOptions","mimeType"],w);const S=x(t,["outputCompressionQuality"]);e!==void 0&&S!=null&&y(e,["parameters","outputOptions","compressionQuality"],S);const T=x(t,["addWatermark"]);e!==void 0&&T!=null&&y(e,["parameters","addWatermark"],T);const E=x(t,["labels"]);e!==void 0&&E!=null&&y(e,["labels"],E);const M=x(t,["editMode"]);e!==void 0&&M!=null&&y(e,["parameters","editMode"],M);const D=x(t,["baseSteps"]);return e!==void 0&&D!=null&&y(e,["parameters","editConfig","baseSteps"],D),n}function U6(t,e){const n={},r=x(e,["model"]);r!=null&&y(n,["_url","model"],$e(t,r));const s=x(e,["prompt"]);s!=null&&y(n,["instances[0]","prompt"],s);const i=x(e,["referenceImages"]);if(i!=null){let d=i;Array.isArray(d)&&(d=d.map(f=>B_(f))),y(n,["instances[0]","referenceImages"],d)}const c=x(e,["config"]);return c!=null&&z6(c,n),n}function H6(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=x(t,["predictions"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(i=>df(i))),y(e,["generatedImages"],s)}return e}function V6(t,e){const n={},r=x(t,["taskType"]);e!==void 0&&r!=null&&y(e,["requests[]","taskType"],r);const s=x(t,["title"]);e!==void 0&&s!=null&&y(e,["requests[]","title"],s);const i=x(t,["outputDimensionality"]);if(e!==void 0&&i!=null&&y(e,["requests[]","outputDimensionality"],i),x(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(x(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function q6(t,e){const n={},r=x(t,["taskType"]);e!==void 0&&r!=null&&y(e,["instances[]","task_type"],r);const s=x(t,["title"]);e!==void 0&&s!=null&&y(e,["instances[]","title"],s);const i=x(t,["outputDimensionality"]);e!==void 0&&i!=null&&y(e,["parameters","outputDimensionality"],i);const c=x(t,["mimeType"]);e!==void 0&&c!=null&&y(e,["instances[]","mimeType"],c);const d=x(t,["autoTruncate"]);return e!==void 0&&d!=null&&y(e,["parameters","autoTruncate"],d),n}function F6(t,e){const n={},r=x(e,["model"]);r!=null&&y(n,["_url","model"],$e(t,r));const s=x(e,["contents"]);if(s!=null){let d=Kg(t,s);Array.isArray(d)&&(d=d.map(f=>f)),y(n,["requests[]","content"],d)}const i=x(e,["config"]);i!=null&&V6(i,n);const c=x(e,["model"]);return c!==void 0&&y(n,["requests[]","model"],$e(t,c)),n}function G6(t,e){const n={},r=x(e,["model"]);r!=null&&y(n,["_url","model"],$e(t,r));const s=x(e,["contents"]);if(s!=null){let c=Kg(t,s);Array.isArray(c)&&(c=c.map(d=>d)),y(n,["instances[]","content"],c)}const i=x(e,["config"]);return i!=null&&q6(i,n),n}function $6(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=x(t,["embeddings"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(c=>c)),y(e,["embeddings"],i)}const s=x(t,["metadata"]);return s!=null&&y(e,["metadata"],s),e}function J6(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=x(t,["predictions[]","embeddings"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(c=>k6(c))),y(e,["embeddings"],i)}const s=x(t,["metadata"]);return s!=null&&y(e,["metadata"],s),e}function K6(t){const e={},n=x(t,["endpoint"]);n!=null&&y(e,["name"],n);const r=x(t,["deployedModelId"]);return r!=null&&y(e,["deployedModelId"],r),e}function Y6(t){const e={};if(x(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=x(t,["fileUri"]);n!=null&&y(e,["fileUri"],n);const r=x(t,["mimeType"]);return r!=null&&y(e,["mimeType"],r),e}function W6(t){const e={};if(x(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=x(t,["description"]);n!=null&&y(e,["description"],n);const r=x(t,["name"]);r!=null&&y(e,["name"],r);const s=x(t,["parameters"]);s!=null&&y(e,["parameters"],s);const i=x(t,["parametersJsonSchema"]);i!=null&&y(e,["parametersJsonSchema"],i);const c=x(t,["response"]);c!=null&&y(e,["response"],c);const d=x(t,["responseJsonSchema"]);return d!=null&&y(e,["responseJsonSchema"],d),e}function X6(t,e,n){const r={},s=x(e,["systemInstruction"]);n!==void 0&&s!=null&&y(n,["systemInstruction"],cf(en(s)));const i=x(e,["temperature"]);i!=null&&y(r,["temperature"],i);const c=x(e,["topP"]);c!=null&&y(r,["topP"],c);const d=x(e,["topK"]);d!=null&&y(r,["topK"],d);const f=x(e,["candidateCount"]);f!=null&&y(r,["candidateCount"],f);const h=x(e,["maxOutputTokens"]);h!=null&&y(r,["maxOutputTokens"],h);const p=x(e,["stopSequences"]);p!=null&&y(r,["stopSequences"],p);const g=x(e,["responseLogprobs"]);g!=null&&y(r,["responseLogprobs"],g);const b=x(e,["logprobs"]);b!=null&&y(r,["logprobs"],b);const N=x(e,["presencePenalty"]);N!=null&&y(r,["presencePenalty"],N);const w=x(e,["frequencyPenalty"]);w!=null&&y(r,["frequencyPenalty"],w);const S=x(e,["seed"]);S!=null&&y(r,["seed"],S);const T=x(e,["responseMimeType"]);T!=null&&y(r,["responseMimeType"],T);const E=x(e,["responseSchema"]);E!=null&&y(r,["responseSchema"],Yg(E));const M=x(e,["responseJsonSchema"]);if(M!=null&&y(r,["responseJsonSchema"],M),x(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(x(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const D=x(e,["safetySettings"]);if(n!==void 0&&D!=null){let re=D;Array.isArray(re)&&(re=re.map(le=>z_(le))),y(n,["safetySettings"],re)}const H=x(e,["tools"]);if(n!==void 0&&H!=null){let re=bi(H);Array.isArray(re)&&(re=re.map(le=>G_(xi(le)))),y(n,["tools"],re)}const V=x(e,["toolConfig"]);if(n!==void 0&&V!=null&&y(n,["toolConfig"],V),x(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const z=x(e,["cachedContent"]);n!==void 0&&z!=null&&y(n,["cachedContent"],ds(t,z));const P=x(e,["responseModalities"]);P!=null&&y(r,["responseModalities"],P);const te=x(e,["mediaResolution"]);te!=null&&y(r,["mediaResolution"],te);const K=x(e,["speechConfig"]);if(K!=null&&y(r,["speechConfig"],Wg(K)),x(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ce=x(e,["thinkingConfig"]);ce!=null&&y(r,["thinkingConfig"],ce);const ye=x(e,["imageConfig"]);return ye!=null&&y(r,["imageConfig"],ye),r}function Q6(t,e,n){const r={},s=x(e,["systemInstruction"]);n!==void 0&&s!=null&&y(n,["systemInstruction"],en(s));const i=x(e,["temperature"]);i!=null&&y(r,["temperature"],i);const c=x(e,["topP"]);c!=null&&y(r,["topP"],c);const d=x(e,["topK"]);d!=null&&y(r,["topK"],d);const f=x(e,["candidateCount"]);f!=null&&y(r,["candidateCount"],f);const h=x(e,["maxOutputTokens"]);h!=null&&y(r,["maxOutputTokens"],h);const p=x(e,["stopSequences"]);p!=null&&y(r,["stopSequences"],p);const g=x(e,["responseLogprobs"]);g!=null&&y(r,["responseLogprobs"],g);const b=x(e,["logprobs"]);b!=null&&y(r,["logprobs"],b);const N=x(e,["presencePenalty"]);N!=null&&y(r,["presencePenalty"],N);const w=x(e,["frequencyPenalty"]);w!=null&&y(r,["frequencyPenalty"],w);const S=x(e,["seed"]);S!=null&&y(r,["seed"],S);const T=x(e,["responseMimeType"]);T!=null&&y(r,["responseMimeType"],T);const E=x(e,["responseSchema"]);E!=null&&y(r,["responseSchema"],Yg(E));const M=x(e,["responseJsonSchema"]);M!=null&&y(r,["responseJsonSchema"],M);const D=x(e,["routingConfig"]);D!=null&&y(r,["routingConfig"],D);const H=x(e,["modelSelectionConfig"]);H!=null&&y(r,["modelConfig"],H);const V=x(e,["safetySettings"]);if(n!==void 0&&V!=null){let O=V;Array.isArray(O)&&(O=O.map(J=>J)),y(n,["safetySettings"],O)}const z=x(e,["tools"]);if(n!==void 0&&z!=null){let O=bi(z);Array.isArray(O)&&(O=O.map(J=>sS(xi(J)))),y(n,["tools"],O)}const P=x(e,["toolConfig"]);n!==void 0&&P!=null&&y(n,["toolConfig"],P);const te=x(e,["labels"]);n!==void 0&&te!=null&&y(n,["labels"],te);const K=x(e,["cachedContent"]);n!==void 0&&K!=null&&y(n,["cachedContent"],ds(t,K));const ce=x(e,["responseModalities"]);ce!=null&&y(r,["responseModalities"],ce);const ye=x(e,["mediaResolution"]);ye!=null&&y(r,["mediaResolution"],ye);const re=x(e,["speechConfig"]);re!=null&&y(r,["speechConfig"],rS(Wg(re)));const le=x(e,["audioTimestamp"]);le!=null&&y(r,["audioTimestamp"],le);const ge=x(e,["thinkingConfig"]);ge!=null&&y(r,["thinkingConfig"],ge);const Y=x(e,["imageConfig"]);return Y!=null&&y(r,["imageConfig"],Y),r}function S2(t,e){const n={},r=x(e,["model"]);r!=null&&y(n,["_url","model"],$e(t,r));const s=x(e,["contents"]);if(s!=null){let c=tr(s);Array.isArray(c)&&(c=c.map(d=>cf(d))),y(n,["contents"],c)}const i=x(e,["config"]);return i!=null&&y(n,["generationConfig"],X6(t,i,n)),n}function T2(t,e){const n={},r=x(e,["model"]);r!=null&&y(n,["_url","model"],$e(t,r));const s=x(e,["contents"]);if(s!=null){let c=tr(s);Array.isArray(c)&&(c=c.map(d=>d)),y(n,["contents"],c)}const i=x(e,["config"]);return i!=null&&y(n,["generationConfig"],Q6(t,i,n)),n}function k2(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=x(t,["candidates"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(h=>C6(h))),y(e,["candidates"],f)}const s=x(t,["modelVersion"]);s!=null&&y(e,["modelVersion"],s);const i=x(t,["promptFeedback"]);i!=null&&y(e,["promptFeedback"],i);const c=x(t,["responseId"]);c!=null&&y(e,["responseId"],c);const d=x(t,["usageMetadata"]);return d!=null&&y(e,["usageMetadata"],d),e}function E2(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=x(t,["candidates"]);if(r!=null){let h=r;Array.isArray(h)&&(h=h.map(p=>p)),y(e,["candidates"],h)}const s=x(t,["createTime"]);s!=null&&y(e,["createTime"],s);const i=x(t,["modelVersion"]);i!=null&&y(e,["modelVersion"],i);const c=x(t,["promptFeedback"]);c!=null&&y(e,["promptFeedback"],c);const d=x(t,["responseId"]);d!=null&&y(e,["responseId"],d);const f=x(t,["usageMetadata"]);return f!=null&&y(e,["usageMetadata"],f),e}function Z6(t,e){const n={};if(x(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(x(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=x(t,["numberOfImages"]);e!==void 0&&r!=null&&y(e,["parameters","sampleCount"],r);const s=x(t,["aspectRatio"]);e!==void 0&&s!=null&&y(e,["parameters","aspectRatio"],s);const i=x(t,["guidanceScale"]);if(e!==void 0&&i!=null&&y(e,["parameters","guidanceScale"],i),x(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const c=x(t,["safetyFilterLevel"]);e!==void 0&&c!=null&&y(e,["parameters","safetySetting"],c);const d=x(t,["personGeneration"]);e!==void 0&&d!=null&&y(e,["parameters","personGeneration"],d);const f=x(t,["includeSafetyAttributes"]);e!==void 0&&f!=null&&y(e,["parameters","includeSafetyAttributes"],f);const h=x(t,["includeRaiReason"]);e!==void 0&&h!=null&&y(e,["parameters","includeRaiReason"],h);const p=x(t,["language"]);e!==void 0&&p!=null&&y(e,["parameters","language"],p);const g=x(t,["outputMimeType"]);e!==void 0&&g!=null&&y(e,["parameters","outputOptions","mimeType"],g);const b=x(t,["outputCompressionQuality"]);if(e!==void 0&&b!=null&&y(e,["parameters","outputOptions","compressionQuality"],b),x(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(x(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const N=x(t,["imageSize"]);if(e!==void 0&&N!=null&&y(e,["parameters","sampleImageSize"],N),x(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function e_(t,e){const n={},r=x(t,["outputGcsUri"]);e!==void 0&&r!=null&&y(e,["parameters","storageUri"],r);const s=x(t,["negativePrompt"]);e!==void 0&&s!=null&&y(e,["parameters","negativePrompt"],s);const i=x(t,["numberOfImages"]);e!==void 0&&i!=null&&y(e,["parameters","sampleCount"],i);const c=x(t,["aspectRatio"]);e!==void 0&&c!=null&&y(e,["parameters","aspectRatio"],c);const d=x(t,["guidanceScale"]);e!==void 0&&d!=null&&y(e,["parameters","guidanceScale"],d);const f=x(t,["seed"]);e!==void 0&&f!=null&&y(e,["parameters","seed"],f);const h=x(t,["safetyFilterLevel"]);e!==void 0&&h!=null&&y(e,["parameters","safetySetting"],h);const p=x(t,["personGeneration"]);e!==void 0&&p!=null&&y(e,["parameters","personGeneration"],p);const g=x(t,["includeSafetyAttributes"]);e!==void 0&&g!=null&&y(e,["parameters","includeSafetyAttributes"],g);const b=x(t,["includeRaiReason"]);e!==void 0&&b!=null&&y(e,["parameters","includeRaiReason"],b);const N=x(t,["language"]);e!==void 0&&N!=null&&y(e,["parameters","language"],N);const w=x(t,["outputMimeType"]);e!==void 0&&w!=null&&y(e,["parameters","outputOptions","mimeType"],w);const S=x(t,["outputCompressionQuality"]);e!==void 0&&S!=null&&y(e,["parameters","outputOptions","compressionQuality"],S);const T=x(t,["addWatermark"]);e!==void 0&&T!=null&&y(e,["parameters","addWatermark"],T);const E=x(t,["labels"]);e!==void 0&&E!=null&&y(e,["labels"],E);const M=x(t,["imageSize"]);e!==void 0&&M!=null&&y(e,["parameters","sampleImageSize"],M);const D=x(t,["enhancePrompt"]);return e!==void 0&&D!=null&&y(e,["parameters","enhancePrompt"],D),n}function t_(t,e){const n={},r=x(e,["model"]);r!=null&&y(n,["_url","model"],$e(t,r));const s=x(e,["prompt"]);s!=null&&y(n,["instances[0]","prompt"],s);const i=x(e,["config"]);return i!=null&&Z6(i,n),n}function n_(t,e){const n={},r=x(e,["model"]);r!=null&&y(n,["_url","model"],$e(t,r));const s=x(e,["prompt"]);s!=null&&y(n,["instances[0]","prompt"],s);const i=x(e,["config"]);return i!=null&&e_(i,n),n}function r_(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=x(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(c=>p_(c))),y(e,["generatedImages"],i)}const s=x(t,["positivePromptSafetyAttributes"]);return s!=null&&y(e,["positivePromptSafetyAttributes"],tS(s)),e}function s_(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=x(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(c=>df(c))),y(e,["generatedImages"],i)}const s=x(t,["positivePromptSafetyAttributes"]);return s!=null&&y(e,["positivePromptSafetyAttributes"],nS(s)),e}function o_(t,e){const n={},r=x(t,["numberOfVideos"]);if(e!==void 0&&r!=null&&y(e,["parameters","sampleCount"],r),x(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(x(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const s=x(t,["durationSeconds"]);if(e!==void 0&&s!=null&&y(e,["parameters","durationSeconds"],s),x(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const i=x(t,["aspectRatio"]);e!==void 0&&i!=null&&y(e,["parameters","aspectRatio"],i);const c=x(t,["resolution"]);e!==void 0&&c!=null&&y(e,["parameters","resolution"],c);const d=x(t,["personGeneration"]);if(e!==void 0&&d!=null&&y(e,["parameters","personGeneration"],d),x(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const f=x(t,["negativePrompt"]);e!==void 0&&f!=null&&y(e,["parameters","negativePrompt"],f);const h=x(t,["enhancePrompt"]);if(e!==void 0&&h!=null&&y(e,["parameters","enhancePrompt"],h),x(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const p=x(t,["lastFrame"]);e!==void 0&&p!=null&&y(e,["instances[0]","lastFrame"],uf(p));const g=x(t,["referenceImages"]);if(e!==void 0&&g!=null){let b=g;Array.isArray(b)&&(b=b.map(N=>sP(N))),y(e,["instances[0]","referenceImages"],b)}if(x(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(x(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function a_(t,e){const n={},r=x(t,["numberOfVideos"]);e!==void 0&&r!=null&&y(e,["parameters","sampleCount"],r);const s=x(t,["outputGcsUri"]);e!==void 0&&s!=null&&y(e,["parameters","storageUri"],s);const i=x(t,["fps"]);e!==void 0&&i!=null&&y(e,["parameters","fps"],i);const c=x(t,["durationSeconds"]);e!==void 0&&c!=null&&y(e,["parameters","durationSeconds"],c);const d=x(t,["seed"]);e!==void 0&&d!=null&&y(e,["parameters","seed"],d);const f=x(t,["aspectRatio"]);e!==void 0&&f!=null&&y(e,["parameters","aspectRatio"],f);const h=x(t,["resolution"]);e!==void 0&&h!=null&&y(e,["parameters","resolution"],h);const p=x(t,["personGeneration"]);e!==void 0&&p!=null&&y(e,["parameters","personGeneration"],p);const g=x(t,["pubsubTopic"]);e!==void 0&&g!=null&&y(e,["parameters","pubsubTopic"],g);const b=x(t,["negativePrompt"]);e!==void 0&&b!=null&&y(e,["parameters","negativePrompt"],b);const N=x(t,["enhancePrompt"]);e!==void 0&&N!=null&&y(e,["parameters","enhancePrompt"],N);const w=x(t,["generateAudio"]);e!==void 0&&w!=null&&y(e,["parameters","generateAudio"],w);const S=x(t,["lastFrame"]);e!==void 0&&S!=null&&y(e,["instances[0]","lastFrame"],gr(S));const T=x(t,["referenceImages"]);if(e!==void 0&&T!=null){let D=T;Array.isArray(D)&&(D=D.map(H=>oP(H))),y(e,["instances[0]","referenceImages"],D)}const E=x(t,["mask"]);e!==void 0&&E!=null&&y(e,["instances[0]","mask"],rP(E));const M=x(t,["compressionQuality"]);return e!==void 0&&M!=null&&y(e,["parameters","compressionQuality"],M),n}function i_(t){const e={},n=x(t,["name"]);n!=null&&y(e,["name"],n);const r=x(t,["metadata"]);r!=null&&y(e,["metadata"],r);const s=x(t,["done"]);s!=null&&y(e,["done"],s);const i=x(t,["error"]);i!=null&&y(e,["error"],i);const c=x(t,["response","generateVideoResponse"]);return c!=null&&y(e,["response"],u_(c)),e}function l_(t){const e={},n=x(t,["name"]);n!=null&&y(e,["name"],n);const r=x(t,["metadata"]);r!=null&&y(e,["metadata"],r);const s=x(t,["done"]);s!=null&&y(e,["done"],s);const i=x(t,["error"]);i!=null&&y(e,["error"],i);const c=x(t,["response"]);return c!=null&&y(e,["response"],f_(c)),e}function c_(t,e){const n={},r=x(e,["model"]);r!=null&&y(n,["_url","model"],$e(t,r));const s=x(e,["prompt"]);s!=null&&y(n,["instances[0]","prompt"],s);const i=x(e,["image"]);i!=null&&y(n,["instances[0]","image"],uf(i));const c=x(e,["video"]);c!=null&&y(n,["instances[0]","video"],oS(c));const d=x(e,["source"]);d!=null&&h_(d,n);const f=x(e,["config"]);return f!=null&&o_(f,n),n}function d_(t,e){const n={},r=x(e,["model"]);r!=null&&y(n,["_url","model"],$e(t,r));const s=x(e,["prompt"]);s!=null&&y(n,["instances[0]","prompt"],s);const i=x(e,["image"]);i!=null&&y(n,["instances[0]","image"],gr(i));const c=x(e,["video"]);c!=null&&y(n,["instances[0]","video"],aS(c));const d=x(e,["source"]);d!=null&&m_(d,n);const f=x(e,["config"]);return f!=null&&a_(f,n),n}function u_(t){const e={},n=x(t,["generatedSamples"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(c=>x_(c))),y(e,["generatedVideos"],i)}const r=x(t,["raiMediaFilteredCount"]);r!=null&&y(e,["raiMediaFilteredCount"],r);const s=x(t,["raiMediaFilteredReasons"]);return s!=null&&y(e,["raiMediaFilteredReasons"],s),e}function f_(t){const e={},n=x(t,["videos"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(c=>b_(c))),y(e,["generatedVideos"],i)}const r=x(t,["raiMediaFilteredCount"]);r!=null&&y(e,["raiMediaFilteredCount"],r);const s=x(t,["raiMediaFilteredReasons"]);return s!=null&&y(e,["raiMediaFilteredReasons"],s),e}function h_(t,e){const n={},r=x(t,["prompt"]);e!==void 0&&r!=null&&y(e,["instances[0]","prompt"],r);const s=x(t,["image"]);e!==void 0&&s!=null&&y(e,["instances[0]","image"],uf(s));const i=x(t,["video"]);return e!==void 0&&i!=null&&y(e,["instances[0]","video"],oS(i)),n}function m_(t,e){const n={},r=x(t,["prompt"]);e!==void 0&&r!=null&&y(e,["instances[0]","prompt"],r);const s=x(t,["image"]);e!==void 0&&s!=null&&y(e,["instances[0]","image"],gr(s));const i=x(t,["video"]);return e!==void 0&&i!=null&&y(e,["instances[0]","video"],aS(i)),n}function p_(t){const e={},n=x(t,["_self"]);n!=null&&y(e,["image"],S_(n));const r=x(t,["raiFilteredReason"]);r!=null&&y(e,["raiFilteredReason"],r);const s=x(t,["_self"]);return s!=null&&y(e,["safetyAttributes"],tS(s)),e}function df(t){const e={},n=x(t,["_self"]);n!=null&&y(e,["image"],eS(n));const r=x(t,["raiFilteredReason"]);r!=null&&y(e,["raiFilteredReason"],r);const s=x(t,["_self"]);s!=null&&y(e,["safetyAttributes"],nS(s));const i=x(t,["prompt"]);return i!=null&&y(e,["enhancedPrompt"],i),e}function g_(t){const e={},n=x(t,["_self"]);n!=null&&y(e,["mask"],eS(n));const r=x(t,["labels"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(i=>i)),y(e,["labels"],s)}return e}function x_(t){const e={},n=x(t,["video"]);return n!=null&&y(e,["video"],tP(n)),e}function b_(t){const e={},n=x(t,["_self"]);return n!=null&&y(e,["video"],nP(n)),e}function y_(t){const e={},n=x(t,["modelSelectionConfig"]);n!=null&&y(e,["modelConfig"],n);const r=x(t,["responseJsonSchema"]);r!=null&&y(e,["responseJsonSchema"],r);const s=x(t,["audioTimestamp"]);s!=null&&y(e,["audioTimestamp"],s);const i=x(t,["candidateCount"]);i!=null&&y(e,["candidateCount"],i);const c=x(t,["enableAffectiveDialog"]);c!=null&&y(e,["enableAffectiveDialog"],c);const d=x(t,["frequencyPenalty"]);d!=null&&y(e,["frequencyPenalty"],d);const f=x(t,["logprobs"]);f!=null&&y(e,["logprobs"],f);const h=x(t,["maxOutputTokens"]);h!=null&&y(e,["maxOutputTokens"],h);const p=x(t,["mediaResolution"]);p!=null&&y(e,["mediaResolution"],p);const g=x(t,["presencePenalty"]);g!=null&&y(e,["presencePenalty"],g);const b=x(t,["responseLogprobs"]);b!=null&&y(e,["responseLogprobs"],b);const N=x(t,["responseMimeType"]);N!=null&&y(e,["responseMimeType"],N);const w=x(t,["responseModalities"]);w!=null&&y(e,["responseModalities"],w);const S=x(t,["responseSchema"]);S!=null&&y(e,["responseSchema"],S);const T=x(t,["routingConfig"]);T!=null&&y(e,["routingConfig"],T);const E=x(t,["seed"]);E!=null&&y(e,["seed"],E);const M=x(t,["speechConfig"]);M!=null&&y(e,["speechConfig"],rS(M));const D=x(t,["stopSequences"]);D!=null&&y(e,["stopSequences"],D);const H=x(t,["temperature"]);H!=null&&y(e,["temperature"],H);const V=x(t,["thinkingConfig"]);V!=null&&y(e,["thinkingConfig"],V);const z=x(t,["topK"]);z!=null&&y(e,["topK"],z);const P=x(t,["topP"]);if(P!=null&&y(e,["topP"],P),x(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function v_(t,e){const n={},r=x(e,["model"]);return r!=null&&y(n,["_url","name"],$e(t,r)),n}function N_(t,e){const n={},r=x(e,["model"]);return r!=null&&y(n,["_url","name"],$e(t,r)),n}function C_(t){const e={};if(x(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=x(t,["enableWidget"]);return n!=null&&y(e,["enableWidget"],n),e}function w_(t){const e={};if(x(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(x(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=x(t,["timeRangeFilter"]);return n!=null&&y(e,["timeRangeFilter"],n),e}function S_(t){const e={},n=x(t,["bytesBase64Encoded"]);n!=null&&y(e,["imageBytes"],xo(n));const r=x(t,["mimeType"]);return r!=null&&y(e,["mimeType"],r),e}function eS(t){const e={},n=x(t,["gcsUri"]);n!=null&&y(e,["gcsUri"],n);const r=x(t,["bytesBase64Encoded"]);r!=null&&y(e,["imageBytes"],xo(r));const s=x(t,["mimeType"]);return s!=null&&y(e,["mimeType"],s),e}function uf(t){const e={};if(x(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=x(t,["imageBytes"]);n!=null&&y(e,["bytesBase64Encoded"],xo(n));const r=x(t,["mimeType"]);return r!=null&&y(e,["mimeType"],r),e}function gr(t){const e={},n=x(t,["gcsUri"]);n!=null&&y(e,["gcsUri"],n);const r=x(t,["imageBytes"]);r!=null&&y(e,["bytesBase64Encoded"],xo(r));const s=x(t,["mimeType"]);return s!=null&&y(e,["mimeType"],s),e}function T_(t,e,n){const r={},s=x(e,["pageSize"]);n!==void 0&&s!=null&&y(n,["_query","pageSize"],s);const i=x(e,["pageToken"]);n!==void 0&&i!=null&&y(n,["_query","pageToken"],i);const c=x(e,["filter"]);n!==void 0&&c!=null&&y(n,["_query","filter"],c);const d=x(e,["queryBase"]);return n!==void 0&&d!=null&&y(n,["_url","models_url"],$w(t,d)),r}function k_(t,e,n){const r={},s=x(e,["pageSize"]);n!==void 0&&s!=null&&y(n,["_query","pageSize"],s);const i=x(e,["pageToken"]);n!==void 0&&i!=null&&y(n,["_query","pageToken"],i);const c=x(e,["filter"]);n!==void 0&&c!=null&&y(n,["_query","filter"],c);const d=x(e,["queryBase"]);return n!==void 0&&d!=null&&y(n,["_url","models_url"],$w(t,d)),r}function E_(t,e){const n={},r=x(e,["config"]);return r!=null&&T_(t,r,n),n}function A_(t,e){const n={},r=x(e,["config"]);return r!=null&&k_(t,r,n),n}function j_(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=x(t,["nextPageToken"]);r!=null&&y(e,["nextPageToken"],r);const s=x(t,["_self"]);if(s!=null){let i=Jw(s);Array.isArray(i)&&(i=i.map(c=>Jp(c))),y(e,["models"],i)}return e}function M_(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=x(t,["nextPageToken"]);r!=null&&y(e,["nextPageToken"],r);const s=x(t,["_self"]);if(s!=null){let i=Jw(s);Array.isArray(i)&&(i=i.map(c=>Kp(c))),y(e,["models"],i)}return e}function R_(t){const e={},n=x(t,["maskMode"]);n!=null&&y(e,["maskMode"],n);const r=x(t,["segmentationClasses"]);r!=null&&y(e,["maskClasses"],r);const s=x(t,["maskDilation"]);return s!=null&&y(e,["dilation"],s),e}function Jp(t){const e={},n=x(t,["name"]);n!=null&&y(e,["name"],n);const r=x(t,["displayName"]);r!=null&&y(e,["displayName"],r);const s=x(t,["description"]);s!=null&&y(e,["description"],s);const i=x(t,["version"]);i!=null&&y(e,["version"],i);const c=x(t,["_self"]);c!=null&&y(e,["tunedModelInfo"],$_(c));const d=x(t,["inputTokenLimit"]);d!=null&&y(e,["inputTokenLimit"],d);const f=x(t,["outputTokenLimit"]);f!=null&&y(e,["outputTokenLimit"],f);const h=x(t,["supportedGenerationMethods"]);return h!=null&&y(e,["supportedActions"],h),e}function Kp(t){const e={},n=x(t,["name"]);n!=null&&y(e,["name"],n);const r=x(t,["displayName"]);r!=null&&y(e,["displayName"],r);const s=x(t,["description"]);s!=null&&y(e,["description"],s);const i=x(t,["versionId"]);i!=null&&y(e,["version"],i);const c=x(t,["deployedModels"]);if(c!=null){let g=c;Array.isArray(g)&&(g=g.map(b=>K6(b))),y(e,["endpoints"],g)}const d=x(t,["labels"]);d!=null&&y(e,["labels"],d);const f=x(t,["_self"]);f!=null&&y(e,["tunedModelInfo"],J_(f));const h=x(t,["defaultCheckpointId"]);h!=null&&y(e,["defaultCheckpointId"],h);const p=x(t,["checkpoints"]);if(p!=null){let g=p;Array.isArray(g)&&(g=g.map(b=>b)),y(e,["checkpoints"],g)}return e}function I_(t){const e={},n=x(t,["functionCall"]);n!=null&&y(e,["functionCall"],n);const r=x(t,["codeExecutionResult"]);r!=null&&y(e,["codeExecutionResult"],r);const s=x(t,["executableCode"]);s!=null&&y(e,["executableCode"],s);const i=x(t,["fileData"]);i!=null&&y(e,["fileData"],Y6(i));const c=x(t,["functionResponse"]);c!=null&&y(e,["functionResponse"],c);const d=x(t,["inlineData"]);d!=null&&y(e,["inlineData"],N6(d));const f=x(t,["text"]);f!=null&&y(e,["text"],f);const h=x(t,["thought"]);h!=null&&y(e,["thought"],h);const p=x(t,["thoughtSignature"]);p!=null&&y(e,["thoughtSignature"],p);const g=x(t,["videoMetadata"]);return g!=null&&y(e,["videoMetadata"],g),e}function D_(t){const e={},n=x(t,["productImage"]);return n!=null&&y(e,["image"],gr(n)),e}function __(t,e){const n={},r=x(t,["numberOfImages"]);e!==void 0&&r!=null&&y(e,["parameters","sampleCount"],r);const s=x(t,["baseSteps"]);e!==void 0&&s!=null&&y(e,["parameters","editConfig","baseSteps"],s);const i=x(t,["outputGcsUri"]);e!==void 0&&i!=null&&y(e,["parameters","storageUri"],i);const c=x(t,["seed"]);e!==void 0&&c!=null&&y(e,["parameters","seed"],c);const d=x(t,["safetyFilterLevel"]);e!==void 0&&d!=null&&y(e,["parameters","safetySetting"],d);const f=x(t,["personGeneration"]);e!==void 0&&f!=null&&y(e,["parameters","personGeneration"],f);const h=x(t,["addWatermark"]);e!==void 0&&h!=null&&y(e,["parameters","addWatermark"],h);const p=x(t,["outputMimeType"]);e!==void 0&&p!=null&&y(e,["parameters","outputOptions","mimeType"],p);const g=x(t,["outputCompressionQuality"]);e!==void 0&&g!=null&&y(e,["parameters","outputOptions","compressionQuality"],g);const b=x(t,["enhancePrompt"]);e!==void 0&&b!=null&&y(e,["parameters","enhancePrompt"],b);const N=x(t,["labels"]);return e!==void 0&&N!=null&&y(e,["labels"],N),n}function P_(t,e){const n={},r=x(e,["model"]);r!=null&&y(n,["_url","model"],$e(t,r));const s=x(e,["source"]);s!=null&&O_(s,n);const i=x(e,["config"]);return i!=null&&__(i,n),n}function L_(t){const e={},n=x(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(s=>df(s))),y(e,["generatedImages"],r)}return e}function O_(t,e){const n={},r=x(t,["prompt"]);e!==void 0&&r!=null&&y(e,["instances[0]","prompt"],r);const s=x(t,["personImage"]);e!==void 0&&s!=null&&y(e,["instances[0]","personImage","image"],gr(s));const i=x(t,["productImages"]);if(e!==void 0&&i!=null){let c=i;Array.isArray(c)&&(c=c.map(d=>D_(d))),y(e,["instances[0]","productImages"],c)}return n}function B_(t){const e={},n=x(t,["referenceImage"]);n!=null&&y(e,["referenceImage"],gr(n));const r=x(t,["referenceId"]);r!=null&&y(e,["referenceId"],r);const s=x(t,["referenceType"]);s!=null&&y(e,["referenceType"],s);const i=x(t,["maskImageConfig"]);i!=null&&y(e,["maskImageConfig"],R_(i));const c=x(t,["controlImageConfig"]);c!=null&&y(e,["controlImageConfig"],A6(c));const d=x(t,["styleImageConfig"]);d!=null&&y(e,["styleImageConfig"],d);const f=x(t,["subjectImageConfig"]);return f!=null&&y(e,["subjectImageConfig"],f),e}function tS(t){const e={},n=x(t,["safetyAttributes","categories"]);n!=null&&y(e,["categories"],n);const r=x(t,["safetyAttributes","scores"]);r!=null&&y(e,["scores"],r);const s=x(t,["contentType"]);return s!=null&&y(e,["contentType"],s),e}function nS(t){const e={},n=x(t,["safetyAttributes","categories"]);n!=null&&y(e,["categories"],n);const r=x(t,["safetyAttributes","scores"]);r!=null&&y(e,["scores"],r);const s=x(t,["contentType"]);return s!=null&&y(e,["contentType"],s),e}function z_(t){const e={},n=x(t,["category"]);if(n!=null&&y(e,["category"],n),x(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=x(t,["threshold"]);return r!=null&&y(e,["threshold"],r),e}function U_(t){const e={},n=x(t,["image"]);return n!=null&&y(e,["image"],gr(n)),e}function H_(t,e){const n={},r=x(t,["mode"]);e!==void 0&&r!=null&&y(e,["parameters","mode"],r);const s=x(t,["maxPredictions"]);e!==void 0&&s!=null&&y(e,["parameters","maxPredictions"],s);const i=x(t,["confidenceThreshold"]);e!==void 0&&i!=null&&y(e,["parameters","confidenceThreshold"],i);const c=x(t,["maskDilation"]);e!==void 0&&c!=null&&y(e,["parameters","maskDilation"],c);const d=x(t,["binaryColorThreshold"]);e!==void 0&&d!=null&&y(e,["parameters","binaryColorThreshold"],d);const f=x(t,["labels"]);return e!==void 0&&f!=null&&y(e,["labels"],f),n}function V_(t,e){const n={},r=x(e,["model"]);r!=null&&y(n,["_url","model"],$e(t,r));const s=x(e,["source"]);s!=null&&F_(s,n);const i=x(e,["config"]);return i!=null&&H_(i,n),n}function q_(t){const e={},n=x(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(s=>g_(s))),y(e,["generatedMasks"],r)}return e}function F_(t,e){const n={},r=x(t,["prompt"]);e!==void 0&&r!=null&&y(e,["instances[0]","prompt"],r);const s=x(t,["image"]);e!==void 0&&s!=null&&y(e,["instances[0]","image"],gr(s));const i=x(t,["scribbleImage"]);return e!==void 0&&i!=null&&y(e,["instances[0]","scribble"],U_(i)),n}function rS(t){const e={},n=x(t,["languageCode"]);n!=null&&y(e,["languageCode"],n);const r=x(t,["voiceConfig"]);if(r!=null&&y(e,["voiceConfig"],r),x(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function G_(t){const e={},n=x(t,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(g=>g)),y(e,["functionDeclarations"],p)}if(x(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=x(t,["googleSearchRetrieval"]);r!=null&&y(e,["googleSearchRetrieval"],r);const s=x(t,["computerUse"]);s!=null&&y(e,["computerUse"],s);const i=x(t,["fileSearch"]);i!=null&&y(e,["fileSearch"],i);const c=x(t,["codeExecution"]);if(c!=null&&y(e,["codeExecution"],c),x(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const d=x(t,["googleMaps"]);d!=null&&y(e,["googleMaps"],C_(d));const f=x(t,["googleSearch"]);f!=null&&y(e,["googleSearch"],w_(f));const h=x(t,["urlContext"]);return h!=null&&y(e,["urlContext"],h),e}function sS(t){const e={},n=x(t,["functionDeclarations"]);if(n!=null){let g=n;Array.isArray(g)&&(g=g.map(b=>W6(b))),y(e,["functionDeclarations"],g)}const r=x(t,["retrieval"]);r!=null&&y(e,["retrieval"],r);const s=x(t,["googleSearchRetrieval"]);s!=null&&y(e,["googleSearchRetrieval"],s);const i=x(t,["computerUse"]);if(i!=null&&y(e,["computerUse"],i),x(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const c=x(t,["codeExecution"]);c!=null&&y(e,["codeExecution"],c);const d=x(t,["enterpriseWebSearch"]);d!=null&&y(e,["enterpriseWebSearch"],d);const f=x(t,["googleMaps"]);f!=null&&y(e,["googleMaps"],f);const h=x(t,["googleSearch"]);h!=null&&y(e,["googleSearch"],h);const p=x(t,["urlContext"]);return p!=null&&y(e,["urlContext"],p),e}function $_(t){const e={},n=x(t,["baseModel"]);n!=null&&y(e,["baseModel"],n);const r=x(t,["createTime"]);r!=null&&y(e,["createTime"],r);const s=x(t,["updateTime"]);return s!=null&&y(e,["updateTime"],s),e}function J_(t){const e={},n=x(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&y(e,["baseModel"],n);const r=x(t,["createTime"]);r!=null&&y(e,["createTime"],r);const s=x(t,["updateTime"]);return s!=null&&y(e,["updateTime"],s),e}function K_(t,e){const n={},r=x(t,["displayName"]);e!==void 0&&r!=null&&y(e,["displayName"],r);const s=x(t,["description"]);e!==void 0&&s!=null&&y(e,["description"],s);const i=x(t,["defaultCheckpointId"]);return e!==void 0&&i!=null&&y(e,["defaultCheckpointId"],i),n}function Y_(t,e){const n={},r=x(t,["displayName"]);e!==void 0&&r!=null&&y(e,["displayName"],r);const s=x(t,["description"]);e!==void 0&&s!=null&&y(e,["description"],s);const i=x(t,["defaultCheckpointId"]);return e!==void 0&&i!=null&&y(e,["defaultCheckpointId"],i),n}function W_(t,e){const n={},r=x(e,["model"]);r!=null&&y(n,["_url","name"],$e(t,r));const s=x(e,["config"]);return s!=null&&K_(s,n),n}function X_(t,e){const n={},r=x(e,["model"]);r!=null&&y(n,["_url","model"],$e(t,r));const s=x(e,["config"]);return s!=null&&Y_(s,n),n}function Q_(t,e){const n={},r=x(t,["outputGcsUri"]);e!==void 0&&r!=null&&y(e,["parameters","storageUri"],r);const s=x(t,["safetyFilterLevel"]);e!==void 0&&s!=null&&y(e,["parameters","safetySetting"],s);const i=x(t,["personGeneration"]);e!==void 0&&i!=null&&y(e,["parameters","personGeneration"],i);const c=x(t,["includeRaiReason"]);e!==void 0&&c!=null&&y(e,["parameters","includeRaiReason"],c);const d=x(t,["outputMimeType"]);e!==void 0&&d!=null&&y(e,["parameters","outputOptions","mimeType"],d);const f=x(t,["outputCompressionQuality"]);e!==void 0&&f!=null&&y(e,["parameters","outputOptions","compressionQuality"],f);const h=x(t,["enhanceInputImage"]);e!==void 0&&h!=null&&y(e,["parameters","upscaleConfig","enhanceInputImage"],h);const p=x(t,["imagePreservationFactor"]);e!==void 0&&p!=null&&y(e,["parameters","upscaleConfig","imagePreservationFactor"],p);const g=x(t,["labels"]);e!==void 0&&g!=null&&y(e,["labels"],g);const b=x(t,["numberOfImages"]);e!==void 0&&b!=null&&y(e,["parameters","sampleCount"],b);const N=x(t,["mode"]);return e!==void 0&&N!=null&&y(e,["parameters","mode"],N),n}function Z_(t,e){const n={},r=x(e,["model"]);r!=null&&y(n,["_url","model"],$e(t,r));const s=x(e,["image"]);s!=null&&y(n,["instances[0]","image"],gr(s));const i=x(e,["upscaleFactor"]);i!=null&&y(n,["parameters","upscaleConfig","upscaleFactor"],i);const c=x(e,["config"]);return c!=null&&Q_(c,n),n}function eP(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=x(t,["predictions"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(i=>df(i))),y(e,["generatedImages"],s)}return e}function tP(t){const e={},n=x(t,["uri"]);n!=null&&y(e,["uri"],n);const r=x(t,["encodedVideo"]);r!=null&&y(e,["videoBytes"],xo(r));const s=x(t,["encoding"]);return s!=null&&y(e,["mimeType"],s),e}function nP(t){const e={},n=x(t,["gcsUri"]);n!=null&&y(e,["uri"],n);const r=x(t,["bytesBase64Encoded"]);r!=null&&y(e,["videoBytes"],xo(r));const s=x(t,["mimeType"]);return s!=null&&y(e,["mimeType"],s),e}function rP(t){const e={},n=x(t,["image"]);n!=null&&y(e,["_self"],gr(n));const r=x(t,["maskMode"]);return r!=null&&y(e,["maskMode"],r),e}function sP(t){const e={},n=x(t,["image"]);n!=null&&y(e,["image"],uf(n));const r=x(t,["referenceType"]);return r!=null&&y(e,["referenceType"],r),e}function oP(t){const e={},n=x(t,["image"]);n!=null&&y(e,["image"],gr(n));const r=x(t,["referenceType"]);return r!=null&&y(e,["referenceType"],r),e}function oS(t){const e={},n=x(t,["uri"]);n!=null&&y(e,["uri"],n);const r=x(t,["videoBytes"]);r!=null&&y(e,["encodedVideo"],xo(r));const s=x(t,["mimeType"]);return s!=null&&y(e,["encoding"],s),e}function aS(t){const e={},n=x(t,["uri"]);n!=null&&y(e,["gcsUri"],n);const r=x(t,["videoBytes"]);r!=null&&y(e,["bytesBase64Encoded"],xo(r));const s=x(t,["mimeType"]);return s!=null&&y(e,["mimeType"],s),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const aP="Content-Type",iP="X-Server-Timeout",lP="User-Agent",Yp="x-goog-api-client",cP="1.29.0",dP=`google-genai-sdk/${cP}`,uP="v1beta1",fP="v1beta",A2=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class hP{constructor(e){var n,r;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const s={};this.clientOptions.vertexai?(s.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:uP,s.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(s.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:fP,s.baseUrl="https://generativelanguage.googleapis.com/"),s.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=s,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(s,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,r){const s=[this.getRequestUrlInternal(n)];return r&&s.push(this.getBaseResourcePath()),e!==""&&s.push(e),new URL(`${s.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),s=this.constructUrl(e.path,n,r);if(e.queryParams)for(const[c,d]of Object.entries(e.queryParams))s.searchParams.append(c,String(d));let i={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else i.body=e.body;return i=await this.includeExtraHttpOptionsToRequestInit(i,n,s.toString(),e.abortSignal),this.unaryApiCall(s,i,e.httpMethod)}patchHttpOptions(e,n){const r=JSON.parse(JSON.stringify(e));for(const[s,i]of Object.entries(n))typeof i=="object"?r[s]=Object.assign(Object.assign({},r[s]),i):i!==void 0&&(r[s]=i);return r}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),s=this.constructUrl(e.path,n,r);(!s.searchParams.has("alt")||s.searchParams.get("alt")!=="sse")&&s.searchParams.set("alt","sse");let i={};return i.body=e.body,i=await this.includeExtraHttpOptionsToRequestInit(i,n,s.toString(),e.abortSignal),this.streamApiCall(s,i,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,r,s){if(n&&n.timeout||s){const i=new AbortController,c=i.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const d=setTimeout(()=>i.abort(),n.timeout);d&&typeof d.unref=="function"&&d.unref()}s&&s.addEventListener("abort",()=>{i.abort()}),e.signal=c}return n&&n.extraBody!==null&&mP(e,n.extraBody),e.headers=await this.getHeadersInternal(n,r),e}async unaryApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async s=>(await j2(s),new Fp(s))).catch(s=>{throw s instanceof Error?s:new Error(JSON.stringify(s))})}async streamApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async s=>(await j2(s),this.processStreamResponse(s))).catch(s=>{throw s instanceof Error?s:new Error(JSON.stringify(s))})}processStreamResponse(e){var n;return oi(this,arguments,function*(){const s=(n=e==null?void 0:e.body)===null||n===void 0?void 0:n.getReader(),i=new TextDecoder("utf-8");if(!s)throw new Error("Response body is empty");try{let c="";for(;;){const{done:d,value:f}=yield lt(s.read());if(d){if(c.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const h=i.decode(f,{stream:!0});try{const g=JSON.parse(h);if("error"in g){const b=JSON.parse(JSON.stringify(g.error)),N=b.status,w=b.code,S=`got status: ${N}. ${JSON.stringify(g)}`;if(w>=400&&w<600)throw new lf({message:S,status:w})}}catch(g){if(g.name==="ApiError")throw g}c+=h;let p=c.match(A2);for(;p;){const g=p[1];try{const b=new Response(g,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield lt(new Fp(b)),c=c.slice(p[0].length),p=c.match(A2)}catch(b){throw new Error(`exception parsing stream chunk ${g}. ${b}`)}}}}finally{s.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},n=dP+" "+this.clientOptions.userAgentExtra;return e[lP]=n,e[Yp]=n,e[aP]="application/json",e}async getHeadersInternal(e,n){const r=new Headers;if(e&&e.headers){for(const[s,i]of Object.entries(e.headers))r.append(s,i);e.timeout&&e.timeout>0&&r.append(iP,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,n),r}getFileName(e){var n;let r="";return typeof e=="string"&&(r=e.replace(/[/\\]+$/,""),r=(n=r.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),r}async uploadFile(e,n){var r;const s={};n!=null&&(s.mimeType=n.mimeType,s.name=n.name,s.displayName=n.displayName),s.name&&!s.name.startsWith("files/")&&(s.name=`files/${s.name}`);const i=this.clientOptions.uploader,c=await i.stat(e);s.sizeBytes=String(c.size);const d=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:c.type;if(d===void 0||d==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");s.mimeType=d;const f={file:s},h=this.getFileName(e),p=ue("upload/v1beta/files",f._url),g=await this.fetchUploadUrl(p,s.sizeBytes,s.mimeType,h,f,n==null?void 0:n.httpOptions);return i.upload(e,g,this)}async uploadFileToFileSearchStore(e,n,r){var s;const i=this.clientOptions.uploader,c=await i.stat(n),d=String(c.size),f=(s=r==null?void 0:r.mimeType)!==null&&s!==void 0?s:c.type;if(f===void 0||f==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const h=`upload/v1beta/${e}:uploadToFileSearchStore`,p=this.getFileName(n),g={};r!=null&&r.customMetadata&&(g.customMetadata=r.customMetadata),r!=null&&r.chunkingConfig&&(g.chunkingConfig=r.chunkingConfig);const b=await this.fetchUploadUrl(h,d,f,p,g,r==null?void 0:r.httpOptions);return i.uploadToFileSearchStore(n,b,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,r,s,i,c){var d;let f={};c?f=c:f={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${r}`},s?{"X-Goog-Upload-File-Name":s}:{})};const h=await this.request({path:e,body:JSON.stringify(i),httpMethod:"POST",httpOptions:f});if(!h||!(h!=null&&h.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const p=(d=h==null?void 0:h.headers)===null||d===void 0?void 0:d["x-goog-upload-url"];if(p===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return p}}async function j2(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let r;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await t.json():r={error:{message:await t.text(),code:t.status,status:t.statusText}};const s=JSON.stringify(r);throw n>=400&&n<600?new lf({message:s,status:n}):new Error(s)}}function mP(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const i=JSON.parse(t.body);if(typeof i=="object"&&i!==null&&!Array.isArray(i))n=i;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(i,c){const d=Object.assign({},i);for(const f in c)if(Object.prototype.hasOwnProperty.call(c,f)){const h=c[f],p=d[f];h&&typeof h=="object"&&!Array.isArray(h)&&p&&typeof p=="object"&&!Array.isArray(p)?d[f]=r(p,h):(p&&h&&typeof p!=typeof h&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${f}". Original type: ${typeof p}, New type: ${typeof h}. Overwriting.`),d[f]=h)}return d}const s=r(n,e);t.body=JSON.stringify(s)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const pP="mcp_used/unknown";let gP=!1;function iS(t){for(const e of t)if(xP(e)||typeof e=="object"&&"inputSchema"in e)return!0;return gP}function lS(t){var e;const n=(e=t[Yp])!==null&&e!==void 0?e:"";t[Yp]=(n+` ${pP}`).trimStart()}function xP(t){return t!==null&&typeof t=="object"&&t instanceof Qg}function bP(t,e=100){return oi(this,arguments,function*(){let r,s=0;for(;s<e;){const i=yield lt(t.listTools({cursor:r}));for(const c of i.tools)yield yield lt(c),s++;if(!i.nextCursor)break;r=i.nextCursor}})}class Qg{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new Qg(e,n)}async initialize(){var e,n,r,s;if(this.mcpTools.length>0)return;const i={},c=[];for(const p of this.mcpClients)try{for(var d=!0,f=(n=void 0,Ll(bP(p))),h;h=await f.next(),e=h.done,!e;d=!0){s=h.value,d=!1;const g=s;c.push(g);const b=g.name;if(i[b])throw new Error(`Duplicate function name ${b} found in MCP tools. Please ensure function names are unique.`);i[b]=p}}catch(g){n={error:g}}finally{try{!d&&!e&&(r=f.return)&&await r.call(f)}finally{if(n)throw n.error}}this.mcpTools=c,this.functionNameToMcpClient=i}async tool(){return await this.initialize(),wI(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const s=this.functionNameToMcpClient[r.name];let i;this.config.timeout&&(i={timeout:this.config.timeout});const c=await s.callTool({name:r.name,arguments:r.args},void 0,i);n.push({functionResponse:{name:r.name,response:c.isError?{error:c}:c}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function yP(t,e,n){const r=new pI;let s;n.data instanceof Blob?s=JSON.parse(await n.data.text()):s=JSON.parse(n.data),Object.assign(r,s),e(r)}class vP{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r}async connect(e){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const s=this.apiClient.getWebsocketBaseUrl(),i=this.apiClient.getApiVersion(),c=wP(this.apiClient.getDefaultHeaders()),d=this.apiClient.getApiKey(),f=`${s}/ws/google.ai.generativelanguage.${i}.GenerativeService.BidiGenerateMusic?key=${d}`;let h=()=>{};const p=new Promise(D=>{h=D}),g=e.callbacks,b=function(){h({})},N=this.apiClient,w={onopen:b,onmessage:D=>{yP(N,g.onmessage,D)},onerror:(n=g==null?void 0:g.onerror)!==null&&n!==void 0?n:function(D){},onclose:(r=g==null?void 0:g.onclose)!==null&&r!==void 0?r:function(D){}},S=this.webSocketFactory.create(f,CP(c),w);S.connect(),await p;const M={setup:{model:$e(this.apiClient,e.model)}};return S.send(JSON.stringify(M)),new NP(S,this.apiClient)}}class NP{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=f6(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=u6(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(ei.PLAY)}pause(){this.sendPlaybackControl(ei.PAUSE)}stop(){this.sendPlaybackControl(ei.STOP)}resetContext(){this.sendPlaybackControl(ei.RESET_CONTEXT)}close(){this.conn.close()}}function CP(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function wP(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const SP="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function TP(t,e,n){const r=new mI;let s;n.data instanceof Blob?s=await n.data.text():n.data instanceof ArrayBuffer?s=new TextDecoder().decode(n.data):s=n.data;const i=JSON.parse(s);if(t.isVertexAI()){const c=p6(i);Object.assign(r,c)}else Object.assign(r,i);e(r)}class kP{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r,this.music=new vP(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,r,s,i,c,d;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const f=this.apiClient.getWebsocketBaseUrl(),h=this.apiClient.getApiVersion();let p;const g=this.apiClient.getHeaders();e.config&&e.config.tools&&iS(e.config.tools)&&lS(g);const b=MP(g);if(this.apiClient.isVertexAI())p=`${f}/ws/google.cloud.aiplatform.${h}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(b,p);else{const K=this.apiClient.getApiKey();let ce="BidiGenerateContent",ye="key";K!=null&&K.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),h!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),ce="BidiGenerateContentConstrained",ye="access_token"),p=`${f}/ws/google.ai.generativelanguage.${h}.GenerativeService.${ce}?${ye}=${K}`}let N=()=>{};const w=new Promise(K=>{N=K}),S=e.callbacks,T=function(){var K;(K=S==null?void 0:S.onopen)===null||K===void 0||K.call(S),N({})},E=this.apiClient,M={onopen:T,onmessage:K=>{TP(E,S.onmessage,K)},onerror:(n=S==null?void 0:S.onerror)!==null&&n!==void 0?n:function(K){},onclose:(r=S==null?void 0:S.onclose)!==null&&r!==void 0?r:function(K){}},D=this.webSocketFactory.create(p,jP(b),M);D.connect(),await w;let H=$e(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&H.startsWith("publishers/")){const K=this.apiClient.getProject(),ce=this.apiClient.getLocation();H=`projects/${K}/locations/${ce}/`+H}let V={};this.apiClient.isVertexAI()&&((s=e.config)===null||s===void 0?void 0:s.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Pu.AUDIO]}:e.config.responseModalities=[Pu.AUDIO]),!((i=e.config)===null||i===void 0)&&i.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const z=(d=(c=e.config)===null||c===void 0?void 0:c.tools)!==null&&d!==void 0?d:[],P=[];for(const K of z)if(this.isCallableTool(K)){const ce=K;P.push(await ce.tool())}else P.push(K);P.length>0&&(e.config.tools=P);const te={model:H,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?V=d6(this.apiClient,te):V=c6(this.apiClient,te),delete V.config,D.send(JSON.stringify(V)),new AP(D,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const EP={turnComplete:!0};class AP{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=tr(n.turns),e.isVertexAI()||(r=r.map(s=>cf(s)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const i of r){if(typeof i!="object"||i===null||!("name"in i)||!("response"in i))throw new Error(`Could not parse function response, type '${typeof i}'.`);if(!e.isVertexAI()&&!("id"in i))throw new Error(SP)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},EP),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:m6(e)}:n={realtimeInput:h6(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function jP(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function MP(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const M2=10;function R2(t){var e,n,r;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let s=!1;for(const c of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(ai(c)){s=!0;break}if(!s)return!0;const i=(r=t==null?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return i&&(i<0||!Number.isInteger(i))||i==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",i),!0):!1}function ai(t){return"callTool"in t&&typeof t.callTool=="function"}function RP(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(s=>ai(s)))!==null&&r!==void 0?r:!1}function I2(t){var e;const n=[];return!((e=t==null?void 0:t.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((r,s)=>{if(ai(r))return;const i=r;i.functionDeclarations&&i.functionDeclarations.length>0&&n.push(s)}),n}function D2(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class IP extends cs{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var r,s,i,c,d;const f=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!RP(n)||R2(n.config))return await this.generateContentInternal(f);const h=I2(n);if(h.length>0){const S=h.map(T=>`tools[${T}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${S}.`)}let p,g;const b=tr(f.contents),N=(i=(s=(r=f.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||s===void 0?void 0:s.maximumRemoteCalls)!==null&&i!==void 0?i:M2;let w=0;for(;w<N&&(p=await this.generateContentInternal(f),!(!p.functionCalls||p.functionCalls.length===0));){const S=p.candidates[0].content,T=[];for(const E of(d=(c=n.config)===null||c===void 0?void 0:c.tools)!==null&&d!==void 0?d:[])if(ai(E)){const D=await E.callTool(p.functionCalls);T.push(...D)}w++,g={role:"user",parts:T},f.contents=tr(f.contents),f.contents.push(S),f.contents.push(g),D2(f.config)&&(b.push(S),b.push(g))}return D2(f.config)&&(p.automaticFunctionCallingHistory=b),p},this.generateContentStream=async n=>{if(this.maybeMoveToResponseJsonSchem(n),R2(n.config)){const s=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(s)}const r=I2(n);if(r.length>0){const s=r.map(i=>`tools[${i}]`).join(", ");throw new Error(`Incompatible tools found at ${s}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var s;let i;const c=[];if(r!=null&&r.generatedImages)for(const f of r.generatedImages)f&&(f!=null&&f.safetyAttributes)&&((s=f==null?void 0:f.safetyAttributes)===null||s===void 0?void 0:s.contentType)==="Positive Prompt"?i=f==null?void 0:f.safetyAttributes:c.push(f);let d;return i?d={generatedImages:c,positivePromptSafetyAttributes:i,sdkHttpResponse:r.sdkHttpResponse}:d={generatedImages:c,sdkHttpResponse:r.sdkHttpResponse},d}),this.list=async n=>{var r;const c={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!c.config.queryBase){if(!((r=c.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");c.config.filter="labels.tune-type:*"}return new ca(ss.PAGED_ITEM_MODELS,d=>this.listInternal(d),await this.listInternal(c),c)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(s=>s.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const s={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(s)},this.generateVideos=async n=>{var r,s,i,c,d,f;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=n.video)===null||r===void 0)&&r.uri&&(!((s=n.video)===null||s===void 0)&&s.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((c=(i=n.source)===null||i===void 0?void 0:i.video)===null||c===void 0)&&c.uri&&(!((f=(d=n.source)===null||d===void 0?void 0:d.video)===null||f===void 0)&&f.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,r,s;const i=(n=e.config)===null||n===void 0?void 0:n.tools;if(!i)return e;const c=await Promise.all(i.map(async f=>ai(f)?await f.tool():f)),d={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:c})};if(d.config.tools=c,e.config&&e.config.tools&&iS(e.config.tools)){const f=(s=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&s!==void 0?s:{};let h=Object.assign({},f);Object.keys(h).length===0&&(h=this.apiClient.getDefaultHeaders()),lS(h),d.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:h})}return d}async initAfcToolsMap(e){var n,r,s;const i=new Map;for(const c of(r=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(ai(c)){const d=c,f=await d.tool();for(const h of(s=f.functionDeclarations)!==null&&s!==void 0?s:[]){if(!h.name)throw new Error("Function declaration name is required.");if(i.has(h.name))throw new Error(`Duplicate tool declaration name: ${h.name}`);i.set(h.name,d)}}return i}async processAfcStream(e){var n,r,s;const i=(s=(r=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&s!==void 0?s:M2;let c=!1,d=0;const f=await this.initAfcToolsMap(e);return(function(h,p,g){var b,N;return oi(this,arguments,function*(){for(var w,S,T,E;d<i;){c&&(d++,c=!1);const V=yield lt(h.processParamsMaybeAddMcpUsage(g)),z=yield lt(h.generateContentStreamInternal(V)),P=[],te=[];try{for(var M=!0,D=(S=void 0,Ll(z)),H;H=yield lt(D.next()),w=H.done,!w;M=!0){E=H.value,M=!1;const K=E;if(yield yield lt(K),K.candidates&&(!((b=K.candidates[0])===null||b===void 0)&&b.content)){te.push(K.candidates[0].content);for(const ce of(N=K.candidates[0].content.parts)!==null&&N!==void 0?N:[])if(d<i&&ce.functionCall){if(!ce.functionCall.name)throw new Error("Function call name was not returned by the model.");if(p.has(ce.functionCall.name)){const ye=yield lt(p.get(ce.functionCall.name).callTool([ce.functionCall]));P.push(...ye)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${p.keys()}, mising tool: ${ce.functionCall.name}`)}}}}catch(K){S={error:K}}finally{try{!M&&!w&&(T=D.return)&&(yield lt(T.call(D)))}finally{if(S)throw S.error}}if(P.length>0){c=!0;const K=new Nl;K.candidates=[{content:{role:"user",parts:P}}],yield yield lt(K);const ce=[];ce.push(...te),ce.push({role:"user",parts:P});const ye=tr(g.contents).concat(ce);g.contents=ye}else break}})})(this,f,e)}async generateContentInternal(e){var n,r,s,i;let c,d="",f={};if(this.apiClient.isVertexAI()){const h=T2(this.apiClient,e);return d=ue("{model}:generateContent",h._url),f=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(g=>{const b=g;return b.sdkHttpResponse={headers:p.headers},b})),c.then(p=>{const g=E2(p),b=new Nl;return Object.assign(b,g),b})}else{const h=S2(this.apiClient,e);return d=ue("{model}:generateContent",h._url),f=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json().then(g=>{const b=g;return b.sdkHttpResponse={headers:p.headers},b})),c.then(p=>{const g=k2(p),b=new Nl;return Object.assign(b,g),b})}}async generateContentStreamInternal(e){var n,r,s,i;let c,d="",f={};if(this.apiClient.isVertexAI()){const h=T2(this.apiClient,e);return d=ue("{model}:streamGenerateContent?alt=sse",h._url),f=h._query,delete h._url,delete h._query,c=this.apiClient.requestStream({path:d,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),c.then(function(g){return oi(this,arguments,function*(){var b,N,w,S;try{for(var T=!0,E=Ll(g),M;M=yield lt(E.next()),b=M.done,!b;T=!0){S=M.value,T=!1;const D=S,H=E2(yield lt(D.json()));H.sdkHttpResponse={headers:D.headers};const V=new Nl;Object.assign(V,H),yield yield lt(V)}}catch(D){N={error:D}}finally{try{!T&&!b&&(w=E.return)&&(yield lt(w.call(E)))}finally{if(N)throw N.error}}})})}else{const h=S2(this.apiClient,e);return d=ue("{model}:streamGenerateContent?alt=sse",h._url),f=h._query,delete h._url,delete h._query,c=this.apiClient.requestStream({path:d,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}),c.then(function(g){return oi(this,arguments,function*(){var b,N,w,S;try{for(var T=!0,E=Ll(g),M;M=yield lt(E.next()),b=M.done,!b;T=!0){S=M.value,T=!1;const D=S,H=k2(yield lt(D.json()));H.sdkHttpResponse={headers:D.headers};const V=new Nl;Object.assign(V,H),yield yield lt(V)}}catch(D){N={error:D}}finally{try{!T&&!b&&(w=E.return)&&(yield lt(w.call(E)))}finally{if(N)throw N.error}}})})}}async embedContent(e){var n,r,s,i;let c,d="",f={};if(this.apiClient.isVertexAI()){const h=G6(this.apiClient,e);return d=ue("{model}:predict",h._url),f=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(g=>{const b=g;return b.sdkHttpResponse={headers:p.headers},b})),c.then(p=>{const g=J6(p),b=new l2;return Object.assign(b,g),b})}else{const h=F6(this.apiClient,e);return d=ue("{model}:batchEmbedContents",h._url),f=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json().then(g=>{const b=g;return b.sdkHttpResponse={headers:p.headers},b})),c.then(p=>{const g=$6(p),b=new l2;return Object.assign(b,g),b})}}async generateImagesInternal(e){var n,r,s,i;let c,d="",f={};if(this.apiClient.isVertexAI()){const h=n_(this.apiClient,e);return d=ue("{model}:predict",h._url),f=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(g=>{const b=g;return b.sdkHttpResponse={headers:p.headers},b})),c.then(p=>{const g=s_(p),b=new c2;return Object.assign(b,g),b})}else{const h=t_(this.apiClient,e);return d=ue("{model}:predict",h._url),f=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json().then(g=>{const b=g;return b.sdkHttpResponse={headers:p.headers},b})),c.then(p=>{const g=r_(p),b=new c2;return Object.assign(b,g),b})}}async editImageInternal(e){var n,r;let s,i="",c={};if(this.apiClient.isVertexAI()){const d=U6(this.apiClient,e);return i=ue("{model}:predict",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:i,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),s.then(f=>{const h=H6(f),p=new rI;return Object.assign(p,h),p})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,r;let s,i="",c={};if(this.apiClient.isVertexAI()){const d=Z_(this.apiClient,e);return i=ue("{model}:predict",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:i,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),s.then(f=>{const h=eP(f),p=new sI;return Object.assign(p,h),p})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,r;let s,i="",c={};if(this.apiClient.isVertexAI()){const d=P_(this.apiClient,e);return i=ue("{model}:predict",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:i,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),s.then(f=>{const h=L_(f),p=new oI;return Object.assign(p,h),p})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,r;let s,i="",c={};if(this.apiClient.isVertexAI()){const d=V_(this.apiClient,e);return i=ue("{model}:predict",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:i,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),s.then(f=>{const h=q_(f),p=new aI;return Object.assign(p,h),p})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,r,s,i;let c,d="",f={};if(this.apiClient.isVertexAI()){const h=N_(this.apiClient,e);return d=ue("{name}",h._url),f=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),c.then(p=>Kp(p))}else{const h=v_(this.apiClient,e);return d=ue("{name}",h._url),f=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),c.then(p=>Jp(p))}}async listInternal(e){var n,r,s,i;let c,d="",f={};if(this.apiClient.isVertexAI()){const h=A_(this.apiClient,e);return d=ue("{models_url}",h._url),f=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(g=>{const b=g;return b.sdkHttpResponse={headers:p.headers},b})),c.then(p=>{const g=M_(p),b=new d2;return Object.assign(b,g),b})}else{const h=E_(this.apiClient,e);return d=ue("{models_url}",h._url),f=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json().then(g=>{const b=g;return b.sdkHttpResponse={headers:p.headers},b})),c.then(p=>{const g=j_(p),b=new d2;return Object.assign(b,g),b})}}async update(e){var n,r,s,i;let c,d="",f={};if(this.apiClient.isVertexAI()){const h=X_(this.apiClient,e);return d=ue("{model}",h._url),f=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),c.then(p=>Kp(p))}else{const h=W_(this.apiClient,e);return d=ue("{name}",h._url),f=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),c.then(p=>Jp(p))}}async delete(e){var n,r,s,i;let c,d="",f={};if(this.apiClient.isVertexAI()){const h=L6(this.apiClient,e);return d=ue("{name}",h._url),f=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(g=>{const b=g;return b.sdkHttpResponse={headers:p.headers},b})),c.then(p=>{const g=B6(p),b=new u2;return Object.assign(b,g),b})}else{const h=P6(this.apiClient,e);return d=ue("{name}",h._url),f=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json().then(g=>{const b=g;return b.sdkHttpResponse={headers:p.headers},b})),c.then(p=>{const g=O6(p),b=new u2;return Object.assign(b,g),b})}}async countTokens(e){var n,r,s,i;let c,d="",f={};if(this.apiClient.isVertexAI()){const h=I6(this.apiClient,e);return d=ue("{model}:countTokens",h._url),f=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(g=>{const b=g;return b.sdkHttpResponse={headers:p.headers},b})),c.then(p=>{const g=_6(p),b=new f2;return Object.assign(b,g),b})}else{const h=R6(this.apiClient,e);return d=ue("{model}:countTokens",h._url),f=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json().then(g=>{const b=g;return b.sdkHttpResponse={headers:p.headers},b})),c.then(p=>{const g=D6(p),b=new f2;return Object.assign(b,g),b})}}async computeTokens(e){var n,r;let s,i="",c={};if(this.apiClient.isVertexAI()){const d=S6(this.apiClient,e);return i=ue("{model}:computeTokens",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:i,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),s.then(f=>{const h=T6(f),p=new iI;return Object.assign(p,h),p})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,r,s,i;let c,d="",f={};if(this.apiClient.isVertexAI()){const h=d_(this.apiClient,e);return d=ue("{model}:predictLongRunning",h._url),f=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),c.then(p=>{const g=l_(p),b=new Lu;return Object.assign(b,g),b})}else{const h=c_(this.apiClient,e);return d=ue("{model}:predictLongRunning",h._url),f=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),c.then(p=>{const g=i_(p),b=new Lu;return Object.assign(b,g),b})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class DP extends cs{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const s=n.name.split("/operations/")[0];let i;r&&"httpOptions"in r&&(i=r.httpOptions);const c=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:s,config:{httpOptions:i}});return n._fromAPIResponse({apiResponse:c,_isVertexAI:!0})}else{const s=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:s,_isVertexAI:!1})}}async get(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const s=n.name.split("/operations/")[0];let i;r&&"httpOptions"in r&&(i=r.httpOptions);const c=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:s,config:{httpOptions:i}});return n._fromAPIResponse({apiResponse:c,_isVertexAI:!0})}else{const s=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:s,_isVertexAI:!1})}}async getVideosOperationInternal(e){var n,r,s,i;let c,d="",f={};if(this.apiClient.isVertexAI()){const h=XR(e);return d=ue("{operationName}",h._url),f=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),c}else{const h=WR(e);return d=ue("{operationName}",h._url),f=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),c}}async fetchPredictVideosOperationInternal(e){var n,r;let s,i="",c={};if(this.apiClient.isVertexAI()){const d=qR(e);return i=ue("{resourceName}:fetchPredictOperation",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:i,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),s}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function _P(t){const e={},n=x(t,["data"]);if(n!=null&&y(e,["data"],n),x(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=x(t,["mimeType"]);return r!=null&&y(e,["mimeType"],r),e}function PP(t){const e={},n=x(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(i=>qP(i))),y(e,["parts"],s)}const r=x(t,["role"]);return r!=null&&y(e,["role"],r),e}function LP(t,e,n){const r={},s=x(e,["expireTime"]);n!==void 0&&s!=null&&y(n,["expireTime"],s);const i=x(e,["newSessionExpireTime"]);n!==void 0&&i!=null&&y(n,["newSessionExpireTime"],i);const c=x(e,["uses"]);n!==void 0&&c!=null&&y(n,["uses"],c);const d=x(e,["liveConnectConstraints"]);n!==void 0&&d!=null&&y(n,["bidiGenerateContentSetup"],VP(t,d));const f=x(e,["lockAdditionalFields"]);return n!==void 0&&f!=null&&y(n,["fieldMask"],f),r}function OP(t,e){const n={},r=x(e,["config"]);return r!=null&&y(n,["config"],LP(t,r,n)),n}function BP(t){const e={};if(x(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=x(t,["fileUri"]);n!=null&&y(e,["fileUri"],n);const r=x(t,["mimeType"]);return r!=null&&y(e,["mimeType"],r),e}function zP(t){const e={};if(x(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=x(t,["enableWidget"]);return n!=null&&y(e,["enableWidget"],n),e}function UP(t){const e={};if(x(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(x(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=x(t,["timeRangeFilter"]);return n!=null&&y(e,["timeRangeFilter"],n),e}function HP(t,e){const n={},r=x(t,["generationConfig"]);e!==void 0&&r!=null&&y(e,["setup","generationConfig"],r);const s=x(t,["responseModalities"]);e!==void 0&&s!=null&&y(e,["setup","generationConfig","responseModalities"],s);const i=x(t,["temperature"]);e!==void 0&&i!=null&&y(e,["setup","generationConfig","temperature"],i);const c=x(t,["topP"]);e!==void 0&&c!=null&&y(e,["setup","generationConfig","topP"],c);const d=x(t,["topK"]);e!==void 0&&d!=null&&y(e,["setup","generationConfig","topK"],d);const f=x(t,["maxOutputTokens"]);e!==void 0&&f!=null&&y(e,["setup","generationConfig","maxOutputTokens"],f);const h=x(t,["mediaResolution"]);e!==void 0&&h!=null&&y(e,["setup","generationConfig","mediaResolution"],h);const p=x(t,["seed"]);e!==void 0&&p!=null&&y(e,["setup","generationConfig","seed"],p);const g=x(t,["speechConfig"]);e!==void 0&&g!=null&&y(e,["setup","generationConfig","speechConfig"],Xg(g));const b=x(t,["thinkingConfig"]);e!==void 0&&b!=null&&y(e,["setup","generationConfig","thinkingConfig"],b);const N=x(t,["enableAffectiveDialog"]);e!==void 0&&N!=null&&y(e,["setup","generationConfig","enableAffectiveDialog"],N);const w=x(t,["systemInstruction"]);e!==void 0&&w!=null&&y(e,["setup","systemInstruction"],PP(en(w)));const S=x(t,["tools"]);if(e!==void 0&&S!=null){let z=bi(S);Array.isArray(z)&&(z=z.map(P=>GP(xi(P)))),y(e,["setup","tools"],z)}const T=x(t,["sessionResumption"]);e!==void 0&&T!=null&&y(e,["setup","sessionResumption"],FP(T));const E=x(t,["inputAudioTranscription"]);e!==void 0&&E!=null&&y(e,["setup","inputAudioTranscription"],E);const M=x(t,["outputAudioTranscription"]);e!==void 0&&M!=null&&y(e,["setup","outputAudioTranscription"],M);const D=x(t,["realtimeInputConfig"]);e!==void 0&&D!=null&&y(e,["setup","realtimeInputConfig"],D);const H=x(t,["contextWindowCompression"]);e!==void 0&&H!=null&&y(e,["setup","contextWindowCompression"],H);const V=x(t,["proactivity"]);return e!==void 0&&V!=null&&y(e,["setup","proactivity"],V),n}function VP(t,e){const n={},r=x(e,["model"]);r!=null&&y(n,["setup","model"],$e(t,r));const s=x(e,["config"]);return s!=null&&y(n,["config"],HP(s,n)),n}function qP(t){const e={},n=x(t,["functionCall"]);n!=null&&y(e,["functionCall"],n);const r=x(t,["codeExecutionResult"]);r!=null&&y(e,["codeExecutionResult"],r);const s=x(t,["executableCode"]);s!=null&&y(e,["executableCode"],s);const i=x(t,["fileData"]);i!=null&&y(e,["fileData"],BP(i));const c=x(t,["functionResponse"]);c!=null&&y(e,["functionResponse"],c);const d=x(t,["inlineData"]);d!=null&&y(e,["inlineData"],_P(d));const f=x(t,["text"]);f!=null&&y(e,["text"],f);const h=x(t,["thought"]);h!=null&&y(e,["thought"],h);const p=x(t,["thoughtSignature"]);p!=null&&y(e,["thoughtSignature"],p);const g=x(t,["videoMetadata"]);return g!=null&&y(e,["videoMetadata"],g),e}function FP(t){const e={},n=x(t,["handle"]);if(n!=null&&y(e,["handle"],n),x(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function GP(t){const e={},n=x(t,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(g=>g)),y(e,["functionDeclarations"],p)}if(x(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=x(t,["googleSearchRetrieval"]);r!=null&&y(e,["googleSearchRetrieval"],r);const s=x(t,["computerUse"]);s!=null&&y(e,["computerUse"],s);const i=x(t,["fileSearch"]);i!=null&&y(e,["fileSearch"],i);const c=x(t,["codeExecution"]);if(c!=null&&y(e,["codeExecution"],c),x(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const d=x(t,["googleMaps"]);d!=null&&y(e,["googleMaps"],zP(d));const f=x(t,["googleSearch"]);f!=null&&y(e,["googleSearch"],UP(f));const h=x(t,["urlContext"]);return h!=null&&y(e,["urlContext"],h),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function $P(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const r=t[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const s=Object.keys(r).map(i=>`${n}.${i}`);e.push(...s)}else e.push(n)}return e.join(",")}function JP(t,e){let n=null;const r=t.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const i=r.setup;typeof i=="object"&&i!==null?(t.bidiGenerateContentSetup=i,n=i):delete t.bidiGenerateContentSetup}else r!==void 0&&delete t.bidiGenerateContentSetup;const s=t.fieldMask;if(n){const i=$P(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)i?t.fieldMask=i:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&s!==null&&Array.isArray(s)&&s.length>0){const c=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let d=[];s.length>0&&(d=s.map(h=>c.includes(h)?`generationConfig.${h}`:h));const f=[];i&&f.push(i),d.length>0&&f.push(...d),f.length>0?t.fieldMask=f.join(","):delete t.fieldMask}else delete t.fieldMask}else s!==null&&Array.isArray(s)&&s.length>0?t.fieldMask=s.join(","):delete t.fieldMask;return t}class KP extends cs{constructor(e){super(),this.apiClient=e}async create(e){var n,r;let s,i="",c={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const d=OP(this.apiClient,e);i=ue("auth_tokens",d._url),c=d._query,delete d.config,delete d._url,delete d._query;const f=JP(d,e.config);return s=this.apiClient.request({path:i,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>h)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function YP(t,e){const n={},r=x(t,["displayName"]);return e!==void 0&&r!=null&&y(e,["displayName"],r),n}function WP(t){const e={},n=x(t,["config"]);return n!=null&&YP(n,e),e}function XP(t,e){const n={},r=x(t,["force"]);return e!==void 0&&r!=null&&y(e,["_query","force"],r),n}function QP(t){const e={},n=x(t,["name"]);n!=null&&y(e,["_url","name"],n);const r=x(t,["config"]);return r!=null&&XP(r,e),e}function ZP(t){const e={},n=x(t,["name"]);return n!=null&&y(e,["_url","name"],n),e}function eL(t,e){const n={},r=x(t,["customMetadata"]);if(e!==void 0&&r!=null){let i=r;Array.isArray(i)&&(i=i.map(c=>c)),y(e,["customMetadata"],i)}const s=x(t,["chunkingConfig"]);return e!==void 0&&s!=null&&y(e,["chunkingConfig"],s),n}function tL(t){const e={},n=x(t,["name"]);n!=null&&y(e,["name"],n);const r=x(t,["metadata"]);r!=null&&y(e,["metadata"],r);const s=x(t,["done"]);s!=null&&y(e,["done"],s);const i=x(t,["error"]);i!=null&&y(e,["error"],i);const c=x(t,["response"]);return c!=null&&y(e,["response"],rL(c)),e}function nL(t){const e={},n=x(t,["fileSearchStoreName"]);n!=null&&y(e,["_url","file_search_store_name"],n);const r=x(t,["fileName"]);r!=null&&y(e,["fileName"],r);const s=x(t,["config"]);return s!=null&&eL(s,e),e}function rL(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=x(t,["parent"]);r!=null&&y(e,["parent"],r);const s=x(t,["documentName"]);return s!=null&&y(e,["documentName"],s),e}function sL(t,e){const n={},r=x(t,["pageSize"]);e!==void 0&&r!=null&&y(e,["_query","pageSize"],r);const s=x(t,["pageToken"]);return e!==void 0&&s!=null&&y(e,["_query","pageToken"],s),n}function oL(t){const e={},n=x(t,["config"]);return n!=null&&sL(n,e),e}function aL(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=x(t,["nextPageToken"]);r!=null&&y(e,["nextPageToken"],r);const s=x(t,["fileSearchStores"]);if(s!=null){let i=s;Array.isArray(i)&&(i=i.map(c=>c)),y(e,["fileSearchStores"],i)}return e}function iL(t,e){const n={},r=x(t,["mimeType"]);e!==void 0&&r!=null&&y(e,["mimeType"],r);const s=x(t,["displayName"]);e!==void 0&&s!=null&&y(e,["displayName"],s);const i=x(t,["customMetadata"]);if(e!==void 0&&i!=null){let d=i;Array.isArray(d)&&(d=d.map(f=>f)),y(e,["customMetadata"],d)}const c=x(t,["chunkingConfig"]);return e!==void 0&&c!=null&&y(e,["chunkingConfig"],c),n}function lL(t){const e={},n=x(t,["fileSearchStoreName"]);n!=null&&y(e,["_url","file_search_store_name"],n);const r=x(t,["config"]);return r!=null&&iL(r,e),e}function cL(t){const e={},n=x(t,["sdkHttpResponse"]);return n!=null&&y(e,["sdkHttpResponse"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function dL(t,e){const n={},r=x(t,["force"]);return e!==void 0&&r!=null&&y(e,["_query","force"],r),n}function uL(t){const e={},n=x(t,["name"]);n!=null&&y(e,["_url","name"],n);const r=x(t,["config"]);return r!=null&&dL(r,e),e}function fL(t){const e={},n=x(t,["name"]);return n!=null&&y(e,["_url","name"],n),e}function hL(t,e){const n={},r=x(t,["pageSize"]);e!==void 0&&r!=null&&y(e,["_query","pageSize"],r);const s=x(t,["pageToken"]);return e!==void 0&&s!=null&&y(e,["_query","pageToken"],s),n}function mL(t){const e={},n=x(t,["parent"]);n!=null&&y(e,["_url","parent"],n);const r=x(t,["config"]);return r!=null&&hL(r,e),e}function pL(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=x(t,["nextPageToken"]);r!=null&&y(e,["nextPageToken"],r);const s=x(t,["documents"]);if(s!=null){let i=s;Array.isArray(i)&&(i=i.map(c=>c)),y(e,["documents"],i)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class gL extends cs{constructor(e){super(),this.apiClient=e,this.list=async n=>new ca(ss.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:n.parent,config:r.config}),await this.listInternal(n),n)}async get(e){var n,r;let s,i="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=fL(e);return i=ue("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:i,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),s.then(f=>f)}}async delete(e){var n,r;let s="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=uL(e);s=ue("{name}",c._url),i=c._query,delete c._url,delete c._query,await this.apiClient.request({path:s,queryParams:i,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let s,i="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=mL(e);return i=ue("{parent}/documents",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:i,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),s.then(f=>{const h=pL(f),p=new lI;return Object.assign(p,h),p})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class xL extends cs{constructor(e,n=new gL(e)){super(),this.apiClient=e,this.documents=n,this.list=async(r={})=>new ca(ss.PAGED_ITEM_FILE_SEARCH_STORES,s=>this.listInternal(s),await this.listInternal(r),r)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var n,r;let s,i="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=WP(e);return i=ue("fileSearchStores",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:i,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),s.then(f=>f)}}async get(e){var n,r;let s,i="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=ZP(e);return i=ue("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:i,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),s.then(f=>f)}}async delete(e){var n,r;let s="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=QP(e);s=ue("{name}",c._url),i=c._query,delete c._url,delete c._query,await this.apiClient.request({path:s,queryParams:i,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let s,i="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=oL(e);return i=ue("fileSearchStores",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:i,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),s.then(f=>{const h=aL(f),p=new cI;return Object.assign(p,h),p})}}async uploadToFileSearchStoreInternal(e){var n,r;let s,i="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=lL(e);return i=ue("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:i,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),s.then(f=>{const h=cL(f),p=new dI;return Object.assign(p,h),p})}}async importFile(e){var n,r;let s,i="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=nL(e);return i=ue("{file_search_store_name}:importFile",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:i,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),s.then(f=>{const h=tL(f),p=new $g;return Object.assign(p,h),p})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function bL(t,e){const n={},r=x(t,["name"]);return r!=null&&y(n,["_url","name"],r),n}function yL(t,e){const n={},r=x(t,["name"]);return r!=null&&y(n,["_url","name"],r),n}function vL(t,e,n){const r={};if(x(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const s=x(t,["tunedModelDisplayName"]);if(e!==void 0&&s!=null&&y(e,["displayName"],s),x(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const i=x(t,["epochCount"]);e!==void 0&&i!=null&&y(e,["tuningTask","hyperparameters","epochCount"],i);const c=x(t,["learningRateMultiplier"]);if(c!=null&&y(r,["tuningTask","hyperparameters","learningRateMultiplier"],c),x(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(x(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(x(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const d=x(t,["batchSize"]);e!==void 0&&d!=null&&y(e,["tuningTask","hyperparameters","batchSize"],d);const f=x(t,["learningRate"]);if(e!==void 0&&f!=null&&y(e,["tuningTask","hyperparameters","learningRate"],f),x(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(x(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return r}function NL(t,e,n){const r={};let s=x(n,["config","method"]);if(s===void 0&&(s="SUPERVISED_FINE_TUNING"),s==="SUPERVISED_FINE_TUNING"){const N=x(t,["validationDataset"]);e!==void 0&&N!=null&&y(e,["supervisedTuningSpec"],_2(N))}else if(s==="PREFERENCE_TUNING"){const N=x(t,["validationDataset"]);e!==void 0&&N!=null&&y(e,["preferenceOptimizationSpec"],_2(N))}const i=x(t,["tunedModelDisplayName"]);e!==void 0&&i!=null&&y(e,["tunedModelDisplayName"],i);const c=x(t,["description"]);e!==void 0&&c!=null&&y(e,["description"],c);let d=x(n,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const N=x(t,["epochCount"]);e!==void 0&&N!=null&&y(e,["supervisedTuningSpec","hyperParameters","epochCount"],N)}else if(d==="PREFERENCE_TUNING"){const N=x(t,["epochCount"]);e!==void 0&&N!=null&&y(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],N)}let f=x(n,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const N=x(t,["learningRateMultiplier"]);e!==void 0&&N!=null&&y(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],N)}else if(f==="PREFERENCE_TUNING"){const N=x(t,["learningRateMultiplier"]);e!==void 0&&N!=null&&y(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],N)}let h=x(n,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const N=x(t,["exportLastCheckpointOnly"]);e!==void 0&&N!=null&&y(e,["supervisedTuningSpec","exportLastCheckpointOnly"],N)}else if(h==="PREFERENCE_TUNING"){const N=x(t,["exportLastCheckpointOnly"]);e!==void 0&&N!=null&&y(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],N)}let p=x(n,["config","method"]);if(p===void 0&&(p="SUPERVISED_FINE_TUNING"),p==="SUPERVISED_FINE_TUNING"){const N=x(t,["adapterSize"]);e!==void 0&&N!=null&&y(e,["supervisedTuningSpec","hyperParameters","adapterSize"],N)}else if(p==="PREFERENCE_TUNING"){const N=x(t,["adapterSize"]);e!==void 0&&N!=null&&y(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],N)}if(x(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(x(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const g=x(t,["labels"]);e!==void 0&&g!=null&&y(e,["labels"],g);const b=x(t,["beta"]);return e!==void 0&&b!=null&&y(e,["preferenceOptimizationSpec","hyperParameters","beta"],b),r}function CL(t,e){const n={},r=x(t,["baseModel"]);r!=null&&y(n,["baseModel"],r);const s=x(t,["preTunedModel"]);s!=null&&y(n,["preTunedModel"],s);const i=x(t,["trainingDataset"]);i!=null&&DL(i);const c=x(t,["config"]);return c!=null&&vL(c,n),n}function wL(t,e){const n={},r=x(t,["baseModel"]);r!=null&&y(n,["baseModel"],r);const s=x(t,["preTunedModel"]);s!=null&&y(n,["preTunedModel"],s);const i=x(t,["trainingDataset"]);i!=null&&_L(i,n,e);const c=x(t,["config"]);return c!=null&&NL(c,n,e),n}function SL(t,e){const n={},r=x(t,["name"]);return r!=null&&y(n,["_url","name"],r),n}function TL(t,e){const n={},r=x(t,["name"]);return r!=null&&y(n,["_url","name"],r),n}function kL(t,e,n){const r={},s=x(t,["pageSize"]);e!==void 0&&s!=null&&y(e,["_query","pageSize"],s);const i=x(t,["pageToken"]);e!==void 0&&i!=null&&y(e,["_query","pageToken"],i);const c=x(t,["filter"]);return e!==void 0&&c!=null&&y(e,["_query","filter"],c),r}function EL(t,e,n){const r={},s=x(t,["pageSize"]);e!==void 0&&s!=null&&y(e,["_query","pageSize"],s);const i=x(t,["pageToken"]);e!==void 0&&i!=null&&y(e,["_query","pageToken"],i);const c=x(t,["filter"]);return e!==void 0&&c!=null&&y(e,["_query","filter"],c),r}function AL(t,e){const n={},r=x(t,["config"]);return r!=null&&kL(r,n),n}function jL(t,e){const n={},r=x(t,["config"]);return r!=null&&EL(r,n),n}function ML(t,e){const n={},r=x(t,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const s=x(t,["nextPageToken"]);s!=null&&y(n,["nextPageToken"],s);const i=x(t,["tunedModels"]);if(i!=null){let c=i;Array.isArray(c)&&(c=c.map(d=>cS(d))),y(n,["tuningJobs"],c)}return n}function RL(t,e){const n={},r=x(t,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const s=x(t,["nextPageToken"]);s!=null&&y(n,["nextPageToken"],s);const i=x(t,["tuningJobs"]);if(i!=null){let c=i;Array.isArray(c)&&(c=c.map(d=>Wp(d))),y(n,["tuningJobs"],c)}return n}function IL(t,e){const n={},r=x(t,["name"]);r!=null&&y(n,["model"],r);const s=x(t,["name"]);return s!=null&&y(n,["endpoint"],s),n}function DL(t,e){const n={};if(x(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(x(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=x(t,["examples"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(i=>i)),y(n,["examples","examples"],s)}return n}function _L(t,e,n){const r={};let s=x(n,["config","method"]);if(s===void 0&&(s="SUPERVISED_FINE_TUNING"),s==="SUPERVISED_FINE_TUNING"){const c=x(t,["gcsUri"]);e!==void 0&&c!=null&&y(e,["supervisedTuningSpec","trainingDatasetUri"],c)}else if(s==="PREFERENCE_TUNING"){const c=x(t,["gcsUri"]);e!==void 0&&c!=null&&y(e,["preferenceOptimizationSpec","trainingDatasetUri"],c)}let i=x(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const c=x(t,["vertexDatasetResource"]);e!==void 0&&c!=null&&y(e,["supervisedTuningSpec","trainingDatasetUri"],c)}else if(i==="PREFERENCE_TUNING"){const c=x(t,["vertexDatasetResource"]);e!==void 0&&c!=null&&y(e,["preferenceOptimizationSpec","trainingDatasetUri"],c)}if(x(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function cS(t,e){const n={},r=x(t,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const s=x(t,["name"]);s!=null&&y(n,["name"],s);const i=x(t,["state"]);i!=null&&y(n,["state"],Fw(i));const c=x(t,["createTime"]);c!=null&&y(n,["createTime"],c);const d=x(t,["tuningTask","startTime"]);d!=null&&y(n,["startTime"],d);const f=x(t,["tuningTask","completeTime"]);f!=null&&y(n,["endTime"],f);const h=x(t,["updateTime"]);h!=null&&y(n,["updateTime"],h);const p=x(t,["description"]);p!=null&&y(n,["description"],p);const g=x(t,["baseModel"]);g!=null&&y(n,["baseModel"],g);const b=x(t,["_self"]);return b!=null&&y(n,["tunedModel"],IL(b)),n}function Wp(t,e){const n={},r=x(t,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const s=x(t,["name"]);s!=null&&y(n,["name"],s);const i=x(t,["state"]);i!=null&&y(n,["state"],Fw(i));const c=x(t,["createTime"]);c!=null&&y(n,["createTime"],c);const d=x(t,["startTime"]);d!=null&&y(n,["startTime"],d);const f=x(t,["endTime"]);f!=null&&y(n,["endTime"],f);const h=x(t,["updateTime"]);h!=null&&y(n,["updateTime"],h);const p=x(t,["error"]);p!=null&&y(n,["error"],p);const g=x(t,["description"]);g!=null&&y(n,["description"],g);const b=x(t,["baseModel"]);b!=null&&y(n,["baseModel"],b);const N=x(t,["tunedModel"]);N!=null&&y(n,["tunedModel"],N);const w=x(t,["preTunedModel"]);w!=null&&y(n,["preTunedModel"],w);const S=x(t,["supervisedTuningSpec"]);S!=null&&y(n,["supervisedTuningSpec"],S);const T=x(t,["preferenceOptimizationSpec"]);T!=null&&y(n,["preferenceOptimizationSpec"],T);const E=x(t,["tuningDataStats"]);E!=null&&y(n,["tuningDataStats"],E);const M=x(t,["encryptionSpec"]);M!=null&&y(n,["encryptionSpec"],M);const D=x(t,["partnerModelTuningSpec"]);D!=null&&y(n,["partnerModelTuningSpec"],D);const H=x(t,["customBaseModel"]);H!=null&&y(n,["customBaseModel"],H);const V=x(t,["experiment"]);V!=null&&y(n,["experiment"],V);const z=x(t,["labels"]);z!=null&&y(n,["labels"],z);const P=x(t,["outputUri"]);P!=null&&y(n,["outputUri"],P);const te=x(t,["pipelineJob"]);te!=null&&y(n,["pipelineJob"],te);const K=x(t,["serviceAccount"]);K!=null&&y(n,["serviceAccount"],K);const ce=x(t,["tunedModelDisplayName"]);ce!=null&&y(n,["tunedModelDisplayName"],ce);const ye=x(t,["veoTuningSpec"]);return ye!=null&&y(n,["veoTuningSpec"],ye),n}function PL(t,e){const n={},r=x(t,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const s=x(t,["name"]);s!=null&&y(n,["name"],s);const i=x(t,["metadata"]);i!=null&&y(n,["metadata"],i);const c=x(t,["done"]);c!=null&&y(n,["done"],c);const d=x(t,["error"]);return d!=null&&y(n,["error"],d),n}function _2(t,e){const n={},r=x(t,["gcsUri"]);r!=null&&y(n,["validationDatasetUri"],r);const s=x(t,["vertexDatasetResource"]);return s!=null&&y(n,["validationDatasetUri"],s),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class LL extends cs{constructor(e){super(),this.apiClient=e,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new ca(ss.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.tune=async n=>{var r;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const s={tunedModelName:n.baseModel};!((r=n.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(s.checkpointId=n.config.preTunedModelCheckpointId);const i=Object.assign(Object.assign({},n),{preTunedModel:s});return i.baseModel=void 0,await this.tuneInternal(i)}else{const s=Object.assign({},n);return await this.tuneInternal(s)}else{const s=Object.assign({},n),i=await this.tuneMldevInternal(s);let c="";return i.metadata!==void 0&&i.metadata.tunedModel!==void 0?c=i.metadata.tunedModel:i.name!==void 0&&i.name.includes("/operations/")&&(c=i.name.split("/operations/")[0]),{name:c,state:qp.JOB_STATE_QUEUED}}}}async getInternal(e){var n,r,s,i;let c,d="",f={};if(this.apiClient.isVertexAI()){const h=TL(e);return d=ue("{name}",h._url),f=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(g=>{const b=g;return b.sdkHttpResponse={headers:p.headers},b})),c.then(p=>Wp(p))}else{const h=SL(e);return d=ue("{name}",h._url),f=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json().then(g=>{const b=g;return b.sdkHttpResponse={headers:p.headers},b})),c.then(p=>cS(p))}}async listInternal(e){var n,r,s,i;let c,d="",f={};if(this.apiClient.isVertexAI()){const h=jL(e);return d=ue("tuningJobs",h._url),f=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(g=>{const b=g;return b.sdkHttpResponse={headers:p.headers},b})),c.then(p=>{const g=RL(p),b=new h2;return Object.assign(b,g),b})}else{const h=AL(e);return d=ue("tunedModels",h._url),f=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json().then(g=>{const b=g;return b.sdkHttpResponse={headers:p.headers},b})),c.then(p=>{const g=ML(p),b=new h2;return Object.assign(b,g),b})}}async cancel(e){var n,r,s,i;let c="",d={};if(this.apiClient.isVertexAI()){const f=yL(e);c=ue("{name}:cancel",f._url),d=f._query,delete f._url,delete f._query,await this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const f=bL(e);c=ue("{name}:cancel",f._url),d=f._query,delete f._url,delete f._query,await this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}}async tuneInternal(e){var n,r;let s,i="",c={};if(this.apiClient.isVertexAI()){const d=wL(e,e);return i=ue("tuningJobs",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:i,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),s.then(f=>Wp(f))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,r;let s,i="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=CL(e);return i=ue("tunedModels",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:i,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),s.then(f=>PL(f))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class OL{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const BL=1024*1024*8,zL=3,UL=1e3,HL=2,Bu="x-goog-upload-status";async function VL(t,e,n){var r;const s=await dS(t,e,n),i=await(s==null?void 0:s.json());if(((r=s==null?void 0:s.headers)===null||r===void 0?void 0:r[Bu])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return i.file}async function qL(t,e,n){var r;const s=await dS(t,e,n),i=await(s==null?void 0:s.json());if(((r=s==null?void 0:s.headers)===null||r===void 0?void 0:r[Bu])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const c=Bw(i),d=new Jg;return Object.assign(d,c),d}async function dS(t,e,n){var r,s;let i=0,c=0,d=new Fp(new Response),f="upload";for(i=t.size;c<i;){const h=Math.min(BL,i-c),p=t.slice(c,c+h);c+h>=i&&(f+=", finalize");let g=0,b=UL;for(;g<zL&&(d=await n.request({path:"",body:p,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":f,"X-Goog-Upload-Offset":String(c),"Content-Length":String(h)}}}),!(!((r=d==null?void 0:d.headers)===null||r===void 0)&&r[Bu]));)g++,await GL(b),b=b*HL;if(c+=h,((s=d==null?void 0:d.headers)===null||s===void 0?void 0:s[Bu])!=="active")break;if(i<=c)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return d}async function FL(t){return{size:t.size,type:t.type}}function GL(t){return new Promise(e=>setTimeout(e,t))}class $L{async upload(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await VL(e,n,r)}async uploadToFileSearchStore(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await qL(e,n,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await FL(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class JL{create(e,n,r){return new KL(e,n,r)}}class KL{constructor(e,n,r){this.url=e,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const P2="x-goog-api-key";class YL{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(P2)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(P2,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const WL="gl-node/";class hi{constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const r=HR(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion;const s=new YL(this.apiKey);this.apiClient=new hP({auth:s,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:WL+"web",uploader:new $L,downloader:new OL}),this.models=new IP(this.apiClient),this.live=new kP(this.apiClient,s,new JL),this.batches=new fD(this.apiClient),this.chats=new FD(this.models,this.apiClient),this.caches=new HD(this.apiClient),this.files=new e6(this.apiClient),this.operations=new DP(this.apiClient),this.authTokens=new KP(this.apiClient),this.tunings=new LL(this.apiClient),this.fileSearchStores=new xL(this.apiClient)}}const Qn=t=>o.jsxs("svg",{...t,className:`animate-spin ${t.className||""}`,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[o.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),o.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),Vo=({title:t,children:e,defaultOpen:n=!1})=>{const[r,s]=j.useState(n);return o.jsxs("div",{className:"bg-[rgb(var(--color-brand-dark))] border border-[rgb(var(--color-brand-gray-light))] rounded-lg",children:[o.jsxs("button",{type:"button",onClick:()=>s(!r),className:"w-full flex justify-between items-center p-4 text-left font-semibold text-[rgb(var(--color-brand-text-light))]",children:[o.jsx("span",{children:t}),o.jsx("span",{className:`transform transition-transform duration-200 ${r?"rotate-180":""}`,children:""})]}),r&&o.jsx("div",{className:"p-6 border-t border-[rgb(var(--color-brand-gray-light))]",children:e})]})},L2=({product:t,collections:e,onSave:n,onCancel:r})=>{var O,J,pe,we,Be;const s=!!(t!=null&&t.id)||(t==null?void 0:t.id)===""&&!!t.name,[i,c]=j.useState({name:"",shortDescription:"",description:"",images:[],price:0,compareAtPrice:void 0,costPerItem:void 0,status:"Ativo",sku:"",barcode:"",trackQuantity:!0,inventory:10,continueSelling:!1,requiresShipping:!0,chargeTax:!0,type:"Fsico",collectionId:((O=e[0])==null?void 0:O.id)||null,seoTitle:"",seoDescription:"",urlHandle:"",weight:0,weightUnit:"kg",supplier:"",options:[],variants:[],...t}),[d,f]=j.useState(!1),[h,p]=j.useState(!1),g=j.useRef(null),[b,N]=j.useState({}),w=j.useMemo(()=>(i.options||[]).length>0,[i.options]);j.useEffect(()=>{var ke;if(!w){(ke=i.variants)!=null&&ke.length&&c(Ae=>({...Ae,variants:[]}));return}const R=i.variants||[],B=i.options||[];if(B.length===0||B.every(Ae=>Ae.values.length===0)){R.length>0&&c(Ae=>({...Ae,variants:[]}));return}const X=B.map(Ae=>Ae.values.length>0?Ae.values:[""]),Te=((...Ae)=>Ae.reduce((Ie,Kt)=>Ie.flatMap(ut=>Kt.map(mt=>[...ut,mt])),[[]]))(...X).map((Ae,Ie)=>{const Kt=Array.isArray(Ae)?Ae:[Ae],ut=B.reduce((Rt,ot,Yt)=>(Kt[Yt]&&(Rt[ot.name]=Kt[Yt]),Rt),{}),mt=R.find(Rt=>B.every(ot=>Rt.options[ot.name]===ut[ot.name]));return{id:(mt==null?void 0:mt.id)||`var-${Date.now()}-${Ie}`,options:ut,price:(mt==null?void 0:mt.price)??i.price??0,inventory:(mt==null?void 0:mt.inventory)??0,sku:(mt==null?void 0:mt.sku)??""}});JSON.stringify(Te)!==JSON.stringify(R)&&c(Ae=>({...Ae,variants:Te}))},[i.options,w,i.price]);const S=R=>{c(R?B=>({...B,options:[{id:`opt-${Date.now()}`,name:"Tamanho",values:["P","M","G"]}]}):B=>({...B,options:[],variants:[]}))},T=()=>{c(R=>{var B;return{...R,options:[...R.options||[],{id:`opt-${Date.now()}`,name:`Opo ${(((B=R.options)==null?void 0:B.length)||0)+1}`,values:[]}]}})},E=R=>{c(B=>({...B,options:(B.options||[]).filter((X,oe)=>oe!==R)}))},M=(R,B)=>{c(X=>{const oe=X.options||[],he=oe[R].name,Te=oe.map((Ae,Ie)=>Ie===R?{...Ae,name:B}:Ae),ke=(X.variants||[]).map(Ae=>{if(he in Ae.options){const Ie={...Ae.options};return Ie[B]=Ie[he],delete Ie[he],{...Ae,options:Ie}}return Ae});return{...X,options:Te,variants:ke}})},D=R=>{var X;const B=(X=b[R])==null?void 0:X.trim();B&&(c(oe=>{const he=[...oe.options||[]];return he[R]&&!he[R].values.includes(B)?(he[R]={...he[R],values:[...he[R].values,B]},{...oe,options:he}):oe}),N(oe=>({...oe,[R]:""})))},H=(R,B)=>{c(X=>{const oe=[...X.options||[]];return oe[R]?(oe[R]={...oe[R],values:oe[R].values.filter(he=>he!==B)},{...X,options:oe}):X})},V=(R,B)=>{N(X=>({...X,[R]:B}))},z=(R,B,X)=>{c(oe=>({...oe,variants:(oe.variants||[]).map(he=>he.id===R?{...he,[B]:B==="price"||B==="inventory"?Number(X):X}:he)}))},P=R=>{const{name:B,value:X}=R.target;c(oe=>({...oe,[B]:X}))},te=(R,B)=>{c(X=>({...X,[R]:B}))},K=R=>{c(B=>({...B,description:R}))},ce=R=>{c(B=>({...B,images:[...B.images||[],R]}))},ye=R=>{c(B=>{var X;return{...B,images:(X=B.images)==null?void 0:X.filter(oe=>oe!==R)}})},re=R=>{var B;if(R.preventDefault(),!((B=i.name)!=null&&B.trim())){alert("Por favor, insira um nome para o produto.");return}n(i)},le=()=>{var R;(R=g.current)==null||R.requestSubmit()},ge=async()=>{if(!i.name){alert("Por favor, insira um nome para o produto antes de gerar a descrio.");return}f(!0);try{const R=new hi({apiKey:"PLACEHOLDER_API_KEY"}),B=`Voc  um copywriter especialista em e-commerce para produtos de luxo. Com base no nome do produto "${i.name}" e na descrio curta "${i.shortDescription}", escreva uma descrio completa, atraente e sofisticada para o produto. Use formatao rica em HTML como ttulos (h2), listas de marcadores (ul/li) e negrito (strong) para destacar os principais recursos e benefcios. O tone deve ser elegante e persuasivo, focado em qualidade, design e exclusividade.`,X=await R.models.generateContent({model:"gemini-2.5-flash",contents:B});K(X.text??"")}catch(R){console.error("AI Description Generation Error:",R),alert("Ocorreu um erro ao gerar a descrio. Tente novamente.")}finally{f(!1)}},Y=async()=>{if(!i.name){alert("Por favor, insira um nome para o produto antes de gerar o SEO.");return}p(!0);try{const B=await new hi({apiKey:"PLACEHOLDER_API_KEY"}).models.generateContent({model:"gemini-2.5-flash",contents:`Baseado no nome do produto "${i.name}" e na descrio curta "${i.shortDescription}", gere um Ttulo SEO e uma Meta Descrio SEO otimizados para mecanismos de busca para um e-commerce de luxo.`,config:{responseMimeType:"application/json",responseSchema:{type:Lt.OBJECT,properties:{seoTitle:{type:Lt.STRING,description:"Um ttulo otimizado para SEO com no mximo 60 caracteres."},seoDescription:{type:Lt.STRING,description:"Uma meta descrio otimizada para SEO com no mximo 160 caracteres."}},required:["seoTitle","seoDescription"]}}}),X=JSON.parse(B.text??"{}");if(X.seoTitle&&X.seoDescription)c(oe=>({...oe,seoTitle:X.seoTitle,seoDescription:X.seoDescription}));else throw new Error("Resposta da IA em formato invlido.")}catch(R){console.error("AI SEO Generation Error:",R),alert("Ocorreu um erro ao gerar o contedo de SEO. Tente novamente.")}finally{p(!1)}};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"pb-6 mb-6 flex justify-between items-center border-b border-[rgb(var(--color-brand-gray-light))]",children:[o.jsx("h1",{className:"text-2xl font-bold text-[rgb(var(--color-brand-text-light))]",children:s?"Editar Produto":"Adicionar Produto"}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("button",{type:"button",onClick:r,className:"text-sm font-semibold bg-[rgb(var(--color-brand-gray))] text-[rgb(var(--color-brand-text-light))] py-2 px-4 rounded-md hover:bg-[rgb(var(--color-brand-gray-light))] transition-colors",children:"Descartar"}),o.jsx("button",{type:"button",onClick:le,className:"text-sm font-bold bg-[rgb(var(--color-active-lime))] text-[rgb(var(--color-brand-dark))] py-2 px-4 rounded-md hover:bg-[rgb(var(--color-success))] transition-colors",children:"Salvar"})]})]}),o.jsxs("form",{onSubmit:re,ref:g,className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[o.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[o.jsxs("div",{className:"bg-[rgb(var(--color-brand-dark))] border border-[rgb(var(--color-brand-gray-light))] rounded-lg p-6 space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-[rgb(var(--color-brand-text-light))] mb-2",children:"Nome do Produto"}),o.jsx("input",{type:"text",name:"name",id:"name",value:i.name,onChange:P,className:"w-full bg-[rgb(var(--color-brand-gray))] border-2 border-[rgb(var(--color-brand-gray-light))] rounded-md py-2 px-3 text-[rgb(var(--color-brand-text-light))]"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"shortDescription",className:"block text-sm font-medium text-[rgb(var(--color-brand-text-light))] mb-2",children:"Descrio Curta"}),o.jsx("textarea",{name:"shortDescription",id:"shortDescription",value:i.shortDescription,onChange:P,rows:3,className:"w-full bg-[rgb(var(--color-brand-gray))] border-2 border-[rgb(var(--color-brand-gray-light))] rounded-md py-2 px-3 text-[rgb(var(--color-brand-text-light))]"})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsx("label",{className:"block text-sm font-medium text-[rgb(var(--color-brand-text-light))]",children:"Descrio Completa"}),o.jsxs("button",{type:"button",onClick:ge,disabled:d,className:"flex items-center gap-1.5 text-sm font-semibold bg-[rgb(var(--color-brand-gold))]/[.10] text-[rgb(var(--color-brand-gold))] py-1 px-3 rounded-md hover:bg-[rgb(var(--color-brand-gold))]/[.20] transition-colors disabled:opacity-50",children:[d?o.jsx(Qn,{className:"w-4 h-4"}):o.jsx(_u,{className:"w-4 h-4"}),d?"Gerando...":"Gerar com IA"]})]}),o.jsx(Ow,{value:i.description||"",onChange:K})]})]}),o.jsxs("div",{className:"bg-[rgb(var(--color-brand-dark))] border border-[rgb(var(--color-brand-gray-light))] rounded-lg p-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-[rgb(var(--color-brand-text-light))] mb-4",children:"Mdia"}),o.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4",children:[(J=i.images)==null?void 0:J.map(R=>o.jsxs("div",{className:"relative group aspect-square",children:[o.jsx("img",{src:R,alt:"preview",className:"w-full h-full object-cover rounded-md"}),o.jsx("div",{className:"absolute inset-0 bg-[rgb(var(--color-brand-dark))]/[.60] opacity-0 group-hover:opacity-100 flex items-center justify-center",children:o.jsx("button",{type:"button",onClick:()=>ye(R),className:"p-2 bg-[rgb(var(--color-error))] rounded-full",children:o.jsx(jt,{className:"w-5 h-5"})})})]},R)),o.jsx(Et,{currentImage:"",onImageUpload:ce,placeholderText:"Adicionar imagem",aspectRatio:"square"})]})]}),o.jsx(Vo,{title:"Preos",defaultOpen:!0,children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"price",className:"block text-sm font-medium text-[rgb(var(--color-brand-text-light))] mb-2",children:"Preo"}),o.jsx("input",{type:"number",name:"price",id:"price",value:i.price,onChange:P,className:"w-full bg-[rgb(var(--color-brand-gray))] border-2 border-[rgb(var(--color-brand-gray-light))] rounded-md py-2 px-3 text-[rgb(var(--color-brand-text-light))]",step:"0.01",min:"0"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"compareAtPrice",className:"block text-sm font-medium text-[rgb(var(--color-brand-text-light))] mb-2",children:"Preo de Comparao (opcional)"}),o.jsx("input",{type:"number",name:"compareAtPrice",id:"compareAtPrice",value:i.compareAtPrice,onChange:P,className:"w-full bg-[rgb(var(--color-brand-gray))] border-2 border-[rgb(var(--color-brand-gray-light))] rounded-md py-2 px-3 text-[rgb(var(--color-brand-text-light))]",step:"0.01",min:"0"}),o.jsx("p",{className:"text-xs text-[rgb(var(--color-brand-text-dim))] mt-1",children:"Defina um preo mais alto para mostrar um desconto."})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"costPerItem",className:"block text-sm font-medium text-[rgb(var(--color-brand-text-light))] mb-2",children:"Custo por Item (opcional)"}),o.jsx("input",{type:"number",name:"costPerItem",id:"costPerItem",value:i.costPerItem,onChange:P,className:"w-full bg-[rgb(var(--color-brand-gray))] border-2 border-[rgb(var(--color-brand-gray-light))] rounded-md py-2 px-3 text-[rgb(var(--color-brand-text-light))]",step:"0.01",min:"0"}),o.jsx("p",{className:"text-xs text-[rgb(var(--color-brand-text-dim))] mt-1",children:"Exibido apenas para voc. Para calcular margem."})]})]})}),o.jsx(Vo,{title:"Estoque",defaultOpen:!0,children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("label",{htmlFor:"trackQuantity",className:"block text-sm font-medium text-[rgb(var(--color-brand-text-light))]",children:"Rastrear quantidade"}),o.jsx(Xe,{checked:!!i.trackQuantity,onChange:R=>te("trackQuantity",R),labelId:"trackQuantity"})]}),i.trackQuantity&&o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"inventory",className:"block text-sm font-medium text-[rgb(var(--color-brand-text-light))] mb-2",children:"Quantidade disponvel"}),o.jsx("input",{type:"number",name:"inventory",id:"inventory",value:i.inventory,onChange:P,className:"w-full bg-[rgb(var(--color-brand-gray))] border-2 border-[rgb(var(--color-brand-gray-light))] rounded-md py-2 px-3 text-[rgb(var(--color-brand-text-light))]",min:"0"})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("label",{htmlFor:"continueSelling",className:"block text-sm font-medium text-[rgb(var(--color-brand-text-light))]",children:"Continuar vendendo quando esgotar"}),o.jsx(Xe,{checked:!!i.continueSelling,onChange:R=>te("continueSelling",R),labelId:"continueSelling"})]})]})]})}),o.jsx(Vo,{title:"Variaes",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("label",{htmlFor:"hasVariants",className:"block text-sm font-medium text-[rgb(var(--color-brand-text-light))]",children:"Este produto tem mltiplas opes (ex: tamanhos, cores)?"}),o.jsx(Xe,{checked:w,onChange:S,labelId:"hasVariants"})]}),w&&o.jsxs("div",{className:"space-y-6",children:[(i.options||[]).map((R,B)=>o.jsxs("div",{className:"p-4 bg-[rgb(var(--color-brand-gray))]/[.50] rounded-lg border border-[rgb(var(--color-brand-gray-light))]",children:[o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsx("label",{className:"text-sm font-medium text-[rgb(var(--color-brand-text-light))]",children:"Nome da Opo"}),o.jsx("button",{type:"button",onClick:()=>E(B),className:"p-1 text-[rgb(var(--color-brand-text-dim))] hover:text-[rgb(var(--color-error))]",children:o.jsx(jt,{className:"w-4 h-4"})})]}),o.jsx("input",{type:"text",value:R.name,onChange:X=>M(B,X.target.value),className:"w-full bg-[rgb(var(--color-brand-gray))] border-2 border-[rgb(var(--color-brand-gray-light))] rounded-md py-1 px-2 text-[rgb(var(--color-brand-text-light))] text-sm mb-3"}),o.jsx("label",{className:"text-sm font-medium text-[rgb(var(--color-brand-text-light))]",children:"Valores da Opo"}),o.jsx("div",{className:"flex flex-wrap gap-2 my-2 min-h-[2.25rem]",children:R.values.map(X=>o.jsxs("div",{className:"flex items-center gap-1 bg-[rgb(var(--color-brand-gray))] rounded-full px-3 py-1 text-sm",children:[X,o.jsx("button",{type:"button",onClick:()=>H(B,X),className:"text-[rgb(var(--color-brand-text-dim))] hover:text-[rgb(var(--color-brand-text-light))] leading-none -mr-1",children:""})]},X))}),o.jsx("div",{className:"flex gap-2",children:o.jsx("input",{type:"text",value:b[B]||"",onChange:X=>V(B,X.target.value),onKeyDown:X=>{X.key==="Enter"&&(X.preventDefault(),D(B))},placeholder:"Adicionar novo valor e pressionar Enter",className:"flex-grow bg-[rgb(var(--color-brand-gray))] border-2 border-[rgb(var(--color-brand-gray-light))] rounded-md py-1 px-2 text-[rgb(var(--color-brand-text-light))] text-sm"})})]},R.id)),o.jsx("button",{type:"button",onClick:T,className:"text-sm font-semibold text-[rgb(var(--color-brand-gold))] hover:underline",children:"+ Adicionar outra opo"}),(((pe=i.variants)==null?void 0:pe.length)||0)>0&&o.jsxs("div",{className:"mt-6 border-t border-[rgb(var(--color-brand-gray-light))] pt-6",children:[o.jsx("h4",{className:"text-md font-semibold text-[rgb(var(--color-brand-text-light))] mb-2",children:"Variantes"}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-sm text-left text-[rgb(var(--color-brand-text-dim))]",children:[o.jsx("thead",{className:"text-xs text-[rgb(var(--color-brand-text-dim))] uppercase bg-[rgb(var(--color-brand-dark))]",children:o.jsxs("tr",{children:[(i.options||[]).map(R=>o.jsx("th",{className:"px-4 py-2",children:R.name},R.id)),o.jsx("th",{className:"px-4 py-2",children:"Preo"}),o.jsx("th",{className:"px-4 py-2",children:"Estoque"}),o.jsx("th",{className:"px-4 py-2",children:"SKU"})]})}),o.jsx("tbody",{children:(i.variants||[]).map(R=>o.jsxs("tr",{className:"border-t border-[rgb(var(--color-brand-gray-light))]",children:[Object.entries(R.options).map(([B,X])=>o.jsx("td",{className:"px-4 py-2",children:X},B)),o.jsx("td",{className:"px-4 py-2",children:o.jsx("input",{type:"number",value:R.price,onChange:B=>z(R.id,"price",B.target.value),className:"w-24 bg-[rgb(var(--color-brand-gray))] border-2 border-[rgb(var(--color-brand-gray-light))] rounded-md py-1 px-2 text-[rgb(var(--color-brand-text-light))] text-sm"})}),o.jsx("td",{className:"px-4 py-2",children:o.jsx("input",{type:"number",value:R.inventory,onChange:B=>z(R.id,"inventory",B.target.value),className:"w-24 bg-[rgb(var(--color-brand-gray))] border-2 border-[rgb(var(--color-brand-gray-light))] rounded-md py-1 px-2 text-[rgb(var(--color-brand-text-light))] text-sm"})}),o.jsx("td",{className:"px-4 py-2",children:o.jsx("input",{type:"text",value:R.sku,onChange:B=>z(R.id,"sku",B.target.value),className:"w-24 bg-[rgb(var(--color-brand-gray))] border-2 border-[rgb(var(--color-brand-gray-light))] rounded-md py-1 px-2 text-[rgb(var(--color-brand-text-light))] text-sm"})})]},R.id))})]})})]})]})]})}),o.jsx(Vo,{title:"Envio",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("label",{htmlFor:"requiresShipping",className:"block text-sm font-medium text-[rgb(var(--color-brand-text-light))]",children:"Este produto exige envio?"}),o.jsx(Xe,{checked:!!i.requiresShipping,onChange:R=>te("requiresShipping",R),labelId:"requiresShipping"})]}),i.requiresShipping&&o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"weight",className:"block text-sm font-medium text-[rgb(var(--color-brand-text-light))] mb-2",children:"Peso"}),o.jsx("input",{type:"number",name:"weight",id:"weight",value:i.weight,onChange:P,className:"w-full bg-[rgb(var(--color-brand-gray))] border-2 border-[rgb(var(--color-brand-gray-light))] rounded-md py-2 px-3 text-[rgb(var(--color-brand-text-light))]",step:"0.01",min:"0"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"weightUnit",className:"block text-sm font-medium text-[rgb(var(--color-brand-text-light))] mb-2",children:"Unidade de Peso"}),o.jsxs("select",{name:"weightUnit",id:"weightUnit",value:i.weightUnit,onChange:P,className:"w-full bg-[rgb(var(--color-brand-gray))] border-2 border-[rgb(var(--color-brand-gray-light))] rounded-md py-2 px-3 text-[rgb(var(--color-brand-text-light))]",children:[o.jsx("option",{value:"kg",children:"kg"}),o.jsx("option",{value:"g",children:"g"}),o.jsx("option",{value:"lb",children:"lb"}),o.jsx("option",{value:"oz",children:"oz"})]})]})]})]})})]}),o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{className:"bg-[rgb(var(--color-brand-dark))] border border-[rgb(var(--color-brand-gray-light))] rounded-lg p-6 space-y-4",children:[o.jsx("h3",{className:"text-lg font-semibold text-[rgb(var(--color-brand-text-light))]",children:"Status do Produto"}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"status",className:"block text-sm font-medium text-[rgb(var(--color-brand-text-light))] mb-2",children:"Status"}),o.jsxs("select",{name:"status",id:"status",value:i.status,onChange:P,className:"w-full bg-[rgb(var(--color-brand-gray))] border-2 border-[rgb(var(--color-brand-gray-light))] rounded-md py-2 px-3 text-[rgb(var(--color-brand-text-light))]",children:[o.jsx("option",{value:"Ativo",children:"Ativo"}),o.jsx("option",{value:"Rascunho",children:"Rascunho"})]})]})]}),o.jsxs("div",{className:"bg-[rgb(var(--color-brand-dark))] border border-[rgb(var(--color-brand-gray-light))] rounded-lg p-6 space-y-4",children:[o.jsx("h3",{className:"text-lg font-semibold text-[rgb(var(--color-brand-text-light))]",children:"Organizao do Produto"}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"collectionId",className:"block text-sm font-medium text-[rgb(var(--color-brand-text-light))] mb-2",children:"Coleo"}),o.jsxs("select",{name:"collectionId",id:"collectionId",value:i.collectionId||"",onChange:P,className:"w-full bg-[rgb(var(--color-brand-gray))] border-2 border-[rgb(var(--color-brand-gray-light))] rounded-md py-2 px-3 text-[rgb(var(--color-brand-text-light))]",children:[o.jsx("option",{value:"",children:"Nenhuma"}),e.map(R=>o.jsx("option",{value:R.id,children:R.title},R.id))]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"type",className:"block text-sm font-medium text-[rgb(var(--color-brand-text-light))] mb-2",children:"Tipo de Produto"}),o.jsxs("select",{name:"type",id:"type",value:i.type,onChange:P,className:"w-full bg-[rgb(var(--color-brand-gray))] border-2 border-[rgb(var(--color-brand-gray-light))] rounded-md py-2 px-3 text-[rgb(var(--color-brand-text-light))]",children:[o.jsx("option",{value:"Fsico",children:"Fsico"}),o.jsx("option",{value:"Digital",children:"Digital"}),o.jsx("option",{value:"Dropshipping",children:"Dropshipping"})]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"supplier",className:"block text-sm font-medium text-[rgb(var(--color-brand-text-light))] mb-2",children:"Fornecedor (opcional)"}),o.jsx("input",{type:"text",name:"supplier",id:"supplier",value:i.supplier,onChange:P,className:"w-full bg-[rgb(var(--color-brand-gray))] border-2 border-[rgb(var(--color-brand-gray-light))] rounded-md py-2 px-3 text-[rgb(var(--color-brand-text-light))]"})]})]}),o.jsx(Vo,{title:"SEO (Otimizao para Busca)",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("button",{type:"button",onClick:Y,disabled:h,className:"w-full flex items-center justify-center gap-1.5 text-sm font-semibold bg-[rgb(var(--color-brand-gold))]/[.10] text-[rgb(var(--color-brand-gold))] py-2 px-3 rounded-md hover:bg-[rgb(var(--color-brand-gold))]/[.20] transition-colors disabled:opacity-50",children:[h?o.jsx(Qn,{className:"w-4 h-4"}):o.jsx(_u,{className:"w-4 h-4"}),h?"Gerando...":"Gerar SEO com IA"]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"seoTitle",className:"block text-sm font-medium text-[rgb(var(--color-brand-text-light))] mb-2",children:"Ttulo SEO"}),o.jsx("input",{type:"text",name:"seoTitle",id:"seoTitle",value:i.seoTitle,onChange:P,className:"w-full bg-[rgb(var(--color-brand-gray))] border-2 border-[rgb(var(--color-brand-gray-light))] rounded-md py-2 px-3 text-[rgb(var(--color-brand-text-light))]",maxLength:60}),o.jsxs("p",{className:"text-xs text-[rgb(var(--color-brand-text-dim))] mt-1",children:[((we=i.seoTitle)==null?void 0:we.length)||0," de 60 caracteres"]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"seoDescription",className:"block text-sm font-medium text-[rgb(var(--color-brand-text-light))] mb-2",children:"Meta Descrio"}),o.jsx("textarea",{name:"seoDescription",id:"seoDescription",value:i.seoDescription,onChange:P,rows:3,className:"w-full bg-[rgb(var(--color-brand-gray))] border-2 border-[rgb(var(--color-brand-gray-light))] rounded-md py-2 px-3 text-[rgb(var(--color-brand-text-light))]",maxLength:160}),o.jsxs("p",{className:"text-xs text-[rgb(var(--color-brand-text-dim))] mt-1",children:[((Be=i.seoDescription)==null?void 0:Be.length)||0," de 160 caracteres"]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"urlHandle",className:"block text-sm font-medium text-[rgb(var(--color-brand-text-light))] mb-2",children:"URL Handle"}),o.jsx("input",{type:"text",name:"urlHandle",id:"urlHandle",value:i.urlHandle,onChange:P,className:"w-full bg-[rgb(var(--color-brand-gray))] border-2 border-[rgb(var(--color-brand-gray-light))] rounded-md py-2 px-3 text-[rgb(var(--color-brand-text-light))]"}),o.jsx("p",{className:"text-xs text-[rgb(var(--color-brand-text-dim))] mt-1",children:"Ex: /produtos/nome-do-produto"})]})]})}),o.jsx(Vo,{title:"Informaes Adicionais",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"sku",className:"block text-sm font-medium text-[rgb(var(--color-brand-text-light))] mb-2",children:"SKU (Stock Keeping Unit)"}),o.jsx("input",{type:"text",name:"sku",id:"sku",value:i.sku,onChange:P,className:"w-full bg-[rgb(var(--color-brand-gray))] border-2 border-[rgb(var(--color-brand-gray-light))] rounded-md py-2 px-3 text-[rgb(var(--color-brand-text-light))]"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"barcode",className:"block text-sm font-medium text-[rgb(var(--color-brand-text-light))] mb-2",children:"Cdigo de Barras (ISBN, UPC, GTIN)"}),o.jsx("input",{type:"text",name:"barcode",id:"barcode",value:i.barcode,onChange:P,className:"w-full bg-[rgb(var(--color-brand-gray))] border-2 border-[rgb(var(--color-brand-gray-light))] rounded-md py-2 px-3 text-[rgb(var(--color-brand-text-light))]"})]})]})}),o.jsx(Vo,{title:"Tributao",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("label",{htmlFor:"chargeTax",className:"block text-sm font-medium text-[rgb(var(--color-brand-text-light))]",children:"Cobrar imposto sobre este produto?"}),o.jsx(Xe,{checked:!!i.chargeTax,onChange:R=>te("chargeTax",R),labelId:"chargeTax"})]})})]})]})]})},XL=({products:t,onSave:e,onNavigate:n})=>{const[r,s]=j.useState(""),[i,c]=j.useState({}),[d,f]=j.useState(!1);j.useEffect(()=>{const b=t.reduce((N,w)=>(N[w.id]=w.inventory,N),{});c(b)},[t]);const h=j.useMemo(()=>t.filter(b=>b.name.toLowerCase().includes(r.toLowerCase())),[t,r]),p=(b,N)=>{c(w=>({...w,[b]:N})),f(!0)},g=()=>{const b=t.map(N=>{const w=i[N.id];return w!==void 0&&w!==N.inventory?{...N,inventory:Number(w)}:N});e(b),f(!1)};return o.jsxs("div",{className:"bg-[rgb(var(--color-brand-dark))] border border-[rgb(var(--color-brand-gray-light))] rounded-lg",children:[o.jsxs("div",{className:"p-4 border-b border-[rgb(var(--color-brand-gray-light))] flex justify-between items-center",children:[o.jsxs("div",{className:"relative max-w-lg",children:[o.jsx("input",{type:"text",placeholder:"Buscar produtos...",value:r,onChange:b=>s(b.target.value),className:"w-full bg-[rgb(var(--color-brand-gray))] border-2 border-[rgb(var(--color-brand-gray-light))] rounded-md py-2 pl-10 pr-4 text-[rgb(var(--color-brand-text-light))]"}),o.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:o.jsx(tn,{className:"h-5 w-5 text-[rgb(var(--color-brand-text-dim))]"})})]}),d&&o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("p",{className:"text-sm text-[rgb(var(--color-brand-gold))]",children:"Voc tem alteraes no salvas."}),o.jsx("button",{onClick:g,className:"text-sm font-bold bg-[rgb(var(--color-active-lime))] text-[rgb(var(--color-brand-dark))] py-2 px-4 rounded-md hover:bg-[rgb(var(--color-success))]",children:"Salvar Alteraes"})]})]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-sm text-left text-[rgb(var(--color-brand-text-dim))]",children:[o.jsx("thead",{className:"text-xs text-[rgb(var(--color-brand-text-dim))] uppercase bg-[rgb(var(--color-brand-dark))]",children:o.jsxs("tr",{children:[o.jsx("th",{scope:"col",className:"px-6 py-3",children:"Produto"}),o.jsx("th",{scope:"col",className:"px-6 py-3",children:"SKU"}),o.jsx("th",{scope:"col",className:"px-6 py-3",children:"Disponvel"})]})}),o.jsx("tbody",{children:h.map(b=>o.jsxs("tr",{className:"border-b border-[rgb(var(--color-brand-gray-light))]",children:[o.jsx("td",{className:"px-6 py-4 font-medium text-[rgb(var(--color-brand-text-light))]",children:b.name}),o.jsx("td",{className:"px-6 py-4",children:b.sku?b.sku:o.jsx("button",{onClick:()=>n("addEditProduct",b),className:"text-[rgb(var(--color-brand-gold))] hover:underline text-xs",title:"Adicionar SKU para este produto",children:"Adicionar SKU"})}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("input",{type:"number",value:i[b.id]??"",onChange:N=>p(b.id,N.target.value),className:"w-24 bg-[rgb(var(--color-brand-gray))] border-2 border-[rgb(var(--color-brand-gray-light))] rounded-md py-1 px-2 text-[rgb(var(--color-brand-text-light))]"})})]},b.id))})]})})]})},Ol=t=>o.jsx("svg",{...t,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75v10.5a2.25 2.25 0 01-2.25 2.25h-15a2.25 2.25 0 01-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0019.5 4.5h-15a2.25 2.25 0 00-2.25 2.25m19.5 0v.243a2.25 2.25 0 01-1.07 1.916l-7.5 4.615a2.25 2.25 0 01-2.36 0L3.32 8.91a2.25 2.25 0 01-1.07-1.916V6.75"})}),Xp=t=>o.jsx("svg",{...t,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 002.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 01-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 00-1.091-.852H4.5A2.25 2.25 0 002.25 4.5v2.25z"})}),sc=t=>o.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:[o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 10.5a3 3 0 11-6 0 3 3 0 016 0z"}),o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1115 0z"})]}),as=t=>o.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:[o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m2.25 0H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z"}),o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.75 10.5h4.5m-4.5 3h4.5m-4.5 3h4.5"})]}),Od=({icon:t,label:e,children:n})=>o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(t,{className:"w-5 h-5 text-[rgb(var(--color-brand-text-dim))] mt-1 flex-shrink-0"}),o.jsxs("div",{className:"flex-grow",children:[o.jsx("p",{className:"text-sm text-[rgb(var(--color-brand-text-dim))]",children:e}),o.jsx("p",{className:"text-[rgb(var(--color-brand-text-light))] font-medium",children:n})]})]}),QL=({order:t,onClose:e})=>o.jsx("div",{className:"fixed inset-0 bg-[rgb(var(--color-brand-dark))]/[.70] z-50 flex items-center justify-center p-4",onClick:e,"aria-modal":"true",role:"dialog",children:o.jsxs("div",{className:"bg-[rgb(var(--color-brand-dark))] border border-[rgb(var(--color-brand-gray-light))] rounded-lg w-full max-w-lg max-h-[90vh] flex flex-col",onClick:n=>n.stopPropagation(),children:[o.jsxs("header",{className:"flex items-center justify-between p-4 border-b border-[rgb(var(--color-brand-gray-light))] flex-shrink-0",children:[o.jsxs("h2",{className:"text-xl font-bold text-[rgb(var(--color-brand-text-light))] flex items-center gap-2",children:[o.jsx(Bn,{className:"w-6 h-6 text-[rgb(var(--color-brand-gold))]"}),"Detalhes do Cliente"]}),o.jsx("button",{onClick:e,className:"text-[rgb(var(--color-brand-text-dim))] hover:text-[rgb(var(--color-brand-text-light))]","aria-label":"Fechar",children:o.jsx(zn,{className:"w-6 h-6"})})]}),o.jsxs("main",{className:"p-6 overflow-y-auto space-y-6",children:[o.jsxs("div",{className:"bg-[rgb(var(--color-brand-gray))]/[.50] p-4 rounded-lg space-y-4",children:[o.jsx(Od,{icon:Bn,label:"Nome do Cliente",children:t.customerName}),o.jsx(Od,{icon:Ol,label:"E-mail",children:t.customerEmail}),o.jsx(Od,{icon:Xp,label:"Telefone",children:t.customerPhone}),o.jsx(Od,{icon:as,label:"CPF",children:t.customerCpf})]}),o.jsxs("div",{children:[o.jsxs("h3",{className:"text-lg font-semibold text-[rgb(var(--color-brand-text-light))] mb-2 flex items-center gap-2",children:[o.jsx(sc,{className:"w-5 h-5 text-[rgb(var(--color-brand-gold))]"}),"Endereo de Entrega"]}),o.jsxs("div",{className:"bg-[rgb(var(--color-brand-gray))]/[.50] p-4 rounded-lg space-y-1 text-[rgb(var(--color-brand-text-light))]",children:[o.jsxs("p",{children:[t.shippingAddress.street,", ",t.shippingAddress.number]}),t.shippingAddress.complement&&o.jsx("p",{children:t.shippingAddress.complement}),o.jsx("p",{children:t.shippingAddress.neighborhood}),o.jsxs("p",{children:[t.shippingAddress.city," - ",t.shippingAddress.state]}),o.jsxs("p",{children:["CEP: ",t.shippingAddress.zipCode]})]})]})]}),o.jsx("footer",{className:"p-4 bg-[rgb(var(--color-brand-gray))]/[.50] border-t border-[rgb(var(--color-brand-gray-light))] flex-shrink-0 text-right",children:o.jsx("button",{onClick:e,className:"text-sm font-semibold bg-[rgb(var(--color-brand-gray))] text-[rgb(var(--color-brand-text-light))] py-2 px-4 rounded-md hover:bg-[rgb(var(--color-brand-gray-light))]",children:"Fechar"})})]})}),ZL=({status:t})=>{const e="px-2 py-1 text-xs font-semibold rounded-full inline-flex items-center",n={Pago:"bg-[rgb(var(--color-success))]/[0.20] text-[rgb(var(--color-success))]",Pendente:"bg-[rgb(var(--color-warning))]/[0.20] text-[rgb(var(--color-warning))]",Reembolsado:"bg-[rgb(var(--color-brand-gray-light))]/[0.20] text-[rgb(var(--color-brand-text-dim))]","Parcialmente Pago":"bg-[rgb(var(--color-info))]/[0.20] text-[rgb(var(--color-info))]",Cancelado:"bg-[rgb(var(--color-error))]/[0.20] text-[rgb(var(--color-error))]"};return o.jsx("span",{className:`${e} ${n[t]}`,children:t})},e8=({status:t})=>{const e="px-2 py-1 text-xs font-semibold rounded-full inline-flex items-center",n={Realizado:"bg-[rgb(var(--color-success))]/[0.20] text-[rgb(var(--color-success))]","No Realizado":"bg-[rgb(var(--color-warning))]/[0.20] text-[rgb(var(--color-warning))]",Parcial:"bg-[rgb(var(--color-info))]/[0.20] text-[rgb(var(--color-info))]"};return o.jsx("span",{className:`${e} ${n[t]}`,children:t})},t8=({orders:t,onNavigate:e})=>{const[n,r]=j.useState(""),[s,i]=j.useState(null),c=j.useMemo(()=>t.filter(d=>d.id.toLowerCase().includes(n.toLowerCase())||d.customerName.toLowerCase().includes(n.toLowerCase())).sort((d,f)=>new Date(f.date).getTime()-new Date(d.date).getTime()),[t,n]);return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"bg-[rgb(var(--color-brand-dark))] border border-[rgb(var(--color-brand-gray-light))] rounded-lg",children:[o.jsx("div",{className:"p-4 border-b border-[rgb(var(--color-brand-gray-light))]",children:o.jsxs("div",{className:"relative max-w-lg",children:[o.jsx("input",{type:"text",placeholder:"Buscar por N do pedido ou cliente",value:n,onChange:d=>r(d.target.value),className:"w-full bg-[rgb(var(--color-brand-gray))] border-2 border-[rgb(var(--color-brand-gray-light))] rounded-md py-2 pl-10 pr-4 text-[rgb(var(--color-brand-text-light))]"}),o.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:o.jsx(tn,{className:"h-5 w-5 text-[rgb(var(--color-brand-text-dim))]"})})]})}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-sm text-left text-[rgb(var(--color-brand-text-dim))]",children:[o.jsx("thead",{className:"text-xs text-[rgb(var(--color-brand-text-dim))] uppercase bg-[rgb(var(--color-brand-dark))]",children:o.jsxs("tr",{children:[o.jsx("th",{scope:"col",className:"px-6 py-3",children:"Pedido"}),o.jsx("th",{scope:"col",className:"px-6 py-3",children:"Data"}),o.jsx("th",{scope:"col",className:"px-6 py-3",children:"Cliente"}),o.jsx("th",{scope:"col",className:"px-6 py-3 text-right",children:"Total"}),o.jsx("th",{scope:"col",className:"px-6 py-3",children:"Pagamento"}),o.jsx("th",{scope:"col",className:"px-6 py-3",children:"Status"})]})}),o.jsx("tbody",{children:c.map(d=>o.jsxs("tr",{className:"border-b border-[rgb(var(--color-brand-gray-light))] hover:bg-[rgb(var(--color-brand-gray))]/[.50] cursor-pointer",onClick:()=>e("orderDetail",d),children:[o.jsx("td",{className:"px-6 py-4 font-medium text-[rgb(var(--color-brand-gold))]",children:d.id}),o.jsx("td",{className:"px-6 py-4",children:new Date(d.date).toLocaleDateString("pt-BR")}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("button",{className:"text-[rgb(var(--color-brand-text-light))] hover:underline",onClick:f=>{f.stopPropagation(),i(d)},children:d.customerName})}),o.jsx("td",{className:"px-6 py-4 text-right",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:d.currency}).format(d.total)}),o.jsx("td",{className:"px-6 py-4",children:o.jsx(ZL,{status:d.paymentStatus})}),o.jsx("td",{className:"px-6 py-4",children:o.jsx(e8,{status:d.fulfillmentStatus})})]},d.id))})]})})]}),s&&o.jsx(QL,{order:s,onClose:()=>i(null)})]})},ff=t=>o.jsx("svg",{...t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:o.jsx("path",{d:"M16.75 13.96c.25.13.42.3.42.51v.12c0 .24-.1.45-.28.6l-1.03.88c-.53.45-1.2.68-1.87.68-.6 0-1.16-.17-1.65-.49-.57-.38-.97-.84-1.2-1.35-.3-.6-.46-1.25-.46-1.95 0-.7.15-1.37.46-1.98s.7-1.12 1.18-1.54c.5-.42 1.05-.73 1.64-.93.52-.17 1.04-.26 1.54-.26.6 0 1.15.12 1.64.35.5.23.9.56 1.2 1 .3.42.5.9.6 1.42.08.5.13 1 .13 1.51 0 .19-.01.38-.03.55zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10c1.73 0 3.36-.44 4.78-1.22l2.96 1.05-1.05-2.96C19.56 15.36 20 13.73 20 12c0-5.52-4.48-10-8-10zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"})}),n8=({order:t,onUpdateOrder:e,onBack:n})=>{const[r,s]=j.useState(t.trackingCode||""),[i,c]=j.useState(!1),[d,f]=j.useState(t.notes||""),h=(w,S)=>{const T=w==="payment"?{paymentStatus:S}:{fulfillmentStatus:S};e(t.id,T)},p=()=>{e(t.id,{trackingCode:r}),c(!1)},g=()=>{e(t.id,{notes:d}),alert("Observao salva!")},b=`Ol ${t.customerName}, seu pedido ${t.id} foi enviado! O cdigo de rastreamento : ${r}`,N=`https://wa.me/55${t.customerPhone.replace(/\D/g,"")}?text=${encodeURIComponent(b)}`;return o.jsxs("div",{children:[o.jsx("button",{onClick:n,className:"text-sm text-[rgb(var(--color-brand-text-dim))] hover:text-[rgb(var(--color-brand-gold))] mb-6",children:" Voltar para Pedidos"}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[o.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[o.jsxs("div",{className:"bg-[rgb(var(--color-brand-dark))] border border-[rgb(var(--color-brand-gray-light))] rounded-lg p-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-[rgb(var(--color-brand-text-light))] mb-4",children:"Itens do Pedido"}),o.jsx("div",{className:"divide-y divide-[rgb(var(--color-brand-gray-light))]",children:t.items.map((w,S)=>o.jsxs("div",{className:"flex items-center justify-between py-4",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"w-16 h-16 bg-[rgb(var(--color-brand-gray))] rounded-md flex-shrink-0"}),o.jsxs("div",{children:[o.jsx("p",{className:"font-semibold text-[rgb(var(--color-brand-text-light))]",children:w.productName}),w.sku&&o.jsxs("p",{className:"text-xs text-[rgb(var(--color-brand-text-dim))] font-mono",children:["SKU: ",w.sku]}),w.variantText&&o.jsx("p",{className:"text-sm text-[rgb(var(--color-brand-text-dim))]",children:w.variantText}),o.jsxs("p",{className:"text-sm text-[rgb(var(--color-brand-text-dim))]",children:[new Intl.NumberFormat("pt-BR",{style:"currency",currency:t.currency}).format(w.price)," x ",w.quantity]})]})]}),o.jsx("p",{className:"font-semibold text-[rgb(var(--color-brand-text-light))]",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:t.currency}).format(w.price*w.quantity)})]},S))}),o.jsx("div",{className:"pt-4 mt-4 border-t border-[rgb(var(--color-brand-gray-light))] text-right",children:o.jsxs("p",{className:"text-[rgb(var(--color-brand-text-dim))]",children:["Total: ",o.jsx("span",{className:"text-xl text-[rgb(var(--color-brand-text-light))] font-bold",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:t.currency}).format(t.total)})]})})]}),o.jsxs("div",{className:"bg-[rgb(var(--color-brand-dark))] border border-[rgb(var(--color-brand-gray-light))] rounded-lg p-6",children:[o.jsxs("h3",{className:"text-lg font-semibold text-[rgb(var(--color-brand-text-light))] mb-4 flex items-center gap-2",children:[o.jsx(as,{className:"w-6 h-6 text-[rgb(var(--color-brand-gold))]"})," Observaes do Pedido"]}),o.jsx("textarea",{value:d,onChange:w=>f(w.target.value),className:"w-full bg-[rgb(var(--color-brand-gray))] border-2 border-[rgb(var(--color-brand-gray-light))] rounded-md py-2 px-3 text-[rgb(var(--color-brand-text-light))]",placeholder:"Adicione observaes internas sobre este pedido...",rows:4}),o.jsx("div",{className:"text-right mt-2",children:o.jsx("button",{onClick:g,disabled:d===(t.notes||""),className:"bg-[rgb(var(--color-brand-gold))] text-[rgb(var(--color-brand-dark))] font-bold py-2 px-4 rounded-md hover:bg-yellow-400 disabled:opacity-50 disabled:cursor-not-allowed",children:"Salvar Observao"})})]})]}),o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{className:"bg-[rgb(var(--color-brand-dark))] border border-[rgb(var(--color-brand-gray-light))] rounded-lg p-6 space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-[rgb(var(--color-brand-text-dim))]",children:"Status do Pagamento"}),o.jsxs("select",{value:t.paymentStatus,onChange:w=>h("payment",w.target.value),className:"w-full mt-1 bg-[rgb(var(--color-brand-gray))] border-2 border-[rgb(var(--color-brand-gray-light))] rounded-md py-2 px-3 text-[rgb(var(--color-brand-text-light))]",children:[o.jsx("option",{children:"Pendente"}),o.jsx("option",{children:"Pago"}),o.jsx("option",{children:"Cancelado"}),o.jsx("option",{children:"Reembolsado"}),o.jsx("option",{children:"Parcialmente Pago"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-[rgb(var(--color-brand-text-dim))]",children:"Status do Pedido"}),o.jsxs("select",{value:t.fulfillmentStatus,onChange:w=>h("fulfillment",w.target.value),className:"w-full mt-1 bg-[rgb(var(--color-brand-gray))] border-2 border-[rgb(var(--color-brand-gray-light))] rounded-md py-2 px-3 text-[rgb(var(--color-brand-text-light))]",children:[o.jsx("option",{children:"No Realizado"}),o.jsx("option",{children:"Realizado"}),o.jsx("option",{children:"Parcial"})]})]})]}),o.jsxs("div",{className:"bg-[rgb(var(--color-brand-dark))] border border-[rgb(var(--color-brand-gray-light))] rounded-lg p-6",children:[o.jsxs("h3",{className:"text-lg font-semibold text-[rgb(var(--color-brand-text-light))] mb-4 flex items-center gap-2",children:[o.jsx(Bn,{className:"w-6 h-6 text-[rgb(var(--color-brand-gold))]"})," Cliente"]}),o.jsx("p",{className:"font-bold text-[rgb(var(--color-brand-gold))] text-base",children:t.customerName}),o.jsx("p",{className:"text-sm text-[rgb(var(--color-brand-text-dim))]",children:t.customerEmail}),o.jsx("p",{className:"text-sm text-[rgb(var(--color-brand-text-dim))]",children:t.customerPhone}),o.jsxs("p",{className:"text-sm text-[rgb(var(--color-brand-text-dim))] mt-2 flex items-center gap-2",children:[o.jsx(as,{className:"w-4 h-4 text-[rgb(var(--color-brand-text-dim))]"})," CPF: ",t.customerCpf]})]}),o.jsxs("div",{className:"bg-[rgb(var(--color-brand-dark))] border border-[rgb(var(--color-brand-gray-light))] rounded-lg p-6",children:[o.jsxs("h3",{className:"text-lg font-semibold text-[rgb(var(--color-brand-text-light))] mb-4 flex items-center gap-2",children:[o.jsx(sc,{className:"w-6 h-6 text-[rgb(var(--color-brand-gold))]"})," Endereo de Entrega"]}),o.jsxs("address",{className:"text-sm not-italic text-[rgb(var(--color-brand-text-dim))] space-y-1",children:[o.jsxs("p",{children:[t.shippingAddress.street,", ",t.shippingAddress.number]}),t.shippingAddress.complement&&o.jsx("p",{children:t.shippingAddress.complement}),o.jsx("p",{children:t.shippingAddress.neighborhood}),o.jsxs("p",{children:[t.shippingAddress.city," - ",t.shippingAddress.state]}),o.jsxs("p",{children:["CEP: ",t.shippingAddress.zipCode]})]})]}),o.jsxs("div",{className:"bg-[rgb(var(--color-brand-dark))] border border-[rgb(var(--color-brand-gray-light))] rounded-lg p-6",children:[o.jsxs("h3",{className:"text-lg font-semibold text-[rgb(var(--color-brand-text-light))] mb-4 flex items-center gap-2",children:[o.jsx(mi,{className:"w-6 h-6 text-[rgb(var(--color-brand-gold))]"})," Entrega e Rastreamento"]}),t.shippingMethod&&o.jsxs("div",{className:"mb-4",children:[o.jsx("p",{className:"text-sm text-[rgb(var(--color-brand-text-dim))]",children:"Mtodo de Envio"}),o.jsx("p",{className:"font-semibold text-[rgb(var(--color-brand-text-light))]",children:t.shippingMethod})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm text-[rgb(var(--color-brand-text-dim))]",children:"Cdigo de Rastreio"}),i||!t.trackingCode?o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"text",value:r,onChange:w=>s(w.target.value),className:"w-full bg-[rgb(var(--color-brand-gray))] border-2 border-[rgb(var(--color-brand-gray-light))] rounded-md py-2 px-3 text-[rgb(var(--color-brand-text-light))]",placeholder:"Insira o cdigo"}),o.jsx("button",{onClick:p,className:"bg-[rgb(var(--color-brand-gold))] text-[rgb(var(--color-brand-dark))] font-bold py-2 px-4 rounded-md hover:bg-yellow-400",children:"Salvar"}),i&&o.jsx("button",{onClick:()=>c(!1),className:"bg-[rgb(var(--color-brand-gray))] text-[rgb(var(--color-brand-text-light))] font-semibold py-2 px-4 rounded-md",children:"Cancelar"})]}):o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("p",{className:"font-mono text-[rgb(var(--color-brand-text-light))] bg-[rgb(var(--color-brand-gray))] px-3 py-2 rounded-md",children:t.trackingCode}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("a",{href:N,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 text-sm text-[rgb(var(--color-success))] hover:text-[rgb(var(--color-success))]/[.80]",title:"Enviar rastreio por WhatsApp",children:o.jsx(ff,{className:"w-5 h-5"})}),o.jsx("button",{onClick:()=>c(!0),className:"text-sm text-[rgb(var(--color-brand-gold))] hover:underline",children:"Editar"})]})]})]})]})]})]})]})},r8=t=>o.jsx("svg",{...t,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.625 12a.375.375 0 11-.75 0 .375.375 0 01.75 0zm0 0H8.25m4.125 0a.375.375 0 11-.75 0 .375.375 0 01.75 0zm0 0H12m4.125 0a.375.375 0 11-.75 0 .375.375 0 01.75 0zm0 0h-.375M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),s8=({orders:t})=>{const[e,n]=j.useState(!1),[r,s]=j.useState(""),[i,c]=j.useState("Ol! Para rastrear seu pedido, por favor, insira o nmero do pedido abaixo (ex: #2024-001)."),[d,f]=j.useState(!1),h=()=>{f(!0);const g=t.find(b=>b.id.toLowerCase()===r.toLowerCase());g?g.trackingCode?c(`Pedido encontrado! Seu cdigo de rastreamento : ${g.trackingCode}`):c("Seu pedido foi encontrado, mas o cdigo de rastreamento ainda no est disponvel. Por favor, tente novamente mais tarde."):c("Pedido no encontrado. Por favor, verifique o nmero e tente novamente.")},p=()=>{s(""),f(!1),c("Ol! Para rastrear seu pedido, por favor, insira o nmero do pedido abaixo (ex: #2024-001).")};return e?o.jsxs("div",{className:"fixed bottom-8 right-8 z-30 w-80 h-[400px] bg-[rgb(var(--color-brand-dark))] border-2 border-[rgb(var(--color-brand-gold))]/[0.30] rounded-lg shadow-2xl flex flex-col font-sans",children:[o.jsxs("header",{className:"flex-1/2 flex items-center justify-between p-3 bg-[rgb(var(--color-brand-gray))]/[.50] border-b border-[rgb(var(--color-brand-gray-light))]",children:[o.jsx("h3",{className:"font-bold text-[rgb(var(--color-brand-text-light))]",children:"Rastrear Pedido"}),o.jsx("button",{onClick:()=>n(!1),className:"text-[rgb(var(--color-brand-text-dim))] hover:text-[rgb(var(--color-brand-text-light))]",children:o.jsx(zn,{className:"w-5 h-5"})})]}),o.jsxs("div",{className:"flex-1 p-4 overflow-y-auto text-sm",children:[o.jsx("div",{className:"bg-[rgb(var(--color-brand-gray))] p-3 rounded-lg text-[rgb(var(--color-brand-text-light))]",children:o.jsx("p",{children:i})}),d&&o.jsx("div",{className:"text-center mt-2",children:o.jsx("button",{onClick:p,className:"text-xs text-[rgb(var(--color-brand-gold))] hover:underline",children:"Fazer nova consulta"})})]}),o.jsx("footer",{className:"flex-shrink-0 p-3 border-t border-[rgb(var(--color-brand-gray-light))]",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"text",value:r,onChange:g=>s(g.target.value),onKeyPress:g=>g.key==="Enter"&&h(),placeholder:"N do pedido...",disabled:d,className:"flex-1 bg-[rgb(var(--color-brand-gray))] border-2 border-[rgb(var(--color-brand-gray-light))] rounded-full py-2 px-4 text-[rgb(var(--color-brand-text-light))] placeholder-[rgb(var(--color-brand-text-dim))] focus:outline-none focus:border-[rgb(var(--color-brand-gold))] disabled:opacity-50"}),o.jsx("button",{onClick:h,disabled:d,className:"bg-[rgb(var(--color-active-lime))] text-[rgb(var(--color-brand-dark))] p-2 rounded-full hover:bg-[rgb(var(--color-success))] disabled:bg-[rgb(var(--color-brand-gray-light))]","aria-label":"Buscar pedido",children:o.jsx(tn,{className:"w-5 h-5"})})]})})]}):o.jsx("button",{onClick:()=>n(!0),className:"fixed bottom-8 right-8 z-30 bg-[rgb(var(--color-active-lime))] text-[rgb(var(--color-brand-dark))] p-4 rounded-full shadow-lg hover:bg-[rgb(var(--color-success))] transition-all transform hover:scale-110","aria-label":"Abrir chat de rastreamento",children:o.jsx(r8,{className:"h-8 w-8"})})},nr=t=>o.jsx("svg",{...t,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),aa=t=>o.jsx("svg",{...t,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.75 9.75l4.5 4.5m0-4.5l-4.5 4.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),ia=t=>o.jsx("svg",{...t,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 11-18 0 9 9 0 0118 0z"})}),o8=({status:t})=>{const n={Pendente:{text:"Pendente",color:"warning",icon:ia},Aprovada:{text:"Aprovada",color:"success",icon:nr},Rejeitada:{text:"Rejeitada",color:"error",icon:aa},Concluda:{text:"Concluda",color:"info",icon:nr}}[t],r={warning:"bg-[rgb(var(--color-warning))]/[0.20] text-[rgb(var(--color-warning))]",success:"bg-[rgb(var(--color-success))]/[0.20] text-[rgb(var(--color-success))]",error:"bg-[rgb(var(--color-error))]/[0.20] text-[rgb(var(--color-error))]",info:"bg-[rgb(var(--color-info))]/[0.20] text-[rgb(var(--color-info))]"};return o.jsxs("span",{className:`px-2 py-1 text-xs font-semibold rounded-full inline-flex items-center gap-2 ${r[n.color]}`,children:[o.jsx(n.icon,{className:"w-4 h-4"}),n.text]})},a8=({returns:t,onUpdateStatus:e,onDelete:n,onNavigate:r})=>{const[s,i]=j.useState(""),[c,d]=j.useState("all"),[f,h]=j.useState([]),p=j.useMemo(()=>t.filter(w=>{const S=w.orderId.toLowerCase().includes(s.toLowerCase())||w.customerName.toLowerCase().includes(s.toLowerCase()),T=c==="all"||w.status===c;return S&&T}),[t,s,c]),g=w=>{h(w.target.checked?p.map(S=>S.id):[])},b=w=>{h(S=>S.includes(w)?S.filter(T=>T!==w):[...S,w])},N=w=>{if(f.length!==0){switch(w){case"approve":e(f,"Aprovada");break;case"reject":e(f,"Rejeitada");break;case"delete":n(f);break}h([])}};return o.jsxs("div",{className:"bg-[rgb(var(--color-brand-dark))] border border-[rgb(var(--color-brand-gray-light))] rounded-lg",children:[o.jsx("div",{className:"p-4 border-b border-[rgb(var(--color-brand-gray-light))]",children:o.jsx("div",{className:"flex flex-col md:flex-row gap-4",children:o.jsxs("div",{className:"relative flex-grow",children:[o.jsx("input",{type:"text",placeholder:"Buscar por N do pedido ou cliente",value:s,onChange:w=>i(w.target.value),className:"w-full bg-[rgb(var(--color-brand-gray))] border-2 border-[rgb(var(--color-brand-gray-light))] rounded-md py-2 pl-10 pr-4 text-[rgb(var(--color-brand-text-light))]"}),o.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:o.jsx(tn,{className:"h-5 w-5 text-[rgb(var(--color-brand-text-dim))]"})})]})})}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-sm text-left text-[rgb(var(--color-brand-text-dim))]",children:[o.jsx("thead",{className:"text-xs text-[rgb(var(--color-brand-text-dim))] uppercase bg-[rgb(var(--color-brand-dark))]",children:o.jsxs("tr",{children:[o.jsx("th",{scope:"col",className:"p-4",children:o.jsx("input",{type:"checkbox",onChange:g,checked:f.length>0&&f.length===p.length})}),o.jsx("th",{scope:"col",className:"px-6 py-3",children:"ID Devoluo"}),o.jsx("th",{scope:"col",className:"px-6 py-3",children:"Data"}),o.jsx("th",{scope:"col",className:"px-6 py-3",children:"Cliente"}),o.jsx("th",{scope:"col",className:"px-6 py-3",children:"Status"}),o.jsx("th",{scope:"col",className:"px-6 py-3",children:"Itens"})]})}),o.jsx("tbody",{children:p.map(w=>o.jsxs("tr",{className:"border-b border-[rgb(var(--color-brand-gray-light))] hover:bg-[rgb(var(--color-brand-gray))]/[.50] cursor-pointer",onClick:()=>r("returnDetail",w),children:[o.jsx("td",{className:"w-4 p-4",onClick:S=>S.stopPropagation(),children:o.jsx("input",{type:"checkbox",checked:f.includes(w.id),onChange:()=>b(w.id)})}),o.jsx("td",{className:"px-6 py-4 font-medium text-[rgb(var(--color-brand-gold))]",children:w.id}),o.jsx("td",{className:"px-6 py-4",children:w.orderId}),o.jsx("td",{className:"px-6 py-4",children:new Date(w.requestDate).toLocaleDateString("pt-BR")}),o.jsx("td",{className:"px-6 py-4 text-[rgb(var(--color-brand-text-light))]",children:w.customerName}),o.jsx("td",{className:"px-6 py-4",children:o.jsx(o8,{status:w.status})}),o.jsx("td",{className:"px-6 py-4",children:w.items.reduce((S,T)=>S+T.quantity,0)})]},w.id))})]})}),o.jsxs("div",{className:"p-4 flex justify-between items-center",children:[o.jsxs("div",{className:"flex gap-2",children:[o.jsxs("button",{onClick:()=>N("approve"),disabled:f.length===0,className:"flex items-center gap-2 text-sm font-semibold bg-[rgb(var(--color-success))]/[0.50] text-[rgb(var(--color-brand-dark))] py-2 px-4 rounded-md hover:bg-[rgb(var(--color-success))]/[0.80] transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[o.jsx(nr,{className:"w-5 h-5"})," Aprovar"]}),o.jsxs("button",{onClick:()=>N("reject"),disabled:f.length===0,className:"flex items-center gap-2 text-sm font-semibold bg-[rgb(var(--color-error))]/[0.50] text-[rgb(var(--color-brand-text-light))] py-2 px-4 rounded-md hover:bg-[rgb(var(--color-error))]/[0.80] transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[o.jsx(aa,{className:"w-5 h-5"})," Rejeitar"]}),o.jsxs("button",{onClick:()=>N("delete"),disabled:f.length===0,className:"flex items-center gap-2 text-sm font-semibold bg-[rgb(var(--color-brand-gray))] text-[rgb(var(--color-brand-text-light))] py-2 px-4 rounded-md hover:bg-[rgb(var(--color-brand-gray-light))] transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[o.jsx(jt,{className:"w-5 h-5"})," Excluir"]})]}),o.jsxs("div",{className:"text-xs",children:[p.length," de ",t.length," devolues"]})]})]})},i8=({returnRequest:t,onUpdateStatus:e,onNavigate:n})=>{const r=s=>{const i=s.target.value;e(t.id,i)};return o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[o.jsx("div",{className:"lg:col-span-2 space-y-8",children:o.jsxs("div",{className:"bg-[rgb(var(--color-brand-dark))] border border-[rgb(var(--color-brand-gray-light))] rounded-lg p-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-[rgb(var(--color-brand-text-light))] mb-4",children:"Itens da Devoluo"}),o.jsx("div",{className:"divide-y divide-[rgb(var(--color-brand-gray-light))]",children:t.items.map((s,i)=>o.jsxs("div",{className:"py-4",children:[o.jsx("div",{className:"flex items-center justify-between",children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"w-12 h-12 bg-[rgb(var(--color-brand-gray))] rounded-md flex-shrink-0"}),o.jsxs("div",{children:[o.jsx("p",{className:"font-semibold text-[rgb(var(--color-brand-text-light))]",children:s.productName}),o.jsxs("p",{className:"text-sm text-[rgb(var(--color-brand-text-dim))]",children:["Quantidade: ",s.quantity]})]})]})}),o.jsx("div",{className:"mt-2 pl-16",children:o.jsxs("p",{className:"text-sm text-[rgb(var(--color-brand-text-dim))]",children:["Motivo: ",o.jsx("span",{className:"text-[rgb(var(--color-brand-text-light))]",children:s.reason})]})})]},i))})]})}),o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{className:"bg-[rgb(var(--color-brand-dark))] border border-[rgb(var(--color-brand-gray-light))] rounded-lg p-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-[rgb(var(--color-brand-text-light))] mb-4",children:"Status da Devoluo"}),o.jsxs("select",{value:t.status,onChange:r,className:"w-full bg-[rgb(var(--color-brand-gray))] border-2 border-[rgb(var(--color-brand-gray-light))] rounded-md py-2 px-3 text-[rgb(var(--color-brand-text-light))]",children:[o.jsx("option",{value:"Pendente",children:"Pendente"}),o.jsx("option",{value:"Aprovada",children:"Aprovada"}),o.jsx("option",{value:"Rejeitada",children:"Rejeitada"}),o.jsx("option",{value:"Concluda",children:"Concluda"})]})]}),o.jsxs("div",{className:"bg-[rgb(var(--color-brand-dark))] border border-[rgb(var(--color-brand-gray-light))] rounded-lg p-6",children:[o.jsxs("h3",{className:"text-lg font-semibold text-[rgb(var(--color-brand-text-light))] mb-4 flex items-center gap-2",children:[o.jsx(Bn,{className:"w-6 h-6 text-[rgb(var(--color-brand-gold))]"})," Cliente"]}),o.jsxs("div",{className:"space-y-1 text-sm",children:[o.jsx("p",{className:"font-bold text-[rgb(var(--color-brand-gold))] text-base",children:t.customerName}),o.jsx("p",{className:"text-[rgb(var(--color-brand-text-dim))]",children:t.customerEmail})]})]}),o.jsxs("div",{className:"bg-[rgb(var(--color-brand-dark))] border border-[rgb(var(--color-brand-gray-light))] rounded-lg p-6",children:[o.jsxs("h3",{className:"text-lg font-semibold text-[rgb(var(--color-brand-text-light))] mb-4 flex items-center gap-2",children:[o.jsx(Vu,{className:"w-6 h-6 text-[rgb(var(--color-brand-gold))]"})," Pedido Original"]}),o.jsx("button",{onClick:()=>n("manageOrders"),className:"font-medium text-[rgb(var(--color-brand-gold))] hover:underline",children:t.orderId})]})]})]})},l8=({order:t,supplier:e,customer:n,onUpdateOrder:r,onClose:s})=>{const[i,c]=j.useState(t.trackingCode||"");j.useEffect(()=>{c(t.trackingCode||"")},[t]);const d=()=>{r(t.id,{trackingCode:i}),alert("Cdigo de rastreamento salvo!")},f=b=>n?`https://wa.me/${`55${n.customerPhone.replace(/\D/g,"")}`}?text=${encodeURIComponent(b)}`:"#",h=(b,N)=>n?`mailto:${n.customerEmail}?subject=${encodeURIComponent(b)}&body=${encodeURIComponent(N)}`:"#",p=`Ol ${n==null?void 0:n.customerName}, seu pedido ${t.orderId} foi enviado! O cdigo de rastreamento : ${i}.`,g=`Seu pedido ${t.orderId} foi enviado!`;return o.jsx("div",{className:"fixed inset-0 bg-[rgb(var(--color-brand-dark))]/[.70] z-50 flex items-center justify-center p-4",onClick:s,children:o.jsxs("div",{className:"bg-[rgb(var(--color-brand-dark))] border border-[rgb(var(--color-brand-gray-light))] rounded-lg w-full max-w-2xl max-h-[90vh] flex flex-col",onClick:b=>b.stopPropagation(),children:[o.jsxs("header",{className:"flex items-center justify-between p-4 border-b border-[rgb(var(--color-brand-gray-light))] flex-shrink-0",children:[o.jsxs("h2",{className:"text-xl font-bold text-[rgb(var(--color-brand-text-light))]",children:["Detalhes do Pedido Drop - ",t.id]}),o.jsx("button",{onClick:s,className:"text-[rgb(var(--color-brand-text-dim))] hover:text-[rgb(var(--color-brand-text-light))]",children:o.jsx(zn,{className:"w-6 h-6"})})]}),o.jsxs("main",{className:"p-6 overflow-y-auto space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"bg-[rgb(var(--color-brand-gray))] p-4 rounded-lg",children:[o.jsx("p",{className:"text-sm text-[rgb(var(--color-brand-text-dim))]",children:"Status"}),o.jsx("p",{className:"text-lg font-semibold text-[rgb(var(--color-brand-gold))]",children:t.status})]}),o.jsxs("div",{className:"bg-[rgb(var(--color-brand-gray))] p-4 rounded-lg",children:[o.jsx("label",{htmlFor:"trackingCode",className:"text-sm text-[rgb(var(--color-brand-text-dim))]",children:"Rastreamento"}),o.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[o.jsx("input",{type:"text",id:"trackingCode",value:i,onChange:b=>c(b.target.value),placeholder:"Insira o cdigo",className:"w-full bg-[rgb(var(--color-brand-gray-light))] border border-[rgb(var(--color-brand-gray))] rounded-md py-1 px-2 text-[rgb(var(--color-brand-text-light))]"}),o.jsx("button",{onClick:d,className:"text-xs font-bold bg-[rgb(var(--color-brand-gold))] text-[rgb(var(--color-brand-dark))] py-2 px-3 rounded-md hover:bg-yellow-400",children:"Salvar"})]}),i&&n&&o.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[o.jsxs("a",{href:f(p),target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 text-xs text-[rgb(var(--color-success))] hover:text-[rgb(var(--color-success))]/[.80]",children:[o.jsx(ff,{className:"w-4 h-4"})," Enviar por WhatsApp"]}),o.jsxs("a",{href:h(g,p),className:"flex items-center gap-1 text-xs text-[rgb(var(--color-info))] hover:text-[rgb(var(--color-info))]/[.80]",children:[o.jsx(Ol,{className:"w-4 h-4"})," Enviar por E-mail"]})]})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-[rgb(var(--color-brand-text-light))] mb-2",children:"Itens do Pedido"}),o.jsxs("div",{className:"divide-y divide-[rgb(var(--color-brand-gray-light))] border border-[rgb(var(--color-brand-gray-light))] rounded-lg",children:[t.items.map((b,N)=>o.jsxs("div",{className:"flex items-center justify-between p-3",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-semibold text-[rgb(var(--color-brand-text-light))]",children:b.productName}),o.jsxs("p",{className:"text-sm text-[rgb(var(--color-brand-text-dim))]",children:["Custo: ",new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(b.costPrice)," x ",b.quantity]})]}),o.jsx("p",{className:"font-semibold text-[rgb(var(--color-brand-text-light))]",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(b.costPrice*b.quantity)})]},N)),o.jsx("div",{className:"p-3 text-right bg-[rgb(var(--color-brand-gray))]/[.50]",children:o.jsxs("p",{className:"text-[rgb(var(--color-brand-text-dim))]",children:["Custo Total: ",o.jsx("span",{className:"text-lg text-[rgb(var(--color-brand-text-light))] font-bold",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(t.totalCost)})]})})]})]}),n&&o.jsxs("div",{children:[o.jsxs("h3",{className:"text-lg font-semibold text-[rgb(var(--color-brand-text-light))] mb-2 flex items-center gap-2",children:[o.jsx(Bn,{className:"w-5 h-5 text-[rgb(var(--color-brand-gold))]"})," Informaes do Cliente"]}),o.jsxs("div",{className:"bg-[rgb(var(--color-brand-gray))] p-4 rounded-lg space-y-2",children:[o.jsx("p",{className:"text-xl font-bold text-[rgb(var(--color-brand-gold))]",children:n.customerName}),o.jsxs("a",{href:h(`Sobre seu pedido ${t.orderId}`,""),className:"text-sm text-[rgb(var(--color-brand-text-dim))] flex items-center gap-2 hover:text-[rgb(var(--color-brand-gold))]",children:[o.jsx(Ol,{className:"w-4 h-4"}),n.customerEmail]}),o.jsxs("a",{href:f(`Ol ${n.customerName}, sobre seu pedido ${t.orderId}...`),target:"_blank",rel:"noopener noreferrer",className:"text-sm text-[rgb(var(--color-brand-text-dim))] flex items-center gap-2 hover:text-[rgb(var(--color-brand-gold))]",children:[o.jsx(Xp,{className:"w-4 h-4"}),n.customerPhone]})]})]}),e&&o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-[rgb(var(--color-brand-text-light))] mb-2",children:"Informaes do Fornecedor"}),o.jsxs("div",{className:"bg-[rgb(var(--color-brand-gray))] p-4 rounded-lg space-y-2",children:[o.jsx("p",{className:"text-xl font-bold text-[rgb(var(--color-brand-gold))]",children:e.name}),o.jsxs("p",{className:"text-sm text-[rgb(var(--color-brand-text-dim))] flex items-center gap-2",children:[o.jsx(sc,{className:"w-4 h-4"}),e.address]}),o.jsxs("p",{className:"text-sm text-[rgb(var(--color-brand-text-dim))] flex items-center gap-2",children:[o.jsx(Xp,{className:"w-4 h-4"}),e.phone]}),o.jsxs("a",{href:`mailto:${e.email}`,className:"text-sm text-[rgb(var(--color-brand-text-dim))] flex items-center gap-2 hover:text-[rgb(var(--color-brand-gold))]",children:[o.jsx(Ol,{className:"w-4 h-4"}),e.email]})]})]})]})]})})},O2=[{id:"SUP-001",name:"TechSupplier Inc.",contactPerson:"Roberto Almeida",email:"contato@techsupplier.com",phone:"11 5555-1234",address:"Rua da Tecnologia, 100, So Paulo, SP",productCategories:["Eletrnicos","Acessrios de Celular"]},{id:"SUP-002",name:"HealthGadgets",contactPerson:"Fernanda Lima",email:"vendas@healthgadgets.com.br",phone:"21 5555-5678",address:"Avenida da Sade, 200, Rio de Janeiro, RJ",productCategories:["Eletrnicos","Artigos Esportivos"]},{id:"SUP-003",name:"UrbanGear",contactPerson:"Marcos Andrade",email:"parcerias@urbangear.com",phone:"41 5555-9012",address:"Alameda dos Viajantes, 300, Curitiba, PR",productCategories:["Acessrios","Mochilas","Vesturio"]}],c8=["Pendente","Processando","Enviado","Entregue","Cancelado"],d8=({status:t})=>{const n={Pendente:{text:"Pendente",color:"warning",icon:ia},Processando:{text:"Processando",color:"info",icon:ia},Enviado:{text:"Enviado",color:"success",icon:mi},Entregue:{text:"Entregue",color:"success",icon:nr},Cancelado:{text:"Cancelado",color:"error",icon:aa}}[t],r={warning:"bg-[rgb(var(--color-warning))]/[0.20] text-[rgb(var(--color-warning))]",info:"bg-[rgb(var(--color-info))]/[0.20] text-[rgb(var(--color-info))]",success:"bg-[rgb(var(--color-success))]/[0.20] text-[rgb(var(--color-success))]",error:"bg-[rgb(var(--color-error))]/[0.20] text-[rgb(var(--color-error))]"};return o.jsxs("span",{className:`px-2 py-1 text-xs font-semibold rounded-full inline-flex items-center gap-2 ${r[n.color]}`,children:[o.jsx(n.icon,{className:"w-4 h-4"}),n.text]})},u8=({orders:t,mainOrders:e,onUpdateOrder:n,onNavigate:r})=>{const[s,i]=j.useState(""),[c,d]=j.useState("all"),[f,h]=j.useState("all"),[p,g]=j.useState(null),[b,N]=j.useState(!1),w=j.useRef(null);j.useEffect(()=>{const E=M=>{w.current&&!w.current.contains(M.target)&&N(!1)};return document.addEventListener("mousedown",E),()=>document.removeEventListener("mousedown",E)},[]);const S=j.useMemo(()=>t.filter(E=>{const M=E.orderId.toLowerCase().includes(s.toLowerCase())||E.supplier.toLowerCase().includes(s.toLowerCase())||E.items.some(V=>V.productName.toLowerCase().includes(s.toLowerCase())),D=c==="all"||E.status===c,H=f==="all"||E.supplier===f;return M&&D&&H}).sort((E,M)=>new Date(M.date).getTime()-new Date(E.date).getTime()),[t,s,c,f]),T=j.useMemo(()=>{const E=new Set(t.map(M=>M.supplier));return["all",...Array.from(E)]},[t]);return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"bg-[rgb(var(--color-brand-dark))] border border-[rgb(var(--color-brand-gray-light))] rounded-lg",children:[o.jsx("div",{className:"p-4 border-b border-[rgb(var(--color-brand-gray-light))]",children:o.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[o.jsxs("div",{className:"relative flex-grow",children:[o.jsx("input",{type:"text",placeholder:"Buscar por pedido, produto ou fornecedor",value:s,onChange:E=>i(E.target.value),className:"w-full bg-[rgb(var(--color-brand-gray))] border-2 border-[rgb(var(--color-brand-gray-light))] rounded-md py-2 pl-10 pr-4 text-[rgb(var(--color-brand-text-light))]"}),o.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:o.jsx(tn,{className:"h-5 w-5 text-[rgb(var(--color-brand-text-dim))]"})})]}),o.jsxs("div",{className:"relative",ref:w,children:[o.jsxs("button",{onClick:()=>N(!b),className:"flex items-center gap-2 text-sm font-semibold bg-[rgb(var(--color-brand-gray))] text-[rgb(var(--color-brand-text-light))] py-2 px-4 rounded-md hover:bg-[rgb(var(--color-brand-gray-light))] w-full md:w-auto justify-center",children:["Filtrar",o.jsx(up,{className:`w-4 h-4 transition-transform ${b?"rotate-180":""}`})]}),b&&o.jsxs("div",{className:"absolute right-0 mt-2 w-60 bg-[rgb(var(--color-brand-dark))] border border-[rgb(var(--color-brand-gray-light))] rounded-md shadow-lg z-10 p-3",children:[o.jsx("h4",{className:"text-sm font-bold text-[rgb(var(--color-brand-text-light))] mb-2",children:"Status do Pedido"}),o.jsxs("select",{value:c,onChange:E=>d(E.target.value),className:"w-full bg-[rgb(var(--color-brand-gray))] border border-[rgb(var(--color-brand-gray-light))] rounded-md py-1.5 px-2 text-sm text-[rgb(var(--color-brand-text-light))] mb-3",children:[o.jsx("option",{value:"all",children:"Todos os Status"}),c8.map(E=>o.jsx("option",{value:E,children:E},E))]}),o.jsx("h4",{className:"text-sm font-bold text-[rgb(var(--color-brand-text-light))] mb-2",children:"Fornecedor"}),o.jsxs("select",{value:f,onChange:E=>h(E.target.value),className:"w-full bg-[rgb(var(--color-brand-gray))] border border-[rgb(var(--color-brand-gray-light))] rounded-md py-1.5 px-2 text-sm text-[rgb(var(--color-brand-text-light))]",children:[o.jsx("option",{value:"all",children:"Todos os Fornecedores"}),T.filter(E=>E!=="all").map(E=>o.jsx("option",{value:E,children:E},E))]})]})]})]})}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-sm text-left text-[rgb(var(--color-brand-text-dim))]",children:[o.jsx("thead",{className:"text-xs text-[rgb(var(--color-brand-text-dim))] uppercase bg-[rgb(var(--color-brand-dark))]",children:o.jsxs("tr",{children:[o.jsx("th",{scope:"col",className:"px-6 py-3",children:"Pedido Dropship"}),o.jsx("th",{scope:"col",className:"px-6 py-3",children:"Fornecedor"}),o.jsx("th",{scope:"col",className:"px-6 py-3",children:"Status"}),o.jsx("th",{scope:"col",className:"px-6 py-3 text-right",children:"Custo Total"}),o.jsx("th",{scope:"col",className:"px-6 py-3",children:"Rastreamento"})]})}),o.jsx("tbody",{children:S.map(E=>(e.find(M=>M.id===E.orderId),O2.find(M=>M.name===E.supplier),o.jsxs("tr",{className:"border-b border-[rgb(var(--color-brand-gray-light))] hover:bg-[rgb(var(--color-brand-gray))]/[.50] cursor-pointer",onClick:()=>g(E),children:[o.jsx("td",{className:"px-6 py-4 font-medium text-[rgb(var(--color-brand-gold))]",children:E.id}),o.jsx("td",{className:"px-6 py-4",children:E.supplier}),o.jsx("td",{className:"px-6 py-4",children:o.jsx(d8,{status:E.status})}),o.jsx("td",{className:"px-6 py-4 text-right",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(E.totalCost)}),o.jsx("td",{className:"px-6 py-4",children:E.trackingCode||"N/A"})]},E.id)))})]})})]}),p&&o.jsx(l8,{order:p,supplier:O2.find(E=>E.name===(p==null?void 0:p.supplier))||null,customer:e.find(E=>E.id===(p==null?void 0:p.orderId))||null,onUpdateOrder:n,onClose:()=>g(null)})]})},ip=({title:t,children:e,defaultOpen:n=!1})=>{const[r,s]=j.useState(n);return o.jsxs("div",{className:"bg-[rgb(var(--color-brand-dark))] border border-[rgb(var(--color-brand-gray-light))] rounded-lg",children:[o.jsxs("button",{onClick:()=>s(!r),className:"w-full flex justify-between items-center p-4 text-left font-semibold text-[rgb(var(--color-brand-text-light))]",children:[o.jsx("span",{children:t}),o.jsx("span",{className:`transform transition-transform duration-200 ${r?"rotate-180":""}`,children:""})]}),r&&o.jsx("div",{className:"p-4 border-t border-[rgb(var(--color-brand-gray-light))]",children:e})]})},f8=({customization:t,onUpdate:e})=>{const[n,r]=j.useState(t);j.useEffect(()=>{r(t)},[t]);const s=JSON.stringify(n)!==JSON.stringify(t),i=()=>{e(n)},c=()=>{r(t)},d=(b,N)=>{r(w=>({...w,hero:{...w.hero,[b]:N}}))},f=(b,N,w)=>{const S=[...n.carouselBanners];S[b]={...S[b],[N]:w},r(T=>({...T,carouselBanners:S}))},h=()=>{const b={id:`carousel-${Date.now()}`,desktopImage:"",mobileImage:"",link:"#"};r(N=>({...N,carouselBanners:[...N.carouselBanners,b]}))},p=b=>{r(N=>({...N,carouselBanners:N.carouselBanners.filter(w=>w.id!==b)}))},g=(b,N)=>{r(w=>({...w,midPageBanner:{...w.midPageBanner,[b]:N}}))};return o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"pb-6 mb-6 flex justify-end items-center border-b border-[rgb(var(--color-brand-gray-light))]",children:o.jsxs("div",{className:"flex items-center gap-4",children:[s&&o.jsx("p",{className:"text-sm text-[rgb(var(--color-brand-gold))]",children:"Voc tem alteraes no salvas."}),o.jsx("button",{onClick:c,disabled:!s,className:"text-sm font-semibold bg-[rgb(var(--color-brand-gray))] text-[rgb(var(--color-brand-text-light))] py-2 px-4 rounded-md hover:bg-[rgb(var(--color-brand-gray-light))] disabled:opacity-50 disabled:cursor-not-allowed",children:"Descartar"}),o.jsx("button",{onClick:i,disabled:!s,className:"text-sm font-bold bg-[rgb(var(--color-brand-gold))] text-[rgb(var(--color-brand-dark))] py-2 px-4 rounded-md hover:bg-yellow-400 disabled:opacity-50 disabled:cursor-not-allowed",children:"Salvar Banners"})]})}),o.jsxs("div",{className:"space-y-6",children:[o.jsx(ip,{title:"Banner Principal (Hero)",defaultOpen:!0,children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"heroTitle",className:"block text-sm font-medium text-[rgb(var(--color-brand-text-dim))] mb-1",children:"Ttulo"}),o.jsx("input",{id:"heroTitle",type:"text",value:n.hero.title,onChange:b=>d("title",b.target.value),className:"w-full bg-[rgb(var(--color-brand-gray))] border-2 border-[rgb(var(--color-brand-gray-light))] rounded-md py-2 px-3 text-[rgb(var(--color-brand-text-light))]"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"heroSubtitle",className:"block text-sm font-medium text-[rgb(var(--color-brand-text-dim))] mb-1",children:"Subttulo"}),o.jsx("input",{id:"heroSubtitle",type:"text",value:n.hero.subtitle,onChange:b=>d("subtitle",b.target.value),className:"w-full bg-[rgb(var(--color-brand-gray))] border-2 border-[rgb(var(--color-brand-gray-light))] rounded-md py-2 px-3 text-[rgb(var(--color-brand-text-light))]"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(Et,{currentImage:n.hero.desktopImage,onImageUpload:b=>d("desktopImage",b),placeholderText:"Imagem para Desktop (1600x900 recomendado)"}),o.jsx(Et,{currentImage:n.hero.mobileImage,onImageUpload:b=>d("mobileImage",b),placeholderText:"Imagem para Celular (800x1200 recomendado)"})]})]})}),o.jsx(ip,{title:"Carrossel de Banners",children:o.jsxs("div",{className:"space-y-4",children:[o.jsx("button",{onClick:h,className:"text-sm font-semibold bg-[rgb(var(--color-brand-gray))] text-[rgb(var(--color-brand-text-light))] py-2 px-4 rounded-md hover:bg-[rgb(var(--color-brand-gray-light))]",children:"+ Adicionar Banner ao Carrossel"}),n.carouselBanners.map((b,N)=>o.jsxs("div",{className:"bg-[rgb(var(--color-brand-gray))]/[.50] p-4 rounded-lg space-y-3",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("h4",{className:"text-md text-[rgb(var(--color-brand-text-light))] font-semibold",children:["Banner ",N+1]}),o.jsx("button",{onClick:()=>p(b.id),className:"p-1 text-[rgb(var(--color-brand-text-dim))] hover:text-[rgb(var(--color-error))]",children:o.jsx(jt,{className:"w-5 h-5"})})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:`carouselLink${N}`,className:"block text-sm font-medium text-[rgb(var(--color-brand-text-dim))] mb-1",children:"Link do Banner (opcional)"}),o.jsx("input",{id:`carouselLink${N}`,type:"text",value:b.link,onChange:w=>f(N,"link",w.target.value),className:"w-full bg-[rgb(var(--color-brand-gray))] border-2 border-[rgb(var(--color-brand-gray-light))] rounded-md py-2 px-3 text-[rgb(var(--color-brand-text-light))]"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(Et,{currentImage:b.desktopImage,onImageUpload:w=>f(N,"desktopImage",w),placeholderText:"Desktop (1200x400)"}),o.jsx(Et,{currentImage:b.mobileImage,onImageUpload:w=>f(N,"mobileImage",w),placeholderText:"Celular (400x300)"})]})]},b.id))]})}),o.jsx(ip,{title:"Banner do Meio da Pgina",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"midPageLink",className:"block text-sm font-medium text-[rgb(var(--color-brand-text-dim))] mb-1",children:"Link do Banner (opcional)"}),o.jsx("input",{id:"midPageLink",type:"text",value:n.midPageBanner.link,onChange:b=>g("link",b.target.value),className:"w-full bg-[rgb(var(--color-brand-gray))] border-2 border-[rgb(var(--color-brand-gray-light))] rounded-md py-2 px-3 text-[rgb(var(--color-brand-text-light))]"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(Et,{currentImage:n.midPageBanner.desktopImage,onImageUpload:b=>g("desktopImage",b),placeholderText:"Desktop (1200x300)"}),o.jsx(Et,{currentImage:n.midPageBanner.mobileImage,onImageUpload:b=>g("mobileImage",b),placeholderText:"Celular (400x200)"})]})]})})]})]})},h8=({coupons:t,onNavigate:e,onDelete:n,onStatusToggle:r})=>{const[s,i]=j.useState(""),c=j.useMemo(()=>t.filter(d=>d.code.toLowerCase().includes(s.toLowerCase())),[t,s]);return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[o.jsx("h1",{className:"text-2xl font-bold text-[rgb(var(--color-brand-text-light))]",children:"Cupons de Desconto"}),o.jsxs("button",{onClick:()=>e("addEditCoupon"),className:"flex items-center gap-2 text-sm font-bold bg-[rgb(var(--color-brand-gold))] text-[rgb(var(--color-brand-dark))] py-2 px-4 rounded-md hover:bg-yellow-400 transition-colors",children:[o.jsx(tg,{className:"w-5 h-5"}),"Criar cupom"]})]}),o.jsxs("div",{className:"bg-[rgb(var(--color-brand-dark))] border border-[rgb(var(--color-brand-gray-light))] rounded-lg",children:[o.jsx("div",{className:"p-4 border-b border-[rgb(var(--color-brand-gray-light))]",children:o.jsxs("div",{className:"relative max-w-lg",children:[o.jsx("input",{type:"text",placeholder:"Buscar por cdigo do cupom...",value:s,onChange:d=>i(d.target.value),className:"w-full bg-[rgb(var(--color-brand-gray))] border-2 border-[rgb(var(--color-brand-gray-light))] rounded-md py-2 px-4 text-[rgb(var(--color-brand-text-light))] placeholder-[rgb(var(--color-brand-text-dim))] focus:outline-none focus:border-[rgb(var(--color-brand-gold))]"}),o.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:o.jsx(tn,{className:"h-5 w-5 text-[rgb(var(--color-brand-text-dim))]"})})]})}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-sm text-left text-[rgb(var(--color-brand-text-dim))]",children:[o.jsx("thead",{className:"text-xs text-[rgb(var(--color-brand-text-dim))] uppercase bg-[rgb(var(--color-brand-dark))]",children:o.jsxs("tr",{children:[o.jsx("th",{scope:"col",className:"px-6 py-3",children:"Cdigo"}),o.jsx("th",{scope:"col",className:"px-6 py-3",children:"Tipo"}),o.jsx("th",{scope:"col",className:"px-6 py-3",children:"Valor"}),o.jsx("th",{scope:"col",className:"px-6 py-3",children:"Utilizaes"}),o.jsx("th",{scope:"col",className:"px-6 py-3",children:"Status"}),o.jsx("th",{scope:"col",className:"px-6 py-3 text-center",children:"Aes"})]})}),o.jsx("tbody",{children:c.map(d=>o.jsxs("tr",{className:"border-b border-[rgb(var(--color-brand-gray-light))] hover:bg-[rgb(var(--color-brand-gray))]/[.50]",children:[o.jsxs("td",{className:"px-6 py-4",children:[o.jsx("button",{onClick:()=>e("addEditCoupon",d),className:"font-medium text-[rgb(var(--color-brand-gold))] hover:underline",children:d.code}),d.description&&o.jsx("p",{className:"text-xs text-[rgb(var(--color-brand-text-dim))]",children:d.description})]}),o.jsx("td",{className:"px-6 py-4",children:d.type}),o.jsx("td",{className:"px-6 py-4 text-[rgb(var(--color-brand-text-light))]",children:d.type==="Porcentagem"?`${d.value}%`:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(d.value)}),o.jsxs("td",{className:"px-6 py-4",children:[d.usageCount," / ",d.usageLimit??""]}),o.jsx("td",{className:"px-6 py-4",children:o.jsx(Xe,{checked:d.status==="Ativo",onChange:f=>r(d.id,f?"Ativo":"Inativo"),labelId:`toggle-${d.id}`})}),o.jsx("td",{className:"px-6 py-4",children:o.jsxs("div",{className:"flex items-center justify-center gap-4",children:[o.jsx("button",{onClick:()=>e("addEditCoupon",d),className:"text-[rgb(var(--color-brand-text-dim))] hover:text-[rgb(var(--color-brand-gold))]",title:"Editar",children:o.jsx(Fu,{className:"w-5 h-5"})}),o.jsx("button",{onClick:()=>n(d.id),className:"text-[rgb(var(--color-brand-text-dim))] hover:text-[rgb(var(--color-error))]",title:"Excluir",children:o.jsx(jt,{className:"w-5 h-5"})})]})})]},d.id))})]})})]})]})},m8=({coupon:t,onSave:e,onCancel:n})=>{var p,g;const[r,s]=j.useState({code:"",description:"",type:"Porcentagem",value:10,status:"Ativo",usageLimit:null,startDate:new Date().toISOString().split("T")[0],endDate:"",...t}),i=j.useRef(null),c=b=>{const{name:N,value:w,type:S}=b.target,T=S==="checkbox",E=b.target.checked;s(N==="unlimitedUses"?M=>({...M,usageLimit:E?null:M.usageLimit??100}):N==="noEndDate"?M=>({...M,endDate:E?null:M.endDate??""}):M=>({...M,[N]:T?E:w}))},d=()=>{const b=Math.random().toString(36).substring(2,10).toUpperCase();s(N=>({...N,code:b}))},f=b=>{var N;if(b.preventDefault(),!((N=r.code)!=null&&N.trim())){alert("Por favor, insira um cdigo para o cupom.");return}if(r.value===void 0||r.value<=0){alert("O valor do desconto deve ser maior que zero.");return}e(r)},h=()=>{var b;(b=i.current)==null||b.requestSubmit()};return o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"pb-6 mb-6 flex justify-end items-center border-b border-gray-800",children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("button",{type:"button",onClick:n,className:"text-sm font-semibold bg-gray-700 text-white py-2 px-4 rounded-md hover:bg-gray-600 transition-colors",children:"Descartar"}),o.jsx("button",{type:"button",onClick:h,className:"text-sm font-bold bg-yellow-500 text-black py-2 px-4 rounded-md hover:bg-yellow-400 transition-colors",children:"Salvar Cupom"})]})}),o.jsx("form",{onSubmit:f,ref:i,className:"space-y-8",children:o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[o.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[o.jsx("div",{className:"bg-black border border-gray-800 rounded-lg p-6",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"code",className:"block text-sm font-medium text-white mb-2",children:"Cdigo do Cupom"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("input",{type:"text",name:"code",id:"code",value:r.code,onChange:c,className:"w-full bg-gray-800 border-2 border-gray-700 rounded-md py-2 px-3 text-white focus:outline-none focus:border-yellow-500"}),o.jsx("button",{type:"button",onClick:d,className:"text-sm font-semibold bg-gray-700 text-white py-2 px-4 rounded-md hover:bg-gray-600",children:"Gerar"})]})]}),o.jsx("div",{}),o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-white mb-2",children:"Descrio (opcional)"}),o.jsx("textarea",{name:"description",id:"description",value:r.description,onChange:c,rows:3,className:"w-full bg-gray-800 border-2 border-gray-700 rounded-md py-2 px-3 text-white focus:outline-none focus:border-yellow-500",placeholder:"Para uso interno"})]})]})}),o.jsxs("div",{className:"bg-black border border-gray-800 rounded-lg p-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Tipo e Valor"}),o.jsxs("div",{className:"flex gap-8 mb-4",children:[o.jsxs("label",{className:"flex items-center",children:[o.jsx("input",{type:"radio",name:"type",value:"Porcentagem",checked:r.type==="Porcentagem",onChange:c,className:"h-4 w-4 bg-gray-700 border-gray-600 text-yellow-500 focus:ring-yellow-600"}),o.jsx("span",{className:"ml-2 text-white",children:"Porcentagem"})]}),o.jsxs("label",{className:"flex items-center",children:[o.jsx("input",{type:"radio",name:"type",value:"Valor Fixo",checked:r.type==="Valor Fixo",onChange:c,className:"h-4 w-4 bg-gray-700 border-gray-600 text-yellow-500 focus:ring-yellow-600"}),o.jsx("span",{className:"ml-2 text-white",children:"Valor Fixo"})]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"value",className:"block text-sm font-medium text-white mb-2",children:"Valor do Desconto"}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:"number",name:"value",id:"value",value:r.value,onChange:c,className:"w-full bg-gray-800 border-2 border-gray-700 rounded-md py-2 px-3 text-white pl-8",min:"0",step:"0.01"}),o.jsx("span",{className:"absolute inset-y-0 left-0 pl-3 flex items-center text-gray-400",children:r.type==="Porcentagem"?"%":"R$"})]})]})]}),o.jsxs("div",{className:"bg-black border border-gray-800 rounded-lg p-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Limites de Utilizao"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("input",{type:"checkbox",id:"unlimitedUses",name:"unlimitedUses",checked:r.usageLimit===null,onChange:c,className:"h-4 w-4 rounded bg-gray-700 border-gray-600 text-yellow-500 focus:ring-yellow-600"}),o.jsx("label",{htmlFor:"unlimitedUses",className:"ml-2 block text-sm text-gray-300",children:"Sem limite de utilizaes"})]}),r.usageLimit!==null&&o.jsxs("div",{children:[o.jsx("label",{htmlFor:"usageLimit",className:"block text-sm text-gray-400 mb-1",children:"Nmero total de utilizaes"}),o.jsx("input",{type:"number",name:"usageLimit",id:"usageLimit",value:r.usageLimit??"",onChange:c,className:"w-full bg-gray-800 border-2 border-gray-700 rounded-md py-2 px-3 text-white"})]})]})]})]}),o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{className:"bg-black border border-gray-800 rounded-lg p-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Status"}),o.jsxs("select",{name:"status",id:"status",value:r.status,onChange:c,className:"w-full bg-gray-800 border-2 border-gray-700 rounded-md py-2 px-3 text-white",children:[o.jsx("option",{value:"Ativo",children:"Ativo"}),o.jsx("option",{value:"Inativo",children:"Inativo"})]}),o.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Cupons inativos no podem ser usados no checkout."})]}),o.jsxs("div",{className:"bg-black border border-gray-800 rounded-lg p-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Perodo de Atividade"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"startDate",className:"block text-sm text-gray-400 mb-1",children:"Data de Incio"}),o.jsx("input",{type:"date",name:"startDate",id:"startDate",value:(p=r.startDate)==null?void 0:p.split("T")[0],onChange:c,className:"w-full bg-gray-800 border-2 border-gray-700 rounded-md py-2 px-3 text-white"})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center mb-1",children:[o.jsx("input",{type:"checkbox",id:"noEndDate",name:"noEndDate",checked:r.endDate===null,onChange:c,className:"h-4 w-4 rounded bg-gray-700 border-gray-600 text-yellow-500 focus:ring-yellow-600"}),o.jsx("label",{htmlFor:"noEndDate",className:"ml-2 block text-sm text-gray-300",children:"Sem data de fim"})]}),r.endDate!==null&&o.jsx("input",{type:"date",name:"endDate",id:"endDate",value:(g=r.endDate)==null?void 0:g.split("T")[0],onChange:c,className:"w-full bg-gray-800 border-2 border-gray-700 rounded-md py-2 px-3 text-white"})]})]})]})]})]})})]})},p8=({product:t,onEditProduct:e})=>{const[n,r]=j.useState(!1),[s,i]=j.useState(null),c=j.useRef(null);j.useEffect(()=>{const h=p=>{c.current&&!c.current.contains(p.target)&&r(!1)};return document.addEventListener("mousedown",h),()=>document.removeEventListener("mousedown",h)},[]);const d=(h,p)=>{navigator.clipboard.writeText(h),i(p),setTimeout(()=>{i(null),r(!1)},1500)},f=[{type:"product",label:"Link do Produto",icon:af,url:`https://rs.shop/prod/${t.id}`},{type:"checkout",label:"Link do Checkout",icon:Xl,url:`https://rs.shop/checkout/${t.id}`},{type:"adText",label:"Texto do Anncio",icon:as,url:`${t.name} - ${t.description.substring(0,50)}...`},{type:"storeLink",label:"Link de Loja",icon:Zp,url:"https://rs.shop/loja/anacarolina"}];return o.jsxs("div",{className:"bg-[rgb(var(--color-brand-dark))] border border-[rgb(var(--color-brand-gray-light))] rounded-xl p-4 flex flex-col justify-between",children:[o.jsx("div",{className:"aspect-square bg-[rgb(var(--color-brand-gray))] rounded-lg mb-4",children:o.jsx("img",{src:t.images[0],alt:t.name,className:"w-full h-full object-cover rounded-lg"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-bold text-[rgb(var(--color-brand-text-light))] leading-tight",children:t.name}),o.jsx("p",{className:"text-2xl font-bold text-[rgb(var(--color-brand-gold))] mt-2",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(t.suggestedRetailPrice)}),o.jsxs("div",{className:"flex items-center gap-4 mt-4",children:[o.jsx("button",{onClick:()=>e(t),className:"text-sm font-semibold text-[rgb(var(--color-brand-text-light))] hover:text-[rgb(var(--color-brand-gold))]",children:"Ver Detalhes"}),o.jsxs("div",{className:"relative",ref:c,children:[o.jsxs("button",{onClick:()=>r(!n),className:"flex items-center gap-2 text-sm font-bold bg-[rgb(var(--color-brand-gray))] text-[rgb(var(--color-brand-text-light))] py-2 px-4 rounded-md hover:bg-[rgb(var(--color-brand-gray-light))]",children:[o.jsx(Er,{className:"w-4 h-4"}),"Copiar"]}),n&&o.jsx("div",{className:"absolute bottom-full right-0 mb-2 w-56 bg-[rgb(var(--color-brand-dark))] border border-[rgb(var(--color-brand-gray-light))] rounded-lg shadow-lg z-10",children:f.map(h=>o.jsxs("button",{onClick:()=>d(h.url,h.type),className:"w-full flex items-center justify-between text-left px-3 py-2 text-sm text-[rgb(var(--color-brand-text-dim))] hover:bg-[rgb(var(--color-brand-gray))]",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(h.icon,{className:"w-4 h-4 text-[rgb(var(--color-brand-text-dim))]"}),o.jsx("span",{children:h.label})]}),s===h.type?o.jsx(uo,{className:"w-4 h-4 text-[rgb(var(--color-success))]"}):o.jsx(Er,{className:"w-4 h-4"})]},h.type))})]})]})]})]})},g8=({products:t,onEditProduct:e})=>o.jsxs("div",{children:[o.jsxs("div",{className:"bg-[rgb(var(--color-brand-gold))]/[.10] border border-[rgb(var(--color-brand-gold))]/[.30] rounded-lg p-4 flex items-center gap-4 mb-8",children:[o.jsx("div",{className:"bg-[rgb(var(--color-brand-gold))]/[.20] p-2 rounded-full",children:o.jsx(Ql,{className:"w-8 h-8 text-[rgb(var(--color-brand-gold))]"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-xl font-bold text-[rgb(var(--color-brand-text-light))]",children:"Venda sem Estoque com Dropshipping"}),o.jsxs("p",{className:"text-[rgb(var(--color-brand-text-dim))] text-sm",children:["Concentre-se em vender e deixe a logstica com a gente. Voc tem ",o.jsxs("span",{className:"font-bold text-[rgb(var(--color-brand-gold))]",children:[t.length," produtos"]})," prontos para divulgar."]})]})]}),o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:t.map(n=>o.jsx(p8,{product:n,onEditProduct:e},n.id))})]}),Bd=({title:t,children:e,defaultOpen:n=!1})=>{const[r,s]=j.useState(n);return o.jsxs("div",{className:"bg-[rgb(var(--color-brand-dark))] border border-[rgb(var(--color-brand-gray-light))] rounded-lg",children:[o.jsxs("button",{onClick:()=>s(!r),className:"w-full flex justify-between items-center p-4 text-left font-semibold text-[rgb(var(--color-brand-text-light))]",children:[o.jsx("span",{children:t}),o.jsx("span",{className:`transform transition-transform duration-200 ${r?"rotate-180":""}`,children:""})]}),r&&o.jsx("div",{className:"p-4 border-t border-[rgb(var(--color-brand-gray-light))]",children:e})]})},x8=({customization:t,onUpdate:e,onNavigate:n})=>{const[r,s]=j.useState(t),i=j.useRef(null),c=JSON.stringify(r)!==JSON.stringify(t);j.useEffect(()=>{s(t)},[t]),j.useEffect(()=>{var T;(T=i.current)!=null&&T.contentWindow&&i.current.contentWindow.postMessage({type:"LIVE_PREVIEW_UPDATE",payload:r},"*")},[r]);const d=()=>{e(r)},f=()=>{s(t)},h=(T,E)=>{s(M=>({...M,[T]:E}))},p=(T,E)=>{s(M=>({...M,hero:{...M.hero,[T]:E}}))},g=(T,E,M)=>{const D=[...r.carouselBanners];D[T]={...D[T],[E]:M},s(H=>({...H,carouselBanners:D}))},b=()=>{const T={id:`carousel-${Date.now()}`,desktopImage:"",mobileImage:"",link:"#"};s(E=>({...E,carouselBanners:[...E.carouselBanners,T]}))},N=T=>{s(E=>({...E,carouselBanners:E.carouselBanners.filter(M=>M.id!==T)}))},w=(T,E)=>{s(M=>({...M,midPageBanner:{...M.midPageBanner,[T]:E}}))},S=(T,E)=>{s(M=>({...M,footer:{...M.footer,[T]:E}}))};return o.jsxs("div",{className:"flex h-[calc(100vh-5rem)]",children:[o.jsxs("div",{className:"w-96 flex-shrink-0 bg-[rgb(var(--color-brand-dark))] flex flex-col border-r border-[rgb(var(--color-brand-gray-light))]",children:[o.jsxs("header",{className:"p-4 border-b border-[rgb(var(--color-brand-gray-light))] flex-shrink-0",children:[o.jsx("h2",{className:"text-xl font-bold",children:"Editor de Vitrine"}),o.jsx("p",{className:"text-sm text-[rgb(var(--color-brand-text-dim))]",children:"Personalize a aparncia da sua loja."})]}),o.jsxs("main",{className:"flex-grow p-4 overflow-y-auto space-y-4",children:[o.jsx(Bd,{title:"Identidade Visual",defaultOpen:!0,children:o.jsxs("div",{className:"space-y-4",children:[o.jsx(Et,{currentImage:r.logoUrl,onImageUpload:T=>h("logoUrl",T),placeholderText:"Logo da Loja",aspectRatio:"square"}),o.jsx(Et,{currentImage:r.faviconUrl,onImageUpload:T=>h("faviconUrl",T),placeholderText:"cone do Site (Favicon)",aspectRatio:"square"})]})}),o.jsx(Bd,{title:"Pgina Inicial: Sees",children:o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-[rgb(var(--color-brand-gold))] mb-2",children:"Banner Principal (Hero)"}),o.jsx("input",{value:r.hero.title,onChange:T=>p("title",T.target.value),placeholder:"Ttulo",className:"w-full bg-[rgb(var(--color-brand-gray))] border border-[rgb(var(--color-brand-gray-light))] rounded-md p-2 text-sm mb-2"}),o.jsx("input",{value:r.hero.subtitle,onChange:T=>p("subtitle",T.target.value),placeholder:"Subttulo",className:"w-full bg-[rgb(var(--color-brand-gray))] border border-[rgb(var(--color-brand-gray-light))] rounded-md p-2 text-sm mb-2"}),o.jsx(Et,{currentImage:r.hero.desktopImage,onImageUpload:T=>p("desktopImage",T),placeholderText:"Imagem Desktop"})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-[rgb(var(--color-brand-gold))] mb-2",children:"Carrossel de Banners"}),o.jsxs("div",{className:"space-y-2",children:[r.carouselBanners.map((T,E)=>o.jsxs("div",{className:"bg-[rgb(var(--color-brand-gray))] p-2 rounded-md",children:[o.jsxs("div",{className:"flex justify-between items-center mb-1",children:[o.jsxs("p",{className:"text-xs text-[rgb(var(--color-brand-text-dim))]",children:["Banner ",E+1]}),o.jsx("button",{onClick:()=>N(T.id),children:o.jsx(jt,{className:"w-4 h-4 text-red-500"})})]}),o.jsx(Et,{currentImage:T.desktopImage,onImageUpload:M=>g(E,"desktopImage",M),placeholderText:"Imagem do Banner"})]},T.id)),o.jsx("button",{onClick:b,className:"text-sm w-full p-2 bg-[rgb(var(--color-brand-gray))] rounded-md hover:bg-[rgb(var(--color-brand-gray-light))]",children:"+ Adicionar Banner"})]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-[rgb(var(--color-brand-gold))] mb-2",children:"Banner do Meio da Pgina"}),o.jsx(Et,{currentImage:r.midPageBanner.desktopImage,onImageUpload:T=>w("desktopImage",T),placeholderText:"Imagem do Banner"})]})]})}),o.jsx(Bd,{title:"Rodap",children:o.jsxs("div",{className:"space-y-4",children:[o.jsx("label",{className:"text-sm text-[rgb(var(--color-brand-text-dim))]",children:"Descrio"}),o.jsx("input",{value:r.footer.description,onChange:T=>S("description",T.target.value),className:"w-full bg-[rgb(var(--color-brand-gray))] border border-[rgb(var(--color-brand-gray-light))] rounded-md p-2 text-sm"}),o.jsx("label",{className:"text-sm text-[rgb(var(--color-brand-text-dim))]",children:"CNPJ"}),o.jsx("input",{value:r.footer.cnpj,onChange:T=>S("cnpj",T.target.value),className:"w-full bg-[rgb(var(--color-brand-gray))] border border-[rgb(var(--color-brand-gray-light))] rounded-md p-2 text-sm"})]})}),o.jsx(Bd,{title:"CSS Personalizado",children:o.jsx("textarea",{value:r.customCss||"",onChange:T=>h("customCss",T.target.value),rows:10,className:"w-full bg-[rgb(var(--color-brand-dark))] border border-[rgb(var(--color-brand-gray-light))] rounded-md p-2 text-sm font-mono"})})]}),o.jsxs("footer",{className:"p-4 border-t border-[rgb(var(--color-brand-gray-light))] flex-shrink-0",children:[c&&o.jsx("p",{className:"text-xs text-center text-[rgb(var(--color-brand-gold))] mb-2",children:"Voc tem alteraes no salvas."}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("button",{onClick:f,disabled:!c,className:"flex-1 text-sm font-semibold bg-[rgb(var(--color-brand-gray))] py-2 px-4 rounded-md disabled:opacity-50",children:"Descartar"}),o.jsx("button",{onClick:d,disabled:!c,className:"flex-1 text-sm font-bold bg-[rgb(var(--color-brand-gold))] text-[rgb(var(--color-brand-dark))] py-2 px-4 rounded-md disabled:opacity-50",children:"Salvar"})]})]})]}),o.jsx("div",{className:"flex-1 bg-black p-4",children:o.jsx("div",{className:"w-full h-full bg-white rounded-lg shadow-inner overflow-hidden",children:o.jsx("iframe",{ref:i,src:window.location.href,title:"Live Preview",className:"w-full h-full border-0"})})})]})},b8=({store:t,onCommissionChange:e})=>{const[n,r]=j.useState(!1),[s,i]=j.useState(null),[c,d]=j.useState(t.commission),f=j.useRef(null);j.useEffect(()=>{const b=N=>{f.current&&!f.current.contains(N.target)&&r(!1)};return document.addEventListener("mousedown",b),()=>document.removeEventListener("mousedown",b)},[]);const h=(b,N)=>{navigator.clipboard.writeText(b),i(N),setTimeout(()=>{i(null),r(!1)},1500)},p=()=>{const b=Number(c);!isNaN(b)&&b>=0&&b!==t.commission?e(t.id,b):d(t.commission)},g=[{type:"partnerLink",label:"Link da Loja do Parceiro",icon:Zp,url:`https://rs.shop/p/${t.id}?ref=anacarolina`},{type:"adText",label:"Texto de Divulgao",icon:as,url:`Conhea a ${t.name}, especialista em ${t.description}! Use meu link de afiliado para conferir.`},{type:"myStoreLink",label:"Link da Minha Loja",icon:af,url:"https://rs.shop/loja/anacarolina"}];return o.jsxs("div",{className:"bg-[rgb(var(--color-brand-dark))] border border-[rgb(var(--color-brand-gray-light))] rounded-lg p-4 flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("img",{src:t.logo,alt:t.name,className:"w-12 h-12 rounded-lg bg-[rgb(var(--color-brand-gray))]"}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold text-[rgb(var(--color-brand-text-light))]",children:t.name}),o.jsx("p",{className:"text-sm text-[rgb(var(--color-brand-text-dim))]",children:t.description})]})]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("div",{className:"relative w-24 text-center",children:[o.jsx("input",{type:"number",value:c,onChange:b=>d(Number(b.target.value)),onBlur:p,onKeyDown:b=>{b.key==="Enter"&&b.target.blur()},className:"w-full bg-[rgb(var(--color-brand-dark))] border-2 border-[rgb(var(--color-brand-gray-light))] rounded-lg py-1 pr-6 text-center text-xl font-bold text-[rgb(var(--color-success))] focus:outline-none focus:border-[rgb(var(--color-brand-gold))] appearance-none [-moz-appearance:textfield]","aria-label":`Comisso para ${t.name}`}),o.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-xl font-bold text-[rgb(var(--color-success))] pointer-events-none",children:"%"}),o.jsx("p",{className:"text-xs text-[rgb(var(--color-brand-text-dim))] mt-1",children:"Comisso"})]}),o.jsxs("div",{className:"relative",ref:f,children:[o.jsx("button",{onClick:()=>r(!n),className:"font-bold bg-[rgb(var(--color-brand-gold))] text-[rgb(var(--color-brand-dark))] py-2 px-5 rounded-md hover:bg-yellow-400",children:"Copiar"}),n&&o.jsx("div",{className:"absolute top-full right-0 mt-2 w-64 bg-[rgb(var(--color-brand-dark))] border border-[rgb(var(--color-brand-gray-light))] rounded-lg shadow-lg z-10",children:g.map(b=>o.jsxs("button",{onClick:()=>h(b.url,b.type),className:"w-full flex items-center justify-between text-left px-3 py-2 text-sm text-[rgb(var(--color-brand-text-dim))] hover:bg-[rgb(var(--color-brand-gray))] first:rounded-t-lg last:rounded-b-lg",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(b.icon,{className:"w-4 h-4 text-[rgb(var(--color-brand-text-dim))]"}),o.jsx("span",{children:b.label})]}),s===b.type?o.jsx(uo,{className:"w-4 h-4 text-[rgb(var(--color-success))]"}):o.jsx(Er,{className:"w-4 h-4"})]},b.type))})]})]})]})},y8=({stores:t,onCommissionChange:e})=>{const[n,r]=j.useState(""),s=t.filter(i=>i.name.toLowerCase().includes(n.toLowerCase())||i.description.toLowerCase().includes(n.toLowerCase()));return o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{children:o.jsx("h1",{className:"text-2xl font-bold text-[rgb(var(--color-brand-text-light))]",children:"Gerador de Links de Afiliado"})}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:"text",placeholder:"Pesquisar por lojista ou produto...",value:n,onChange:i=>r(i.target.value),className:"w-full bg-[rgb(var(--color-brand-dark))] border-2 border-[rgb(var(--color-brand-gray-light))] rounded-lg py-3 pl-12 pr-4 text-[rgb(var(--color-brand-text-light))] placeholder-[rgb(var(--color-brand-text-dim))] focus:outline-none focus:border-[rgb(var(--color-brand-gold))]"}),o.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:o.jsx(tn,{className:"h-5 w-5 text-[rgb(var(--color-brand-text-dim))]"})})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h2",{className:"text-lg font-semibold text-[rgb(var(--color-brand-text-light))]",children:"Lojistas Parceiros"}),s.map(i=>o.jsx(b8,{store:i,onCommissionChange:e},i.id))]})]})},B2=t=>o.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",fill:"currentColor",children:[o.jsx("path",{fill:"#FFC107",d:"M43.611 20.083H42V20H24v8h11.303c-1.649 4.657-6.08 8-11.303 8c-6.627 0-12-5.373-12-12s5.373-12 12-12c3.059 0 5.842 1.154 7.961 3.039l5.657-5.657C34.046 6.053 29.268 4 24 4C12.955 4 4 12.955 4 24s8.955 20 20 20s20-8.955 20-20c0-1.341-.138-2.65-.389-3.917z"}),o.jsx("path",{fill:"#FF3D00",d:"M6.306 14.691l6.571 4.819C14.655 15.108 18.961 12 24 12c3.059 0 5.842 1.154 7.961 3.039l5.657-5.657C34.046 6.053 29.268 4 24 4C16.318 4 9.656 8.337 6.306 14.691z"}),o.jsx("path",{fill:"#4CAF50",d:"M24 44c5.166 0 9.86-1.977 13.409-5.192l-6.19-5.238A11.91 11.91 0 0 1 24 36c-5.222 0-9.653-3.356-11.303-7.918l-6.522 5.025A20.02 20.02 0 0 0 24 44z"}),o.jsx("path",{fill:"#1976D2",d:"M43.611 20.083H42V20H24v8h11.303c-.792 2.237-2.231 4.166-4.087 5.571l6.19 5.238C42.012 36.417 44 30.556 44 24c0-1.341-.138-2.65-.389-3.917z"})]}),v8=t=>o.jsx("svg",{...t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:o.jsx("path",{d:"M12.525.02c1.31-.02 2.61-.01 3.91-.02.08 1.53.63 3.09 1.75 4.17 1.12 1.11 2.7 1.62 4.24 1.79v4.03c-1.44-.05-2.89-.35-4.2-.97-.57-.26-1.1-.59-1.62-.93-.01 2.92.01 5.84-.02 8.75-.08 1.4-.54 2.79-1.35 3.94-1.31 1.92-3.58 3.17-5.91 3.21-2.43.03-4.83-1-6.7-2.9-1.85-1.85-2.75-4.23-2.68-6.75.02-1.31.02-2.62 0-3.93.62-.02 1.24-.01 1.87-.01.04 1.4.52 2.83 1.37 3.93.85 1.1 2.11 1.76 3.48 1.76.01 0 .02.01.02.01.2 0 .4-.01.59-.02 1.15-.06 2.23-.62 2.99-1.52.75-.9 1.15-2.02 1.15-3.14-.02-2.89-.02-5.78-.01-8.67-.04-1.28-.58-2.55-1.48-3.55C14.28 2.3 13.43 1.17 12.525.02z"})}),N8=t=>o.jsx("svg",{...t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:o.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12c0 4.28 2.81 7.9 6.6 9.35.03-.22.05-.5.08-.72.03-.2.18-1.18.27-1.58.1-.42.6-2.58.6-2.58s-.15-.3-.15-.75c0-.7.42-1.22.95-1.22.45 0 .66.33.66.73 0 .45-.28 1.12-.43 1.75-.12.52.26 1 .78 1 1.35 0 2.38-1.7 2.38-3.9 0-1.95-1.38-3.3-3.25-3.3-2.18 0-3.45 1.62-3.45 3.2 0 .4.15.85.35 1.1.05.08.05.15 0 .23-.08.26-.28.85-.33.95-.03.1-.1.13-.23.05-1.02-.5-1.65-2.05-1.65-3.3 0-2.72 2.2-5.2 6.15-5.2 3.22 0 5.55 2.28 5.55 5 0 3.23-1.88 5.58-4.5 5.58-.9 0-1.75-.48-2.05-1.05 0 0-.45 1.78-.55 2.2-.28 1.1-.98 2.32-1.42 3.12 1.1.32 2.25.5 3.45.5 5.52 0 10-4.48 10-10S17.52 2 12 2z"})}),C8=t=>o.jsx("svg",{...t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:o.jsx("path",{d:"M11.235 7.633l-3.328 3.328a2.12 2.12 0 11-2.998-2.998l3.328-3.328a2.12 2.12 0 112.998 2.998zm1.53 1.53l-3.328 3.328a2.12 2.12 0 11-2.998-2.998l3.328-3.328a2.12 2.12 0 112.998 2.998zm-1.53 1.531l-3.328 3.328a2.12 2.12 0 11-2.998-2.998l3.328-3.328a2.12 2.12 0 112.998 2.998zm5.33-4.59l3.328-3.328a2.12 2.12 0 10-2.998-2.998l-3.328 3.328a2.12 2.12 0 102.998 2.998zm-1.53 1.53l3.328-3.328a2.12 2.12 0 10-2.998-2.998l-3.328 3.328a2.12 2.12 0 102.998 2.998zm1.53 1.531l3.328-3.328a2.12 2.12 0 10-2.998-2.998l-3.328 3.328a2.12 2.12 0 102.998 2.998z"})}),w8=t=>o.jsx("svg",{...t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:o.jsx("path",{d:"M12 2a10 10 0 100 20 10 10 0 000-20zm0 16a6 6 0 110-12 6 6 0 010 12z"})}),S8=t=>o.jsx("svg",{...t,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5a3.375 3.375 0 00-3.375-3.375H9.75"})}),T8=t=>o.jsx("svg",{...t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:o.jsx("path",{d:"M19.345 1.124c-1.288-.04-2.618.06-3.917.02-.04 1.74-1.74 3.48-3.48 3.48s-3.48-1.74-3.48-3.48c-1.3-.04-2.628-.06-3.917-.02C1.408 1.144 0 4.194 0 7.243c0 2.95 1.487 5.92 4.383 5.92.52 0 1.11-.08 1.583-.16 0 2.308.87 4.542 2.522 6.194 1.652 1.652 3.965 2.522 6.194 2.522s4.542-.87 6.194-2.522c1.652-1.652 2.522-3.886 2.522-6.194-.473.08-1.063.16-1.584.16 2.896 0 4.383-2.97 4.383-5.92 0-3.05-1.407-6.1-4.558-6.12z"})}),k8=t=>o.jsx("svg",{...t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:o.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2.05 14.23l-3.4-3.4c-.39-.39-.39-1.02 0-1.41l3.4-3.4c.39-.39 1.02-.39 1.41 0l3.4 3.4c.39.39.39 1.02 0 1.41l-3.4 3.4c-.39.39-1.02.39-1.41 0z"})}),E8=t=>o.jsx("svg",{...t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:o.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 15c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"})}),A8=t=>o.jsx("svg",{...t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:o.jsx("path",{d:"M10.15 11.23L5.43 8.79l6.98-2.61 4.14 1.55-6.4 3.5zm.22-1.95l6.4-3.5L10.37 3.2 4 6.75l6.37 2.55zM4 7.23v9.54l6.18 3.03V10.2L4 7.23zm15.9.1L13.82 4.1v15.6l6.08-2.95V7.33z"})}),j8=t=>o.jsx("svg",{...t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:o.jsx("path",{d:"M15.09 13.52c-.63.63-1.49.98-2.38.98-1.12 0-2.14-.54-2.77-1.39-.56-.75-.82-1.68-.74-2.63.1-1.13.67-2.13 1.54-2.77.87-.65 2.01-.9 3.03-.68.96.2 1.83.75 2.45 1.52.62.77.92 1.76.84 2.78-.09 1.25-.7 2.37-1.57 3.19l-3.1 3.1c-.1.1-.26.1-.35 0-.1-.1-.1-.26 0-.35l3.1-3.1c.78-.73 1.3-1.7 1.38-2.82.07-.9-.2-1.78-.76-2.47-.56-.7-1.33-1.18-2.2-1.36-.92-.19-1.91.04-2.68.62-.77.58-1.28 1.48-1.37 2.49-.07.82.16 1.63.66 2.28.56.73 1.45 1.15 2.36 1.15.78 0 1.53-.3 2.12-.88l4.08-4.08c1.09-1.09 1.6-2.5 1.48-3.95-.15-1.71-1.05-3.23-2.44-4.14-1.63-1.06-3.7-.93-5.18.31-1.32 1.1-2 2.68-1.87 4.28.1 1.26.7 2.4 1.59 3.24l.35.35c.1.1.1.26 0 .35-.1.1-.26.1-.35 0l-.35-.35C8.3 12.33 7.78 11.3 7.7 10.1c-.13-1.84.6-3.64 1.93-4.88 1.52-1.42 3.84-1.8 5.76-1.1 1.7.62 3.03 2.13 3.65 3.9.72 2.06.18 4.38-1.3 6.03l-4.08 4.08z"})}),M8={Facebook:F2,"Google Ads":B2,"Google Analytics":B2,TikTok:v8,Pinterest:N8,Kwai:C8,Taboola:w8,LinkedIn:$2,Twitter:G2,Bing:A8,Criteo:k8,Hotjar:j8,Outbrain:E8,Snapchat:T8},R8=({pixel:t,onNavigate:e,onDelete:n,onStatusToggle:r,onDuplicate:s})=>{const i=M8[t.type];return o.jsxs("div",{className:"bg-black border border-gray-800 rounded-lg p-4 flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(i,{className:`w-8 h-8 flex-shrink-0 ${t.type==="Google Ads"||t.type==="Google Analytics"?"":"text-white"}`}),o.jsxs("div",{children:[o.jsx("button",{onClick:()=>e("addEditMarketingPixel",t),className:"font-bold text-white text-left hover:text-yellow-400",children:t.name}),o.jsxs("div",{className:"flex flex-wrap items-center gap-x-2 text-xs text-gray-400",children:[o.jsxs("span",{className:"font-mono bg-gray-700/50 px-1 rounded",children:["ID: ",t.pixelId]}),t.idLabel&&o.jsxs("span",{className:"font-mono bg-gray-700/50 px-1 rounded",children:["Label: ",t.idLabel]})]})]})]}),o.jsxs("div",{className:"flex items-center gap-4 sm:gap-6 w-full sm:w-auto",children:[o.jsx(Xe,{checked:t.status==="Ativo",onChange:()=>r(t.id),labelId:`toggle-pixel-${t.id}`}),o.jsxs("div",{className:"flex items-center gap-3 ml-auto sm:ml-0",children:[o.jsx("button",{onClick:()=>e("addEditMarketingPixel",t),title:"Editar",className:"text-gray-400 hover:text-yellow-400",children:o.jsx(Fu,{className:"w-5 h-5"})}),o.jsx("button",{onClick:()=>s(t.id),title:"Duplicar",className:"text-gray-400 hover:text-white",children:o.jsx(S8,{className:"w-5 h-5"})}),o.jsx("button",{title:"Excluir",onClick:()=>n(t.id),className:"text-gray-400 hover:text-red-400",children:o.jsx(jt,{className:"w-5 h-5"})})]})]})]})},I8=({pixels:t,onNavigate:e,onDelete:n,onStatusToggle:r,onDuplicate:s})=>o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[o.jsx("h1",{className:"text-2xl font-bold text-white",children:"Pixels de Marketing"}),o.jsx("button",{onClick:()=>e("addEditMarketingPixel"),className:"font-bold bg-yellow-500 text-black py-2 px-5 rounded-md hover:bg-yellow-400 transition-colors",children:"+ Adicionar Pixel"})]}),o.jsx("div",{className:"space-y-3",children:t.map(i=>o.jsx(R8,{pixel:i,onNavigate:e,onDelete:n,onStatusToggle:r,onDuplicate:s},i.id))})]}),D8=({links:t,setLinks:e})=>{const[n,r]=j.useState(""),[s,i]=j.useState(null),c=()=>{if(!n||!n.startsWith("http")){alert("Por favor, insira uma URL vlida.");return}const p={id:`SL-${Date.now()}`,shortUrl:`https://rs.shp/${Math.random().toString(36).substring(2,7)}`,originalUrl:n,clicks:0};e(g=>[p,...g]),r("")},d=p=>{navigator.clipboard.writeText(p.shortUrl),i(p.id),setTimeout(()=>i(null),2e3)},f=p=>{window.confirm("Tem certeza que deseja excluir este link?")&&e(g=>g.filter(b=>b.id!==p))},h=p=>{e(g=>g.map(b=>b.id===p?{...b,clicks:b.clicks+1}:b))};return o.jsxs("div",{className:"space-y-8",children:[o.jsx("div",{children:o.jsxs("h1",{className:"text-2xl font-bold text-[rgb(var(--color-brand-text-light))] flex items-center gap-2",children:[o.jsx(qu,{className:"w-6 h-6"}),"Encurtador de Link"]})}),o.jsx("div",{className:"bg-[rgb(var(--color-brand-dark))] border border-[rgb(var(--color-brand-gray-light))] rounded-lg p-6",children:o.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch gap-2",children:[o.jsx("input",{type:"url",placeholder:"Cole sua URL longa aqui...",value:n,onChange:p=>r(p.target.value),className:"flex-grow bg-[rgb(var(--color-brand-gray))] border-2 border-[rgb(var(--color-brand-gray-light))] rounded-lg py-3 px-4 text-[rgb(var(--color-brand-text-light))] placeholder-[rgb(var(--color-brand-text-dim))] focus:outline-none focus:border-[rgb(var(--color-brand-gold))]"}),o.jsx("button",{onClick:c,className:"font-bold bg-[rgb(var(--color-brand-gold))] text-[rgb(var(--color-brand-dark))] py-3 px-6 rounded-lg hover:bg-yellow-400",children:"Encurtar"})]})}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h2",{className:"text-lg font-semibold text-[rgb(var(--color-brand-text-light))]",children:"Seus Links Recentes"}),t.map(p=>o.jsxs("div",{className:"bg-[rgb(var(--color-brand-dark))] border border-[rgb(var(--color-brand-gray-light))] rounded-lg p-4 flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[o.jsxs("div",{children:[o.jsx("a",{href:p.originalUrl,target:"_blank",rel:"noopener noreferrer",onClick:()=>h(p.id),className:"font-bold text-[rgb(var(--color-brand-gold))] hover:underline",children:p.shortUrl}),o.jsx("p",{className:"text-sm text-[rgb(var(--color-brand-text-dim))] truncate max-w-xs sm:max-w-md",children:p.originalUrl})]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm text-[rgb(var(--color-brand-text-dim))]",children:[o.jsx(rg,{className:"w-5 h-5"}),o.jsxs("span",{children:[p.clicks," cliques"]})]}),o.jsxs("button",{onClick:()=>d(p),className:`font-semibold text-sm py-2 px-4 rounded-md flex items-center gap-2 transition-colors ${s===p.id?"bg-[rgb(var(--color-success))]/[.20] text-[rgb(var(--color-success))]":"bg-[rgb(var(--color-brand-gray))] text-[rgb(var(--color-brand-text-light))] hover:bg-[rgb(var(--color-brand-gray-light))]"}`,children:[s===p.id?o.jsx(uo,{className:"w-5 h-5"}):o.jsx(Er,{className:"w-5 h-5"}),s===p.id?"Copiado!":"Copiar"]}),o.jsx("button",{onClick:()=>f(p.id),className:"text-[rgb(var(--color-brand-text-dim))] hover:text-[rgb(var(--color-error))]",title:"Excluir link",children:o.jsx(jt,{className:"w-5 h-5"})})]})]},p.id))]})]})},_8=["Facebook","Google Ads","Google Analytics","TikTok","Pinterest","Kwai","Taboola","LinkedIn","Twitter","Bing","Criteo","Hotjar","Outbrain","Snapchat"],P8=({pixel:t,onSave:e,onCancel:n})=>{const[r,s]=j.useState({name:"",type:"Facebook",pixelId:"",idLabel:"",status:"Ativo",...t}),i=j.useRef(null),c=h=>{const{name:p,value:g}=h.target;s(b=>({...b,[p]:g}))},d=h=>{var p,g;if(h.preventDefault(),!((p=r.name)!=null&&p.trim())||!((g=r.pixelId)!=null&&g.trim())){alert("Por favor, preencha o nome e o ID do pixel.");return}e(r)},f=()=>{var h;(h=i.current)==null||h.requestSubmit()};return o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"pb-6 mb-6 flex justify-end items-center border-b border-[rgb(var(--color-brand-gray-light))]",children:o.jsxs("div",{className:"flex items-center gap-2 sm:gap-4",children:[o.jsx("button",{type:"button",onClick:n,className:"text-sm font-semibold bg-[rgb(var(--color-brand-gray))] text-[rgb(var(--color-brand-text-light))] py-2 px-4 rounded-md hover:bg-[rgb(var(--color-brand-gray-light))] transition-colors",children:"Descartar"}),o.jsx("button",{type:"button",onClick:f,className:"text-sm font-bold bg-[rgb(var(--color-brand-gold))] text-[rgb(var(--color-brand-dark))] py-2 px-4 rounded-md hover:bg-yellow-400 transition-colors",children:"Salvar Pixel"})]})}),o.jsxs("form",{onSubmit:d,ref:i,className:"max-w-2xl mx-auto space-y-8",children:[o.jsxs("div",{className:"bg-[rgb(var(--color-brand-dark))] border border-[rgb(var(--color-brand-gray-light))] rounded-lg p-6 space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-[rgb(var(--color-brand-text-light))] mb-2",children:"Nome da Campanha"}),o.jsx("input",{type:"text",name:"name",id:"name",value:r.name,onChange:c,placeholder:"Ex: Campanha de Lanamento",className:"w-full bg-[rgb(var(--color-brand-gray))] border-2 border-[rgb(var(--color-brand-gray-light))] rounded-md py-2 px-3 text-[rgb(var(--color-brand-text-light))]",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"type",className:"block text-sm font-medium text-[rgb(var(--color-brand-text-light))] mb-2",children:"Plataforma"}),o.jsx("select",{name:"type",id:"type",value:r.type,onChange:c,className:"w-full bg-[rgb(var(--color-brand-gray))] border-2 border-[rgb(var(--color-brand-gray-light))] rounded-md py-2 px-3 text-[rgb(var(--color-brand-text-light))]",children:_8.map(h=>o.jsx("option",{value:h,children:h},h))})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"pixelId",className:"block text-sm font-medium text-[rgb(var(--color-brand-text-light))] mb-2",children:"ID do Pixel / Tag"}),o.jsx("input",{type:"text",name:"pixelId",id:"pixelId",value:r.pixelId,onChange:c,className:"w-full bg-[rgb(var(--color-brand-gray))] border-2 border-[rgb(var(--color-brand-gray-light))] rounded-md py-2 px-3 text-[rgb(var(--color-brand-text-light))]",required:!0})]}),r.type==="Google Ads"&&o.jsxs("div",{children:[o.jsx("label",{htmlFor:"idLabel",className:"block text-sm font-medium text-[rgb(var(--color-brand-text-light))] mb-2",children:"Rtulo de Converso (Opcional)"}),o.jsx("input",{type:"text",name:"idLabel",id:"idLabel",value:r.idLabel,onChange:c,className:"w-full bg-[rgb(var(--color-brand-gray))] border-2 border-[rgb(var(--color-brand-gray-light))] rounded-md py-2 px-3 text-[rgb(var(--color-brand-text-light))]"})]})]}),o.jsxs("div",{className:"bg-[rgb(var(--color-brand-dark))] border border-[rgb(var(--color-brand-gray-light))] rounded-lg p-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-[rgb(var(--color-brand-text-light))] mb-4",children:"Status"}),o.jsxs("select",{name:"status",id:"status",value:r.status,onChange:c,className:"w-full bg-[rgb(var(--color-brand-gray))] border-2 border-[rgb(var(--color-brand-gray-light))] rounded-md py-2 px-3 text-[rgb(var(--color-brand-text-light))]",children:[o.jsx("option",{value:"Ativo",children:"Ativo"}),o.jsx("option",{value:"Inativo",children:"Inativo"})]})]})]})]})},L8=t=>o.jsx("svg",{...t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:o.jsx("path",{d:"M3 13h8V3H3v10zm0 8h8v-6H3v6zm10 0h8V11h-8v10zm0-18v6h8V3h-8z"})}),O8=t=>o.jsx("svg",{...t,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 21v-7.5A.75.75 0 0114.25 12h.01a.75.75 0 01.75.75v7.5m-3.75 0v-7.5a.75.75 0 00-.75-.75h-.01a.75.75 0 00-.75.75v7.5m-3.75 0v-7.5A.75.75 0 016.75 12h.01a.75.75 0 01.75.75v7.5m-3.75 0V12A2.25 2.25 0 015.25 9.75h9.5A2.25 2.25 0 0117.25 12v9.75m-9.75 0h4.5m-13.5-3.375V12a2.25 2.25 0 012.25-2.25h13.5A2.25 2.25 0 0121 12v2.25m-18 0h18M12 6.75h.008v.008H12V6.75z"})}),B8=t=>o.jsx("svg",{...t,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.53 16.122a3 3 0 00-5.78 1.128 2.25 2.25 0 01-2.4 2.245 4.5 4.5 0 008.4-2.245c0-.399-.078-.78-.22-1.128zm0 0a15.998 15.998 0 003.388-1.62m-5.043-.025a15.998 15.998 0 011.622-3.385m5.043.025a2.25 2.25 0 01-2.244 2.4l1.128 5.78a3 3 0 001.128 5.78m0 0l3.388-1.62m-5.043-.025a15.998 15.998 0 011.622-3.385m5.043.025a2.25 2.25 0 01-2.244 2.4l1.128 5.78a3 3 0 001.128 5.78m0 0l3.388-1.62m-5.043-.025a15.998 15.998 0 011.622-3.385"})}),z8=t=>o.jsx("svg",{...t,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 8.511c.884.284 1.5 1.128 1.5 2.097v4.286c0 1.136-.847 2.1-1.98 2.193l-3.72 3.72a.75.75 0 01-1.06 0l-3.72-3.72C9.347 17.653 8.5 16.689 8.5 15.553V11.25c0-.97.616-1.813 1.5-2.097m6.5 0v3.75m-6.5-3.75v3.75m6.5-3.75h3.75m-13.5 0h3.75m-3.75 0a3.003 3.003 0 00-3 3v6.75a3.003 3.003 0 003 3h9.75a.75.75 0 00.75-.75V19.5m-12-6.75a.75.75 0 01.75-.75h9.75a.75.75 0 01.75.75v9.75a.75.75 0 01-.75.75h-9.75a.75.75 0 01-.75-.75V12.75z"})}),zu=t=>o.jsx("svg",{...t,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09zM18.259 8.715L18 9.75l-.259-1.035a3.375 3.375 0 00-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 002.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 002.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 00-2.456 2.456zM16.898 20.553L16.5 21.75l-.398-1.197a3.375 3.375 0 00-2.456-2.456L12.5 17.25l1.197-.398a3.375 3.375 0 002.456-2.456L16.5 13.5l.398 1.197a3.375 3.375 0 002.456 2.456l1.197.398-1.197.398a3.375 3.375 0 00-2.456 2.456z"})}),U8=t=>o.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:[o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.324.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 011.37.49l1.296 2.247a1.125 1.125 0 01-.26 1.431l-1.003.827c-.293.24-.438.613-.438.995a6.75 6.75 0 010 1.99c0 .382.145.755.438.995l1.003.827c.424.35.534.954.26 1.431l-1.298 2.247a1.125 1.125 0 01-1.369.49l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.57 6.57 0 01-.22.128c-.333.183-.582.495-.645.87l-.213 1.28c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.02-.398-1.11-.94l-.213-1.281c-.063-.374-.313-.686-.645-.87a6.52 6.52 0 01-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 01-1.369-.49l-1.297-2.247a1.125 1.125 0 01.26-1.431l1.004-.827c.292-.24.437-.613.437-.995a6.75 6.75 0 010-1.99c0-.382-.145-.755-.438-.995l-1.004-.827a1.125 1.125 0 01-.26-1.431l1.297-2.247a1.125 1.125 0 011.37-.49l1.217.456c.355.133.75.072 1.076-.124.072-.044.146-.087.22-.128.332-.183.582-.495.645-.87l.213-1.28z"}),o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),H8=t=>o.jsx("svg",{...t,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18.75 19.5l-7.5-7.5 7.5-7.5m-6 15L5.25 12l7.5-7.5"})}),V8=t=>o.jsx("svg",{...t,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 6H5.25A2.25 2.25 0 003 8.25v10.5A2.25 2.25 0 005.25 21h10.5A2.25 2.25 0 0018 18.75V10.5m-4.5 0L21 3m0 0h-6.375M21 3v6.375"})}),q8=t=>o.jsx("svg",{...t,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 21v-7.5A.75.75 0 0114.25 12h.01a.75.75 0 01.75.75v7.5m-3.75 0v-7.5a.75.75 0 00-.75-.75h-.01a.75.75 0 00-.75.75v7.5m-3.75 0v-7.5A.75.75 0 016.75 12h.01a.75.75 0 01.75.75v7.5m-3.75 0V12A2.25 2.25 0 015.25 9.75h9.5A2.25 2.25 0 0117.25 12v9.75m-9.75 0h4.5m-13.5-3.375V12a2.25 2.25 0 012.25-2.25h13.5A2.25 2.25 0 0121 12v2.25m-18 0h18M12 6.75h.008v.008H12V6.75z"})}),F8=t=>o.jsx("svg",{...t,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0013.5 3h-6a2.25 2.25 0 00-2.25 2.25v13.5A2.25 2.25 0 007.5 21h6a2.25 2.25 0 002.25-2.25V15m3 0l3-3m0 0l-3-3m3 3H9"})}),G8=[{main:{icon:L8,label:"Dashboard",view:"consultantStore"}},{main:{icon:zu,label:"RS Studio",view:"rsStudio"}},{main:{icon:z8,label:"Comunicao",view:"communication"}},{isSeparator:!0,title:"GERENCIAR"},{main:{icon:O8,label:"Minha Loja",view:"manageProducts"},subLinks:[{label:"Produtos",view:"manageProducts"},{label:"Colees",view:"manageCollections"},{label:"Pedidos",view:"manageOrders"},{label:"Cupons",view:"managePromotions"},{label:"Order Bump",view:"manageOrderBump"},{label:"Upsell",view:"manageUpsell"},{label:"Carrinhos Abandonados",view:"manageAbandonedCarts"},{label:"Avaliaes",view:"manageReviews"},{label:"Afiliados",view:"manageAffiliates"}]},{main:{icon:pi,label:"Wallet Pay",view:"walletOverview"},subLinks:[{label:"Viso Geral",view:"walletOverview"},{label:"Extrato e Relatrios",view:"walletReports"},{label:"Transferncias",view:"walletTransfers"},{label:"Cobranas",view:"walletCharges"},{label:"Configuraes",view:"walletSettings"}]},{main:{icon:q8,label:"CDs",view:"manageDistributors"}},{main:{icon:Zl,label:"Marketing",view:"virtualOfficePixels"},subLinks:[{label:"Pixels de Marketing",view:"virtualOfficePixels"},{label:"Encurtador de Links",view:"virtualOfficeLinkShortener"}]},{isSeparator:!0,title:"APARNCIA"},{main:{icon:B8,label:"Personalizao",view:"storeEditor"},subLinks:[{label:"Meu Perfil",view:"userProfileEditor"},{label:"Aparncia da Loja",view:"storeEditor"},{label:"Editor do Painel",view:"dashboardEditor"},{label:"Banners do Painel",view:"bannerDashboard"}]},{main:{icon:as,label:"Contedo e Mdia",view:"manageAnnouncements"},subLinks:[{label:"Comunicados",view:"manageAnnouncements"},{label:"Treinamentos",view:"manageTrainings"},{label:"Materiais de Marketing",view:"manageMarketingAssets"}]},{main:{icon:U8,label:"Configuraes",view:"managePayments"},subLinks:[{label:"Plano de Compensao",view:"compensationPlan"},{label:"Pagamentos",view:"managePayments"},{label:"Frete",view:"manageShipping"}]}],$8=({item:t,isCollapsed:e,currentView:n,onNavigate:r})=>{const{main:s,subLinks:i}=t,c=n===s.view||i&&i.some(T=>T.view===n),[d,f]=j.useState(c),[h,p]=j.useState(!1),g=j.useRef(null);j.useEffect(()=>{!c&&!e&&f(!1)},[c,e]),j.useEffect(()=>{const T=E=>{e&&g.current&&!g.current.contains(E.target)&&p(!1)};return document.addEventListener("mousedown",T),()=>document.removeEventListener("mousedown",T)},[e]);const b=()=>{e?i?p(T=>!T):r(s.view):i?f(T=>!T):r(s.view)};return o.jsxs("div",{ref:g,children:[o.jsxs("button",{onClick:b,className:`w-full flex items-center justify-between text-left px-3 rounded-md text-sm font-medium transition-all duration-200 h-11 relative group ${c?"bg-[rgb(var(--color-brand-gold))]/10 text-white":"text-[rgb(var(--color-brand-text-dim))] hover:bg-[rgb(var(--color-brand-gray-light))] hover:text-white"}`,children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(s.icon,{className:`h-6 w-6 flex-shrink-0 transition-colors ${c?"text-[rgb(var(--color-brand-gold))]":""}`}),!e&&o.jsx("span",{className:"truncate",children:s.label})]}),!e&&i&&o.jsx("span",{className:`transform transition-transform text-xs ${d?"rotate-180":""}`,children:""}),c&&o.jsx("div",{className:"absolute left-0 top-1/2 -translate-y-1/2 h-6 w-1 bg-[rgb(var(--color-brand-gold))] rounded-r-full"}),e&&o.jsx("div",{className:"absolute left-full ml-3 px-3 py-1.5 bg-[rgb(var(--color-brand-gray))] text-white text-xs font-bold rounded-md whitespace-nowrap opacity-0 pointer-events-none group-hover:opacity-100 transition-opacity delay-300 z-50",children:s.label})]}),!e&&d&&i&&o.jsx("div",{className:"pl-8 pt-2 space-y-1",children:i.map(T=>o.jsxs("button",{onClick:()=>r(T.view),className:`w-full text-left pl-5 pr-2 py-2 rounded-md text-sm transition-colors relative ${n===T.view?"text-white font-semibold":"text-[rgb(var(--color-brand-text-dim))] hover:bg-[rgb(var(--color-brand-gray-light))]"}`,children:[n===T.view&&o.jsx("div",{className:"absolute left-0 top-1/2 -translate-y-1/2 h-1.5 w-1.5 bg-[rgb(var(--color-brand-gold))] rounded-full"}),T.label]},T.view))}),e&&h&&i&&o.jsx("div",{className:"absolute left-full top-0 ml-2 z-50 w-56 bg-[rgba(30,30,30,0.8)] backdrop-blur-md border border-[rgb(var(--color-brand-gold))]/20 rounded-lg shadow-2xl p-2 animate-fade-in-fast",children:i.map(T=>o.jsx("button",{onClick:()=>r(T.view),className:`w-full text-left px-3 py-2 text-sm rounded-md transition-colors ${n===T.view?"text-[rgb(var(--color-brand-gold))] font-semibold bg-[rgb(var(--color-brand-gray))]":"text-white hover:bg-[rgb(var(--color-brand-gray))]"}`,children:T.label},T.view))})]})},J8=({title:t,children:e,currentView:n,onNavigate:r,onLogout:s})=>{const[i,c]=j.useState(!0),[d,f]=j.useState(!1);return o.jsxs("div",{className:"flex h-screen bg-[rgb(var(--color-brand-dark))] text-[rgb(var(--color-brand-text-light))]",children:[o.jsx("style",{children:`
                @keyframes fade-in-fast { from { opacity: 0; transform: scale(0.95); } to { opacity: 1; transform: scale(1); } }
                .animate-fade-in-fast { animation: fade-in-fast 0.15s ease-out forwards; }
            `}),o.jsx("div",{className:`fixed inset-0 bg-black/60 z-30 lg:hidden transition-opacity ${d?"opacity-100":"opacity-0 pointer-events-none"}`,onClick:()=>f(!1)}),o.jsxs("aside",{className:`fixed lg:relative inset-y-0 left-0 z-40 bg-[rgba(18,18,18,0.6)] backdrop-blur-lg flex-shrink-0 p-3 flex flex-col transition-all duration-300
                ${d?"translate-x-0 w-72":"-translate-x-full w-72"}
                ${i&&!d?"w-72":"w-20"} lg:translate-x-0 border-r border-[rgb(var(--color-brand-gold))]/15`,children:[o.jsx("div",{className:"flex items-center justify-center h-16 px-3 mb-6 flex-shrink-0",children:o.jsx("span",{className:`font-display text-[rgb(var(--color-brand-gold))] transition-all duration-300 ${i?"text-3xl":"text-2xl"}`,children:i?"RS Prlipsi":"RS"})}),o.jsx("nav",{className:"flex-grow space-y-1 overflow-y-auto pr-1",children:G8.map((h,p)=>"isSeparator"in h?o.jsx("div",{className:`pt-4 pb-2 px-3 transition-opacity duration-300 ${i?"opacity-100":"opacity-0 h-0 pointer-events-none"}`,children:o.jsx("p",{className:"text-xs font-bold text-[rgb(var(--color-brand-text-dim))] uppercase tracking-wider",children:h.title})},p):o.jsx($8,{item:h,isCollapsed:!i,currentView:n,onNavigate:r},p))}),o.jsxs("div",{className:"flex-shrink-0 mt-auto pt-4 space-y-2",children:[o.jsxs("button",{onClick:s,className:`w-full flex items-center gap-3 px-3 py-3 rounded-md text-sm font-medium text-[rgb(var(--color-brand-text-dim))] hover:bg-[rgb(var(--color-brand-gray-light))] hover:text-white ${i?"":"justify-center"}`,children:[o.jsx(F8,{className:"h-6 w-6"}),!i||o.jsx("span",{className:"truncate",children:"Sair"})]}),o.jsxs("button",{onClick:()=>c(!i),className:"w-full hidden lg:flex items-center gap-3 px-3 py-3 rounded-md text-sm font-medium text-[rgb(var(--color-brand-text-dim))] hover:bg-[rgb(var(--color-brand-gray-light))] hover:text-white",children:[o.jsx(H8,{className:`h-6 w-6 transition-transform ${i?"":"rotate-180"}`}),!i||o.jsx("span",{className:"truncate",children:"Recolher"})]})]})]}),o.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[o.jsxs("header",{className:"flex-shrink-0 h-20 flex items-center justify-between px-6 bg-[rgb(var(--color-brand-dark))] border-b border-[rgb(var(--color-brand-gray-light))]",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("button",{onClick:()=>f(!0),className:"lg:hidden",children:[" ",o.jsx(q2,{className:"w-6 h-6"})," "]}),o.jsx("h1",{className:"text-xl md:text-2xl font-bold text-white",children:t||"Painel"})]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("button",{onClick:()=>r("home"),className:"flex items-center gap-2 text-sm font-semibold bg-[rgb(var(--color-brand-gray))] text-white py-2 px-4 rounded-md hover:bg-[rgb(var(--color-brand-gray-light))]",children:[o.jsx(V8,{className:"w-5 h-5"}),o.jsx("span",{className:"hidden sm:inline",children:"Ver Loja"})]}),o.jsxs("button",{className:"relative text-[rgb(var(--color-brand-text-dim))] hover:text-white",children:[o.jsx(ng,{className:"w-6 h-6"}),o.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white w-3 h-3 rounded-full text-xs"})]}),o.jsx("button",{onClick:()=>r("userProfileEditor"),children:o.jsx(Bn,{className:"w-8 h-8 p-1 rounded-full bg-[rgb(var(--color-brand-gray))]"})})]})]}),o.jsx("main",{className:"flex-1 overflow-y-auto p-6",children:e})]})]})},K8=({onProductClick:t,products:e,wishlist:n,onToggleWishlist:r})=>{const s=e.filter(i=>i.status==="Ativo"&&i.compareAtPrice&&i.compareAtPrice>i.price).sort((i,c)=>{if(!i.compareAtPrice||!c.compareAtPrice)return 0;const d=(i.compareAtPrice-i.price)/i.compareAtPrice*100;return(c.compareAtPrice-c.price)/c.compareAtPrice*100-d}).slice(0,4);return s.length===0?null:o.jsx("section",{id:"offers",className:"py-16 sm:py-24 bg-gray-900",children:o.jsxs("div",{className:"container mx-auto px-4",children:[o.jsxs("div",{className:"text-center mb-12",children:[o.jsx("h2",{className:"text-3xl md:text-4xl font-bold font-display text-white",children:"Ofertas Especiais"}),o.jsx("p",{className:"mt-4 max-w-2xl mx-auto text-lg text-gray-400",children:"Aproveite nossos descontos exclusivos por tempo limitado."})]}),o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8",children:s.map(i=>o.jsx(ea,{product:i,onClick:()=>t(i),wishlist:n,onToggleWishlist:r},i.id))})]})})},Y8=({banner:t})=>!(t!=null&&t.desktopImage)&&!(t!=null&&t.mobileImage)?null:o.jsx("section",{className:"py-16 sm:py-24 bg-black",children:o.jsx("div",{className:"container mx-auto px-4",children:o.jsx("a",{href:t.link||"#",className:"block rounded-lg overflow-hidden group focus:outline-none focus:ring-4 focus:ring-yellow-500/50",children:o.jsxs("picture",{children:[o.jsx("source",{media:"(min-width: 768px)",srcSet:t.desktopImage}),o.jsx("img",{src:t.mobileImage,alt:"Banner promocional",className:"w-full h-auto object-cover transition-transform duration-300 group-hover:scale-105"})]})})})}),Qr=({value:t,onChange:e,name:n,id:r,placeholder:s})=>{const[i,c]=j.useState(!1);return o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:i?"text":"password",name:n,id:r,value:t,onChange:e,placeholder:s,className:"w-full bg-gray-800 border-2 border-gray-700 rounded-md py-2 px-3 pr-10 text-white focus:outline-none focus:border-yellow-500"}),o.jsx("button",{type:"button",onClick:()=>c(!i),className:"absolute inset-y-0 right-0 px-3 flex items-center text-gray-400 hover:text-yellow-400","aria-label":i?"Esconder":"Mostrar",children:i?o.jsx(ii,{className:"h-5 w-5"}):o.jsx(lo,{className:"h-5 w-5"})})]})},W8=({settings:t,onSave:e,onNavigate:n})=>{const[r,s]=j.useState(t),[i,c]=j.useState(!1);j.useEffect(()=>{s(t),c(!1)},[t]);const d=b=>{const{name:N,value:w}=b.target,[S,T]=N.split(".");s(E=>({...E,[S]:{...E[S],[T]:w}})),c(!0)},f=(b,N)=>{s(w=>({...w,[b]:{...w[b],enabled:N}})),c(!0)},h=()=>{e(r),c(!1)},p=()=>{s(t),c(!1)},g=["CPF","CNPJ","E-mail","Telefone","Chave Aleatria"];return o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"pb-6 mb-6 flex justify-end items-center border-b border-gray-800",children:o.jsxs("div",{className:"flex items-center gap-4",children:[i&&o.jsx("p",{className:"text-sm text-yellow-400 mr-4",children:"Voc tem alteraes no salvas."}),o.jsx("button",{onClick:p,disabled:!i,className:"text-sm font-semibold bg-gray-700 text-white py-2 px-4 rounded-md hover:bg-gray-600 disabled:opacity-50 disabled:cursor-not-allowed",children:"Descartar"}),o.jsx("button",{onClick:h,disabled:!i,className:"text-sm font-bold bg-yellow-500 text-black py-2 px-4 rounded-md hover:bg-yellow-400 disabled:opacity-50 disabled:cursor-not-allowed",children:"Salvar"})]})}),o.jsxs("div",{className:"max-w-4xl mx-auto space-y-8",children:[o.jsxs("div",{className:"bg-black border border-gray-800 rounded-lg",children:[o.jsxs("div",{className:"p-4 border-b border-gray-800 flex items-center justify-between",children:[o.jsx("h3",{className:"text-lg font-semibold text-white",children:"Mercado Pago"}),o.jsx(Xe,{checked:r.mercadoPago.enabled,onChange:b=>f("mercadoPago",b),labelId:"mp-toggle"})]}),r.mercadoPago.enabled&&o.jsxs("div",{className:"p-6 space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"mp-public-key",className:"block text-sm font-medium text-gray-400 mb-2",children:"Public Key"}),o.jsx(Qr,{id:"mp-public-key",name:"mercadoPago.publicKey",value:r.mercadoPago.publicKey,onChange:d})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"mp-access-token",className:"block text-sm font-medium text-gray-400 mb-2",children:"Access Token"}),o.jsx(Qr,{id:"mp-access-token",name:"mercadoPago.accessToken",value:r.mercadoPago.accessToken,onChange:d})]})]})]}),o.jsxs("div",{className:"bg-black border border-gray-800 rounded-lg",children:[o.jsxs("div",{className:"p-4 border-b border-gray-800 flex items-center justify-between",children:[o.jsx("h3",{className:"text-lg font-semibold text-white",children:"PagSeguro"}),o.jsx(Xe,{checked:r.pagSeguro.enabled,onChange:b=>f("pagSeguro",b),labelId:"ps-toggle"})]}),r.pagSeguro.enabled&&o.jsxs("div",{className:"p-6 space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"ps-email",className:"block text-sm font-medium text-gray-400 mb-2",children:"E-mail"}),o.jsx("input",{type:"email",id:"ps-email",name:"pagSeguro.email",value:r.pagSeguro.email,onChange:d,className:"w-full bg-gray-800 border-2 border-gray-700 rounded-md py-2 px-3 text-white focus:outline-none focus:border-yellow-500"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"ps-token",className:"block text-sm font-medium text-gray-400 mb-2",children:"Token"}),o.jsx(Qr,{id:"ps-token",name:"pagSeguro.token",value:r.pagSeguro.token,onChange:d})]})]})]}),o.jsxs("div",{className:"bg-black border border-gray-800 rounded-lg",children:[o.jsxs("div",{className:"p-4 border-b border-gray-800 flex items-center justify-between",children:[o.jsx("h3",{className:"text-lg font-semibold text-white",children:"PIX"}),o.jsx(Xe,{checked:r.pix.enabled,onChange:b=>f("pix",b),labelId:"pix-toggle"})]}),r.pix.enabled&&o.jsxs("div",{className:"p-6 space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"pix-key-type",className:"block text-sm font-medium text-gray-400 mb-2",children:"Tipo de Chave"}),o.jsx("select",{id:"pix-key-type",name:"pix.pixKeyType",value:r.pix.pixKeyType,onChange:d,className:"w-full bg-gray-800 border-2 border-gray-700 rounded-md py-2 px-3 text-white focus:outline-none focus:border-yellow-500",children:g.map(b=>o.jsx("option",{value:b,children:b},b))})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"pix-key",className:"block text-sm font-medium text-gray-400 mb-2",children:"Chave PIX"}),o.jsx("input",{type:"text",id:"pix-key",name:"pix.pixKey",value:r.pix.pixKey,onChange:d,className:"w-full bg-gray-800 border-2 border-gray-700 rounded-md py-2 px-3 text-white focus:outline-none focus:border-yellow-500"})]})]})]}),o.jsxs("div",{className:"bg-black border border-gray-800 rounded-lg",children:[o.jsxs("div",{className:"p-4 border-b border-gray-800 flex items-center justify-between",children:[o.jsx("h3",{className:"text-lg font-semibold text-white",children:"AppMax"}),o.jsx(Xe,{checked:r.appmax.enabled,onChange:b=>f("appmax",b),labelId:"appmax-toggle"})]}),r.appmax.enabled&&o.jsx("div",{className:"p-6 space-y-4",children:o.jsxs("div",{children:[o.jsx("label",{htmlFor:"appmax-api-key",className:"block text-sm font-medium text-gray-400 mb-2",children:"API Key"}),o.jsx(Qr,{id:"appmax-api-key",name:"appmax.apiKey",value:r.appmax.apiKey,onChange:d})]})})]}),o.jsxs("div",{className:"bg-black border border-gray-800 rounded-lg",children:[o.jsxs("div",{className:"p-4 border-b border-gray-800 flex items-center justify-between",children:[o.jsx("h3",{className:"text-lg font-semibold text-white",children:"Asaas"}),o.jsx(Xe,{checked:r.asaas.enabled,onChange:b=>f("asaas",b),labelId:"asaas-toggle"})]}),r.asaas.enabled&&o.jsx("div",{className:"p-6 space-y-4",children:o.jsxs("div",{children:[o.jsx("label",{htmlFor:"asaas-api-key",className:"block text-sm font-medium text-gray-400 mb-2",children:"API Key"}),o.jsx(Qr,{id:"asaas-api-key",name:"asaas.apiKey",value:r.asaas.apiKey,onChange:d})]})})]}),o.jsxs("div",{className:"bg-black border border-gray-800 rounded-lg",children:[o.jsxs("div",{className:"p-4 border-b border-gray-800 flex items-center justify-between",children:[o.jsx("h3",{className:"text-lg font-semibold text-white",children:"Pagar.me"}),o.jsx(Xe,{checked:r.pagarme.enabled,onChange:b=>f("pagarme",b),labelId:"pagarme-toggle"})]}),r.pagarme.enabled&&o.jsxs("div",{className:"p-6 space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"pagarme-api-key",className:"block text-sm font-medium text-gray-400 mb-2",children:"API Key"}),o.jsx(Qr,{id:"pagarme-api-key",name:"pagarme.apiKey",value:r.pagarme.apiKey,onChange:d})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"pagarme-encryption-key",className:"block text-sm font-medium text-gray-400 mb-2",children:"Encryption Key"}),o.jsx(Qr,{id:"pagarme-encryption-key",name:"pagarme.encryptionKey",value:r.pagarme.encryptionKey,onChange:d})]})]})]}),o.jsxs("div",{className:"bg-black border border-gray-800 rounded-lg",children:[o.jsxs("div",{className:"p-4 border-b border-gray-800 flex items-center justify-between",children:[o.jsx("h3",{className:"text-lg font-semibold text-white",children:"Stripe"}),o.jsx(Xe,{checked:r.stripe.enabled,onChange:b=>f("stripe",b),labelId:"stripe-toggle"})]}),r.stripe.enabled&&o.jsxs("div",{className:"p-6 space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"stripe-publishable-key",className:"block text-sm font-medium text-gray-400 mb-2",children:"Publishable Key"}),o.jsx(Qr,{id:"stripe-publishable-key",name:"stripe.publishableKey",value:r.stripe.publishableKey,onChange:d})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"stripe-secret-key",className:"block text-sm font-medium text-gray-400 mb-2",children:"Secret Key"}),o.jsx(Qr,{id:"stripe-secret-key",name:"stripe.secretKey",value:r.stripe.secretKey,onChange:d})]})]})]})]})]})},qo=({value:t,onChange:e,name:n,id:r,placeholder:s})=>{const[i,c]=j.useState(!1);return o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:i?"text":"password",name:n,id:r,value:t,onChange:e,placeholder:s,className:"w-full bg-gray-800 border-2 border-gray-700 rounded-md py-2 px-3 pr-10 text-white focus:outline-none focus:border-yellow-500"}),o.jsx("button",{type:"button",onClick:()=>c(!i),className:"absolute inset-y-0 right-0 px-3 flex items-center text-gray-400 hover:text-yellow-400","aria-label":i?"Esconder":"Mostrar",children:i?o.jsx(ii,{className:"h-5 w-5"}):o.jsx(lo,{className:"h-5 w-5"})})]})},X8=({settings:t,onSave:e,onNavigate:n})=>{const[r,s]=j.useState(t),[i,c]=j.useState(!1);j.useEffect(()=>{s(t),c(!1)},[t]);const d=g=>{const{name:b,value:N}=g.target,[w,S]=b.split(".");s(T=>({...T,[w]:{...T[w],[S]:N}})),c(!0)},f=(g,b)=>{s(N=>({...N,[g]:{...N[g],enabled:b}})),c(!0)},h=()=>{e(r),c(!1)},p=()=>{s(t),c(!1)};return o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"pb-6 mb-6 flex justify-end items-center border-b border-gray-800",children:o.jsxs("div",{className:"flex items-center gap-4",children:[i&&o.jsx("p",{className:"text-sm text-yellow-400 mr-4",children:"Voc tem alteraes no salvas."}),o.jsx("button",{onClick:p,disabled:!i,className:"text-sm font-semibold bg-gray-700 text-white py-2 px-4 rounded-md hover:bg-gray-600 disabled:opacity-50 disabled:cursor-not-allowed",children:"Descartar"}),o.jsx("button",{onClick:h,disabled:!i,className:"text-sm font-bold bg-yellow-500 text-black py-2 px-4 rounded-md hover:bg-yellow-400 disabled:opacity-50 disabled:cursor-not-allowed",children:"Salvar"})]})}),o.jsxs("div",{className:"max-w-4xl mx-auto space-y-8",children:[o.jsxs("div",{className:"bg-black border border-gray-800 rounded-lg",children:[o.jsxs("div",{className:"p-4 border-b border-gray-800 flex items-center justify-between",children:[o.jsx("h3",{className:"text-lg font-semibold text-white",children:"Frenet"}),o.jsx(Xe,{checked:r.frenet.enabled,onChange:g=>f("frenet",g),labelId:"frenet-toggle"})]}),r.frenet.enabled&&o.jsxs("div",{className:"p-6 space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"frenet-apiKey",className:"block text-sm font-medium text-gray-400 mb-2",children:"API Key"}),o.jsx(qo,{id:"frenet-apiKey",name:"frenet.apiKey",value:r.frenet.apiKey,onChange:d})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"frenet-apiSecret",className:"block text-sm font-medium text-gray-400 mb-2",children:"API Secret"}),o.jsx(qo,{id:"frenet-apiSecret",name:"frenet.apiSecret",value:r.frenet.apiSecret,onChange:d})]})]})]}),o.jsxs("div",{className:"bg-black border border-gray-800 rounded-lg",children:[o.jsxs("div",{className:"p-4 border-b border-gray-800 flex items-center justify-between",children:[o.jsx("h3",{className:"text-lg font-semibold text-white",children:"Melhor Envio"}),o.jsx(Xe,{checked:r.melhorEnvio.enabled,onChange:g=>f("melhorEnvio",g),labelId:"melhor-envio-toggle"})]}),r.melhorEnvio.enabled&&o.jsx("div",{className:"p-6 space-y-4",children:o.jsxs("div",{children:[o.jsx("label",{htmlFor:"melhor-envio-token",className:"block text-sm font-medium text-gray-400 mb-2",children:"API Token"}),o.jsx(qo,{id:"melhor-envio-token",name:"melhorEnvio.apiToken",value:r.melhorEnvio.apiToken,onChange:d})]})})]}),o.jsxs("div",{className:"bg-black border border-gray-800 rounded-lg",children:[o.jsxs("div",{className:"p-4 border-b border-gray-800 flex items-center justify-between",children:[o.jsx("h3",{className:"text-lg font-semibold text-white",children:"Correios"}),o.jsx(Xe,{checked:r.correios.enabled,onChange:g=>f("correios",g),labelId:"correios-toggle"})]}),r.correios.enabled&&o.jsxs("div",{className:"p-6 space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"correios-contrato",className:"block text-sm font-medium text-gray-400 mb-2",children:"Cdigo do Contrato"}),o.jsx("input",{id:"correios-contrato",name:"correios.contrato",value:r.correios.contrato,onChange:d,className:"w-full bg-gray-800 border-2 border-gray-700 rounded-md py-2 px-3 text-white focus:outline-none focus:border-yellow-500"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"correios-senha",className:"block text-sm font-medium text-gray-400 mb-2",children:"Senha"}),o.jsx(qo,{id:"correios-senha",name:"correios.senha",value:r.correios.senha,onChange:d})]})]})]}),o.jsxs("div",{className:"bg-black border border-gray-800 rounded-lg",children:[o.jsxs("div",{className:"p-4 border-b border-gray-800 flex items-center justify-between",children:[o.jsx("h3",{className:"text-lg font-semibold text-white",children:"SuperFrete"}),o.jsx(Xe,{checked:r.superFrete.enabled,onChange:g=>f("superFrete",g),labelId:"superfrete-toggle"})]}),r.superFrete.enabled&&o.jsx("div",{className:"p-6 space-y-4",children:o.jsxs("div",{children:[o.jsx("label",{htmlFor:"superfrete-token",className:"block text-sm font-medium text-gray-400 mb-2",children:"API Token"}),o.jsx(qo,{id:"superfrete-token",name:"superFrete.apiToken",value:r.superFrete.apiToken,onChange:d})]})})]}),o.jsxs("div",{className:"bg-black border border-gray-800 rounded-lg",children:[o.jsxs("div",{className:"p-4 border-b border-gray-800 flex items-center justify-between",children:[o.jsx("h3",{className:"text-lg font-semibold text-white",children:"Jadlog"}),o.jsx(Xe,{checked:r.jadlog.enabled,onChange:g=>f("jadlog",g),labelId:"jadlog-toggle"})]}),r.jadlog.enabled&&o.jsx("div",{className:"p-6 space-y-4",children:o.jsxs("div",{children:[o.jsx("label",{htmlFor:"jadlog-token",className:"block text-sm font-medium text-gray-400 mb-2",children:"API Token"}),o.jsx(qo,{id:"jadlog-token",name:"jadlog.apiToken",value:r.jadlog.apiToken,onChange:d})]})})]}),o.jsxs("div",{className:"bg-black border border-gray-800 rounded-lg",children:[o.jsxs("div",{className:"p-4 border-b border-gray-800 flex items-center justify-between",children:[o.jsx("h3",{className:"text-lg font-semibold text-white",children:"Loggi"}),o.jsx(Xe,{checked:r.loggi.enabled,onChange:g=>f("loggi",g),labelId:"loggi-toggle"})]}),r.loggi.enabled&&o.jsx("div",{className:"p-6 space-y-4",children:o.jsxs("div",{children:[o.jsx("label",{htmlFor:"loggi-apiKey",className:"block text-sm font-medium text-gray-400 mb-2",children:"API Key"}),o.jsx(qo,{id:"loggi-apiKey",name:"loggi.apiKey",value:r.loggi.apiKey,onChange:d})]})})]})]})]})},Q8=({isOpen:t,onClose:e,cartItems:n,onUpdateQuantity:r,onRemoveItem:s,onNavigate:i})=>{const c=j.useMemo(()=>n.reduce((f,h)=>f+h.price*h.quantity,0),[n]),d=()=>{i("checkout")};return t?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"fixed inset-0 bg-black/60 z-[99] animate-fade-in",onClick:e,"aria-hidden":"true"}),o.jsx("div",{className:`fixed top-0 right-0 h-full w-full max-w-lg bg-[rgb(var(--color-brand-dark))] z-[100] transform transition-transform duration-300 ease-in-out ${t?"translate-x-0":"translate-x-full"}`,role:"dialog","aria-modal":"true","aria-labelledby":"cart-heading",children:o.jsxs("div",{className:"flex flex-col h-full",children:[o.jsxs("header",{className:"flex-shrink-0 flex justify-between items-center p-4 border-b border-[rgb(var(--color-brand-gold))]/[.30]",children:[o.jsx("h2",{id:"cart-heading",className:"text-xl font-display text-[rgb(var(--color-brand-gold))]",children:"Seu Carrinho"}),o.jsx("button",{onClick:e,"aria-label":"Fechar carrinho",children:o.jsx(zn,{className:"h-6 w-6 text-[rgb(var(--color-brand-text-dim))] hover:text-[rgb(var(--color-brand-gold))]"})})]}),n.length>0?o.jsxs(o.Fragment,{children:[o.jsx("main",{className:"flex-grow p-4 overflow-y-auto space-y-4",children:n.map(f=>o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsx("img",{src:f.image,alt:f.name,className:"w-20 h-20 object-cover rounded-md"}),o.jsxs("div",{className:"flex-grow",children:[o.jsx("p",{className:"font-semibold text-[rgb(var(--color-brand-text-light))]",children:f.name}),f.variantText&&o.jsx("p",{className:"text-sm text-[rgb(var(--color-brand-text-dim))]",children:f.variantText}),o.jsx("p",{className:"text-sm text-[rgb(var(--color-brand-gold))]",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(f.price)}),o.jsxs("div",{className:"flex items-center border border-[rgb(var(--color-brand-gray-light))] rounded-full justify-between w-28 mt-2",children:[o.jsx("button",{onClick:()=>r(f.id,f.quantity-1),"aria-label":`Diminuir quantidade de ${f.name}`,className:"px-3 py-1 text-lg text-[rgb(var(--color-brand-text-dim))] hover:text-[rgb(var(--color-brand-text-light))] rounded-l-full",children:"-"}),o.jsx("span",{className:"text-sm font-semibold text-[rgb(var(--color-brand-text-light))]",children:f.quantity}),o.jsx("button",{onClick:()=>r(f.id,f.quantity+1),"aria-label":`Aumentar quantidade de ${f.name}`,className:"px-3 py-1 text-lg text-[rgb(var(--color-brand-text-dim))] hover:text-[rgb(var(--color-brand-text-light))] rounded-r-full",children:"+"})]})]}),o.jsxs("div",{className:"text-right flex flex-col items-end",children:[o.jsx("p",{className:"font-bold text-[rgb(var(--color-brand-text-light))]",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(f.price*f.quantity)}),o.jsx("button",{onClick:()=>s(f.id),className:"text-[rgb(var(--color-brand-text-dim))] hover:text-[rgb(var(--color-error))] mt-2","aria-label":`Remover ${f.name} do carrinho`,children:o.jsx(jt,{className:"w-5 h-5"})})]})]},f.id))}),o.jsxs("footer",{className:"flex-shrink-0 p-4 border-t border-[rgb(var(--color-brand-gray-light))] space-y-4 bg-[rgb(var(--color-brand-dark))]",children:[o.jsx("div",{className:"space-y-2 text-[rgb(var(--color-brand-text-light))]",children:o.jsxs("div",{className:"flex justify-between font-bold text-xl text-[rgb(var(--color-brand-gold))] border-t border-[rgb(var(--color-brand-gray-light))] pt-2 mt-2",children:[o.jsx("span",{children:"Subtotal:"}),o.jsx("span",{children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(c)})]})}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx("button",{onClick:e,className:"w-full bg-[rgb(var(--color-brand-gray))] text-[rgb(var(--color-brand-text-light))] font-bold py-3 px-4 rounded-md hover:bg-[rgb(var(--color-brand-gray-light))]",children:"Continuar Comprando"}),o.jsx("button",{onClick:d,className:"w-full bg-[rgb(var(--color-brand-gold))] text-[rgb(var(--color-brand-dark))] font-bold py-3 px-4 rounded-md hover:bg-yellow-400",children:"Finalizar Compra"})]})]})]}):o.jsxs("div",{className:"flex-grow flex flex-col items-center justify-center text-center p-4",children:[o.jsx("p",{className:"text-2xl font-bold text-[rgb(var(--color-brand-text-light))]",children:"Seu carrinho est vazio"}),o.jsx("p",{className:"text-[rgb(var(--color-brand-text-dim))] mt-2",children:"Adicione produtos para v-los aqui."}),o.jsx("button",{onClick:e,className:"mt-6 bg-[rgb(var(--color-brand-gold))] text-[rgb(var(--color-brand-dark))] font-bold py-2 px-6 rounded-full hover:bg-yellow-400",children:"Voltar para a Loja"})]})]})}),o.jsx("style",{children:`
                @keyframes fade-in {
                    from { opacity: 0; }
                    to { opacity: 1; }
                }
                .animate-fade-in {
                    animation: fade-in 0.3s ease-out forwards;
                }
            `})]}):null},Z8=({cartItems:t,onViewCart:e})=>{const n=t.reduce((s,i)=>s+i.quantity,0),r=t.reduce((s,i)=>s+i.price*i.quantity,0);return o.jsxs("div",{className:"fixed bottom-0 left-0 right-0 z-40 flex justify-center animate-slide-up",children:[o.jsx("div",{className:"container mx-auto px-4 pb-4",children:o.jsxs("div",{className:"bg-[rgb(var(--color-brand-gray))] border-2 border-[rgb(var(--color-brand-gold))]/[0.30] rounded-lg shadow-lg flex items-center justify-between p-4",children:[o.jsxs("div",{children:[o.jsxs("p",{className:"font-bold text-[rgb(var(--color-brand-text-light))]",children:[n," ",n>1?"Itens":"Item"," no Carrinho"]}),o.jsx("p",{className:"text-[rgb(var(--color-brand-gold))] font-semibold",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(r)})]}),o.jsxs("button",{onClick:e,className:"bg-[rgb(var(--color-brand-gold))] text-[rgb(var(--color-brand-dark))] font-bold py-2 px-6 rounded-full flex items-center gap-2 hover:bg-yellow-400 transition-colors",children:[o.jsx(Xl,{className:"w-5 h-5"}),"Ver Pedido"]})]})}),o.jsx("style",{children:`
                @keyframes slide-up {
                    from { transform: translateY(100%); opacity: 0; }
                    to { transform: translateY(0); opacity: 1; }
                }
                .animate-slide-up {
                    animation: slide-up 0.3s ease-out forwards;
                }
            `})]})},z2=t=>o.jsx("svg",{...t,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})}),U2=t=>o.jsx("svg",{...t,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 8.25h19.5M2.25 9h19.5m-16.5 5.25h6m-6 2.25h3m-3.75 3h15a2.25 2.25 0 002.25-2.25V6.75A2.25 2.25 0 0019.5 4.5h-15a2.25 2.25 0 00-2.25 2.25v10.5A2.25 2.25 0 004.5 19.5z"})}),e7=t=>o.jsx("svg",{...t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:o.jsx("path",{d:"M12 2L2 7v10c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V7l-10-5zm0 2.18L19 8.09v8.91c0 4.54-3.08 8.79-7 9.94-3.92-1.15-7-5.4-7-9.94V8.09l7-3.91zM8 10v4h2v-4H8zm6 0v4h2v-4h-2zm-3 1v2h2v-2h-2z"})}),t7=t=>o.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 74 24",fill:"none",children:[o.jsx("path",{d:"M60.48 23.64H69.5L74 0H64.93L60.48 23.64z",fill:"#142688"}),o.jsx("path",{d:"M43.02 23.64l4.4-23.64h-8.82l-4.41 23.64h8.83z",fill:"#142688"}),o.jsx("path",{d:"M30.41 6.34L26.37 0H17.2l4.4 23.64h8.82L34.82 6.34h-4.41z",fill:"#F7A600"}),o.jsx("path",{d:"M16.91 23.64L21.3 0H12.5L5.4 16.59 4.14 9.12l-1.3-.3L0 23.64h8.82l4.4-17.77.3 1.25L9.75 23.64h7.16z",fill:"#142688"})]}),n7=t=>o.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 38 24",children:[o.jsx("path",{d:"M34.24 12a12 12 0 11-2.1-7.1h0a12 12 0 010 14.2h0a12 12 0 012.1-7.1z",fill:"#FF5F00"}),o.jsx("path",{d:"M12 0a12 12 0 100 24 12 12 0 000-24z",fill:"#EA001B"}),o.jsx("path",{d:"M21.1 12a12 12 0 01-9.06 11.9a12 12 0 000-23.8a12 12 0 019.06 11.9z",fill:"#F79E1B"})]}),r7=t=>o.jsx("svg",{...t,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.25 11.25l.041-.02a.75.75 0 011.063.852l-.708 2.836a.75.75 0 001.063.853l.041-.021M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9-3.75h.008v.008H12V8.25z"})}),H2=t=>o.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:[o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 4.5v15a1.5 1.5 0 001.5 1.5h13.5a1.5 1.5 0 001.5-1.5v-15M8.25 4.5h7.5"}),o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 9.75h.008v.008H6V9.75zm3.75 0h.008v.008H9.75V9.75zm3.75 0h.008v.008H13.5V9.75zm3.75 0h.008v.008H17.25V9.75zm-1.5 3.75h.008v.008H15.75v-.008zm-3.75 0h.008v.008H12v-.008zm-3.75 0h.008v.008H8.25v-.008zM6 17.25h.008v.008H6v-.008zm3.75 0h.008v.008H9.75v-.008zm3.75 0h.008v.008H13.5v-.008zm3.75 0h.008v.008H17.25v-.008z"})]}),s7=t=>o.jsx("svg",{...t,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.982 18.725A7.488 7.488 0 0012 15.75a7.488 7.488 0 00-5.982 2.975m11.963 0a9 9 0 10-11.963 0m11.963 0A8.966 8.966 0 0112 21a8.966 8.966 0 01-5.982-2.275M15 9.75a3 3 0 11-6 0 3 3 0 016 0z"})}),o7=({cartItems:t,onBack:e,onFinalizePurchase:n,currentCustomer:r,coupons:s,orderBumpConfig:i,allProducts:c,paymentSettings:d,onUpdateQuantity:f,onRemoveItem:h})=>{const p=j.useMemo(()=>t.reduce((be,Le)=>be+Le.price*Le.quantity,0),[t]),[g,b]=j.useState(1),[N,w]=j.useState({email:(r==null?void 0:r.email)||"",customerName:(r==null?void 0:r.name)||"",customerCpf:"",customerPhone:"",zipCode:"",street:"",number:"",complement:"",neighborhood:"",city:"",state:""}),[S,T]=j.useState({number:"",name:"",expiry:"",cvv:""}),[E,M]=j.useState("unknown"),[D,H]=j.useState(""),[V,z]=j.useState(null),[P,te]=j.useState(0),[K,ce]=j.useState(""),[ye,re]=j.useState(!1),[le,ge]=j.useState([]),[Y,O]=j.useState(null),[J,pe]=j.useState(!1),[we,Be]=j.useState("credit-card"),[R,B]=j.useState(0),[X,oe]=j.useState(!1),[he,Te]=j.useState(!1),[ke,Ae]=j.useState(null),[Ie,Kt]=j.useState(!1),ut=j.useMemo(()=>i.enabled?c.find(be=>be.id===i.productId):null,[i,c]),mt=J&&ut?i.offerPrice:0,Rt=(Y==null?void 0:Y.price)??0,ot=j.useMemo(()=>{const be=t.reduce((sn,fs)=>sn+fs.price*fs.quantity,0),Le=J&&ut?i.offerPrice:0,Me=(Y==null?void 0:Y.price)??0;let Oe=0;return V&&(V.type==="Porcentagem"?Oe=be*(V.value/100):Oe=V.value),te(Oe),be+Me-Oe+Le},[t,Y,V,J,ut,i.offerPrice]),Yt=N.customerName&&N.email&&N.customerCpf&&N.customerPhone,En=Yt&&Y;j.useEffect(()=>{g===3&&r&&!X&&(async()=>{oe(!0);try{const Me=await(await fetch(`https://api.rsprolipsi.com.br/api/wallet/balance/${r.id}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).json();Me.success?B(Me.balance.available):B(0)}catch(Le){console.error("Erro ao carregar saldo:",Le),B(0)}finally{oe(!1)}})()},[g,r]),j.useEffect(()=>{g===3&&we==="pix"&&!ke&&d.mercadoPago.enabled&&(async()=>{Te(!0);try{const Le=window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"?"http://localhost:8080/api/payment/pix":"https://api.rsprolipsi.com.br/api/payment/pix",Me=await fetch(Le,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({orderId:`order-${Date.now()}`,amount:ot,buyer:{email:(r==null?void 0:r.email)||N.email,name:(r==null?void 0:r.name)||N.customerName,cpf:N.customerCpf}})});if(!Me.ok)throw new Error(`API erro: ${Me.status}`);const Oe=await Me.json();if(Oe.success)Ae({qrCodeUrl:`data:image/png;base64,${Oe.qr_code_base64}`,copyPaste:Oe.qr_code});else throw new Error(Oe.error||"Erro ao gerar PIX")}catch(Le){console.error(" Erro ao gerar PIX:",Le);const Me="00020126580014br.gov.bcb.pix0136"+Math.random().toString(36).substr(2,9)+"52040000530398654"+String(ot).padStart(5,"0")+"5802BR5913RS Prolipsi6009SAO PAULO62070503***6304"+Math.random().toString(36).substr(2,4).toUpperCase();Ae({qrCodeUrl:`https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=${encodeURIComponent(Me)}`,copyPaste:Me})}Te(!1)})()},[g,we,ke,d.mercadoPago.enabled,ot,r,N]);const rn=be=>{const{name:Le,value:Me}=be.target;w(Oe=>({...Oe,[Le]:Me}))},bo=be=>be.startsWith("4")?"visa":be.match(/^5[1-5]/)?"mastercard":"unknown",rr=be=>{let{name:Le,value:Me}=be.target;Le==="number"&&(Me=Me.replace(/\D/g,"").slice(0,16),M(bo(Me)),Me=Me.replace(/(.{4})/g,"$1 ").trim()),Le==="expiry"&&(Me=Me.replace(/\D/g,"").slice(0,4),Me.length>2&&(Me=`${Me.slice(0,2)}/${Me.slice(2)}`)),Le==="cvv"&&(Me=Me.replace(/\D/g,"").slice(0,4)),T(Oe=>({...Oe,[Le]:Me}))},us=async()=>{try{const Le=await(await fetch("https://api.rsprolipsi.com.br/api/shipping/calculate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({from:{postal_code:"04567000"},to:{postal_code:N.zipCode.replace(/\D/g,"")},products:t.map(Oe=>({id:Oe.productId,width:11,height:17,length:11,weight:.3,insurance_value:Oe.price,quantity:Oe.quantity}))})})).json(),Me=[{id:"retirar",name:"Retirar no Local",delivery_time:"Imediato",price:0},...Le.map(Oe=>({id:Oe.id.toString(),name:Oe.name,delivery_time:`${Oe.delivery_time} dias teis`,price:parseFloat(Oe.price)}))];ge(Me),Me.length>0&&O(Me[0])}catch(be){console.error("Erro ao buscar frete:",be);const Le=[{id:"retirar",name:"Retirar no Local",delivery_time:"Imediato",price:0},{id:"sedex",name:"SEDEX",delivery_time:"3 dias teis",price:45},{id:"pac",name:"PAC",delivery_time:"7 dias teis",price:25.5}];ge(Le),Le.length>0&&O(Le[0])}},sr=async be=>{const Le=be.target.value.replace(/\D/g,"");if(Le.length===8){re(!0),ge([]),O(null);try{const Oe=await(await fetch(`https://viacep.com.br/ws/${Le}/json/`)).json();Oe.erro?alert("CEP no encontrado."):(w(sn=>({...sn,street:Oe.logradouro,neighborhood:Oe.bairro,city:Oe.localidade,state:Oe.uf})),us())}catch(Me){console.error("Erro ao buscar CEP:",Me)}finally{re(!1)}}},da=()=>{ce("");const be=s.find(Le=>Le.code.toUpperCase()===D.toUpperCase()&&Le.status==="Ativo");be?z(be):(ce("Cupom invlido ou inativo."),te(0),z(null))},ua=()=>{ke&&(navigator.clipboard.writeText(ke.copyPaste),Kt(!0),setTimeout(()=>Kt(!1),2e3))},_t=async()=>{var Me,Oe;if(!En){alert("Por favor, preencha todos os dados e selecione um mtodo de envio.");return}Te(!0),await new Promise(sn=>setTimeout(sn,2e3));let be={},Le="Pendente";try{if(we==="boleto"&&d.mercadoPago.enabled){const An=window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"?"http://localhost:8080/api/payment/boleto":"https://api.rsprolipsi.com.br/api/payment/boleto";try{const hs=await fetch(An,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({orderId:`order-${Date.now()}`,amount:ot,buyer:{email:(r==null?void 0:r.email)||N.email,name:(r==null?void 0:r.name)||N.customerName,cpf:N.customerCpf}})});if(hs.ok){const or=await hs.json();or.success?be={boletoUrl:or.boleto_url||or.external_resource_url}:be={boletoUrl:`https://www.mercadopago.com.br/boletos/pdf/${Date.now()}`}}else be={boletoUrl:`https://www.mercadopago.com.br/boletos/pdf/${Date.now()}`}}catch(hs){console.error("Erro ao gerar boleto:",hs),be={boletoUrl:`https://www.mercadopago.com.br/boletos/pdf/${Date.now()}`}}Le="Pendente"}else if(we==="pix"&&d.mercadoPago.enabled){if(!ke)throw new Error("Dados do PIX no foram gerados. Tente novamente.");be={pixQrCodeUrl:ke.qrCodeUrl,pixCopyableCode:ke.copyPaste},Le="Pendente"}else if(we==="credit-card"&&d.mercadoPago.enabled){if(!S.number||!S.name||!S.expiry||!S.cvv)throw new Error("Preencha todos os dados do carto.");Le="Pago"}const sn=t.map(An=>({productId:An.productId,variantId:An.variantId,productName:An.name,quantity:An.quantity,price:An.price,variantText:An.variantText}));J&&ut&&sn.push({productId:ut.id,variantId:((Oe=(Me=ut.variants)==null?void 0:Me[0])==null?void 0:Oe.id)||"default",productName:`${ut.name} (Oferta Especial)`,quantity:1,price:i.offerPrice});const fs={id:`#${Date.now().toString().slice(-6)}`,date:new Date().toISOString(),customerName:N.customerName,customerEmail:N.email,customerCpf:N.customerCpf,customerPhone:N.customerPhone,shippingAddress:{street:N.street,number:N.number,complement:N.complement,neighborhood:N.neighborhood,city:N.city,state:N.state,zipCode:N.zipCode},items:sn,subtotal:p,shippingCost:Rt,discount:P,appliedCoupon:V==null?void 0:V.code,total:ot,currency:"BRL",paymentStatus:Le,fulfillmentStatus:"No Realizado",shippingMethod:Y.name,...be};n(fs)}catch(sn){alert(`Erro ao processar pagamento: ${sn instanceof Error?sn.message:String(sn)}`),Te(!1)}};return o.jsxs("div",{className:"bg-[rgb(var(--color-brand-dark))] text-[rgb(var(--color-brand-text-light))] min-h-screen",children:[o.jsx("header",{className:"bg-[rgb(var(--color-brand-gray))] backdrop-blur-sm border-b border-[rgb(var(--color-brand-gray-light))]",children:o.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 h-20 grid grid-cols-3 items-center",children:[o.jsx("div",{className:"justify-self-start",children:o.jsxs("button",{onClick:e,className:"flex items-center gap-2 text-[rgb(var(--color-brand-text-dim))] hover:text-[rgb(var(--color-brand-gold))]",children:[o.jsx(co,{className:"w-5 h-5"}),o.jsx("span",{className:"hidden sm:inline",children:"Voltar"})]})}),o.jsx("div",{className:"justify-self-center",children:o.jsx("span",{className:"text-3xl font-display text-[rgb(var(--color-brand-gold))]",children:"RS Prlipsi"})})]})}),o.jsx("main",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-8 lg:py-12",children:o.jsxs("div",{className:"lg:grid lg:grid-cols-12 lg:gap-12",children:[o.jsx("div",{className:"lg:col-span-7 mb-12 lg:mb-0",children:o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:`bg-[rgb(var(--color-brand-gray))] rounded-lg border-2 ${g===1?"border-[rgb(var(--color-brand-gold))]":"border-[rgb(var(--color-brand-gray-light))]"}`,children:[o.jsxs("button",{className:"w-full flex items-center gap-4 p-4 text-left",onClick:()=>b(1),children:[o.jsx(s7,{className:`w-8 h-8 ${g===1?"text-[rgb(var(--color-brand-gold))]":"text-[rgb(var(--color-brand-text-dim))]"}`}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-lg font-bold font-display",children:"1. Seus Dados"}),g>1&&Yt&&o.jsxs("p",{className:"text-sm text-[rgb(var(--color-brand-text-dim))] truncate",children:[N.customerName," - ",N.email]})]})]}),g===1&&o.jsxs("div",{className:"p-6 border-t border-[rgb(var(--color-brand-gray-light))] space-y-4",children:[o.jsx("input",{type:"text",name:"customerName",value:N.customerName,onChange:rn,placeholder:"Nome completo *",className:"w-full bg-[rgb(var(--color-brand-dark))] border-2 border-[rgb(var(--color-brand-gray-light))] rounded-md py-3 px-4 focus:outline-none focus:border-[rgb(var(--color-brand-gold))]"}),o.jsx("input",{type:"email",name:"email",value:N.email,onChange:rn,placeholder:"E-mail *",className:"w-full bg-[rgb(var(--color-brand-dark))] border-2 border-[rgb(var(--color-brand-gray-light))] rounded-md py-3 px-4 focus:outline-none focus:border-[rgb(var(--color-brand-gold))]"}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[o.jsx("input",{type:"text",name:"customerCpf",value:N.customerCpf,onChange:rn,placeholder:"CPF *",className:"w-full bg-[rgb(var(--color-brand-dark))] border-2 border-[rgb(var(--color-brand-gray-light))] rounded-md py-3 px-4 focus:outline-none focus:border-[rgb(var(--color-brand-gold))]"}),o.jsx("input",{type:"tel",name:"customerPhone",value:N.customerPhone,onChange:rn,placeholder:"Telefone / WhatsApp *",className:"w-full bg-[rgb(var(--color-brand-dark))] border-2 border-[rgb(var(--color-brand-gray-light))] rounded-md py-3 px-4 focus:outline-none focus:border-[rgb(var(--color-brand-gold))]"})]}),o.jsx("button",{onClick:()=>b(2),disabled:!Yt,className:"w-full bg-[rgb(var(--color-brand-gold))] text-[rgb(var(--color-brand-dark))] font-bold py-3 px-4 rounded-md hover:bg-yellow-400 disabled:opacity-50 disabled:cursor-not-allowed",children:"Continuar"})]})]}),o.jsxs("div",{className:`bg-[rgb(var(--color-brand-gray))] rounded-lg border-2 ${g===2?"border-[rgb(var(--color-brand-gold))]":"border-[rgb(var(--color-brand-gray-light))]"} ${Yt?"":"opacity-50"}`,children:[o.jsxs("button",{className:"w-full flex items-center gap-4 p-4 text-left",onClick:()=>Yt&&b(2),disabled:!Yt,children:[o.jsx(mi,{className:`w-8 h-8 ${g===2?"text-[rgb(var(--color-brand-gold))]":"text-[rgb(var(--color-brand-text-dim))]"}`}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-lg font-bold font-display",children:"2. Entrega"}),g>2&&Y&&o.jsxs("p",{className:"text-sm text-[rgb(var(--color-brand-text-dim))] truncate",children:[Y.name," - ",N.street,", ",N.number]})]})]}),g===2&&o.jsxs("div",{className:"p-6 border-t border-[rgb(var(--color-brand-gray-light))] space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-6 gap-4",children:[o.jsxs("div",{className:"relative sm:col-span-2",children:[o.jsx("input",{type:"text",name:"zipCode",value:N.zipCode,onChange:rn,onBlur:sr,placeholder:"CEP *",className:"w-full bg-[rgb(var(--color-brand-dark))] border-2 border-[rgb(var(--color-brand-gray-light))] rounded-md py-3 px-4 focus:outline-none focus:border-[rgb(var(--color-brand-gold))]"}),ye&&o.jsx(Qn,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-5 h-5 text-[rgb(var(--color-brand-gold))]"})]}),o.jsx("input",{type:"text",name:"street",value:N.street,onChange:rn,placeholder:"Endereo *",className:"sm:col-span-4 w-full bg-[rgb(var(--color-brand-dark))] border-2 border-[rgb(var(--color-brand-gray-light))] rounded-md py-3 px-4 focus:outline-none focus:border-[rgb(var(--color-brand-gold))]"}),o.jsx("input",{type:"text",name:"number",value:N.number,onChange:rn,placeholder:"Nmero *",className:"sm:col-span-2 w-full bg-[rgb(var(--color-brand-dark))] border-2 border-[rgb(var(--color-brand-gray-light))] rounded-md py-3 px-4 focus:outline-none focus:border-[rgb(var(--color-brand-gold))]"}),o.jsx("input",{type:"text",name:"complement",value:N.complement,onChange:rn,placeholder:"Complemento",className:"sm:col-span-4 w-full bg-[rgb(var(--color-brand-dark))] border-2 border-[rgb(var(--color-brand-gray-light))] rounded-md py-3 px-4 focus:outline-none focus:border-[rgb(var(--color-brand-gold))]"}),o.jsx("input",{type:"text",name:"neighborhood",value:N.neighborhood,onChange:rn,placeholder:"Bairro *",className:"sm:col-span-3 w-full bg-[rgb(var(--color-brand-dark))] border-2 border-[rgb(var(--color-brand-gray-light))] rounded-md py-3 px-4 focus:outline-none focus:border-[rgb(var(--color-brand-gold))]"}),o.jsx("input",{type:"text",name:"city",value:N.city,onChange:rn,placeholder:"Cidade *",className:"sm:col-span-2 w-full bg-[rgb(var(--color-brand-dark))] border-2 border-[rgb(var(--color-brand-gray-light))] rounded-md py-3 px-4 focus:outline-none focus:border-[rgb(var(--color-brand-gold))]"}),o.jsx("input",{type:"text",name:"state",value:N.state,onChange:rn,placeholder:"UF *",className:"sm:col-span-1 w-full bg-[rgb(var(--color-brand-dark))] border-2 border-[rgb(var(--color-brand-gray-light))] rounded-md py-3 px-4 focus:outline-none focus:border-[rgb(var(--color-brand-gold))]"})]}),le.length>0&&o.jsx("div",{className:"space-y-3 pt-4",children:le.map(be=>o.jsxs("label",{className:`flex items-center justify-between p-3 rounded-lg border-2 cursor-pointer transition-colors ${(Y==null?void 0:Y.id)===be.id?"bg-[rgb(var(--color-brand-gold))]/[.10] border-[rgb(var(--color-brand-gold))]":"bg-[rgb(var(--color-brand-dark))] border-[rgb(var(--color-brand-gray-light))] hover:border-[rgb(var(--color-brand-gray))]"}`,children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("input",{type:"radio",name:"shipping",checked:(Y==null?void 0:Y.id)===be.id,onChange:()=>O(be),className:"h-4 w-4 text-[rgb(var(--color-brand-gold))] bg-[rgb(var(--color-brand-gray))] border-[rgb(var(--color-brand-gray-light))] focus:ring-[rgb(var(--color-brand-gold))]"}),o.jsxs("div",{className:"ml-3 text-sm",children:[o.jsx("p",{className:"font-medium",children:be.name}),o.jsx("p",{className:"text-[rgb(var(--color-brand-text-dim))]",children:be.delivery_time})]})]}),o.jsx("p",{className:"font-semibold",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(be.price)})]},be.id))}),o.jsx("button",{onClick:()=>b(3),disabled:!En,className:"w-full bg-[rgb(var(--color-brand-gold))] text-[rgb(var(--color-brand-dark))] font-bold py-3 px-4 rounded-md hover:bg-yellow-400 disabled:opacity-50 disabled:cursor-not-allowed mt-4",children:"Continuar"})]})]}),o.jsxs("div",{className:`bg-[rgb(var(--color-brand-gray))] rounded-lg border-2 ${g===3?"border-[rgb(var(--color-brand-gold))]":"border-[rgb(var(--color-brand-gray-light))]"} ${En?"":"opacity-50"}`,children:[o.jsxs("button",{className:"w-full flex items-center gap-4 p-4 text-left",onClick:()=>En&&b(3),disabled:!En,children:[o.jsx(U2,{className:`w-8 h-8 ${g===3?"text-[rgb(var(--color-brand-gold))]":"text-[rgb(var(--color-brand-text-dim))]"}`}),o.jsx("h2",{className:"text-lg font-bold font-display",children:"3. Pagamento"})]}),g===3&&o.jsxs("div",{className:"p-6 border-t border-[rgb(var(--color-brand-gray-light))] space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 bg-[rgb(var(--color-brand-dark))] p-1 rounded-lg",children:[o.jsxs("button",{onClick:()=>Be("wallet"),className:`py-2 px-3 text-sm font-semibold rounded-md transition-colors flex items-center justify-center gap-2 ${we==="wallet"?"bg-[rgb(var(--color-brand-gold))] text-black":"hover:bg-[rgb(var(--color-brand-gray-light))]"}`,children:[o.jsx(pi,{className:"w-5 h-5"})," Saldo"]}),d.mercadoPago.enabled&&o.jsxs("button",{onClick:()=>Be("credit-card"),className:`py-2 px-3 text-sm font-semibold rounded-md transition-colors flex items-center justify-center gap-2 ${we==="credit-card"?"bg-[rgb(var(--color-brand-gold))] text-black":"hover:bg-[rgb(var(--color-brand-gray-light))]"}`,children:[o.jsx(U2,{className:"w-5 h-5"})," Carto"]}),d.mercadoPago.enabled&&o.jsxs("button",{onClick:()=>Be("pix"),className:`py-2 px-3 text-sm font-semibold rounded-md transition-colors flex items-center justify-center gap-2 ${we==="pix"?"bg-[rgb(var(--color-brand-gold))] text-black":"hover:bg-[rgb(var(--color-brand-gray-light))]"}`,children:[o.jsx(e7,{className:"w-5 h-5"})," Pix"]}),d.mercadoPago.enabled&&o.jsxs("button",{onClick:()=>Be("boleto"),className:`py-2 px-3 text-sm font-semibold rounded-md transition-colors flex items-center justify-center gap-2 ${we==="boleto"?"bg-[rgb(var(--color-brand-gold))] text-black":"hover:bg-[rgb(var(--color-brand-gray-light))]"}`,children:[o.jsx(H2,{className:"w-5 h-5"})," Boleto"]})]}),we==="wallet"&&o.jsxs("div",{className:"p-4 bg-[rgb(var(--color-brand-dark))] rounded-lg space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("p",{className:"font-semibold text-white",children:"Pagar com Saldo da Carteira"}),X&&o.jsx(Qn,{className:"w-5 h-5 text-[rgb(var(--color-brand-gold))]"})]}),o.jsxs("div",{className:"bg-[rgb(var(--color-brand-gray))] p-4 rounded-lg border border-[rgb(var(--color-brand-gold))]",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("span",{className:"text-sm text-[rgb(var(--color-brand-text-dim))]",children:"Saldo disponvel:"}),o.jsx("span",{className:"text-xl font-bold text-[rgb(var(--color-brand-gold))]",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(R)})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-sm text-[rgb(var(--color-brand-text-dim))]",children:"Total da compra:"}),o.jsx("span",{className:"text-lg font-semibold text-white",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(ot)})]})]}),R>=ot?o.jsxs("div",{className:"flex items-center gap-2 text-green-400 bg-green-900/20 p-3 rounded-lg",children:[o.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:o.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),o.jsx("span",{className:"text-sm font-semibold",children:"Saldo suficiente para completar a compra"})]}):o.jsxs("div",{className:"flex items-center gap-2 text-red-400 bg-red-900/20 p-3 rounded-lg",children:[o.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:o.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-semibold",children:"Saldo insuficiente"}),o.jsxs("p",{className:"text-xs text-[rgb(var(--color-brand-text-dim))]",children:["Faltam ",new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(ot-R)]})]})]}),o.jsx("div",{className:"text-xs text-[rgb(var(--color-brand-text-dim))] text-center",children:"O valor ser debitado imediatamente do seu saldo RS."})]}),we==="credit-card"&&o.jsxs("div",{className:"space-y-3 pt-2",children:[o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:"text",name:"number",value:S.number,onChange:rr,placeholder:"Nmero do Carto",className:"w-full bg-[rgb(var(--color-brand-dark))] border-2 border-[rgb(var(--color-brand-gray-light))] rounded-md py-3 px-4 pr-12 focus:outline-none focus:border-[rgb(var(--color-brand-gold))]"}),o.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:E==="visa"?o.jsx(t7,{className:"h-6"}):E==="mastercard"&&o.jsx(n7,{className:"h-6"})})]}),o.jsx("input",{type:"text",name:"name",value:S.name,onChange:rr,placeholder:"Nome no Carto",className:"w-full bg-[rgb(var(--color-brand-dark))] border-2 border-[rgb(var(--color-brand-gray-light))] rounded-md py-3 px-4 focus:outline-none focus:border-[rgb(var(--color-brand-gold))]"}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsx("input",{type:"text",name:"expiry",value:S.expiry,onChange:rr,placeholder:"Validade (MM/AA)",className:"w-full bg-[rgb(var(--color-brand-dark))] border-2 border-[rgb(var(--color-brand-gray-light))] rounded-md py-3 px-4 focus:outline-none focus:border-[rgb(var(--color-brand-gold))]"}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:"text",name:"cvv",value:S.cvv,onChange:rr,placeholder:"CVV",className:"w-full bg-[rgb(var(--color-brand-dark))] border-2 border-[rgb(var(--color-brand-gray-light))] rounded-md py-3 px-4 pr-10 focus:outline-none focus:border-[rgb(var(--color-brand-gold))]"}),o.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center group cursor-help",children:o.jsx(r7,{className:"w-5 h-5 text-[rgb(var(--color-brand-text-dim))]"})})]})]}),o.jsxs("div",{className:"flex items-center justify-center gap-2 pt-2 text-sm text-[rgb(var(--color-brand-text-dim))]",children:[o.jsx(z2,{className:"w-4 h-4"}),o.jsx("span",{children:"Pagamento seguro"})]})]}),we==="pix"&&o.jsxs("div",{className:"text-center p-4 bg-[rgb(var(--color-brand-dark))] rounded-lg",children:[o.jsx("p",{className:"font-semibold mb-2",children:"Pague com PIX"}),he&&!ke?o.jsxs("div",{className:"h-[268px] flex flex-col items-center justify-center",children:[o.jsx(Qn,{className:"w-10 h-10 text-[rgb(var(--color-brand-gold))] mb-2"})," ",o.jsx("p",{children:"Gerando PIX..."})]}):ke?o.jsxs(o.Fragment,{children:[o.jsx("img",{src:ke.qrCodeUrl,alt:"QR Code PIX",className:"mx-auto bg-white p-2 rounded-md"}),o.jsx("p",{className:"text-sm mt-4 text-[rgb(var(--color-brand-text-dim))]",children:"Aponte a cmera do seu celular para pagar."}),o.jsxs("button",{onClick:ua,className:"mt-4 w-full bg-[rgb(var(--color-brand-gray-light))] text-[rgb(var(--color-brand-text-light))] font-semibold py-3 px-4 rounded-md hover:bg-gray-600 flex items-center justify-center gap-2",children:[Ie?o.jsx(uo,{className:"w-5 h-5 text-green-400"}):o.jsx(Er,{className:"w-5 h-5"}),Ie?"Cdigo Copiado!":"Copiar Cdigo PIX"]})]}):o.jsx("p",{children:"No foi possvel gerar o PIX."})]}),we==="boleto"&&o.jsxs("div",{className:"text-center p-4 bg-[rgb(var(--color-brand-dark))] rounded-lg text-[rgb(var(--color-brand-text-dim))] space-y-3",children:[o.jsx("p",{className:"font-semibold text-white",children:"Boleto Bancrio"}),o.jsx(H2,{className:"w-16 h-16 mx-auto text-[rgb(var(--color-brand-gold))]"}),o.jsx("p",{children:"O boleto ser gerado aps a finalizao da compra e poder ser pago em qualquer banco ou casa lotrica at a data de vencimento."})]}),o.jsxs("button",{onClick:_t,disabled:he,className:"mt-4 w-full bg-[rgb(var(--color-brand-gold))] text-[rgb(var(--color-brand-dark))] font-bold py-3 rounded-md hover:bg-yellow-400 transition-colors flex items-center justify-center gap-2 disabled:bg-[rgb(var(--color-brand-gray-light))] disabled:cursor-not-allowed",children:[he?o.jsx(Qn,{className:"w-5 h-5"}):o.jsx(z2,{className:"w-5 h-5"}),he?"Processando...":"Pagar Agora"]})]})]})]})}),o.jsx("div",{className:"lg:col-span-5",children:o.jsxs("div",{className:"bg-[rgb(var(--color-brand-gray))] p-6 rounded-lg lg:sticky lg:top-28 self-start border border-[rgb(var(--color-brand-gray-light))]",children:[o.jsx("h2",{className:"text-xl font-bold font-display text-[rgb(var(--color-brand-text-light))] mb-4",children:"Resumo do Pedido"}),o.jsx("div",{className:"space-y-3 max-h-60 overflow-y-auto pr-2 mb-4 border-b border-[rgb(var(--color-brand-gray-light))] pb-4",children:t.map(be=>o.jsxs("div",{className:"flex items-start gap-4 py-3",children:[o.jsxs("div",{className:"relative flex-shrink-0",children:[o.jsx("img",{src:be.image,alt:be.name,className:"w-16 h-16 object-cover rounded-md"}),o.jsx("span",{className:"absolute -top-2 -right-2 bg-[rgb(var(--color-brand-gold))] text-[rgb(var(--color-brand-dark))] text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:be.quantity})]}),o.jsxs("div",{className:"flex-grow",children:[o.jsx("p",{className:"font-semibold text-sm leading-tight",children:be.name}),be.variantText&&o.jsx("p",{className:"text-xs text-[rgb(var(--color-brand-text-dim))]",children:be.variantText}),o.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[o.jsxs("div",{className:"flex items-center border border-[rgb(var(--color-brand-gray-light))] rounded-full",children:[o.jsx("button",{onClick:()=>f(be.id,be.quantity-1),className:"px-3 py-1 text-lg text-[rgb(var(--color-brand-text-dim))] hover:text-[rgb(var(--color-brand-text-light))] rounded-l-full",children:"-"}),o.jsx("span",{className:"px-2 text-sm font-semibold",children:be.quantity}),o.jsx("button",{onClick:()=>f(be.id,be.quantity+1),className:"px-3 py-1 text-lg text-[rgb(var(--color-brand-text-dim))] hover:text-[rgb(var(--color-brand-text-light))] rounded-r-full",children:"+"})]}),o.jsx("button",{onClick:()=>h(be.id),className:"text-[rgb(var(--color-brand-text-dim))] hover:text-[rgb(var(--color-error))]",title:"Remover item",children:o.jsx(jt,{className:"w-4 h-4"})})]})]}),o.jsx("p",{className:"font-semibold text-sm",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(be.price*be.quantity)})]},be.id))}),ut&&o.jsx("div",{className:"my-6 p-4 rounded-lg border-2 border-dashed border-[rgb(var(--color-brand-gold))] bg-[rgb(var(--color-brand-gold))]/[.05]",children:o.jsxs("label",{className:"flex items-center cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:J,onChange:()=>pe(!J),className:"h-5 w-5 rounded bg-[rgb(var(--color-brand-gray))] border-[rgb(var(--color-brand-gray-light))] text-[rgb(var(--color-brand-gold))] focus:ring-[rgb(var(--color-brand-gold))]"}),o.jsxs("div",{className:"ml-3 flex-grow",children:[o.jsx("p",{className:"font-bold text-[rgb(var(--color-brand-gold))] text-sm",children:i.title}),o.jsxs("div",{className:"flex items-baseline gap-2",children:[o.jsx("span",{className:"text-md font-bold text-white",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(i.offerPrice)}),o.jsx("span",{className:"text-xs text-[rgb(var(--color-brand-text-dim))] line-through",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(ut.price)})]})]})]})}),o.jsxs("div",{className:"space-y-2 py-4 border-b border-[rgb(var(--color-brand-gray-light))]",children:[o.jsxs("div",{className:"flex gap-2",children:[o.jsx("input",{value:D,onChange:be=>H(be.target.value),type:"text",placeholder:"Cupom de desconto",className:"flex-grow bg-[rgb(var(--color-brand-dark))] border-2 border-[rgb(var(--color-brand-gray-light))] rounded-md py-2 px-3 text-sm focus:outline-none focus:border-[rgb(var(--color-brand-gold))]"}),o.jsx("button",{onClick:da,className:"font-semibold bg-[rgb(var(--color-brand-dark))] py-2 px-4 rounded-md hover:bg-[rgb(var(--color-brand-gray-light))]",children:"Aplicar"})]}),K&&o.jsx("p",{className:"text-xs text-[rgb(var(--color-error))] mt-1",children:K}),V&&o.jsxs("p",{className:"text-xs text-[rgb(var(--color-success))] mt-1",children:['Cupom "',V.code,'" aplicado!']})]}),o.jsxs("div",{className:"space-y-2 pt-4",children:[o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{children:"Subtotal:"}),o.jsx("span",{children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(p)})]}),J&&ut&&o.jsxs("div",{className:"flex justify-between text-sm text-[rgb(var(--color-brand-gold))]",children:[o.jsx("span",{children:"Oferta Especial:"}),o.jsxs("span",{children:["+ ",new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(mt)]})]}),o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{children:"Frete:"}),o.jsx("span",{children:Y?new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(Rt):"Aguardando CEP"})]}),P>0&&o.jsxs("div",{className:"flex justify-between text-sm text-[rgb(var(--color-success))]",children:[o.jsx("span",{children:"Desconto:"}),o.jsxs("span",{children:["- ",new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(P)]})]}),o.jsxs("div",{className:"flex justify-between font-bold text-xl text-[rgb(var(--color-brand-gold))] border-t border-[rgb(var(--color-brand-gray-light))] pt-2 mt-2",children:[o.jsx("span",{children:"Total:"}),o.jsx("span",{children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(ot)})]})]})]})})]})})]})},a7=({onRegisterSuccess:t,onBackToHome:e})=>{const[n,r]=j.useState({sponsorId:"RS Prlipsi",nomeCompleto:"",cpfCnpj:"",email:"",telefone:"",cep:"",logradouro:"",numero:"",complemento:"",bairro:"",cidade:"",estado:"",nomeLoja:"",codigoIndicacao:"",senha:"",confirmarSenha:"",termos:!1}),[s,i]=j.useState(!1),[c,d]=j.useState(!1),[f,h]=j.useState(""),p=w=>{const{name:S,value:T,type:E,checked:M}=w.target;r(D=>({...D,[S]:E==="checkbox"?M:T}))},g=w=>{if(w.preventDefault(),h(""),n.senha!==n.confirmarSenha){h("As senhas no coincidem.");return}if(!n.termos){h("Voc deve aceitar os termos e condies.");return}console.log("Dados do formulrio:",n),alert("Cadastro realizado com sucesso! Em breve, nossa equipe da sede entrar em contato para finalizar seu credenciamento."),t()},b=({children:w})=>o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-x-6 gap-y-4",children:w}),N=({name:w,label:S,type:T="text",required:E=!1,fullWidth:M=!1,value:D,onChange:H,children:V})=>o.jsxs("div",{className:M?"sm:col-span-2":"",children:[o.jsx("label",{htmlFor:w,className:"block text-sm font-medium text-gray-300 mb-1",children:S}),o.jsx("input",{type:T,name:w,id:w,required:E,value:D,onChange:H,className:"appearance-none block w-full px-3 py-2 border-2 border-gray-700 bg-gray-800 text-white placeholder-gray-500 rounded-md focus:outline-none focus:ring-yellow-500 focus:border-yellow-500 sm:text-sm"}),V]});return o.jsx("div",{className:"bg-black min-h-screen py-12 px-4",children:o.jsxs("div",{className:"w-full max-w-4xl mx-auto p-8 space-y-8 bg-black border-2 border-yellow-600/30 rounded-lg shadow-2xl",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-3xl font-bold text-center font-display text-yellow-400",children:"Cadastro de Lojista"}),o.jsx("p",{className:"mt-2 text-center text-gray-400",children:"Faa parte do nosso marketplace premium."})]}),o.jsxs("form",{className:"mt-8 space-y-8",onSubmit:g,children:[o.jsxs("fieldset",{className:"space-y-4",children:[o.jsx("legend",{className:"text-lg font-semibold text-white mb-4",children:"Patrocinador"}),o.jsx(b,{children:o.jsx(N,{name:"sponsorId",label:"ID ou Nome do Patrocinador",required:!0,value:n.sponsorId,onChange:p,fullWidth:!0,children:o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Seu cadastro deve ser vinculado a um patrocinador. Se no tiver um, mantenha o ID da empresa. O link de indicao preencher este campo automaticamente."})})})]}),o.jsxs("fieldset",{className:"space-y-4 border-t-2 border-gray-800 pt-6",children:[o.jsx("legend",{className:"text-lg font-semibold text-white px-2 -mt-10 bg-black",children:"Dados Pessoais"}),o.jsxs(b,{children:[o.jsx(N,{name:"nomeCompleto",label:"Nome Completo",required:!0,value:n.nomeCompleto,onChange:p,fullWidth:!0}),o.jsx(N,{name:"cpfCnpj",label:"CPF / CNPJ",required:!0,value:n.cpfCnpj,onChange:p}),o.jsx(N,{name:"email",label:"E-mail",type:"email",required:!0,value:n.email,onChange:p}),o.jsx(N,{name:"telefone",label:"Telefone / WhatsApp",type:"tel",required:!0,value:n.telefone,onChange:p})]})]}),o.jsxs("fieldset",{className:"space-y-4 border-t-2 border-gray-800 pt-6",children:[o.jsx("legend",{className:"text-lg font-semibold text-white px-2 -mt-10 bg-black",children:"Endereo"}),o.jsxs(b,{children:[o.jsx(N,{name:"cep",label:"CEP",required:!0,value:n.cep,onChange:p}),o.jsx(N,{name:"logradouro",label:"Logradouro (Rua, Av.)",required:!0,value:n.logradouro,onChange:p}),o.jsx(N,{name:"numero",label:"Nmero",required:!0,value:n.numero,onChange:p}),o.jsx(N,{name:"complemento",label:"Complemento",value:n.complemento,onChange:p}),o.jsx(N,{name:"bairro",label:"Bairro",required:!0,value:n.bairro,onChange:p}),o.jsx(N,{name:"cidade",label:"Cidade",required:!0,value:n.cidade,onChange:p}),o.jsx(N,{name:"estado",label:"Estado (UF)",required:!0,value:n.estado,onChange:p})]})]}),o.jsxs("fieldset",{className:"space-y-4 border-t-2 border-gray-800 pt-6",children:[o.jsx("legend",{className:"text-lg font-semibold text-white px-2 -mt-10 bg-black",children:"Dados da Loja"}),o.jsxs(b,{children:[o.jsx(N,{name:"nomeLoja",label:"Nome da Loja",required:!0,value:n.nomeLoja,onChange:p,fullWidth:!0}),o.jsx(N,{name:"codigoIndicacao",label:"Cdigo de Indicao",required:!0,value:n.codigoIndicacao,onChange:p,fullWidth:!0,children:o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Este cadastro deve ser feito atravs de um indicador da Sede."})})]})]}),o.jsxs("fieldset",{className:"space-y-4 border-t-2 border-gray-800 pt-6",children:[o.jsx("legend",{className:"text-lg font-semibold text-white px-2 -mt-10 bg-black",children:"Dados de Acesso"}),o.jsxs(b,{children:[o.jsxs("div",{className:"relative",children:[o.jsx("label",{htmlFor:"senha",className:"block text-sm font-medium text-gray-300 mb-1",children:"Senha"}),o.jsx("input",{id:"senha",name:"senha",type:s?"text":"password",required:!0,value:n.senha,onChange:p,className:"appearance-none block w-full px-3 py-2 border-2 border-gray-700 bg-gray-800 text-white rounded-md pr-10"}),o.jsx("button",{type:"button",onClick:()=>i(!s),className:"absolute bottom-2 right-3 text-gray-400",children:s?o.jsx(ii,{className:"h-5 w-5"}):o.jsx(lo,{className:"h-5 w-5"})})]}),o.jsxs("div",{className:"relative",children:[o.jsx("label",{htmlFor:"confirmarSenha",className:"block text-sm font-medium text-gray-300 mb-1",children:"Confirmar Senha"}),o.jsx("input",{id:"confirmarSenha",name:"confirmarSenha",type:c?"text":"password",required:!0,value:n.confirmarSenha,onChange:p,className:"appearance-none block w-full px-3 py-2 border-2 border-gray-700 bg-gray-800 text-white rounded-md pr-10"}),o.jsx("button",{type:"button",onClick:()=>d(!c),className:"absolute bottom-2 right-3 text-gray-400",children:c?o.jsx(ii,{className:"h-5 w-5"}):o.jsx(lo,{className:"h-5 w-5"})})]})]})]}),f&&o.jsx("p",{className:"text-red-500 text-sm text-center !mt-4",children:f}),o.jsx("div",{className:"pt-4",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("input",{id:"termos",name:"termos",type:"checkbox",checked:n.termos,onChange:p,className:"h-4 w-4 text-yellow-500 bg-gray-700 border-gray-600 rounded focus:ring-yellow-600"}),o.jsxs("label",{htmlFor:"termos",className:"ml-2 block text-sm text-gray-300",children:["Eu li e aceito os ",o.jsx("a",{href:"#",className:"font-medium text-yellow-500 hover:text-yellow-400",children:"Termos e Condies"})]})]})}),o.jsx("div",{children:o.jsx("button",{type:"submit",className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-md text-black bg-yellow-500 hover:bg-yellow-400 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-900 focus:ring-yellow-500 transition-colors mt-6",children:"Finalizar Cadastro"})})]}),o.jsx("div",{className:"text-center",children:o.jsx("button",{onClick:e,className:"font-medium text-sm text-yellow-500 hover:text-yellow-400",children:"Voltar para a loja"})})]})})},i7=({settings:t,onSave:e,onNavigate:n})=>{const[r,s]=j.useState(t),[i,c]=j.useState(!1);j.useEffect(()=>{s(t)},[t]),j.useEffect(()=>{const S=JSON.stringify(r)!==JSON.stringify(t);c(S)},[r,t]);const d=S=>{const{name:T,value:E}=S.target;s(M=>({...M,[T]:T==="frequency"?E:Number(E)}))},f=(S,T,E)=>{s(M=>({...M,tiers:M.tiers.map(D=>D.id===S?{...D,[T]:T==="name"?E:Number(E)}:D)}))},h=(S,T,E)=>{s(M=>({...M,tiers:M.tiers.map(D=>D.id===S?{...D,[T]:E}:D)}))},p=()=>{const S={id:`tier-${Date.now()}`,name:"Novo Nvel",pointsRequired:r.tiers.length>0?Math.max(...r.tiers.map(T=>T.pointsRequired))+1e3:1e3,reward:r.tiers.length>0?Math.max(...r.tiers.map(T=>T.reward))+100:100,pinImageUrl:"",bannerImageUrl:""};s(T=>({...T,tiers:[...T.tiers,S]}))},g=S=>{s(T=>({...T,tiers:T.tiers.filter(E=>E.id!==S)}))},b=()=>{e(r)},N=()=>{s(t)},w=["Semanal","Mensal","Trimestral","Semestral","Anual"];return o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"pb-6 mb-6 flex justify-end items-center border-b border-gray-800",children:o.jsxs("div",{className:"flex items-center gap-4",children:[i&&o.jsx("p",{className:"text-sm text-yellow-400 mr-4",children:"Voc tem alteraes no salvas."}),o.jsx("button",{onClick:N,disabled:!i,className:"text-sm font-semibold bg-gray-700 text-white py-2 px-4 rounded-md hover:bg-gray-600 disabled:opacity-50 disabled:cursor-not-allowed",children:"Descartar"}),o.jsx("button",{onClick:b,disabled:!i,className:"text-sm font-bold bg-yellow-500 text-black py-2 px-4 rounded-md hover:bg-yellow-400 disabled:opacity-50 disabled:cursor-not-allowed",children:"Salvar"})]})}),o.jsxs("div",{className:"max-w-7xl mx-auto space-y-8",children:[o.jsxs("div",{className:"bg-black border border-gray-800 rounded-lg p-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Frequncia da Premiao"}),o.jsx("p",{className:"text-sm text-gray-400 mb-6",children:"Escolha a periodicidade em que os bnus do plano de compensao sero calculados e pagos."}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"frequency",className:"block text-sm font-medium text-gray-300 mb-2",children:"Frequncia de Pagamento"}),o.jsx("select",{id:"frequency",name:"frequency",value:r.frequency,onChange:d,className:"w-full bg-gray-800 border-2 border-gray-700 rounded-md py-2 px-3 text-white focus:outline-none focus:border-yellow-500",children:w.map(S=>o.jsx("option",{value:S,children:S},S))})]})]}),o.jsxs("div",{className:"bg-black border border-gray-800 rounded-lg p-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Regras de Pontuao"}),o.jsx("p",{className:"text-sm text-gray-400 mb-6",children:"Defina quantos pontos so gerados por cada R$ 1 vendido em cada modalidade."}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsxs("label",{htmlFor:"dropshippingPointsPerBrl",className:"block text-sm font-medium text-gray-300 mb-2 flex items-center gap-2",children:[o.jsx(Ql,{className:"w-5 h-5 text-yellow-400"}),"Pontos por R$1 vendido (Dropshipping)"]}),o.jsx("input",{type:"number",id:"dropshippingPointsPerBrl",name:"dropshippingPointsPerBrl",value:r.dropshippingPointsPerBrl,onChange:d,className:"w-full bg-gray-800 border-2 border-gray-700 rounded-md py-2 px-3 text-white focus:outline-none focus:border-yellow-500",step:"0.1"})]}),o.jsxs("div",{children:[o.jsxs("label",{htmlFor:"affiliatePointsPerBrl",className:"block text-sm font-medium text-gray-300 mb-2 flex items-center gap-2",children:[o.jsx(Zl,{className:"w-5 h-5 text-yellow-400"}),"Pontos por R$1 vendido (Afiliados)"]}),o.jsx("input",{type:"number",id:"affiliatePointsPerBrl",name:"affiliatePointsPerBrl",value:r.affiliatePointsPerBrl,onChange:d,className:"w-full bg-gray-800 border-2 border-gray-700 rounded-md py-2 px-3 text-white focus:outline-none focus:border-yellow-500",step:"0.1"})]})]})]}),o.jsxs("div",{className:"bg-black border border-gray-800 rounded-lg",children:[o.jsxs("div",{className:"p-4 border-b border-gray-800 flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsxs("h3",{className:"text-lg font-semibold text-white",children:["Nveis de Premiao (",r.frequency,")"]}),o.jsx("p",{className:"text-sm text-gray-400",children:"Crie os nveis de recompensa baseados na pontuao acumulada no perodo."})]}),o.jsx("button",{onClick:p,className:"text-sm font-bold bg-gray-700 text-white py-2 px-4 rounded-md hover:bg-gray-600",children:"+ Adicionar Nvel"})]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-sm",children:[o.jsx("thead",{className:"text-left text-gray-400",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3",children:"Nome do Nvel"}),o.jsx("th",{className:"px-6 py-3",children:"PIN"}),o.jsx("th",{className:"px-6 py-3",children:"Banner do Prmio"}),o.jsx("th",{className:"px-6 py-3",children:"Pontos Necessrios"}),o.jsx("th",{className:"px-6 py-3",children:"Recompensa (Bnus R$)"}),o.jsx("th",{className:"px-6 py-3 text-right",children:"Aes"})]})}),o.jsx("tbody",{className:"divide-y divide-gray-800",children:r.tiers.map(S=>o.jsxs("tr",{children:[o.jsx("td",{className:"px-6 py-4 align-middle",children:o.jsx("input",{type:"text",value:S.name,onChange:T=>f(S.id,"name",T.target.value),className:"w-full bg-gray-800 border-2 border-gray-700 rounded-md py-1 px-2 text-white"})}),o.jsx("td",{className:"px-6 py-4 align-middle",children:o.jsx("div",{className:"w-24",children:o.jsx(Et,{currentImage:S.pinImageUrl,onImageUpload:T=>h(S.id,"pinImageUrl",T),placeholderText:"Subir Pin",aspectRatio:"square"})})}),o.jsx("td",{className:"px-6 py-4 align-middle",children:o.jsx("div",{className:"w-40",children:o.jsx(Et,{currentImage:S.bannerImageUrl,onImageUpload:T=>h(S.id,"bannerImageUrl",T),placeholderText:"Subir Banner",aspectRatio:"video"})})}),o.jsx("td",{className:"px-6 py-4 align-middle",children:o.jsx("input",{type:"number",value:S.pointsRequired,onChange:T=>f(S.id,"pointsRequired",T.target.value),className:"w-full bg-gray-800 border-2 border-gray-700 rounded-md py-1 px-2 text-white"})}),o.jsx("td",{className:"px-6 py-4 align-middle",children:o.jsx("input",{type:"number",value:S.reward,onChange:T=>f(S.id,"reward",T.target.value),className:"w-full bg-gray-800 border-2 border-gray-700 rounded-md py-1 px-2 text-white"})}),o.jsx("td",{className:"px-6 py-4 text-right align-middle",children:o.jsx("button",{onClick:()=>g(S.id),className:"p-2 text-gray-500 hover:text-red-500","aria-label":`Excluir nvel ${S.name}`,children:o.jsx(jt,{className:"w-5 h-5"})})})]},S.id))})]})})]})]})]})},l7=t=>o.jsxs("svg",{...t,viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",children:[o.jsx("circle",{cx:"9",cy:"6",r:"1.5"}),o.jsx("circle",{cx:"15",cy:"6",r:"1.5"}),o.jsx("circle",{cx:"9",cy:"12",r:"1.5"}),o.jsx("circle",{cx:"15",cy:"12",r:"1.5"}),o.jsx("circle",{cx:"9",cy:"18",r:"1.5"}),o.jsx("circle",{cx:"15",cy:"18",r:"1.5"})]}),c7=({banners:t,onUpdate:e})=>{const[n,r]=j.useState(t),[s,i]=j.useState(null),[c,d]=j.useState(null);j.useEffect(()=>{r(t)},[t]);const f=JSON.stringify(n)!==JSON.stringify(t),h=()=>{e(n)},p=()=>{r(t)},g=(M,D,H)=>{const V=[...n];V[M]={...V[M],[D]:H},r(V)},b=()=>{const M={id:`dash-banner-${Date.now()}`,desktopImage:"",mobileImage:"",link:"#"};r(D=>[...D,M])},N=M=>{r(D=>D.filter(H=>H.id!==M))},w=(M,D)=>{i(D),M.dataTransfer.effectAllowed="move"},S=M=>{M!==s&&d(M)},T=()=>{if(s===null||c===null||s===c)return;const M=[...n],D=M.splice(s,1)[0];M.splice(c,0,D),r(M)},E=()=>{T(),i(null),d(null)};return o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"pb-6 mb-6 flex justify-end items-center border-b border-[rgb(var(--color-brand-gray-light))]",children:o.jsxs("div",{className:"flex items-center gap-4",children:[f&&o.jsx("p",{className:"text-sm text-[rgb(var(--color-brand-gold))]",children:"Voc tem alteraes no salvas."}),o.jsx("button",{onClick:p,disabled:!f,className:"text-sm font-semibold bg-[rgb(var(--color-brand-gray))] text-[rgb(var(--color-brand-text-light))] py-2 px-4 rounded-md hover:bg-[rgb(var(--color-brand-gray-light))] disabled:opacity-50 disabled:cursor-not-allowed",children:"Descartar"}),o.jsx("button",{onClick:h,disabled:!f,className:"text-sm font-bold bg-[rgb(var(--color-brand-gold))] text-[rgb(var(--color-brand-dark))] py-2 px-4 rounded-md hover:bg-yellow-400 disabled:opacity-50 disabled:cursor-not-allowed",children:"Salvar Banners"})]})}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("p",{className:"text-[rgb(var(--color-brand-text-dim))] max-w-2xl",children:"Gerencie os banners que aparecem na pgina inicial do seu painel de administrador. Use este espao para anncios internos, lanamentos e comunicados."}),o.jsx("button",{onClick:b,className:"text-sm font-semibold bg-[rgb(var(--color-brand-gray))] text-[rgb(var(--color-brand-text-light))] py-2 px-4 rounded-md hover:bg-[rgb(var(--color-brand-gray-light))] whitespace-nowrap",children:"+ Adicionar Banner"})]}),o.jsxs("div",{className:"space-y-4",children:[n.map((M,D)=>o.jsxs(kr.Fragment,{children:[c===D&&s!==D&&o.jsx("div",{className:"h-2 my-2 border-2 border-dashed border-[rgb(var(--color-brand-gold))] rounded-lg bg-[rgb(var(--color-brand-gold))]/[.10]"}),o.jsxs("div",{draggable:!0,onDragStart:H=>w(H,D),onDragEnter:()=>S(D),onDragEnd:E,onDragOver:H=>H.preventDefault(),className:`bg-[rgb(var(--color-brand-dark))] border border-[rgb(var(--color-brand-gray-light))] rounded-lg space-y-3 transition-opacity ${s===D?"opacity-50":"opacity-100"}`,children:[o.jsxs("div",{className:"flex justify-between items-center p-4",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"cursor-grab text-[rgb(var(--color-brand-text-dim))] hover:text-[rgb(var(--color-brand-text-light))]","aria-label":"Arrastar para reordenar",children:o.jsx(l7,{className:"w-5 h-5"})}),o.jsxs("h4",{className:"text-md text-[rgb(var(--color-brand-text-light))] font-semibold",children:["Banner ",D+1]})]}),o.jsx("button",{onClick:()=>N(M.id),className:"p-1 text-[rgb(var(--color-brand-text-dim))] hover:text-[rgb(var(--color-error))]",children:o.jsx(jt,{className:"w-5 h-5"})})]}),o.jsxs("div",{className:"px-4 pb-4 space-y-3",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:`carouselLink${D}`,className:"block text-sm font-medium text-[rgb(var(--color-brand-text-dim))] mb-1",children:"Link do Banner (opcional)"}),o.jsx("input",{id:`carouselLink${D}`,type:"text",value:M.link,onChange:H=>g(D,"link",H.target.value),className:"w-full bg-[rgb(var(--color-brand-gray))] border-2 border-[rgb(var(--color-brand-gray-light))] rounded-md py-2 px-3 text-[rgb(var(--color-brand-text-light))]"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(Et,{currentImage:M.desktopImage,onImageUpload:H=>g(D,"desktopImage",H),placeholderText:"Imagem para Desktop (1200x400 recomendado)"}),o.jsx(Et,{currentImage:M.mobileImage,onImageUpload:H=>g(D,"mobileImage",H),placeholderText:"Imagem para Celular (400x300 recomendado)"})]})]})]})]},M.id)),n.length===0&&o.jsx("p",{className:"text-center text-[rgb(var(--color-brand-text-dim))] py-8",children:"Nenhum banner encontrado. Adicione um para comear."})]})]})]})},Zg=t=>o.jsx("svg",{...t,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})}),d7=t=>o.jsxs("svg",{...t,viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",children:[o.jsx("circle",{cx:"9",cy:"6",r:"1.5"}),o.jsx("circle",{cx:"15",cy:"6",r:"1.5"}),o.jsx("circle",{cx:"9",cy:"12",r:"1.5"}),o.jsx("circle",{cx:"15",cy:"12",r:"1.5"}),o.jsx("circle",{cx:"9",cy:"18",r:"1.5"}),o.jsx("circle",{cx:"15",cy:"18",r:"1.5"})]}),u7={AffiliateIcon:{component:eg,name:"Afiliado"},DistributionIcon:{component:Ql,name:"Dropshipping"},TruckIcon:{component:mi,name:"Logstica"},GlobalIcon:{component:K2,name:"Global"},StarOutlineIcon:{component:Y2,name:"Estrela"},TrophyIcon:{component:W2,name:"Trofu"},WalletIcon:{component:pi,name:"Carteira"},OrdersIcon:{component:Vu,name:"Pedidos"},ProductsIcon:{component:X2,name:"Produtos"},AnalyticsIcon:{component:Q2,name:"Analytics"},TagIcon:{component:tg,name:"Tag/Promoo"},MegaphoneIcon:{component:Zl,name:"Marketing"},LinkChainIcon:{component:qu,name:"Link"},UserIcon:{component:Bn,name:"Usurio"},BellIcon:{component:ng,name:"Notificao"},ShoppingBagIcon:{component:Z2,name:"Loja"}},lp={userInfo:"Carto de Usurio",referralLinks:"Links de Indicao e Afiliado",qualificationProgress:"Barra de Qualificao/Progresso",adminBanner:"Banner do Painel",bonusCards:"Cartes de Bnus",incentivesProgram:"Programa de Incentivos",networkActivity:"Atividade da Rede",shortcut:"Atalho Rpido",performanceChart:"Grfico de Desempenho"},f7=[{key:"cycleBonus",label:"Bnus Ciclo Global"},{key:"topSigmeBonus",label:"Bnus Top Sigme"},{key:"careerPlanBonus",label:"Bnus Plano de Carreira"},{key:"affiliateBonus",label:"Bnus Venda Afiliado"},{key:"dropshipBonus",label:"Bnus Dropship"},{key:"logisticsBonus",label:"Bnus de Logstica"},{key:"custom",label:"Nenhum (Valor Manual)"}],h7={id:"ID do Usurio",graduation:"Graduao",accountStatus:"Status da Conta",monthlyActivity:"Atividade Mensal",category:"Categoria",referralLink:"Link de Indicao",affiliateLink:"Link de Afiliado"},m7=({settings:t,onUpdate:e})=>{const[n,r]=j.useState(t),[s,i]=j.useState(!1),[c,d]=j.useState(null),[f,h]=j.useState(null);j.useEffect(()=>{r(t)},[t]);const p=JSON.stringify(n)!==JSON.stringify(t),g=()=>e(n),b=()=>r(t),N=(z,P)=>{const te={id:`comp-${Date.now()}`,type:z,column:P,enabled:!0,title:lp[z],...z==="userInfo"&&{visibleFields:{id:!0,graduation:!0,accountStatus:!0,monthlyActivity:!0,category:!0,referralLink:!0,affiliateLink:!0}},...z==="qualificationProgress"&&{value:50,max:100,startLabel:"Incio",endLabel:"Meta"},...z==="shortcut"&&{url:"#",icon:"LinkChainIcon"}};r(K=>({...K,components:[...K.components,te]})),i(!1)},w=(z,P,te)=>{r(K=>({...K,components:K.components.map(ce=>ce.id===z?{...ce,[P]:te}:ce)}))},S=(z,P,te)=>{r(K=>({...K,components:K.components.map(ce=>ce.id===z?{...ce,visibleFields:{...ce.visibleFields,[P]:te}}:ce)}))},T=(z,P,te)=>{r(K=>({...K,cards:K.cards.map(ce=>ce.id===z?{...ce,[P]:te}:ce)}))},E=[{type:"userInfo",column:"left"},{type:"referralLinks",column:"left"},{type:"qualificationProgress",column:"left"},{type:"adminBanner",column:"right"},{type:"bonusCards",column:"right"},{type:"incentivesProgram",column:"right"},{type:"networkActivity",column:"right"},{type:"shortcut",column:"right"},{type:"performanceChart",column:"right"}],M=n.components.filter(z=>z.column==="left"),D=n.components.filter(z=>z.column==="right"),H=(z,P)=>{if(!c)return;const te=c.col,K=c.index,ce=[...M],ye=[...D];let re;te==="left"?re=ce.splice(K,1)[0]:re=ye.splice(K,1)[0],re.column=z,z==="left"?ce.splice(P,0,re):ye.splice(P,0,re),r(le=>({...le,components:[...ce,...ye]}))},V=(z,P,te)=>o.jsxs("div",{draggable:!0,onDragStart:K=>{K.dataTransfer.effectAllowed="move",d({col:P,index:te})},onDragEnd:()=>{d(null),h(null)},onDragOver:K=>{K.preventDefault(),((f==null?void 0:f.index)!==te||f.col!==P)&&h({col:P,index:te})},onDrop:K=>{K.preventDefault(),H(P,te)},className:`bg-black border border-gray-800 rounded-lg p-4 space-y-3 transition-opacity ${(c==null?void 0:c.index)===te&&(c==null?void 0:c.col)===P?"opacity-30":""}`,children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(d7,{className:"w-5 h-5 text-gray-500 cursor-grab"}),o.jsx("h4",{className:"font-semibold text-white",children:lp[z.type]})]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(Xe,{checked:z.enabled,onChange:K=>w(z.id,"enabled",K),labelId:`toggle-${z.id}`}),o.jsx("button",{onClick:()=>r(K=>({...K,components:K.components.filter(ce=>ce.id!==z.id)})),className:"text-gray-500 hover:text-red-500",children:o.jsx(jt,{className:"w-5 h-5"})})]})]}),z.title!==void 0&&z.type!=="userInfo"&&z.type!=="referralLinks"&&o.jsx("input",{type:"text",value:z.title,onChange:K=>w(z.id,"title",K.target.value),placeholder:"Ttulo do Componente",className:"w-full text-sm bg-gray-800 border-2 border-gray-700 rounded-md py-1 px-2 text-white"}),z.type==="userInfo"&&z.visibleFields&&o.jsx("div",{className:"grid grid-cols-2 gap-2 border-t border-gray-700 pt-3",children:Object.entries(h7).map(([K,ce])=>o.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-300",children:[o.jsx("input",{type:"checkbox",checked:z.visibleFields[K],onChange:ye=>S(z.id,K,ye.target.checked),className:"h-4 w-4 rounded bg-gray-700 border-gray-600 text-yellow-500 focus:ring-yellow-600"}),ce]},K))})]},z.id);return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"pb-6 mb-6 flex justify-between items-center border-b border-gray-800",children:[o.jsx("h1",{className:"text-2xl font-bold text-white",children:"Editor do Painel"}),o.jsxs("div",{className:"flex items-center gap-4",children:[p&&o.jsx("p",{className:"text-sm text-yellow-400",children:"Voc tem alteraes no salvas."}),o.jsx("button",{onClick:b,disabled:!p,className:"text-sm font-semibold bg-gray-700 text-white py-2 px-4 rounded-md hover:bg-gray-600 disabled:opacity-50",children:"Descartar"}),o.jsx("button",{onClick:g,disabled:!p,className:"text-sm font-bold bg-yellow-500 text-black py-2 px-4 rounded-md hover:bg-yellow-400 disabled:opacity-50",children:"Salvar Layout"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"lg:col-span-1 space-y-4",children:[o.jsx("h3",{className:"text-lg font-semibold text-white px-2",children:"Coluna Esquerda"}),M.map((z,P)=>V(z,"left",P))]}),o.jsxs("div",{className:"lg:col-span-2 space-y-4",children:[o.jsx("h3",{className:"text-lg font-semibold text-white px-2",children:"Coluna Direita"}),D.map((z,P)=>V(z,"right",P))]})]}),o.jsxs("div",{className:"relative",children:[o.jsxs("button",{onClick:()=>i(!s),className:"w-full flex items-center justify-center gap-2 text-sm font-semibold bg-gray-800 text-white py-3 px-4 rounded-lg border-2 border-dashed border-gray-700 hover:border-yellow-500 hover:text-yellow-400",children:[o.jsx(Zg,{className:"w-5 h-5"})," Adicionar Componente"]}),s&&o.jsx("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 w-72 bg-black border border-gray-700 rounded-lg shadow-lg z-10 p-2",children:E.map(z=>o.jsxs("button",{onClick:()=>N(z.type,z.column),className:"w-full text-left px-3 py-2 text-sm text-gray-300 hover:bg-gray-800 rounded-md",children:[lp[z.type]," ",o.jsxs("span",{className:"text-xs text-gray-500",children:["(",z.column==="left"?"Esquerda":"Direita",")"]})]},z.type))})]}),o.jsxs("div",{className:"bg-black border border-gray-800 rounded-lg p-6 space-y-3",children:[o.jsx("h3",{className:"text-lg font-semibold text-white",children:"Cartes de Bnus"}),n.cards.map(z=>o.jsxs("div",{className:"grid grid-cols-3 gap-3 items-center",children:[o.jsx("input",{type:"text",value:z.title,onChange:P=>T(z.id,"title",P.target.value),placeholder:"Ttulo do Carto",className:"col-span-1 w-full text-sm bg-gray-800 border-2 border-gray-700 rounded-md py-1 px-2 text-white"}),o.jsx("select",{value:z.dataKey,onChange:P=>T(z.id,"dataKey",P.target.value),className:"col-span-1 w-full text-sm bg-gray-800 border-2 border-gray-700 rounded-md py-1 px-2 text-white",children:f7.map(P=>o.jsx("option",{value:P.key,children:P.label},P.key))}),o.jsx("select",{value:z.icon,onChange:P=>T(z.id,"icon",P.target.value),className:"col-span-1 w-full text-sm bg-gray-800 border-2 border-gray-700 rounded-md py-1 px-2 text-white",children:Object.entries(u7).map(([P,{name:te}])=>o.jsx("option",{value:P,children:te},P))})]},z.id))]})]})},p7=({collections:t,products:e,onNavigate:n,onDelete:r})=>{const[s,i]=j.useState(""),c=j.useMemo(()=>t.filter(d=>d.title.toLowerCase().includes(s.toLowerCase())),[t,s]);return o.jsxs("div",{className:"bg-black border border-gray-800 rounded-lg",children:[o.jsx("div",{className:"p-4 border-b border-gray-800",children:o.jsxs("div",{className:"relative max-w-lg",children:[o.jsx("input",{type:"text",placeholder:"Buscar colees...",value:s,onChange:d=>i(d.target.value),className:"w-full bg-gray-800 border-2 border-gray-700 rounded-md py-2 px-10 text-white"}),o.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:o.jsx(tn,{className:"h-5 w-5 text-gray-400"})})]})}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-sm text-left text-gray-400",children:[o.jsx("thead",{className:"text-xs text-gray-400 uppercase bg-black",children:o.jsxs("tr",{children:[o.jsx("th",{scope:"col",className:"px-6 py-3",children:"Coleo"}),o.jsx("th",{scope:"col",className:"px-6 py-3",children:"Produtos"}),o.jsx("th",{scope:"col",className:"px-6 py-3 text-right",children:"Aes"})]})}),o.jsx("tbody",{children:c.map(d=>{const f=e.filter(h=>h.collectionId===d.id).length;return o.jsxs("tr",{className:"border-b border-gray-800 hover:bg-gray-800/50",children:[o.jsx("td",{className:"px-6 py-4",children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("img",{src:d.imageUrl,alt:d.title,className:"w-16 h-10 object-cover rounded-md bg-gray-700"}),o.jsxs("div",{children:[o.jsx("button",{onClick:()=>n("addEditCollection",d),className:"font-medium text-white hover:text-yellow-400",children:d.title}),o.jsx("p",{className:"text-xs text-gray-500",children:d.description})]})]})}),o.jsx("td",{className:"px-6 py-4",children:f}),o.jsx("td",{className:"px-6 py-4 text-right",children:o.jsxs("div",{className:"flex items-center justify-end gap-4",children:[o.jsx("button",{onClick:()=>n("addEditCollection",d),className:"text-gray-400 hover:text-yellow-400",children:o.jsx(Fu,{className:"w-5 h-5"})}),o.jsx("button",{onClick:()=>r(d.id),className:"text-gray-400 hover:text-red-500",children:o.jsx(jt,{className:"w-5 h-5"})})]})})]},d.id)})})]})})]})},g7=({collection:t,products:e,onSave:n,onCancel:r,onNavigate:s})=>{const i=!!t,[c,d]=j.useState({title:"",description:"",imageUrl:"",productIds:[],...t}),f=j.useRef(null),[h,p]=j.useState(""),g=T=>{const{name:E,value:M}=T.target;d(D=>({...D,[E]:M}))},b=T=>{d(E=>{const M=E.productIds||[];return M.includes(T)?{...E,productIds:M.filter(D=>D!==T)}:{...E,productIds:[...M,T]}})},N=T=>{if(T.preventDefault(),!c.title){alert("A coleo precisa de um ttulo.");return}n(c)},w=()=>{var T;(T=f.current)==null||T.requestSubmit()},S=e.filter(T=>T.name.toLowerCase().includes(h.toLowerCase()));return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"pb-6 mb-6 flex justify-between items-center border-b border-gray-800",children:[o.jsx("h1",{className:"text-2xl font-bold text-white",children:i?"Editar Coleo":"Criar Coleo"}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("button",{type:"button",onClick:r,className:"text-sm font-semibold bg-gray-700 text-white py-2 px-4 rounded-md hover:bg-gray-600",children:"Descartar"}),o.jsx("button",{type:"button",onClick:w,className:"text-sm font-bold bg-yellow-500 text-black py-2 px-4 rounded-md hover:bg-yellow-400",children:"Salvar"})]})]}),o.jsxs("form",{onSubmit:N,ref:f,className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[o.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[o.jsxs("div",{className:"bg-black border border-gray-800 rounded-lg p-6 space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-white mb-2",children:"Ttulo"}),o.jsx("input",{type:"text",name:"title",id:"title",value:c.title,onChange:g,className:"w-full bg-gray-800 border-2 border-gray-700 rounded-md py-2 px-3 text-white"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-white mb-2",children:"Descrio"}),o.jsx("textarea",{name:"description",id:"description",value:c.description,onChange:g,rows:4,className:"w-full bg-gray-800 border-2 border-gray-700 rounded-md py-2 px-3 text-white"})]})]}),o.jsxs("div",{className:"bg-black border border-gray-800 rounded-lg p-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Produtos na Coleo"}),o.jsx("input",{type:"text",placeholder:"Buscar produtos para adicionar...",value:h,onChange:T=>p(T.target.value),className:"w-full bg-gray-800 border-2 border-gray-700 rounded-md py-2 px-3 text-white mb-4"}),o.jsx("div",{className:"max-h-96 overflow-y-auto space-y-2 pr-2",children:S.map(T=>{var E;return o.jsxs("label",{className:"flex items-center p-2 bg-gray-800/50 rounded-md cursor-pointer hover:bg-gray-800",children:[o.jsx("input",{type:"checkbox",checked:(E=c.productIds)==null?void 0:E.includes(T.id),onChange:()=>b(T.id),className:"h-4 w-4 rounded bg-gray-700 border-gray-600 text-yellow-500 focus:ring-yellow-600"}),o.jsx("img",{src:T.images[0],alt:T.name,className:"w-10 h-10 object-cover rounded-md ml-4"}),o.jsx("span",{className:"ml-3 text-sm text-white",children:T.name})]},T.id)})})]})]}),o.jsx("div",{className:"space-y-8",children:o.jsxs("div",{className:"bg-black border border-gray-800 rounded-lg p-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Imagem da Coleo"}),o.jsx(Et,{currentImage:c.imageUrl||"",onImageUpload:T=>d(E=>({...E,imageUrl:T})),placeholderText:"Imagem da Coleo"})]})})]})]})},x7=({collection:t,products:e,onProductClick:n,onBack:r,wishlist:s,onToggleWishlist:i})=>{const[c,d]=j.useState("default"),f=e.filter(p=>t.productIds.includes(p.id)),h=j.useMemo(()=>{const p=[...f];switch(c){case"price-asc":p.sort((g,b)=>g.price-b.price);break;case"price-desc":p.sort((g,b)=>b.price-g.price);break;case"name-asc":p.sort((g,b)=>g.name.localeCompare(b.name));break}return p},[f,c]);return o.jsxs("div",{className:"bg-[rgb(var(--color-brand-dark))]",children:[o.jsxs("div",{className:"relative h-64 md:h-80 flex items-center justify-center text-center bg-cover bg-center",style:{backgroundImage:`url(${t.imageUrl})`},children:[o.jsx("div",{className:"absolute inset-0 bg-[rgb(var(--color-brand-dark))]/[.70]"}),o.jsxs("div",{className:"relative z-10 px-4",children:[o.jsx("h1",{className:"text-4xl md:text-6xl font-bold font-display text-[rgb(var(--color-brand-text-light))] drop-shadow-lg",children:t.title}),o.jsx("p",{className:"mt-4 max-w-2xl mx-auto text-lg md:text-xl text-[rgb(var(--color-brand-text-dim))]",children:t.description})]})]}),o.jsx("section",{className:"py-16 sm:py-24",children:o.jsxs("div",{className:"container mx-auto px-4",children:[o.jsxs("div",{className:"flex justify-between items-center mb-8",children:[o.jsx("button",{onClick:r,className:"text-sm text-[rgb(var(--color-brand-text-dim))] hover:text-[rgb(var(--color-brand-gold))]",children:" Voltar"}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"sort-order",className:"sr-only",children:"Ordenar por"}),o.jsxs("select",{id:"sort-order",value:c,onChange:p=>d(p.target.value),className:"bg-[rgb(var(--color-brand-gray))] border-2 border-[rgb(var(--color-brand-gray-light))] rounded-md py-2 px-3 text-[rgb(var(--color-brand-text-light))] text-sm focus:outline-none focus:border-[rgb(var(--color-brand-gold))]",children:[o.jsx("option",{value:"default",children:"Padro"}),o.jsx("option",{value:"price-asc",children:"Preo: Menor para Maior"}),o.jsx("option",{value:"price-desc",children:"Preo: Maior para Menor"}),o.jsx("option",{value:"name-asc",children:"Nome: A-Z"})]})]})]}),h.length>0?o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8",children:h.map(p=>o.jsx(ea,{product:p,onClick:()=>n(p),wishlist:s,onToggleWishlist:i},p.id))}):o.jsx("p",{className:"text-center text-[rgb(var(--color-brand-text-dim))]",children:"Nenhum produto encontrado nesta coleo."})]})})]})},b7=({customers:t,onLoginSuccess:e,onBackToHome:n,onNavigateToRegister:r,onNavigateToForgotPassword:s})=>{const[i,c]=j.useState("rsprolipsioficial@gmail.com"),[d,f]=j.useState("Yannis784512@"),[h,p]=j.useState(""),[g,b]=j.useState(!1),N=w=>{w.preventDefault(),p("");const S=t.find(T=>T.email.toLowerCase()===i.toLowerCase());S&&S.passwordHash===d?e(S):p("E-mail ou senha invlidos.")};return o.jsx("div",{className:"flex items-center justify-center min-h-screen bg-black py-12",children:o.jsxs("div",{className:"w-full max-w-md p-8 space-y-8 bg-black border-2 border-yellow-600/30 rounded-lg shadow-2xl",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-3xl font-bold text-center font-display text-yellow-400",children:"Login"}),o.jsx("p",{className:"mt-2 text-center text-gray-400",children:"Acesse sua conta para ver seus pedidos."})]}),o.jsxs("form",{className:"mt-8 space-y-6",onSubmit:N,children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"email-address",className:"sr-only",children:"E-mail"}),o.jsx("input",{id:"email-address",name:"email",type:"email",autoComplete:"email",required:!0,value:i,onChange:w=>c(w.target.value),className:"appearance-none relative block w-full px-3 py-3 border-2 border-slate-700 bg-slate-800 text-white placeholder-gray-400 rounded-md focus:outline-none focus:ring-amber-500 focus:border-amber-500 sm:text-sm",placeholder:"E-mail"})]}),o.jsxs("div",{className:"relative",children:[o.jsx("label",{htmlFor:"password",className:"sr-only",children:"Senha"}),o.jsx("input",{id:"password",name:"password",type:g?"text":"password",autoComplete:"current-password",required:!0,value:d,onChange:w=>f(w.target.value),className:"appearance-none relative block w-full px-3 py-3 border-2 border-slate-700 bg-slate-800 text-white placeholder-gray-400 rounded-md focus:outline-none focus:ring-amber-500 focus:border-amber-500 sm:text-sm pr-10",placeholder:"Senha"}),o.jsx("button",{type:"button",onClick:()=>b(!g),className:"absolute inset-y-0 right-0 px-3 flex items-center text-gray-400 hover:text-yellow-400","aria-label":g?"Esconder senha":"Mostrar senha",children:g?o.jsx(ii,{className:"h-5 w-5"}):o.jsx(lo,{className:"h-5 w-5"})})]})]}),h&&o.jsx("p",{className:"text-red-500 text-sm text-center !mt-4",children:h}),o.jsx("div",{className:"text-right",children:o.jsx("button",{onClick:s,type:"button",className:"text-sm font-medium text-yellow-500 hover:text-yellow-400",children:"Esqueceu sua senha?"})}),o.jsx("div",{children:o.jsx("button",{type:"submit",className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-bold rounded-md text-black bg-amber-500 hover:bg-amber-400 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-900 focus:ring-amber-500 transition-colors mt-2",children:"Entrar"})})]}),o.jsxs("div",{className:"text-center space-y-2",children:[o.jsxs("p",{className:"text-sm text-gray-400",children:["No tem uma conta?"," ",o.jsx("button",{onClick:r,className:"font-medium text-yellow-500 hover:text-yellow-400",children:"Cadastre-se"})]}),o.jsx("button",{onClick:n,className:"font-medium text-sm text-yellow-500 hover:text-yellow-400",children:"Voltar para a loja"})]})]})})},y7=({onRegister:t,onBackToHome:e,onNavigateToLogin:n,existingCustomers:r})=>{const[s,i]=j.useState({name:"",email:"",password:"",confirmPassword:""}),[c,d]=j.useState(""),[f,h]=j.useState(!1),[p,g]=j.useState(!1),b=w=>{const{name:S,value:T}=w.target;i(E=>({...E,[S]:T}))},N=w=>{if(w.preventDefault(),d(""),!s.name.trim()||!s.email.trim()||!s.password){d("Por favor, preencha todos os campos.");return}if(s.password!==s.confirmPassword){d("As senhas no coincidem.");return}if(r.some(S=>S.email.toLowerCase()===s.email.toLowerCase())){d("Este e-mail j est em uso.");return}t({name:s.name,email:s.email,passwordHash:s.password})};return o.jsx("div",{className:"flex items-center justify-center min-h-screen bg-black py-12",children:o.jsxs("div",{className:"w-full max-w-md p-8 space-y-8 bg-black border-2 border-yellow-600/30 rounded-lg shadow-2xl",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-3xl font-bold text-center font-display text-yellow-400",children:"Criar Conta"}),o.jsx("p",{className:"mt-2 text-center text-gray-400",children:"Crie sua conta para uma experincia de compra mais rpida."})]}),o.jsxs("form",{className:"mt-8 space-y-6",onSubmit:N,children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"name",className:"sr-only",children:"Nome Completo"}),o.jsx("input",{id:"name",name:"name",type:"text",required:!0,value:s.name,onChange:b,className:"appearance-none relative block w-full px-3 py-3 border-2 border-slate-700 bg-slate-800 text-white placeholder-gray-400 rounded-md focus:outline-none focus:ring-amber-500 focus:border-amber-500 sm:text-sm",placeholder:"Nome Completo"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"email-address",className:"sr-only",children:"E-mail"}),o.jsx("input",{id:"email-address",name:"email",type:"email",autoComplete:"email",required:!0,value:s.email,onChange:b,className:"appearance-none relative block w-full px-3 py-3 border-2 border-slate-700 bg-slate-800 text-white placeholder-gray-400 rounded-md focus:outline-none focus:ring-amber-500 focus:border-amber-500 sm:text-sm",placeholder:"E-mail"})]}),o.jsxs("div",{className:"relative",children:[o.jsx("label",{htmlFor:"password",className:"sr-only",children:"Senha"}),o.jsx("input",{id:"password",name:"password",type:f?"text":"password",required:!0,value:s.password,onChange:b,className:"appearance-none relative block w-full px-3 py-3 border-2 border-slate-700 bg-slate-800 text-white placeholder-gray-400 rounded-md focus:outline-none focus:ring-amber-500 focus:border-amber-500 sm:text-sm pr-10",placeholder:"Senha"}),o.jsx("button",{type:"button",onClick:()=>h(!f),className:"absolute inset-y-0 right-0 px-3 flex items-center text-gray-400",children:o.jsx(lo,{className:"h-5 w-5"})})]}),o.jsxs("div",{className:"relative",children:[o.jsx("label",{htmlFor:"confirmPassword",className:"sr-only",children:"Confirmar Senha"}),o.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:p?"text":"password",required:!0,value:s.confirmPassword,onChange:b,className:"appearance-none relative block w-full px-3 py-3 border-2 border-slate-700 bg-slate-800 text-white placeholder-gray-400 rounded-md focus:outline-none focus:ring-amber-500 focus:border-amber-500 sm:text-sm pr-10",placeholder:"Confirmar Senha"}),o.jsx("button",{type:"button",onClick:()=>g(!p),className:"absolute inset-y-0 right-0 px-3 flex items-center text-gray-400",children:o.jsx(lo,{className:"h-5 w-5"})})]})]}),c&&o.jsx("p",{className:"text-red-500 text-sm text-center !mt-4",children:c}),o.jsx("div",{children:o.jsx("button",{type:"submit",className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-bold rounded-md text-black bg-amber-500 hover:bg-amber-400 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-900 focus:ring-amber-500 transition-colors mt-6",children:"Cadastrar"})})]}),o.jsxs("div",{className:"text-center space-y-2",children:[o.jsxs("p",{className:"text-sm text-gray-400",children:["J tem uma conta?"," ",o.jsx("button",{onClick:n,className:"font-medium text-yellow-500 hover:text-yellow-400",children:"Entrar"})]}),o.jsx("button",{onClick:e,className:"font-medium text-sm text-yellow-500 hover:text-yellow-400",children:"Voltar para a loja"})]})]})})},v7=({status:t})=>{const e="px-2 py-1 text-xs font-semibold rounded-full inline-flex items-center",n={Pago:"bg-green-500/20 text-green-300",Pendente:"bg-yellow-500/20 text-yellow-300",Reembolsado:"bg-gray-500/20 text-gray-300","Parcialmente Pago":"bg-cyan-500/20 text-cyan-300",Cancelado:"bg-red-500/20 text-red-300"};return o.jsx("span",{className:`${e} ${n[t]}`,children:t})},N7=({status:t})=>{const e="px-2 py-1 text-xs font-semibold rounded-full inline-flex items-center",n={Realizado:"bg-green-500/20 text-green-300","No Realizado":"bg-orange-500/20 text-orange-300",Parcial:"bg-purple-500/20 text-purple-300"};return o.jsx("span",{className:`${e} ${n[t]}`,children:t})},C7=({customer:t,orders:e,onNavigate:n})=>{const r=e.filter(f=>f.customerId===t.id).sort((f,h)=>new Date(h.date).getTime()-new Date(f.date).getTime()),[s,i]=j.useState("orders"),c=()=>o.jsxs("div",{className:"bg-gray-900 p-6 rounded-lg",children:[o.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Histrico de Pedidos"}),r.length>0?o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-sm text-left text-gray-400",children:[o.jsx("thead",{className:"text-xs text-gray-400 uppercase bg-black/30",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-4 py-3",children:"Pedido"}),o.jsx("th",{className:"px-4 py-3",children:"Data"}),o.jsx("th",{className:"px-4 py-3 text-right",children:"Total"}),o.jsx("th",{className:"px-4 py-3",children:"Pagamento"}),o.jsx("th",{className:"px-4 py-3",children:"Status"})]})}),o.jsx("tbody",{className:"divide-y divide-gray-800",children:r.map(f=>o.jsxs("tr",{className:"hover:bg-gray-800/50",children:[o.jsx("td",{className:"px-4 py-3 font-medium text-yellow-400",children:f.id}),o.jsx("td",{className:"px-4 py-3",children:new Date(f.date).toLocaleDateString("pt-BR")}),o.jsx("td",{className:"px-4 py-3 text-right",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(f.total)}),o.jsx("td",{className:"px-4 py-3",children:o.jsx(v7,{status:f.paymentStatus})}),o.jsx("td",{className:"px-4 py-3",children:o.jsx(N7,{status:f.fulfillmentStatus})})]},f.id))})]})}):o.jsx("p",{children:"Voc ainda no fez nenhum pedido."})]}),d=()=>o.jsxs("div",{className:"bg-gray-900 p-6 rounded-lg",children:[o.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Meus Dados"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-sm text-gray-400",children:"Nome Completo"}),o.jsx("p",{className:"text-white p-2 bg-gray-800 rounded-md mt-1",children:t.name})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm text-gray-400",children:"E-mail"}),o.jsx("p",{className:"text-white p-2 bg-gray-800 rounded-md mt-1",children:t.email})]}),o.jsx("button",{className:"text-sm font-semibold bg-gray-700 text-white py-2 px-4 rounded-md hover:bg-gray-600",children:"Alterar Senha"})]})]});return o.jsxs("div",{className:"container mx-auto px-4 py-12",children:[o.jsx("h1",{className:"text-3xl md:text-4xl font-bold font-display text-white mb-8",children:"Minha Conta"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[o.jsx("aside",{className:"md:col-span-1",children:o.jsxs("div",{className:"bg-gray-900 p-4 rounded-lg sticky top-24",children:[o.jsxs("div",{className:"text-center mb-4",children:[o.jsx(Bn,{className:"w-16 h-16 mx-auto text-yellow-400 bg-gray-800 p-3 rounded-full"}),o.jsx("h2",{className:"mt-2 text-xl font-bold text-white truncate",children:t.name}),o.jsx("p",{className:"text-sm text-gray-400 truncate",children:t.email})]}),o.jsxs("nav",{className:"space-y-2",children:[o.jsxs("button",{onClick:()=>i("orders"),className:`w-full flex items-center gap-3 text-left p-3 rounded-lg font-semibold transition-colors ${s==="orders"?"bg-yellow-500/10 text-yellow-400":"text-gray-300 hover:bg-gray-800"}`,children:[o.jsx(Vu,{className:"w-5 h-5"}),"Histrico de Pedidos"]}),o.jsxs("button",{onClick:()=>i("profile"),className:`w-full flex items-center gap-3 text-left p-3 rounded-lg font-semibold transition-colors ${s==="profile"?"bg-yellow-500/10 text-yellow-400":"text-gray-300 hover:bg-gray-800"}`,children:[o.jsx(Bn,{className:"w-5 h-5"}),"Meus Dados"]})]})]})}),o.jsxs("main",{className:"md:col-span-3",children:[s==="orders"&&c(),s==="profile"&&d()]})]})]})},w7=({onForgotPasswordRequest:t,onBackToLogin:e})=>{const[n,r]=j.useState(""),[s,i]=j.useState(!1),c=d=>{d.preventDefault(),n.trim()&&(t(n),i(!0))};return o.jsx("div",{className:"flex items-center justify-center min-h-screen bg-black py-12",children:o.jsxs("div",{className:"w-full max-w-md p-8 space-y-8 bg-black border-2 border-yellow-600/30 rounded-lg shadow-2xl",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-3xl font-bold text-center font-display text-yellow-400",children:"Recuperar Senha"}),o.jsx("p",{className:"mt-2 text-center text-gray-400",children:s?"Verifique sua caixa de entrada.":"Insira seu e-mail para receber o link de recuperao."})]}),s?o.jsxs("div",{className:"text-center space-y-6",children:[o.jsx("p",{className:"text-gray-300",children:"Se uma conta com este e-mail existir em nosso sistema, um link para redefinio de senha foi enviado."}),o.jsx("button",{onClick:e,className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-bold rounded-md text-black bg-amber-500 hover:bg-amber-400 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-900 focus:ring-amber-500 transition-colors",children:"Voltar para o Login"})]}):o.jsxs("form",{className:"mt-8 space-y-6",onSubmit:c,children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"email-address",className:"sr-only",children:"E-mail"}),o.jsx("input",{id:"email-address",name:"email",type:"email",autoComplete:"email",required:!0,value:n,onChange:d=>r(d.target.value),className:"appearance-none relative block w-full px-3 py-3 border-2 border-slate-700 bg-slate-800 text-white placeholder-gray-400 rounded-md focus:outline-none focus:ring-amber-500 focus:border-amber-500 sm:text-sm",placeholder:"E-mail"})]}),o.jsx("div",{children:o.jsx("button",{type:"submit",className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-bold rounded-md text-black bg-amber-500 hover:bg-amber-400 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-900 focus:ring-amber-500 transition-colors",children:"Enviar Link de Recuperao"})}),o.jsx("div",{className:"text-center",children:o.jsx("button",{onClick:e,type:"button",className:"font-medium text-sm text-yellow-500 hover:text-yellow-400",children:"Voltar para o Login"})})]})]})})},S7=({onProductClick:t,products:e,orders:n,wishlist:r,onToggleWishlist:s})=>{const i=new Map;n.forEach(f=>{f.paymentStatus==="Pago"&&f.items.forEach(h=>{i.set(h.productId,(i.get(h.productId)||0)+h.quantity)})});const d=Array.from(i.entries()).sort((f,h)=>h[1]-f[1]).map(f=>f[0]).map(f=>e.find(h=>h.id===f&&h.status==="Ativo")).filter(f=>!!f).slice(0,4);if(d.length===0){const f=[...e].filter(h=>h.status==="Ativo").sort((h,p)=>p.reviewCount-h.reviewCount).slice(0,4);return f.length===0?null:o.jsx("section",{id:"bestsellers",className:"py-16 sm:py-24 bg-black",children:o.jsxs("div",{className:"container mx-auto px-4",children:[o.jsxs("div",{className:"text-center mb-12",children:[o.jsx("h2",{className:"text-3xl md:text-4xl font-bold font-display text-white",children:"Populares"}),o.jsx("p",{className:"mt-4 max-w-2xl mx-auto text-lg text-gray-400",children:"Conhea os favoritos dos nossos clientes e as tendncias do momento."})]}),o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8",children:f.map(h=>o.jsx(ea,{product:h,onClick:()=>t(h),wishlist:r,onToggleWishlist:s},h.id))})]})})}return o.jsx("section",{id:"bestsellers",className:"py-16 sm:py-24 bg-black",children:o.jsxs("div",{className:"container mx-auto px-4",children:[o.jsxs("div",{className:"text-center mb-12",children:[o.jsx("h2",{className:"text-3xl md:text-4xl font-bold font-display text-white",children:"Mais Vendidos"}),o.jsx("p",{className:"mt-4 max-w-2xl mx-auto text-lg text-gray-400",children:"Conhea os favoritos dos nossos clientes e as tendncias do momento."})]}),o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8",children:d.map(f=>o.jsx(ea,{product:f,onClick:()=>t(f),wishlist:r,onToggleWishlist:s},f.id))})]})})},T7=t=>o.jsx("svg",{...t,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5M16.5 12L12 16.5m0 0L7.5 12m4.5 4.5V3"})}),k7=({product:t,onImport:e,onEdit:n})=>o.jsxs("div",{className:"bg-[rgb(var(--color-brand-gray))]/[.50] border border-[rgb(var(--color-brand-gray-light))] rounded-lg overflow-hidden group flex flex-col",children:[o.jsxs("div",{className:"relative",children:[o.jsx("img",{src:t.images[0],alt:t.name,className:"w-full h-48 object-cover"}),o.jsx("div",{className:"absolute top-2 right-2 bg-[rgb(var(--color-brand-dark))]/[.50] text-[rgb(var(--color-brand-text-light))] text-xs px-2 py-1 rounded-full",children:t.supplier})]}),o.jsxs("div",{className:"p-4 flex flex-col flex-grow",children:[o.jsx("h3",{className:"text-md font-bold text-[rgb(var(--color-brand-text-light))] truncate group-hover:text-[rgb(var(--color-brand-gold))] flex-grow",children:t.name}),o.jsxs("div",{className:"mt-2 flex justify-between items-baseline",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-[rgb(var(--color-brand-text-dim))]",children:"Custo"}),o.jsx("p",{className:"text-lg font-semibold text-[rgb(var(--color-brand-text-dim))]",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(t.costPrice)})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-[rgb(var(--color-brand-text-dim))]",children:"Venda Sugerida"}),o.jsx("p",{className:"text-lg font-bold text-[rgb(var(--color-brand-gold))]",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(t.suggestedRetailPrice)})]})]}),o.jsxs("div",{className:"mt-4 space-y-2",children:[o.jsx("button",{onClick:()=>n(t),className:"w-full text-sm font-bold bg-[rgb(var(--color-brand-gold))] text-[rgb(var(--color-brand-dark))] py-2 px-4 rounded-md hover:bg-yellow-400 transition-colors",children:"Editar e Importar"}),o.jsxs("button",{onClick:()=>e(t),className:"w-full flex items-center justify-center gap-2 text-sm font-semibold bg-[rgb(var(--color-brand-gray))] text-[rgb(var(--color-brand-text-light))] py-2 px-4 rounded-md hover:bg-[rgb(var(--color-brand-gray-light))] transition-colors",children:[o.jsx(T7,{className:"w-5 h-5"}),"Importao Rpida"]})]})]})]}),E7=({products:t,onImport:e,onEdit:n,onNavigate:r})=>{const[s,i]=j.useState(""),c=j.useMemo(()=>t.filter(d=>d.name.toLowerCase().includes(s.toLowerCase())),[t,s]);return o.jsxs("div",{children:[o.jsx("div",{className:"mb-6",children:o.jsxs("div",{className:"relative flex-grow max-w-lg",children:[o.jsx("input",{type:"text",placeholder:"Buscar produtos no catlogo...",value:s,onChange:d=>i(d.target.value),className:"w-full bg-[rgb(var(--color-brand-dark))] border-2 border-[rgb(var(--color-brand-gray-light))] rounded-md py-2 pl-10 pr-4 text-[rgb(var(--color-brand-text-light))]"}),o.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:o.jsx(tn,{className:"h-5 w-5 text-[rgb(var(--color-brand-text-dim))]"})})]})}),o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-6",children:c.map(d=>o.jsx(k7,{product:d,onImport:e,onEdit:n},d.id))})]})},A7=({affiliates:t,onNavigate:e})=>{const[n,r]=j.useState(""),s=j.useMemo(()=>t.filter(i=>i.name.toLowerCase().includes(n.toLowerCase())||i.email.toLowerCase().includes(n.toLowerCase())),[t,n]);return o.jsxs("div",{className:"bg-[rgb(var(--color-brand-dark))] border border-[rgb(var(--color-brand-gray-light))] rounded-lg",children:[o.jsx("div",{className:"p-4 border-b border-[rgb(var(--color-brand-gray-light))]",children:o.jsxs("div",{className:"relative max-w-lg",children:[o.jsx("input",{type:"text",placeholder:"Buscar por nome ou e-mail do afiliado...",value:n,onChange:i=>r(i.target.value),className:"w-full bg-[rgb(var(--color-brand-gray))] border-2 border-[rgb(var(--color-brand-gray-light))] rounded-md py-2 pl-10 pr-4 text-[rgb(var(--color-brand-text-light))] placeholder-[rgb(var(--color-brand-text-dim))] focus:outline-none focus:border-[rgb(var(--color-brand-gold))]"}),o.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:o.jsx(tn,{className:"h-5 w-5 text-[rgb(var(--color-brand-text-dim))]"})})]})}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-sm text-left text-[rgb(var(--color-brand-text-dim))]",children:[o.jsx("thead",{className:"text-xs text-[rgb(var(--color-brand-text-dim))] uppercase bg-[rgb(var(--color-brand-dark))]",children:o.jsxs("tr",{children:[o.jsx("th",{scope:"col",className:"px-6 py-3",children:"Afiliado"}),o.jsx("th",{scope:"col",className:"px-6 py-3 text-center",children:"Comisso"}),o.jsx("th",{scope:"col",className:"px-6 py-3 text-right",children:"Vendas Totais"}),o.jsx("th",{scope:"col",className:"px-6 py-3 text-right",children:"Ganhos Totais"}),o.jsx("th",{scope:"col",className:"px-6 py-3 text-right",children:"Saldo a Pagar"})]})}),o.jsx("tbody",{children:s.map(i=>{const c=i.totalEarnings-i.paidOut;return o.jsxs("tr",{className:"border-b border-[rgb(var(--color-brand-gray-light))] hover:bg-[rgb(var(--color-brand-gray))]/[.50]",children:[o.jsxs("td",{className:"px-6 py-4",children:[o.jsx("p",{className:"font-medium text-[rgb(var(--color-brand-text-light))]",children:i.name}),o.jsx("p",{className:"text-xs text-[rgb(var(--color-brand-text-dim))]",children:i.email})]}),o.jsxs("td",{className:"px-6 py-4 text-center text-lg font-bold text-[rgb(var(--color-brand-text-light))]",children:[i.commissionRate,"%"]}),o.jsx("td",{className:"px-6 py-4 text-right",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(i.totalSales)}),o.jsx("td",{className:"px-6 py-4 text-right text-[rgb(var(--color-success))]",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(i.totalEarnings)}),o.jsx("td",{className:"px-6 py-4 text-right text-[rgb(var(--color-brand-gold))] font-bold",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(c)})]},i.id)})})]})})]})},j7=t=>o.jsx("svg",{...t,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5m-13.5-9L12 3m0 0l4.5 4.5M12 3v13.5"})}),M7=t=>t.flatMap(e=>e.items.map(n=>({...n,orderId:e.id,date:e.date,customerName:e.customerName,paymentStatus:e.paymentStatus}))).sort((e,n)=>new Date(n.date).getTime()-new Date(e.date).getTime()),R7=({orders:t,onNavigate:e})=>{const[n,r]=j.useState(""),s=j.useMemo(()=>M7(t),[t]),i=j.useMemo(()=>s.filter(d=>d.productName.toLowerCase().includes(n.toLowerCase())||d.orderId.toLowerCase().includes(n.toLowerCase())||d.sku&&d.sku.toLowerCase().includes(n.toLowerCase())),[s,n]),c=()=>{const d=["Produto","Data","Pedido","Qtd.","Preo Unit.","Total"],f=i.map(b=>[`"${b.productName.replace(/"/g,'""')}"`,new Date(b.date).toLocaleDateString("pt-BR"),b.orderId,b.quantity,b.price,b.price*b.quantity]);let h="data:text/csv;charset=utf-8,"+d.join(",")+`
`+f.map(b=>b.join(",")).join(`
`);const p=encodeURI(h),g=document.createElement("a");g.setAttribute("href",p),g.setAttribute("download","relatorio_de_vendas.csv"),document.body.appendChild(g),g.click(),document.body.removeChild(g)};return o.jsxs("div",{className:"bg-black border border-gray-800 rounded-lg",children:[o.jsxs("div",{className:"p-4 border-b border-gray-800",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h2",{className:"text-xl font-bold text-white",children:"Relatrio de Vendas de Produtos"}),o.jsxs("button",{onClick:c,className:"flex items-center gap-2 text-sm font-semibold bg-gray-700 text-white py-2 px-4 rounded-md hover:bg-gray-600",children:[o.jsx(j7,{className:"w-5 h-5"}),"Exportar para CSV"]})]}),o.jsxs("div",{className:"relative max-w-lg",children:[o.jsx("input",{type:"text",placeholder:"Buscar por produto, pedido ou SKU",value:n,onChange:d=>r(d.target.value),className:"w-full bg-gray-800 border-2 border-gray-700 rounded-md py-2 pl-10 pr-4"}),o.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:o.jsx(tn,{className:"h-5 w-5 text-gray-400"})})]})]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-sm text-left text-gray-400",children:[o.jsx("thead",{className:"text-xs text-gray-400 uppercase bg-black",children:o.jsxs("tr",{children:[o.jsx("th",{scope:"col",className:"px-6 py-3",children:"Produto"}),o.jsx("th",{scope:"col",className:"px-6 py-3",children:"Data"}),o.jsx("th",{scope:"col",className:"px-6 py-3",children:"Pedido"}),o.jsx("th",{scope:"col",className:"px-6 py-3 text-center",children:"Qtd."}),o.jsx("th",{scope:"col",className:"px-6 py-3 text-right",children:"Preo Unit."}),o.jsx("th",{scope:"col",className:"px-6 py-3 text-right",children:"Total"})]})}),o.jsx("tbody",{children:i.map((d,f)=>{const h=t.find(p=>p.id===d.orderId);return o.jsxs("tr",{className:"border-b border-gray-800 hover:bg-gray-800/50",children:[o.jsxs("td",{className:"px-6 py-4",children:[o.jsx("p",{className:"font-medium text-white",children:d.productName}),o.jsx("p",{className:"text-xs text-gray-500 font-mono",children:d.sku||"N/A"})]}),o.jsx("td",{className:"px-6 py-4",children:new Date(d.date).toLocaleDateString("pt-BR")}),o.jsx("td",{className:"px-6 py-4 font-mono",children:o.jsx("button",{onClick:()=>h&&e("orderDetail",h),className:"text-yellow-400 hover:underline disabled:text-gray-500 disabled:no-underline",disabled:!h,children:d.orderId})}),o.jsx("td",{className:"px-6 py-4 text-center",children:d.quantity}),o.jsx("td",{className:"px-6 py-4 text-right",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(d.price)}),o.jsx("td",{className:"px-6 py-4 text-right font-semibold text-white",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(d.price*d.quantity)})]},`${d.orderId}-${d.productId}-${f}`)})})]})})]})},uS=t=>o.jsx("svg",{...t,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 19.5l15-15m0 0H8.25m11.25 0v11.25"})}),I7=t=>o.jsx("svg",{...t,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 4.5l-15 15m0 0h11.25m-11.25 0V8.25"})}),cp=({title:t,value:e,icon:n,onClick:r})=>o.jsx("button",{onClick:r,className:"bg-black border border-gray-800 rounded-lg p-6 text-left w-full hover:bg-gray-800/50 hover:border-yellow-600/50 transition-all duration-200 disabled:cursor-default disabled:hover:bg-black disabled:hover:border-gray-800",disabled:!r,children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(n,{className:"w-8 h-8 text-yellow-400"}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-gray-400",children:t}),o.jsx("p",{className:"text-2xl font-bold text-white",children:e})]})]})}),D7=({orders:t,onNavigate:e})=>{const n=t.filter(c=>c.paymentStatus==="Pago").reduce((c,d)=>c+d.total,0),r=n*.85,s=1250.75,i=[...t.filter(c=>c.paymentStatus==="Pago").slice(0,2).map(c=>({id:c.id,type:"Venda",amount:c.total,date:new Date(c.date).toLocaleDateString("pt-BR"),description:c.id,order:c})),{id:"transfer-1",type:"Transferncia",amount:-2500,date:"27/07/2024",description:"PIX para Banco X",order:null}].sort((c,d)=>{var f,h;return new Date(((f=d.order)==null?void 0:f.date)||"2024-07-27").getTime()-new Date(((h=c.order)==null?void 0:h.date)||"2024-07-28").getTime()});return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[o.jsx(cp,{title:"Saldo Disponvel",value:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(r),icon:pi,onClick:()=>e("walletTransfers")}),o.jsx(cp,{title:"Total de Vendas (Pago)",value:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(n),icon:rg,onClick:()=>e("walletReports")}),o.jsx(cp,{title:"Transferncias Pendentes",value:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(s),icon:ia,onClick:()=>e("walletTransfers")})]}),o.jsxs("div",{className:"bg-black border border-gray-800 rounded-lg p-6",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h3",{className:"text-lg font-semibold text-white",children:"Transaes Recentes"}),o.jsx("button",{onClick:()=>e("walletReports"),className:"text-sm font-semibold text-yellow-400 hover:underline",children:"Ver Extrato Completo"})]}),o.jsx("div",{className:"space-y-2",children:i.map(c=>o.jsxs("button",{onClick:()=>c.order&&e("orderDetail",c.order),disabled:!c.order,className:"w-full flex items-center justify-between p-3 bg-gray-800/50 rounded-md text-left hover:bg-gray-800 transition-colors disabled:cursor-default disabled:hover:bg-gray-800/50",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[c.amount>0?o.jsx(I7,{className:"w-6 h-6 text-green-400 bg-green-500/10 p-1 rounded-full"}):o.jsx(uS,{className:"w-6 h-6 text-red-400 bg-red-500/10 p-1 rounded-full"}),o.jsxs("div",{children:[o.jsx("p",{className:"font-semibold text-white",children:c.type}),o.jsx("p",{className:"text-xs text-gray-500",children:c.description})]})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("p",{className:`font-semibold ${c.amount>0?"text-green-400":"text-red-400"}`,children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(c.amount)}),o.jsx("p",{className:"text-xs text-gray-500",children:c.date})]})]},c.id))})]})]})},_7=[{id:"TR-001",date:"2024-07-27T10:00:00Z",amount:2500,status:"Concluda",destination:"PIX: a1b2...cdef"},{id:"TR-002",date:"2024-07-20T15:30:00Z",amount:1850.5,status:"Concluda",destination:"PIX: a1b2...cdef"},{id:"TR-003",date:"2024-07-29T09:00:00Z",amount:1250.75,status:"Pendente",destination:"PIX: a1b2...cdef"}].sort((t,e)=>new Date(e.date).getTime()-new Date(t.date).getTime()),dp=({title:t,value:e,icon:n})=>o.jsx("div",{className:"bg-black border border-gray-800 rounded-lg p-6",children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(n,{className:"w-8 h-8 text-yellow-400"}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-gray-400",children:t}),o.jsx("p",{className:"text-2xl font-bold text-white",children:e})]})]})}),P7=({orders:t,products:e,onNavigate:n})=>{const r=j.useMemo(()=>t.filter(d=>d.paymentStatus==="Pago").flatMap(d=>d.items.map((f,h)=>{const p=e.find(w=>w.id===f.productId),g=(p==null?void 0:p.type)==="Dropshipping",b=g?.15:.1,N=g?"Comisso Dropshipping":"Bnus Afiliado";return{id:`${d.id}-item-${h}`,type:N,date:d.date,orderId:d.id,productName:f.productName,customerName:d.customerName,amount:f.price*f.quantity*b,order:d}})).sort((d,f)=>new Date(f.date).getTime()-new Date(d.date).getTime()),[t,e]),s=r.filter(d=>d.type==="Comisso Dropshipping").reduce((d,f)=>d+f.amount,0),i=r.filter(d=>d.type==="Bnus Afiliado").reduce((d,f)=>d+f.amount,0),c=s+i;return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[o.jsx(dp,{title:"Saldo Acumulado Total",value:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(c),icon:pi}),o.jsx(dp,{title:"Saldo Dropshipping",value:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(s),icon:Ql}),o.jsx(dp,{title:"Bnus de Afiliado",value:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(i),icon:eg})]}),o.jsxs("div",{className:"bg-black border border-gray-800 rounded-lg",children:[o.jsx("h3",{className:"text-lg font-semibold text-white p-4 border-b border-gray-800",children:"Origem dos Saldos"}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-sm text-left text-gray-400",children:[o.jsx("thead",{className:"text-xs text-gray-400 uppercase bg-black",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3",children:"Data"}),o.jsx("th",{className:"px-6 py-3",children:"Tipo"}),o.jsx("th",{className:"px-6 py-3",children:"Origem (Produto / Pedido)"}),o.jsx("th",{className:"px-6 py-3",children:"Cliente"}),o.jsx("th",{className:"px-6 py-3 text-right",children:"Valor da Comisso"})]})}),o.jsx("tbody",{children:r.map(d=>o.jsxs("tr",{className:"border-b border-gray-800 hover:bg-gray-800/50",children:[o.jsx("td",{className:"px-6 py-4",children:new Date(d.date).toLocaleDateString("pt-BR")}),o.jsx("td",{className:"px-6 py-4",children:d.type}),o.jsxs("td",{className:"px-6 py-4",children:[o.jsx("p",{className:"font-medium text-white",children:d.productName}),o.jsx("button",{onClick:()=>n("orderDetail",d.order),className:"text-xs text-yellow-400 hover:underline",children:d.orderId})]}),o.jsx("td",{className:"px-6 py-4",children:d.customerName}),o.jsx("td",{className:"px-6 py-4 text-right font-semibold text-green-400",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(d.amount)})]},d.id))})]})})]})]})},L7=({onNavigate:t,paymentSettings:e})=>{const[n,r]=j.useState(""),[s,i]=j.useState(""),c=j.useMemo(()=>{const f=[];return e.pix.enabled&&e.pix.pixKey&&f.push({label:`PIX (${e.pix.pixKeyType}): ${e.pix.pixKey}`,value:e.pix.pixKey}),e.pagSeguro.enabled&&e.pagSeguro.email&&f.push({label:`PagSeguro (E-mail): ${e.pagSeguro.email}`,value:e.pagSeguro.email}),f},[e]);j.useEffect(()=>{c.length>0&&!s&&i(c[0].value)},[c,s]);const d=()=>{if(!n||Number(n)<=0){alert("Por favor, insira um valor vlido para a transferncia.");return}if(!s){alert("Por favor, selecione uma chave de destino.");return}alert(`Solicitao de transferncia de ${new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(Number(n))} para "${s}" enviada com sucesso!`),r("")};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"bg-black border border-gray-800 rounded-lg p-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Solicitar Transferncia"}),o.jsxs("div",{className:"space-y-4",children:[c.length>0?o.jsxs("div",{children:[o.jsx("label",{htmlFor:"destination",className:"block text-sm font-medium text-gray-400 mb-2",children:"Chave de Destino"}),o.jsx("select",{id:"destination",value:s,onChange:f=>i(f.target.value),className:"w-full bg-gray-800 border-2 border-gray-700 rounded-md py-2 px-3 text-white focus:outline-none focus:border-yellow-500",children:c.map(f=>o.jsx("option",{value:f.value,children:f.label},f.value))})]}):o.jsxs("div",{className:"text-center p-4 bg-gray-800/50 rounded-md border border-dashed border-gray-700",children:[o.jsx("p",{className:"text-gray-400",children:"Nenhuma chave de transferncia configurada."}),o.jsx("button",{onClick:()=>t("walletSettings"),className:"text-sm font-semibold text-yellow-500 hover:underline mt-2",children:"Configurar chaves de pagamento"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"amount",className:"block text-sm font-medium text-gray-400 mb-2",children:"Valor"}),o.jsx("input",{type:"number",id:"amount",value:n,onChange:f=>r(f.target.value),placeholder:"R$ 0,00",className:"w-full bg-gray-800 border-2 border-gray-700 rounded-md py-2 px-3 text-white",disabled:c.length===0})]}),o.jsx("div",{className:"text-right",children:o.jsx("button",{onClick:d,className:"font-bold bg-yellow-500 text-black py-2 px-6 rounded-md hover:bg-yellow-400 disabled:opacity-50 disabled:cursor-not-allowed",disabled:c.length===0,children:"Solicitar"})})]})]}),o.jsxs("div",{className:"bg-black border border-gray-800 rounded-lg",children:[o.jsx("h3",{className:"text-lg font-semibold text-white p-4 border-b border-gray-800",children:"Histrico de Transferncias"}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-sm text-left text-gray-400",children:[o.jsx("thead",{className:"text-xs text-gray-400 uppercase bg-black",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3",children:"Data"}),o.jsx("th",{className:"px-6 py-3",children:"Destino"}),o.jsx("th",{className:"px-6 py-3",children:"Status"}),o.jsx("th",{className:"px-6 py-3 text-right",children:"Valor"})]})}),o.jsx("tbody",{children:_7.map(f=>o.jsxs("tr",{className:"border-b border-gray-800",children:[o.jsx("td",{className:"px-6 py-4",children:new Date(f.date).toLocaleString("pt-BR")}),o.jsx("td",{className:"px-6 py-4 font-mono",children:f.destination}),o.jsx("td",{className:"px-6 py-4",children:f.status}),o.jsx("td",{className:"px-6 py-4 text-right font-semibold text-red-400",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(f.amount)})]},f.id))})]})})]})]})},O7=({orders:t,products:e,onNavigate:n,paymentSettings:r})=>{const[s,i]=j.useState("balances");return o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{children:o.jsx("div",{className:"border-b border-gray-800",children:o.jsxs("nav",{className:"-mb-px flex space-x-6",children:[o.jsx("button",{onClick:()=>i("balances"),className:`py-4 px-1 border-b-2 font-medium text-sm ${s==="balances"?"border-yellow-400 text-yellow-400":"border-transparent text-gray-400 hover:text-gray-200 hover:border-gray-600"}`,children:"Saldos"}),o.jsx("button",{onClick:()=>i("transfers"),className:`py-4 px-1 border-b-2 font-medium text-sm ${s==="transfers"?"border-yellow-400 text-yellow-400":"border-transparent text-gray-400 hover:text-gray-200 hover:border-gray-600"}`,children:"Transferncias"})]})})}),s==="balances"&&o.jsx(P7,{orders:t,products:e,onNavigate:n}),s==="transfers"&&o.jsx(L7,{onNavigate:n,paymentSettings:r})]})},B7=({charge:t,onClose:e})=>o.jsx("div",{className:"fixed inset-0 bg-black/70 z-50 flex items-center justify-center p-4",onClick:e,children:o.jsxs("div",{className:"bg-black border border-gray-800 rounded-lg w-full max-w-2xl max-h-[90vh] flex flex-col",onClick:n=>n.stopPropagation(),children:[o.jsxs("header",{className:"flex items-center justify-between p-4 border-b border-gray-800",children:[o.jsx("h2",{className:"text-xl font-bold text-white",children:"Detalhes da Cobrana"}),o.jsx("button",{onClick:e,children:o.jsx(zn,{className:"w-6 h-6 text-gray-400 hover:text-white"})})]}),o.jsxs("main",{className:"p-6 overflow-y-auto space-y-6",children:[o.jsxs("div",{children:[o.jsxs("h3",{className:"text-lg font-semibold text-white mb-2 flex items-center gap-2",children:[o.jsx(Bn,{className:"w-5 h-5 text-yellow-400"})," Cliente"]}),o.jsxs("div",{className:"bg-gray-800/50 p-4 rounded-lg space-y-2",children:[o.jsxs("p",{children:[o.jsx("span",{className:"text-gray-400",children:"Nome:"})," ",t.customerName]}),o.jsxs("p",{children:[o.jsx("span",{className:"text-gray-400",children:"Email:"})," ",t.customerEmail]}),o.jsxs("p",{children:[o.jsx("span",{className:"text-gray-400",children:"CPF/CNPJ:"})," ",t.customerCpf]}),t.customerPhone&&o.jsxs("p",{children:[o.jsx("span",{className:"text-gray-400",children:"Telefone:"})," ",t.customerPhone]})]})]}),t.customerAddress&&o.jsxs("div",{children:[o.jsxs("h3",{className:"text-lg font-semibold text-white mb-2 flex items-center gap-2",children:[o.jsx(sc,{className:"w-5 h-5 text-yellow-400"})," Endereo"]}),o.jsxs("div",{className:"bg-gray-800/50 p-4 rounded-lg space-y-1 text-sm",children:[o.jsxs("p",{children:[t.customerAddress.street,", ",t.customerAddress.number]}),o.jsxs("p",{children:[t.customerAddress.neighborhood,", ",t.customerAddress.city," - ",t.customerAddress.state]}),o.jsxs("p",{children:["CEP: ",t.customerAddress.zipCode]})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Itens"}),o.jsxs("div",{className:"divide-y divide-gray-800 border border-gray-800 rounded-lg",children:[t.items.map(n=>o.jsxs("div",{className:"flex justify-between items-center p-3",children:[o.jsxs("p",{children:[n.description," (x",n.quantity,")"]}),o.jsx("p",{children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(n.price*n.quantity)})]},n.id)),o.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-900/50",children:[o.jsx("p",{children:"Frete"}),o.jsx("p",{children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(t.shipping)})]})]})]}),o.jsx("div",{children:o.jsxs("div",{className:"flex justify-between items-center text-xl font-bold p-3 bg-gray-800/50 rounded-lg",children:[o.jsx("span",{className:"text-yellow-400",children:"TOTAL"}),o.jsx("span",{className:"text-yellow-400",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(t.total)})]})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Link de Pagamento"}),o.jsxs("div",{className:"bg-gray-800 border-2 border-dashed border-gray-700 rounded-lg p-4 space-y-4",children:[o.jsx("p",{className:"text-yellow-400 font-mono break-all",children:t.paymentLink}),o.jsxs("div",{className:"flex justify-center flex-wrap gap-4",children:[o.jsxs("a",{href:t.paymentLink,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-sm font-semibold bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-500",children:[o.jsx(uS,{className:"w-5 h-5"})," Abrir Link"]}),o.jsxs("button",{onClick:()=>navigator.clipboard.writeText(t.paymentLink),className:"flex items-center gap-2 text-sm font-semibold bg-gray-700 text-white py-2 px-4 rounded-md hover:bg-gray-600",children:[o.jsx(Er,{className:"w-5 h-5"})," Copiar Link"]}),o.jsxs("a",{href:`https://wa.me/?text=Ol, ${t.customerName}! Aqui est o link para o pagamento da sua cobrana: ${t.paymentLink}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-sm font-semibold bg-green-600 text-white py-2 px-4 rounded-md hover:bg-green-500",children:[o.jsx(ff,{className:"w-5 h-5"})," Enviar via WhatsApp"]})]})]})]})]})]})}),z7=({products:t,onClose:e,onSave:n})=>{const[r,s]=j.useState(""),[i,c]=j.useState(""),[d,f]=j.useState(""),[h,p]=j.useState(""),[g,b]=j.useState({}),[N,w]=j.useState([]),[S,T]=j.useState(0),[E,M]=j.useState(""),[D,H]=j.useState(""),[V,z]=j.useState(null),P=j.useMemo(()=>D?t.filter(Y=>Y.name.toLowerCase().includes(D.toLowerCase())).slice(0,5):[],[D,t]),te=Y=>{w(O=>[...O,{id:Y.id,description:Y.name,quantity:1,price:Y.price}]),H("")},K=()=>{w(Y=>[...Y,{id:`custom-${Date.now()}`,description:"Item Personalizado",quantity:1,price:0}])},ce=(Y,O,J)=>{const pe=[...N];pe[Y][O]=J,w(pe)},ye=Y=>{w(O=>O.filter((J,pe)=>pe!==Y))},re=(Y,O)=>{b(J=>({...J,[Y]:O}))},le=j.useMemo(()=>N.reduce((Y,O)=>Y+O.price*O.quantity,0)+S,[N,S]),ge=()=>{if(!r||!i||N.length===0){alert("Por favor, preencha as informaes do cliente e adicione pelo menos um item.");return}const Y={customerName:r,customerEmail:i,customerCpf:d,customerPhone:h,customerAddress:g,items:N,shipping:S,total:le,status:"Pendente",createdAt:new Date().toISOString(),dueDate:E},O=n(Y);z(O)};return V?o.jsx("div",{className:"fixed inset-0 bg-black/70 z-50 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-black border border-gray-800 rounded-lg w-full max-w-lg text-center p-8",onClick:Y=>Y.stopPropagation(),children:[o.jsx(nr,{className:"w-16 h-16 text-green-500 mx-auto mb-4"}),o.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Cobrana Criada!"}),o.jsx("p",{className:"text-gray-400 mb-6",children:"Compartilhe o link de pagamento com seu cliente."}),o.jsxs("div",{className:"bg-gray-800 border-2 border-dashed border-gray-700 rounded-lg p-4 space-y-4",children:[o.jsx("p",{className:"text-yellow-400 font-mono break-all",children:V.paymentLink}),o.jsxs("div",{className:"flex justify-center gap-4",children:[o.jsxs("button",{onClick:()=>navigator.clipboard.writeText(V.paymentLink),className:"flex items-center gap-2 text-sm font-semibold bg-gray-700 text-white py-2 px-4 rounded-md hover:bg-gray-600",children:[o.jsx(Er,{className:"w-5 h-5"})," Copiar Link"]}),o.jsxs("a",{href:`https://wa.me/?text=Ol, ${V.customerName}! Aqui est o link para o pagamento da sua cobrana: ${V.paymentLink}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-sm font-semibold bg-green-600 text-white py-2 px-4 rounded-md hover:bg-green-500",children:[o.jsx(ff,{className:"w-5 h-5"})," Enviar via WhatsApp"]})]})]}),o.jsx("button",{onClick:e,className:"mt-8 text-sm font-bold bg-yellow-500 text-black py-2 px-6 rounded-md hover:bg-yellow-400",children:"Fechar"})]})}):o.jsx("div",{className:"fixed inset-0 bg-black/70 z-50 flex items-center justify-center p-4",onClick:e,children:o.jsxs("div",{className:"bg-black border border-gray-800 rounded-lg w-full max-w-3xl max-h-[90vh] flex flex-col",onClick:Y=>Y.stopPropagation(),children:[o.jsxs("header",{className:"flex items-center justify-between p-4 border-b border-gray-800",children:[o.jsx("h2",{className:"text-xl font-bold text-white",children:"Criar Nova Cobrana"}),o.jsx("button",{onClick:e,children:o.jsx(zn,{className:"w-6 h-6 text-gray-400 hover:text-white"})})]}),o.jsxs("main",{className:"p-6 overflow-y-auto space-y-6",children:[o.jsxs("div",{className:"bg-gray-900/50 p-4 rounded-lg space-y-4",children:[o.jsx("h3",{className:"font-semibold text-white",children:"Informaes do Cliente"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx("input",{value:r,onChange:Y=>s(Y.target.value),placeholder:"Nome do Cliente *",className:"w-full bg-gray-800 border-2 border-gray-700 rounded-md py-2 px-3 text-white"}),o.jsx("input",{value:i,onChange:Y=>c(Y.target.value),type:"email",placeholder:"E-mail do Cliente *",className:"w-full bg-gray-800 border-2 border-gray-700 rounded-md py-2 px-3 text-white"}),o.jsx("input",{value:d,onChange:Y=>f(Y.target.value),placeholder:"CPF/CNPJ do Cliente",className:"w-full bg-gray-800 border-2 border-gray-700 rounded-md py-2 px-3 text-white"}),o.jsx("input",{value:h,onChange:Y=>p(Y.target.value),type:"tel",placeholder:"WhatsApp / Telefone",className:"w-full bg-gray-800 border-2 border-gray-700 rounded-md py-2 px-3 text-white"})]}),o.jsxs("details",{className:"pt-2",children:[o.jsx("summary",{className:"cursor-pointer text-sm font-semibold text-yellow-400",children:"Adicionar Endereo"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-6 gap-4 mt-4",children:[o.jsx("input",{onChange:Y=>re("zipCode",Y.target.value),placeholder:"CEP",className:"md:col-span-2 w-full bg-gray-800 border-2 border-gray-700 rounded-md py-2 px-3 text-white"}),o.jsx("input",{onChange:Y=>re("street",Y.target.value),placeholder:"Rua / Logradouro",className:"md:col-span-4 w-full bg-gray-800 border-2 border-gray-700 rounded-md py-2 px-3 text-white"}),o.jsx("input",{onChange:Y=>re("number",Y.target.value),placeholder:"Nmero",className:"md:col-span-2 w-full bg-gray-800 border-2 border-gray-700 rounded-md py-2 px-3 text-white"}),o.jsx("input",{onChange:Y=>re("complement",Y.target.value),placeholder:"Complemento",className:"md:col-span-4 w-full bg-gray-800 border-2 border-gray-700 rounded-md py-2 px-3 text-white"}),o.jsx("input",{onChange:Y=>re("neighborhood",Y.target.value),placeholder:"Bairro",className:"md:col-span-3 w-full bg-gray-800 border-2 border-gray-700 rounded-md py-2 px-3 text-white"}),o.jsx("input",{onChange:Y=>re("city",Y.target.value),placeholder:"Cidade",className:"md:col-span-2 w-full bg-gray-800 border-2 border-gray-700 rounded-md py-2 px-3 text-white"}),o.jsx("input",{onChange:Y=>re("state",Y.target.value),placeholder:"UF",className:"w-full bg-gray-800 border-2 border-gray-700 rounded-md py-2 px-3 text-white"})]})]})]}),o.jsxs("div",{className:"bg-gray-900/50 p-4 rounded-lg space-y-4",children:[o.jsx("h3",{className:"font-semibold text-white",children:"Itens da Cobrana"}),o.jsx("div",{className:"space-y-2",children:N.map((Y,O)=>o.jsxs("div",{className:"flex items-center gap-2 bg-gray-800 p-2 rounded-md",children:[o.jsx("input",{value:Y.description,onChange:J=>ce(O,"description",J.target.value),placeholder:"Descrio",className:"flex-grow bg-gray-700 border border-gray-600 rounded-md py-1 px-2 text-white text-sm",disabled:!!t.find(J=>J.id===Y.id)}),o.jsx("input",{value:Y.quantity,onChange:J=>ce(O,"quantity",Number(J.target.value)),type:"number",placeholder:"Qtd",className:"w-16 bg-gray-700 border border-gray-600 rounded-md py-1 px-2 text-white text-sm"}),o.jsx("input",{value:Y.price,onChange:J=>ce(O,"price",Number(J.target.value)),type:"number",placeholder:"Preo",className:"w-24 bg-gray-700 border border-gray-600 rounded-md py-1 px-2 text-white text-sm"}),o.jsx("button",{onClick:()=>ye(O),className:"p-1 text-gray-400 hover:text-red-500",children:o.jsx(jt,{className:"w-4 h-4"})})]},Y.id))}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{value:D,onChange:Y=>H(Y.target.value),placeholder:"Buscar produto...",className:"w-full bg-gray-800 border-2 border-gray-700 rounded-md py-2 px-3 text-white"}),P.length>0&&o.jsx("div",{className:"absolute top-full left-0 w-full bg-gray-800 border border-gray-700 rounded-b-md shadow-lg z-10",children:P.map(Y=>o.jsx("button",{onClick:()=>te(Y),className:"block w-full text-left px-3 py-2 text-sm text-gray-300 hover:bg-gray-700",children:Y.name},Y.id))})]}),o.jsx("button",{onClick:K,className:"text-sm font-semibold text-yellow-400 hover:underline",children:"+ Adicionar item personalizado"})]}),o.jsxs("div",{className:"bg-gray-900/50 p-4 rounded-lg grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Frete"}),o.jsx("input",{value:S,onChange:Y=>T(Number(Y.target.value)),type:"number",placeholder:"R$ 0,00",className:"w-full bg-gray-800 border-2 border-gray-700 rounded-md py-2 px-3 text-white"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Data de Vencimento"}),o.jsx("input",{value:E,onChange:Y=>M(Y.target.value),type:"date",className:"w-full bg-gray-800 border-2 border-gray-700 rounded-md py-2 px-3 text-white"})]})]})]}),o.jsxs("footer",{className:"p-4 bg-black border-t border-gray-800 flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-400",children:"Total:"}),o.jsx("p",{className:"text-2xl font-bold text-yellow-400",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(le)})]}),o.jsx("button",{onClick:ge,className:"font-bold bg-yellow-500 text-black py-3 px-6 rounded-md hover:bg-yellow-400",children:"Criar Cobrana"})]})]})})},U7=({charges:t,products:e,onSave:n})=>{const[r,s]=j.useState(!1),[i,c]=j.useState("all"),[d,f]=j.useState(null),h=j.useMemo(()=>i==="all"?t:t.filter(g=>g.status===i),[t,i]),p=({status:g})=>{const b={Pendente:{icon:ia,color:"yellow"},Pago:{icon:nr,color:"green"},Vencido:{icon:aa,color:"red"},Cancelado:{icon:aa,color:"gray"}},{icon:N,color:w}=b[g],S={yellow:"bg-yellow-500/10 text-yellow-400",green:"bg-green-500/10 text-green-400",red:"bg-red-500/10 text-red-400",gray:"bg-gray-500/10 text-gray-400"};return o.jsxs("span",{className:`inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium rounded-full ${S[w]}`,children:[o.jsx(N,{className:"w-3.5 h-3.5"}),g]})};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h2",{className:"text-xl font-bold text-white",children:"Gerenciar Cobranas"}),o.jsxs("button",{onClick:()=>s(!0),className:"flex items-center gap-2 text-sm font-bold bg-yellow-500 text-black py-2 px-4 rounded-md hover:bg-yellow-400",children:[o.jsx(Zg,{className:"w-5 h-5"})," Criar Cobrana"]})]}),o.jsxs("div",{className:"bg-black border border-gray-800 rounded-lg",children:[o.jsx("div",{className:"p-4 border-b border-gray-800 flex gap-2",children:["all","Pendente","Pago","Vencido","Cancelado"].map(g=>o.jsx("button",{onClick:()=>c(g),className:`px-3 py-1 text-sm rounded-full ${i===g?"bg-yellow-500 text-black font-semibold":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,children:g==="all"?"Todas":g},g))}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-sm text-left text-gray-400",children:[o.jsx("thead",{className:"text-xs text-gray-400 uppercase bg-black",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3",children:"Cliente"}),o.jsx("th",{className:"px-6 py-3",children:"Data"}),o.jsx("th",{className:"px-6 py-3",children:"Status"}),o.jsx("th",{className:"px-6 py-3 text-right",children:"Valor"}),o.jsx("th",{className:"px-6 py-3 text-center",children:"Aes"})]})}),o.jsx("tbody",{children:h.map(g=>o.jsxs("tr",{className:"border-b border-gray-800 hover:bg-gray-800/50 cursor-pointer",onClick:()=>f(g),children:[o.jsxs("td",{className:"px-6 py-4",children:[o.jsx("p",{className:"font-medium text-white",children:g.customerName}),o.jsx("p",{className:"text-xs text-gray-500",children:g.customerEmail})]}),o.jsxs("td",{className:"px-6 py-4",children:[o.jsx("p",{children:new Date(g.createdAt).toLocaleDateString("pt-BR")}),o.jsxs("p",{className:"text-xs text-gray-500",children:["Venc: ",new Date(g.dueDate).toLocaleDateString("pt-BR")]})]}),o.jsx("td",{className:"px-6 py-4",children:o.jsx(p,{status:g.status})}),o.jsx("td",{className:"px-6 py-4 text-right font-semibold text-white",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(g.total)}),o.jsx("td",{className:"px-6 py-4 text-center",children:o.jsx("button",{title:"Copiar link de pagamento",onClick:b=>{b.stopPropagation(),navigator.clipboard.writeText(g.paymentLink),alert("Link copiado!")},className:"p-1 text-gray-400 hover:text-yellow-400",children:o.jsx(af,{className:"w-5 h-5"})})})]},g.id))})]})})]}),r&&o.jsx(z7,{products:e,onClose:()=>s(!1),onSave:n}),d&&o.jsx(B7,{charge:d,onClose:()=>f(null)})]})},H7=({settings:t,onSave:e,paymentSettings:n,onNavigate:r})=>{const[s,i]=j.useState(t),c=JSON.stringify(s)!==JSON.stringify(t);j.useEffect(()=>{i(t)},[t]);const d=(N,w,S)=>{i(T=>({...T,[N]:{...T[N],[w]:S}}))},f=N=>{const{name:w,value:S}=N.target,[T,E]=w.split(".");i(M=>({...M,[T]:{...M[T],[E]:E==="frequency"?S:Number(S)}}))},h=()=>e(s),p=()=>i(t),g=["Dirio","Semanal","Mensal"],b=["Domingo","Segunda-feira","Tera-feira","Quarta-feira","Quinta-feira","Sexta-feira","Sbado"];return o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"pb-6 mb-6 flex justify-end items-center border-b border-gray-800",children:o.jsxs("div",{className:"flex items-center gap-4",children:[c&&o.jsx("p",{className:"text-sm text-yellow-400",children:"Voc tem alteraes no salvas."}),o.jsx("button",{onClick:p,disabled:!c,className:"text-sm font-semibold bg-gray-700 text-white py-2 px-4 rounded-md hover:bg-gray-600 disabled:opacity-50",children:"Descartar"}),o.jsx("button",{onClick:h,disabled:!c,className:"text-sm font-bold bg-yellow-500 text-black py-2 px-4 rounded-md hover:bg-yellow-400 disabled:opacity-50",children:"Salvar Configuraes"})]})}),o.jsxs("div",{className:"max-w-4xl mx-auto space-y-8",children:[o.jsxs("div",{className:"bg-black border border-gray-800 rounded-lg p-6 space-y-4",children:[o.jsx("h3",{className:"text-lg font-semibold text-white",children:"Mtodos de Recebimento"}),o.jsx("p",{className:"text-sm text-gray-400",children:"Esta  a chave PIX para onde suas transferncias sero enviadas. Voc pode gerenci-la nas configuraes de pagamento da loja."}),n.pix.enabled&&n.pix.pixKey?o.jsxs("div",{className:"bg-gray-800/50 p-4 rounded-lg flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsxs("p",{className:"text-sm font-medium text-gray-300",children:["Chave PIX Ativa (",n.pix.pixKeyType,")"]}),o.jsx("p",{className:"font-mono text-white",children:n.pix.pixKey})]}),o.jsx("button",{onClick:()=>r("managePayments"),className:"text-sm font-semibold bg-gray-700 text-white py-2 px-4 rounded-md hover:bg-gray-600",children:"Gerenciar"})]}):o.jsxs("div",{className:"text-center p-4 bg-gray-800/50 rounded-md border border-dashed border-gray-700",children:[o.jsx("p",{className:"text-gray-400",children:"Nenhuma chave PIX configurada."}),o.jsx("button",{onClick:()=>r("managePayments"),className:"text-sm font-semibold text-yellow-500 hover:underline mt-2",children:"Configurar Chave PIX"})]})]}),o.jsxs("div",{className:"bg-black border border-gray-800 rounded-lg",children:[o.jsxs("div",{className:"p-4 border-b border-gray-800 flex items-center justify-between",children:[o.jsx("h3",{className:"text-lg font-semibold text-white",children:"Transferncias Automticas"}),o.jsx(Xe,{checked:s.automaticTransfers.enabled,onChange:N=>d("automaticTransfers","enabled",N),labelId:"auto-transfer-toggle"})]}),s.automaticTransfers.enabled&&o.jsxs("div",{className:"p-6 space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"frequency",className:"block text-sm font-medium text-gray-400 mb-2",children:"Frequncia"}),o.jsx("select",{id:"frequency",name:"automaticTransfers.frequency",value:s.automaticTransfers.frequency,onChange:f,className:"w-full bg-gray-800 border-2 border-gray-700 rounded-md py-2 px-3 text-white",children:g.map(N=>o.jsx("option",{value:N,children:N},N))})]}),s.automaticTransfers.frequency==="Semanal"&&o.jsxs("div",{children:[o.jsx("label",{htmlFor:"dayOfWeek",className:"block text-sm font-medium text-gray-400 mb-2",children:"Dia da Semana"}),o.jsx("select",{id:"dayOfWeek",name:"automaticTransfers.dayOfWeek",value:s.automaticTransfers.dayOfWeek,onChange:f,className:"w-full bg-gray-800 border-2 border-gray-700 rounded-md py-2 px-3 text-white",children:b.map((N,w)=>o.jsx("option",{value:w,children:N},w))})]}),s.automaticTransfers.frequency==="Mensal"&&o.jsxs("div",{children:[o.jsx("label",{htmlFor:"dayOfMonth",className:"block text-sm font-medium text-gray-400 mb-2",children:"Dia do Ms"}),o.jsx("input",{type:"number",id:"dayOfMonth",name:"automaticTransfers.dayOfMonth",value:s.automaticTransfers.dayOfMonth,onChange:f,min:"1",max:"31",className:"w-full bg-gray-800 border-2 border-gray-700 rounded-md py-2 px-3 text-white"})]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"minimumAmount",className:"block text-sm font-medium text-gray-400 mb-2",children:"Valor Mnimo para Transferncia"}),o.jsx("input",{type:"number",id:"minimumAmount",name:"automaticTransfers.minimumAmount",value:s.automaticTransfers.minimumAmount,placeholder:"R$ 100,00",className:"w-full bg-gray-800 border-2 border-gray-700 rounded-md py-2 px-3 text-white"})]})]})]}),o.jsxs("div",{className:"bg-black border border-gray-800 rounded-lg p-6 space-y-4",children:[o.jsx("h3",{className:"text-lg font-semibold text-white",children:"Notificaes por E-mail"}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("label",{htmlFor:"notif-commission",className:"text-sm text-gray-300",children:"Receber e-mail ao ganhar nova comisso"}),o.jsx(Xe,{checked:s.notifications.onNewCommission,onChange:N=>d("notifications","onNewCommission",N),labelId:"notif-commission"})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("label",{htmlFor:"notif-success",className:"text-sm text-gray-300",children:"Receber e-mail quando uma transferncia for concluda"}),o.jsx(Xe,{checked:s.notifications.onTransferSuccess,onChange:N=>d("notifications","onTransferSuccess",N),labelId:"notif-success"})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("label",{htmlFor:"notif-fail",className:"text-sm text-gray-300",children:"Receber e-mail se uma transferncia falhar"}),o.jsx(Xe,{checked:s.notifications.onTransferFail,onChange:N=>d("notifications","onTransferFail",N),labelId:"notif-fail"})]})]}),o.jsxs("div",{className:"bg-black border border-gray-800 rounded-lg p-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Segurana"}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"2fa-toggle",className:"text-sm text-white font-medium",children:"Autenticao de Dois Fatores (2FA)"}),o.jsx("p",{className:"text-xs text-gray-400",children:"Exigir um cdigo de verificao para todas as transferncias."})]}),o.jsx(Xe,{checked:s.security.twoFactorAuth,onChange:N=>d("security","twoFactorAuth",N),labelId:"2fa-toggle"})]})]})]})]})},V7=({userProfile:t,onSave:e})=>{const[n,r]=j.useState(t),s=JSON.stringify(n)!==JSON.stringify(t),i=p=>{const{name:g,value:b}=p.target;r(N=>({...N,[g]:b}))},c=p=>{r(g=>({...g,avatarUrl:p}))},d=()=>{e(n)},f=()=>{r(t)},h=({label:p,value:g})=>o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-400",children:p}),o.jsx("p",{className:"mt-1 text-white p-2 bg-gray-800 rounded-md",children:g})]});return o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"pb-6 mb-6 flex justify-end items-center border-b border-gray-800",children:o.jsxs("div",{className:"flex items-center gap-4",children:[s&&o.jsx("p",{className:"text-sm text-yellow-400",children:"Voc tem alteraes no salvas."}),o.jsx("button",{onClick:f,disabled:!s,className:"text-sm font-semibold bg-gray-700 text-white py-2 px-4 rounded-md hover:bg-gray-600 disabled:opacity-50",children:"Descartar"}),o.jsx("button",{onClick:d,disabled:!s,className:"text-sm font-bold bg-yellow-500 text-black py-2 px-4 rounded-md hover:bg-yellow-400 disabled:opacity-50",children:"Salvar Perfil"})]})}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[o.jsx("div",{className:"lg:col-span-1",children:o.jsxs("div",{className:"bg-black border border-gray-800 rounded-lg p-6 text-center",children:[o.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Foto de Perfil"}),o.jsx(Et,{currentImage:n.avatarUrl,onImageUpload:c,placeholderText:"Alterar foto",aspectRatio:"square"})]})}),o.jsx("div",{className:"lg:col-span-2",children:o.jsxs("div",{className:"bg-black border border-gray-800 rounded-lg p-6 space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-400 mb-1",children:"Nome de Exibio"}),o.jsx("input",{id:"name",name:"name",type:"text",value:n.name,onChange:i,className:"w-full bg-gray-800 border-2 border-gray-700 rounded-md py-2 px-3 text-white"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-400 mb-1",children:"E-mail"}),o.jsx("input",{id:"email",name:"email",type:"email",value:n.email,onChange:i,className:"w-full bg-gray-800 border-2 border-gray-700 rounded-md py-2 px-3 text-white"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"cpfCnpj",className:"block text-sm font-medium text-gray-400 mb-1",children:"CPF/CNPJ"}),o.jsx("input",{id:"cpfCnpj",name:"cpfCnpj",type:"text",value:n.cpfCnpj,onChange:i,className:"w-full bg-gray-800 border-2 border-gray-700 rounded-md py-2 px-3 text-white"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-400 mb-1",children:"Telefone"}),o.jsx("input",{id:"phone",name:"phone",type:"tel",value:n.phone,onChange:i,className:"w-full bg-gray-800 border-2 border-gray-700 rounded-md py-2 px-3 text-white"})]})]}),o.jsx(h,{label:"ID",value:n.id}),o.jsx(h,{label:"Graduao",value:n.graduation}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[o.jsx(h,{label:"Status da Conta",value:n.accountStatus}),o.jsx(h,{label:"Atividade Mensal",value:n.monthlyActivity})]}),o.jsx(h,{label:"Link de Indicao",value:n.referralLink}),o.jsx(h,{label:"Link de Afiliado",value:n.affiliateLink})]})})]})]})},q7=()=>o.jsxs("div",{className:"flex flex-col items-center justify-center text-center py-20 bg-black border-2 border-dashed border-gray-800 rounded-lg h-[75vh]",children:[o.jsx(zu,{className:"w-20 h-20 text-yellow-400 mb-4"}),o.jsx("h3",{className:"text-3xl font-bold font-display text-white",children:"RS Studio: Em Breve"}),o.jsx("p",{className:"mt-2 max-w-lg text-gray-400",children:"Uma sute de ferramentas com IA para automao e criao de contedo est chegando para revolucionar seu negcio. Aguarde!"})]}),F7=t=>o.jsx("svg",{...t,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 016-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0018 18a8.967 8.967 0 00-6 2.292m0-14.25v14.25"})}),fS=t=>o.jsx("svg",{...t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:o.jsx("path",{d:"M16 9V4h-2v5h-4V4H8v5H3.56c-.34 0-.67.14-.9.37-.23.23-.34.55-.31.87l.45 4.88c.11 1.22.69 2.33 1.58 3.09.89.76 2.06 1.23 3.32 1.23h.1c.34 0 .67-.14.9-.37.23-.23.34-.55.31-.87l-.45-4.88c-.02-.2-.11-.38-.25-.52-.14-.14-.33-.21-.53-.21H6v-3h12v3h-2.56c-.2 0-.39.08-.53.21-.14.14-.23.32-.25.52l-.45 4.88c-.03.32.08.64.31.87.23.23.56.37.9.37h.1c1.26 0 2.43-.47 3.32-1.23.89-.76 1.47-1.87 1.58-3.09l.45-4.88c.03-.32-.08-.64-.31-.87-.23-.23-.56-.37-.9-.37H16z"})}),Qp=t=>o.jsx("svg",{...t,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5M16.5 12L12 16.5m0 0L7.5 12m4.5 4.5V3"})}),G7=({announcements:t,trainings:e,marketingAssets:n,onNavigate:r})=>{const[s,i]=j.useState(null),[c,d]=j.useState(null),f=[...t].sort((b,N)=>b.isPinned&&!N.isPinned?-1:!b.isPinned&&N.isPinned?1:new Date(N.date).getTime()-new Date(b.date).getTime()),h=e.slice(0,4),p=n.slice(0,8),g=({asset:b})=>{const N=b.format==="PDF",w=()=>{N?window.open(b.downloadUrl,"_blank"):d(b)};return o.jsxs("div",{className:"relative group bg-gray-900 border border-gray-800 rounded-lg p-3 text-center transition-transform transform hover:-translate-y-1",children:[o.jsx("button",{onClick:w,className:"aspect-square bg-gray-800 flex items-center justify-center rounded-md mb-2 overflow-hidden w-full",children:N?o.jsx(as,{className:"w-16 h-16 text-gray-500"}):o.jsx("img",{src:b.previewUrl,alt:b.name,className:"w-full h-full object-cover"})}),o.jsx("p",{className:"text-sm font-semibold text-white truncate",title:b.name,children:b.name}),o.jsx("p",{className:"text-xs text-gray-500",children:b.format}),o.jsxs("div",{className:"absolute inset-0 bg-black/80 opacity-0 group-hover:opacity-100 transition-opacity rounded-lg flex flex-col items-center justify-center p-4 space-y-2",children:[o.jsx("button",{onClick:w,className:"w-full text-sm font-bold bg-yellow-500 text-black py-2 px-4 rounded-md hover:bg-yellow-400",children:N?"Abrir":"Visualizar"}),o.jsxs("a",{href:b.downloadUrl,download:b.name,className:"w-full inline-flex items-center justify-center gap-2 text-sm font-semibold bg-gray-700 text-white py-2 px-4 rounded-md hover:bg-gray-600",children:[o.jsx(Qp,{className:"w-5 h-5"})," Baixar"]})]})]})};return o.jsxs("div",{className:"space-y-12",children:[o.jsxs("section",{children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-3",children:[o.jsx(Zl,{className:"w-6 h-6 text-yellow-400"})," Comunicados Oficiais"]}),o.jsx("button",{onClick:()=>r("manageAnnouncements"),className:"text-sm font-semibold text-yellow-400 hover:underline",children:"Gerenciar"})]}),o.jsx("div",{className:"bg-black border border-gray-800 rounded-lg p-3 space-y-2",children:f.slice(0,4).map(b=>o.jsx("button",{onClick:()=>i(b),className:`w-full text-left p-4 rounded-lg transition-colors duration-200 ${b.isPinned?"bg-yellow-900/30 border-l-4 border-yellow-500":"bg-gray-800/40"} hover:bg-gray-800/80`,children:o.jsxs("div",{className:"flex justify-between items-center gap-4",children:[o.jsxs("div",{children:[o.jsxs("p",{className:"font-semibold text-white flex items-center gap-3",children:[b.isPinned&&o.jsx(fS,{className:"w-5 h-5 text-yellow-400 flex-shrink-0"}),b.title]}),o.jsx("p",{className:"text-xs text-gray-500 mt-1 ml-1",children:new Date(b.date).toLocaleDateString("pt-BR")})]}),o.jsx("span",{className:"text-sm font-semibold text-yellow-400 flex-shrink-0",children:"Ler"})]})},b.id))})]}),o.jsxs("section",{children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-3",children:[o.jsx(F7,{className:"w-6 h-6 text-yellow-400"})," Treinamentos Recentes"]}),o.jsx("button",{onClick:()=>r("manageTrainings"),className:"text-sm font-semibold text-yellow-400 hover:underline",children:"Ver Todos"})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:h.map(b=>o.jsx("button",{onClick:()=>r("trainingModuleDetail",b),className:"bg-black border border-gray-800 rounded-lg overflow-hidden group text-left transition-all duration-300 hover:shadow-lg hover:shadow-yellow-500/10 hover:border-gray-700 hover:-translate-y-1",children:o.jsxs("div",{className:"relative",children:[o.jsx("img",{src:b.thumbnailUrl,alt:b.title,className:"w-full h-36 object-cover transition-transform duration-300 group-hover:scale-105"}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 to-transparent"}),o.jsxs("div",{className:"absolute top-2 right-2 bg-black/60 text-white text-xs px-2 py-1 rounded-full",children:[b.lessons.length," ",b.lessons.length>1?"Aulas":"Aula"]}),o.jsx("h3",{className:"absolute bottom-3 left-3 right-3 font-bold text-base text-white group-hover:text-yellow-400 transition-colors leading-tight",children:b.title})]})},b.id))})]}),o.jsxs("section",{children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-3",children:[o.jsx(eN,{className:"w-6 h-6 text-yellow-400"})," Novos Materiais de Marketing"]}),o.jsx("button",{onClick:()=>r("manageMarketingAssets"),className:"text-sm font-semibold text-yellow-400 hover:underline",children:"Ver Todos"})]}),o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 xl:grid-cols-8 gap-4",children:p.map(b=>o.jsx(g,{asset:b},b.id))})]}),s&&o.jsx("div",{className:"fixed inset-0 bg-black/70 z-50 flex items-center justify-center p-4",onClick:()=>i(null),children:o.jsxs("div",{className:"bg-black border border-gray-800 rounded-lg w-full max-w-2xl max-h-[90vh] flex flex-col",onClick:b=>b.stopPropagation(),children:[o.jsxs("header",{className:"flex items-start justify-between p-4 border-b border-gray-800",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-bold text-white",children:s.title}),o.jsx("p",{className:"text-sm text-gray-500",children:new Date(s.date).toLocaleDateString("pt-BR")})]}),o.jsx("button",{onClick:()=>i(null),children:o.jsx(zn,{className:"w-6 h-6 text-gray-400 hover:text-white"})})]}),o.jsx("main",{className:"p-6 overflow-y-auto prose prose-invert max-w-none",dangerouslySetInnerHTML:{__html:s.content}})]})}),c&&o.jsx("div",{className:"fixed inset-0 bg-black/80 z-50 flex items-center justify-center p-4",onClick:()=>d(null),children:o.jsxs("div",{className:"bg-black border border-gray-800 rounded-lg w-full max-w-4xl max-h-[90vh] flex flex-col",onClick:b=>b.stopPropagation(),children:[o.jsxs("header",{className:"flex items-center justify-between p-4 border-b border-gray-800",children:[o.jsx("h2",{className:"text-lg font-semibold text-white truncate",children:c.name}),o.jsx("button",{onClick:()=>d(null),children:o.jsx(zn,{className:"w-6 h-6 text-gray-400 hover:text-white"})})]}),o.jsx("main",{className:"p-4 flex-grow flex items-center justify-center overflow-auto",children:o.jsx("img",{src:c.previewUrl,alt:c.name,className:"max-w-full max-h-full object-contain"})}),o.jsx("footer",{className:"p-4 border-t border-gray-800 bg-gray-900/50 text-right",children:o.jsxs("a",{href:c.downloadUrl,download:c.name,className:"inline-flex items-center gap-2 text-sm font-bold bg-yellow-500 text-black py-2 px-4 rounded-md hover:bg-yellow-400",children:[o.jsx(Qp,{className:"w-5 h-5"})," Baixar"]})})]})})]})},$7=({order:t,settings:e,product:n,onAccept:r,onDecline:s})=>{const[i,c]=j.useState(!1),d=()=>{c(!0),setTimeout(()=>{r(),c(!1)},1500)};return o.jsxs("div",{className:"max-w-2xl mx-auto my-8 p-6 rounded-lg border-2 border-dashed border-[rgb(var(--color-brand-gold))] bg-[rgb(var(--color-brand-gold))]/[.05] animate-pulse-border",children:[o.jsx("style",{children:`
                @keyframes pulse-border {
                    0%, 100% { border-color: rgb(var(--color-brand-gold)); }
                    50% { border-color: rgb(var(--color-warning)); }
                }
                .animate-pulse-border {
                    animation: pulse-border 2.5s ease-in-out infinite;
                }
            `}),o.jsx("h2",{className:"text-2xl font-bold font-display text-[rgb(var(--color-brand-gold))] text-center",children:e.title}),o.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-6 mt-4",children:[o.jsx("img",{src:n.images[0],alt:n.name,className:"w-32 h-32 object-cover rounded-md flex-shrink-0"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-[rgb(var(--color-brand-text-dim))]",children:e.description}),o.jsxs("div",{className:"flex items-baseline gap-2 mt-2",children:[o.jsx("span",{className:"text-2xl font-bold text-[rgb(var(--color-brand-gold))]",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e.offerPrice)}),o.jsx("span",{className:"text-md text-[rgb(var(--color-brand-text-dim))] line-through",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(n.price)})]})]})]}),o.jsxs("div",{className:"mt-6 space-y-3",children:[o.jsxs("button",{onClick:d,disabled:i,className:"w-full bg-green-600 text-white font-bold py-3 px-4 rounded-md hover:bg-green-500 transition-colors disabled:opacity-70 disabled:cursor-wait flex items-center justify-center gap-2",children:[i&&o.jsx(Qn,{className:"w-5 h-5"}),e.acceptButtonText]}),o.jsx("button",{onClick:s,disabled:i,className:"w-full text-center text-[rgb(var(--color-brand-text-dim))] hover:text-white text-sm transition-colors disabled:opacity-50",children:e.declineButtonText})]})]})},J7=({order:t,onContinueShopping:e,upsellSettings:n,allProducts:r,onAcceptUpsell:s})=>{const[i,c]=j.useState("pending"),[d,f]=j.useState(!1),h=j.useMemo(()=>n.enabled?r.find(N=>N.id===n.productId):null,[n,r]);if(!t)return o.jsxs("div",{className:"bg-[rgb(var(--color-brand-dark))] text-white min-h-screen flex flex-col items-center justify-center text-center p-4",children:[o.jsx("h1",{className:"text-2xl font-bold text-white mb-4",children:"Pedido no encontrado."}),o.jsx("button",{onClick:e,className:"bg-[rgb(var(--color-brand-gold))] text-black font-bold py-3 px-8 rounded-full text-lg",children:"Voltar para a Loja"})]});const p=()=>{h&&(s(t,h,n.offerPrice),c("accepted"))},g=()=>{t.pixCopyableCode&&(navigator.clipboard.writeText(t.pixCopyableCode),f(!0),setTimeout(()=>f(!1),2e3))},b=()=>h&&i==="pending"?o.jsx($7,{order:t,settings:n,product:h,onAccept:p,onDecline:()=>c("declined")}):o.jsxs(o.Fragment,{children:[o.jsx(nr,{className:"w-20 h-20 text-[rgb(var(--color-success))] mx-auto mb-4"}),o.jsx("h1",{className:"text-3xl md:text-4xl font-bold font-display text-white",children:"Obrigado por sua compra!"}),o.jsx("p",{className:"text-lg text-[rgb(var(--color-brand-text-dim))] mt-2",children:"Seu pedido foi recebido e est sendo processado."}),i==="accepted"&&o.jsx("p",{className:"text-lg text-[rgb(var(--color-success))] mt-2 font-semibold",children:"Sua oferta especial foi adicionada com sucesso!"})]});return o.jsxs("div",{className:"bg-[rgb(var(--color-brand-dark))] text-white min-h-screen",children:[o.jsx("header",{className:"bg-[rgb(var(--color-brand-gray))] backdrop-blur-sm border-b border-[rgb(var(--color-brand-gold))]/[.30]",children:o.jsx("div",{className:"container mx-auto px-4 h-20 flex items-center",children:o.jsx("span",{className:"text-3xl font-display text-[rgb(var(--color-brand-gold))]",children:"RS Prlipsi"})})}),o.jsxs("main",{className:"container mx-auto px-4 py-12 text-center",children:[b(),t.boletoUrl&&o.jsxs("div",{className:"max-w-2xl mx-auto my-8 p-6 rounded-lg border-2 border-[rgb(var(--color-brand-gold))] bg-[rgb(var(--color-brand-gold))]/[.05]",children:[o.jsx("h2",{className:"text-2xl font-bold font-display text-[rgb(var(--color-brand-gold))] text-center",children:"Boleto Gerado com Sucesso!"}),o.jsx("p",{className:"text-[rgb(var(--color-brand-text-dim))] text-center mt-2",children:"Clique no boto abaixo para visualizar e imprimir seu boleto."}),o.jsx("div",{className:"mt-6 text-center",children:o.jsx("a",{href:t.boletoUrl,target:"_blank",rel:"noopener noreferrer",className:"inline-block bg-[rgb(var(--color-brand-gold))] text-black font-bold py-3 px-8 rounded-full text-lg",children:"Visualizar Boleto"})})]}),t.pixQrCodeUrl&&o.jsxs("div",{className:"max-w-2xl mx-auto my-8 p-6 rounded-lg border-2 border-[rgb(var(--color-brand-gold))] bg-[rgb(var(--color-brand-gold))]/[.05]",children:[o.jsx("h2",{className:"text-2xl font-bold font-display text-[rgb(var(--color-brand-gold))] text-center",children:"Pague com PIX para Finalizar"}),o.jsxs("div",{className:"text-center p-4 rounded-lg",children:[o.jsx("img",{src:t.pixQrCodeUrl,alt:"QR Code PIX",className:"mx-auto bg-white p-2 rounded-md"}),o.jsx("p",{className:"text-sm mt-4 text-[rgb(var(--color-brand-text-dim))]",children:"Aponte a cmera do seu celular para pagar, ou use o cdigo abaixo."}),o.jsxs("button",{onClick:g,className:"mt-4 w-full bg-[rgb(var(--color-brand-gray))] text-white font-semibold py-3 px-4 rounded-md hover:bg-[rgb(var(--color-brand-gray-light))] flex items-center justify-center gap-2",children:[d?o.jsx(uo,{className:"w-5 h-5 text-[rgb(var(--color-success))]"}):o.jsx(Er,{className:"w-5 h-5"}),d?"Cdigo Copiado!":"Copiar Cdigo PIX"]})]})]}),o.jsxs("div",{className:"max-w-2xl mx-auto bg-[rgb(var(--color-brand-gray))] rounded-lg p-6 my-8 text-left",children:[o.jsxs("h2",{className:"text-xl font-bold text-white mb-4 border-b border-[rgb(var(--color-brand-gray-light))] pb-2",children:["Resumo do Pedido ",o.jsx("span",{className:"text-[rgb(var(--color-brand-gold))] font-mono",children:t.id})]}),o.jsx("div",{className:"space-y-3",children:t.items.map((N,w)=>o.jsxs("div",{className:"flex justify-between items-center text-sm",children:[o.jsxs("p",{className:"text-white",children:[N.productName," ",o.jsxs("span",{className:"text-[rgb(var(--color-brand-text-dim))]",children:["x",N.quantity]})]}),o.jsx("p",{className:"text-[rgb(var(--color-brand-text-dim))]",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(N.price*N.quantity)})]},`${N.variantId}-${w}`))}),o.jsxs("div",{className:"mt-4 pt-4 border-t border-[rgb(var(--color-brand-gray-light))] space-y-2 text-sm",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-[rgb(var(--color-brand-text-dim))]",children:"Subtotal"}),o.jsx("span",{className:"text-white",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(t.subtotal)})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsxs("span",{className:"text-[rgb(var(--color-brand-text-dim))]",children:["Frete (",t.shippingMethod,")"]}),o.jsx("span",{className:"text-white",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(t.shippingCost)})]}),t.discount>0&&o.jsxs("div",{className:"flex justify-between text-[rgb(var(--color-success))]",children:[o.jsxs("span",{children:["Desconto (",t.appliedCoupon,")"]}),o.jsxs("span",{children:["- ",new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(t.discount)]})]}),o.jsxs("div",{className:"flex justify-between font-bold text-lg pt-2 text-[rgb(var(--color-brand-gold))]",children:[o.jsx("span",{children:"Total"}),o.jsx("span",{children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(t.total)})]})]})]}),o.jsx("button",{onClick:e,className:"bg-[rgb(var(--color-brand-gold))] text-black font-bold py-3 px-8 rounded-full text-lg hover:bg-yellow-400 transition-transform transform hover:scale-105",children:"Continuar Comprando"})]})]})},K7=({settings:t,products:e,onSave:n})=>{const[r,s]=j.useState(t),i=JSON.stringify(r)!==JSON.stringify(t);j.useEffect(()=>{s(t)},[t]);const c=()=>{n(r),alert("Configuraes do Order Bump salvas com sucesso!")},d=()=>s(t),f=g=>{const{name:b,value:N}=g.target;s(w=>({...w,[b]:b==="offerPrice"?Number(N):N}))},h=g=>{s(b=>({...b,enabled:g}))},p=e.find(g=>g.id===r.productId);return o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"pb-6 mb-6 flex justify-end items-center border-b border-gray-800",children:o.jsxs("div",{className:"flex items-center gap-4",children:[i&&o.jsx("p",{className:"text-sm text-yellow-400",children:"Voc tem alteraes no salvas."}),o.jsx("button",{onClick:d,disabled:!i,className:"text-sm font-semibold bg-gray-700 text-white py-2 px-4 rounded-md hover:bg-gray-600 disabled:opacity-50",children:"Descartar"}),o.jsx("button",{onClick:c,disabled:!i,className:"text-sm font-bold bg-yellow-500 text-black py-2 px-4 rounded-md hover:bg-yellow-400 disabled:opacity-50",children:"Salvar"})]})}),o.jsx("div",{className:"max-w-4xl mx-auto space-y-8",children:o.jsxs("div",{className:"bg-black border border-gray-800 rounded-lg",children:[o.jsxs("div",{className:"p-4 border-b border-gray-800 flex items-center justify-between",children:[o.jsx("h3",{className:"text-lg font-semibold text-white",children:"Configurao do Order Bump"}),o.jsx(Xe,{checked:r.enabled,onChange:h,labelId:"order-bump-toggle"})]}),r.enabled&&o.jsxs("div",{className:"p-6 space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"productId",className:"block text-sm font-medium text-gray-400 mb-2",children:"Produto da Oferta"}),o.jsx("select",{id:"productId",name:"productId",value:r.productId,onChange:f,className:"w-full bg-gray-800 border-2 border-gray-700 rounded-md py-2 px-3 text-white",children:e.map(g=>o.jsx("option",{value:g.id,children:g.name},g.id))}),p&&o.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Preo original: ",new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(p.price)]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"offerPrice",className:"block text-sm font-medium text-gray-400 mb-2",children:"Preo da Oferta"}),o.jsx("input",{type:"number",id:"offerPrice",name:"offerPrice",value:r.offerPrice,onChange:f,className:"w-full bg-gray-800 border-2 border-gray-700 rounded-md py-2 px-3 text-white"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-400 mb-2",children:"Ttulo da Oferta"}),o.jsx("input",{type:"text",id:"title",name:"title",value:r.title,onChange:f,className:"w-full bg-gray-800 border-2 border-gray-700 rounded-md py-2 px-3 text-white"}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Ex:  SIM, EU QUERO ESTA OFERTA ESPECIAL!"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-400 mb-2",children:"Descrio da Oferta"}),o.jsx("textarea",{id:"description",name:"description",value:r.description,onChange:f,rows:3,className:"w-full bg-gray-800 border-2 border-gray-700 rounded-md py-2 px-3 text-white"})]})]})]})})]})},Y7=({settings:t,products:e,onSave:n})=>{const[r,s]=j.useState(t),i=JSON.stringify(r)!==JSON.stringify(t);j.useEffect(()=>{s(t)},[t]);const c=()=>{n(r),alert("Configuraes do Upsell salvas com sucesso!")},d=()=>s(t),f=g=>{const{name:b,value:N}=g.target;s(w=>({...w,[b]:b==="offerPrice"?Number(N):N}))},h=g=>{s(b=>({...b,enabled:g}))},p=e.find(g=>g.id===r.productId);return o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"pb-6 mb-6 flex justify-end items-center border-b border-gray-800",children:o.jsxs("div",{className:"flex items-center gap-4",children:[i&&o.jsx("p",{className:"text-sm text-yellow-400",children:"Voc tem alteraes no salvas."}),o.jsx("button",{onClick:d,disabled:!i,className:"text-sm font-semibold bg-gray-700 text-white py-2 px-4 rounded-md hover:bg-gray-600 disabled:opacity-50",children:"Descartar"}),o.jsx("button",{onClick:c,disabled:!i,className:"text-sm font-bold bg-yellow-500 text-black py-2 px-4 rounded-md hover:bg-yellow-400 disabled:opacity-50",children:"Salvar"})]})}),o.jsx("div",{className:"max-w-4xl mx-auto space-y-8",children:o.jsxs("div",{className:"bg-black border border-gray-800 rounded-lg",children:[o.jsxs("div",{className:"p-4 border-b border-gray-800 flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-white",children:"Upsell Ps-Compra (One-Click)"}),o.jsx("p",{className:"text-sm text-gray-400",children:"Oferea um produto complementar logo aps a finalizao da compra."})]}),o.jsx(Xe,{checked:r.enabled,onChange:h,labelId:"upsell-toggle"})]}),r.enabled&&o.jsxs("div",{className:"p-6 space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"productId",className:"block text-sm font-medium text-gray-400 mb-2",children:"Produto da Oferta"}),o.jsx("select",{id:"productId",name:"productId",value:r.productId,onChange:f,className:"w-full bg-gray-800 border-2 border-gray-700 rounded-md py-2 px-3 text-white",children:e.map(g=>o.jsx("option",{value:g.id,children:g.name},g.id))}),p&&o.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Preo original: ",new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(p.price)]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"offerPrice",className:"block text-sm font-medium text-gray-400 mb-2",children:"Preo da Oferta de Upsell"}),o.jsx("input",{type:"number",id:"offerPrice",name:"offerPrice",value:r.offerPrice,onChange:f,className:"w-full bg-gray-800 border-2 border-gray-700 rounded-md py-2 px-3 text-white"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-400 mb-2",children:"Ttulo da Oferta"}),o.jsx("input",{type:"text",id:"title",name:"title",value:r.title,onChange:f,className:"w-full bg-gray-800 border-2 border-gray-700 rounded-md py-2 px-3 text-white"}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Ex:  OFERTA NICA PS-COMPRA! "})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-400 mb-2",children:"Descrio da Oferta"}),o.jsx("textarea",{id:"description",name:"description",value:r.description,onChange:f,rows:3,className:"w-full bg-gray-800 border-2 border-gray-700 rounded-md py-2 px-3 text-white"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"acceptButtonText",className:"block text-sm font-medium text-gray-400 mb-2",children:"Texto do Boto de Aceitar"}),o.jsx("input",{type:"text",id:"acceptButtonText",name:"acceptButtonText",value:r.acceptButtonText,onChange:f,className:"w-full bg-gray-800 border-2 border-gray-700 rounded-md py-2 px-3 text-white"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"declineButtonText",className:"block text-sm font-medium text-gray-400 mb-2",children:"Texto do Boto de Recusar"}),o.jsx("input",{type:"text",id:"declineButtonText",name:"declineButtonText",value:r.declineButtonText,onChange:f,className:"w-full bg-gray-800 border-2 border-gray-700 rounded-md py-2 px-3 text-white"})]})]})]})]})})]})},W7=({status:t})=>{const e={"No enviado":"bg-gray-500/20 text-gray-300",Enviado:"bg-blue-500/20 text-blue-300",Recuperado:"bg-green-500/20 text-green-300"};return o.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${e[t]}`,children:t})},X7=({carts:t})=>{const e=t.reduce((r,s)=>r+s.total,0),n=r=>{alert(`Simulao: E-mail de recuperao enviado para ${r}.`)};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"bg-black border border-gray-800 rounded-lg p-6 flex items-center gap-4",children:[o.jsx(Xl,{className:"w-8 h-8 text-yellow-400"}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-gray-400",children:"Carrinhos Abandonados"}),o.jsx("p",{className:"text-2xl font-bold text-white",children:t.length})]})]}),o.jsxs("div",{className:"bg-black border border-gray-800 rounded-lg p-6 flex items-center gap-4",children:[o.jsx(nr,{className:"w-8 h-8 text-yellow-400"}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-gray-400",children:"Valor Total Abandonado"}),o.jsx("p",{className:"text-2xl font-bold text-white",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e)})]})]})]}),o.jsxs("div",{className:"bg-black border border-gray-800 rounded-lg",children:[o.jsx("div",{className:"p-4 border-b border-gray-800",children:o.jsx("h3",{className:"text-lg font-semibold text-white",children:"Lista de Carrinhos"})}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-sm text-left text-gray-400",children:[o.jsx("thead",{className:"text-xs text-gray-400 uppercase bg-black",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3",children:"Cliente"}),o.jsx("th",{className:"px-6 py-3",children:"Data"}),o.jsx("th",{className:"px-6 py-3",children:"Itens"}),o.jsx("th",{className:"px-6 py-3 text-right",children:"Valor"}),o.jsx("th",{className:"px-6 py-3",children:"Status Recuperao"}),o.jsx("th",{className:"px-6 py-3 text-center",children:"Aes"})]})}),o.jsx("tbody",{children:t.map(r=>o.jsxs("tr",{className:"border-b border-gray-800 hover:bg-gray-800/50",children:[o.jsxs("td",{className:"px-6 py-4",children:[o.jsx("p",{className:"font-medium text-white",children:r.customerName}),o.jsx("p",{className:"text-xs text-gray-500",children:r.customerEmail})]}),o.jsx("td",{className:"px-6 py-4",children:new Date(r.abandonedAt).toLocaleString("pt-BR")}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("ul",{className:"text-xs",children:r.items.map(s=>o.jsxs("li",{children:["- ",s.name," (x",s.quantity,")"]},s.id))})}),o.jsx("td",{className:"px-6 py-4 text-right font-semibold text-white",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(r.total)}),o.jsx("td",{className:"px-6 py-4",children:o.jsx(W7,{status:r.recoveryStatus})}),o.jsx("td",{className:"px-6 py-4 text-center",children:o.jsx("button",{onClick:()=>n(r.customerEmail),className:"text-blue-400 hover:text-blue-300 disabled:text-gray-600 disabled:cursor-not-allowed",title:"Enviar e-mail de recuperao",disabled:r.recoveryStatus!=="No enviado",children:o.jsx(Ol,{className:"w-5 h-5"})})})]},r.id))})]})})]})]})},Q7=({status:t})=>{const e={Pendente:{icon:ia,color:"yellow"},Aprovada:{icon:nr,color:"green"},Rejeitada:{icon:aa,color:"red"}},{icon:n,color:r}=e[t],s={yellow:"bg-yellow-500/10 text-yellow-400",green:"bg-green-500/10 text-green-400",red:"bg-red-500/10 text-red-400"};return o.jsxs("span",{className:`inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium rounded-full ${s[r]}`,children:[o.jsx(n,{className:"w-3.5 h-3.5"}),t]})},Z7=({reviews:t,onUpdateStatus:e,onDelete:n})=>{const[r,s]=j.useState([]),[i,c]=j.useState("all"),d=j.useMemo(()=>i==="all"?t:t.filter(g=>g.status===i),[t,i]),f=g=>{s(g.target.checked?d.map(b=>b.id):[])},h=g=>{s(b=>b.includes(g)?b.filter(N=>N!==g):[...b,g])},p=g=>{r.length!==0&&(g==="delete"?window.confirm(`Tem certeza que deseja excluir ${r.length} avaliao(es)?`)&&n(r):e(r,g==="approve"?"Aprovada":"Rejeitada"),s([]))};return o.jsxs("div",{className:"bg-black border border-gray-800 rounded-lg",children:[o.jsxs("div",{className:"p-4 border-b border-gray-800 flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-white",children:"Moderar Avaliaes"}),o.jsx("p",{className:"text-sm text-gray-400",children:"Aprove, rejeite ou exclua as avaliaes enviadas pelos clientes."})]}),o.jsx("div",{className:"flex gap-2",children:["all","Pendente","Aprovada","Rejeitada"].map(g=>o.jsx("button",{onClick:()=>c(g),className:`px-3 py-1 text-sm rounded-full ${i===g?"bg-yellow-500 text-black font-semibold":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,children:g==="all"?"Todas":g},g))})]}),r.length>0&&o.jsxs("div",{className:"p-4 bg-gray-800/50 flex items-center gap-4",children:[o.jsxs("span",{className:"text-sm text-white",children:[r.length," selecionada(s)"]}),o.jsxs("button",{onClick:()=>p("approve"),className:"flex items-center gap-2 text-sm font-semibold bg-green-600/50 text-white py-1.5 px-3 rounded-md hover:bg-green-600",children:[o.jsx(nr,{className:"w-4 h-4"})," Aprovar"]}),o.jsxs("button",{onClick:()=>p("reject"),className:"flex items-center gap-2 text-sm font-semibold bg-red-600/50 text-white py-1.5 px-3 rounded-md hover:bg-red-600",children:[o.jsx(aa,{className:"w-4 h-4"})," Rejeitar"]}),o.jsxs("button",{onClick:()=>p("delete"),className:"flex items-center gap-2 text-sm font-semibold bg-gray-700 text-white py-1.5 px-3 rounded-md hover:bg-gray-600",children:[o.jsx(jt,{className:"w-4 h-4"})," Excluir"]})]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-sm text-left text-gray-400",children:[o.jsx("thead",{className:"text-xs text-gray-400 uppercase bg-black",children:o.jsxs("tr",{children:[o.jsx("th",{className:"p-4",children:o.jsx("input",{type:"checkbox",onChange:f,checked:r.length>0&&r.length===d.length})}),o.jsx("th",{className:"px-6 py-3",children:"Avaliao"}),o.jsx("th",{className:"px-6 py-3",children:"Produto"}),o.jsx("th",{className:"px-6 py-3",children:"Data"}),o.jsx("th",{className:"px-6 py-3",children:"Status"})]})}),o.jsx("tbody",{children:d.map(g=>o.jsxs("tr",{className:"border-b border-gray-800 hover:bg-gray-800/50",children:[o.jsx("td",{className:"w-4 p-4",children:o.jsx("input",{type:"checkbox",checked:r.includes(g.id),onChange:()=>h(g.id)})}),o.jsxs("td",{className:"px-6 py-4 max-w-sm",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx("div",{className:"flex text-yellow-400",children:[...Array(5)].map((b,N)=>o.jsx(ti,{className:`w-4 h-4 ${N<g.rating?"text-yellow-400":"text-gray-600"}`},N))}),o.jsx("p",{className:"font-semibold text-white",children:g.title})]}),o.jsxs("p",{className:"text-xs text-gray-300 italic",children:['"',g.text,'"']}),o.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["- ",g.author]})]}),o.jsx("td",{className:"px-6 py-4 text-white font-medium",children:g.productName}),o.jsx("td",{className:"px-6 py-4",children:new Date(g.createdAt).toLocaleDateString("pt-BR")}),o.jsx("td",{className:"px-6 py-4",children:o.jsx(Q7,{status:g.status})})]},g.id))})]})})]})},eO=({announcements:t,onNavigate:e,onDelete:n})=>{const[r,s]=j.useState(""),[i,c]=j.useState([]),d=j.useMemo(()=>t.filter(p=>p.title.toLowerCase().includes(r.toLowerCase())).sort((p,g)=>p.isPinned&&!g.isPinned?-1:!p.isPinned&&g.isPinned?1:new Date(g.date).getTime()-new Date(p.date).getTime()),[t,r]),f=p=>{c(p.target.checked?d.map(g=>g.id):[])},h=p=>{c(g=>g.includes(p)?g.filter(b=>b!==p):[...g,p])};return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("button",{onClick:()=>e("communication"),className:"flex items-center gap-2 text-sm font-semibold text-gray-300 hover:text-yellow-400",children:[o.jsx(co,{className:"w-5 h-5"}),"Voltar para a Central"]}),o.jsxs("div",{className:"bg-black border border-gray-800 rounded-lg",children:[o.jsxs("div",{className:"p-4 border-b border-gray-800 flex justify-between items-center",children:[o.jsxs("div",{className:"relative max-w-lg",children:[o.jsx("input",{type:"text",placeholder:"Buscar comunicados...",value:r,onChange:p=>s(p.target.value),className:"w-full bg-gray-800 border-2 border-gray-700 rounded-md py-2 pl-10 pr-4"}),o.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:o.jsx(tn,{className:"h-5 w-5 text-gray-400"})})]}),o.jsx("button",{onClick:()=>e("addEditAnnouncement"),className:"text-sm font-bold bg-yellow-500 text-black py-2 px-4 rounded-md hover:bg-yellow-400",children:"+ Novo Comunicado"})]}),i.length>0&&o.jsx("div",{className:"p-4 bg-gray-800/50",children:o.jsxs("button",{onClick:()=>n(i),className:"flex items-center gap-2 text-sm text-red-400 hover:text-red-300",children:[o.jsx(jt,{className:"w-5 h-5"}),"Excluir ",i.length," comunicado(s)"]})}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-sm text-left text-gray-400",children:[o.jsx("thead",{className:"text-xs text-gray-400 uppercase bg-black",children:o.jsxs("tr",{children:[o.jsx("th",{scope:"col",className:"p-4",children:o.jsx("input",{type:"checkbox",onChange:f,checked:i.length>0&&i.length===d.length})}),o.jsx("th",{scope:"col",className:"px-6 py-3",children:"Ttulo"}),o.jsx("th",{scope:"col",className:"px-6 py-3",children:"Data"})]})}),o.jsx("tbody",{children:d.map(p=>o.jsxs("tr",{className:`border-b border-gray-800 hover:bg-gray-800/50 ${p.isPinned?"bg-yellow-400/5":""}`,children:[o.jsx("td",{className:"w-4 p-4",children:o.jsx("input",{type:"checkbox",checked:i.includes(p.id),onChange:()=>h(p.id)})}),o.jsx("td",{className:"px-6 py-4",children:o.jsxs("div",{className:"flex items-center gap-3",children:[p.isPinned&&o.jsx("span",{title:"Fixado",children:o.jsx(fS,{className:"w-5 h-5 text-yellow-400 flex-shrink-0"})}),o.jsx("button",{onClick:()=>e("addEditAnnouncement",p),className:"font-medium text-white hover:text-yellow-400",children:p.title})]})}),o.jsx("td",{className:"px-6 py-4",children:new Date(p.date).toLocaleDateString("pt-BR")})]},p.id))})]})})]})]})},tO=({announcement:t,onSave:e,onCancel:n})=>{const r=!!t,[s,i]=j.useState({title:"",content:"",isPinned:!1,date:new Date().toISOString(),...t}),c=j.useRef(null),[d,f]=j.useState(!1),h=b=>{const{name:N,value:w}=b.target;i(S=>({...S,[N]:w}))},p=b=>{var N;if(b.preventDefault(),!((N=s.title)!=null&&N.trim())){alert("Por favor, insira um ttulo.");return}e(s)},g=async()=>{if(!s.title){alert("Por favor, insira um ttulo antes de gerar o contedo.");return}f(!0);try{const b=new hi({apiKey:"PLACEHOLDER_API_KEY"}),N=`Voc  um especialista em comunicao interna para uma empresa de luxo chamada RS Prlipsi. Com base no ttulo do comunicado "${s.title}", escreva um comunicado oficial claro, profissional e engajador. Use formatao rica em HTML, como ttulos (h2), pargrafos (p), listas (ul/li) e negrito (strong) para uma boa legibilidade.`,w=await b.models.generateContent({model:"gemini-2.5-flash",contents:N});i(S=>({...S,content:w.text??""}))}catch(b){console.error("AI Content Generation Error:",b),alert("Ocorreu um erro ao gerar o contedo. Tente novamente.")}finally{f(!1)}};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"pb-6 mb-6 flex justify-between items-center border-b border-gray-800",children:[o.jsx("h1",{className:"text-2xl font-bold text-white",children:r?"Editar Comunicado":"Novo Comunicado"}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("button",{type:"button",onClick:n,className:"text-sm font-semibold bg-gray-700 text-white py-2 px-4 rounded-md",children:"Descartar"}),o.jsx("button",{type:"button",onClick:()=>{var b;return(b=c.current)==null?void 0:b.requestSubmit()},className:"text-sm font-bold bg-yellow-500 text-black py-2 px-4 rounded-md",children:"Salvar"})]})]}),o.jsx("form",{onSubmit:p,ref:c,className:"max-w-4xl mx-auto space-y-6",children:o.jsxs("div",{className:"bg-black border border-gray-800 rounded-lg p-6 space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-white mb-2",children:"Ttulo"}),o.jsx("input",{type:"text",name:"title",id:"title",value:s.title,onChange:h,className:"w-full bg-gray-800 border-2 border-gray-700 rounded-md py-2 px-3 text-white"})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsx("label",{className:"block text-sm font-medium text-white",children:"Contedo"}),o.jsxs("button",{type:"button",onClick:g,disabled:d,className:"flex items-center gap-1.5 text-sm font-semibold bg-yellow-500/10 text-yellow-400 py-1 px-3 rounded-md",children:[d?o.jsx(Qn,{className:"w-4 h-4"}):o.jsx(_u,{className:"w-4 h-4"}),d?"Gerando...":"Gerar com IA"]})]}),o.jsx(Ow,{value:s.content||"",onChange:b=>i(N=>({...N,content:b}))})]}),o.jsxs("div",{className:"flex items-center gap-3 pt-4",children:[o.jsx(Xe,{checked:!!s.isPinned,onChange:b=>i(N=>({...N,isPinned:b})),labelId:"pin-toggle"}),o.jsx("label",{htmlFor:"pin-toggle",className:"text-sm text-white",children:"Fixar no topo da lista"})]})]})})]})},nO=({module:t,onNavigate:e,completedLessons:n})=>{const r=t.lessons.filter(i=>n.includes(i.id)).length,s=t.lessons.length>0?r/t.lessons.length*100:0;return o.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-lg overflow-hidden group flex flex-col transition-all duration-300 hover:shadow-lg hover:shadow-yellow-500/10 hover:border-gray-700 hover:-translate-y-1",children:[o.jsxs("div",{className:"relative",children:[o.jsx("img",{src:t.thumbnailUrl,alt:t.title,className:"w-full h-40 object-cover"}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/40 to-transparent"}),o.jsxs("div",{className:"absolute top-2 right-2 bg-black/50 text-white text-xs px-2 py-1 rounded-full",children:[t.lessons.length," Aulas"]})]}),o.jsxs("div",{className:"p-4 flex flex-col flex-grow",children:[o.jsx("h3",{className:"text-lg font-bold text-white group-hover:text-yellow-400 transition-colors flex-grow",children:t.title}),o.jsx("p",{className:"text-sm text-gray-400 mt-2 h-16",children:t.description}),o.jsxs("div",{className:"mt-4",children:[o.jsxs("div",{className:"flex justify-between items-center text-xs text-gray-400 mb-1",children:[o.jsx("span",{children:"Progresso"}),o.jsxs("span",{children:[s.toFixed(0),"%"]})]}),o.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2",children:o.jsx("div",{className:"bg-yellow-400 h-2 rounded-full",style:{width:`${s}%`}})}),o.jsx("button",{onClick:e,className:"w-full mt-6 bg-gray-700 text-white font-bold py-2 px-4 rounded-md hover:bg-yellow-500 hover:text-black transition-colors",children:"Acessar Treinamento"})]})]})]})},rO=({trainings:t,onNavigate:e,completedLessons:n})=>o.jsxs("div",{className:"space-y-6",children:[o.jsxs("button",{onClick:()=>e("communication"),className:"flex items-center gap-2 text-sm font-semibold text-gray-300 hover:text-yellow-400 -mb-2",children:[o.jsx(co,{className:"w-5 h-5"}),"Voltar para a Central de Comunicao"]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-white",children:"Central de Treinamentos"}),o.jsx("p",{className:"text-gray-400",children:"Capacite-se e impulsione seus resultados."})]}),o.jsxs("button",{onClick:()=>e("addEditTraining"),className:"flex items-center gap-2 text-sm font-bold bg-yellow-500 text-black py-2 px-4 rounded-md hover:bg-yellow-400",children:[o.jsx(Zg,{className:"w-5 h-5"}),"Adicionar Mdulo"]})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:t.map(r=>o.jsx(nO,{module:r,completedLessons:n,onNavigate:()=>e("trainingModuleDetail",r)},r.id))})]}),sO=({training:t,onSave:e,onCancel:n})=>{const r=!!t,[s,i]=j.useState({title:"",description:"",thumbnailUrl:"",lessons:[],...t}),c=j.useRef(null),d=b=>{const{name:N,value:w}=b.target;i(S=>({...S,[N]:w}))},f=(b,N,w)=>{const S=[...s.lessons||[]];S[b][N]=w,i(T=>({...T,lessons:S}))},h=()=>{const b={id:`l-${Date.now()}`,title:"Nova Aula",videoUrl:"",content:""};i(N=>({...N,lessons:[...N.lessons||[],b]}))},p=b=>{i(N=>({...N,lessons:(N.lessons||[]).filter((w,S)=>S!==b)}))},g=b=>{if(b.preventDefault(),!s.title){alert("O ttulo do mdulo  obrigatrio.");return}e(s)};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"pb-6 mb-6 flex justify-between items-center border-b border-gray-800",children:[o.jsx("h1",{className:"text-2xl font-bold text-white",children:r?"Editar Mdulo":"Novo Mdulo de Treinamento"}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("button",{type:"button",onClick:n,className:"text-sm font-semibold bg-gray-700 text-white py-2 px-4 rounded-md",children:"Descartar"}),o.jsx("button",{type:"button",onClick:()=>{var b;return(b=c.current)==null?void 0:b.requestSubmit()},className:"text-sm font-bold bg-yellow-500 text-black py-2 px-4 rounded-md",children:"Salvar Mdulo"})]})]}),o.jsxs("form",{onSubmit:g,ref:c,className:"max-w-4xl mx-auto space-y-6",children:[o.jsxs("div",{className:"bg-black border border-gray-800 rounded-lg p-6 space-y-4",children:[o.jsx("input",{name:"title",value:s.title,onChange:d,placeholder:"Ttulo do Mdulo",className:"w-full bg-gray-800 border-2 border-gray-700 rounded-md py-2 px-3 text-white"}),o.jsx("textarea",{name:"description",value:s.description,onChange:d,placeholder:"Descrio do Mdulo",rows:3,className:"w-full bg-gray-800 border-2 border-gray-700 rounded-md py-2 px-3 text-white"}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Imagem de Capa (Thumbnail)"}),o.jsx(Et,{currentImage:s.thumbnailUrl||"",onImageUpload:b=>i(N=>({...N,thumbnailUrl:b})),placeholderText:"Capa do Mdulo"})]})]}),o.jsxs("div",{className:"bg-black border border-gray-800 rounded-lg p-6 space-y-4",children:[o.jsx("h3",{className:"text-lg font-semibold text-white",children:"Aulas do Mdulo"}),o.jsx("div",{className:"space-y-4",children:(s.lessons||[]).map((b,N)=>o.jsxs("div",{className:"bg-gray-800/50 p-4 rounded-lg border border-gray-700",children:[o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsxs("h4",{className:"font-semibold text-white",children:["Aula ",N+1]}),o.jsx("button",{type:"button",onClick:()=>p(N),className:"text-gray-400 hover:text-red-500",children:o.jsx(jt,{className:"w-5 h-5"})})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("input",{value:b.title,onChange:w=>f(N,"title",w.target.value),placeholder:"Ttulo da Aula",className:"w-full bg-gray-800 border-2 border-gray-700 rounded-md py-1 px-2 text-white text-sm"}),o.jsx("input",{value:b.videoUrl,onChange:w=>f(N,"videoUrl",w.target.value),placeholder:"URL do Vdeo",className:"w-full bg-gray-800 border-2 border-gray-700 rounded-md py-1 px-2 text-white text-sm"}),o.jsx("textarea",{value:b.content,onChange:w=>f(N,"content",w.target.value),placeholder:"Contedo/Transcrio para IA",rows:4,className:"w-full bg-gray-800 border-2 border-gray-700 rounded-md py-1 px-2 text-white text-sm"})]})]},N))}),o.jsx("button",{type:"button",onClick:h,className:"mt-4 text-sm font-semibold bg-gray-700 text-white py-2 px-4 rounded-md hover:bg-gray-600",children:"+ Adicionar Aula"})]})]})]})},oO=t=>o.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:[o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}),o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.91 11.672a.375.375 0 010 .656l-5.603 3.113a.375.375 0 01-.557-.328V8.887c0-.286.307-.466.557-.327l5.603 3.112z"})]}),aO=t=>o.jsx("svg",{...t,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 12L3.269 3.126A59.768 59.768 0 0121.485 12 59.77 59.77 0 013.27 20.876L5.999 12zm0 0h7.5"})}),iO=t=>o.jsx("svg",{...t,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.217 10.907a2.25 2.25 0 100 2.186m0-2.186c.18.324.283.696.283 1.093s-.103.77-.283 1.093m0-2.186l9.566-5.314m-9.566 7.5l9.566 5.314m0 0a2.25 2.25 0 100-2.186m0 2.186c-.18.324-.283.696-.283 1.093s.103.77.283 1.093m0-2.186l-9.566-5.314"})}),lO=({module:t,onNavigate:e,completedLessons:n,onToggleLessonComplete:r,onLikeLesson:s})=>{var re;const[i,c]=j.useState(t.lessons[0]||null),[d,f]=j.useState([{sender:"ai",text:"Ol! Faa uma pergunta sobre esta aula e eu responderei com base no contedo."}]),[h,p]=j.useState(""),[g,b]=j.useState(!1),[N,w]=j.useState(null),[S,T]=j.useState(null),[E,M]=j.useState({}),[D,H]=j.useState(null),[V,z]=j.useState("");j.useEffect(()=>{c(t.lessons[0]||null),f([{sender:"ai",text:"Ol! Faa uma pergunta sobre esta aula e eu responderei com base no contedo."}]),T(null),M({}),H(null)},[t]),j.useEffect(()=>{f([{sender:"ai",text:"Ol! Faa uma pergunta sobre esta aula e eu responderei com base no contedo."}]),T(null),M({}),H(null)},[i]);const P=async le=>{if(!i)return;b(!0);const ge=new hi({apiKey:"PLACEHOLDER_API_KEY"});let Y="",O="";try{if(le==="summarize")Y=`Resuma o seguinte contedo da aula de forma concisa e clara:

---
${i.content}
---`,O=`Resumo da Aula: ${i.title}`;else if(le==="explain")Y=`Explique os conceitos chave do seguinte contedo da aula como se eu fosse um iniciante:

---
${i.content}
---`,O=`Explicao da Aula: ${i.title}`;else if(le==="quiz"){const pe=await ge.models.generateContent({model:"gemini-2.5-flash",contents:`Gere um quiz com 3 perguntas de mltipla escolha (4 opes cada) sobre o seguinte contedo:

---
${i.content}
---`,config:{responseMimeType:"application/json",responseSchema:{type:Lt.OBJECT,properties:{questions:{type:Lt.ARRAY,items:{type:Lt.OBJECT,properties:{question:{type:Lt.STRING},options:{type:Lt.ARRAY,items:{type:Lt.STRING}},correctAnswerIndex:{type:Lt.INTEGER}}}}}}}}),we=JSON.parse(pe.text??"{}");we.questions&&(T(we.questions),H(null),M({})),b(!1);return}const J=await ge.models.generateContent({model:"gemini-2.5-flash",contents:Y});w({title:O,content:J.text??"No foi possvel gerar uma resposta."})}catch(J){console.error("AI Interaction Error:",J),w({title:"Erro",content:"Ocorreu um erro ao processar sua solicitao."})}finally{b(!1)}},te=async()=>{if(!h.trim()||!i)return;const le={sender:"user",text:h};f(ge=>[...ge,le]),p(""),b(!0);try{const ge=new hi({apiKey:"PLACEHOLDER_API_KEY"}),Y=`Voc  a RSIA, uma assistente de IA da RS Prlipsi. Responda  pergunta do usurio baseando-se ESTREITAMENTE no contedo da aula fornecido abaixo. Se a resposta no estiver no contedo, diga que voc s pode responder sobre o material da aula.

[CONTEDO DA AULA]
${i.content}

[PERGUNTA DO USURIO]
${h}`,J={sender:"ai",text:(await ge.models.generateContent({model:"gemini-2.5-flash",contents:Y})).text??"No consegui processar sua pergunta."};f(pe=>[...pe,J])}catch(ge){console.error("AI Chat Error:",ge);const Y={sender:"ai",text:"Desculpe, ocorreu um erro."};f(O=>[...O,Y])}finally{b(!1)}},K=()=>{if(!S)return;let le=0;S.forEach((ge,Y)=>{E[Y]===ge.correctAnswerIndex&&le++}),H({score:le,total:S.length})},ce=async()=>{if(!i)return;const le={title:`Treinamento RS Prlipsi: ${t.title}`,text:`Estou fazendo a aula "${i.title}". Confira!`,url:window.location.href};try{if(navigator.share)await navigator.share(le);else throw new Error("Web Share API not supported")}catch{await navigator.clipboard.writeText(le.url),z("Link copiado para a rea de transferncia!"),setTimeout(()=>z(""),2500)}};if(!i)return o.jsxs("div",{children:[o.jsxs("button",{onClick:()=>e("manageTrainings"),className:"flex items-center gap-2 text-sm font-semibold text-gray-300 hover:text-yellow-500 mb-4",children:[o.jsx(co,{className:"w-5 h-5"})," Voltar para todos os treinamentos"]}),o.jsx("p",{children:"Nenhuma aula encontrada neste mdulo."})]});const ye=((re=t.lessons.find(le=>le.id===i.id))==null?void 0:re.likes)||0;return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("button",{onClick:()=>e("manageTrainings"),className:"flex items-center gap-2 text-sm font-semibold text-gray-300 hover:text-yellow-500",children:[o.jsx(co,{className:"w-5 h-5"})," Voltar para todos os treinamentos"]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[o.jsx("div",{className:"aspect-video bg-black rounded-lg flex items-center justify-center border border-gray-800",children:i.videoUrl&&i.videoUrl!=="placeholder.mp4"?o.jsx("video",{src:i.videoUrl,controls:!0,autoPlay:!0,className:"w-full h-full rounded-lg"},i.id):o.jsx("p",{className:"text-gray-500",children:"Vdeo indisponvel"})}),o.jsxs("div",{className:"bg-black border border-gray-800 rounded-lg p-6 space-y-4",children:[o.jsx("h2",{className:"text-2xl font-bold text-white",children:i.title}),o.jsxs("div",{className:"flex flex-wrap items-center gap-2 border-b border-gray-800 pb-4",children:[o.jsxs("button",{onClick:()=>P("summarize"),disabled:g,className:"flex items-center gap-1.5 text-sm font-semibold bg-yellow-500/10 text-yellow-400 py-2 px-3 rounded-md hover:bg-yellow-500/20",children:[o.jsx(zu,{className:"w-4 h-4"})," Resumir"]}),o.jsxs("button",{onClick:()=>P("explain"),disabled:g,className:"flex items-center gap-1.5 text-sm font-semibold bg-yellow-500/10 text-yellow-400 py-2 px-3 rounded-md hover:bg-yellow-500/20",children:[o.jsx(zu,{className:"w-4 h-4"})," Explicar"]})]}),o.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[o.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:n.includes(i.id),onChange:()=>r(i.id),className:"h-5 w-5 rounded bg-gray-700 border-gray-600 text-yellow-500 focus:ring-yellow-600"}),o.jsx("span",{className:"font-semibold text-white",children:"Marcar como concluda"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{onClick:()=>P("quiz"),disabled:g,className:"text-sm font-semibold bg-gray-700 text-white py-2 px-4 rounded-md hover:bg-gray-600",children:"Gerar Quiz"}),o.jsxs("button",{onClick:()=>s(t.id,i.id),className:"flex items-center gap-2 text-sm font-semibold bg-gray-700 text-white py-2 px-4 rounded-md hover:bg-gray-600",children:[o.jsx(Hu,{className:"w-4 h-4"})," ",ye]}),o.jsxs("div",{className:"relative",children:[o.jsxs("button",{onClick:ce,className:"flex items-center gap-2 text-sm font-semibold bg-gray-700 text-white py-2 px-4 rounded-md hover:bg-gray-600",children:[o.jsx(iO,{className:"w-4 h-4"})," Compartilhar"]}),V&&o.jsxs("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 bg-green-500 text-black text-xs font-bold px-2 py-1 rounded-md flex items-center gap-1 whitespace-nowrap",children:[o.jsx(uo,{className:"w-4 h-4"}),V]})]})]})]}),S&&o.jsxs("div",{className:"space-y-4 border-t border-gray-800 pt-4",children:[o.jsx("h3",{className:"font-bold text-lg text-white",children:"Quiz da Aula"}),S.map((le,ge)=>o.jsxs("div",{className:"text-sm",children:[o.jsxs("p",{className:"font-semibold text-gray-200 mb-2",children:[ge+1,". ",le.question]}),o.jsx("div",{className:"space-y-2",children:le.options.map((Y,O)=>o.jsxs("label",{className:`flex items-center gap-2 p-2 rounded-md border ${E[ge]===O?"border-yellow-500":"border-gray-700"}`,children:[o.jsx("input",{type:"radio",name:`q-${ge}`,checked:E[ge]===O,onChange:()=>M(J=>({...J,[ge]:O})),disabled:!!D}),o.jsx("span",{children:Y})]},O))})]},ge)),D?o.jsxs("div",{className:`p-3 rounded-lg text-center font-bold ${D.score/D.total>=.7?"bg-green-500/20 text-green-300":"bg-red-500/20 text-red-300"}`,children:["Voc acertou ",D.score," de ",D.total," perguntas!"]}):o.jsx("button",{onClick:K,className:"text-sm font-bold bg-yellow-500 text-black py-2 px-4 rounded-md hover:bg-yellow-400",children:"Verificar Respostas"})]}),o.jsxs("div",{className:"border-t border-gray-800 pt-4",children:[o.jsx("h3",{className:"font-semibold text-white mb-2",children:"Pergunte  RSIA sobre esta aula"}),o.jsxs("div",{className:"bg-gray-900/50 p-3 rounded-lg h-64 flex flex-col",children:[o.jsxs("div",{className:"flex-grow space-y-3 overflow-y-auto pr-2 text-sm",children:[d.map((le,ge)=>o.jsx("div",{className:`flex ${le.sender==="ai"?"justify-start":"justify-end"}`,children:o.jsx("div",{className:`p-2 rounded-lg max-w-[80%] ${le.sender==="ai"?"bg-gray-700":"bg-yellow-600 text-black"}`,children:le.text})},ge)),g&&o.jsx("div",{className:"flex justify-start",children:o.jsx(Qn,{className:"w-5 h-5 text-yellow-400"})})]}),o.jsxs("div",{className:"flex items-center gap-2 pt-2",children:[o.jsx("input",{type:"text",value:h,onChange:le=>p(le.target.value),onKeyDown:le=>le.key==="Enter"&&te(),placeholder:"Faa uma pergunta...",className:"flex-grow bg-gray-800 border-2 border-gray-700 rounded-full py-2 px-4 text-white"}),o.jsx("button",{onClick:te,className:"p-2 bg-yellow-500 rounded-full text-black",children:o.jsx(aO,{className:"w-5 h-5"})})]})]})]})]})]}),o.jsxs("div",{className:"bg-black border border-gray-800 rounded-lg p-4 space-y-2 self-start",children:[o.jsx("h3",{className:"font-bold text-lg text-white mb-2 px-2",children:t.title}),t.lessons.map((le,ge)=>{const Y=n.includes(le.id),O=(i==null?void 0:i.id)===le.id;return o.jsxs("button",{onClick:()=>c(le),className:`w-full text-left flex items-center gap-3 p-3 rounded-lg transition-colors ${O?"bg-yellow-500/10":"hover:bg-gray-800/50"}`,children:[Y?o.jsx(nr,{className:"w-6 h-6 text-green-400 flex-shrink-0"}):o.jsx(oO,{className:"w-6 h-6 text-gray-500 flex-shrink-0"}),o.jsxs("span",{className:`font-semibold ${O?"text-yellow-400":"text-white"}`,children:["Aula ",ge+1,": ",le.title]})]},le.id)}),o.jsx("button",{onClick:()=>e("addEditTraining",t),className:"w-full text-left font-bold text-yellow-500 p-3 rounded-lg hover:bg-gray-800/50",children:"+ Adicionar Aula"})]})]}),N&&o.jsx("div",{className:"fixed inset-0 bg-black/70 z-50 flex items-center justify-center p-4",onClick:()=>w(null),children:o.jsxs("div",{className:"bg-black border border-gray-800 rounded-lg w-full max-w-2xl max-h-[80vh] flex flex-col",onClick:le=>le.stopPropagation(),children:[o.jsxs("header",{className:"flex items-center justify-between p-4 border-b border-gray-800",children:[o.jsx("h2",{className:"text-xl font-bold text-white",children:N.title}),o.jsx("button",{onClick:()=>w(null),children:o.jsx(zn,{className:"w-6 h-6 text-gray-400 hover:text-white"})})]}),o.jsx("main",{className:"p-6 overflow-y-auto prose prose-invert max-w-none",dangerouslySetInnerHTML:{__html:N.content.replace(/\n/g,"<br />")}})]})})]})},cO=({assets:t,onNavigate:e,onDelete:n})=>{const[r,s]=j.useState(""),[i,c]=j.useState([]),[d,f]=j.useState(null),h=j.useMemo(()=>t.filter(b=>b.name.toLowerCase().includes(r.toLowerCase())),[t,r]),p=b=>{c(N=>N.includes(b)?N.filter(w=>w!==b):[...N,b])},g=b=>{b.format==="PDF"?window.open(b.downloadUrl,"_blank"):f(b)};return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("button",{onClick:()=>e("communication"),className:"flex items-center gap-2 text-sm font-semibold text-gray-300 hover:text-yellow-400",children:[o.jsx(co,{className:"w-5 h-5"}),"Voltar para a Central"]}),o.jsxs("div",{className:"bg-black border border-gray-800 rounded-lg",children:[o.jsxs("div",{className:"p-4 border-b border-gray-800 flex justify-between items-center",children:[o.jsxs("div",{className:"relative max-w-lg",children:[o.jsx("input",{type:"text",placeholder:"Buscar materiais...",value:r,onChange:b=>s(b.target.value),className:"w-full bg-gray-800 border-2 border-gray-700 rounded-md py-2 pl-10 pr-4"}),o.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:o.jsx(tn,{className:"h-5 w-5 text-gray-400"})})]}),o.jsx("button",{onClick:()=>e("addEditMarketingAsset"),className:"text-sm font-bold bg-yellow-500 text-black py-2 px-4 rounded-md hover:bg-yellow-400",children:"+ Novo Material"})]}),i.length>0&&o.jsx("div",{className:"p-4 bg-gray-800/50",children:o.jsxs("button",{onClick:()=>n(i),className:"flex items-center gap-2 text-sm text-red-400 hover:text-red-300",children:[o.jsx(jt,{className:"w-5 h-5"}),"Excluir ",i.length," item(s)"]})}),o.jsx("div",{className:"p-6",children:o.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4",children:h.map(b=>o.jsxs("div",{className:"relative group bg-gray-800/50 rounded-lg p-2 flex flex-col",children:[o.jsx("div",{className:"absolute top-2 left-2 z-10",children:o.jsx("input",{type:"checkbox",checked:i.includes(b.id),onChange:()=>p(b.id),className:"h-4 w-4 rounded bg-gray-900 border-gray-600 text-yellow-500 focus:ring-yellow-600"})}),o.jsx("button",{onClick:()=>g(b),className:"aspect-square bg-gray-800 flex items-center justify-center rounded-md mb-2 overflow-hidden flex-grow",children:b.format==="PDF"?o.jsx(as,{className:"w-16 h-16 text-gray-500"}):o.jsx("img",{src:b.previewUrl,alt:b.name,className:"w-full h-full object-contain"})}),o.jsx("p",{className:"text-xs font-semibold text-white truncate text-center",title:b.name,children:b.name}),o.jsxs("div",{className:"absolute inset-0 bg-black/70 opacity-0 group-hover:opacity-100 transition-opacity flex flex-col items-center justify-center p-2",children:[o.jsx("button",{onClick:()=>e("addEditMarketingAsset",b),className:"text-sm font-semibold bg-gray-700 text-white py-2 px-4 rounded-md hover:bg-gray-600 mb-2 w-full",children:"Editar"}),o.jsx("button",{onClick:()=>g(b),className:"flex items-center justify-center gap-2 text-sm font-semibold bg-yellow-500 text-black py-2 px-4 rounded-md hover:bg-yellow-400 w-full",children:b.format==="PDF"?"Abrir":"Visualizar"})]})]},b.id))})})]}),d&&o.jsx("div",{className:"fixed inset-0 bg-black/80 z-50 flex items-center justify-center p-4",onClick:()=>f(null),children:o.jsxs("div",{className:"bg-black border border-gray-800 rounded-lg w-full max-w-4xl max-h-[90vh] flex flex-col",onClick:b=>b.stopPropagation(),children:[o.jsxs("header",{className:"flex items-center justify-between p-4 border-b border-gray-800",children:[o.jsx("h2",{className:"text-lg font-semibold text-white truncate",children:d.name}),o.jsx("button",{onClick:()=>f(null),children:o.jsx(zn,{className:"w-6 h-6 text-gray-400 hover:text-white"})})]}),o.jsx("main",{className:"p-4 flex-grow flex items-center justify-center overflow-auto",children:o.jsx("img",{src:d.previewUrl,alt:d.name,className:"max-w-full max-h-full object-contain"})}),o.jsx("footer",{className:"p-4 border-t border-gray-800 bg-gray-900/50 text-right",children:o.jsxs("a",{href:d.downloadUrl,download:d.name,className:"inline-flex items-center gap-2 text-sm font-bold bg-yellow-500 text-black py-2 px-4 rounded-md hover:bg-yellow-400",children:[o.jsx(Qp,{className:"w-5 h-5"})," Baixar"]})})]})})]})},dO=({asset:t,onSave:e,onCancel:n})=>{const r=!!t,[s,i]=j.useState({name:"",type:"banner",format:"JPG",downloadUrl:"",previewUrl:"",...t}),c=j.useRef(null),[d,f]=j.useState(""),[h,p]=j.useState(!1),[g,b]=j.useState(null),N=M=>{const{name:D,value:H}=M.target;i(V=>({...V,[D]:H}))},w=M=>{if(M.target.files&&M.target.files[0]){const D=M.target.files[0];if(s.format==="PDF"&&D.type!=="application/pdf"){alert("Por favor, selecione um arquivo PDF.");return}b(D),s.format==="PDF"&&i(H=>({...H,previewUrl:"https://i.imgur.com/S5OK3sI.png",name:H.name||D.name.replace(/\.[^/.]+$/,"")}))}},S=M=>{M.preventDefault();const D=s.format==="JPG"||s.format==="PNG";if(!s.name||D&&!s.previewUrl){alert("Nome e pr-visualizao so obrigatrios.");return}if(s.format==="PDF"&&!g&&!r){alert("Por favor, envie um arquivo PDF.");return}let H={...s};if(g){const V=URL.createObjectURL(g);D&&(H.previewUrl=V),H.downloadUrl=V}else D&&!H.downloadUrl&&(H.downloadUrl=H.previewUrl);e(H)},T=async()=>{if(!d.trim()){alert("Por favor, descreva a imagem que voc quer gerar.");return}p(!0),i(M=>({...M,format:"JPG"}));try{const M=new hi({apiKey:"PLACEHOLDER_API_KEY"}),D=`Um material de marketing para a marca de luxo "RS Prlipsi". Estilo sofisticado, com tema de preto e dourado. Briefing: "${d}"`,z=`data:image/jpeg;base64,${(await M.models.generateImages({model:"imagen-4.0-generate-001",prompt:D,config:{numberOfImages:1,outputMimeType:"image/jpeg"}})).generatedImages[0].image.imageBytes}`;i(P=>({...P,previewUrl:z,downloadUrl:z,name:P.name||d}))}catch(M){console.error("AI Image Generation Error:",M),alert("Erro ao gerar imagem. Tente novamente.")}finally{p(!1)}},E=s.format==="JPG"||s.format==="PNG";return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"pb-6 mb-6 flex justify-between items-center border-b border-gray-800",children:[o.jsx("h1",{className:"text-2xl font-bold text-white",children:r?"Editar Material":"Novo Material"}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("button",{type:"button",onClick:n,className:"text-sm font-semibold bg-gray-700 text-white py-2 px-4 rounded-md",children:"Descartar"}),o.jsx("button",{type:"button",onClick:()=>{var M;return(M=c.current)==null?void 0:M.requestSubmit()},className:"text-sm font-bold bg-yellow-500 text-black py-2 px-4 rounded-md",children:"Salvar"})]})]}),o.jsxs("form",{onSubmit:S,ref:c,className:"max-w-4xl mx-auto space-y-6",children:[o.jsxs("div",{className:"bg-black border border-gray-800 rounded-lg p-6 space-y-4",children:[o.jsx("h3",{className:"text-lg font-semibold text-white",children:"Gerar Imagem com IA"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("input",{value:d,onChange:M=>f(M.target.value),placeholder:"Descreva a imagem (ex: 'Banner para o dia das mes com um relgio dourado')",className:"flex-grow bg-gray-800 border-2 border-gray-700 rounded-md py-2 px-3 text-white"}),o.jsxs("button",{type:"button",onClick:T,disabled:h,className:"font-semibold bg-yellow-500/10 text-yellow-400 py-2 px-4 rounded-md flex items-center gap-2",children:[h?o.jsx(Qn,{className:"w-5 h-5"}):o.jsx(_u,{className:"w-5 h-5"}),"Gerar"]})]})]}),o.jsxs("div",{className:"bg-black border border-gray-800 rounded-lg p-6 space-y-4",children:[o.jsx("input",{name:"name",value:s.name,onChange:N,placeholder:"Nome do Material",className:"w-full bg-gray-800 border-2 border-gray-700 rounded-md py-2 px-3 text-white"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("select",{name:"type",value:s.type,onChange:N,className:"w-full bg-gray-800 border-2 border-gray-700 rounded-md py-2 px-3 text-white",children:[o.jsx("option",{value:"banner",children:"Banner"}),o.jsx("option",{value:"logo",children:"Logo"}),o.jsx("option",{value:"template",children:"Template"})]}),o.jsxs("select",{name:"format",value:s.format,onChange:N,className:"w-full bg-gray-800 border-2 border-gray-700 rounded-md py-2 px-3 text-white",children:[o.jsx("option",{value:"JPG",children:"JPG"}),o.jsx("option",{value:"PNG",children:"PNG"}),o.jsx("option",{value:"PDF",children:"PDF"})]})]}),E?o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Arquivo de Imagem"}),o.jsx(Et,{currentImage:s.previewUrl||"",onImageUpload:M=>i(D=>({...D,previewUrl:M,downloadUrl:M})),placeholderText:"Arraste ou envie uma imagem"})]}):o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Arquivo PDF"}),o.jsx("div",{className:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-700 border-dashed rounded-md",children:o.jsxs("div",{className:"space-y-1 text-center",children:[o.jsx(as,{className:"mx-auto h-12 w-12 text-gray-400"}),o.jsxs("div",{className:"flex text-sm text-gray-500",children:[o.jsxs("label",{htmlFor:"file-upload",className:"relative cursor-pointer bg-gray-800 rounded-md font-medium text-yellow-400 hover:text-yellow-300 focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-yellow-500 px-2",children:[o.jsx("span",{children:"Envie um arquivo"}),o.jsx("input",{id:"file-upload",name:"file-upload",type:"file",className:"sr-only",accept:".pdf",onChange:w})]}),o.jsx("p",{className:"pl-1",children:"ou arraste e solte"})]}),g&&o.jsx("p",{className:"text-xs text-green-400",children:g.name}),!g&&r&&s.downloadUrl&&o.jsxs("p",{className:"text-xs text-gray-400",children:["Arquivo atual: ",o.jsxs("a",{href:s.downloadUrl,target:"_blank",rel:"noopener noreferrer",className:"underline",children:[s.name,".pdf"]})]})]})})]}),s.format==="PDF"&&o.jsx("input",{name:"downloadUrl",value:s.downloadUrl,onChange:N,placeholder:"URL para Download (se j estiver hospedado)",className:"w-full bg-gray-800 border-2 border-gray-700 rounded-md py-2 px-3 text-white"})]})]})]})},uO=({wishlist:t,products:e,onNavigate:n,onToggleWishlist:r})=>{const s=e.filter(i=>t.includes(i.id));return o.jsxs("div",{className:"container mx-auto px-4 py-12",children:[o.jsx("h1",{className:"text-3xl md:text-4xl font-bold font-display text-white mb-8",children:"Minha Lista de Desejos"}),s.length>0?o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8",children:s.map(i=>o.jsx(ea,{product:i,onClick:()=>n("productDetail",i),wishlist:t,onToggleWishlist:r},i.id))}):o.jsxs("div",{className:"text-center py-20 bg-gray-900/50 rounded-lg",children:[o.jsx(Hu,{className:"w-16 h-16 mx-auto text-gray-600"}),o.jsx("h2",{className:"mt-4 text-2xl font-bold text-white",children:"Sua lista de desejos est vazia."}),o.jsx("p",{className:"mt-2 text-gray-400",children:"Adicione seus produtos favoritos clicando no corao."}),o.jsx("button",{onClick:()=>n("home"),className:"mt-6 bg-yellow-500 text-black font-bold py-2 px-6 rounded-full hover:bg-yellow-400",children:"Explorar Produtos"})]})]})},fO=({onProductClick:t,products:e,wishlist:n,onToggleWishlist:r})=>e.length===0?null:o.jsx("section",{id:"recently-viewed",className:"py-16 sm:py-24 bg-[rgb(var(--color-brand-dark))]",children:o.jsxs("div",{className:"container mx-auto px-4",children:[o.jsxs("div",{className:"text-center mb-12",children:[o.jsx("h2",{className:"text-3xl md:text-4xl font-bold font-display text-[rgb(var(--color-brand-text-light))]",children:"Vistos Recentemente"}),o.jsx("p",{className:"mt-4 max-w-2xl mx-auto text-lg text-[rgb(var(--color-brand-text-dim))]",children:"Revisite os produtos que chamaram sua ateno."})]}),o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8",children:e.map(s=>o.jsx(ea,{product:s,onClick:()=>t(s),wishlist:n,onToggleWishlist:r},s.id))})]})}),hO=({orders:t,onOrderFound:e})=>{const[n,r]=j.useState(""),[s,i]=j.useState(""),[c,d]=j.useState(""),[f,h]=j.useState(!1),p=g=>{g.preventDefault(),d(""),h(!0),setTimeout(()=>{const b=t.find(N=>N.id.toLowerCase()===n.toLowerCase().trim()&&N.customerEmail.toLowerCase()===s.toLowerCase().trim());b?e(b):d("Pedido no encontrado. Verifique os dados e tente novamente."),h(!1)},1e3)};return o.jsx("div",{className:"flex items-center justify-center min-h-[70vh] bg-[rgb(var(--color-brand-dark))] py-12",children:o.jsxs("div",{className:"w-full max-w-lg p-8 space-y-8 bg-[rgb(var(--color-brand-gray))] border-2 border-[rgb(var(--color-brand-gold))]/[.30] rounded-lg shadow-2xl",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-3xl font-bold text-center font-display text-[rgb(var(--color-brand-gold))]",children:"Acompanhe seu Pedido"}),o.jsx("p",{className:"mt-2 text-center text-[rgb(var(--color-brand-text-dim))]",children:"Insira os dados abaixo para ver o status da sua entrega."})]}),o.jsxs("form",{className:"mt-8 space-y-6",onSubmit:p,children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"orderId",className:"block text-sm font-medium text-[rgb(var(--color-brand-text-light))] mb-2",children:"Nmero do Pedido"}),o.jsx("input",{id:"orderId",name:"orderId",type:"text",required:!0,value:n,onChange:g=>r(g.target.value),className:"appearance-none relative block w-full px-3 py-3 border-2 border-[rgb(var(--color-brand-gray-light))] bg-[rgb(var(--color-brand-dark))] text-[rgb(var(--color-brand-text-light))] placeholder-[rgb(var(--color-brand-text-dim))] rounded-md focus:outline-none focus:ring-[rgb(var(--color-brand-gold))] focus:border-[rgb(var(--color-brand-gold))] sm:text-sm",placeholder:"Ex: #2024-001"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-[rgb(var(--color-brand-text-light))] mb-2",children:"E-mail da Compra"}),o.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:s,onChange:g=>i(g.target.value),className:"appearance-none relative block w-full px-3 py-3 border-2 border-[rgb(var(--color-brand-gray-light))] bg-[rgb(var(--color-brand-dark))] text-[rgb(var(--color-brand-text-light))] placeholder-[rgb(var(--color-brand-text-dim))] rounded-md focus:outline-none focus:ring-[rgb(var(--color-brand-gold))] focus:border-[rgb(var(--color-brand-gold))] sm:text-sm",placeholder:"seuemail@exemplo.com"})]})]}),c&&o.jsx("p",{className:"text-[rgb(var(--color-error))] text-sm text-center !mt-4",children:c}),o.jsx("div",{children:o.jsxs("button",{type:"submit",disabled:f,className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-bold rounded-md text-[rgb(var(--color-brand-dark))] bg-[rgb(var(--color-brand-gold))] hover:bg-[rgb(var(--color-warning))] focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-[rgb(var(--color-brand-dark))] focus:ring-[rgb(var(--color-brand-gold))] transition-colors mt-6 disabled:opacity-50 disabled:cursor-wait",children:[f?o.jsx(Qn,{className:"w-5 h-5"}):o.jsx(tn,{className:"w-5 h-5"}),o.jsx("span",{className:"ml-2",children:f?"Buscando...":"Rastrear Pedido"})]})})]})]})})},mO=({order:t,onBack:e})=>{const n=[{name:"Pedido Realizado",status:"completed"},{name:"Pagamento Aprovado",status:t.paymentStatus==="Pago"||t.paymentStatus==="Parcialmente Pago"?"completed":t.paymentStatus==="Cancelado"?"error":"pending"},{name:"Pedido Enviado",status:t.fulfillmentStatus==="Realizado"||t.fulfillmentStatus==="Parcial"?"completed":"pending"},{name:"Entregue",status:(t.fulfillmentStatus==="Realizado"&&t.paymentStatus==="Pago","pending")}],r=n.map(i=>i.status==="completed").lastIndexOf(!0),s=({step:i,isCurrent:c,isCompleted:d,isLast:f})=>{const h=d?o.jsx(nr,{className:"w-5 h-5 text-white"}):c?o.jsx(Qn,{className:"w-5 h-5 text-[rgb(var(--color-brand-gold))]"}):o.jsx(ia,{className:"w-5 h-5 text-[rgb(var(--color-brand-text-dim))]"}),p=d?"bg-[rgb(var(--color-success))]":c?"bg-[rgb(var(--color-brand-gold))]":"bg-[rgb(var(--color-brand-gray-light))]";return o.jsxs("div",{className:"relative flex items-start",children:[o.jsxs("div",{className:"flex flex-col items-center mr-4",children:[o.jsx("div",{className:`flex items-center justify-center w-10 h-10 rounded-full z-10 ${p}`,children:h}),!f&&o.jsx("div",{className:`w-0.5 h-16 mt-2 ${d?"bg-[rgb(var(--color-success))]":"bg-[rgb(var(--color-brand-gray-light))]"}`})]}),o.jsx("div",{className:"pt-1.5",children:o.jsx("p",{className:`font-bold ${d||c?"text-[rgb(var(--color-brand-text-light))]":"text-[rgb(var(--color-brand-text-dim))]"}`,children:i.name})})]})};return o.jsxs("div",{className:"container mx-auto px-4 py-12",children:[o.jsxs("button",{onClick:e,className:"flex items-center gap-2 text-sm font-semibold text-[rgb(var(--color-brand-text-dim))] hover:text-[rgb(var(--color-brand-gold))] mb-8",children:[o.jsx(co,{className:"w-5 h-5"}),"Buscar outro pedido"]}),o.jsxs("div",{className:"bg-[rgb(var(--color-brand-gray))] rounded-lg p-6 lg:p-8",children:[o.jsxs("div",{className:"text-center border-b border-[rgb(var(--color-brand-gray-light))] pb-6 mb-6",children:[o.jsx("p",{className:"text-[rgb(var(--color-brand-text-dim))]",children:"Status do Pedido"}),o.jsx("p",{className:"text-3xl font-bold font-display text-[rgb(var(--color-brand-gold))]",children:t.id})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[o.jsx("div",{className:"lg:col-span-1",children:n.map((i,c)=>o.jsx(s,{step:i,isCompleted:c<=r,isCurrent:c===r+1,isLast:c===n.length-1},i.name))}),o.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[t.trackingCode&&o.jsxs("div",{className:"bg-[rgb(var(--color-brand-dark))] p-4 rounded-lg",children:[o.jsxs("h3",{className:"text-lg font-semibold text-white mb-2 flex items-center gap-2",children:[o.jsx(mi,{className:"w-5 h-5 text-[rgb(var(--color-brand-gold))]"})," Rastreamento"]}),o.jsxs("p",{className:"text-[rgb(var(--color-brand-text-dim))]",children:["Cdigo: ",o.jsx("span",{className:"font-mono text-white bg-[rgb(var(--color-brand-gray-light))] px-2 py-1 rounded",children:t.trackingCode})]})]}),o.jsxs("div",{className:"bg-[rgb(var(--color-brand-dark))] p-4 rounded-lg",children:[o.jsxs("h3",{className:"text-lg font-semibold text-white mb-2 flex items-center gap-2",children:[o.jsx(sc,{className:"w-5 h-5 text-[rgb(var(--color-brand-gold))]"})," Endereo de Entrega"]}),o.jsxs("address",{className:"text-sm not-italic text-[rgb(var(--color-brand-text-dim))] space-y-1",children:[o.jsxs("p",{children:[t.shippingAddress.street,", ",t.shippingAddress.number]}),o.jsxs("p",{children:[t.shippingAddress.neighborhood,", ",t.shippingAddress.city," - ",t.shippingAddress.state]}),o.jsxs("p",{children:["CEP: ",t.shippingAddress.zipCode]})]})]}),o.jsxs("div",{className:"bg-[rgb(var(--color-brand-dark))] p-4 rounded-lg",children:[o.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Resumo da Compra"}),o.jsxs("div",{className:"space-y-2",children:[t.items.map((i,c)=>o.jsxs("div",{className:"flex justify-between items-center text-sm",children:[o.jsxs("p",{className:"text-white",children:[i.productName," ",o.jsxs("span",{className:"text-[rgb(var(--color-brand-text-dim))]",children:["x",i.quantity]})]}),o.jsx("p",{className:"text-[rgb(var(--color-brand-text-dim))]",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(i.price*i.quantity)})]},c)),o.jsxs("div",{className:"pt-2 border-t border-[rgb(var(--color-brand-gray-light))] flex justify-between font-bold text-lg text-[rgb(var(--color-brand-gold))]",children:[o.jsx("span",{children:"Total"}),o.jsx("span",{children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(t.total)})]})]})]})]})]})]})]})},pO=[{id:"1",name:"Relgio de Pulso Clssico de Couro",seller:"Ana Carolina",price:1250,compareAtPrice:1500,currency:"BRL",shortDescription:"Um relgio atemporal que combina design clssico com funcionalidade moderna. Perfeito para qualquer ocasio.",description:`
      <h2>Design Atemporal, Qualidade Inquestionvel</h2>
      <p>Este relgio  mais do que um simples acessrio;  uma declarao de estilo. Com sua pulseira de couro genuno e caixa de ao inoxidvel polido, ele exala sofisticao.</p>
      <ul>
        <li><strong>Movimento:</strong> Quartzo Suo de alta preciso.</li>
        <li><strong>Material:</strong> Ao inoxidvel 316L e couro legtimo.</li>
        <li><strong>Resistncia  gua:</strong> 5 ATM (adequado para banho, no para mergulho).</li>
        <li><strong>Vidro:</strong> Cristal de safira resistente a arranhes.</li>
      </ul>
      <blockquote>"O tempo  o que mais queremos, mas o que usamos de pior maneira." - William Penn. Use o seu com sabedoria e estilo.</blockquote>
      <p>Seja para uma reunio de negcios ou um evento social, este relgio complementar seu visual com um toque de elegncia discreta.</p>
    `,images:["https://picsum.photos/seed/watch1/600/600","https://picsum.photos/seed/watch2/600/600","https://picsum.photos/seed/watch3/600/600","https://picsum.photos/seed/watch4/600/600"],rating:4.8,reviewCount:72,collectionId:"col-1",status:"Ativo",inventory:25,type:"Fsico",sku:"RW-CLASSIC-01",requiresShipping:!0,trackQuantity:!0,chargeTax:!0,continueSelling:!1,seoTitle:"Relgio Clssico de Couro | Elegncia e Preciso",seoDescription:"Descubra o relgio de pulso clssico com pulseira de couro e movimento suo. Uma pea de luxo atemporal para o homem moderno.",urlHandle:"relogio-pulso-classico-couro",options:[{id:"opt1",name:"Cor da Pulseira",values:["Marrom","Preto"]},{id:"opt2",name:"Cor da Caixa",values:["Prata","Dourado"]}],variants:[{id:"var1",options:{"Cor da Pulseira":"Marrom","Cor da Caixa":"Prata"},price:1250,inventory:10,sku:"RW-MAR-PRA"},{id:"var2",options:{"Cor da Pulseira":"Marrom","Cor da Caixa":"Dourado"},price:1350,inventory:5,sku:"RW-MAR-DOU"},{id:"var3",options:{"Cor da Pulseira":"Preto","Cor da Caixa":"Prata"},price:1250,inventory:8,sku:"RW-PRE-PRA"},{id:"var4",options:{"Cor da Pulseira":"Preto","Cor da Caixa":"Dourado"},price:1350,inventory:2,sku:"RW-PRE-DOU"}],weight:.3,weightUnit:"kg",supplier:"Relojoaria Sua Premium"},{id:"2",name:"Bolsa de Ombro de Designer em Couro",seller:"RS Prlipsi",price:2100,currency:"BRL",shortDescription:"Elegncia e praticidade em uma bolsa de couro legtimo com design exclusivo. Espao interno otimizado e acabamento impecvel.",description:`
      <h2>A Companheira Perfeita para o Seu Dia a Dia</h2>
      <p>Feita  mo com couro italiano da mais alta qualidade, esta bolsa de ombro  o eptome do luxo funcional. Seu design verstil a torna perfeita tanto para o trabalho quanto para o lazer.</p>
      <h3>Caractersticas:</h3>
      <ul>
        <li><strong>Material Externo:</strong> Couro bovino italiano de flor integral.</li>
        <li><strong>Forro:</strong> Tecido jacquard personalizado.</li>
        <li><strong>Metais:</strong> Banhados a ouro com acabamento acetinado.</li>
        <li><strong>Compartimentos:</strong> Trs compartimentos internos, incluindo um com zper, e um bolso externo de acesso rpido.</li>
      </ul>
    `,images:["https://picsum.photos/seed/bag1/600/600","https://picsum.photos/seed/bag2/600/600","https://picsum.photos/seed/bag3/600/600"],rating:4.9,reviewCount:45,collectionId:"col-2",status:"Ativo",inventory:15,type:"Fsico",sku:"HB-LEATHER-DESIGN",requiresShipping:!0,trackQuantity:!0,chargeTax:!0,continueSelling:!1,options:[],variants:[],weight:.8,weightUnit:"kg",supplier:"Artesos de Florena"},{id:"3",name:"Caneta-tinteiro Executiva",seller:"Escritrio Premium",price:850,compareAtPrice:950,currency:"BRL",shortDescription:"Uma experincia de escrita superior. Corpo em resina nobre, detalhes banhados a platina e pena de ouro 14K feita  mo.",description:`
      <h2>A Arte da Escrita</h2>
      <p>Redescubra o prazer de escrever com esta caneta-tinteiro executiva. Cada trao  uma experincia suave e fluida, graas  sua pena de ouro macio 14K, meticulosamente trabalhada.</p>
    `,images:["https://picsum.photos/seed/pen1/600/600","https://picsum.photos/seed/pen2/600/600"],rating:4.7,reviewCount:30,collectionId:"col-3",status:"Ativo",inventory:50,type:"Fsico",sku:"PEN-EXEC-BLK",requiresShipping:!0,trackQuantity:!0,chargeTax:!0,continueSelling:!1,options:[],variants:[],weight:.1,weightUnit:"kg",supplier:"Oficina Alem de Canetas"},{id:"4",name:"culos de Sol Aviador Polarizados",seller:"Estilo & Viso",price:720,currency:"BRL",shortDescription:"Proteo e estilo icnico. Lentes polarizadas com 100% de proteo UV e armao de metal leve e resistente.",description:`
      <h2>Viso Clara, Estilo Inconfundvel</h2>
      <p>O design clssico do aviador encontra a tecnologia moderna de lentes polarizadas. Estes culos de sol no apenas protegem seus olhos, mas tambm elevam seu estilo a um novo patamar.</p>
    `,images:["https://picsum.photos/seed/glasses1/600/600","https://picsum.photos/seed/glasses2/600/600","https://picsum.photos/seed/glasses3/600/600"],rating:4.9,reviewCount:88,collectionId:null,status:"Ativo",inventory:40,type:"Fsico",sku:"SUN-AVIA-POL",requiresShipping:!0,trackQuantity:!0,chargeTax:!0,continueSelling:!1,options:[],variants:[],weight:.15,weightUnit:"kg",supplier:"Design de culos Italiano"},{id:"5",name:"Curso Online de Marketing Digital",seller:"Academia do Saber",price:497,currency:"BRL",shortDescription:"Domine as estratgias essenciais de marketing digital, de SEO a mdias sociais, e impulsione sua carreira ou negcio.",description:`
      <h2>Transforme sua Carreira com Marketing Digital</h2>
      <p>Aprenda com especialistas do setor e adquira as habilidades mais procuradas do mercado. Este curso abrangente cobre tudo o que voc precisa para ter sucesso no mundo digital.</p>
    `,images:["https://picsum.photos/seed/course1/600/600"],rating:4.8,reviewCount:250,collectionId:null,status:"Ativo",inventory:1e3,type:"Digital",sku:"DIG-MKT-COURSE",requiresShipping:!1,trackQuantity:!1,chargeTax:!1,continueSelling:!0,options:[],variants:[]}],gO=[{id:"#2024-001",customerId:"cust-1",date:"2024-07-28T10:30:00Z",customerName:"Carlos Silva",customerEmail:"carlos.silva@example.com",customerCpf:"123.456.789-00",customerPhone:"11987654321",shippingAddress:{street:"Rua das Flores",number:"123",complement:"Apto 4B",neighborhood:"Jardim das Rosas",city:"So Paulo",state:"SP",zipCode:"01234-567"},subtotal:1250,shippingCost:0,discount:0,total:1250,currency:"BRL",paymentStatus:"Pago",fulfillmentStatus:"Realizado",items:[{productId:"1",variantId:"var1",productName:"Relgio de Pulso Clssico de Couro",quantity:1,price:1250,variantText:"Cor da Pulseira: Marrom / Material da Caixa: Ao Inoxidvel",sku:"RW-CLASSIC-01"}],trackingCode:"BR123456789SP",shippingMethod:"SEDEX",notes:"Cliente solicitou embalagem para presente."},{id:"#2024-002",customerId:"cust-2",date:"2024-07-28T11:45:00Z",customerName:"Maria Oliveira",customerEmail:"maria.oliveira@example.com",customerCpf:"234.567.890-11",customerPhone:"21912345678",shippingAddress:{street:"Avenida Copacabana",number:"456",neighborhood:"Copacabana",city:"Rio de Janeiro",state:"RJ",zipCode:"22345-678"},subtotal:2820,shippingCost:0,discount:0,total:2820,currency:"BRL",paymentStatus:"Pendente",fulfillmentStatus:"No Realizado",items:[{productId:"2",variantId:"default",productName:"Bolsa de Ombro de Designer em Couro",quantity:1,price:2100,sku:"HB-LEATHER-DESIGN"},{productId:"4",variantId:"default",productName:"culos de Sol Aviador Polarizados",quantity:1,price:720,sku:"SUN-AVIA-POL"}],shippingMethod:"Transportadora"},{id:"#2024-003",date:"2024-07-27T15:00:00Z",customerName:"Joo Pereira",customerEmail:"joao.pereira@example.com",customerCpf:"345.678.901-22",customerPhone:"31988887777",shippingAddress:{street:"Praa da Liberdade",number:"789",neighborhood:"Savassi",city:"Belo Horizonte",state:"MG",zipCode:"30140-010"},subtotal:850,shippingCost:0,discount:0,total:850,currency:"BRL",paymentStatus:"Cancelado",fulfillmentStatus:"No Realizado",items:[{productId:"3",variantId:"default",productName:"Caneta-tinteiro Executiva",quantity:1,price:850,sku:"PEN-EXEC-BLK"}],shippingMethod:"SEDEX"},{id:"#2024-004",date:"2024-07-26T09:10:00Z",customerName:"Ana Costa",customerEmail:"ana.costa@example.com",customerCpf:"456.789.012-33",customerPhone:"71999998888",shippingAddress:{street:"Largo do Pelourinho",number:"10",neighborhood:"Pelourinho",city:"Salvador",state:"BA",zipCode:"40026-280"},subtotal:4200,shippingCost:0,discount:0,total:4200,currency:"BRL",paymentStatus:"Pago",fulfillmentStatus:"No Realizado",items:[{productId:"2",variantId:"default",productName:"Bolsa de Ombro de Designer em Couro",quantity:2,price:2100,sku:"HB-LEATHER-DESIGN"}],shippingMethod:"Transportadora",notes:"Verificar endereo com o cliente antes de enviar. Possvel erro no nmero."},{id:"#2024-005",customerId:"cust-1",date:"2024-07-25T18:20:00Z",customerName:"Carlos Silva",customerEmail:"carlos.silva@example.com",customerCpf:"567.890.123-44",customerPhone:"51987651234",shippingAddress:{street:"Rua dos Andradas",number:"1000",neighborhood:"Centro Histrico",city:"Porto Alegre",state:"RS",zipCode:"90020-000"},subtotal:3350,shippingCost:0,discount:0,total:3350,currency:"BRL",paymentStatus:"Parcialmente Pago",fulfillmentStatus:"Parcial",items:[{productId:"1",variantId:"var1",productName:"Relgio de Pulso Clssico de Couro",quantity:1,price:1250,sku:"RW-CLASSIC-01"},{productId:"2",variantId:"default",productName:"Bolsa de Ombro de Designer em Couro",quantity:1,price:2100,sku:"HB-LEATHER-DESIGN"}],shippingMethod:"Retirar no Local"}],xO=[{id:"RET-001",orderId:"#2024-001",customerName:"Carlos Silva",customerEmail:"carlos.silva@example.com",requestDate:"2024-07-29T14:00:00Z",items:[{productId:"1",productName:"Relgio de Pulso Clssico de Couro",quantity:1,reason:"Defeito no fecho"}],status:"Pendente",resolutionType:"Troca"},{id:"RET-002",orderId:"#2024-004",customerName:"Ana Costa",customerEmail:"ana.costa@example.com",requestDate:"2024-07-28T09:30:00Z",items:[{productId:"2",productName:"Bolsa de Ombro de Designer em Couro",quantity:1,reason:"No gostei da cor"}],status:"Aprovada",resolutionType:"Reembolso"},{id:"RET-003",orderId:"#2024-005",customerName:"Lucas Martins",customerEmail:"lucas.martins@example.com",requestDate:"2024-07-27T11:00:00Z",items:[{productId:"2",productName:"Bolsa de Ombro de Designer em Couro",quantity:1,reason:"Tamanho incorreto"}],status:"Concluda",resolutionType:"Troca"}],bO=[{id:"DS-001",name:"Fone de Ouvido Sem Fio ProSound X5",supplier:"TechSupplier Inc.",costPrice:120,suggestedRetailPrice:249.9,images:["https://picsum.photos/seed/headphone/600/600"],description:"Experimente a liberdade do udio sem fio com o ProSound X5. Cancelamento de rudo ativo, bateria de 20 horas e design ergonmico.",category:"Eletrnicos",inventory:500},{id:"DS-002",name:"Smartwatch Fitness Tracker",supplier:"HealthGadgets",costPrice:85.5,suggestedRetailPrice:199.9,images:["https://picsum.photos/seed/smartwatch/600/600"],description:"Monitore sua sade e atividades fsicas com este smartwatch completo. Medidor de frequncia cardaca, contador de passos e notificaes inteligentes.",category:"Eletrnicos",inventory:1200},{id:"DS-003",name:"Mochila Urbana Anti-furto",supplier:"UrbanGear",costPrice:95,suggestedRetailPrice:219,images:["https://picsum.photos/seed/backpack/600/600"],description:"Mochila com design moderno, compartimento para notebook, porta USB para carregamento e zperes ocultos para maior segurana.",category:"Acessrios",inventory:350}],yO=[{id:"DSO-001",orderId:"#2024-001",supplier:"TechSupplier Inc.",supplierOrderId:"TS-98765",date:"2024-07-28T10:35:00Z",items:[{productId:"DS-001",productName:"Fone de Ouvido Sem Fio ProSound X5",quantity:1,costPrice:120}],totalCost:120,status:"Enviado",trackingCode:"LP123456789CN"},{id:"DSO-002",orderId:"#2024-002",supplier:"HealthGadgets",supplierOrderId:"HG-A5B4C",date:"2024-07-28T11:50:00Z",items:[{productId:"DS-002",productName:"Smartwatch Fitness Tracker",quantity:2,costPrice:85.5}],totalCost:171,status:"Processando"}],vO=[{id:"CUP-001",code:"BEMVINDO10",type:"Porcentagem",value:10,status:"Ativo",usageCount:45,usageLimit:1e3,startDate:"2024-07-01T00:00:00Z",endDate:null},{id:"CUP-002",code:"INVERNO50",type:"Valor Fixo",value:50,status:"Ativo",usageCount:120,usageLimit:500,startDate:"2024-06-15T00:00:00Z",endDate:"2024-08-31T23:59:59Z"},{id:"CUP-003",code:"FRETEGRATIS",type:"Valor Fixo",value:0,status:"Inativo",usageCount:250,usageLimit:null,startDate:"2024-05-01T00:00:00Z",endDate:"2024-05-31T23:59:59Z"}],NO=[{id:"PIX-001",type:"Facebook",name:"Campanha de Vero",pixelId:"123456789012345",status:"Ativo"},{id:"PIX-002",type:"Google Ads",name:"Rede de Pesquisa",pixelId:"AW-987654321",idLabel:"xyz-ABC123",status:"Ativo"},{id:"PIX-003",type:"TikTok",name:"Campanha de Influencers",pixelId:"C1A2B3D4E5F6G7H8",status:"Ativo"},{id:"PIX-004",type:"Pinterest",name:"Campanha de Moda",pixelId:"9876543210987",status:"Inativo"},{id:"PIX-005",type:"Google Analytics",name:"Anlise de Trfego Principal",pixelId:"G-ABC123XYZ",status:"Ativo"},{id:"PIX-006",type:"Taboola",name:"Contedo Patrocinado",pixelId:"1234567",status:"Ativo"},{id:"PIX-007",type:"LinkedIn",name:"Gerao de Leads B2B",pixelId:"987654",status:"Ativo"},{id:"PIX-008",type:"Snapchat",name:"Filtro de Lanamento",pixelId:"snap-1234-5678-9012",status:"Ativo"},{id:"PIX-009",type:"Bing",name:"Campanha Microsoft Ads",pixelId:"UET-987654321",status:"Inativo"}],CO=[{id:"PS-001",name:"Tech Store Brasil",description:"Eletrnicos",logo:"https://picsum.photos/seed/tech/40/40",commission:15},{id:"PS-002",name:"Beleza Natural Cosmticos",description:"Cosmticos",logo:"https://picsum.photos/seed/beleza/40/40",commission:20},{id:"PS-003",name:"Academia do Saber",description:"Cursos Online",logo:"https://picsum.photos/seed/saber/40/40",commission:30}],wO=[{id:"SL-001",shortUrl:"https://rs.shp/a83xZ",originalUrl:"https://rs-shop.com.br/loja/seller-01?ref=user-01",clicks:152},{id:"SL-002",shortUrl:"https://rs.shp/c7YuP",originalUrl:"https://rs-shop.com.br/loja/seller-03/curso-mkt?ref=user-01",clicks:89}],SO={logoUrl:"",faviconUrl:"",hero:{title:"Elegncia, Redefinida.",subtitle:"Descubra um mercado selecionado de produtos premium de vendedores confiveis. Sua jornada para o luxo comea aqui.",desktopImage:"https://picsum.photos/seed/hero-desktop/1600/900?grayscale",mobileImage:"https://picsum.photos/seed/hero-mobile/800/1200?grayscale"},carouselBanners:[{id:"banner-1",desktopImage:"https://picsum.photos/seed/carousel1-desktop/1200/400",mobileImage:"https://picsum.photos/seed/carousel1-mobile/400/300",link:"#"},{id:"banner-2",desktopImage:"https://picsum.photos/seed/carousel2-desktop/1200/400",mobileImage:"https://picsum.photos/seed/carousel2-mobile/400/300",link:"#"},{id:"banner-3",desktopImage:"https://picsum.photos/seed/carousel3-desktop/1200/400",mobileImage:"https://picsum.photos/seed/carousel3-mobile/400/300",link:"#"}],midPageBanner:{id:"mid-banner-1",desktopImage:"https://picsum.photos/seed/midbanner-desktop/1200/300",mobileImage:"https://picsum.photos/seed/midbanner-mobile/400/200",link:"#"},footer:{description:"O futuro do e-commerce premium.",buyerLinks:[{label:"Encontrar Produtos",url:"#featured-products"},{label:"Sua Conta",url:"#"},{label:"Rastrear Pedidos",url:"#"}],sellerLinks:[{label:"Painel do Lojista",url:"#",isAction:!0},{label:"Seja um Lojista",url:"#"},{label:"Ferramentas de Marketing",url:"#"}],companyLinks:[],socialLinks:[{platform:"facebook",url:"https://facebook.com/rsprolipsi"},{platform:"instagram",url:"https://instagram.com/rsprolipsi"},{platform:"twitter",url:"https://twitter.com/rsprolipsi"},{platform:"linkedin",url:"https://linkedin.com/company/rsprolipsi"}],contactEmail:"contato@rsprolipsi.com.br",cnpj:"00.000.000/0001-00",businessAddress:"Rua Exemplo, 123 - Centro, So Paulo - SP, 01010-010",paymentMethods:[],shippingMethods:[]},orderBump:{enabled:!0,productId:"3",offerPrice:595,title:" SIM, EU QUERO ESTA OFERTA ESPECIAL!",description:"Adicione a Caneta-tinteiro Executiva ao seu pedido por um preo exclusivo e eleve sua experincia de escrita!"},upsell:{enabled:!0,productId:"4",offerPrice:499.9,title:" OFERTA NICA PS-COMPRA! ",description:"Parabns pela sua compra! Vimos que voc tem bom gosto. Que tal adicionar estes culos de Sol Aviador por um preo que voc no ver novamente?",acceptButtonText:"Sim, adicionar ao meu pedido com 1 clique!",declineButtonText:"No, obrigado. Perder esta oferta."},homepageSections:[{id:"featuredProducts",name:"Produtos em Destaque",enabled:!0},{id:"offers",name:"Ofertas Especiais",enabled:!0},{id:"bestsellers",name:"Mais Vendidos",enabled:!0},{id:"featuredCollections",name:"Colees em Destaque",enabled:!0},{id:"recentlyViewed",name:"Vistos Recentemente",enabled:!0},{id:"midPageBanner",name:"Banner de Meio da Pgina",enabled:!0}],customCss:`/*
============================================================
  CSS DA LOJA OFICIAL - RS Prlipsi
============================================================
  Este arquivo contm o estilo base completo da sua loja.
  Use-o como ponto de partida para suas personalizaes.
*/

/* 
============================================================
  1. ESTILOS GERAIS E FONTES (PALETA APLICADA)
============================================================
*/
body {
  background-color: #121212; /* Preto Absoluto */
  color: #E5E7EB; /* Branco Neve */
  font-family: 'Roboto', sans-serif;
}

.font-display {
  font-family: 'Playfair Display', serif;
}

/* Scrollbar Personalizada */
::-webkit-scrollbar {
  width: 8px;
}
::-webkit-scrollbar-track {
  background: #121212;
}
::-webkit-scrollbar-thumb {
  background: #2A2A2A;
  border-radius: 4px;
}
::-webkit-scrollbar-thumb:hover {
  background: #3a3a3a;
}

/* 
============================================================
  2. CABEALHO (HEADER) (PALETA APLICADA)
============================================================
*/
header {
  position: sticky;
  top: 0;
  z-index: 50;
  background-color: rgba(30, 30, 30, 0.8); /* Cinza Grafite com transparncia */
  backdrop-filter: blur(4px);
  border-bottom: 1px solid rgba(255, 215, 0, 0.3); /* Ouro Prlipsi com transparncia */
}

header .logo {
  font-family: 'Playfair Display', serif;
  font-size: 1.875rem; /* text-3xl */
  color: #FFD700; /* Ouro Prlipsi */
}

header .search-bar {
  background-color: #121212; /* Preto Absoluto */
  border: 2px solid #2A2A2A; /* Cinza Claro */
  border-radius: 9999px; /* rounded-full */
  color: #E5E7EB; /* Branco Neve */
  transition: border-color 0.3s;
}

header .search-bar:focus {
  outline: none;
  border-color: #FFD700; /* Ouro Prlipsi */
}

header .nav-link {
  color: #E5E7EB; /* Branco Neve */
  transition: color 0.3s;
}

header .nav-link:hover {
  color: #FFD700; /* Ouro Prlipsi */
}

/* Animao do Dropdown de Categorias */
@keyframes fade-in-down {
  from {
    opacity: 0;
    transform: translateY(-10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.animate-fade-in-down {
  animation: fade-in-down 0.2s ease-out forwards;
}

header .category-dropdown {
  background-color: #1E1E1E; /* Cinza Grafite */
  border: 2px solid rgba(255, 215, 0, 0.3);
  border-radius: 0.375rem; /* rounded-md */
}

header .category-dropdown a {
  color: #E5E7EB; /* Branco Neve */
  transition: background-color 0.3s, color 0.3s;
}

header .category-dropdown a:hover {
  background-color: #FFD700; /* Ouro Prlipsi */
  color: #121212; /* Preto Absoluto */
}


/* 
============================================================
  3. BANNER PRINCIPAL (HERO) (PALETA APLICADA)
============================================================
*/
.hero-section {
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
  text-align: center;
  height: 70vh;
  background-size: cover;
  background-position: center;
}

.hero-section::before {
  content: '';
  position: absolute;
  inset: 0;
  background-color: rgba(18, 18, 18, 0.6); /* Preto Absoluto com transparncia */
}

.hero-section h1 {
  font-family: 'Playfair Display', serif;
  font-weight: 700;
  font-size: 3.75rem; /* text-6xl */
  color: #E5E7EB; /* Branco Neve */
  text-shadow: 0 2px 4px rgba(0,0,0,0.5);
}

.hero-section p {
  color: #E5E7EB; /* Branco Neve */
  font-size: 1.25rem; /* text-xl */
}

/* 
============================================================
  4. BOTES (BUTTONS) (PALETA APLICADA)
============================================================
*/
.btn-primary {
  background-color: #FFD700; /* Ouro Prlipsi */
  color: #121212; /* Preto Absoluto */
  font-weight: 700;
  padding: 0.75rem 2rem;
  border-radius: 9999px;
  transition: transform 0.2s, opacity 0.2s;
}

.btn-primary:hover {
  opacity: 0.9;
  transform: scale(1.05);
}

.btn-secondary {
  background-color: transparent;
  border: 2px solid #FFD700; /* Ouro Prlipsi */
  color: #FFD700; /* Ouro Prlipsi */
  font-weight: 700;
  padding: 0.75rem 2rem;
  border-radius: 9999px;
  transition: background-color 0.3s, color 0.3s;
}

.btn-secondary:hover {
  background-color: #FFD700;
  color: #121212;
}


/* 
============================================================
  5. SEES E CARDS (PALETA APLICADA)
============================================================
*/
.section-title {
  font-family: 'Playfair Display', serif;
  font-weight: 700;
  font-size: 2.25rem; /* text-4xl */
  color: #E5E7EB; /* Branco Neve */
}

.section-subtitle {
  color: #9CA3AF; /* Cinza Suave */
  font-size: 1.125rem; /* text-lg */
}

/* Card de Produto */
.product-card {
  background-color: rgba(30, 30, 30, 0.5); /* Cinza Grafite com transparncia */
  border: 1px solid #2A2A2A; /* Cinza Claro */
  border-radius: 0.5rem; /* rounded-lg */
  overflow: hidden;
  box-shadow: 0 4px 6px -1px rgba(0,0,0,0.1), 0 2px 4px -2px rgba(0,0,0,0.1);
  transition: box-shadow 0.3s;
  cursor: pointer;
}

.product-card:hover {
  box-shadow: 0 0 15px rgba(255, 215, 0, 0.1);
}

.product-card img {
  transition: transform 0.3s;
}

.product-card:hover img {
  transform: scale(1.05);
}

.product-card h3 {
  transition: color 0.3s;
}

.product-card:hover h3 {
  color: #FFD700; /* Ouro Prlipsi */
}

.product-card .price {
  color: #FFD700; /* Ouro Prlipsi */
  font-weight: 600;
  font-size: 1.25rem; /* text-xl */
}

/* Card de Chamada para Ao (CTA) */
.cta-card {
  background: linear-gradient(to bottom right, #1E1E1E, #121212); /* Cinza Grafite para Preto Absoluto */
  padding: 2rem;
  border-radius: 0.5rem; /* rounded-lg */
  border: 2px solid #2A2A2A; /* Cinza Claro */
  box-shadow: 0 10px 15px -3px rgba(0,0,0,0.1), 0 4px 6px -4px rgba(0,0,0,0.1);
}

/* 
============================================================
  6. RODAP (FOOTER) (PALETA APLICADA)
============================================================
*/
footer {
  background-color: #1E1E1E; /* Cinza Grafite */
  color: #9CA3AF; /* Cinza Suave */
  border-top: 1px solid #2A2A2A; /* Cinza Claro */
}

footer h4 {
  font-weight: 700;
  color: #E5E7EB; /* Branco Neve */
  letter-spacing: 0.05em; /* tracking-wider */
}

footer a, footer button {
  transition: color 0.3s;
}

footer a:hover, footer button:hover {
  color: #FFD700; /* Ouro Prlipsi */
}

/* 
============================================================
  7. DETALHES DO PRODUTO (PRODUCT DETAIL PAGE) (PALETA APLICADA)
============================================================
*/
.product-detail .category {
  color: #FFD700; /* Ouro Prlipsi */
  font-weight: 600;
}

.product-detail .title {
  font-family: 'Playfair Display', serif;
  font-weight: 700;
  color: #E5E7EB; /* Branco Neve */
}

.product-detail .price {
  color: #FFD700; /* Ouro Prlipsi */
  font-weight: 300;
}

.product-detail .prose {
  color: #E5E7EB; /* Branco Neve */
  line-height: 1.75;
}

.product-detail .prose h1,
.product-detail .prose h2,
.product-detail .prose h3 {
  color: #E5E7EB;
}

.product-detail .prose a {
  color: #60a5fa; /* blue-400 for links is fine */
}

.product-detail .prose blockquote {
  border-left: 3px solid #FFD700; /* Ouro Prlipsi */
  padding-left: 1rem;
  margin-left: 0.5rem;
  font-style: italic;
  color: #E5E7EB;
}

/* 
============================================================
  8. PAINEL DE ADMINISTRAO (ADMIN) (PALETA APLICADA)
============================================================
*/
.admin-layout {
  background-color: #121212; /* Preto Absoluto */
  color: #E5E7EB; /* Branco Neve */
}

.admin-sidebar {
  background-color: #1E1E1E; /* Cinza Grafite */
  color: #E5E7EB; /* Branco Neve */
}

.admin-sidebar button:hover {
  background-color: #2A2A2A; /* Cinza Claro */
}

.admin-sidebar button.active {
  color: #FFD700; /* Ouro Prlipsi */
  background-color: #2A2A2A; /* Cinza Claro */
}

.admin-header {
  background-color: #1E1E1E; /* Cinza Grafite */
  border-bottom: 1px solid #2A2A2A; /* Cinza Claro */
}

.admin-card {
  background-color: #1E1E1E; /* Cinza Grafite */
  border: 1px solid #2A2A2A; /* Cinza Claro */
  border-radius: 0.5rem; /* rounded-lg */
}

.admin-input {
  background-color: #121212; /* Preto Absoluto */
  border: 2px solid #2A2A2A; /* Cinza Claro */
  border-radius: 0.375rem; /* rounded-md */
  color: #E5E7EB; /* Branco Neve */
}

.admin-input:focus {
  outline: none;
  border-color: #FFD700; /* Ouro Prlipsi */
}

.admin-table th {
  text-transform: uppercase;
  background-color: #1E1E1E; /* Cinza Grafite */
  color: #9CA3AF; /* Cinza Suave */
}

.admin-table tr {
  border-bottom: 1px solid #2A2A2A; /* Cinza Claro */
}

.admin-table tr:hover {
  background-color: rgba(42, 42, 42, 0.5); /* Cinza Claro com transparncia */
}
`},TO={mercadoPago:{enabled:!0,publicKey:"TEST-12345678-ABCD-1234-ABCD-1234567890AB",accessToken:"APP_USR-1234567890123456-123456-abcdefghijklmnopqrstuvwxyz123456"},pagSeguro:{enabled:!1,email:"seuemail@pagseguro.com.br",token:"ABCDEFGHIJKLMNOPQRSTUVWXYZ123456"},pix:{enabled:!0,pixKeyType:"Chave Aleatria",pixKey:"a1b2c3d4-e5f6-7890-1234-567890abcdef"},appmax:{enabled:!1,apiKey:""},asaas:{enabled:!0,apiKey:"mock_asaas_api_key_12345"},pagarme:{enabled:!1,apiKey:"",encryptionKey:""},stripe:{enabled:!1,publishableKey:"",secretKey:""}},kO={frenet:{enabled:!1,apiKey:"",apiSecret:""},melhorEnvio:{enabled:!0,apiToken:"SEU_TOKEN_MELHOR_ENVIO"},correios:{enabled:!0,contrato:"9912345678",senha:"SUA_SENHA"},superFrete:{enabled:!1,apiToken:""},jadlog:{enabled:!1,apiToken:""},loggi:{enabled:!1,apiKey:""}},EO={dropshippingPointsPerBrl:1,affiliatePointsPerBrl:1.5,frequency:"Trimestral",tiers:[{id:"tier-1",name:"Bronze",pointsRequired:1e3,reward:150,pinImageUrl:"https://i.imgur.com/J4pGo2K.png",bannerImageUrl:""},{id:"tier-2",name:"Prata",pointsRequired:2500,reward:400,pinImageUrl:"https://i.imgur.com/e22xkCr.png",bannerImageUrl:""},{id:"tier-3",name:"Ouro",pointsRequired:5e3,reward:1e3,pinImageUrl:"https://i.imgur.com/s6c3jZp.png",bannerImageUrl:""}]},AO=[{id:"col-1",title:"Relgios de Luxo",description:"Uma seleo de relgios premium para quem aprecia a arte da relojoaria.",imageUrl:"https://picsum.photos/seed/coll-watches/800/400",productIds:["1"]},{id:"col-2",title:"Essenciais de Couro",description:"Acessrios de couro atemporais, feitos para durar.",imageUrl:"https://picsum.photos/seed/coll-leather/800/400",productIds:["1","2"]},{id:"col-3",title:"Instrumentos de Escrita",description:"Eleve sua escrita com nossa coleo de canetas e acessrios de luxo.",imageUrl:"https://picsum.photos/seed/coll-writing/800/400",productIds:["3"]}],jO=[{id:"cust-1",name:"Carlos Silva",email:"carlos.silva@example.com",passwordHash:"123456"},{id:"cust-2",name:"Maria Oliveira",email:"maria.oliveira@example.com",passwordHash:"123456"},{id:"cust-admin",name:"Admin RS Prlipsi",email:"rsprolipsioficial@gmail.com",passwordHash:"Yannis784512@"}],MO=[{id:"na-1",icon:"UserPlusIcon",text:"<strong>Lucas Martins</strong> se cadastrou usando seu link de indicao!",timestamp:"2 horas atrs"},{id:"na-2",icon:"ShoppingCartIcon",text:"Novo pedido de <strong>R$ 1.250,00</strong> na sua loja.",timestamp:"5 horas atrs"},{id:"na-3",icon:"TrophyIcon",text:"Voc alcanou o nvel <strong>PRATA</strong> no plano de carreira!",timestamp:"1 dia atrs"},{id:"na-4",icon:"StarOutlineIcon",text:"<strong>Maria Eduarda</strong> deixou uma nova avaliao em um produto.",timestamp:"2 dias atrs"}],RO=[{day:"Seg",bonus:150},{day:"Ter",bonus:220},{day:"Qua",bonus:180},{day:"Qui",bonus:300},{day:"Sex",bonus:250},{day:"Sb",bonus:350},{day:"Dom",bonus:190}],IO=[{id:"rev-1",productId:"1",productName:"Relgio de Pulso Clssico de Couro",author:"Marcos Vinicius",rating:5,title:"Simplesmente perfeito!",text:"A qualidade do material  incrvel e o design  muito elegante. Chegou super rpido. Recomendo!",createdAt:"2024-07-25T10:00:00Z",status:"Aprovada"},{id:"rev-2",productId:"2",productName:"Bolsa de Ombro de Designer em Couro",author:"Ana Clara",rating:3,title:"Bonita, mas menor do que eu esperava",text:"A bolsa  linda e de tima qualidade, mas achei que seria um pouco maior pelas fotos. Para o dia a dia, acaba sendo pequena.",createdAt:"2024-07-24T15:30:00Z",status:"Pendente"},{id:"rev-3",productId:"1",productName:"Relgio de Pulso Clssico de Couro",author:"Juliana Costa",rating:4,title:"timo presente",text:"Comprei de presente para o meu marido e ele adorou.  um relgio muito bonito e verstil. A entrega foi pontual.",createdAt:"2024-07-22T09:15:00Z",status:"Aprovada"},{id:"rev-4",productId:"4",productName:"culos de Sol Aviador Polarizados",author:"Fernando Dias",rating:1,title:"No gostei",text:"O produto veio com um arranho na lente. Pedi a devoluo.",createdAt:"2024-07-28T11:00:00Z",status:"Rejeitada"},{id:"rev-5",productId:"3",productName:"Caneta-tinteiro Executiva",author:"Beatriz Lima",rating:5,title:"Experincia de escrita incrvel",text:"Nunca pensei que uma caneta pudesse fazer tanta diferena. A escrita  extremamente macia. Vale o investimento.",createdAt:"2024-07-29T18:00:00Z",status:"Pendente"}],DO=[{id:"q-1",productId:"1",author:"Carlos P.",text:"A pulseira  de couro legtimo mesmo?  resistente?",createdAt:new Date(Date.now()-4320*60*1e3).toISOString(),answers:[{id:"a-1",author:"Ana Carolina (Vendedor)",text:"Ol, Carlos! Sim, a pulseira  de couro genuno de alta qualidade, muito resistente e confortvel para o uso dirio.",createdAt:new Date(Date.now()-2880*60*1e3).toISOString()}]},{id:"q-2",productId:"1",author:"Mariana F.",text:"  prova d'gua? Posso nadar com ele?",createdAt:new Date(Date.now()-7200*60*1e3).toISOString(),answers:[{id:"a-2",author:"Ana Carolina (Vendedor)",text:"Ol, Mariana. Ele tem resistncia  gua de 5 ATM, o que significa que  adequado para banho e respingos, mas no recomendamos para natao ou mergulho.",createdAt:new Date(Date.now()-7200*60*1e3+36e5).toISOString()},{id:"a-3",author:"Carlos P.",text:"Eu tenho um e j tomei chuva com ele sem problemas.",createdAt:new Date(Date.now()-5760*60*1e3).toISOString()}]}],_O=[{id:"ann-1",title:"Lanamento do Novo Plano de Compensao 2025",date:new Date(Date.now()-1440*60*1e3).toISOString(),content:`
            <h2>Detalhes do Novo Plano de Compensao</h2>
            <p>Estamos entusiasmados em anunciar nosso novo plano de compensao, projetado para recompensar ainda mais seu esforo e dedicao. As principais mudanas incluem:</p>
            <ul>
                <li><strong>Novos Nveis:</strong> Introduzimos os nveis de Rubi e Esmeralda.</li>
                <li><strong>Bnus Acelerado:</strong> Ganhos mais rpidos nos primeiros 90 dias.</li>
                <li><strong>Prmios de Liderana:</strong> Recompensas exclusivas para lderes de equipe.</li>
            </ul>
            <p>Acesse a seo de treinamentos para um vdeo explicativo completo.</p>
        `,isPinned:!0},{id:"ann-2",title:"Atualizao da Poltica de Devolues",date:new Date(Date.now()-4320*60*1e3).toISOString(),content:"<p>Nossa poltica de devolues foi atualizada para melhor atender nossos clientes e lojistas. O prazo para solicitao de devoluo agora  de 10 dias corridos aps o recebimento do produto.</p>",isPinned:!1},{id:"ann-3",title:"Prxima Live de Treinamento: Tcnicas de Venda",date:new Date(Date.now()-7200*60*1e3).toISOString(),content:"<p>No perca nossa prxima live de treinamento nesta sexta-feira, s 19h. Vamos abordar as melhores tcnicas para aumentar suas vendas e engajar clientes. O link ser disponibilizado no dia.</p>",isPinned:!1}],PO=[{id:"train-1",title:"Configurando Sua Loja de Sucesso",description:"Aprenda o passo a passo para montar e configurar sua loja virtual do zero, pronta para vender.",thumbnailUrl:"https://picsum.photos/seed/store-success/400/200",progress:50,lessons:[{id:"l1-1",title:"O que  Facebook Ads?",videoUrl:"https://storage.googleapis.com/gtv-videos-bucket/sample/ForBiggerFun.mp4",content:"Facebook Ads  a plataforma de publicidade da Meta, que permite criar e veicular anncios no Facebook, Instagram, Messenger e Audience Network. Com ela,  possvel alcanar um pblico altamente segmentado com base em demografia, interesses e comportamentos. O objetivo principal  gerar resultados de negcios, como reconhecimento de marca, gerao de leads, trfego para o site e vendas. A plataforma oferece diversos formatos de anncio, incluindo imagens, vdeos, carrossis e colees.",likes:127},{id:"l1-2",title:"Criando sua Conta de Anncios",videoUrl:"https://storage.googleapis.com/gtv-videos-bucket/sample/ForBiggerJoyrides.mp4",content:"Para comear a anunciar, voc precisa de uma conta no Gerenciador de Negcios (Business Manager) da Meta. Dentro do Gerenciador, voc criar uma Conta de Anncios.  crucial configurar corretamente as informaes de pagamento e faturamento. Lembre-se de adicionar uma forma de pagamento vlida, como carto de crdito ou boleto, para que seus anncios possam ser veiculados. A estrutura ideal  ter uma conta do Gerenciador de Negcios que gerencia mltiplas contas de anncios, caso voc trabalhe com diferentes clientes ou projetos.",likes:98},{id:"l1-3",title:"Como Criar uma Pgina (Fanpage)",videoUrl:"https://storage.googleapis.com/gtv-videos-bucket/sample/ForBiggerMeltdowns.mp4",content:'Uma Pgina no Facebook (Fanpage)  a identidade da sua empresa na plataforma.  por meio dela que seus anncios sero veiculados. Para criar uma, v at a seo "Pginas" do seu perfil e clique em "Criar Nova Pgina". Preencha as informaes essenciais como nome, categoria, descrio, foto de perfil e capa. Uma pgina bem configurada transmite profissionalismo e confiana para seu pblico.',likes:153},{id:"l1-4",title:"Instalando o Pixel do Facebook",videoUrl:"https://storage.googleapis.com/gtv-videos-bucket/sample/ForBiggerEscapes.mp4",content:"O Pixel da Meta  um trecho de cdigo que voc instala em seu site. Sua funo  rastrear as aes dos visitantes, como visualizaes de pgina, adies ao carrinho e compras. Esses dados so valiosos para otimizar suas campanhas, criar pblicos personalizados (remarketing) e mensurar o retorno sobre o investimento (ROI) dos seus anncios. A instalao pode ser feita manualmente, via gerenciadores de tags como o Google Tag Manager, ou atravs de integraes com plataformas de e-commerce.",likes:212}]},{id:"train-2",title:"Dominando o Produto e a Oferta",description:"Aprenda a escolher produtos vencedores e criar ofertas irresistveis que vendem todos os dias.",thumbnailUrl:"https://picsum.photos/seed/product-offer/400/200",progress:50,lessons:[{id:"l2-1",title:"Anlise de Mercado e Nicho",videoUrl:"placeholder.mp4",content:"SEO (Search Engine Optimization)  o conjunto de tcnicas para otimizar seu site e contedo para os mecanismos de busca...",likes:88},{id:"l2-2",title:"Criao de Ofertas Irresistveis",videoUrl:"placeholder.mp4",content:"Aprenda a encontrar os termos que seu pblico-alvo utiliza para buscar por seus produtos ou servios...",likes:112}]},{id:"train-3",title:"Logstica de Dropshipping Simplificada",description:"Entenda todo o fluxo de um pedido, desde a venda at a entrega na casa do cliente, sem estresse.",thumbnailUrl:"https://picsum.photos/seed/dropship-logistics/400/200",progress:33,lessons:[{id:"l3-1",title:"O Ciclo de Vida do Pedido Drop",videoUrl:"placeholder.mp4",content:"Conhea a trajetria da RS Prlipsi e os valores que guiam nossa jornada...",likes:130}]},{id:"train-4",title:"RSIA: Sua Assistente de Vendas",description:"Aprenda a utilizar as ferramentas de IA da plataforma para otimizar suas vendas e marketing.",thumbnailUrl:"https://picsum.photos/seed/ai-assistant/400/200",progress:0,lessons:[{id:"l4-1",title:"Introduo  RSIA",videoUrl:"placeholder.mp4",content:"Descubra como nossa inteligncia artificial, a RSIA, pode ser sua maior aliada...",likes:250}]}],LO=[{id:"asset-1",name:"Logo Oficial RS Prlipsi (Ouro)",type:"logo",format:"PNG",downloadUrl:"https://picsum.photos/seed/logo-gold-dl/500/500",previewUrl:"https://picsum.photos/seed/logo-gold-pv/200/200"},{id:"asset-2",name:"Banner Promocional - Dia das Mes",type:"banner",format:"JPG",downloadUrl:"https://picsum.photos/seed/assetbanner1/1200/600",previewUrl:"https://picsum.photos/seed/assetbanner1/400/200"},{id:"asset-3",name:"Template de Post (PDF)",type:"template",format:"PDF",downloadUrl:"https://www.w3.org/WAI/ER/tests/xhtml/testfiles/resources/pdf/dummy.pdf",previewUrl:"https://i.imgur.com/S5OK3sI.png"},{id:"asset-4",name:"Logo Oficial RS Prlipsi (Preto)",type:"logo",format:"PNG",downloadUrl:"https://picsum.photos/seed/logo-black-dl/500/500",previewUrl:"https://picsum.photos/seed/logo-black-pv/200/200"},{id:"asset-5",name:"Guia de Produto - Relgios",type:"template",format:"PDF",downloadUrl:"https://www.w3.org/WAI/ER/tests/xhtml/testfiles/resources/pdf/dummy.pdf",previewUrl:"https://i.imgur.com/S5OK3sI.png"},{id:"asset-6",name:"Manual de Marca",type:"template",format:"PDF",downloadUrl:"https://www.w3.org/WAI/ER/tests/xhtml/testfiles/resources/pdf/dummy.pdf",previewUrl:"https://i.imgur.com/S5OK3sI.png"},{id:"asset-7",name:"Catlogo de Bolsas",type:"template",format:"PDF",downloadUrl:"https://www.w3.org/WAI/ER/tests/xhtml/testfiles/resources/pdf/dummy.pdf",previewUrl:"https://i.imgur.com/S5OK3sI.png"}],OO=[{id:"ac-1",customerName:"Joana Martins",customerEmail:"joana.m@example.com",customerPhone:"11987654321",items:[{id:"2-default",productId:"2",variantId:"default",name:"Bolsa de Ombro de Designer em Couro",price:2100,image:"https://picsum.photos/seed/bag1/600/600",quantity:1,variantText:""}],total:2100,abandonedAt:new Date(Date.now()-7200*1e3).toISOString(),recoveryStatus:"No enviado"},{id:"ac-2",customerName:"Ricardo Alves",customerEmail:"ricardo.alves@example.com",customerPhone:"21912345678",items:[{id:"1-var1",productId:"1",variantId:"var1",name:"Relgio de Pulso Clssico de Couro",price:1250,image:"https://picsum.photos/seed/watch1/600/600",quantity:1,variantText:"Cor da Pulseira: Marrom, Cor da Caixa: Prata"},{id:"4-default",productId:"4",variantId:"default",name:"culos de Sol Aviador Polarizados",price:720,image:"https://picsum.photos/seed/glasses1/600/600",quantity:1,variantText:""}],total:1970,abandonedAt:new Date(Date.now()-1440*60*1e3).toISOString(),recoveryStatus:"Enviado"},{id:"ac-3",customerName:"Cliente Annimo",customerEmail:"visitante@email.com",customerPhone:"31999998888",items:[{id:"3-default",productId:"3",variantId:"default",name:"Caneta-tinteiro Executiva",price:850,image:"https://picsum.photos/seed/pen1/600/600",quantity:2,variantText:""}],total:1700,abandonedAt:new Date(Date.now()-7200*60*1e3).toISOString(),recoveryStatus:"Recuperado"}],BO=[{id:"CHG-001",customerName:"Fernanda Lima",customerEmail:"fernanda.lima@example.com",customerCpf:"111.222.333-44",customerPhone:"21987654321",customerAddress:{street:"Avenida Atlntica",number:"1702",neighborhood:"Copacabana",city:"Rio de Janeiro",state:"RJ",zipCode:"22021-001"},items:[{id:"1",description:"Relgio de Pulso Clssico de Couro",quantity:1,price:1250},{id:"custom-1",description:"Gravao Personalizada",quantity:1,price:150}],shipping:25,total:1425,status:"Pago",createdAt:"2024-07-28T10:00:00Z",dueDate:"2024-08-05T23:59:59Z",paymentLink:"https://rs.shp/pay/ab12cd34"},{id:"CHG-002",customerName:"Ricardo Alves",customerEmail:"ricardo.alves@example.com",customerCpf:"222.333.444-55",customerPhone:"11912345678",items:[{id:"2",description:"Bolsa de Ombro de Designer em Couro",quantity:1,price:2100}],shipping:0,total:2100,status:"Pendente",createdAt:"2024-07-29T14:30:00Z",dueDate:"2024-08-08T23:59:59Z",paymentLink:"https://rs.shp/pay/ef56gh78"},{id:"CHG-003",customerName:"Mariana Costa",customerEmail:"mariana.costa@example.com",customerCpf:"333.444.555-66",items:[{id:"custom-2",description:"Consultoria de Estilo",quantity:2,price:300}],shipping:0,total:600,status:"Vencido",createdAt:"2024-07-15T11:00:00Z",dueDate:"2024-07-22T23:59:59Z",paymentLink:"https://rs.shp/pay/ij90kl12"}],zO=[{id:"AFF-001",name:"Juliana Paes",email:"juliana.paes@influencer.com",commissionRate:15,referralCode:"JULIANA15",totalSales:25890.5,totalEarnings:3883.58,paidOut:3e3},{id:"AFF-002",name:"Marcos Mion",email:"marcos.mion@parceiro.com",commissionRate:12,referralCode:"MION12",totalSales:15230,totalEarnings:1827.6,paidOut:1500},{id:"AFF-003",name:"Blog da Beleza",email:"contato@blogdabeleza.com.br",commissionRate:20,referralCode:"BELEZA20",totalSales:45780,totalEarnings:9156,paidOut:8e3}],UO={automaticTransfers:{enabled:!1,frequency:"Semanal",dayOfWeek:5,minimumAmount:100},notifications:{onNewCommission:!0,onTransferSuccess:!0,onTransferFail:!0},security:{twoFactorAuth:!1}},HO=[{id:"CD-001",name:"CD Central Curitiba",ownerName:"Roberto Silveira",cpfCnpj:"12.345.678/0001-99",email:"roberto.silveira@rsprolipsi.com.br",phone:"(41) 99999-0001",stores:[{id:"STORE-01",name:"RS Prlipsi - Shopping Mueller",city:"Curitiba",state:"PR",consultantIds:["C-001","C-002","C-003"]},{id:"STORE-02",name:"RS Prlipsi - ParkShoppingBarigi",city:"Curitiba",state:"PR",consultantIds:["C-004","C-005"]}]},{id:"CD-002",name:"CD Litoral Catarinense",ownerName:"Mariana Costa",cpfCnpj:"98.765.432/0001-11",email:"mariana.costa@rsprolipsi.com.br",phone:"(47) 98888-0002",stores:[{id:"STORE-03",name:"RS Prlipsi - Balnerio Shopping",city:"Balnerio Cambori",state:"SC",consultantIds:["C-006","C-007","C-008","C-009"]},{id:"STORE-04",name:"RS Prlipsi - Itaja Shopping",city:"Itaja",state:"SC",consultantIds:["C-010"]}]},{id:"CD-003",name:"CD Norte do Paran",ownerName:"Carlos Andrade",cpfCnpj:"55.666.777/0001-22",email:"carlos.andrade@rsprolipsi.com.br",phone:"(43) 97777-0003",stores:[{id:"STORE-05",name:"RS Prlipsi - Catua Shopping Londrina",city:"Londrina",state:"PR",consultantIds:["C-011","C-012","C-013"]}]}],VO=[{id:"dash-banner-1",desktopImage:"https://picsum.photos/seed/launch/1200/400",mobileImage:"https://picsum.photos/seed/launch-m/400/300",link:"#"},{id:"dash-banner-2",desktopImage:"https://picsum.photos/seed/logistics/1200/400",mobileImage:"https://picsum.photos/seed/logistics-m/400/300",link:"#"}],qO={components:[{id:"comp-1",column:"left",type:"userInfo",enabled:!0,visibleFields:{id:!0,graduation:!0,accountStatus:!0,monthlyActivity:!0,category:!0,referralLink:!0,affiliateLink:!0}},{id:"comp-2",column:"right",type:"adminBanner",enabled:!0},{id:"comp-3",column:"right",type:"bonusCards",enabled:!0},{id:"comp-4",column:"left",type:"qualificationProgress",enabled:!0,title:"Qualificao Atual",value:4500,max:15e3,startLabel:"Iniciante",endLabel:"Prata",startIcon:"StarOutlineIcon",endIcon:"TrophyIcon"},{id:"comp-5",column:"left",type:"qualificationProgress",enabled:!0,title:"Qualificao do Ms",value:800,max:2500,startLabel:"Base",endLabel:"Bronze",startIcon:"UserIcon",endIcon:"GlobalIcon"},{id:"comp-6",column:"right",type:"incentivesProgram",enabled:!0,title:"Programa de Incentivos e Premiaes",content:[{title:"Viagem Nacional",progress:60},{title:"Carro 0km",progress:30}]},{id:"comp-7",column:"left",type:"referralLinks",enabled:!0},{id:"comp-8",column:"right",type:"networkActivity",enabled:!0,title:"Atividade da Rede"},{id:"comp-9",column:"right",type:"performanceChart",enabled:!0,title:"Bnus Semanal"},{id:"comp-10",column:"left",type:"shortcut",enabled:!0,title:"Gerenciar Produtos",url:"manageProducts",icon:"ProductsIcon"},{id:"comp-11",column:"left",type:"shortcut",enabled:!0,title:"Viso Geral WalletPay",url:"walletOverview",icon:"WalletIcon"}],cards:[{id:"card-1",title:"Bnus Ciclo Global",icon:"GlobalIcon",dataKey:"cycleBonus"},{id:"card-2",title:"Bnus Top Sigme",icon:"TrophyIcon",dataKey:"topSigmeBonus"},{id:"card-3",title:"Bnus Plano de Carreira",icon:"StarOutlineIcon",dataKey:"careerPlanBonus"}]},FO=()=>{const[t,e]=j.useState("home"),[n,r]=j.useState(null),[s,i]=j.useState(null),[c,d]=j.useState(null),[f,h]=j.useState(null),[p,g]=j.useState(null),[b,N]=j.useState(null),[w,S]=j.useState("home"),[T,E]=j.useState(pO),[M,D]=j.useState(gO),[H,V]=j.useState(xO),[z,P]=j.useState(yO),[te]=j.useState(bO),[K,ce]=j.useState(vO),[ye,re]=j.useState(NO),[le,ge]=j.useState(CO),[Y,O]=j.useState(wO),[J,pe]=j.useState(SO),[we,Be]=j.useState(TO),[R,B]=j.useState(kO),[X,oe]=j.useState(EO),[he,Te]=j.useState(VO),[ke,Ae]=j.useState(qO),[Ie,Kt]=j.useState(AO),[ut,mt]=j.useState(jO),[Rt,ot]=j.useState(null),[Yt,En]=j.useState(IO),[rn,bo]=j.useState(DO),[rr,us]=j.useState(_O),[sr,da]=j.useState(PO),[ua,_t]=j.useState(LO),[be,Le]=j.useState(OO),[Me,Oe]=j.useState(BO),[sn,fs]=j.useState(HO),[An,hs]=j.useState({name:"Ana Carolina",id:"C0000111000000",graduation:"DIAMANTE PRESIDENCIAL",accountStatus:"Ativo",monthlyActivity:"Ativo",category:"DIAMANTE",referralLink:"https://rsprolipsi.com/register/anacaro",affiliateLink:"https://rs-shop.com/loja/anacarolina",avatarUrl:"https://i.pravatar.cc/80?u=anacarolina"}),[or,mn]=j.useState({cycleBonus:500,topSigmeBonus:250,careerPlanBonus:1e3,affiliateBonus:1572.5,dropshipBonus:834.75,logisticsBonus:212.3}),[ar,on]=j.useState([]),[Mr,hf]=j.useState([]),[mf,yo]=j.useState(null),[vo,fa]=j.useState([]),[an,Rr]=j.useState(()=>{const I=localStorage.getItem("rs-marketplace-cart");return I?JSON.parse(I):[]}),[No,ms]=j.useState(!1),[oc,Co]=j.useState(!1);j.useEffect(()=>{localStorage.setItem("rs-marketplace-cart",JSON.stringify(an))},[an]);const ps=j.useMemo(()=>T.filter(I=>I.compareAtPrice&&I.compareAtPrice>I.price),[T]),pf=j.useMemo(()=>vo.map(I=>T.find(Q=>Q.id===I)).filter(I=>!!I),[vo,T]);j.useEffect(()=>{window.scrollTo(0,0)},[t]),j.useEffect(()=>{const I=document.getElementById("favicon");I&&J.faviconUrl&&(I.href=J.faviconUrl)},[J.faviconUrl]);const ac=(I,Q,ie)=>{Rr(se=>{const Qe=se.find(ln=>ln.productId===I.id&&ln.variantId===ie.id);if(Qe)return se.map(ln=>ln.id===Qe.id?{...ln,quantity:ln.quantity+Q}:ln);const xn=`${I.id}-${ie.id}-${Date.now()}`,Ts=Object.values(ie.options).join(" / ");return[...se,{id:xn,productId:I.id,variantId:ie.id,name:I.name,price:ie.price,image:I.images[0],quantity:Q,variantText:Ts}]}),Co(!0),setTimeout(()=>Co(!1),5e3)},vi=(I,Q)=>{Rr(ie=>Q<=0?ie.filter(se=>se.id!==I):ie.map(se=>se.id===I?{...se,quantity:Q}:se))},Ni=I=>{Rr(Q=>Q.filter(ie=>ie.id!==I))},Ci=I=>{yo(I),D(Q=>[...Q,I]),Rr([]),ms(!1),e("orderConfirmation")},wi=(I,Q,ie)=>{var xn,Ts;const se={productId:Q.id,variantId:((Ts=(xn=Q.variants)==null?void 0:xn[0])==null?void 0:Ts.id)||"default",productName:`${Q.name} (Upsell)`,quantity:1,price:ie},Qe={...I,items:[...I.items,se],total:I.total+ie,subtotal:I.subtotal+ie};D(ln=>ln.map(cr=>cr.id===I.id?Qe:cr)),yo(Qe)},de=(I,Q)=>{if(console.log(" Navegando para:",I),I==="checkout"&&(console.log(" Iniciando checkout, view anterior:",t),S(t),ms(!1)),I==="productDetail"&&Q){const ie=Q.id;fa(se=>[ie,...se.filter(Qe=>Qe!==ie)].slice(0,4))}e(I),r(null),i(null),d(null),h(null),g(null),N(null),Q&&(I==="productDetail"?r(Q):I==="orderDetail"||I==="orderStatus"?i(Q):I==="returnDetail"?d(Q):I==="addEditCoupon"?h(Q):I==="addEditMarketingPixel"?g(Q):I==="addEditProduct"?r(Q):I==="collectionView"||I==="addEditCollection"?N(Q):I==="trainingModuleDetail"?ga(Q):I==="addEditAnnouncement"?gn(Q):I==="addEditMarketingAsset"?ws(Q):I==="addEditTraining"&&ga(Q))},wo=I=>{pe(Q=>({...Q,...I})),alert("Aparncia da loja atualizada com sucesso!")},xr=I=>{Te(I),alert("Banners do painel atualizados com sucesso!")},It=I=>{Ae(I),alert("Painel atualizado com sucesso!")},Wt=I=>{Be(I),alert("Configuraes de pagamento salvas com sucesso!")},gs=I=>{B(I),alert("Configuraes de frete salvas com sucesso!")},Si=I=>{oe(I),alert("Plano de compensao salvo com sucesso!")},gf=I=>{hs(I),alert("Perfil atualizado com sucesso!")},ic=I=>I.toString().toLowerCase().replace(/\s+/g,"-").replace(/[^\w-]+/g,"").replace(/--+/g,"-").replace(/-+$/,""),Ti=I=>{E(Q=>Q.find(se=>se.id===I.id)?Q.map(se=>se.id===I.id?I:se):[...Q,{...I,id:String(Date.now())}]),de("manageProducts")},So=I=>{window.confirm(`Tem certeza de que deseja excluir ${I.length} produto(s)?`)&&E(Q=>Q.filter(ie=>!I.includes(ie.id)))},ki=I=>{E(I),alert("Estoque atualizado com sucesso!")},xs=(I,Q)=>{D(ie=>ie.map(se=>se.id===I?{...se,...Q}:se))},bs=(I,Q)=>{P(ie=>ie.map(se=>se.id===I?{...se,...Q}:se))},ys=(I,Q)=>{V(ie=>ie.map(se=>I.includes(se.id)?{...se,status:Q}:se))},vs=I=>{window.confirm(`Tem certeza de que deseja excluir ${I.length} devoluo(es)?`)&&V(Q=>Q.filter(ie=>!I.includes(ie.id)))},Ct=I=>{ce(Q=>Q.find(se=>se.id===I.id)?Q.map(se=>se.id===I.id?I:se):[...Q,{...I,id:`CUP-${Date.now()}`}]),de("managePromotions")},lc=I=>{window.confirm("Tem certeza de que deseja excluir este cupom?")&&ce(Q=>Q.filter(ie=>ie.id!==I))},cc=I=>{re(Q=>Q.find(se=>se.id===I.id)?Q.map(se=>se.id===I.id?I:se):[...Q,{...I,id:`PIX-${Date.now()}`}]),de("virtualOfficePixels")},Ir=I=>{window.confirm("Tem certeza que deseja excluir este pixel?")&&re(Q=>Q.filter(ie=>ie.id!==I))},Ns=I=>{re(Q=>Q.map(ie=>ie.id===I?{...ie,status:ie.status==="Ativo"?"Inativo":"Ativo"}:ie))},xf=I=>{const Q=ye.find(ie=>ie.id===I);if(Q){const ie={...Q,id:`PIX-${Date.now()}`,name:`${Q.name} (Cpia)`};re(se=>[...se,ie])}},dc=(I,Q)=>{ge(ie=>ie.map(se=>se.id===I?{...se,commission:Q}:se))},uc=I=>{const Q={id:`imported-${I.id}-${Date.now()}`,name:I.name,seller:"Ana Carolina",price:I.suggestedRetailPrice,costPerItem:I.costPrice,currency:"BRL",shortDescription:I.description.substring(0,150)+(I.description.length>150?"...":""),description:I.description,images:I.images,rating:0,reviewCount:0,collectionId:null,status:"Rascunho",inventory:I.inventory,type:"Dropshipping",requiresShipping:!0,trackQuantity:!0,chargeTax:!0,continueSelling:!1,seoTitle:I.name,seoDescription:I.description.substring(0,320),urlHandle:ic(I.name),options:[],variants:[]};E(ie=>ie.find(Qe=>Qe.name===Q.name&&Qe.type==="Dropshipping")?(alert("Este produto j foi importado para a sua loja."),ie):(alert(`Produto "${Q.name}" importado com sucesso! Ele est disponvel como rascunho em "Gerenciar Produtos".`),[...ie,Q]))},fc=I=>{const Q={id:"",name:I.name,seller:"Ana Carolina",price:I.suggestedRetailPrice,costPerItem:I.costPrice,currency:"BRL",shortDescription:I.description.substring(0,150)+(I.description.length>150?"...":""),description:I.description,images:I.images,rating:0,reviewCount:0,collectionId:null,status:"Rascunho",inventory:I.inventory,type:"Dropshipping",requiresShipping:!0,trackQuantity:!0,chargeTax:!0,continueSelling:!1,seoTitle:I.name,seoDescription:I.description.substring(0,320),urlHandle:ic(I.name),options:[],variants:[]};r(Q),de("addEditProduct")},ha=I=>{Kt(Q=>Q.find(se=>se.id===I.id)?Q.map(se=>se.id===I.id?I:se):[...Q,{...I,id:`col-${Date.now()}`}]),de("manageCollections")},ma=I=>{window.confirm("Tem certeza que deseja excluir esta coleo?")&&Kt(Q=>Q.filter(ie=>ie.id!==I))},ir=I=>{ot(I),de("home")},pn=I=>{const Q={id:`cust-${Date.now()}`,...I};mt(ie=>[...ie,Q]),alert("Cadastro realizado com sucesso! Faa seu login para continuar."),de("customerLogin")},hc=(I,Q)=>En(ie=>ie.map(se=>I.includes(se.id)?{...se,status:Q}:se)),bf=I=>{window.confirm("Tem certeza?")&&En(Q=>Q.filter(ie=>!I.includes(ie.id)))},Ei=I=>{const Q={...I,id:`rev-${Date.now()}`,createdAt:new Date().toISOString(),status:"Pendente"};En(ie=>[Q,...ie]),alert("Sua avaliao foi enviada para moderao. Obrigado!")},mc=I=>{us(Q=>{const ie=Q.find(se=>se.id===I.id);return ie?Q.map(se=>se.id===I.id?{...ie,...I}:se):[{...I,id:`ann-${Date.now()}`},...Q]}),de("manageAnnouncements")},pa=I=>{window.confirm("Tem certeza?")&&us(Q=>Q.filter(ie=>!I.includes(ie.id)))},[yf,gn]=j.useState(null),Ai=I=>{da(Q=>{const ie=Q.find(se=>se.id===I.id);return ie?Q.map(se=>se.id===I.id?{...ie,...I}:se):[{...I,id:`train-${Date.now()}`},...Q]}),de("manageTrainings")},[Dr,ga]=j.useState(null),Cs=I=>{_t(Q=>{const ie=Q.find(se=>se.id===I.id);return ie?Q.map(se=>se.id===I.id?{...ie,...I}:se):[{...I,id:`asset-${Date.now()}`},...Q]}),de("manageMarketingAssets")},pc=I=>{window.confirm("Tem certeza?")&&_t(Q=>Q.filter(ie=>!I.includes(ie.id)))},[gc,ws]=j.useState(null),vf=I=>{on(Q=>Q.includes(I)?Q.filter(ie=>ie!==I):[...Q,I])},xc=(I,Q)=>{da(ie=>ie.map(se=>se.id===I?{...se,lessons:se.lessons.map(Qe=>Qe.id===Q?{...Qe,likes:(Qe.likes||0)+1}:Qe)}:se))},br=I=>{if(!Rt){alert("Por favor, faa login para adicionar itens  sua lista de desejos."),de("customerLogin");return}hf(Q=>Q.includes(I)?Q.filter(ie=>ie!==I):[...Q,I])},ji=I=>{const Q={...I,id:`q-${Date.now()}`,createdAt:new Date().toISOString(),answers:[]};bo(ie=>[Q,...ie]),alert("Sua pergunta foi enviada e ser respondida em breve.")},Nf=(I,Q)=>{const ie={...Q,id:`a-${Date.now()}`,createdAt:new Date().toISOString()};bo(se=>se.map(Qe=>Qe.id===I?{...Qe,answers:[...Qe.answers,ie]}:Qe))},Cf=I=>{const Q={...I,id:`CHG-${Date.now()}`,paymentLink:`https://rs.shp/pay/${Math.random().toString(36).substring(2,10)}`};return Oe(ie=>[Q,...ie]),Q},xa={consultantStore:"Painel do Consultor",manageProducts:"Produtos",addEditProduct:"Adicionar/Editar Produto",editDropshippingProduct:"Editar Produto Dropshipping",manageInventory:"Gerenciar Estoque",manageOrders:"Pedidos",orderDetail:"Detalhes do Pedido",manageReturns:"Gerenciar Devolues",returnDetail:"Detalhes da Devoluo",manageDropshippingOrders:"Pedidos Dropshipping",dropshippingCatalog:"Catlogo Dropshipping",managePromotions:"Cupons de Desconto",addEditCoupon:"Adicionar/Editar Cupom",manageAffiliates:"Programa de Afiliados",storeEditor:"Aparncia da Loja",storeBannerEditor:"Banners da Loja",virtualOfficeDropshipping:"Produtos Dropshipping",virtualOfficeAffiliateLinks:"Links de Afiliado",virtualOfficePixels:"Pixels de Marketing",virtualOfficeLinkShortener:"Encurtador de Link",addEditMarketingPixel:"Adicionar/Editar Pixel",bannerDashboard:"Banners do Painel",dashboardEditor:"Editor do Painel",managePayments:"Configuraes de Pagamento",manageShipping:"Configuraes de Frete",compensationPlan:"Plano de Compensao",manageCollections:"Colees",addEditCollection:"Adicionar/Editar Coleo",userProfileEditor:"Meu Perfil",walletOverview:"WalletPay - Viso Geral",walletReports:"WalletPay - Extrato e Relatrios",walletTransfers:"WalletPay - Transferncias",walletCharges:"WalletPay - Cobranas",walletSettings:"WalletPay - Configuraes",rsStudio:"RS Studio",communication:"Central de Comunicao",orderConfirmation:"Confirmao de Pedido",manageOrderBump:"Order Bump",manageUpsell:"Upsell Ps-Compra",manageAbandonedCarts:"Carrinhos Abandonados",manageReviews:"Moderar Avaliaes",manageAnnouncements:"Gerenciar Comunicados",addEditAnnouncement:"Adicionar/Editar Comunicado",manageTrainings:"Gerenciar Treinamentos",addEditTraining:"Adicionar/Editar Treinamento",trainingModuleDetail:"Detalhes do Treinamento",manageMarketingAssets:"Gerenciar Materiais de Marketing",addEditMarketingAsset:"Adicionar/Editar Material de Marketing",customerWishlist:"Minha Lista de Desejos",manageDistributors:"CDs (Centrais de Distribuio)",addEditDistributor:"Adicionar/Editar CD"},lr=()=>{let I;switch(t){case"consultantStore":I=o.jsx(WT,{onNavigate:de,banners:he,settings:ke,userProfile:An,bonuses:or,networkActivity:MO,userPoints:4500,monthlyUserPoints:800,compensationSettings:X,weeklyBonuses:RO});break;case"manageProducts":I=o.jsx(XT,{onNavigate:de,products:T,onProductDelete:So});break;case"addEditProduct":I=o.jsx(L2,{product:n,collections:Ie,onSave:Ti,onCancel:()=>de("manageProducts")});break;case"editDropshippingProduct":I=o.jsx(L2,{product:n,collections:Ie,onSave:Ti,onCancel:()=>de("virtualOfficeDropshipping")});break;case"manageInventory":I=o.jsx(XL,{products:T,onSave:ki,onNavigate:de});break;case"manageOrders":I=o.jsx(t8,{orders:M,onNavigate:de});break;case"orderDetail":I=s&&o.jsx(n8,{order:s,onUpdateOrder:xs,onBack:()=>de("manageOrders")});break;case"manageReturns":I=o.jsx(a8,{returns:H,onUpdateStatus:ys,onDelete:vs,onNavigate:de});break;case"returnDetail":I=c&&o.jsx(i8,{returnRequest:c,onUpdateStatus:(se,Qe)=>ys([se],Qe),onNavigate:de});break;case"manageDropshippingOrders":I=o.jsx(u8,{orders:z,mainOrders:M,onUpdateOrder:bs,onNavigate:de});break;case"dropshippingCatalog":I=o.jsx(E7,{products:te,onImport:uc,onEdit:fc,onNavigate:de});break;case"managePromotions":I=o.jsx(h8,{coupons:K,onNavigate:de,onCouponDelete:lc});break;case"addEditCoupon":I=o.jsx(m8,{coupon:f,onSave:Ct,onCancel:()=>de("managePromotions")});break;case"manageAffiliates":I=o.jsx(A7,{links:zO,onNavigate:de});break;case"storeEditor":I=o.jsx(x8,{customization:J,onUpdate:wo,onNavigate:de});break;case"storeBannerEditor":I=o.jsx(f8,{customization:J,onUpdate:wo});break;case"virtualOfficeDropshipping":I=o.jsx(g8,{products:te,onEditProduct:fc});break;case"virtualOfficeAffiliateLinks":I=o.jsx(y8,{stores:le,onCommissionChange:dc});break;case"virtualOfficePixels":I=o.jsx(I8,{pixels:ye,onNavigate:de,onDelete:Ir,onStatusToggle:Ns,onDuplicate:xf});break;case"virtualOfficeLinkShortener":I=o.jsx(D8,{links:Y,setLinks:O});break;case"addEditMarketingPixel":I=o.jsx(P8,{pixel:p,onSave:cc,onCancel:()=>de("virtualOfficePixels")});break;case"bannerDashboard":I=o.jsx(c7,{banners:he,onUpdate:xr});break;case"dashboardEditor":I=o.jsx(m7,{settings:ke,onUpdate:It});break;case"managePayments":I=o.jsx(W8,{settings:we,onSave:Wt,onNavigate:de});break;case"manageShipping":I=o.jsx(X8,{settings:R,onSave:gs,onNavigate:de});break;case"compensationPlan":I=o.jsx(i7,{settings:X,onSave:Si,onNavigate:de});break;case"manageCollections":I=o.jsx(p7,{collections:Ie,onNavigate:de,onCollectionDelete:ma});break;case"addEditCollection":I=o.jsx(g7,{collection:b,products:T,onSave:ha,onCancel:()=>de("manageCollections"),onNavigate:de});break;case"userProfileEditor":I=o.jsx(V7,{userProfile:An,onSave:gf});break;case"walletOverview":I=o.jsx(D7,{onNavigate:de});break;case"walletReports":I=o.jsx(R7,{orders:M,onNavigate:de});break;case"walletTransfers":I=o.jsx(O7,{orders:M,products:T,onNavigate:de,paymentSettings:we});break;case"walletCharges":I=o.jsx(U7,{charges:Me,products:T,onSave:Cf});break;case"walletSettings":I=o.jsx(H7,{settings:UO,onSave:()=>alert("Settings saved!"),paymentSettings:we,onNavigate:de});break;case"rsStudio":I=o.jsx(q7,{products:T,onNavigate:de});break;case"communication":I=o.jsx(G7,{announcements:rr,trainings:sr,marketingAssets:ua,onNavigate:de});break;case"manageOrderBump":I=o.jsx(K7,{settings:J.orderBump,products:T,onSave:se=>wo({orderBump:se})});break;case"manageUpsell":I=o.jsx(Y7,{settings:J.upsell,products:T,onSave:se=>wo({upsell:se})});break;case"manageAbandonedCarts":I=o.jsx(X7,{carts:be});break;case"manageReviews":I=o.jsx(Z7,{reviews:Yt,products:T,onReviewApprove:se=>hc([se],"Aprovada"),onReviewDelete:se=>bf([se])});break;case"manageAnnouncements":I=o.jsx(eO,{announcements:rr,onNavigate:de,onDelete:pa});break;case"addEditAnnouncement":I=o.jsx(tO,{announcement:yf,onSave:mc,onCancel:()=>de("manageAnnouncements")});break;case"manageTrainings":Dr&&sr.find(se=>se.id===Dr.id),I=o.jsx(rO,{trainings:sr,onNavigate:de,completedLessons:ar});break;case"addEditTraining":const Q=Dr?sr.find(se=>se.id===Dr.id):null;I=o.jsx(sO,{training:Q,onSave:Ai,onCancel:()=>de("manageTrainings")});break;case"trainingModuleDetail":const ie=Dr?sr.find(se=>se.id===Dr.id):null;I=ie&&o.jsx(lO,{module:ie,onNavigate:de,completedLessons:ar,onToggleLessonComplete:vf,onLikeLesson:xc});break;case"manageMarketingAssets":I=o.jsx(cO,{assets:ua,onNavigate:de,onDelete:pc});break;case"addEditMarketingAsset":I=o.jsx(dO,{asset:gc,onSave:Cs,onCancel:()=>de("manageMarketingAssets")});break;default:I=o.jsx("div",{children:"View not found"})}return o.jsx(J8,{title:xa[t],currentView:t,onNavigate:de,onLogout:()=>{ot(null),e("home")},children:I})},Mi=()=>{switch(t){case"productDetail":return n&&o.jsx(OT,{product:n,collections:Ie,onBack:()=>de("home"),onAddToCart:ac,onNavigate:de,reviews:Yt,onReviewSubmit:Ei,wishlist:Mr,onToggleWishlist:br,questions:rn,onQuestionSubmit:ji,onAnswerSubmit:Nf});case"collectionView":return b&&o.jsx(x7,{collection:b,products:T,onProductClick:I=>de("productDetail",I),onBack:()=>de("home"),wishlist:Mr,onToggleWishlist:br});case"customerAccount":return Rt&&o.jsx(C7,{customer:Rt,orders:M,onNavigate:de});case"customerWishlist":return Rt&&o.jsx(uO,{wishlist:Mr,products:T,onNavigate:de,onToggleWishlist:br});case"orderConfirmation":return o.jsx(J7,{order:mf,onContinueShopping:()=>de("home"),upsellSettings:J.upsell,allProducts:T,onAcceptUpsell:wi});case"orderLookup":return o.jsx(hO,{orders:M,onOrderFound:I=>de("orderStatus",I)});case"orderStatus":return s&&o.jsx(mO,{order:s,onBack:()=>de("home")});case"home":default:return o.jsxs(o.Fragment,{children:[o.jsx(ET,{content:J.hero}),o.jsx(J2,{banners:J.carouselBanners}),o.jsx(AT,{products:T,onProductClick:I=>de("productDetail",I),wishlist:Mr,onToggleWishlist:br}),ps.length>0&&o.jsx(K8,{products:ps,onProductClick:I=>de("productDetail",I),wishlist:Mr,onToggleWishlist:br}),o.jsx(S7,{products:T,onProductClick:I=>de("productDetail",I),orders:M,wishlist:Mr,onToggleWishlist:br}),o.jsx(fO,{products:pf,onProductClick:I=>de("productDetail",I),wishlist:Mr,onToggleWishlist:br}),o.jsx(Y8,{banner:J.midPageBanner}),o.jsx(jT,{onConsultantClick:()=>de("consultantLogin"),onBecomeSellerClick:()=>de("sellerRegistration")}),o.jsx(s8,{orders:M})]})}},Ri=["consultantLogin","sellerRegistration","customerLogin","customerRegister","customerForgotPassword"].includes(t),Ss=["consultantStore","manageProducts","addEditProduct","editDropshippingProduct","manageInventory","manageOrders","orderDetail","manageReturns","returnDetail","manageDropshippingOrders","dropshippingCatalog","managePromotions","addEditCoupon","manageAffiliates","storeEditor","storeBannerEditor","virtualOfficeDropshipping","virtualOfficeAffiliateLinks","virtualOfficePixels","virtualOfficeLinkShortener","addEditMarketingPixel","bannerDashboard","dashboardEditor","managePayments","manageShipping","compensationPlan","manageCollections","addEditCollection","userProfileEditor","walletOverview","walletReports","walletTransfers","walletCharges","walletSettings","rsStudio","communication","manageOrderBump","manageUpsell","manageAbandonedCarts","manageReviews","manageAnnouncements","addEditAnnouncement","manageTrainings","addEditTraining","trainingModuleDetail","manageMarketingAssets","addEditMarketingAsset","manageDistributors","addEditDistributor"].includes(t);if(Ri)switch(t){case"consultantLogin":return o.jsx(BT,{onLoginSuccess:()=>de("consultantStore"),onBackToHome:()=>de("home")});case"sellerRegistration":return o.jsx(a7,{onRegisterSuccess:()=>de("home"),onBackToHome:()=>de("home")});case"customerLogin":return o.jsx(b7,{customers:ut,onLoginSuccess:ir,onBackToHome:()=>de("home"),onNavigateToRegister:()=>de("customerRegister"),onNavigateToForgotPassword:()=>de("customerForgotPassword")});case"customerRegister":return o.jsx(y7,{existingCustomers:ut,onRegister:pn,onBackToHome:()=>de("home"),onNavigateToLogin:()=>de("customerLogin")});case"customerForgotPassword":return o.jsx(w7,{onForgotPasswordRequest:I=>alert(`Link de recuperao enviado para ${I}`),onBackToLogin:()=>de("customerLogin")});default:return null}return t==="checkout"?o.jsxs(o.Fragment,{children:[o.jsx("style",{children:J.customCss}),o.jsx(o7,{cartItems:an,onBack:()=>{de(w),ms(!0)},onFinalizePurchase:Ci,currentCustomer:Rt,coupons:K,orderBumpConfig:J.orderBump,allProducts:T,paymentSettings:we,onUpdateQuantity:vi,onRemoveItem:Ni})]}):Ss?o.jsxs(o.Fragment,{children:[o.jsx("style",{children:J.customCss}),lr()]}):o.jsxs(o.Fragment,{children:[o.jsx("style",{children:J.customCss}),o.jsxs("div",{className:"bg-[rgb(var(--color-brand-dark))] text-[rgb(var(--color-brand-text-light))] font-sans",children:[o.jsx(kT,{logoUrl:J.logoUrl,onLogoClick:()=>de("home"),onConsultantClick:()=>de(Rt?"consultantStore":"consultantLogin"),cartItems:an,onCartClick:()=>ms(!0),collections:Ie,onNavigate:de,currentCustomer:Rt,onLogout:()=>ot(null)}),o.jsx("main",{children:Mi()}),o.jsx(IT,{logoUrl:J.logoUrl,content:J.footer,onConsultantClick:()=>de("consultantLogin"),onNavigate:de,currentCustomer:Rt})]}),oc&&an.length>0&&o.jsx(Z8,{cartItems:an,onViewCart:()=>{ms(!0),Co(!1)}}),o.jsx(Q8,{isOpen:No,onClose:()=>ms(!1),cartItems:an,onUpdateQuantity:vi,onRemoveItem:Ni,onNavigate:de})]})},hS=document.getElementById("root");if(!hS)throw new Error("Could not find root element to mount to");const GO=TT.createRoot(hS);GO.render(o.jsx(kr.StrictMode,{children:o.jsx(FO,{})}));

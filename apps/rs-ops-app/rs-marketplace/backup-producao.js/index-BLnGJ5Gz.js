var W9=Object.defineProperty;var J9=(e,t,n)=>t in e?W9(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Vv=(e,t,n)=>J9(e,typeof t!="symbol"?t+"":t,n);function Y9(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in e)){const i=Object.getOwnPropertyDescriptor(r,o);i&&Object.defineProperty(e,o,i.get?i:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}})();function No(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var $v={exports:{}},Rd={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZT;function X9(){if(ZT)return Rd;ZT=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,o,i){var a=null;if(i!==void 0&&(a=""+i),o.key!==void 0&&(a=""+o.key),"key"in o){i={};for(var l in o)l!=="key"&&(i[l]=o[l])}else i=o;return o=i.ref,{$$typeof:e,type:r,key:a,ref:o!==void 0?o:null,props:i}}return Rd.Fragment=t,Rd.jsx=n,Rd.jsxs=n,Rd}var ek;function Q9(){return ek||(ek=1,$v.exports=X9()),$v.exports}var s=Q9(),Gv={exports:{}},ze={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tk;function Z9(){if(tk)return ze;tk=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),a=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),g=Symbol.iterator;function x(O){return O===null||typeof O!="object"?null:(O=g&&O[g]||O["@@iterator"],typeof O=="function"?O:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,C={};function A(O,F,te){this.props=O,this.context=F,this.refs=C,this.updater=te||y}A.prototype.isReactComponent={},A.prototype.setState=function(O,F){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,F,"setState")},A.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function T(){}T.prototype=A.prototype;function k(O,F,te){this.props=O,this.context=F,this.refs=C,this.updater=te||y}var D=k.prototype=new T;D.constructor=k,N(D,A.prototype),D.isPureReactComponent=!0;var R=Array.isArray;function I(){}var P={H:null,A:null,T:null,S:null},B=Object.prototype.hasOwnProperty;function L(O,F,te){var fe=te.ref;return{$$typeof:e,type:O,key:F,ref:fe!==void 0?fe:null,props:te}}function $(O,F){return L(O.type,F,O.props)}function X(O){return typeof O=="object"&&O!==null&&O.$$typeof===e}function q(O){var F={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(te){return F[te]})}var W=/\/+/g;function ie(O,F){return typeof O=="object"&&O!==null&&O.key!=null?q(""+O.key):F.toString(36)}function K(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(I,I):(O.status="pending",O.then(function(F){O.status==="pending"&&(O.status="fulfilled",O.value=F)},function(F){O.status==="pending"&&(O.status="rejected",O.reason=F)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function U(O,F,te,fe,xe){var De=typeof O;(De==="undefined"||De==="boolean")&&(O=null);var Le=!1;if(O===null)Le=!0;else switch(De){case"bigint":case"string":case"number":Le=!0;break;case"object":switch(O.$$typeof){case e:case t:Le=!0;break;case h:return Le=O._init,U(Le(O._payload),F,te,fe,xe)}}if(Le)return xe=xe(O),Le=fe===""?"."+ie(O,0):fe,R(xe)?(te="",Le!=null&&(te=Le.replace(W,"$&/")+"/"),U(xe,F,te,"",function(Re){return Re})):xe!=null&&(X(xe)&&(xe=$(xe,te+(xe.key==null||O&&O.key===xe.key?"":(""+xe.key).replace(W,"$&/")+"/")+Le)),F.push(xe)),1;Le=0;var Oe=fe===""?".":fe+":";if(R(O))for(var re=0;re<O.length;re++)fe=O[re],De=Oe+ie(fe,re),Le+=U(fe,F,te,De,xe);else if(re=x(O),typeof re=="function")for(O=re.call(O),re=0;!(fe=O.next()).done;)fe=fe.value,De=Oe+ie(fe,re++),Le+=U(fe,F,te,De,xe);else if(De==="object"){if(typeof O.then=="function")return U(K(O),F,te,fe,xe);throw F=String(O),Error("Objects are not valid as a React child (found: "+(F==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":F)+"). If you meant to render a collection of children, use an array instead.")}return Le}function V(O,F,te){if(O==null)return O;var fe=[],xe=0;return U(O,fe,"","",function(De){return F.call(te,De,xe++)}),fe}function pe(O){if(O._status===-1){var F=O._result;F=F(),F.then(function(te){(O._status===0||O._status===-1)&&(O._status=1,O._result=te)},function(te){(O._status===0||O._status===-1)&&(O._status=2,O._result=te)}),O._status===-1&&(O._status=0,O._result=F)}if(O._status===1)return O._result.default;throw O._result}var be=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var F=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(F))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},je={map:V,forEach:function(O,F,te){V(O,function(){F.apply(this,arguments)},te)},count:function(O){var F=0;return V(O,function(){F++}),F},toArray:function(O){return V(O,function(F){return F})||[]},only:function(O){if(!X(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return ze.Activity=p,ze.Children=je,ze.Component=A,ze.Fragment=n,ze.Profiler=o,ze.PureComponent=k,ze.StrictMode=r,ze.Suspense=u,ze.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=P,ze.__COMPILER_RUNTIME={__proto__:null,c:function(O){return P.H.useMemoCache(O)}},ze.cache=function(O){return function(){return O.apply(null,arguments)}},ze.cacheSignal=function(){return null},ze.cloneElement=function(O,F,te){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var fe=N({},O.props),xe=O.key;if(F!=null)for(De in F.key!==void 0&&(xe=""+F.key),F)!B.call(F,De)||De==="key"||De==="__self"||De==="__source"||De==="ref"&&F.ref===void 0||(fe[De]=F[De]);var De=arguments.length-2;if(De===1)fe.children=te;else if(1<De){for(var Le=Array(De),Oe=0;Oe<De;Oe++)Le[Oe]=arguments[Oe+2];fe.children=Le}return L(O.type,xe,fe)},ze.createContext=function(O){return O={$$typeof:a,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:i,_context:O},O},ze.createElement=function(O,F,te){var fe,xe={},De=null;if(F!=null)for(fe in F.key!==void 0&&(De=""+F.key),F)B.call(F,fe)&&fe!=="key"&&fe!=="__self"&&fe!=="__source"&&(xe[fe]=F[fe]);var Le=arguments.length-2;if(Le===1)xe.children=te;else if(1<Le){for(var Oe=Array(Le),re=0;re<Le;re++)Oe[re]=arguments[re+2];xe.children=Oe}if(O&&O.defaultProps)for(fe in Le=O.defaultProps,Le)xe[fe]===void 0&&(xe[fe]=Le[fe]);return L(O,De,xe)},ze.createRef=function(){return{current:null}},ze.forwardRef=function(O){return{$$typeof:l,render:O}},ze.isValidElement=X,ze.lazy=function(O){return{$$typeof:h,_payload:{_status:-1,_result:O},_init:pe}},ze.memo=function(O,F){return{$$typeof:f,type:O,compare:F===void 0?null:F}},ze.startTransition=function(O){var F=P.T,te={};P.T=te;try{var fe=O(),xe=P.S;xe!==null&&xe(te,fe),typeof fe=="object"&&fe!==null&&typeof fe.then=="function"&&fe.then(I,be)}catch(De){be(De)}finally{F!==null&&te.types!==null&&(F.types=te.types),P.T=F}},ze.unstable_useCacheRefresh=function(){return P.H.useCacheRefresh()},ze.use=function(O){return P.H.use(O)},ze.useActionState=function(O,F,te){return P.H.useActionState(O,F,te)},ze.useCallback=function(O,F){return P.H.useCallback(O,F)},ze.useContext=function(O){return P.H.useContext(O)},ze.useDebugValue=function(){},ze.useDeferredValue=function(O,F){return P.H.useDeferredValue(O,F)},ze.useEffect=function(O,F){return P.H.useEffect(O,F)},ze.useEffectEvent=function(O){return P.H.useEffectEvent(O)},ze.useId=function(){return P.H.useId()},ze.useImperativeHandle=function(O,F,te){return P.H.useImperativeHandle(O,F,te)},ze.useInsertionEffect=function(O,F){return P.H.useInsertionEffect(O,F)},ze.useLayoutEffect=function(O,F){return P.H.useLayoutEffect(O,F)},ze.useMemo=function(O,F){return P.H.useMemo(O,F)},ze.useOptimistic=function(O,F){return P.H.useOptimistic(O,F)},ze.useReducer=function(O,F,te){return P.H.useReducer(O,F,te)},ze.useRef=function(O){return P.H.useRef(O)},ze.useState=function(O){return P.H.useState(O)},ze.useSyncExternalStore=function(O,F,te){return P.H.useSyncExternalStore(O,F,te)},ze.useTransition=function(){return P.H.useTransition()},ze.version="19.2.0",ze}var nk;function gu(){return nk||(nk=1,Gv.exports=Z9()),Gv.exports}var E=gu();const bo=No(E),eF=Y9({__proto__:null,default:bo},[E]);var Kv={exports:{}},Id={},Wv={exports:{}},Jv={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rk;function tF(){return rk||(rk=1,(function(e){function t(U,V){var pe=U.length;U.push(V);e:for(;0<pe;){var be=pe-1>>>1,je=U[be];if(0<o(je,V))U[be]=V,U[pe]=je,pe=be;else break e}}function n(U){return U.length===0?null:U[0]}function r(U){if(U.length===0)return null;var V=U[0],pe=U.pop();if(pe!==V){U[0]=pe;e:for(var be=0,je=U.length,O=je>>>1;be<O;){var F=2*(be+1)-1,te=U[F],fe=F+1,xe=U[fe];if(0>o(te,pe))fe<je&&0>o(xe,te)?(U[be]=xe,U[fe]=pe,be=fe):(U[be]=te,U[F]=pe,be=F);else if(fe<je&&0>o(xe,pe))U[be]=xe,U[fe]=pe,be=fe;else break e}}return V}function o(U,V){var pe=U.sortIndex-V.sortIndex;return pe!==0?pe:U.id-V.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var u=[],f=[],h=1,p=null,g=3,x=!1,y=!1,N=!1,C=!1,A=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;function D(U){for(var V=n(f);V!==null;){if(V.callback===null)r(f);else if(V.startTime<=U)r(f),V.sortIndex=V.expirationTime,t(u,V);else break;V=n(f)}}function R(U){if(N=!1,D(U),!y)if(n(u)!==null)y=!0,I||(I=!0,q());else{var V=n(f);V!==null&&K(R,V.startTime-U)}}var I=!1,P=-1,B=5,L=-1;function $(){return C?!0:!(e.unstable_now()-L<B)}function X(){if(C=!1,I){var U=e.unstable_now();L=U;var V=!0;try{e:{y=!1,N&&(N=!1,T(P),P=-1),x=!0;var pe=g;try{t:{for(D(U),p=n(u);p!==null&&!(p.expirationTime>U&&$());){var be=p.callback;if(typeof be=="function"){p.callback=null,g=p.priorityLevel;var je=be(p.expirationTime<=U);if(U=e.unstable_now(),typeof je=="function"){p.callback=je,D(U),V=!0;break t}p===n(u)&&r(u),D(U)}else r(u);p=n(u)}if(p!==null)V=!0;else{var O=n(f);O!==null&&K(R,O.startTime-U),V=!1}}break e}finally{p=null,g=pe,x=!1}V=void 0}}finally{V?q():I=!1}}}var q;if(typeof k=="function")q=function(){k(X)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,ie=W.port2;W.port1.onmessage=X,q=function(){ie.postMessage(null)}}else q=function(){A(X,0)};function K(U,V){P=A(function(){U(e.unstable_now())},V)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(U){U.callback=null},e.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<U?Math.floor(1e3/U):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_next=function(U){switch(g){case 1:case 2:case 3:var V=3;break;default:V=g}var pe=g;g=V;try{return U()}finally{g=pe}},e.unstable_requestPaint=function(){C=!0},e.unstable_runWithPriority=function(U,V){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var pe=g;g=U;try{return V()}finally{g=pe}},e.unstable_scheduleCallback=function(U,V,pe){var be=e.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?be+pe:be):pe=be,U){case 1:var je=-1;break;case 2:je=250;break;case 5:je=1073741823;break;case 4:je=1e4;break;default:je=5e3}return je=pe+je,U={id:h++,callback:V,priorityLevel:U,startTime:pe,expirationTime:je,sortIndex:-1},pe>be?(U.sortIndex=pe,t(f,U),n(u)===null&&U===n(f)&&(N?(T(P),P=-1):N=!0,K(R,pe-be))):(U.sortIndex=je,t(u,U),y||x||(y=!0,I||(I=!0,q()))),U},e.unstable_shouldYield=$,e.unstable_wrapCallback=function(U){var V=g;return function(){var pe=g;g=V;try{return U.apply(this,arguments)}finally{g=pe}}}})(Jv)),Jv}var ok;function nF(){return ok||(ok=1,Wv.exports=tF()),Wv.exports}var Yv={exports:{}},Gn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ik;function rF(){if(ik)return Gn;ik=1;var e=gu();function t(u){var f="https://react.dev/errors/"+u;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)f+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+u+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function i(u,f,h){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:p==null?null:""+p,children:u,containerInfo:f,implementation:h}}var a=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(u,f){if(u==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return Gn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Gn.createPortal=function(u,f){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(t(299));return i(u,f,null,h)},Gn.flushSync=function(u){var f=a.T,h=r.p;try{if(a.T=null,r.p=2,u)return u()}finally{a.T=f,r.p=h,r.d.f()}},Gn.preconnect=function(u,f){typeof u=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(u,f))},Gn.prefetchDNS=function(u){typeof u=="string"&&r.d.D(u)},Gn.preinit=function(u,f){if(typeof u=="string"&&f&&typeof f.as=="string"){var h=f.as,p=l(h,f.crossOrigin),g=typeof f.integrity=="string"?f.integrity:void 0,x=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;h==="style"?r.d.S(u,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:p,integrity:g,fetchPriority:x}):h==="script"&&r.d.X(u,{crossOrigin:p,integrity:g,fetchPriority:x,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},Gn.preinitModule=function(u,f){if(typeof u=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var h=l(f.as,f.crossOrigin);r.d.M(u,{crossOrigin:h,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(u)},Gn.preload=function(u,f){if(typeof u=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var h=f.as,p=l(h,f.crossOrigin);r.d.L(u,h,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},Gn.preloadModule=function(u,f){if(typeof u=="string")if(f){var h=l(f.as,f.crossOrigin);r.d.m(u,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:h,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(u)},Gn.requestFormReset=function(u){r.d.r(u)},Gn.unstable_batchedUpdates=function(u,f){return u(f)},Gn.useFormState=function(u,f,h){return a.H.useFormState(u,f,h)},Gn.useFormStatus=function(){return a.H.useHostTransitionStatus()},Gn.version="19.2.0",Gn}var ak;function II(){if(ak)return Yv.exports;ak=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Yv.exports=rF(),Yv.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sk;function oF(){if(sk)return Id;sk=1;var e=nF(),t=gu(),n=II();function r(c){var d="https://react.dev/errors/"+c;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)d+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+c+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(c){return!(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)}function i(c){var d=c,m=c;if(c.alternate)for(;d.return;)d=d.return;else{c=d;do d=c,(d.flags&4098)!==0&&(m=d.return),c=d.return;while(c)}return d.tag===3?m:null}function a(c){if(c.tag===13){var d=c.memoizedState;if(d===null&&(c=c.alternate,c!==null&&(d=c.memoizedState)),d!==null)return d.dehydrated}return null}function l(c){if(c.tag===31){var d=c.memoizedState;if(d===null&&(c=c.alternate,c!==null&&(d=c.memoizedState)),d!==null)return d.dehydrated}return null}function u(c){if(i(c)!==c)throw Error(r(188))}function f(c){var d=c.alternate;if(!d){if(d=i(c),d===null)throw Error(r(188));return d!==c?null:c}for(var m=c,b=d;;){var S=m.return;if(S===null)break;var j=S.alternate;if(j===null){if(b=S.return,b!==null){m=b;continue}break}if(S.child===j.child){for(j=S.child;j;){if(j===m)return u(S),c;if(j===b)return u(S),d;j=j.sibling}throw Error(r(188))}if(m.return!==b.return)m=S,b=j;else{for(var M=!1,_=S.child;_;){if(_===m){M=!0,m=S,b=j;break}if(_===b){M=!0,b=S,m=j;break}_=_.sibling}if(!M){for(_=j.child;_;){if(_===m){M=!0,m=j,b=S;break}if(_===b){M=!0,b=j,m=S;break}_=_.sibling}if(!M)throw Error(r(189))}}if(m.alternate!==b)throw Error(r(190))}if(m.tag!==3)throw Error(r(188));return m.stateNode.current===m?c:d}function h(c){var d=c.tag;if(d===5||d===26||d===27||d===6)return c;for(c=c.child;c!==null;){if(d=h(c),d!==null)return d;c=c.sibling}return null}var p=Object.assign,g=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),y=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),T=Symbol.for("react.consumer"),k=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),B=Symbol.for("react.lazy"),L=Symbol.for("react.activity"),$=Symbol.for("react.memo_cache_sentinel"),X=Symbol.iterator;function q(c){return c===null||typeof c!="object"?null:(c=X&&c[X]||c["@@iterator"],typeof c=="function"?c:null)}var W=Symbol.for("react.client.reference");function ie(c){if(c==null)return null;if(typeof c=="function")return c.$$typeof===W?null:c.displayName||c.name||null;if(typeof c=="string")return c;switch(c){case N:return"Fragment";case A:return"Profiler";case C:return"StrictMode";case R:return"Suspense";case I:return"SuspenseList";case L:return"Activity"}if(typeof c=="object")switch(c.$$typeof){case y:return"Portal";case k:return c.displayName||"Context";case T:return(c._context.displayName||"Context")+".Consumer";case D:var d=c.render;return c=c.displayName,c||(c=d.displayName||d.name||"",c=c!==""?"ForwardRef("+c+")":"ForwardRef"),c;case P:return d=c.displayName||null,d!==null?d:ie(c.type)||"Memo";case B:d=c._payload,c=c._init;try{return ie(c(d))}catch{}}return null}var K=Array.isArray,U=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,V=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe={pending:!1,data:null,method:null,action:null},be=[],je=-1;function O(c){return{current:c}}function F(c){0>je||(c.current=be[je],be[je]=null,je--)}function te(c,d){je++,be[je]=c.current,c.current=d}var fe=O(null),xe=O(null),De=O(null),Le=O(null);function Oe(c,d){switch(te(De,d),te(xe,c),te(fe,null),d.nodeType){case 9:case 11:c=(c=d.documentElement)&&(c=c.namespaceURI)?CT(c):0;break;default:if(c=d.tagName,d=d.namespaceURI)d=CT(d),c=NT(d,c);else switch(c){case"svg":c=1;break;case"math":c=2;break;default:c=0}}F(fe),te(fe,c)}function re(){F(fe),F(xe),F(De)}function Re(c){c.memoizedState!==null&&te(Le,c);var d=fe.current,m=NT(d,c.type);d!==m&&(te(xe,c),te(fe,m))}function Te(c){xe.current===c&&(F(fe),F(xe)),Le.current===c&&(F(Le),Td._currentValue=pe)}var de,Ge;function Be(c){if(de===void 0)try{throw Error()}catch(m){var d=m.stack.trim().match(/\n( *(at )?)/);de=d&&d[1]||"",Ge=-1<m.stack.indexOf(`
    at`)?" (<anonymous>)":-1<m.stack.indexOf("@")?"@unknown:0:0":""}return`
`+de+c+Ge}var et=!1;function qt(c,d){if(!c||et)return"";et=!0;var m=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var b={DetermineComponentFrameRoot:function(){try{if(d){var ue=function(){throw Error()};if(Object.defineProperty(ue.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ue,[])}catch(oe){var Q=oe}Reflect.construct(c,[],ue)}else{try{ue.call()}catch(oe){Q=oe}c.call(ue.prototype)}}else{try{throw Error()}catch(oe){Q=oe}(ue=c())&&typeof ue.catch=="function"&&ue.catch(function(){})}}catch(oe){if(oe&&Q&&typeof oe.stack=="string")return[oe.stack,Q.stack]}return[null,null]}};b.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var S=Object.getOwnPropertyDescriptor(b.DetermineComponentFrameRoot,"name");S&&S.configurable&&Object.defineProperty(b.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var j=b.DetermineComponentFrameRoot(),M=j[0],_=j[1];if(M&&_){var z=M.split(`
`),Y=_.split(`
`);for(S=b=0;b<z.length&&!z[b].includes("DetermineComponentFrameRoot");)b++;for(;S<Y.length&&!Y[S].includes("DetermineComponentFrameRoot");)S++;if(b===z.length||S===Y.length)for(b=z.length-1,S=Y.length-1;1<=b&&0<=S&&z[b]!==Y[S];)S--;for(;1<=b&&0<=S;b--,S--)if(z[b]!==Y[S]){if(b!==1||S!==1)do if(b--,S--,0>S||z[b]!==Y[S]){var ae=`
`+z[b].replace(" at new "," at ");return c.displayName&&ae.includes("<anonymous>")&&(ae=ae.replace("<anonymous>",c.displayName)),ae}while(1<=b&&0<=S);break}}}finally{et=!1,Error.prepareStackTrace=m}return(m=c?c.displayName||c.name:"")?Be(m):""}function Hn(c,d){switch(c.tag){case 26:case 27:case 5:return Be(c.type);case 16:return Be("Lazy");case 13:return c.child!==d&&d!==null?Be("Suspense Fallback"):Be("Suspense");case 19:return Be("SuspenseList");case 0:case 15:return qt(c.type,!1);case 11:return qt(c.type.render,!1);case 1:return qt(c.type,!0);case 31:return Be("Activity");default:return""}}function Wt(c){try{var d="",m=null;do d+=Hn(c,m),m=c,c=c.return;while(c);return d}catch(b){return`
Error generating stack: `+b.message+`
`+b.stack}}var Eo=Object.prototype.hasOwnProperty,Go=e.unstable_scheduleCallback,Rn=e.unstable_cancelCallback,Gl=e.unstable_shouldYield,Ps=e.unstable_requestPaint,Vn=e.unstable_now,Kl=e.unstable_getCurrentPriorityLevel,ba=e.unstable_ImmediatePriority,Wl=e.unstable_UserBlockingPriority,mi=e.unstable_NormalPriority,_u=e.unstable_LowPriority,Ee=e.unstable_IdlePriority,Ke=e.log,We=e.unstable_setDisableYieldValue,lt=null,it=null;function In(c){if(typeof Ke=="function"&&We(c),it&&typeof it.setStrictMode=="function")try{it.setStrictMode(lt,c)}catch{}}var ct=Math.clz32?Math.clz32:gi,jt=Math.log,ut=Math.LN2;function gi(c){return c>>>=0,c===0?32:31-(jt(c)/ut|0)|0}var Rs=256,Jl=262144,Ou=4194304;function Ko(c){var d=c&42;if(d!==0)return d;switch(c&-c){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return c&261888;case 262144:case 524288:case 1048576:case 2097152:return c&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return c&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return c}}function Yl(c,d,m){var b=c.pendingLanes;if(b===0)return 0;var S=0,j=c.suspendedLanes,M=c.pingedLanes;c=c.warmLanes;var _=b&134217727;return _!==0?(b=_&~j,b!==0?S=Ko(b):(M&=_,M!==0?S=Ko(M):m||(m=_&~c,m!==0&&(S=Ko(m))))):(_=b&~j,_!==0?S=Ko(_):M!==0?S=Ko(M):m||(m=b&~c,m!==0&&(S=Ko(m)))),S===0?0:d!==0&&d!==S&&(d&j)===0&&(j=S&-S,m=d&-d,j>=m||j===32&&(m&4194048)!==0)?d:S}function Is(c,d){return(c.pendingLanes&~(c.suspendedLanes&~c.pingedLanes)&d)===0}function CE(c,d){switch(c){case 1:case 2:case 4:case 8:case 64:return d+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Lu(){var c=Ou;return Ou<<=1,(Ou&62914560)===0&&(Ou=4194304),c}function Bu(c){for(var d=[],m=0;31>m;m++)d.push(c);return d}function va(c,d){c.pendingLanes|=d,d!==268435456&&(c.suspendedLanes=0,c.pingedLanes=0,c.warmLanes=0)}function L0(c,d,m,b,S,j){var M=c.pendingLanes;c.pendingLanes=m,c.suspendedLanes=0,c.pingedLanes=0,c.warmLanes=0,c.expiredLanes&=m,c.entangledLanes&=m,c.errorRecoveryDisabledLanes&=m,c.shellSuspendCounter=0;var _=c.entanglements,z=c.expirationTimes,Y=c.hiddenUpdates;for(m=M&~m;0<m;){var ae=31-ct(m),ue=1<<ae;_[ae]=0,z[ae]=-1;var Q=Y[ae];if(Q!==null)for(Y[ae]=null,ae=0;ae<Q.length;ae++){var oe=Q[ae];oe!==null&&(oe.lane&=-536870913)}m&=~ue}b!==0&&bh(c,b,0),j!==0&&S===0&&c.tag!==0&&(c.suspendedLanes|=j&~(M&~d))}function bh(c,d,m){c.pendingLanes|=d,c.suspendedLanes&=~d;var b=31-ct(d);c.entangledLanes|=d,c.entanglements[b]=c.entanglements[b]|1073741824|m&261930}function B0(c,d){var m=c.entangledLanes|=d;for(c=c.entanglements;m;){var b=31-ct(m),S=1<<b;S&d|c[b]&d&&(c[b]|=d),m&=~S}}function Uu(c,d){var m=d&-d;return m=(m&42)!==0?1:zu(m),(m&(c.suspendedLanes|d))!==0?0:m}function zu(c){switch(c){case 2:c=1;break;case 8:c=4;break;case 32:c=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:c=128;break;case 268435456:c=134217728;break;default:c=0}return c}function xi(c){return c&=-c,2<c?8<c?(c&134217727)!==0?32:268435456:8:2}function vh(){var c=V.p;return c!==0?c:(c=window.event,c===void 0?32:GT(c.type))}function Fu(c,d){var m=V.p;try{return V.p=c,d()}finally{V.p=m}}var jo=Math.random().toString(36).slice(2),yn="__reactFiber$"+jo,$n="__reactProps$"+jo,fn="__reactContainer$"+jo,ya="__reactEvents$"+jo,yh="__reactListeners$"+jo,bi="__reactHandles$"+jo,wh="__reactResources$"+jo,wa="__reactMarker$"+jo;function Ds(c){delete c[yn],delete c[$n],delete c[ya],delete c[yh],delete c[bi]}function Ca(c){var d=c[yn];if(d)return d;for(var m=c.parentNode;m;){if(d=m[fn]||m[yn]){if(m=d.alternate,d.child!==null||m!==null&&m.child!==null)for(c=MT(c);c!==null;){if(m=c[yn])return m;c=MT(c)}return d}c=m,m=c.parentNode}return null}function vi(c){if(c=c[yn]||c[fn]){var d=c.tag;if(d===5||d===6||d===13||d===31||d===26||d===27||d===3)return c}return null}function Na(c){var d=c.tag;if(d===5||d===26||d===27||d===6)return c.stateNode;throw Error(r(33))}function Sa(c){var d=c[wh];return d||(d=c[wh]={hoistableStyles:new Map,hoistableScripts:new Map}),d}function tn(c){c[wa]=!0}var Wo=new Set,ge={};function yi(c,d){Ea(c,d),Ea(c+"Capture",d)}function Ea(c,d){for(ge[c]=d,c=0;c<d.length;c++)Wo.add(d[c])}var U0=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ch={},Nh={};function z0(c){return Eo.call(Nh,c)?!0:Eo.call(Ch,c)?!1:U0.test(c)?Nh[c]=!0:(Ch[c]=!0,!1)}function Xl(c,d,m){if(z0(d))if(m===null)c.removeAttribute(d);else{switch(typeof m){case"undefined":case"function":case"symbol":c.removeAttribute(d);return;case"boolean":var b=d.toLowerCase().slice(0,5);if(b!=="data-"&&b!=="aria-"){c.removeAttribute(d);return}}c.setAttribute(d,""+m)}}function Ql(c,d,m){if(m===null)c.removeAttribute(d);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":c.removeAttribute(d);return}c.setAttribute(d,""+m)}}function Ao(c,d,m,b){if(b===null)c.removeAttribute(m);else{switch(typeof b){case"undefined":case"function":case"symbol":case"boolean":c.removeAttribute(m);return}c.setAttributeNS(d,m,""+b)}}function dr(c){switch(typeof c){case"bigint":case"boolean":case"number":case"string":case"undefined":return c;case"object":return c;default:return""}}function Sh(c){var d=c.type;return(c=c.nodeName)&&c.toLowerCase()==="input"&&(d==="checkbox"||d==="radio")}function F0(c,d,m){var b=Object.getOwnPropertyDescriptor(c.constructor.prototype,d);if(!c.hasOwnProperty(d)&&typeof b<"u"&&typeof b.get=="function"&&typeof b.set=="function"){var S=b.get,j=b.set;return Object.defineProperty(c,d,{configurable:!0,get:function(){return S.call(this)},set:function(M){m=""+M,j.call(this,M)}}),Object.defineProperty(c,d,{enumerable:b.enumerable}),{getValue:function(){return m},setValue:function(M){m=""+M},stopTracking:function(){c._valueTracker=null,delete c[d]}}}}function qu(c){if(!c._valueTracker){var d=Sh(c)?"checked":"value";c._valueTracker=F0(c,d,""+c[d])}}function Eh(c){if(!c)return!1;var d=c._valueTracker;if(!d)return!0;var m=d.getValue(),b="";return c&&(b=Sh(c)?c.checked?"true":"false":c.value),c=b,c!==m?(d.setValue(c),!0):!1}function Zl(c){if(c=c||(typeof document<"u"?document:void 0),typeof c>"u")return null;try{return c.activeElement||c.body}catch{return c.body}}var q0=/[\n"\\]/g;function fr(c){return c.replace(q0,function(d){return"\\"+d.charCodeAt(0).toString(16)+" "})}function Hu(c,d,m,b,S,j,M,_){c.name="",M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"?c.type=M:c.removeAttribute("type"),d!=null?M==="number"?(d===0&&c.value===""||c.value!=d)&&(c.value=""+dr(d)):c.value!==""+dr(d)&&(c.value=""+dr(d)):M!=="submit"&&M!=="reset"||c.removeAttribute("value"),d!=null?Vu(c,M,dr(d)):m!=null?Vu(c,M,dr(m)):b!=null&&c.removeAttribute("value"),S==null&&j!=null&&(c.defaultChecked=!!j),S!=null&&(c.checked=S&&typeof S!="function"&&typeof S!="symbol"),_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?c.name=""+dr(_):c.removeAttribute("name")}function jh(c,d,m,b,S,j,M,_){if(j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"&&(c.type=j),d!=null||m!=null){if(!(j!=="submit"&&j!=="reset"||d!=null)){qu(c);return}m=m!=null?""+dr(m):"",d=d!=null?""+dr(d):m,_||d===c.value||(c.value=d),c.defaultValue=d}b=b??S,b=typeof b!="function"&&typeof b!="symbol"&&!!b,c.checked=_?c.checked:!!b,c.defaultChecked=!!b,M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"&&(c.name=M),qu(c)}function Vu(c,d,m){d==="number"&&Zl(c.ownerDocument)===c||c.defaultValue===""+m||(c.defaultValue=""+m)}function ja(c,d,m,b){if(c=c.options,d){d={};for(var S=0;S<m.length;S++)d["$"+m[S]]=!0;for(m=0;m<c.length;m++)S=d.hasOwnProperty("$"+c[m].value),c[m].selected!==S&&(c[m].selected=S),S&&b&&(c[m].defaultSelected=!0)}else{for(m=""+dr(m),d=null,S=0;S<c.length;S++){if(c[S].value===m){c[S].selected=!0,b&&(c[S].defaultSelected=!0);return}d!==null||c[S].disabled||(d=c[S])}d!==null&&(d.selected=!0)}}function Ah(c,d,m){if(d!=null&&(d=""+dr(d),d!==c.value&&(c.value=d),m==null)){c.defaultValue!==d&&(c.defaultValue=d);return}c.defaultValue=m!=null?""+dr(m):""}function Th(c,d,m,b){if(d==null){if(b!=null){if(m!=null)throw Error(r(92));if(K(b)){if(1<b.length)throw Error(r(93));b=b[0]}m=b}m==null&&(m=""),d=m}m=dr(d),c.defaultValue=m,b=c.textContent,b===m&&b!==""&&b!==null&&(c.value=b),qu(c)}function Aa(c,d){if(d){var m=c.firstChild;if(m&&m===c.lastChild&&m.nodeType===3){m.nodeValue=d;return}}c.textContent=d}var H0=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function kh(c,d,m){var b=d.indexOf("--")===0;m==null||typeof m=="boolean"||m===""?b?c.setProperty(d,""):d==="float"?c.cssFloat="":c[d]="":b?c.setProperty(d,m):typeof m!="number"||m===0||H0.has(d)?d==="float"?c.cssFloat=m:c[d]=(""+m).trim():c[d]=m+"px"}function Mh(c,d,m){if(d!=null&&typeof d!="object")throw Error(r(62));if(c=c.style,m!=null){for(var b in m)!m.hasOwnProperty(b)||d!=null&&d.hasOwnProperty(b)||(b.indexOf("--")===0?c.setProperty(b,""):b==="float"?c.cssFloat="":c[b]="");for(var S in d)b=d[S],d.hasOwnProperty(S)&&m[S]!==b&&kh(c,S,b)}else for(var j in d)d.hasOwnProperty(j)&&kh(c,j,d[j])}function $u(c){if(c.indexOf("-")===-1)return!1;switch(c){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _s=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),V0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ec(c){return V0.test(""+c)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":c}function To(){}var ne=null;function se(c){return c=c.target||c.srcElement||window,c.correspondingUseElement&&(c=c.correspondingUseElement),c.nodeType===3?c.parentNode:c}var le=null,ve=null;function Jt(c){var d=vi(c);if(d&&(c=d.stateNode)){var m=c[$n]||null;e:switch(c=d.stateNode,d.type){case"input":if(Hu(c,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name),d=m.name,m.type==="radio"&&d!=null){for(m=c;m.parentNode;)m=m.parentNode;for(m=m.querySelectorAll('input[name="'+fr(""+d)+'"][type="radio"]'),d=0;d<m.length;d++){var b=m[d];if(b!==c&&b.form===c.form){var S=b[$n]||null;if(!S)throw Error(r(90));Hu(b,S.value,S.defaultValue,S.defaultValue,S.checked,S.defaultChecked,S.type,S.name)}}for(d=0;d<m.length;d++)b=m[d],b.form===c.form&&Eh(b)}break e;case"textarea":Ah(c,m.value,m.defaultValue);break e;case"select":d=m.value,d!=null&&ja(c,!!m.multiple,d,!1)}}}var Jo=!1;function Jr(c,d,m){if(Jo)return c(d,m);Jo=!0;try{var b=c(d);return b}finally{if(Jo=!1,(le!==null||ve!==null)&&(xp(),le&&(d=le,c=ve,ve=le=null,Jt(d),c)))for(d=0;d<c.length;d++)Jt(c[d])}}function Yo(c,d){var m=c.stateNode;if(m===null)return null;var b=m[$n]||null;if(b===null)return null;m=b[d];e:switch(d){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(b=!b.disabled)||(c=c.type,b=!(c==="button"||c==="input"||c==="select"||c==="textarea")),c=!b;break e;default:c=!1}if(c)return null;if(m&&typeof m!="function")throw Error(r(231,d,typeof m));return m}var wn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ta=!1;if(wn)try{var Gu={};Object.defineProperty(Gu,"passive",{get:function(){Ta=!0}}),window.addEventListener("test",Gu,Gu),window.removeEventListener("test",Gu,Gu)}catch{Ta=!1}var ka=null,$0=null,Ph=null;function NE(){if(Ph)return Ph;var c,d=$0,m=d.length,b,S="value"in ka?ka.value:ka.textContent,j=S.length;for(c=0;c<m&&d[c]===S[c];c++);var M=m-c;for(b=1;b<=M&&d[m-b]===S[j-b];b++);return Ph=S.slice(c,1<b?1-b:void 0)}function Rh(c){var d=c.keyCode;return"charCode"in c?(c=c.charCode,c===0&&d===13&&(c=13)):c=d,c===10&&(c=13),32<=c||c===13?c:0}function Ih(){return!0}function SE(){return!1}function hr(c){function d(m,b,S,j,M){this._reactName=m,this._targetInst=S,this.type=b,this.nativeEvent=j,this.target=M,this.currentTarget=null;for(var _ in c)c.hasOwnProperty(_)&&(m=c[_],this[_]=m?m(j):j[_]);return this.isDefaultPrevented=(j.defaultPrevented!=null?j.defaultPrevented:j.returnValue===!1)?Ih:SE,this.isPropagationStopped=SE,this}return p(d.prototype,{preventDefault:function(){this.defaultPrevented=!0;var m=this.nativeEvent;m&&(m.preventDefault?m.preventDefault():typeof m.returnValue!="unknown"&&(m.returnValue=!1),this.isDefaultPrevented=Ih)},stopPropagation:function(){var m=this.nativeEvent;m&&(m.stopPropagation?m.stopPropagation():typeof m.cancelBubble!="unknown"&&(m.cancelBubble=!0),this.isPropagationStopped=Ih)},persist:function(){},isPersistent:Ih}),d}var Os={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(c){return c.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Dh=hr(Os),Ku=p({},Os,{view:0,detail:0}),GU=hr(Ku),G0,K0,Wu,_h=p({},Ku,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:J0,button:0,buttons:0,relatedTarget:function(c){return c.relatedTarget===void 0?c.fromElement===c.srcElement?c.toElement:c.fromElement:c.relatedTarget},movementX:function(c){return"movementX"in c?c.movementX:(c!==Wu&&(Wu&&c.type==="mousemove"?(G0=c.screenX-Wu.screenX,K0=c.screenY-Wu.screenY):K0=G0=0,Wu=c),G0)},movementY:function(c){return"movementY"in c?c.movementY:K0}}),EE=hr(_h),KU=p({},_h,{dataTransfer:0}),WU=hr(KU),JU=p({},Ku,{relatedTarget:0}),W0=hr(JU),YU=p({},Os,{animationName:0,elapsedTime:0,pseudoElement:0}),XU=hr(YU),QU=p({},Os,{clipboardData:function(c){return"clipboardData"in c?c.clipboardData:window.clipboardData}}),ZU=hr(QU),ez=p({},Os,{data:0}),jE=hr(ez),tz={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},nz={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},rz={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function oz(c){var d=this.nativeEvent;return d.getModifierState?d.getModifierState(c):(c=rz[c])?!!d[c]:!1}function J0(){return oz}var iz=p({},Ku,{key:function(c){if(c.key){var d=tz[c.key]||c.key;if(d!=="Unidentified")return d}return c.type==="keypress"?(c=Rh(c),c===13?"Enter":String.fromCharCode(c)):c.type==="keydown"||c.type==="keyup"?nz[c.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:J0,charCode:function(c){return c.type==="keypress"?Rh(c):0},keyCode:function(c){return c.type==="keydown"||c.type==="keyup"?c.keyCode:0},which:function(c){return c.type==="keypress"?Rh(c):c.type==="keydown"||c.type==="keyup"?c.keyCode:0}}),az=hr(iz),sz=p({},_h,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),AE=hr(sz),lz=p({},Ku,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:J0}),cz=hr(lz),uz=p({},Os,{propertyName:0,elapsedTime:0,pseudoElement:0}),dz=hr(uz),fz=p({},_h,{deltaX:function(c){return"deltaX"in c?c.deltaX:"wheelDeltaX"in c?-c.wheelDeltaX:0},deltaY:function(c){return"deltaY"in c?c.deltaY:"wheelDeltaY"in c?-c.wheelDeltaY:"wheelDelta"in c?-c.wheelDelta:0},deltaZ:0,deltaMode:0}),hz=hr(fz),pz=p({},Os,{newState:0,oldState:0}),mz=hr(pz),gz=[9,13,27,32],Y0=wn&&"CompositionEvent"in window,Ju=null;wn&&"documentMode"in document&&(Ju=document.documentMode);var xz=wn&&"TextEvent"in window&&!Ju,TE=wn&&(!Y0||Ju&&8<Ju&&11>=Ju),kE=" ",ME=!1;function PE(c,d){switch(c){case"keyup":return gz.indexOf(d.keyCode)!==-1;case"keydown":return d.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function RE(c){return c=c.detail,typeof c=="object"&&"data"in c?c.data:null}var tc=!1;function bz(c,d){switch(c){case"compositionend":return RE(d);case"keypress":return d.which!==32?null:(ME=!0,kE);case"textInput":return c=d.data,c===kE&&ME?null:c;default:return null}}function vz(c,d){if(tc)return c==="compositionend"||!Y0&&PE(c,d)?(c=NE(),Ph=$0=ka=null,tc=!1,c):null;switch(c){case"paste":return null;case"keypress":if(!(d.ctrlKey||d.altKey||d.metaKey)||d.ctrlKey&&d.altKey){if(d.char&&1<d.char.length)return d.char;if(d.which)return String.fromCharCode(d.which)}return null;case"compositionend":return TE&&d.locale!=="ko"?null:d.data;default:return null}}var yz={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function IE(c){var d=c&&c.nodeName&&c.nodeName.toLowerCase();return d==="input"?!!yz[c.type]:d==="textarea"}function DE(c,d,m,b){le?ve?ve.push(b):ve=[b]:le=b,d=Sp(d,"onChange"),0<d.length&&(m=new Dh("onChange","change",null,m,b),c.push({event:m,listeners:d}))}var Yu=null,Xu=null;function wz(c){gT(c,0)}function Oh(c){var d=Na(c);if(Eh(d))return c}function _E(c,d){if(c==="change")return d}var OE=!1;if(wn){var X0;if(wn){var Q0="oninput"in document;if(!Q0){var LE=document.createElement("div");LE.setAttribute("oninput","return;"),Q0=typeof LE.oninput=="function"}X0=Q0}else X0=!1;OE=X0&&(!document.documentMode||9<document.documentMode)}function BE(){Yu&&(Yu.detachEvent("onpropertychange",UE),Xu=Yu=null)}function UE(c){if(c.propertyName==="value"&&Oh(Xu)){var d=[];DE(d,Xu,c,se(c)),Jr(wz,d)}}function Cz(c,d,m){c==="focusin"?(BE(),Yu=d,Xu=m,Yu.attachEvent("onpropertychange",UE)):c==="focusout"&&BE()}function Nz(c){if(c==="selectionchange"||c==="keyup"||c==="keydown")return Oh(Xu)}function Sz(c,d){if(c==="click")return Oh(d)}function Ez(c,d){if(c==="input"||c==="change")return Oh(d)}function jz(c,d){return c===d&&(c!==0||1/c===1/d)||c!==c&&d!==d}var kr=typeof Object.is=="function"?Object.is:jz;function Qu(c,d){if(kr(c,d))return!0;if(typeof c!="object"||c===null||typeof d!="object"||d===null)return!1;var m=Object.keys(c),b=Object.keys(d);if(m.length!==b.length)return!1;for(b=0;b<m.length;b++){var S=m[b];if(!Eo.call(d,S)||!kr(c[S],d[S]))return!1}return!0}function zE(c){for(;c&&c.firstChild;)c=c.firstChild;return c}function FE(c,d){var m=zE(c);c=0;for(var b;m;){if(m.nodeType===3){if(b=c+m.textContent.length,c<=d&&b>=d)return{node:m,offset:d-c};c=b}e:{for(;m;){if(m.nextSibling){m=m.nextSibling;break e}m=m.parentNode}m=void 0}m=zE(m)}}function qE(c,d){return c&&d?c===d?!0:c&&c.nodeType===3?!1:d&&d.nodeType===3?qE(c,d.parentNode):"contains"in c?c.contains(d):c.compareDocumentPosition?!!(c.compareDocumentPosition(d)&16):!1:!1}function HE(c){c=c!=null&&c.ownerDocument!=null&&c.ownerDocument.defaultView!=null?c.ownerDocument.defaultView:window;for(var d=Zl(c.document);d instanceof c.HTMLIFrameElement;){try{var m=typeof d.contentWindow.location.href=="string"}catch{m=!1}if(m)c=d.contentWindow;else break;d=Zl(c.document)}return d}function Z0(c){var d=c&&c.nodeName&&c.nodeName.toLowerCase();return d&&(d==="input"&&(c.type==="text"||c.type==="search"||c.type==="tel"||c.type==="url"||c.type==="password")||d==="textarea"||c.contentEditable==="true")}var Az=wn&&"documentMode"in document&&11>=document.documentMode,nc=null,eb=null,Zu=null,tb=!1;function VE(c,d,m){var b=m.window===m?m.document:m.nodeType===9?m:m.ownerDocument;tb||nc==null||nc!==Zl(b)||(b=nc,"selectionStart"in b&&Z0(b)?b={start:b.selectionStart,end:b.selectionEnd}:(b=(b.ownerDocument&&b.ownerDocument.defaultView||window).getSelection(),b={anchorNode:b.anchorNode,anchorOffset:b.anchorOffset,focusNode:b.focusNode,focusOffset:b.focusOffset}),Zu&&Qu(Zu,b)||(Zu=b,b=Sp(eb,"onSelect"),0<b.length&&(d=new Dh("onSelect","select",null,d,m),c.push({event:d,listeners:b}),d.target=nc)))}function Ls(c,d){var m={};return m[c.toLowerCase()]=d.toLowerCase(),m["Webkit"+c]="webkit"+d,m["Moz"+c]="moz"+d,m}var rc={animationend:Ls("Animation","AnimationEnd"),animationiteration:Ls("Animation","AnimationIteration"),animationstart:Ls("Animation","AnimationStart"),transitionrun:Ls("Transition","TransitionRun"),transitionstart:Ls("Transition","TransitionStart"),transitioncancel:Ls("Transition","TransitionCancel"),transitionend:Ls("Transition","TransitionEnd")},nb={},$E={};wn&&($E=document.createElement("div").style,"AnimationEvent"in window||(delete rc.animationend.animation,delete rc.animationiteration.animation,delete rc.animationstart.animation),"TransitionEvent"in window||delete rc.transitionend.transition);function Bs(c){if(nb[c])return nb[c];if(!rc[c])return c;var d=rc[c],m;for(m in d)if(d.hasOwnProperty(m)&&m in $E)return nb[c]=d[m];return c}var GE=Bs("animationend"),KE=Bs("animationiteration"),WE=Bs("animationstart"),Tz=Bs("transitionrun"),kz=Bs("transitionstart"),Mz=Bs("transitioncancel"),JE=Bs("transitionend"),YE=new Map,rb="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");rb.push("scrollEnd");function ko(c,d){YE.set(c,d),yi(d,[c])}var Lh=typeof reportError=="function"?reportError:function(c){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var d=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof c=="object"&&c!==null&&typeof c.message=="string"?String(c.message):String(c),error:c});if(!window.dispatchEvent(d))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",c);return}console.error(c)},Yr=[],oc=0,ob=0;function Bh(){for(var c=oc,d=ob=oc=0;d<c;){var m=Yr[d];Yr[d++]=null;var b=Yr[d];Yr[d++]=null;var S=Yr[d];Yr[d++]=null;var j=Yr[d];if(Yr[d++]=null,b!==null&&S!==null){var M=b.pending;M===null?S.next=S:(S.next=M.next,M.next=S),b.pending=S}j!==0&&XE(m,S,j)}}function Uh(c,d,m,b){Yr[oc++]=c,Yr[oc++]=d,Yr[oc++]=m,Yr[oc++]=b,ob|=b,c.lanes|=b,c=c.alternate,c!==null&&(c.lanes|=b)}function ib(c,d,m,b){return Uh(c,d,m,b),zh(c)}function Us(c,d){return Uh(c,null,null,d),zh(c)}function XE(c,d,m){c.lanes|=m;var b=c.alternate;b!==null&&(b.lanes|=m);for(var S=!1,j=c.return;j!==null;)j.childLanes|=m,b=j.alternate,b!==null&&(b.childLanes|=m),j.tag===22&&(c=j.stateNode,c===null||c._visibility&1||(S=!0)),c=j,j=j.return;return c.tag===3?(j=c.stateNode,S&&d!==null&&(S=31-ct(m),c=j.hiddenUpdates,b=c[S],b===null?c[S]=[d]:b.push(d),d.lane=m|536870912),j):null}function zh(c){if(50<wd)throw wd=0,pv=null,Error(r(185));for(var d=c.return;d!==null;)c=d,d=c.return;return c.tag===3?c.stateNode:null}var ic={};function Pz(c,d,m,b){this.tag=c,this.key=m,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=d,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=b,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mr(c,d,m,b){return new Pz(c,d,m,b)}function ab(c){return c=c.prototype,!(!c||!c.isReactComponent)}function wi(c,d){var m=c.alternate;return m===null?(m=Mr(c.tag,d,c.key,c.mode),m.elementType=c.elementType,m.type=c.type,m.stateNode=c.stateNode,m.alternate=c,c.alternate=m):(m.pendingProps=d,m.type=c.type,m.flags=0,m.subtreeFlags=0,m.deletions=null),m.flags=c.flags&65011712,m.childLanes=c.childLanes,m.lanes=c.lanes,m.child=c.child,m.memoizedProps=c.memoizedProps,m.memoizedState=c.memoizedState,m.updateQueue=c.updateQueue,d=c.dependencies,m.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext},m.sibling=c.sibling,m.index=c.index,m.ref=c.ref,m.refCleanup=c.refCleanup,m}function QE(c,d){c.flags&=65011714;var m=c.alternate;return m===null?(c.childLanes=0,c.lanes=d,c.child=null,c.subtreeFlags=0,c.memoizedProps=null,c.memoizedState=null,c.updateQueue=null,c.dependencies=null,c.stateNode=null):(c.childLanes=m.childLanes,c.lanes=m.lanes,c.child=m.child,c.subtreeFlags=0,c.deletions=null,c.memoizedProps=m.memoizedProps,c.memoizedState=m.memoizedState,c.updateQueue=m.updateQueue,c.type=m.type,d=m.dependencies,c.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext}),c}function Fh(c,d,m,b,S,j){var M=0;if(b=c,typeof c=="function")ab(c)&&(M=1);else if(typeof c=="string")M=O9(c,m,fe.current)?26:c==="html"||c==="head"||c==="body"?27:5;else e:switch(c){case L:return c=Mr(31,m,d,S),c.elementType=L,c.lanes=j,c;case N:return zs(m.children,S,j,d);case C:M=8,S|=24;break;case A:return c=Mr(12,m,d,S|2),c.elementType=A,c.lanes=j,c;case R:return c=Mr(13,m,d,S),c.elementType=R,c.lanes=j,c;case I:return c=Mr(19,m,d,S),c.elementType=I,c.lanes=j,c;default:if(typeof c=="object"&&c!==null)switch(c.$$typeof){case k:M=10;break e;case T:M=9;break e;case D:M=11;break e;case P:M=14;break e;case B:M=16,b=null;break e}M=29,m=Error(r(130,c===null?"null":typeof c,"")),b=null}return d=Mr(M,m,d,S),d.elementType=c,d.type=b,d.lanes=j,d}function zs(c,d,m,b){return c=Mr(7,c,b,d),c.lanes=m,c}function sb(c,d,m){return c=Mr(6,c,null,d),c.lanes=m,c}function ZE(c){var d=Mr(18,null,null,0);return d.stateNode=c,d}function lb(c,d,m){return d=Mr(4,c.children!==null?c.children:[],c.key,d),d.lanes=m,d.stateNode={containerInfo:c.containerInfo,pendingChildren:null,implementation:c.implementation},d}var ej=new WeakMap;function Xr(c,d){if(typeof c=="object"&&c!==null){var m=ej.get(c);return m!==void 0?m:(d={value:c,source:d,stack:Wt(d)},ej.set(c,d),d)}return{value:c,source:d,stack:Wt(d)}}var ac=[],sc=0,qh=null,ed=0,Qr=[],Zr=0,Ma=null,Xo=1,Qo="";function Ci(c,d){ac[sc++]=ed,ac[sc++]=qh,qh=c,ed=d}function tj(c,d,m){Qr[Zr++]=Xo,Qr[Zr++]=Qo,Qr[Zr++]=Ma,Ma=c;var b=Xo;c=Qo;var S=32-ct(b)-1;b&=~(1<<S),m+=1;var j=32-ct(d)+S;if(30<j){var M=S-S%5;j=(b&(1<<M)-1).toString(32),b>>=M,S-=M,Xo=1<<32-ct(d)+S|m<<S|b,Qo=j+c}else Xo=1<<j|m<<S|b,Qo=c}function cb(c){c.return!==null&&(Ci(c,1),tj(c,1,0))}function ub(c){for(;c===qh;)qh=ac[--sc],ac[sc]=null,ed=ac[--sc],ac[sc]=null;for(;c===Ma;)Ma=Qr[--Zr],Qr[Zr]=null,Qo=Qr[--Zr],Qr[Zr]=null,Xo=Qr[--Zr],Qr[Zr]=null}function nj(c,d){Qr[Zr++]=Xo,Qr[Zr++]=Qo,Qr[Zr++]=Ma,Xo=d.id,Qo=d.overflow,Ma=c}var Dn=null,At=null,Ze=!1,Pa=null,eo=!1,db=Error(r(519));function Ra(c){var d=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw td(Xr(d,c)),db}function rj(c){var d=c.stateNode,m=c.type,b=c.memoizedProps;switch(d[yn]=c,d[$n]=b,m){case"dialog":Ye("cancel",d),Ye("close",d);break;case"iframe":case"object":case"embed":Ye("load",d);break;case"video":case"audio":for(m=0;m<Nd.length;m++)Ye(Nd[m],d);break;case"source":Ye("error",d);break;case"img":case"image":case"link":Ye("error",d),Ye("load",d);break;case"details":Ye("toggle",d);break;case"input":Ye("invalid",d),jh(d,b.value,b.defaultValue,b.checked,b.defaultChecked,b.type,b.name,!0);break;case"select":Ye("invalid",d);break;case"textarea":Ye("invalid",d),Th(d,b.value,b.defaultValue,b.children)}m=b.children,typeof m!="string"&&typeof m!="number"&&typeof m!="bigint"||d.textContent===""+m||b.suppressHydrationWarning===!0||yT(d.textContent,m)?(b.popover!=null&&(Ye("beforetoggle",d),Ye("toggle",d)),b.onScroll!=null&&Ye("scroll",d),b.onScrollEnd!=null&&Ye("scrollend",d),b.onClick!=null&&(d.onclick=To),d=!0):d=!1,d||Ra(c,!0)}function oj(c){for(Dn=c.return;Dn;)switch(Dn.tag){case 5:case 31:case 13:eo=!1;return;case 27:case 3:eo=!0;return;default:Dn=Dn.return}}function lc(c){if(c!==Dn)return!1;if(!Ze)return oj(c),Ze=!0,!1;var d=c.tag,m;if((m=d!==3&&d!==27)&&((m=d===5)&&(m=c.type,m=!(m!=="form"&&m!=="button")||kv(c.type,c.memoizedProps)),m=!m),m&&At&&Ra(c),oj(c),d===13){if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(r(317));At=kT(c)}else if(d===31){if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(r(317));At=kT(c)}else d===27?(d=At,Ga(c.type)?(c=Dv,Dv=null,At=c):At=d):At=Dn?no(c.stateNode.nextSibling):null;return!0}function Fs(){At=Dn=null,Ze=!1}function fb(){var c=Pa;return c!==null&&(xr===null?xr=c:xr.push.apply(xr,c),Pa=null),c}function td(c){Pa===null?Pa=[c]:Pa.push(c)}var hb=O(null),qs=null,Ni=null;function Ia(c,d,m){te(hb,d._currentValue),d._currentValue=m}function Si(c){c._currentValue=hb.current,F(hb)}function pb(c,d,m){for(;c!==null;){var b=c.alternate;if((c.childLanes&d)!==d?(c.childLanes|=d,b!==null&&(b.childLanes|=d)):b!==null&&(b.childLanes&d)!==d&&(b.childLanes|=d),c===m)break;c=c.return}}function mb(c,d,m,b){var S=c.child;for(S!==null&&(S.return=c);S!==null;){var j=S.dependencies;if(j!==null){var M=S.child;j=j.firstContext;e:for(;j!==null;){var _=j;j=S;for(var z=0;z<d.length;z++)if(_.context===d[z]){j.lanes|=m,_=j.alternate,_!==null&&(_.lanes|=m),pb(j.return,m,c),b||(M=null);break e}j=_.next}}else if(S.tag===18){if(M=S.return,M===null)throw Error(r(341));M.lanes|=m,j=M.alternate,j!==null&&(j.lanes|=m),pb(M,m,c),M=null}else M=S.child;if(M!==null)M.return=S;else for(M=S;M!==null;){if(M===c){M=null;break}if(S=M.sibling,S!==null){S.return=M.return,M=S;break}M=M.return}S=M}}function cc(c,d,m,b){c=null;for(var S=d,j=!1;S!==null;){if(!j){if((S.flags&524288)!==0)j=!0;else if((S.flags&262144)!==0)break}if(S.tag===10){var M=S.alternate;if(M===null)throw Error(r(387));if(M=M.memoizedProps,M!==null){var _=S.type;kr(S.pendingProps.value,M.value)||(c!==null?c.push(_):c=[_])}}else if(S===Le.current){if(M=S.alternate,M===null)throw Error(r(387));M.memoizedState.memoizedState!==S.memoizedState.memoizedState&&(c!==null?c.push(Td):c=[Td])}S=S.return}c!==null&&mb(d,c,m,b),d.flags|=262144}function Hh(c){for(c=c.firstContext;c!==null;){if(!kr(c.context._currentValue,c.memoizedValue))return!0;c=c.next}return!1}function Hs(c){qs=c,Ni=null,c=c.dependencies,c!==null&&(c.firstContext=null)}function _n(c){return ij(qs,c)}function Vh(c,d){return qs===null&&Hs(c),ij(c,d)}function ij(c,d){var m=d._currentValue;if(d={context:d,memoizedValue:m,next:null},Ni===null){if(c===null)throw Error(r(308));Ni=d,c.dependencies={lanes:0,firstContext:d},c.flags|=524288}else Ni=Ni.next=d;return m}var Rz=typeof AbortController<"u"?AbortController:function(){var c=[],d=this.signal={aborted:!1,addEventListener:function(m,b){c.push(b)}};this.abort=function(){d.aborted=!0,c.forEach(function(m){return m()})}},Iz=e.unstable_scheduleCallback,Dz=e.unstable_NormalPriority,nn={$$typeof:k,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function gb(){return{controller:new Rz,data:new Map,refCount:0}}function nd(c){c.refCount--,c.refCount===0&&Iz(Dz,function(){c.controller.abort()})}var rd=null,xb=0,uc=0,dc=null;function _z(c,d){if(rd===null){var m=rd=[];xb=0,uc=yv(),dc={status:"pending",value:void 0,then:function(b){m.push(b)}}}return xb++,d.then(aj,aj),d}function aj(){if(--xb===0&&rd!==null){dc!==null&&(dc.status="fulfilled");var c=rd;rd=null,uc=0,dc=null;for(var d=0;d<c.length;d++)(0,c[d])()}}function Oz(c,d){var m=[],b={status:"pending",value:null,reason:null,then:function(S){m.push(S)}};return c.then(function(){b.status="fulfilled",b.value=d;for(var S=0;S<m.length;S++)(0,m[S])(d)},function(S){for(b.status="rejected",b.reason=S,S=0;S<m.length;S++)(0,m[S])(void 0)}),b}var sj=U.S;U.S=function(c,d){VA=Vn(),typeof d=="object"&&d!==null&&typeof d.then=="function"&&_z(c,d),sj!==null&&sj(c,d)};var Vs=O(null);function bb(){var c=Vs.current;return c!==null?c:wt.pooledCache}function $h(c,d){d===null?te(Vs,Vs.current):te(Vs,d.pool)}function lj(){var c=bb();return c===null?null:{parent:nn._currentValue,pool:c}}var fc=Error(r(460)),vb=Error(r(474)),Gh=Error(r(542)),Kh={then:function(){}};function cj(c){return c=c.status,c==="fulfilled"||c==="rejected"}function uj(c,d,m){switch(m=c[m],m===void 0?c.push(d):m!==d&&(d.then(To,To),d=m),d.status){case"fulfilled":return d.value;case"rejected":throw c=d.reason,fj(c),c;default:if(typeof d.status=="string")d.then(To,To);else{if(c=wt,c!==null&&100<c.shellSuspendCounter)throw Error(r(482));c=d,c.status="pending",c.then(function(b){if(d.status==="pending"){var S=d;S.status="fulfilled",S.value=b}},function(b){if(d.status==="pending"){var S=d;S.status="rejected",S.reason=b}})}switch(d.status){case"fulfilled":return d.value;case"rejected":throw c=d.reason,fj(c),c}throw Gs=d,fc}}function $s(c){try{var d=c._init;return d(c._payload)}catch(m){throw m!==null&&typeof m=="object"&&typeof m.then=="function"?(Gs=m,fc):m}}var Gs=null;function dj(){if(Gs===null)throw Error(r(459));var c=Gs;return Gs=null,c}function fj(c){if(c===fc||c===Gh)throw Error(r(483))}var hc=null,od=0;function Wh(c){var d=od;return od+=1,hc===null&&(hc=[]),uj(hc,c,d)}function id(c,d){d=d.props.ref,c.ref=d!==void 0?d:null}function Jh(c,d){throw d.$$typeof===g?Error(r(525)):(c=Object.prototype.toString.call(d),Error(r(31,c==="[object Object]"?"object with keys {"+Object.keys(d).join(", ")+"}":c)))}function hj(c){function d(G,H){if(c){var J=G.deletions;J===null?(G.deletions=[H],G.flags|=16):J.push(H)}}function m(G,H){if(!c)return null;for(;H!==null;)d(G,H),H=H.sibling;return null}function b(G){for(var H=new Map;G!==null;)G.key!==null?H.set(G.key,G):H.set(G.index,G),G=G.sibling;return H}function S(G,H){return G=wi(G,H),G.index=0,G.sibling=null,G}function j(G,H,J){return G.index=J,c?(J=G.alternate,J!==null?(J=J.index,J<H?(G.flags|=67108866,H):J):(G.flags|=67108866,H)):(G.flags|=1048576,H)}function M(G){return c&&G.alternate===null&&(G.flags|=67108866),G}function _(G,H,J,ce){return H===null||H.tag!==6?(H=sb(J,G.mode,ce),H.return=G,H):(H=S(H,J),H.return=G,H)}function z(G,H,J,ce){var ke=J.type;return ke===N?ae(G,H,J.props.children,ce,J.key):H!==null&&(H.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===B&&$s(ke)===H.type)?(H=S(H,J.props),id(H,J),H.return=G,H):(H=Fh(J.type,J.key,J.props,null,G.mode,ce),id(H,J),H.return=G,H)}function Y(G,H,J,ce){return H===null||H.tag!==4||H.stateNode.containerInfo!==J.containerInfo||H.stateNode.implementation!==J.implementation?(H=lb(J,G.mode,ce),H.return=G,H):(H=S(H,J.children||[]),H.return=G,H)}function ae(G,H,J,ce,ke){return H===null||H.tag!==7?(H=zs(J,G.mode,ce,ke),H.return=G,H):(H=S(H,J),H.return=G,H)}function ue(G,H,J){if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return H=sb(""+H,G.mode,J),H.return=G,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case x:return J=Fh(H.type,H.key,H.props,null,G.mode,J),id(J,H),J.return=G,J;case y:return H=lb(H,G.mode,J),H.return=G,H;case B:return H=$s(H),ue(G,H,J)}if(K(H)||q(H))return H=zs(H,G.mode,J,null),H.return=G,H;if(typeof H.then=="function")return ue(G,Wh(H),J);if(H.$$typeof===k)return ue(G,Vh(G,H),J);Jh(G,H)}return null}function Q(G,H,J,ce){var ke=H!==null?H.key:null;if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return ke!==null?null:_(G,H,""+J,ce);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case x:return J.key===ke?z(G,H,J,ce):null;case y:return J.key===ke?Y(G,H,J,ce):null;case B:return J=$s(J),Q(G,H,J,ce)}if(K(J)||q(J))return ke!==null?null:ae(G,H,J,ce,null);if(typeof J.then=="function")return Q(G,H,Wh(J),ce);if(J.$$typeof===k)return Q(G,H,Vh(G,J),ce);Jh(G,J)}return null}function oe(G,H,J,ce,ke){if(typeof ce=="string"&&ce!==""||typeof ce=="number"||typeof ce=="bigint")return G=G.get(J)||null,_(H,G,""+ce,ke);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case x:return G=G.get(ce.key===null?J:ce.key)||null,z(H,G,ce,ke);case y:return G=G.get(ce.key===null?J:ce.key)||null,Y(H,G,ce,ke);case B:return ce=$s(ce),oe(G,H,J,ce,ke)}if(K(ce)||q(ce))return G=G.get(J)||null,ae(H,G,ce,ke,null);if(typeof ce.then=="function")return oe(G,H,J,Wh(ce),ke);if(ce.$$typeof===k)return oe(G,H,J,Vh(H,ce),ke);Jh(H,ce)}return null}function Ne(G,H,J,ce){for(var ke=null,tt=null,Se=H,He=H=0,Qe=null;Se!==null&&He<J.length;He++){Se.index>He?(Qe=Se,Se=null):Qe=Se.sibling;var nt=Q(G,Se,J[He],ce);if(nt===null){Se===null&&(Se=Qe);break}c&&Se&&nt.alternate===null&&d(G,Se),H=j(nt,H,He),tt===null?ke=nt:tt.sibling=nt,tt=nt,Se=Qe}if(He===J.length)return m(G,Se),Ze&&Ci(G,He),ke;if(Se===null){for(;He<J.length;He++)Se=ue(G,J[He],ce),Se!==null&&(H=j(Se,H,He),tt===null?ke=Se:tt.sibling=Se,tt=Se);return Ze&&Ci(G,He),ke}for(Se=b(Se);He<J.length;He++)Qe=oe(Se,G,He,J[He],ce),Qe!==null&&(c&&Qe.alternate!==null&&Se.delete(Qe.key===null?He:Qe.key),H=j(Qe,H,He),tt===null?ke=Qe:tt.sibling=Qe,tt=Qe);return c&&Se.forEach(function(Xa){return d(G,Xa)}),Ze&&Ci(G,He),ke}function _e(G,H,J,ce){if(J==null)throw Error(r(151));for(var ke=null,tt=null,Se=H,He=H=0,Qe=null,nt=J.next();Se!==null&&!nt.done;He++,nt=J.next()){Se.index>He?(Qe=Se,Se=null):Qe=Se.sibling;var Xa=Q(G,Se,nt.value,ce);if(Xa===null){Se===null&&(Se=Qe);break}c&&Se&&Xa.alternate===null&&d(G,Se),H=j(Xa,H,He),tt===null?ke=Xa:tt.sibling=Xa,tt=Xa,Se=Qe}if(nt.done)return m(G,Se),Ze&&Ci(G,He),ke;if(Se===null){for(;!nt.done;He++,nt=J.next())nt=ue(G,nt.value,ce),nt!==null&&(H=j(nt,H,He),tt===null?ke=nt:tt.sibling=nt,tt=nt);return Ze&&Ci(G,He),ke}for(Se=b(Se);!nt.done;He++,nt=J.next())nt=oe(Se,G,He,nt.value,ce),nt!==null&&(c&&nt.alternate!==null&&Se.delete(nt.key===null?He:nt.key),H=j(nt,H,He),tt===null?ke=nt:tt.sibling=nt,tt=nt);return c&&Se.forEach(function(K9){return d(G,K9)}),Ze&&Ci(G,He),ke}function xt(G,H,J,ce){if(typeof J=="object"&&J!==null&&J.type===N&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case x:e:{for(var ke=J.key;H!==null;){if(H.key===ke){if(ke=J.type,ke===N){if(H.tag===7){m(G,H.sibling),ce=S(H,J.props.children),ce.return=G,G=ce;break e}}else if(H.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===B&&$s(ke)===H.type){m(G,H.sibling),ce=S(H,J.props),id(ce,J),ce.return=G,G=ce;break e}m(G,H);break}else d(G,H);H=H.sibling}J.type===N?(ce=zs(J.props.children,G.mode,ce,J.key),ce.return=G,G=ce):(ce=Fh(J.type,J.key,J.props,null,G.mode,ce),id(ce,J),ce.return=G,G=ce)}return M(G);case y:e:{for(ke=J.key;H!==null;){if(H.key===ke)if(H.tag===4&&H.stateNode.containerInfo===J.containerInfo&&H.stateNode.implementation===J.implementation){m(G,H.sibling),ce=S(H,J.children||[]),ce.return=G,G=ce;break e}else{m(G,H);break}else d(G,H);H=H.sibling}ce=lb(J,G.mode,ce),ce.return=G,G=ce}return M(G);case B:return J=$s(J),xt(G,H,J,ce)}if(K(J))return Ne(G,H,J,ce);if(q(J)){if(ke=q(J),typeof ke!="function")throw Error(r(150));return J=ke.call(J),_e(G,H,J,ce)}if(typeof J.then=="function")return xt(G,H,Wh(J),ce);if(J.$$typeof===k)return xt(G,H,Vh(G,J),ce);Jh(G,J)}return typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint"?(J=""+J,H!==null&&H.tag===6?(m(G,H.sibling),ce=S(H,J),ce.return=G,G=ce):(m(G,H),ce=sb(J,G.mode,ce),ce.return=G,G=ce),M(G)):m(G,H)}return function(G,H,J,ce){try{od=0;var ke=xt(G,H,J,ce);return hc=null,ke}catch(Se){if(Se===fc||Se===Gh)throw Se;var tt=Mr(29,Se,null,G.mode);return tt.lanes=ce,tt.return=G,tt}finally{}}}var Ks=hj(!0),pj=hj(!1),Da=!1;function yb(c){c.updateQueue={baseState:c.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function wb(c,d){c=c.updateQueue,d.updateQueue===c&&(d.updateQueue={baseState:c.baseState,firstBaseUpdate:c.firstBaseUpdate,lastBaseUpdate:c.lastBaseUpdate,shared:c.shared,callbacks:null})}function _a(c){return{lane:c,tag:0,payload:null,callback:null,next:null}}function Oa(c,d,m){var b=c.updateQueue;if(b===null)return null;if(b=b.shared,(at&2)!==0){var S=b.pending;return S===null?d.next=d:(d.next=S.next,S.next=d),b.pending=d,d=zh(c),XE(c,null,m),d}return Uh(c,b,d,m),zh(c)}function ad(c,d,m){if(d=d.updateQueue,d!==null&&(d=d.shared,(m&4194048)!==0)){var b=d.lanes;b&=c.pendingLanes,m|=b,d.lanes=m,B0(c,m)}}function Cb(c,d){var m=c.updateQueue,b=c.alternate;if(b!==null&&(b=b.updateQueue,m===b)){var S=null,j=null;if(m=m.firstBaseUpdate,m!==null){do{var M={lane:m.lane,tag:m.tag,payload:m.payload,callback:null,next:null};j===null?S=j=M:j=j.next=M,m=m.next}while(m!==null);j===null?S=j=d:j=j.next=d}else S=j=d;m={baseState:b.baseState,firstBaseUpdate:S,lastBaseUpdate:j,shared:b.shared,callbacks:b.callbacks},c.updateQueue=m;return}c=m.lastBaseUpdate,c===null?m.firstBaseUpdate=d:c.next=d,m.lastBaseUpdate=d}var Nb=!1;function sd(){if(Nb){var c=dc;if(c!==null)throw c}}function ld(c,d,m,b){Nb=!1;var S=c.updateQueue;Da=!1;var j=S.firstBaseUpdate,M=S.lastBaseUpdate,_=S.shared.pending;if(_!==null){S.shared.pending=null;var z=_,Y=z.next;z.next=null,M===null?j=Y:M.next=Y,M=z;var ae=c.alternate;ae!==null&&(ae=ae.updateQueue,_=ae.lastBaseUpdate,_!==M&&(_===null?ae.firstBaseUpdate=Y:_.next=Y,ae.lastBaseUpdate=z))}if(j!==null){var ue=S.baseState;M=0,ae=Y=z=null,_=j;do{var Q=_.lane&-536870913,oe=Q!==_.lane;if(oe?(Xe&Q)===Q:(b&Q)===Q){Q!==0&&Q===uc&&(Nb=!0),ae!==null&&(ae=ae.next={lane:0,tag:_.tag,payload:_.payload,callback:null,next:null});e:{var Ne=c,_e=_;Q=d;var xt=m;switch(_e.tag){case 1:if(Ne=_e.payload,typeof Ne=="function"){ue=Ne.call(xt,ue,Q);break e}ue=Ne;break e;case 3:Ne.flags=Ne.flags&-65537|128;case 0:if(Ne=_e.payload,Q=typeof Ne=="function"?Ne.call(xt,ue,Q):Ne,Q==null)break e;ue=p({},ue,Q);break e;case 2:Da=!0}}Q=_.callback,Q!==null&&(c.flags|=64,oe&&(c.flags|=8192),oe=S.callbacks,oe===null?S.callbacks=[Q]:oe.push(Q))}else oe={lane:Q,tag:_.tag,payload:_.payload,callback:_.callback,next:null},ae===null?(Y=ae=oe,z=ue):ae=ae.next=oe,M|=Q;if(_=_.next,_===null){if(_=S.shared.pending,_===null)break;oe=_,_=oe.next,oe.next=null,S.lastBaseUpdate=oe,S.shared.pending=null}}while(!0);ae===null&&(z=ue),S.baseState=z,S.firstBaseUpdate=Y,S.lastBaseUpdate=ae,j===null&&(S.shared.lanes=0),Fa|=M,c.lanes=M,c.memoizedState=ue}}function mj(c,d){if(typeof c!="function")throw Error(r(191,c));c.call(d)}function gj(c,d){var m=c.callbacks;if(m!==null)for(c.callbacks=null,c=0;c<m.length;c++)mj(m[c],d)}var pc=O(null),Yh=O(0);function xj(c,d){c=Ii,te(Yh,c),te(pc,d),Ii=c|d.baseLanes}function Sb(){te(Yh,Ii),te(pc,pc.current)}function Eb(){Ii=Yh.current,F(pc),F(Yh)}var Pr=O(null),to=null;function La(c){var d=c.alternate;te(Yt,Yt.current&1),te(Pr,c),to===null&&(d===null||pc.current!==null||d.memoizedState!==null)&&(to=c)}function jb(c){te(Yt,Yt.current),te(Pr,c),to===null&&(to=c)}function bj(c){c.tag===22?(te(Yt,Yt.current),te(Pr,c),to===null&&(to=c)):Ba()}function Ba(){te(Yt,Yt.current),te(Pr,Pr.current)}function Rr(c){F(Pr),to===c&&(to=null),F(Yt)}var Yt=O(0);function Xh(c){for(var d=c;d!==null;){if(d.tag===13){var m=d.memoizedState;if(m!==null&&(m=m.dehydrated,m===null||Rv(m)||Iv(m)))return d}else if(d.tag===19&&(d.memoizedProps.revealOrder==="forwards"||d.memoizedProps.revealOrder==="backwards"||d.memoizedProps.revealOrder==="unstable_legacy-backwards"||d.memoizedProps.revealOrder==="together")){if((d.flags&128)!==0)return d}else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===c)break;for(;d.sibling===null;){if(d.return===null||d.return===c)return null;d=d.return}d.sibling.return=d.return,d=d.sibling}return null}var Ei=0,Fe=null,mt=null,rn=null,Qh=!1,mc=!1,Ws=!1,Zh=0,cd=0,gc=null,Lz=0;function Ht(){throw Error(r(321))}function Ab(c,d){if(d===null)return!1;for(var m=0;m<d.length&&m<c.length;m++)if(!kr(c[m],d[m]))return!1;return!0}function Tb(c,d,m,b,S,j){return Ei=j,Fe=d,d.memoizedState=null,d.updateQueue=null,d.lanes=0,U.H=c===null||c.memoizedState===null?tA:Hb,Ws=!1,j=m(b,S),Ws=!1,mc&&(j=yj(d,m,b,S)),vj(c),j}function vj(c){U.H=fd;var d=mt!==null&&mt.next!==null;if(Ei=0,rn=mt=Fe=null,Qh=!1,cd=0,gc=null,d)throw Error(r(300));c===null||on||(c=c.dependencies,c!==null&&Hh(c)&&(on=!0))}function yj(c,d,m,b){Fe=c;var S=0;do{if(mc&&(gc=null),cd=0,mc=!1,25<=S)throw Error(r(301));if(S+=1,rn=mt=null,c.updateQueue!=null){var j=c.updateQueue;j.lastEffect=null,j.events=null,j.stores=null,j.memoCache!=null&&(j.memoCache.index=0)}U.H=nA,j=d(m,b)}while(mc);return j}function Bz(){var c=U.H,d=c.useState()[0];return d=typeof d.then=="function"?ud(d):d,c=c.useState()[0],(mt!==null?mt.memoizedState:null)!==c&&(Fe.flags|=1024),d}function kb(){var c=Zh!==0;return Zh=0,c}function Mb(c,d,m){d.updateQueue=c.updateQueue,d.flags&=-2053,c.lanes&=~m}function Pb(c){if(Qh){for(c=c.memoizedState;c!==null;){var d=c.queue;d!==null&&(d.pending=null),c=c.next}Qh=!1}Ei=0,rn=mt=Fe=null,mc=!1,cd=Zh=0,gc=null}function rr(){var c={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return rn===null?Fe.memoizedState=rn=c:rn=rn.next=c,rn}function Xt(){if(mt===null){var c=Fe.alternate;c=c!==null?c.memoizedState:null}else c=mt.next;var d=rn===null?Fe.memoizedState:rn.next;if(d!==null)rn=d,mt=c;else{if(c===null)throw Fe.alternate===null?Error(r(467)):Error(r(310));mt=c,c={memoizedState:mt.memoizedState,baseState:mt.baseState,baseQueue:mt.baseQueue,queue:mt.queue,next:null},rn===null?Fe.memoizedState=rn=c:rn=rn.next=c}return rn}function ep(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ud(c){var d=cd;return cd+=1,gc===null&&(gc=[]),c=uj(gc,c,d),d=Fe,(rn===null?d.memoizedState:rn.next)===null&&(d=d.alternate,U.H=d===null||d.memoizedState===null?tA:Hb),c}function tp(c){if(c!==null&&typeof c=="object"){if(typeof c.then=="function")return ud(c);if(c.$$typeof===k)return _n(c)}throw Error(r(438,String(c)))}function Rb(c){var d=null,m=Fe.updateQueue;if(m!==null&&(d=m.memoCache),d==null){var b=Fe.alternate;b!==null&&(b=b.updateQueue,b!==null&&(b=b.memoCache,b!=null&&(d={data:b.data.map(function(S){return S.slice()}),index:0})))}if(d==null&&(d={data:[],index:0}),m===null&&(m=ep(),Fe.updateQueue=m),m.memoCache=d,m=d.data[d.index],m===void 0)for(m=d.data[d.index]=Array(c),b=0;b<c;b++)m[b]=$;return d.index++,m}function ji(c,d){return typeof d=="function"?d(c):d}function np(c){var d=Xt();return Ib(d,mt,c)}function Ib(c,d,m){var b=c.queue;if(b===null)throw Error(r(311));b.lastRenderedReducer=m;var S=c.baseQueue,j=b.pending;if(j!==null){if(S!==null){var M=S.next;S.next=j.next,j.next=M}d.baseQueue=S=j,b.pending=null}if(j=c.baseState,S===null)c.memoizedState=j;else{d=S.next;var _=M=null,z=null,Y=d,ae=!1;do{var ue=Y.lane&-536870913;if(ue!==Y.lane?(Xe&ue)===ue:(Ei&ue)===ue){var Q=Y.revertLane;if(Q===0)z!==null&&(z=z.next={lane:0,revertLane:0,gesture:null,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),ue===uc&&(ae=!0);else if((Ei&Q)===Q){Y=Y.next,Q===uc&&(ae=!0);continue}else ue={lane:0,revertLane:Y.revertLane,gesture:null,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},z===null?(_=z=ue,M=j):z=z.next=ue,Fe.lanes|=Q,Fa|=Q;ue=Y.action,Ws&&m(j,ue),j=Y.hasEagerState?Y.eagerState:m(j,ue)}else Q={lane:ue,revertLane:Y.revertLane,gesture:Y.gesture,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},z===null?(_=z=Q,M=j):z=z.next=Q,Fe.lanes|=ue,Fa|=ue;Y=Y.next}while(Y!==null&&Y!==d);if(z===null?M=j:z.next=_,!kr(j,c.memoizedState)&&(on=!0,ae&&(m=dc,m!==null)))throw m;c.memoizedState=j,c.baseState=M,c.baseQueue=z,b.lastRenderedState=j}return S===null&&(b.lanes=0),[c.memoizedState,b.dispatch]}function Db(c){var d=Xt(),m=d.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=c;var b=m.dispatch,S=m.pending,j=d.memoizedState;if(S!==null){m.pending=null;var M=S=S.next;do j=c(j,M.action),M=M.next;while(M!==S);kr(j,d.memoizedState)||(on=!0),d.memoizedState=j,d.baseQueue===null&&(d.baseState=j),m.lastRenderedState=j}return[j,b]}function wj(c,d,m){var b=Fe,S=Xt(),j=Ze;if(j){if(m===void 0)throw Error(r(407));m=m()}else m=d();var M=!kr((mt||S).memoizedState,m);if(M&&(S.memoizedState=m,on=!0),S=S.queue,Lb(Sj.bind(null,b,S,c),[c]),S.getSnapshot!==d||M||rn!==null&&rn.memoizedState.tag&1){if(b.flags|=2048,xc(9,{destroy:void 0},Nj.bind(null,b,S,m,d),null),wt===null)throw Error(r(349));j||(Ei&127)!==0||Cj(b,d,m)}return m}function Cj(c,d,m){c.flags|=16384,c={getSnapshot:d,value:m},d=Fe.updateQueue,d===null?(d=ep(),Fe.updateQueue=d,d.stores=[c]):(m=d.stores,m===null?d.stores=[c]:m.push(c))}function Nj(c,d,m,b){d.value=m,d.getSnapshot=b,Ej(d)&&jj(c)}function Sj(c,d,m){return m(function(){Ej(d)&&jj(c)})}function Ej(c){var d=c.getSnapshot;c=c.value;try{var m=d();return!kr(c,m)}catch{return!0}}function jj(c){var d=Us(c,2);d!==null&&br(d,c,2)}function _b(c){var d=rr();if(typeof c=="function"){var m=c;if(c=m(),Ws){In(!0);try{m()}finally{In(!1)}}}return d.memoizedState=d.baseState=c,d.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ji,lastRenderedState:c},d}function Aj(c,d,m,b){return c.baseState=m,Ib(c,mt,typeof b=="function"?b:ji)}function Uz(c,d,m,b,S){if(ip(c))throw Error(r(485));if(c=d.action,c!==null){var j={payload:S,action:c,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(M){j.listeners.push(M)}};U.T!==null?m(!0):j.isTransition=!1,b(j),m=d.pending,m===null?(j.next=d.pending=j,Tj(d,j)):(j.next=m.next,d.pending=m.next=j)}}function Tj(c,d){var m=d.action,b=d.payload,S=c.state;if(d.isTransition){var j=U.T,M={};U.T=M;try{var _=m(S,b),z=U.S;z!==null&&z(M,_),kj(c,d,_)}catch(Y){Ob(c,d,Y)}finally{j!==null&&M.types!==null&&(j.types=M.types),U.T=j}}else try{j=m(S,b),kj(c,d,j)}catch(Y){Ob(c,d,Y)}}function kj(c,d,m){m!==null&&typeof m=="object"&&typeof m.then=="function"?m.then(function(b){Mj(c,d,b)},function(b){return Ob(c,d,b)}):Mj(c,d,m)}function Mj(c,d,m){d.status="fulfilled",d.value=m,Pj(d),c.state=m,d=c.pending,d!==null&&(m=d.next,m===d?c.pending=null:(m=m.next,d.next=m,Tj(c,m)))}function Ob(c,d,m){var b=c.pending;if(c.pending=null,b!==null){b=b.next;do d.status="rejected",d.reason=m,Pj(d),d=d.next;while(d!==b)}c.action=null}function Pj(c){c=c.listeners;for(var d=0;d<c.length;d++)(0,c[d])()}function Rj(c,d){return d}function Ij(c,d){if(Ze){var m=wt.formState;if(m!==null){e:{var b=Fe;if(Ze){if(At){t:{for(var S=At,j=eo;S.nodeType!==8;){if(!j){S=null;break t}if(S=no(S.nextSibling),S===null){S=null;break t}}j=S.data,S=j==="F!"||j==="F"?S:null}if(S){At=no(S.nextSibling),b=S.data==="F!";break e}}Ra(b)}b=!1}b&&(d=m[0])}}return m=rr(),m.memoizedState=m.baseState=d,b={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rj,lastRenderedState:d},m.queue=b,m=Qj.bind(null,Fe,b),b.dispatch=m,b=_b(!1),j=qb.bind(null,Fe,!1,b.queue),b=rr(),S={state:d,dispatch:null,action:c,pending:null},b.queue=S,m=Uz.bind(null,Fe,S,j,m),S.dispatch=m,b.memoizedState=c,[d,m,!1]}function Dj(c){var d=Xt();return _j(d,mt,c)}function _j(c,d,m){if(d=Ib(c,d,Rj)[0],c=np(ji)[0],typeof d=="object"&&d!==null&&typeof d.then=="function")try{var b=ud(d)}catch(M){throw M===fc?Gh:M}else b=d;d=Xt();var S=d.queue,j=S.dispatch;return m!==d.memoizedState&&(Fe.flags|=2048,xc(9,{destroy:void 0},zz.bind(null,S,m),null)),[b,j,c]}function zz(c,d){c.action=d}function Oj(c){var d=Xt(),m=mt;if(m!==null)return _j(d,m,c);Xt(),d=d.memoizedState,m=Xt();var b=m.queue.dispatch;return m.memoizedState=c,[d,b,!1]}function xc(c,d,m,b){return c={tag:c,create:m,deps:b,inst:d,next:null},d=Fe.updateQueue,d===null&&(d=ep(),Fe.updateQueue=d),m=d.lastEffect,m===null?d.lastEffect=c.next=c:(b=m.next,m.next=c,c.next=b,d.lastEffect=c),c}function Lj(){return Xt().memoizedState}function rp(c,d,m,b){var S=rr();Fe.flags|=c,S.memoizedState=xc(1|d,{destroy:void 0},m,b===void 0?null:b)}function op(c,d,m,b){var S=Xt();b=b===void 0?null:b;var j=S.memoizedState.inst;mt!==null&&b!==null&&Ab(b,mt.memoizedState.deps)?S.memoizedState=xc(d,j,m,b):(Fe.flags|=c,S.memoizedState=xc(1|d,j,m,b))}function Bj(c,d){rp(8390656,8,c,d)}function Lb(c,d){op(2048,8,c,d)}function Fz(c){Fe.flags|=4;var d=Fe.updateQueue;if(d===null)d=ep(),Fe.updateQueue=d,d.events=[c];else{var m=d.events;m===null?d.events=[c]:m.push(c)}}function Uj(c){var d=Xt().memoizedState;return Fz({ref:d,nextImpl:c}),function(){if((at&2)!==0)throw Error(r(440));return d.impl.apply(void 0,arguments)}}function zj(c,d){return op(4,2,c,d)}function Fj(c,d){return op(4,4,c,d)}function qj(c,d){if(typeof d=="function"){c=c();var m=d(c);return function(){typeof m=="function"?m():d(null)}}if(d!=null)return c=c(),d.current=c,function(){d.current=null}}function Hj(c,d,m){m=m!=null?m.concat([c]):null,op(4,4,qj.bind(null,d,c),m)}function Bb(){}function Vj(c,d){var m=Xt();d=d===void 0?null:d;var b=m.memoizedState;return d!==null&&Ab(d,b[1])?b[0]:(m.memoizedState=[c,d],c)}function $j(c,d){var m=Xt();d=d===void 0?null:d;var b=m.memoizedState;if(d!==null&&Ab(d,b[1]))return b[0];if(b=c(),Ws){In(!0);try{c()}finally{In(!1)}}return m.memoizedState=[b,d],b}function Ub(c,d,m){return m===void 0||(Ei&1073741824)!==0&&(Xe&261930)===0?c.memoizedState=d:(c.memoizedState=m,c=GA(),Fe.lanes|=c,Fa|=c,m)}function Gj(c,d,m,b){return kr(m,d)?m:pc.current!==null?(c=Ub(c,m,b),kr(c,d)||(on=!0),c):(Ei&42)===0||(Ei&1073741824)!==0&&(Xe&261930)===0?(on=!0,c.memoizedState=m):(c=GA(),Fe.lanes|=c,Fa|=c,d)}function Kj(c,d,m,b,S){var j=V.p;V.p=j!==0&&8>j?j:8;var M=U.T,_={};U.T=_,qb(c,!1,d,m);try{var z=S(),Y=U.S;if(Y!==null&&Y(_,z),z!==null&&typeof z=="object"&&typeof z.then=="function"){var ae=Oz(z,b);dd(c,d,ae,_r(c))}else dd(c,d,b,_r(c))}catch(ue){dd(c,d,{then:function(){},status:"rejected",reason:ue},_r())}finally{V.p=j,M!==null&&_.types!==null&&(M.types=_.types),U.T=M}}function qz(){}function zb(c,d,m,b){if(c.tag!==5)throw Error(r(476));var S=Wj(c).queue;Kj(c,S,d,pe,m===null?qz:function(){return Jj(c),m(b)})}function Wj(c){var d=c.memoizedState;if(d!==null)return d;d={memoizedState:pe,baseState:pe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ji,lastRenderedState:pe},next:null};var m={};return d.next={memoizedState:m,baseState:m,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ji,lastRenderedState:m},next:null},c.memoizedState=d,c=c.alternate,c!==null&&(c.memoizedState=d),d}function Jj(c){var d=Wj(c);d.next===null&&(d=c.alternate.memoizedState),dd(c,d.next.queue,{},_r())}function Fb(){return _n(Td)}function Yj(){return Xt().memoizedState}function Xj(){return Xt().memoizedState}function Hz(c){for(var d=c.return;d!==null;){switch(d.tag){case 24:case 3:var m=_r();c=_a(m);var b=Oa(d,c,m);b!==null&&(br(b,d,m),ad(b,d,m)),d={cache:gb()},c.payload=d;return}d=d.return}}function Vz(c,d,m){var b=_r();m={lane:b,revertLane:0,gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null},ip(c)?Zj(d,m):(m=ib(c,d,m,b),m!==null&&(br(m,c,b),eA(m,d,b)))}function Qj(c,d,m){var b=_r();dd(c,d,m,b)}function dd(c,d,m,b){var S={lane:b,revertLane:0,gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null};if(ip(c))Zj(d,S);else{var j=c.alternate;if(c.lanes===0&&(j===null||j.lanes===0)&&(j=d.lastRenderedReducer,j!==null))try{var M=d.lastRenderedState,_=j(M,m);if(S.hasEagerState=!0,S.eagerState=_,kr(_,M))return Uh(c,d,S,0),wt===null&&Bh(),!1}catch{}finally{}if(m=ib(c,d,S,b),m!==null)return br(m,c,b),eA(m,d,b),!0}return!1}function qb(c,d,m,b){if(b={lane:2,revertLane:yv(),gesture:null,action:b,hasEagerState:!1,eagerState:null,next:null},ip(c)){if(d)throw Error(r(479))}else d=ib(c,m,b,2),d!==null&&br(d,c,2)}function ip(c){var d=c.alternate;return c===Fe||d!==null&&d===Fe}function Zj(c,d){mc=Qh=!0;var m=c.pending;m===null?d.next=d:(d.next=m.next,m.next=d),c.pending=d}function eA(c,d,m){if((m&4194048)!==0){var b=d.lanes;b&=c.pendingLanes,m|=b,d.lanes=m,B0(c,m)}}var fd={readContext:_n,use:tp,useCallback:Ht,useContext:Ht,useEffect:Ht,useImperativeHandle:Ht,useLayoutEffect:Ht,useInsertionEffect:Ht,useMemo:Ht,useReducer:Ht,useRef:Ht,useState:Ht,useDebugValue:Ht,useDeferredValue:Ht,useTransition:Ht,useSyncExternalStore:Ht,useId:Ht,useHostTransitionStatus:Ht,useFormState:Ht,useActionState:Ht,useOptimistic:Ht,useMemoCache:Ht,useCacheRefresh:Ht};fd.useEffectEvent=Ht;var tA={readContext:_n,use:tp,useCallback:function(c,d){return rr().memoizedState=[c,d===void 0?null:d],c},useContext:_n,useEffect:Bj,useImperativeHandle:function(c,d,m){m=m!=null?m.concat([c]):null,rp(4194308,4,qj.bind(null,d,c),m)},useLayoutEffect:function(c,d){return rp(4194308,4,c,d)},useInsertionEffect:function(c,d){rp(4,2,c,d)},useMemo:function(c,d){var m=rr();d=d===void 0?null:d;var b=c();if(Ws){In(!0);try{c()}finally{In(!1)}}return m.memoizedState=[b,d],b},useReducer:function(c,d,m){var b=rr();if(m!==void 0){var S=m(d);if(Ws){In(!0);try{m(d)}finally{In(!1)}}}else S=d;return b.memoizedState=b.baseState=S,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:c,lastRenderedState:S},b.queue=c,c=c.dispatch=Vz.bind(null,Fe,c),[b.memoizedState,c]},useRef:function(c){var d=rr();return c={current:c},d.memoizedState=c},useState:function(c){c=_b(c);var d=c.queue,m=Qj.bind(null,Fe,d);return d.dispatch=m,[c.memoizedState,m]},useDebugValue:Bb,useDeferredValue:function(c,d){var m=rr();return Ub(m,c,d)},useTransition:function(){var c=_b(!1);return c=Kj.bind(null,Fe,c.queue,!0,!1),rr().memoizedState=c,[!1,c]},useSyncExternalStore:function(c,d,m){var b=Fe,S=rr();if(Ze){if(m===void 0)throw Error(r(407));m=m()}else{if(m=d(),wt===null)throw Error(r(349));(Xe&127)!==0||Cj(b,d,m)}S.memoizedState=m;var j={value:m,getSnapshot:d};return S.queue=j,Bj(Sj.bind(null,b,j,c),[c]),b.flags|=2048,xc(9,{destroy:void 0},Nj.bind(null,b,j,m,d),null),m},useId:function(){var c=rr(),d=wt.identifierPrefix;if(Ze){var m=Qo,b=Xo;m=(b&~(1<<32-ct(b)-1)).toString(32)+m,d="_"+d+"R_"+m,m=Zh++,0<m&&(d+="H"+m.toString(32)),d+="_"}else m=Lz++,d="_"+d+"r_"+m.toString(32)+"_";return c.memoizedState=d},useHostTransitionStatus:Fb,useFormState:Ij,useActionState:Ij,useOptimistic:function(c){var d=rr();d.memoizedState=d.baseState=c;var m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return d.queue=m,d=qb.bind(null,Fe,!0,m),m.dispatch=d,[c,d]},useMemoCache:Rb,useCacheRefresh:function(){return rr().memoizedState=Hz.bind(null,Fe)},useEffectEvent:function(c){var d=rr(),m={impl:c};return d.memoizedState=m,function(){if((at&2)!==0)throw Error(r(440));return m.impl.apply(void 0,arguments)}}},Hb={readContext:_n,use:tp,useCallback:Vj,useContext:_n,useEffect:Lb,useImperativeHandle:Hj,useInsertionEffect:zj,useLayoutEffect:Fj,useMemo:$j,useReducer:np,useRef:Lj,useState:function(){return np(ji)},useDebugValue:Bb,useDeferredValue:function(c,d){var m=Xt();return Gj(m,mt.memoizedState,c,d)},useTransition:function(){var c=np(ji)[0],d=Xt().memoizedState;return[typeof c=="boolean"?c:ud(c),d]},useSyncExternalStore:wj,useId:Yj,useHostTransitionStatus:Fb,useFormState:Dj,useActionState:Dj,useOptimistic:function(c,d){var m=Xt();return Aj(m,mt,c,d)},useMemoCache:Rb,useCacheRefresh:Xj};Hb.useEffectEvent=Uj;var nA={readContext:_n,use:tp,useCallback:Vj,useContext:_n,useEffect:Lb,useImperativeHandle:Hj,useInsertionEffect:zj,useLayoutEffect:Fj,useMemo:$j,useReducer:Db,useRef:Lj,useState:function(){return Db(ji)},useDebugValue:Bb,useDeferredValue:function(c,d){var m=Xt();return mt===null?Ub(m,c,d):Gj(m,mt.memoizedState,c,d)},useTransition:function(){var c=Db(ji)[0],d=Xt().memoizedState;return[typeof c=="boolean"?c:ud(c),d]},useSyncExternalStore:wj,useId:Yj,useHostTransitionStatus:Fb,useFormState:Oj,useActionState:Oj,useOptimistic:function(c,d){var m=Xt();return mt!==null?Aj(m,mt,c,d):(m.baseState=c,[c,m.queue.dispatch])},useMemoCache:Rb,useCacheRefresh:Xj};nA.useEffectEvent=Uj;function Vb(c,d,m,b){d=c.memoizedState,m=m(b,d),m=m==null?d:p({},d,m),c.memoizedState=m,c.lanes===0&&(c.updateQueue.baseState=m)}var $b={enqueueSetState:function(c,d,m){c=c._reactInternals;var b=_r(),S=_a(b);S.payload=d,m!=null&&(S.callback=m),d=Oa(c,S,b),d!==null&&(br(d,c,b),ad(d,c,b))},enqueueReplaceState:function(c,d,m){c=c._reactInternals;var b=_r(),S=_a(b);S.tag=1,S.payload=d,m!=null&&(S.callback=m),d=Oa(c,S,b),d!==null&&(br(d,c,b),ad(d,c,b))},enqueueForceUpdate:function(c,d){c=c._reactInternals;var m=_r(),b=_a(m);b.tag=2,d!=null&&(b.callback=d),d=Oa(c,b,m),d!==null&&(br(d,c,m),ad(d,c,m))}};function rA(c,d,m,b,S,j,M){return c=c.stateNode,typeof c.shouldComponentUpdate=="function"?c.shouldComponentUpdate(b,j,M):d.prototype&&d.prototype.isPureReactComponent?!Qu(m,b)||!Qu(S,j):!0}function oA(c,d,m,b){c=d.state,typeof d.componentWillReceiveProps=="function"&&d.componentWillReceiveProps(m,b),typeof d.UNSAFE_componentWillReceiveProps=="function"&&d.UNSAFE_componentWillReceiveProps(m,b),d.state!==c&&$b.enqueueReplaceState(d,d.state,null)}function Js(c,d){var m=d;if("ref"in d){m={};for(var b in d)b!=="ref"&&(m[b]=d[b])}if(c=c.defaultProps){m===d&&(m=p({},m));for(var S in c)m[S]===void 0&&(m[S]=c[S])}return m}function iA(c){Lh(c)}function aA(c){console.error(c)}function sA(c){Lh(c)}function ap(c,d){try{var m=c.onUncaughtError;m(d.value,{componentStack:d.stack})}catch(b){setTimeout(function(){throw b})}}function lA(c,d,m){try{var b=c.onCaughtError;b(m.value,{componentStack:m.stack,errorBoundary:d.tag===1?d.stateNode:null})}catch(S){setTimeout(function(){throw S})}}function Gb(c,d,m){return m=_a(m),m.tag=3,m.payload={element:null},m.callback=function(){ap(c,d)},m}function cA(c){return c=_a(c),c.tag=3,c}function uA(c,d,m,b){var S=m.type.getDerivedStateFromError;if(typeof S=="function"){var j=b.value;c.payload=function(){return S(j)},c.callback=function(){lA(d,m,b)}}var M=m.stateNode;M!==null&&typeof M.componentDidCatch=="function"&&(c.callback=function(){lA(d,m,b),typeof S!="function"&&(qa===null?qa=new Set([this]):qa.add(this));var _=b.stack;this.componentDidCatch(b.value,{componentStack:_!==null?_:""})})}function $z(c,d,m,b,S){if(m.flags|=32768,b!==null&&typeof b=="object"&&typeof b.then=="function"){if(d=m.alternate,d!==null&&cc(d,m,S,!0),m=Pr.current,m!==null){switch(m.tag){case 31:case 13:return to===null?bp():m.alternate===null&&Vt===0&&(Vt=3),m.flags&=-257,m.flags|=65536,m.lanes=S,b===Kh?m.flags|=16384:(d=m.updateQueue,d===null?m.updateQueue=new Set([b]):d.add(b),xv(c,b,S)),!1;case 22:return m.flags|=65536,b===Kh?m.flags|=16384:(d=m.updateQueue,d===null?(d={transitions:null,markerInstances:null,retryQueue:new Set([b])},m.updateQueue=d):(m=d.retryQueue,m===null?d.retryQueue=new Set([b]):m.add(b)),xv(c,b,S)),!1}throw Error(r(435,m.tag))}return xv(c,b,S),bp(),!1}if(Ze)return d=Pr.current,d!==null?((d.flags&65536)===0&&(d.flags|=256),d.flags|=65536,d.lanes=S,b!==db&&(c=Error(r(422),{cause:b}),td(Xr(c,m)))):(b!==db&&(d=Error(r(423),{cause:b}),td(Xr(d,m))),c=c.current.alternate,c.flags|=65536,S&=-S,c.lanes|=S,b=Xr(b,m),S=Gb(c.stateNode,b,S),Cb(c,S),Vt!==4&&(Vt=2)),!1;var j=Error(r(520),{cause:b});if(j=Xr(j,m),yd===null?yd=[j]:yd.push(j),Vt!==4&&(Vt=2),d===null)return!0;b=Xr(b,m),m=d;do{switch(m.tag){case 3:return m.flags|=65536,c=S&-S,m.lanes|=c,c=Gb(m.stateNode,b,c),Cb(m,c),!1;case 1:if(d=m.type,j=m.stateNode,(m.flags&128)===0&&(typeof d.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(qa===null||!qa.has(j))))return m.flags|=65536,S&=-S,m.lanes|=S,S=cA(S),uA(S,c,m,b),Cb(m,S),!1}m=m.return}while(m!==null);return!1}var Kb=Error(r(461)),on=!1;function On(c,d,m,b){d.child=c===null?pj(d,null,m,b):Ks(d,c.child,m,b)}function dA(c,d,m,b,S){m=m.render;var j=d.ref;if("ref"in b){var M={};for(var _ in b)_!=="ref"&&(M[_]=b[_])}else M=b;return Hs(d),b=Tb(c,d,m,M,j,S),_=kb(),c!==null&&!on?(Mb(c,d,S),Ai(c,d,S)):(Ze&&_&&cb(d),d.flags|=1,On(c,d,b,S),d.child)}function fA(c,d,m,b,S){if(c===null){var j=m.type;return typeof j=="function"&&!ab(j)&&j.defaultProps===void 0&&m.compare===null?(d.tag=15,d.type=j,hA(c,d,j,b,S)):(c=Fh(m.type,null,b,d,d.mode,S),c.ref=d.ref,c.return=d,d.child=c)}if(j=c.child,!tv(c,S)){var M=j.memoizedProps;if(m=m.compare,m=m!==null?m:Qu,m(M,b)&&c.ref===d.ref)return Ai(c,d,S)}return d.flags|=1,c=wi(j,b),c.ref=d.ref,c.return=d,d.child=c}function hA(c,d,m,b,S){if(c!==null){var j=c.memoizedProps;if(Qu(j,b)&&c.ref===d.ref)if(on=!1,d.pendingProps=b=j,tv(c,S))(c.flags&131072)!==0&&(on=!0);else return d.lanes=c.lanes,Ai(c,d,S)}return Wb(c,d,m,b,S)}function pA(c,d,m,b){var S=b.children,j=c!==null?c.memoizedState:null;if(c===null&&d.stateNode===null&&(d.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),b.mode==="hidden"){if((d.flags&128)!==0){if(j=j!==null?j.baseLanes|m:m,c!==null){for(b=d.child=c.child,S=0;b!==null;)S=S|b.lanes|b.childLanes,b=b.sibling;b=S&~j}else b=0,d.child=null;return mA(c,d,j,m,b)}if((m&536870912)!==0)d.memoizedState={baseLanes:0,cachePool:null},c!==null&&$h(d,j!==null?j.cachePool:null),j!==null?xj(d,j):Sb(),bj(d);else return b=d.lanes=536870912,mA(c,d,j!==null?j.baseLanes|m:m,m,b)}else j!==null?($h(d,j.cachePool),xj(d,j),Ba(),d.memoizedState=null):(c!==null&&$h(d,null),Sb(),Ba());return On(c,d,S,m),d.child}function hd(c,d){return c!==null&&c.tag===22||d.stateNode!==null||(d.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),d.sibling}function mA(c,d,m,b,S){var j=bb();return j=j===null?null:{parent:nn._currentValue,pool:j},d.memoizedState={baseLanes:m,cachePool:j},c!==null&&$h(d,null),Sb(),bj(d),c!==null&&cc(c,d,b,!0),d.childLanes=S,null}function sp(c,d){return d=cp({mode:d.mode,children:d.children},c.mode),d.ref=c.ref,c.child=d,d.return=c,d}function gA(c,d,m){return Ks(d,c.child,null,m),c=sp(d,d.pendingProps),c.flags|=2,Rr(d),d.memoizedState=null,c}function Gz(c,d,m){var b=d.pendingProps,S=(d.flags&128)!==0;if(d.flags&=-129,c===null){if(Ze){if(b.mode==="hidden")return c=sp(d,b),d.lanes=536870912,hd(null,c);if(jb(d),(c=At)?(c=TT(c,eo),c=c!==null&&c.data==="&"?c:null,c!==null&&(d.memoizedState={dehydrated:c,treeContext:Ma!==null?{id:Xo,overflow:Qo}:null,retryLane:536870912,hydrationErrors:null},m=ZE(c),m.return=d,d.child=m,Dn=d,At=null)):c=null,c===null)throw Ra(d);return d.lanes=536870912,null}return sp(d,b)}var j=c.memoizedState;if(j!==null){var M=j.dehydrated;if(jb(d),S)if(d.flags&256)d.flags&=-257,d=gA(c,d,m);else if(d.memoizedState!==null)d.child=c.child,d.flags|=128,d=null;else throw Error(r(558));else if(on||cc(c,d,m,!1),S=(m&c.childLanes)!==0,on||S){if(b=wt,b!==null&&(M=Uu(b,m),M!==0&&M!==j.retryLane))throw j.retryLane=M,Us(c,M),br(b,c,M),Kb;bp(),d=gA(c,d,m)}else c=j.treeContext,At=no(M.nextSibling),Dn=d,Ze=!0,Pa=null,eo=!1,c!==null&&nj(d,c),d=sp(d,b),d.flags|=4096;return d}return c=wi(c.child,{mode:b.mode,children:b.children}),c.ref=d.ref,d.child=c,c.return=d,c}function lp(c,d){var m=d.ref;if(m===null)c!==null&&c.ref!==null&&(d.flags|=4194816);else{if(typeof m!="function"&&typeof m!="object")throw Error(r(284));(c===null||c.ref!==m)&&(d.flags|=4194816)}}function Wb(c,d,m,b,S){return Hs(d),m=Tb(c,d,m,b,void 0,S),b=kb(),c!==null&&!on?(Mb(c,d,S),Ai(c,d,S)):(Ze&&b&&cb(d),d.flags|=1,On(c,d,m,S),d.child)}function xA(c,d,m,b,S,j){return Hs(d),d.updateQueue=null,m=yj(d,b,m,S),vj(c),b=kb(),c!==null&&!on?(Mb(c,d,j),Ai(c,d,j)):(Ze&&b&&cb(d),d.flags|=1,On(c,d,m,j),d.child)}function bA(c,d,m,b,S){if(Hs(d),d.stateNode===null){var j=ic,M=m.contextType;typeof M=="object"&&M!==null&&(j=_n(M)),j=new m(b,j),d.memoizedState=j.state!==null&&j.state!==void 0?j.state:null,j.updater=$b,d.stateNode=j,j._reactInternals=d,j=d.stateNode,j.props=b,j.state=d.memoizedState,j.refs={},yb(d),M=m.contextType,j.context=typeof M=="object"&&M!==null?_n(M):ic,j.state=d.memoizedState,M=m.getDerivedStateFromProps,typeof M=="function"&&(Vb(d,m,M,b),j.state=d.memoizedState),typeof m.getDerivedStateFromProps=="function"||typeof j.getSnapshotBeforeUpdate=="function"||typeof j.UNSAFE_componentWillMount!="function"&&typeof j.componentWillMount!="function"||(M=j.state,typeof j.componentWillMount=="function"&&j.componentWillMount(),typeof j.UNSAFE_componentWillMount=="function"&&j.UNSAFE_componentWillMount(),M!==j.state&&$b.enqueueReplaceState(j,j.state,null),ld(d,b,j,S),sd(),j.state=d.memoizedState),typeof j.componentDidMount=="function"&&(d.flags|=4194308),b=!0}else if(c===null){j=d.stateNode;var _=d.memoizedProps,z=Js(m,_);j.props=z;var Y=j.context,ae=m.contextType;M=ic,typeof ae=="object"&&ae!==null&&(M=_n(ae));var ue=m.getDerivedStateFromProps;ae=typeof ue=="function"||typeof j.getSnapshotBeforeUpdate=="function",_=d.pendingProps!==_,ae||typeof j.UNSAFE_componentWillReceiveProps!="function"&&typeof j.componentWillReceiveProps!="function"||(_||Y!==M)&&oA(d,j,b,M),Da=!1;var Q=d.memoizedState;j.state=Q,ld(d,b,j,S),sd(),Y=d.memoizedState,_||Q!==Y||Da?(typeof ue=="function"&&(Vb(d,m,ue,b),Y=d.memoizedState),(z=Da||rA(d,m,z,b,Q,Y,M))?(ae||typeof j.UNSAFE_componentWillMount!="function"&&typeof j.componentWillMount!="function"||(typeof j.componentWillMount=="function"&&j.componentWillMount(),typeof j.UNSAFE_componentWillMount=="function"&&j.UNSAFE_componentWillMount()),typeof j.componentDidMount=="function"&&(d.flags|=4194308)):(typeof j.componentDidMount=="function"&&(d.flags|=4194308),d.memoizedProps=b,d.memoizedState=Y),j.props=b,j.state=Y,j.context=M,b=z):(typeof j.componentDidMount=="function"&&(d.flags|=4194308),b=!1)}else{j=d.stateNode,wb(c,d),M=d.memoizedProps,ae=Js(m,M),j.props=ae,ue=d.pendingProps,Q=j.context,Y=m.contextType,z=ic,typeof Y=="object"&&Y!==null&&(z=_n(Y)),_=m.getDerivedStateFromProps,(Y=typeof _=="function"||typeof j.getSnapshotBeforeUpdate=="function")||typeof j.UNSAFE_componentWillReceiveProps!="function"&&typeof j.componentWillReceiveProps!="function"||(M!==ue||Q!==z)&&oA(d,j,b,z),Da=!1,Q=d.memoizedState,j.state=Q,ld(d,b,j,S),sd();var oe=d.memoizedState;M!==ue||Q!==oe||Da||c!==null&&c.dependencies!==null&&Hh(c.dependencies)?(typeof _=="function"&&(Vb(d,m,_,b),oe=d.memoizedState),(ae=Da||rA(d,m,ae,b,Q,oe,z)||c!==null&&c.dependencies!==null&&Hh(c.dependencies))?(Y||typeof j.UNSAFE_componentWillUpdate!="function"&&typeof j.componentWillUpdate!="function"||(typeof j.componentWillUpdate=="function"&&j.componentWillUpdate(b,oe,z),typeof j.UNSAFE_componentWillUpdate=="function"&&j.UNSAFE_componentWillUpdate(b,oe,z)),typeof j.componentDidUpdate=="function"&&(d.flags|=4),typeof j.getSnapshotBeforeUpdate=="function"&&(d.flags|=1024)):(typeof j.componentDidUpdate!="function"||M===c.memoizedProps&&Q===c.memoizedState||(d.flags|=4),typeof j.getSnapshotBeforeUpdate!="function"||M===c.memoizedProps&&Q===c.memoizedState||(d.flags|=1024),d.memoizedProps=b,d.memoizedState=oe),j.props=b,j.state=oe,j.context=z,b=ae):(typeof j.componentDidUpdate!="function"||M===c.memoizedProps&&Q===c.memoizedState||(d.flags|=4),typeof j.getSnapshotBeforeUpdate!="function"||M===c.memoizedProps&&Q===c.memoizedState||(d.flags|=1024),b=!1)}return j=b,lp(c,d),b=(d.flags&128)!==0,j||b?(j=d.stateNode,m=b&&typeof m.getDerivedStateFromError!="function"?null:j.render(),d.flags|=1,c!==null&&b?(d.child=Ks(d,c.child,null,S),d.child=Ks(d,null,m,S)):On(c,d,m,S),d.memoizedState=j.state,c=d.child):c=Ai(c,d,S),c}function vA(c,d,m,b){return Fs(),d.flags|=256,On(c,d,m,b),d.child}var Jb={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Yb(c){return{baseLanes:c,cachePool:lj()}}function Xb(c,d,m){return c=c!==null?c.childLanes&~m:0,d&&(c|=Dr),c}function yA(c,d,m){var b=d.pendingProps,S=!1,j=(d.flags&128)!==0,M;if((M=j)||(M=c!==null&&c.memoizedState===null?!1:(Yt.current&2)!==0),M&&(S=!0,d.flags&=-129),M=(d.flags&32)!==0,d.flags&=-33,c===null){if(Ze){if(S?La(d):Ba(),(c=At)?(c=TT(c,eo),c=c!==null&&c.data!=="&"?c:null,c!==null&&(d.memoizedState={dehydrated:c,treeContext:Ma!==null?{id:Xo,overflow:Qo}:null,retryLane:536870912,hydrationErrors:null},m=ZE(c),m.return=d,d.child=m,Dn=d,At=null)):c=null,c===null)throw Ra(d);return Iv(c)?d.lanes=32:d.lanes=536870912,null}var _=b.children;return b=b.fallback,S?(Ba(),S=d.mode,_=cp({mode:"hidden",children:_},S),b=zs(b,S,m,null),_.return=d,b.return=d,_.sibling=b,d.child=_,b=d.child,b.memoizedState=Yb(m),b.childLanes=Xb(c,M,m),d.memoizedState=Jb,hd(null,b)):(La(d),Qb(d,_))}var z=c.memoizedState;if(z!==null&&(_=z.dehydrated,_!==null)){if(j)d.flags&256?(La(d),d.flags&=-257,d=Zb(c,d,m)):d.memoizedState!==null?(Ba(),d.child=c.child,d.flags|=128,d=null):(Ba(),_=b.fallback,S=d.mode,b=cp({mode:"visible",children:b.children},S),_=zs(_,S,m,null),_.flags|=2,b.return=d,_.return=d,b.sibling=_,d.child=b,Ks(d,c.child,null,m),b=d.child,b.memoizedState=Yb(m),b.childLanes=Xb(c,M,m),d.memoizedState=Jb,d=hd(null,b));else if(La(d),Iv(_)){if(M=_.nextSibling&&_.nextSibling.dataset,M)var Y=M.dgst;M=Y,b=Error(r(419)),b.stack="",b.digest=M,td({value:b,source:null,stack:null}),d=Zb(c,d,m)}else if(on||cc(c,d,m,!1),M=(m&c.childLanes)!==0,on||M){if(M=wt,M!==null&&(b=Uu(M,m),b!==0&&b!==z.retryLane))throw z.retryLane=b,Us(c,b),br(M,c,b),Kb;Rv(_)||bp(),d=Zb(c,d,m)}else Rv(_)?(d.flags|=192,d.child=c.child,d=null):(c=z.treeContext,At=no(_.nextSibling),Dn=d,Ze=!0,Pa=null,eo=!1,c!==null&&nj(d,c),d=Qb(d,b.children),d.flags|=4096);return d}return S?(Ba(),_=b.fallback,S=d.mode,z=c.child,Y=z.sibling,b=wi(z,{mode:"hidden",children:b.children}),b.subtreeFlags=z.subtreeFlags&65011712,Y!==null?_=wi(Y,_):(_=zs(_,S,m,null),_.flags|=2),_.return=d,b.return=d,b.sibling=_,d.child=b,hd(null,b),b=d.child,_=c.child.memoizedState,_===null?_=Yb(m):(S=_.cachePool,S!==null?(z=nn._currentValue,S=S.parent!==z?{parent:z,pool:z}:S):S=lj(),_={baseLanes:_.baseLanes|m,cachePool:S}),b.memoizedState=_,b.childLanes=Xb(c,M,m),d.memoizedState=Jb,hd(c.child,b)):(La(d),m=c.child,c=m.sibling,m=wi(m,{mode:"visible",children:b.children}),m.return=d,m.sibling=null,c!==null&&(M=d.deletions,M===null?(d.deletions=[c],d.flags|=16):M.push(c)),d.child=m,d.memoizedState=null,m)}function Qb(c,d){return d=cp({mode:"visible",children:d},c.mode),d.return=c,c.child=d}function cp(c,d){return c=Mr(22,c,null,d),c.lanes=0,c}function Zb(c,d,m){return Ks(d,c.child,null,m),c=Qb(d,d.pendingProps.children),c.flags|=2,d.memoizedState=null,c}function wA(c,d,m){c.lanes|=d;var b=c.alternate;b!==null&&(b.lanes|=d),pb(c.return,d,m)}function ev(c,d,m,b,S,j){var M=c.memoizedState;M===null?c.memoizedState={isBackwards:d,rendering:null,renderingStartTime:0,last:b,tail:m,tailMode:S,treeForkCount:j}:(M.isBackwards=d,M.rendering=null,M.renderingStartTime=0,M.last=b,M.tail=m,M.tailMode=S,M.treeForkCount=j)}function CA(c,d,m){var b=d.pendingProps,S=b.revealOrder,j=b.tail;b=b.children;var M=Yt.current,_=(M&2)!==0;if(_?(M=M&1|2,d.flags|=128):M&=1,te(Yt,M),On(c,d,b,m),b=Ze?ed:0,!_&&c!==null&&(c.flags&128)!==0)e:for(c=d.child;c!==null;){if(c.tag===13)c.memoizedState!==null&&wA(c,m,d);else if(c.tag===19)wA(c,m,d);else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===d)break e;for(;c.sibling===null;){if(c.return===null||c.return===d)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}switch(S){case"forwards":for(m=d.child,S=null;m!==null;)c=m.alternate,c!==null&&Xh(c)===null&&(S=m),m=m.sibling;m=S,m===null?(S=d.child,d.child=null):(S=m.sibling,m.sibling=null),ev(d,!1,S,m,j,b);break;case"backwards":case"unstable_legacy-backwards":for(m=null,S=d.child,d.child=null;S!==null;){if(c=S.alternate,c!==null&&Xh(c)===null){d.child=S;break}c=S.sibling,S.sibling=m,m=S,S=c}ev(d,!0,m,null,j,b);break;case"together":ev(d,!1,null,null,void 0,b);break;default:d.memoizedState=null}return d.child}function Ai(c,d,m){if(c!==null&&(d.dependencies=c.dependencies),Fa|=d.lanes,(m&d.childLanes)===0)if(c!==null){if(cc(c,d,m,!1),(m&d.childLanes)===0)return null}else return null;if(c!==null&&d.child!==c.child)throw Error(r(153));if(d.child!==null){for(c=d.child,m=wi(c,c.pendingProps),d.child=m,m.return=d;c.sibling!==null;)c=c.sibling,m=m.sibling=wi(c,c.pendingProps),m.return=d;m.sibling=null}return d.child}function tv(c,d){return(c.lanes&d)!==0?!0:(c=c.dependencies,!!(c!==null&&Hh(c)))}function Kz(c,d,m){switch(d.tag){case 3:Oe(d,d.stateNode.containerInfo),Ia(d,nn,c.memoizedState.cache),Fs();break;case 27:case 5:Re(d);break;case 4:Oe(d,d.stateNode.containerInfo);break;case 10:Ia(d,d.type,d.memoizedProps.value);break;case 31:if(d.memoizedState!==null)return d.flags|=128,jb(d),null;break;case 13:var b=d.memoizedState;if(b!==null)return b.dehydrated!==null?(La(d),d.flags|=128,null):(m&d.child.childLanes)!==0?yA(c,d,m):(La(d),c=Ai(c,d,m),c!==null?c.sibling:null);La(d);break;case 19:var S=(c.flags&128)!==0;if(b=(m&d.childLanes)!==0,b||(cc(c,d,m,!1),b=(m&d.childLanes)!==0),S){if(b)return CA(c,d,m);d.flags|=128}if(S=d.memoizedState,S!==null&&(S.rendering=null,S.tail=null,S.lastEffect=null),te(Yt,Yt.current),b)break;return null;case 22:return d.lanes=0,pA(c,d,m,d.pendingProps);case 24:Ia(d,nn,c.memoizedState.cache)}return Ai(c,d,m)}function NA(c,d,m){if(c!==null)if(c.memoizedProps!==d.pendingProps)on=!0;else{if(!tv(c,m)&&(d.flags&128)===0)return on=!1,Kz(c,d,m);on=(c.flags&131072)!==0}else on=!1,Ze&&(d.flags&1048576)!==0&&tj(d,ed,d.index);switch(d.lanes=0,d.tag){case 16:e:{var b=d.pendingProps;if(c=$s(d.elementType),d.type=c,typeof c=="function")ab(c)?(b=Js(c,b),d.tag=1,d=bA(null,d,c,b,m)):(d.tag=0,d=Wb(null,d,c,b,m));else{if(c!=null){var S=c.$$typeof;if(S===D){d.tag=11,d=dA(null,d,c,b,m);break e}else if(S===P){d.tag=14,d=fA(null,d,c,b,m);break e}}throw d=ie(c)||c,Error(r(306,d,""))}}return d;case 0:return Wb(c,d,d.type,d.pendingProps,m);case 1:return b=d.type,S=Js(b,d.pendingProps),bA(c,d,b,S,m);case 3:e:{if(Oe(d,d.stateNode.containerInfo),c===null)throw Error(r(387));b=d.pendingProps;var j=d.memoizedState;S=j.element,wb(c,d),ld(d,b,null,m);var M=d.memoizedState;if(b=M.cache,Ia(d,nn,b),b!==j.cache&&mb(d,[nn],m,!0),sd(),b=M.element,j.isDehydrated)if(j={element:b,isDehydrated:!1,cache:M.cache},d.updateQueue.baseState=j,d.memoizedState=j,d.flags&256){d=vA(c,d,b,m);break e}else if(b!==S){S=Xr(Error(r(424)),d),td(S),d=vA(c,d,b,m);break e}else{switch(c=d.stateNode.containerInfo,c.nodeType){case 9:c=c.body;break;default:c=c.nodeName==="HTML"?c.ownerDocument.body:c}for(At=no(c.firstChild),Dn=d,Ze=!0,Pa=null,eo=!0,m=pj(d,null,b,m),d.child=m;m;)m.flags=m.flags&-3|4096,m=m.sibling}else{if(Fs(),b===S){d=Ai(c,d,m);break e}On(c,d,b,m)}d=d.child}return d;case 26:return lp(c,d),c===null?(m=DT(d.type,null,d.pendingProps,null))?d.memoizedState=m:Ze||(m=d.type,c=d.pendingProps,b=Ep(De.current).createElement(m),b[yn]=d,b[$n]=c,Ln(b,m,c),tn(b),d.stateNode=b):d.memoizedState=DT(d.type,c.memoizedProps,d.pendingProps,c.memoizedState),null;case 27:return Re(d),c===null&&Ze&&(b=d.stateNode=PT(d.type,d.pendingProps,De.current),Dn=d,eo=!0,S=At,Ga(d.type)?(Dv=S,At=no(b.firstChild)):At=S),On(c,d,d.pendingProps.children,m),lp(c,d),c===null&&(d.flags|=4194304),d.child;case 5:return c===null&&Ze&&((S=b=At)&&(b=N9(b,d.type,d.pendingProps,eo),b!==null?(d.stateNode=b,Dn=d,At=no(b.firstChild),eo=!1,S=!0):S=!1),S||Ra(d)),Re(d),S=d.type,j=d.pendingProps,M=c!==null?c.memoizedProps:null,b=j.children,kv(S,j)?b=null:M!==null&&kv(S,M)&&(d.flags|=32),d.memoizedState!==null&&(S=Tb(c,d,Bz,null,null,m),Td._currentValue=S),lp(c,d),On(c,d,b,m),d.child;case 6:return c===null&&Ze&&((c=m=At)&&(m=S9(m,d.pendingProps,eo),m!==null?(d.stateNode=m,Dn=d,At=null,c=!0):c=!1),c||Ra(d)),null;case 13:return yA(c,d,m);case 4:return Oe(d,d.stateNode.containerInfo),b=d.pendingProps,c===null?d.child=Ks(d,null,b,m):On(c,d,b,m),d.child;case 11:return dA(c,d,d.type,d.pendingProps,m);case 7:return On(c,d,d.pendingProps,m),d.child;case 8:return On(c,d,d.pendingProps.children,m),d.child;case 12:return On(c,d,d.pendingProps.children,m),d.child;case 10:return b=d.pendingProps,Ia(d,d.type,b.value),On(c,d,b.children,m),d.child;case 9:return S=d.type._context,b=d.pendingProps.children,Hs(d),S=_n(S),b=b(S),d.flags|=1,On(c,d,b,m),d.child;case 14:return fA(c,d,d.type,d.pendingProps,m);case 15:return hA(c,d,d.type,d.pendingProps,m);case 19:return CA(c,d,m);case 31:return Gz(c,d,m);case 22:return pA(c,d,m,d.pendingProps);case 24:return Hs(d),b=_n(nn),c===null?(S=bb(),S===null&&(S=wt,j=gb(),S.pooledCache=j,j.refCount++,j!==null&&(S.pooledCacheLanes|=m),S=j),d.memoizedState={parent:b,cache:S},yb(d),Ia(d,nn,S)):((c.lanes&m)!==0&&(wb(c,d),ld(d,null,null,m),sd()),S=c.memoizedState,j=d.memoizedState,S.parent!==b?(S={parent:b,cache:b},d.memoizedState=S,d.lanes===0&&(d.memoizedState=d.updateQueue.baseState=S),Ia(d,nn,b)):(b=j.cache,Ia(d,nn,b),b!==S.cache&&mb(d,[nn],m,!0))),On(c,d,d.pendingProps.children,m),d.child;case 29:throw d.pendingProps}throw Error(r(156,d.tag))}function Ti(c){c.flags|=4}function nv(c,d,m,b,S){if((d=(c.mode&32)!==0)&&(d=!1),d){if(c.flags|=16777216,(S&335544128)===S)if(c.stateNode.complete)c.flags|=8192;else if(YA())c.flags|=8192;else throw Gs=Kh,vb}else c.flags&=-16777217}function SA(c,d){if(d.type!=="stylesheet"||(d.state.loading&4)!==0)c.flags&=-16777217;else if(c.flags|=16777216,!UT(d))if(YA())c.flags|=8192;else throw Gs=Kh,vb}function up(c,d){d!==null&&(c.flags|=4),c.flags&16384&&(d=c.tag!==22?Lu():536870912,c.lanes|=d,wc|=d)}function pd(c,d){if(!Ze)switch(c.tailMode){case"hidden":d=c.tail;for(var m=null;d!==null;)d.alternate!==null&&(m=d),d=d.sibling;m===null?c.tail=null:m.sibling=null;break;case"collapsed":m=c.tail;for(var b=null;m!==null;)m.alternate!==null&&(b=m),m=m.sibling;b===null?d||c.tail===null?c.tail=null:c.tail.sibling=null:b.sibling=null}}function Tt(c){var d=c.alternate!==null&&c.alternate.child===c.child,m=0,b=0;if(d)for(var S=c.child;S!==null;)m|=S.lanes|S.childLanes,b|=S.subtreeFlags&65011712,b|=S.flags&65011712,S.return=c,S=S.sibling;else for(S=c.child;S!==null;)m|=S.lanes|S.childLanes,b|=S.subtreeFlags,b|=S.flags,S.return=c,S=S.sibling;return c.subtreeFlags|=b,c.childLanes=m,d}function Wz(c,d,m){var b=d.pendingProps;switch(ub(d),d.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Tt(d),null;case 1:return Tt(d),null;case 3:return m=d.stateNode,b=null,c!==null&&(b=c.memoizedState.cache),d.memoizedState.cache!==b&&(d.flags|=2048),Si(nn),re(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(c===null||c.child===null)&&(lc(d)?Ti(d):c===null||c.memoizedState.isDehydrated&&(d.flags&256)===0||(d.flags|=1024,fb())),Tt(d),null;case 26:var S=d.type,j=d.memoizedState;return c===null?(Ti(d),j!==null?(Tt(d),SA(d,j)):(Tt(d),nv(d,S,null,b,m))):j?j!==c.memoizedState?(Ti(d),Tt(d),SA(d,j)):(Tt(d),d.flags&=-16777217):(c=c.memoizedProps,c!==b&&Ti(d),Tt(d),nv(d,S,c,b,m)),null;case 27:if(Te(d),m=De.current,S=d.type,c!==null&&d.stateNode!=null)c.memoizedProps!==b&&Ti(d);else{if(!b){if(d.stateNode===null)throw Error(r(166));return Tt(d),null}c=fe.current,lc(d)?rj(d):(c=PT(S,b,m),d.stateNode=c,Ti(d))}return Tt(d),null;case 5:if(Te(d),S=d.type,c!==null&&d.stateNode!=null)c.memoizedProps!==b&&Ti(d);else{if(!b){if(d.stateNode===null)throw Error(r(166));return Tt(d),null}if(j=fe.current,lc(d))rj(d);else{var M=Ep(De.current);switch(j){case 1:j=M.createElementNS("http://www.w3.org/2000/svg",S);break;case 2:j=M.createElementNS("http://www.w3.org/1998/Math/MathML",S);break;default:switch(S){case"svg":j=M.createElementNS("http://www.w3.org/2000/svg",S);break;case"math":j=M.createElementNS("http://www.w3.org/1998/Math/MathML",S);break;case"script":j=M.createElement("div"),j.innerHTML="<script><\/script>",j=j.removeChild(j.firstChild);break;case"select":j=typeof b.is=="string"?M.createElement("select",{is:b.is}):M.createElement("select"),b.multiple?j.multiple=!0:b.size&&(j.size=b.size);break;default:j=typeof b.is=="string"?M.createElement(S,{is:b.is}):M.createElement(S)}}j[yn]=d,j[$n]=b;e:for(M=d.child;M!==null;){if(M.tag===5||M.tag===6)j.appendChild(M.stateNode);else if(M.tag!==4&&M.tag!==27&&M.child!==null){M.child.return=M,M=M.child;continue}if(M===d)break e;for(;M.sibling===null;){if(M.return===null||M.return===d)break e;M=M.return}M.sibling.return=M.return,M=M.sibling}d.stateNode=j;e:switch(Ln(j,S,b),S){case"button":case"input":case"select":case"textarea":b=!!b.autoFocus;break e;case"img":b=!0;break e;default:b=!1}b&&Ti(d)}}return Tt(d),nv(d,d.type,c===null?null:c.memoizedProps,d.pendingProps,m),null;case 6:if(c&&d.stateNode!=null)c.memoizedProps!==b&&Ti(d);else{if(typeof b!="string"&&d.stateNode===null)throw Error(r(166));if(c=De.current,lc(d)){if(c=d.stateNode,m=d.memoizedProps,b=null,S=Dn,S!==null)switch(S.tag){case 27:case 5:b=S.memoizedProps}c[yn]=d,c=!!(c.nodeValue===m||b!==null&&b.suppressHydrationWarning===!0||yT(c.nodeValue,m)),c||Ra(d,!0)}else c=Ep(c).createTextNode(b),c[yn]=d,d.stateNode=c}return Tt(d),null;case 31:if(m=d.memoizedState,c===null||c.memoizedState!==null){if(b=lc(d),m!==null){if(c===null){if(!b)throw Error(r(318));if(c=d.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(r(557));c[yn]=d}else Fs(),(d.flags&128)===0&&(d.memoizedState=null),d.flags|=4;Tt(d),c=!1}else m=fb(),c!==null&&c.memoizedState!==null&&(c.memoizedState.hydrationErrors=m),c=!0;if(!c)return d.flags&256?(Rr(d),d):(Rr(d),null);if((d.flags&128)!==0)throw Error(r(558))}return Tt(d),null;case 13:if(b=d.memoizedState,c===null||c.memoizedState!==null&&c.memoizedState.dehydrated!==null){if(S=lc(d),b!==null&&b.dehydrated!==null){if(c===null){if(!S)throw Error(r(318));if(S=d.memoizedState,S=S!==null?S.dehydrated:null,!S)throw Error(r(317));S[yn]=d}else Fs(),(d.flags&128)===0&&(d.memoizedState=null),d.flags|=4;Tt(d),S=!1}else S=fb(),c!==null&&c.memoizedState!==null&&(c.memoizedState.hydrationErrors=S),S=!0;if(!S)return d.flags&256?(Rr(d),d):(Rr(d),null)}return Rr(d),(d.flags&128)!==0?(d.lanes=m,d):(m=b!==null,c=c!==null&&c.memoizedState!==null,m&&(b=d.child,S=null,b.alternate!==null&&b.alternate.memoizedState!==null&&b.alternate.memoizedState.cachePool!==null&&(S=b.alternate.memoizedState.cachePool.pool),j=null,b.memoizedState!==null&&b.memoizedState.cachePool!==null&&(j=b.memoizedState.cachePool.pool),j!==S&&(b.flags|=2048)),m!==c&&m&&(d.child.flags|=8192),up(d,d.updateQueue),Tt(d),null);case 4:return re(),c===null&&Sv(d.stateNode.containerInfo),Tt(d),null;case 10:return Si(d.type),Tt(d),null;case 19:if(F(Yt),b=d.memoizedState,b===null)return Tt(d),null;if(S=(d.flags&128)!==0,j=b.rendering,j===null)if(S)pd(b,!1);else{if(Vt!==0||c!==null&&(c.flags&128)!==0)for(c=d.child;c!==null;){if(j=Xh(c),j!==null){for(d.flags|=128,pd(b,!1),c=j.updateQueue,d.updateQueue=c,up(d,c),d.subtreeFlags=0,c=m,m=d.child;m!==null;)QE(m,c),m=m.sibling;return te(Yt,Yt.current&1|2),Ze&&Ci(d,b.treeForkCount),d.child}c=c.sibling}b.tail!==null&&Vn()>mp&&(d.flags|=128,S=!0,pd(b,!1),d.lanes=4194304)}else{if(!S)if(c=Xh(j),c!==null){if(d.flags|=128,S=!0,c=c.updateQueue,d.updateQueue=c,up(d,c),pd(b,!0),b.tail===null&&b.tailMode==="hidden"&&!j.alternate&&!Ze)return Tt(d),null}else 2*Vn()-b.renderingStartTime>mp&&m!==536870912&&(d.flags|=128,S=!0,pd(b,!1),d.lanes=4194304);b.isBackwards?(j.sibling=d.child,d.child=j):(c=b.last,c!==null?c.sibling=j:d.child=j,b.last=j)}return b.tail!==null?(c=b.tail,b.rendering=c,b.tail=c.sibling,b.renderingStartTime=Vn(),c.sibling=null,m=Yt.current,te(Yt,S?m&1|2:m&1),Ze&&Ci(d,b.treeForkCount),c):(Tt(d),null);case 22:case 23:return Rr(d),Eb(),b=d.memoizedState!==null,c!==null?c.memoizedState!==null!==b&&(d.flags|=8192):b&&(d.flags|=8192),b?(m&536870912)!==0&&(d.flags&128)===0&&(Tt(d),d.subtreeFlags&6&&(d.flags|=8192)):Tt(d),m=d.updateQueue,m!==null&&up(d,m.retryQueue),m=null,c!==null&&c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(m=c.memoizedState.cachePool.pool),b=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(b=d.memoizedState.cachePool.pool),b!==m&&(d.flags|=2048),c!==null&&F(Vs),null;case 24:return m=null,c!==null&&(m=c.memoizedState.cache),d.memoizedState.cache!==m&&(d.flags|=2048),Si(nn),Tt(d),null;case 25:return null;case 30:return null}throw Error(r(156,d.tag))}function Jz(c,d){switch(ub(d),d.tag){case 1:return c=d.flags,c&65536?(d.flags=c&-65537|128,d):null;case 3:return Si(nn),re(),c=d.flags,(c&65536)!==0&&(c&128)===0?(d.flags=c&-65537|128,d):null;case 26:case 27:case 5:return Te(d),null;case 31:if(d.memoizedState!==null){if(Rr(d),d.alternate===null)throw Error(r(340));Fs()}return c=d.flags,c&65536?(d.flags=c&-65537|128,d):null;case 13:if(Rr(d),c=d.memoizedState,c!==null&&c.dehydrated!==null){if(d.alternate===null)throw Error(r(340));Fs()}return c=d.flags,c&65536?(d.flags=c&-65537|128,d):null;case 19:return F(Yt),null;case 4:return re(),null;case 10:return Si(d.type),null;case 22:case 23:return Rr(d),Eb(),c!==null&&F(Vs),c=d.flags,c&65536?(d.flags=c&-65537|128,d):null;case 24:return Si(nn),null;case 25:return null;default:return null}}function EA(c,d){switch(ub(d),d.tag){case 3:Si(nn),re();break;case 26:case 27:case 5:Te(d);break;case 4:re();break;case 31:d.memoizedState!==null&&Rr(d);break;case 13:Rr(d);break;case 19:F(Yt);break;case 10:Si(d.type);break;case 22:case 23:Rr(d),Eb(),c!==null&&F(Vs);break;case 24:Si(nn)}}function md(c,d){try{var m=d.updateQueue,b=m!==null?m.lastEffect:null;if(b!==null){var S=b.next;m=S;do{if((m.tag&c)===c){b=void 0;var j=m.create,M=m.inst;b=j(),M.destroy=b}m=m.next}while(m!==S)}}catch(_){ft(d,d.return,_)}}function Ua(c,d,m){try{var b=d.updateQueue,S=b!==null?b.lastEffect:null;if(S!==null){var j=S.next;b=j;do{if((b.tag&c)===c){var M=b.inst,_=M.destroy;if(_!==void 0){M.destroy=void 0,S=d;var z=m,Y=_;try{Y()}catch(ae){ft(S,z,ae)}}}b=b.next}while(b!==j)}}catch(ae){ft(d,d.return,ae)}}function jA(c){var d=c.updateQueue;if(d!==null){var m=c.stateNode;try{gj(d,m)}catch(b){ft(c,c.return,b)}}}function AA(c,d,m){m.props=Js(c.type,c.memoizedProps),m.state=c.memoizedState;try{m.componentWillUnmount()}catch(b){ft(c,d,b)}}function gd(c,d){try{var m=c.ref;if(m!==null){switch(c.tag){case 26:case 27:case 5:var b=c.stateNode;break;case 30:b=c.stateNode;break;default:b=c.stateNode}typeof m=="function"?c.refCleanup=m(b):m.current=b}}catch(S){ft(c,d,S)}}function Zo(c,d){var m=c.ref,b=c.refCleanup;if(m!==null)if(typeof b=="function")try{b()}catch(S){ft(c,d,S)}finally{c.refCleanup=null,c=c.alternate,c!=null&&(c.refCleanup=null)}else if(typeof m=="function")try{m(null)}catch(S){ft(c,d,S)}else m.current=null}function TA(c){var d=c.type,m=c.memoizedProps,b=c.stateNode;try{e:switch(d){case"button":case"input":case"select":case"textarea":m.autoFocus&&b.focus();break e;case"img":m.src?b.src=m.src:m.srcSet&&(b.srcset=m.srcSet)}}catch(S){ft(c,c.return,S)}}function rv(c,d,m){try{var b=c.stateNode;x9(b,c.type,m,d),b[$n]=d}catch(S){ft(c,c.return,S)}}function kA(c){return c.tag===5||c.tag===3||c.tag===26||c.tag===27&&Ga(c.type)||c.tag===4}function ov(c){e:for(;;){for(;c.sibling===null;){if(c.return===null||kA(c.return))return null;c=c.return}for(c.sibling.return=c.return,c=c.sibling;c.tag!==5&&c.tag!==6&&c.tag!==18;){if(c.tag===27&&Ga(c.type)||c.flags&2||c.child===null||c.tag===4)continue e;c.child.return=c,c=c.child}if(!(c.flags&2))return c.stateNode}}function iv(c,d,m){var b=c.tag;if(b===5||b===6)c=c.stateNode,d?(m.nodeType===9?m.body:m.nodeName==="HTML"?m.ownerDocument.body:m).insertBefore(c,d):(d=m.nodeType===9?m.body:m.nodeName==="HTML"?m.ownerDocument.body:m,d.appendChild(c),m=m._reactRootContainer,m!=null||d.onclick!==null||(d.onclick=To));else if(b!==4&&(b===27&&Ga(c.type)&&(m=c.stateNode,d=null),c=c.child,c!==null))for(iv(c,d,m),c=c.sibling;c!==null;)iv(c,d,m),c=c.sibling}function dp(c,d,m){var b=c.tag;if(b===5||b===6)c=c.stateNode,d?m.insertBefore(c,d):m.appendChild(c);else if(b!==4&&(b===27&&Ga(c.type)&&(m=c.stateNode),c=c.child,c!==null))for(dp(c,d,m),c=c.sibling;c!==null;)dp(c,d,m),c=c.sibling}function MA(c){var d=c.stateNode,m=c.memoizedProps;try{for(var b=c.type,S=d.attributes;S.length;)d.removeAttributeNode(S[0]);Ln(d,b,m),d[yn]=c,d[$n]=m}catch(j){ft(c,c.return,j)}}var ki=!1,an=!1,av=!1,PA=typeof WeakSet=="function"?WeakSet:Set,Cn=null;function Yz(c,d){if(c=c.containerInfo,Av=Rp,c=HE(c),Z0(c)){if("selectionStart"in c)var m={start:c.selectionStart,end:c.selectionEnd};else e:{m=(m=c.ownerDocument)&&m.defaultView||window;var b=m.getSelection&&m.getSelection();if(b&&b.rangeCount!==0){m=b.anchorNode;var S=b.anchorOffset,j=b.focusNode;b=b.focusOffset;try{m.nodeType,j.nodeType}catch{m=null;break e}var M=0,_=-1,z=-1,Y=0,ae=0,ue=c,Q=null;t:for(;;){for(var oe;ue!==m||S!==0&&ue.nodeType!==3||(_=M+S),ue!==j||b!==0&&ue.nodeType!==3||(z=M+b),ue.nodeType===3&&(M+=ue.nodeValue.length),(oe=ue.firstChild)!==null;)Q=ue,ue=oe;for(;;){if(ue===c)break t;if(Q===m&&++Y===S&&(_=M),Q===j&&++ae===b&&(z=M),(oe=ue.nextSibling)!==null)break;ue=Q,Q=ue.parentNode}ue=oe}m=_===-1||z===-1?null:{start:_,end:z}}else m=null}m=m||{start:0,end:0}}else m=null;for(Tv={focusedElem:c,selectionRange:m},Rp=!1,Cn=d;Cn!==null;)if(d=Cn,c=d.child,(d.subtreeFlags&1028)!==0&&c!==null)c.return=d,Cn=c;else for(;Cn!==null;){switch(d=Cn,j=d.alternate,c=d.flags,d.tag){case 0:if((c&4)!==0&&(c=d.updateQueue,c=c!==null?c.events:null,c!==null))for(m=0;m<c.length;m++)S=c[m],S.ref.impl=S.nextImpl;break;case 11:case 15:break;case 1:if((c&1024)!==0&&j!==null){c=void 0,m=d,S=j.memoizedProps,j=j.memoizedState,b=m.stateNode;try{var Ne=Js(m.type,S);c=b.getSnapshotBeforeUpdate(Ne,j),b.__reactInternalSnapshotBeforeUpdate=c}catch(_e){ft(m,m.return,_e)}}break;case 3:if((c&1024)!==0){if(c=d.stateNode.containerInfo,m=c.nodeType,m===9)Pv(c);else if(m===1)switch(c.nodeName){case"HEAD":case"HTML":case"BODY":Pv(c);break;default:c.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((c&1024)!==0)throw Error(r(163))}if(c=d.sibling,c!==null){c.return=d.return,Cn=c;break}Cn=d.return}}function RA(c,d,m){var b=m.flags;switch(m.tag){case 0:case 11:case 15:Pi(c,m),b&4&&md(5,m);break;case 1:if(Pi(c,m),b&4)if(c=m.stateNode,d===null)try{c.componentDidMount()}catch(M){ft(m,m.return,M)}else{var S=Js(m.type,d.memoizedProps);d=d.memoizedState;try{c.componentDidUpdate(S,d,c.__reactInternalSnapshotBeforeUpdate)}catch(M){ft(m,m.return,M)}}b&64&&jA(m),b&512&&gd(m,m.return);break;case 3:if(Pi(c,m),b&64&&(c=m.updateQueue,c!==null)){if(d=null,m.child!==null)switch(m.child.tag){case 27:case 5:d=m.child.stateNode;break;case 1:d=m.child.stateNode}try{gj(c,d)}catch(M){ft(m,m.return,M)}}break;case 27:d===null&&b&4&&MA(m);case 26:case 5:Pi(c,m),d===null&&b&4&&TA(m),b&512&&gd(m,m.return);break;case 12:Pi(c,m);break;case 31:Pi(c,m),b&4&&_A(c,m);break;case 13:Pi(c,m),b&4&&OA(c,m),b&64&&(c=m.memoizedState,c!==null&&(c=c.dehydrated,c!==null&&(m=i9.bind(null,m),E9(c,m))));break;case 22:if(b=m.memoizedState!==null||ki,!b){d=d!==null&&d.memoizedState!==null||an,S=ki;var j=an;ki=b,(an=d)&&!j?Ri(c,m,(m.subtreeFlags&8772)!==0):Pi(c,m),ki=S,an=j}break;case 30:break;default:Pi(c,m)}}function IA(c){var d=c.alternate;d!==null&&(c.alternate=null,IA(d)),c.child=null,c.deletions=null,c.sibling=null,c.tag===5&&(d=c.stateNode,d!==null&&Ds(d)),c.stateNode=null,c.return=null,c.dependencies=null,c.memoizedProps=null,c.memoizedState=null,c.pendingProps=null,c.stateNode=null,c.updateQueue=null}var Rt=null,pr=!1;function Mi(c,d,m){for(m=m.child;m!==null;)DA(c,d,m),m=m.sibling}function DA(c,d,m){if(it&&typeof it.onCommitFiberUnmount=="function")try{it.onCommitFiberUnmount(lt,m)}catch{}switch(m.tag){case 26:an||Zo(m,d),Mi(c,d,m),m.memoizedState?m.memoizedState.count--:m.stateNode&&(m=m.stateNode,m.parentNode.removeChild(m));break;case 27:an||Zo(m,d);var b=Rt,S=pr;Ga(m.type)&&(Rt=m.stateNode,pr=!1),Mi(c,d,m),Ed(m.stateNode),Rt=b,pr=S;break;case 5:an||Zo(m,d);case 6:if(b=Rt,S=pr,Rt=null,Mi(c,d,m),Rt=b,pr=S,Rt!==null)if(pr)try{(Rt.nodeType===9?Rt.body:Rt.nodeName==="HTML"?Rt.ownerDocument.body:Rt).removeChild(m.stateNode)}catch(j){ft(m,d,j)}else try{Rt.removeChild(m.stateNode)}catch(j){ft(m,d,j)}break;case 18:Rt!==null&&(pr?(c=Rt,jT(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,m.stateNode),kc(c)):jT(Rt,m.stateNode));break;case 4:b=Rt,S=pr,Rt=m.stateNode.containerInfo,pr=!0,Mi(c,d,m),Rt=b,pr=S;break;case 0:case 11:case 14:case 15:Ua(2,m,d),an||Ua(4,m,d),Mi(c,d,m);break;case 1:an||(Zo(m,d),b=m.stateNode,typeof b.componentWillUnmount=="function"&&AA(m,d,b)),Mi(c,d,m);break;case 21:Mi(c,d,m);break;case 22:an=(b=an)||m.memoizedState!==null,Mi(c,d,m),an=b;break;default:Mi(c,d,m)}}function _A(c,d){if(d.memoizedState===null&&(c=d.alternate,c!==null&&(c=c.memoizedState,c!==null))){c=c.dehydrated;try{kc(c)}catch(m){ft(d,d.return,m)}}}function OA(c,d){if(d.memoizedState===null&&(c=d.alternate,c!==null&&(c=c.memoizedState,c!==null&&(c=c.dehydrated,c!==null))))try{kc(c)}catch(m){ft(d,d.return,m)}}function Xz(c){switch(c.tag){case 31:case 13:case 19:var d=c.stateNode;return d===null&&(d=c.stateNode=new PA),d;case 22:return c=c.stateNode,d=c._retryCache,d===null&&(d=c._retryCache=new PA),d;default:throw Error(r(435,c.tag))}}function fp(c,d){var m=Xz(c);d.forEach(function(b){if(!m.has(b)){m.add(b);var S=a9.bind(null,c,b);b.then(S,S)}})}function mr(c,d){var m=d.deletions;if(m!==null)for(var b=0;b<m.length;b++){var S=m[b],j=c,M=d,_=M;e:for(;_!==null;){switch(_.tag){case 27:if(Ga(_.type)){Rt=_.stateNode,pr=!1;break e}break;case 5:Rt=_.stateNode,pr=!1;break e;case 3:case 4:Rt=_.stateNode.containerInfo,pr=!0;break e}_=_.return}if(Rt===null)throw Error(r(160));DA(j,M,S),Rt=null,pr=!1,j=S.alternate,j!==null&&(j.return=null),S.return=null}if(d.subtreeFlags&13886)for(d=d.child;d!==null;)LA(d,c),d=d.sibling}var Mo=null;function LA(c,d){var m=c.alternate,b=c.flags;switch(c.tag){case 0:case 11:case 14:case 15:mr(d,c),gr(c),b&4&&(Ua(3,c,c.return),md(3,c),Ua(5,c,c.return));break;case 1:mr(d,c),gr(c),b&512&&(an||m===null||Zo(m,m.return)),b&64&&ki&&(c=c.updateQueue,c!==null&&(b=c.callbacks,b!==null&&(m=c.shared.hiddenCallbacks,c.shared.hiddenCallbacks=m===null?b:m.concat(b))));break;case 26:var S=Mo;if(mr(d,c),gr(c),b&512&&(an||m===null||Zo(m,m.return)),b&4){var j=m!==null?m.memoizedState:null;if(b=c.memoizedState,m===null)if(b===null)if(c.stateNode===null){e:{b=c.type,m=c.memoizedProps,S=S.ownerDocument||S;t:switch(b){case"title":j=S.getElementsByTagName("title")[0],(!j||j[wa]||j[yn]||j.namespaceURI==="http://www.w3.org/2000/svg"||j.hasAttribute("itemprop"))&&(j=S.createElement(b),S.head.insertBefore(j,S.querySelector("head > title"))),Ln(j,b,m),j[yn]=c,tn(j),b=j;break e;case"link":var M=LT("link","href",S).get(b+(m.href||""));if(M){for(var _=0;_<M.length;_++)if(j=M[_],j.getAttribute("href")===(m.href==null||m.href===""?null:m.href)&&j.getAttribute("rel")===(m.rel==null?null:m.rel)&&j.getAttribute("title")===(m.title==null?null:m.title)&&j.getAttribute("crossorigin")===(m.crossOrigin==null?null:m.crossOrigin)){M.splice(_,1);break t}}j=S.createElement(b),Ln(j,b,m),S.head.appendChild(j);break;case"meta":if(M=LT("meta","content",S).get(b+(m.content||""))){for(_=0;_<M.length;_++)if(j=M[_],j.getAttribute("content")===(m.content==null?null:""+m.content)&&j.getAttribute("name")===(m.name==null?null:m.name)&&j.getAttribute("property")===(m.property==null?null:m.property)&&j.getAttribute("http-equiv")===(m.httpEquiv==null?null:m.httpEquiv)&&j.getAttribute("charset")===(m.charSet==null?null:m.charSet)){M.splice(_,1);break t}}j=S.createElement(b),Ln(j,b,m),S.head.appendChild(j);break;default:throw Error(r(468,b))}j[yn]=c,tn(j),b=j}c.stateNode=b}else BT(S,c.type,c.stateNode);else c.stateNode=OT(S,b,c.memoizedProps);else j!==b?(j===null?m.stateNode!==null&&(m=m.stateNode,m.parentNode.removeChild(m)):j.count--,b===null?BT(S,c.type,c.stateNode):OT(S,b,c.memoizedProps)):b===null&&c.stateNode!==null&&rv(c,c.memoizedProps,m.memoizedProps)}break;case 27:mr(d,c),gr(c),b&512&&(an||m===null||Zo(m,m.return)),m!==null&&b&4&&rv(c,c.memoizedProps,m.memoizedProps);break;case 5:if(mr(d,c),gr(c),b&512&&(an||m===null||Zo(m,m.return)),c.flags&32){S=c.stateNode;try{Aa(S,"")}catch(Ne){ft(c,c.return,Ne)}}b&4&&c.stateNode!=null&&(S=c.memoizedProps,rv(c,S,m!==null?m.memoizedProps:S)),b&1024&&(av=!0);break;case 6:if(mr(d,c),gr(c),b&4){if(c.stateNode===null)throw Error(r(162));b=c.memoizedProps,m=c.stateNode;try{m.nodeValue=b}catch(Ne){ft(c,c.return,Ne)}}break;case 3:if(Tp=null,S=Mo,Mo=jp(d.containerInfo),mr(d,c),Mo=S,gr(c),b&4&&m!==null&&m.memoizedState.isDehydrated)try{kc(d.containerInfo)}catch(Ne){ft(c,c.return,Ne)}av&&(av=!1,BA(c));break;case 4:b=Mo,Mo=jp(c.stateNode.containerInfo),mr(d,c),gr(c),Mo=b;break;case 12:mr(d,c),gr(c);break;case 31:mr(d,c),gr(c),b&4&&(b=c.updateQueue,b!==null&&(c.updateQueue=null,fp(c,b)));break;case 13:mr(d,c),gr(c),c.child.flags&8192&&c.memoizedState!==null!=(m!==null&&m.memoizedState!==null)&&(pp=Vn()),b&4&&(b=c.updateQueue,b!==null&&(c.updateQueue=null,fp(c,b)));break;case 22:S=c.memoizedState!==null;var z=m!==null&&m.memoizedState!==null,Y=ki,ae=an;if(ki=Y||S,an=ae||z,mr(d,c),an=ae,ki=Y,gr(c),b&8192)e:for(d=c.stateNode,d._visibility=S?d._visibility&-2:d._visibility|1,S&&(m===null||z||ki||an||Ys(c)),m=null,d=c;;){if(d.tag===5||d.tag===26){if(m===null){z=m=d;try{if(j=z.stateNode,S)M=j.style,typeof M.setProperty=="function"?M.setProperty("display","none","important"):M.display="none";else{_=z.stateNode;var ue=z.memoizedProps.style,Q=ue!=null&&ue.hasOwnProperty("display")?ue.display:null;_.style.display=Q==null||typeof Q=="boolean"?"":(""+Q).trim()}}catch(Ne){ft(z,z.return,Ne)}}}else if(d.tag===6){if(m===null){z=d;try{z.stateNode.nodeValue=S?"":z.memoizedProps}catch(Ne){ft(z,z.return,Ne)}}}else if(d.tag===18){if(m===null){z=d;try{var oe=z.stateNode;S?AT(oe,!0):AT(z.stateNode,!1)}catch(Ne){ft(z,z.return,Ne)}}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===c)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===c)break e;for(;d.sibling===null;){if(d.return===null||d.return===c)break e;m===d&&(m=null),d=d.return}m===d&&(m=null),d.sibling.return=d.return,d=d.sibling}b&4&&(b=c.updateQueue,b!==null&&(m=b.retryQueue,m!==null&&(b.retryQueue=null,fp(c,m))));break;case 19:mr(d,c),gr(c),b&4&&(b=c.updateQueue,b!==null&&(c.updateQueue=null,fp(c,b)));break;case 30:break;case 21:break;default:mr(d,c),gr(c)}}function gr(c){var d=c.flags;if(d&2){try{for(var m,b=c.return;b!==null;){if(kA(b)){m=b;break}b=b.return}if(m==null)throw Error(r(160));switch(m.tag){case 27:var S=m.stateNode,j=ov(c);dp(c,j,S);break;case 5:var M=m.stateNode;m.flags&32&&(Aa(M,""),m.flags&=-33);var _=ov(c);dp(c,_,M);break;case 3:case 4:var z=m.stateNode.containerInfo,Y=ov(c);iv(c,Y,z);break;default:throw Error(r(161))}}catch(ae){ft(c,c.return,ae)}c.flags&=-3}d&4096&&(c.flags&=-4097)}function BA(c){if(c.subtreeFlags&1024)for(c=c.child;c!==null;){var d=c;BA(d),d.tag===5&&d.flags&1024&&d.stateNode.reset(),c=c.sibling}}function Pi(c,d){if(d.subtreeFlags&8772)for(d=d.child;d!==null;)RA(c,d.alternate,d),d=d.sibling}function Ys(c){for(c=c.child;c!==null;){var d=c;switch(d.tag){case 0:case 11:case 14:case 15:Ua(4,d,d.return),Ys(d);break;case 1:Zo(d,d.return);var m=d.stateNode;typeof m.componentWillUnmount=="function"&&AA(d,d.return,m),Ys(d);break;case 27:Ed(d.stateNode);case 26:case 5:Zo(d,d.return),Ys(d);break;case 22:d.memoizedState===null&&Ys(d);break;case 30:Ys(d);break;default:Ys(d)}c=c.sibling}}function Ri(c,d,m){for(m=m&&(d.subtreeFlags&8772)!==0,d=d.child;d!==null;){var b=d.alternate,S=c,j=d,M=j.flags;switch(j.tag){case 0:case 11:case 15:Ri(S,j,m),md(4,j);break;case 1:if(Ri(S,j,m),b=j,S=b.stateNode,typeof S.componentDidMount=="function")try{S.componentDidMount()}catch(Y){ft(b,b.return,Y)}if(b=j,S=b.updateQueue,S!==null){var _=b.stateNode;try{var z=S.shared.hiddenCallbacks;if(z!==null)for(S.shared.hiddenCallbacks=null,S=0;S<z.length;S++)mj(z[S],_)}catch(Y){ft(b,b.return,Y)}}m&&M&64&&jA(j),gd(j,j.return);break;case 27:MA(j);case 26:case 5:Ri(S,j,m),m&&b===null&&M&4&&TA(j),gd(j,j.return);break;case 12:Ri(S,j,m);break;case 31:Ri(S,j,m),m&&M&4&&_A(S,j);break;case 13:Ri(S,j,m),m&&M&4&&OA(S,j);break;case 22:j.memoizedState===null&&Ri(S,j,m),gd(j,j.return);break;case 30:break;default:Ri(S,j,m)}d=d.sibling}}function sv(c,d){var m=null;c!==null&&c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(m=c.memoizedState.cachePool.pool),c=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(c=d.memoizedState.cachePool.pool),c!==m&&(c!=null&&c.refCount++,m!=null&&nd(m))}function lv(c,d){c=null,d.alternate!==null&&(c=d.alternate.memoizedState.cache),d=d.memoizedState.cache,d!==c&&(d.refCount++,c!=null&&nd(c))}function Po(c,d,m,b){if(d.subtreeFlags&10256)for(d=d.child;d!==null;)UA(c,d,m,b),d=d.sibling}function UA(c,d,m,b){var S=d.flags;switch(d.tag){case 0:case 11:case 15:Po(c,d,m,b),S&2048&&md(9,d);break;case 1:Po(c,d,m,b);break;case 3:Po(c,d,m,b),S&2048&&(c=null,d.alternate!==null&&(c=d.alternate.memoizedState.cache),d=d.memoizedState.cache,d!==c&&(d.refCount++,c!=null&&nd(c)));break;case 12:if(S&2048){Po(c,d,m,b),c=d.stateNode;try{var j=d.memoizedProps,M=j.id,_=j.onPostCommit;typeof _=="function"&&_(M,d.alternate===null?"mount":"update",c.passiveEffectDuration,-0)}catch(z){ft(d,d.return,z)}}else Po(c,d,m,b);break;case 31:Po(c,d,m,b);break;case 13:Po(c,d,m,b);break;case 23:break;case 22:j=d.stateNode,M=d.alternate,d.memoizedState!==null?j._visibility&2?Po(c,d,m,b):xd(c,d):j._visibility&2?Po(c,d,m,b):(j._visibility|=2,bc(c,d,m,b,(d.subtreeFlags&10256)!==0||!1)),S&2048&&sv(M,d);break;case 24:Po(c,d,m,b),S&2048&&lv(d.alternate,d);break;default:Po(c,d,m,b)}}function bc(c,d,m,b,S){for(S=S&&((d.subtreeFlags&10256)!==0||!1),d=d.child;d!==null;){var j=c,M=d,_=m,z=b,Y=M.flags;switch(M.tag){case 0:case 11:case 15:bc(j,M,_,z,S),md(8,M);break;case 23:break;case 22:var ae=M.stateNode;M.memoizedState!==null?ae._visibility&2?bc(j,M,_,z,S):xd(j,M):(ae._visibility|=2,bc(j,M,_,z,S)),S&&Y&2048&&sv(M.alternate,M);break;case 24:bc(j,M,_,z,S),S&&Y&2048&&lv(M.alternate,M);break;default:bc(j,M,_,z,S)}d=d.sibling}}function xd(c,d){if(d.subtreeFlags&10256)for(d=d.child;d!==null;){var m=c,b=d,S=b.flags;switch(b.tag){case 22:xd(m,b),S&2048&&sv(b.alternate,b);break;case 24:xd(m,b),S&2048&&lv(b.alternate,b);break;default:xd(m,b)}d=d.sibling}}var bd=8192;function vc(c,d,m){if(c.subtreeFlags&bd)for(c=c.child;c!==null;)zA(c,d,m),c=c.sibling}function zA(c,d,m){switch(c.tag){case 26:vc(c,d,m),c.flags&bd&&c.memoizedState!==null&&L9(m,Mo,c.memoizedState,c.memoizedProps);break;case 5:vc(c,d,m);break;case 3:case 4:var b=Mo;Mo=jp(c.stateNode.containerInfo),vc(c,d,m),Mo=b;break;case 22:c.memoizedState===null&&(b=c.alternate,b!==null&&b.memoizedState!==null?(b=bd,bd=16777216,vc(c,d,m),bd=b):vc(c,d,m));break;default:vc(c,d,m)}}function FA(c){var d=c.alternate;if(d!==null&&(c=d.child,c!==null)){d.child=null;do d=c.sibling,c.sibling=null,c=d;while(c!==null)}}function vd(c){var d=c.deletions;if((c.flags&16)!==0){if(d!==null)for(var m=0;m<d.length;m++){var b=d[m];Cn=b,HA(b,c)}FA(c)}if(c.subtreeFlags&10256)for(c=c.child;c!==null;)qA(c),c=c.sibling}function qA(c){switch(c.tag){case 0:case 11:case 15:vd(c),c.flags&2048&&Ua(9,c,c.return);break;case 3:vd(c);break;case 12:vd(c);break;case 22:var d=c.stateNode;c.memoizedState!==null&&d._visibility&2&&(c.return===null||c.return.tag!==13)?(d._visibility&=-3,hp(c)):vd(c);break;default:vd(c)}}function hp(c){var d=c.deletions;if((c.flags&16)!==0){if(d!==null)for(var m=0;m<d.length;m++){var b=d[m];Cn=b,HA(b,c)}FA(c)}for(c=c.child;c!==null;){switch(d=c,d.tag){case 0:case 11:case 15:Ua(8,d,d.return),hp(d);break;case 22:m=d.stateNode,m._visibility&2&&(m._visibility&=-3,hp(d));break;default:hp(d)}c=c.sibling}}function HA(c,d){for(;Cn!==null;){var m=Cn;switch(m.tag){case 0:case 11:case 15:Ua(8,m,d);break;case 23:case 22:if(m.memoizedState!==null&&m.memoizedState.cachePool!==null){var b=m.memoizedState.cachePool.pool;b!=null&&b.refCount++}break;case 24:nd(m.memoizedState.cache)}if(b=m.child,b!==null)b.return=m,Cn=b;else e:for(m=c;Cn!==null;){b=Cn;var S=b.sibling,j=b.return;if(IA(b),b===m){Cn=null;break e}if(S!==null){S.return=j,Cn=S;break e}Cn=j}}}var Qz={getCacheForType:function(c){var d=_n(nn),m=d.data.get(c);return m===void 0&&(m=c(),d.data.set(c,m)),m},cacheSignal:function(){return _n(nn).controller.signal}},Zz=typeof WeakMap=="function"?WeakMap:Map,at=0,wt=null,Je=null,Xe=0,dt=0,Ir=null,za=!1,yc=!1,cv=!1,Ii=0,Vt=0,Fa=0,Xs=0,uv=0,Dr=0,wc=0,yd=null,xr=null,dv=!1,pp=0,VA=0,mp=1/0,gp=null,qa=null,hn=0,Ha=null,Cc=null,Di=0,fv=0,hv=null,$A=null,wd=0,pv=null;function _r(){return(at&2)!==0&&Xe!==0?Xe&-Xe:U.T!==null?yv():vh()}function GA(){if(Dr===0)if((Xe&536870912)===0||Ze){var c=Jl;Jl<<=1,(Jl&3932160)===0&&(Jl=262144),Dr=c}else Dr=536870912;return c=Pr.current,c!==null&&(c.flags|=32),Dr}function br(c,d,m){(c===wt&&(dt===2||dt===9)||c.cancelPendingCommit!==null)&&(Nc(c,0),Va(c,Xe,Dr,!1)),va(c,m),((at&2)===0||c!==wt)&&(c===wt&&((at&2)===0&&(Xs|=m),Vt===4&&Va(c,Xe,Dr,!1)),ei(c))}function KA(c,d,m){if((at&6)!==0)throw Error(r(327));var b=!m&&(d&127)===0&&(d&c.expiredLanes)===0||Is(c,d),S=b?n9(c,d):gv(c,d,!0),j=b;do{if(S===0){yc&&!b&&Va(c,d,0,!1);break}else{if(m=c.current.alternate,j&&!e9(m)){S=gv(c,d,!1),j=!1;continue}if(S===2){if(j=d,c.errorRecoveryDisabledLanes&j)var M=0;else M=c.pendingLanes&-536870913,M=M!==0?M:M&536870912?536870912:0;if(M!==0){d=M;e:{var _=c;S=yd;var z=_.current.memoizedState.isDehydrated;if(z&&(Nc(_,M).flags|=256),M=gv(_,M,!1),M!==2){if(cv&&!z){_.errorRecoveryDisabledLanes|=j,Xs|=j,S=4;break e}j=xr,xr=S,j!==null&&(xr===null?xr=j:xr.push.apply(xr,j))}S=M}if(j=!1,S!==2)continue}}if(S===1){Nc(c,0),Va(c,d,0,!0);break}e:{switch(b=c,j=S,j){case 0:case 1:throw Error(r(345));case 4:if((d&4194048)!==d)break;case 6:Va(b,d,Dr,!za);break e;case 2:xr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((d&62914560)===d&&(S=pp+300-Vn(),10<S)){if(Va(b,d,Dr,!za),Yl(b,0,!0)!==0)break e;Di=d,b.timeoutHandle=ST(WA.bind(null,b,m,xr,gp,dv,d,Dr,Xs,wc,za,j,"Throttled",-0,0),S);break e}WA(b,m,xr,gp,dv,d,Dr,Xs,wc,za,j,null,-0,0)}}break}while(!0);ei(c)}function WA(c,d,m,b,S,j,M,_,z,Y,ae,ue,Q,oe){if(c.timeoutHandle=-1,ue=d.subtreeFlags,ue&8192||(ue&16785408)===16785408){ue={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:To},zA(d,j,ue);var Ne=(j&62914560)===j?pp-Vn():(j&4194048)===j?VA-Vn():0;if(Ne=B9(ue,Ne),Ne!==null){Di=j,c.cancelPendingCommit=Ne(nT.bind(null,c,d,j,m,b,S,M,_,z,ae,ue,null,Q,oe)),Va(c,j,M,!Y);return}}nT(c,d,j,m,b,S,M,_,z)}function e9(c){for(var d=c;;){var m=d.tag;if((m===0||m===11||m===15)&&d.flags&16384&&(m=d.updateQueue,m!==null&&(m=m.stores,m!==null)))for(var b=0;b<m.length;b++){var S=m[b],j=S.getSnapshot;S=S.value;try{if(!kr(j(),S))return!1}catch{return!1}}if(m=d.child,d.subtreeFlags&16384&&m!==null)m.return=d,d=m;else{if(d===c)break;for(;d.sibling===null;){if(d.return===null||d.return===c)return!0;d=d.return}d.sibling.return=d.return,d=d.sibling}}return!0}function Va(c,d,m,b){d&=~uv,d&=~Xs,c.suspendedLanes|=d,c.pingedLanes&=~d,b&&(c.warmLanes|=d),b=c.expirationTimes;for(var S=d;0<S;){var j=31-ct(S),M=1<<j;b[j]=-1,S&=~M}m!==0&&bh(c,m,d)}function xp(){return(at&6)===0?(Cd(0),!1):!0}function mv(){if(Je!==null){if(dt===0)var c=Je.return;else c=Je,Ni=qs=null,Pb(c),hc=null,od=0,c=Je;for(;c!==null;)EA(c.alternate,c),c=c.return;Je=null}}function Nc(c,d){var m=c.timeoutHandle;m!==-1&&(c.timeoutHandle=-1,y9(m)),m=c.cancelPendingCommit,m!==null&&(c.cancelPendingCommit=null,m()),Di=0,mv(),wt=c,Je=m=wi(c.current,null),Xe=d,dt=0,Ir=null,za=!1,yc=Is(c,d),cv=!1,wc=Dr=uv=Xs=Fa=Vt=0,xr=yd=null,dv=!1,(d&8)!==0&&(d|=d&32);var b=c.entangledLanes;if(b!==0)for(c=c.entanglements,b&=d;0<b;){var S=31-ct(b),j=1<<S;d|=c[S],b&=~j}return Ii=d,Bh(),m}function JA(c,d){Fe=null,U.H=fd,d===fc||d===Gh?(d=dj(),dt=3):d===vb?(d=dj(),dt=4):dt=d===Kb?8:d!==null&&typeof d=="object"&&typeof d.then=="function"?6:1,Ir=d,Je===null&&(Vt=1,ap(c,Xr(d,c.current)))}function YA(){var c=Pr.current;return c===null?!0:(Xe&4194048)===Xe?to===null:(Xe&62914560)===Xe||(Xe&536870912)!==0?c===to:!1}function XA(){var c=U.H;return U.H=fd,c===null?fd:c}function QA(){var c=U.A;return U.A=Qz,c}function bp(){Vt=4,za||(Xe&4194048)!==Xe&&Pr.current!==null||(yc=!0),(Fa&134217727)===0&&(Xs&134217727)===0||wt===null||Va(wt,Xe,Dr,!1)}function gv(c,d,m){var b=at;at|=2;var S=XA(),j=QA();(wt!==c||Xe!==d)&&(gp=null,Nc(c,d)),d=!1;var M=Vt;e:do try{if(dt!==0&&Je!==null){var _=Je,z=Ir;switch(dt){case 8:mv(),M=6;break e;case 3:case 2:case 9:case 6:Pr.current===null&&(d=!0);var Y=dt;if(dt=0,Ir=null,Sc(c,_,z,Y),m&&yc){M=0;break e}break;default:Y=dt,dt=0,Ir=null,Sc(c,_,z,Y)}}t9(),M=Vt;break}catch(ae){JA(c,ae)}while(!0);return d&&c.shellSuspendCounter++,Ni=qs=null,at=b,U.H=S,U.A=j,Je===null&&(wt=null,Xe=0,Bh()),M}function t9(){for(;Je!==null;)ZA(Je)}function n9(c,d){var m=at;at|=2;var b=XA(),S=QA();wt!==c||Xe!==d?(gp=null,mp=Vn()+500,Nc(c,d)):yc=Is(c,d);e:do try{if(dt!==0&&Je!==null){d=Je;var j=Ir;t:switch(dt){case 1:dt=0,Ir=null,Sc(c,d,j,1);break;case 2:case 9:if(cj(j)){dt=0,Ir=null,eT(d);break}d=function(){dt!==2&&dt!==9||wt!==c||(dt=7),ei(c)},j.then(d,d);break e;case 3:dt=7;break e;case 4:dt=5;break e;case 7:cj(j)?(dt=0,Ir=null,eT(d)):(dt=0,Ir=null,Sc(c,d,j,7));break;case 5:var M=null;switch(Je.tag){case 26:M=Je.memoizedState;case 5:case 27:var _=Je;if(M?UT(M):_.stateNode.complete){dt=0,Ir=null;var z=_.sibling;if(z!==null)Je=z;else{var Y=_.return;Y!==null?(Je=Y,vp(Y)):Je=null}break t}}dt=0,Ir=null,Sc(c,d,j,5);break;case 6:dt=0,Ir=null,Sc(c,d,j,6);break;case 8:mv(),Vt=6;break e;default:throw Error(r(462))}}r9();break}catch(ae){JA(c,ae)}while(!0);return Ni=qs=null,U.H=b,U.A=S,at=m,Je!==null?0:(wt=null,Xe=0,Bh(),Vt)}function r9(){for(;Je!==null&&!Gl();)ZA(Je)}function ZA(c){var d=NA(c.alternate,c,Ii);c.memoizedProps=c.pendingProps,d===null?vp(c):Je=d}function eT(c){var d=c,m=d.alternate;switch(d.tag){case 15:case 0:d=xA(m,d,d.pendingProps,d.type,void 0,Xe);break;case 11:d=xA(m,d,d.pendingProps,d.type.render,d.ref,Xe);break;case 5:Pb(d);default:EA(m,d),d=Je=QE(d,Ii),d=NA(m,d,Ii)}c.memoizedProps=c.pendingProps,d===null?vp(c):Je=d}function Sc(c,d,m,b){Ni=qs=null,Pb(d),hc=null,od=0;var S=d.return;try{if($z(c,S,d,m,Xe)){Vt=1,ap(c,Xr(m,c.current)),Je=null;return}}catch(j){if(S!==null)throw Je=S,j;Vt=1,ap(c,Xr(m,c.current)),Je=null;return}d.flags&32768?(Ze||b===1?c=!0:yc||(Xe&536870912)!==0?c=!1:(za=c=!0,(b===2||b===9||b===3||b===6)&&(b=Pr.current,b!==null&&b.tag===13&&(b.flags|=16384))),tT(d,c)):vp(d)}function vp(c){var d=c;do{if((d.flags&32768)!==0){tT(d,za);return}c=d.return;var m=Wz(d.alternate,d,Ii);if(m!==null){Je=m;return}if(d=d.sibling,d!==null){Je=d;return}Je=d=c}while(d!==null);Vt===0&&(Vt=5)}function tT(c,d){do{var m=Jz(c.alternate,c);if(m!==null){m.flags&=32767,Je=m;return}if(m=c.return,m!==null&&(m.flags|=32768,m.subtreeFlags=0,m.deletions=null),!d&&(c=c.sibling,c!==null)){Je=c;return}Je=c=m}while(c!==null);Vt=6,Je=null}function nT(c,d,m,b,S,j,M,_,z){c.cancelPendingCommit=null;do yp();while(hn!==0);if((at&6)!==0)throw Error(r(327));if(d!==null){if(d===c.current)throw Error(r(177));if(j=d.lanes|d.childLanes,j|=ob,L0(c,m,j,M,_,z),c===wt&&(Je=wt=null,Xe=0),Cc=d,Ha=c,Di=m,fv=j,hv=S,$A=b,(d.subtreeFlags&10256)!==0||(d.flags&10256)!==0?(c.callbackNode=null,c.callbackPriority=0,s9(mi,function(){return sT(),null})):(c.callbackNode=null,c.callbackPriority=0),b=(d.flags&13878)!==0,(d.subtreeFlags&13878)!==0||b){b=U.T,U.T=null,S=V.p,V.p=2,M=at,at|=4;try{Yz(c,d,m)}finally{at=M,V.p=S,U.T=b}}hn=1,rT(),oT(),iT()}}function rT(){if(hn===1){hn=0;var c=Ha,d=Cc,m=(d.flags&13878)!==0;if((d.subtreeFlags&13878)!==0||m){m=U.T,U.T=null;var b=V.p;V.p=2;var S=at;at|=4;try{LA(d,c);var j=Tv,M=HE(c.containerInfo),_=j.focusedElem,z=j.selectionRange;if(M!==_&&_&&_.ownerDocument&&qE(_.ownerDocument.documentElement,_)){if(z!==null&&Z0(_)){var Y=z.start,ae=z.end;if(ae===void 0&&(ae=Y),"selectionStart"in _)_.selectionStart=Y,_.selectionEnd=Math.min(ae,_.value.length);else{var ue=_.ownerDocument||document,Q=ue&&ue.defaultView||window;if(Q.getSelection){var oe=Q.getSelection(),Ne=_.textContent.length,_e=Math.min(z.start,Ne),xt=z.end===void 0?_e:Math.min(z.end,Ne);!oe.extend&&_e>xt&&(M=xt,xt=_e,_e=M);var G=FE(_,_e),H=FE(_,xt);if(G&&H&&(oe.rangeCount!==1||oe.anchorNode!==G.node||oe.anchorOffset!==G.offset||oe.focusNode!==H.node||oe.focusOffset!==H.offset)){var J=ue.createRange();J.setStart(G.node,G.offset),oe.removeAllRanges(),_e>xt?(oe.addRange(J),oe.extend(H.node,H.offset)):(J.setEnd(H.node,H.offset),oe.addRange(J))}}}}for(ue=[],oe=_;oe=oe.parentNode;)oe.nodeType===1&&ue.push({element:oe,left:oe.scrollLeft,top:oe.scrollTop});for(typeof _.focus=="function"&&_.focus(),_=0;_<ue.length;_++){var ce=ue[_];ce.element.scrollLeft=ce.left,ce.element.scrollTop=ce.top}}Rp=!!Av,Tv=Av=null}finally{at=S,V.p=b,U.T=m}}c.current=d,hn=2}}function oT(){if(hn===2){hn=0;var c=Ha,d=Cc,m=(d.flags&8772)!==0;if((d.subtreeFlags&8772)!==0||m){m=U.T,U.T=null;var b=V.p;V.p=2;var S=at;at|=4;try{RA(c,d.alternate,d)}finally{at=S,V.p=b,U.T=m}}hn=3}}function iT(){if(hn===4||hn===3){hn=0,Ps();var c=Ha,d=Cc,m=Di,b=$A;(d.subtreeFlags&10256)!==0||(d.flags&10256)!==0?hn=5:(hn=0,Cc=Ha=null,aT(c,c.pendingLanes));var S=c.pendingLanes;if(S===0&&(qa=null),xi(m),d=d.stateNode,it&&typeof it.onCommitFiberRoot=="function")try{it.onCommitFiberRoot(lt,d,void 0,(d.current.flags&128)===128)}catch{}if(b!==null){d=U.T,S=V.p,V.p=2,U.T=null;try{for(var j=c.onRecoverableError,M=0;M<b.length;M++){var _=b[M];j(_.value,{componentStack:_.stack})}}finally{U.T=d,V.p=S}}(Di&3)!==0&&yp(),ei(c),S=c.pendingLanes,(m&261930)!==0&&(S&42)!==0?c===pv?wd++:(wd=0,pv=c):wd=0,Cd(0)}}function aT(c,d){(c.pooledCacheLanes&=d)===0&&(d=c.pooledCache,d!=null&&(c.pooledCache=null,nd(d)))}function yp(){return rT(),oT(),iT(),sT()}function sT(){if(hn!==5)return!1;var c=Ha,d=fv;fv=0;var m=xi(Di),b=U.T,S=V.p;try{V.p=32>m?32:m,U.T=null,m=hv,hv=null;var j=Ha,M=Di;if(hn=0,Cc=Ha=null,Di=0,(at&6)!==0)throw Error(r(331));var _=at;if(at|=4,qA(j.current),UA(j,j.current,M,m),at=_,Cd(0,!1),it&&typeof it.onPostCommitFiberRoot=="function")try{it.onPostCommitFiberRoot(lt,j)}catch{}return!0}finally{V.p=S,U.T=b,aT(c,d)}}function lT(c,d,m){d=Xr(m,d),d=Gb(c.stateNode,d,2),c=Oa(c,d,2),c!==null&&(va(c,2),ei(c))}function ft(c,d,m){if(c.tag===3)lT(c,c,m);else for(;d!==null;){if(d.tag===3){lT(d,c,m);break}else if(d.tag===1){var b=d.stateNode;if(typeof d.type.getDerivedStateFromError=="function"||typeof b.componentDidCatch=="function"&&(qa===null||!qa.has(b))){c=Xr(m,c),m=cA(2),b=Oa(d,m,2),b!==null&&(uA(m,b,d,c),va(b,2),ei(b));break}}d=d.return}}function xv(c,d,m){var b=c.pingCache;if(b===null){b=c.pingCache=new Zz;var S=new Set;b.set(d,S)}else S=b.get(d),S===void 0&&(S=new Set,b.set(d,S));S.has(m)||(cv=!0,S.add(m),c=o9.bind(null,c,d,m),d.then(c,c))}function o9(c,d,m){var b=c.pingCache;b!==null&&b.delete(d),c.pingedLanes|=c.suspendedLanes&m,c.warmLanes&=~m,wt===c&&(Xe&m)===m&&(Vt===4||Vt===3&&(Xe&62914560)===Xe&&300>Vn()-pp?(at&2)===0&&Nc(c,0):uv|=m,wc===Xe&&(wc=0)),ei(c)}function cT(c,d){d===0&&(d=Lu()),c=Us(c,d),c!==null&&(va(c,d),ei(c))}function i9(c){var d=c.memoizedState,m=0;d!==null&&(m=d.retryLane),cT(c,m)}function a9(c,d){var m=0;switch(c.tag){case 31:case 13:var b=c.stateNode,S=c.memoizedState;S!==null&&(m=S.retryLane);break;case 19:b=c.stateNode;break;case 22:b=c.stateNode._retryCache;break;default:throw Error(r(314))}b!==null&&b.delete(d),cT(c,m)}function s9(c,d){return Go(c,d)}var wp=null,Ec=null,bv=!1,Cp=!1,vv=!1,$a=0;function ei(c){c!==Ec&&c.next===null&&(Ec===null?wp=Ec=c:Ec=Ec.next=c),Cp=!0,bv||(bv=!0,c9())}function Cd(c,d){if(!vv&&Cp){vv=!0;do for(var m=!1,b=wp;b!==null;){if(c!==0){var S=b.pendingLanes;if(S===0)var j=0;else{var M=b.suspendedLanes,_=b.pingedLanes;j=(1<<31-ct(42|c)+1)-1,j&=S&~(M&~_),j=j&201326741?j&201326741|1:j?j|2:0}j!==0&&(m=!0,hT(b,j))}else j=Xe,j=Yl(b,b===wt?j:0,b.cancelPendingCommit!==null||b.timeoutHandle!==-1),(j&3)===0||Is(b,j)||(m=!0,hT(b,j));b=b.next}while(m);vv=!1}}function l9(){uT()}function uT(){Cp=bv=!1;var c=0;$a!==0&&v9()&&(c=$a);for(var d=Vn(),m=null,b=wp;b!==null;){var S=b.next,j=dT(b,d);j===0?(b.next=null,m===null?wp=S:m.next=S,S===null&&(Ec=m)):(m=b,(c!==0||(j&3)!==0)&&(Cp=!0)),b=S}hn!==0&&hn!==5||Cd(c),$a!==0&&($a=0)}function dT(c,d){for(var m=c.suspendedLanes,b=c.pingedLanes,S=c.expirationTimes,j=c.pendingLanes&-62914561;0<j;){var M=31-ct(j),_=1<<M,z=S[M];z===-1?((_&m)===0||(_&b)!==0)&&(S[M]=CE(_,d)):z<=d&&(c.expiredLanes|=_),j&=~_}if(d=wt,m=Xe,m=Yl(c,c===d?m:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),b=c.callbackNode,m===0||c===d&&(dt===2||dt===9)||c.cancelPendingCommit!==null)return b!==null&&b!==null&&Rn(b),c.callbackNode=null,c.callbackPriority=0;if((m&3)===0||Is(c,m)){if(d=m&-m,d===c.callbackPriority)return d;switch(b!==null&&Rn(b),xi(m)){case 2:case 8:m=Wl;break;case 32:m=mi;break;case 268435456:m=Ee;break;default:m=mi}return b=fT.bind(null,c),m=Go(m,b),c.callbackPriority=d,c.callbackNode=m,d}return b!==null&&b!==null&&Rn(b),c.callbackPriority=2,c.callbackNode=null,2}function fT(c,d){if(hn!==0&&hn!==5)return c.callbackNode=null,c.callbackPriority=0,null;var m=c.callbackNode;if(yp()&&c.callbackNode!==m)return null;var b=Xe;return b=Yl(c,c===wt?b:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),b===0?null:(KA(c,b,d),dT(c,Vn()),c.callbackNode!=null&&c.callbackNode===m?fT.bind(null,c):null)}function hT(c,d){if(yp())return null;KA(c,d,!0)}function c9(){w9(function(){(at&6)!==0?Go(ba,l9):uT()})}function yv(){if($a===0){var c=uc;c===0&&(c=Rs,Rs<<=1,(Rs&261888)===0&&(Rs=256)),$a=c}return $a}function pT(c){return c==null||typeof c=="symbol"||typeof c=="boolean"?null:typeof c=="function"?c:ec(""+c)}function mT(c,d){var m=d.ownerDocument.createElement("input");return m.name=d.name,m.value=d.value,c.id&&m.setAttribute("form",c.id),d.parentNode.insertBefore(m,d),c=new FormData(c),m.parentNode.removeChild(m),c}function u9(c,d,m,b,S){if(d==="submit"&&m&&m.stateNode===S){var j=pT((S[$n]||null).action),M=b.submitter;M&&(d=(d=M[$n]||null)?pT(d.formAction):M.getAttribute("formAction"),d!==null&&(j=d,M=null));var _=new Dh("action","action",null,b,S);c.push({event:_,listeners:[{instance:null,listener:function(){if(b.defaultPrevented){if($a!==0){var z=M?mT(S,M):new FormData(S);zb(m,{pending:!0,data:z,method:S.method,action:j},null,z)}}else typeof j=="function"&&(_.preventDefault(),z=M?mT(S,M):new FormData(S),zb(m,{pending:!0,data:z,method:S.method,action:j},j,z))},currentTarget:S}]})}}for(var wv=0;wv<rb.length;wv++){var Cv=rb[wv],d9=Cv.toLowerCase(),f9=Cv[0].toUpperCase()+Cv.slice(1);ko(d9,"on"+f9)}ko(GE,"onAnimationEnd"),ko(KE,"onAnimationIteration"),ko(WE,"onAnimationStart"),ko("dblclick","onDoubleClick"),ko("focusin","onFocus"),ko("focusout","onBlur"),ko(Tz,"onTransitionRun"),ko(kz,"onTransitionStart"),ko(Mz,"onTransitionCancel"),ko(JE,"onTransitionEnd"),Ea("onMouseEnter",["mouseout","mouseover"]),Ea("onMouseLeave",["mouseout","mouseover"]),Ea("onPointerEnter",["pointerout","pointerover"]),Ea("onPointerLeave",["pointerout","pointerover"]),yi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),yi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),yi("onBeforeInput",["compositionend","keypress","textInput","paste"]),yi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),yi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),yi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),h9=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Nd));function gT(c,d){d=(d&4)!==0;for(var m=0;m<c.length;m++){var b=c[m],S=b.event;b=b.listeners;e:{var j=void 0;if(d)for(var M=b.length-1;0<=M;M--){var _=b[M],z=_.instance,Y=_.currentTarget;if(_=_.listener,z!==j&&S.isPropagationStopped())break e;j=_,S.currentTarget=Y;try{j(S)}catch(ae){Lh(ae)}S.currentTarget=null,j=z}else for(M=0;M<b.length;M++){if(_=b[M],z=_.instance,Y=_.currentTarget,_=_.listener,z!==j&&S.isPropagationStopped())break e;j=_,S.currentTarget=Y;try{j(S)}catch(ae){Lh(ae)}S.currentTarget=null,j=z}}}}function Ye(c,d){var m=d[ya];m===void 0&&(m=d[ya]=new Set);var b=c+"__bubble";m.has(b)||(xT(d,c,2,!1),m.add(b))}function Nv(c,d,m){var b=0;d&&(b|=4),xT(m,c,b,d)}var Np="_reactListening"+Math.random().toString(36).slice(2);function Sv(c){if(!c[Np]){c[Np]=!0,Wo.forEach(function(m){m!=="selectionchange"&&(h9.has(m)||Nv(m,!1,c),Nv(m,!0,c))});var d=c.nodeType===9?c:c.ownerDocument;d===null||d[Np]||(d[Np]=!0,Nv("selectionchange",!1,d))}}function xT(c,d,m,b){switch(GT(d)){case 2:var S=F9;break;case 8:S=q9;break;default:S=Uv}m=S.bind(null,d,m,c),S=void 0,!Ta||d!=="touchstart"&&d!=="touchmove"&&d!=="wheel"||(S=!0),b?S!==void 0?c.addEventListener(d,m,{capture:!0,passive:S}):c.addEventListener(d,m,!0):S!==void 0?c.addEventListener(d,m,{passive:S}):c.addEventListener(d,m,!1)}function Ev(c,d,m,b,S){var j=b;if((d&1)===0&&(d&2)===0&&b!==null)e:for(;;){if(b===null)return;var M=b.tag;if(M===3||M===4){var _=b.stateNode.containerInfo;if(_===S)break;if(M===4)for(M=b.return;M!==null;){var z=M.tag;if((z===3||z===4)&&M.stateNode.containerInfo===S)return;M=M.return}for(;_!==null;){if(M=Ca(_),M===null)return;if(z=M.tag,z===5||z===6||z===26||z===27){b=j=M;continue e}_=_.parentNode}}b=b.return}Jr(function(){var Y=j,ae=se(m),ue=[];e:{var Q=YE.get(c);if(Q!==void 0){var oe=Dh,Ne=c;switch(c){case"keypress":if(Rh(m)===0)break e;case"keydown":case"keyup":oe=az;break;case"focusin":Ne="focus",oe=W0;break;case"focusout":Ne="blur",oe=W0;break;case"beforeblur":case"afterblur":oe=W0;break;case"click":if(m.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":oe=EE;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":oe=WU;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":oe=cz;break;case GE:case KE:case WE:oe=XU;break;case JE:oe=dz;break;case"scroll":case"scrollend":oe=GU;break;case"wheel":oe=hz;break;case"copy":case"cut":case"paste":oe=ZU;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":oe=AE;break;case"toggle":case"beforetoggle":oe=mz}var _e=(d&4)!==0,xt=!_e&&(c==="scroll"||c==="scrollend"),G=_e?Q!==null?Q+"Capture":null:Q;_e=[];for(var H=Y,J;H!==null;){var ce=H;if(J=ce.stateNode,ce=ce.tag,ce!==5&&ce!==26&&ce!==27||J===null||G===null||(ce=Yo(H,G),ce!=null&&_e.push(Sd(H,ce,J))),xt)break;H=H.return}0<_e.length&&(Q=new oe(Q,Ne,null,m,ae),ue.push({event:Q,listeners:_e}))}}if((d&7)===0){e:{if(Q=c==="mouseover"||c==="pointerover",oe=c==="mouseout"||c==="pointerout",Q&&m!==ne&&(Ne=m.relatedTarget||m.fromElement)&&(Ca(Ne)||Ne[fn]))break e;if((oe||Q)&&(Q=ae.window===ae?ae:(Q=ae.ownerDocument)?Q.defaultView||Q.parentWindow:window,oe?(Ne=m.relatedTarget||m.toElement,oe=Y,Ne=Ne?Ca(Ne):null,Ne!==null&&(xt=i(Ne),_e=Ne.tag,Ne!==xt||_e!==5&&_e!==27&&_e!==6)&&(Ne=null)):(oe=null,Ne=Y),oe!==Ne)){if(_e=EE,ce="onMouseLeave",G="onMouseEnter",H="mouse",(c==="pointerout"||c==="pointerover")&&(_e=AE,ce="onPointerLeave",G="onPointerEnter",H="pointer"),xt=oe==null?Q:Na(oe),J=Ne==null?Q:Na(Ne),Q=new _e(ce,H+"leave",oe,m,ae),Q.target=xt,Q.relatedTarget=J,ce=null,Ca(ae)===Y&&(_e=new _e(G,H+"enter",Ne,m,ae),_e.target=J,_e.relatedTarget=xt,ce=_e),xt=ce,oe&&Ne)t:{for(_e=p9,G=oe,H=Ne,J=0,ce=G;ce;ce=_e(ce))J++;ce=0;for(var ke=H;ke;ke=_e(ke))ce++;for(;0<J-ce;)G=_e(G),J--;for(;0<ce-J;)H=_e(H),ce--;for(;J--;){if(G===H||H!==null&&G===H.alternate){_e=G;break t}G=_e(G),H=_e(H)}_e=null}else _e=null;oe!==null&&bT(ue,Q,oe,_e,!1),Ne!==null&&xt!==null&&bT(ue,xt,Ne,_e,!0)}}e:{if(Q=Y?Na(Y):window,oe=Q.nodeName&&Q.nodeName.toLowerCase(),oe==="select"||oe==="input"&&Q.type==="file")var tt=_E;else if(IE(Q))if(OE)tt=Ez;else{tt=Nz;var Se=Cz}else oe=Q.nodeName,!oe||oe.toLowerCase()!=="input"||Q.type!=="checkbox"&&Q.type!=="radio"?Y&&$u(Y.elementType)&&(tt=_E):tt=Sz;if(tt&&(tt=tt(c,Y))){DE(ue,tt,m,ae);break e}Se&&Se(c,Q,Y),c==="focusout"&&Y&&Q.type==="number"&&Y.memoizedProps.value!=null&&Vu(Q,"number",Q.value)}switch(Se=Y?Na(Y):window,c){case"focusin":(IE(Se)||Se.contentEditable==="true")&&(nc=Se,eb=Y,Zu=null);break;case"focusout":Zu=eb=nc=null;break;case"mousedown":tb=!0;break;case"contextmenu":case"mouseup":case"dragend":tb=!1,VE(ue,m,ae);break;case"selectionchange":if(Az)break;case"keydown":case"keyup":VE(ue,m,ae)}var He;if(Y0)e:{switch(c){case"compositionstart":var Qe="onCompositionStart";break e;case"compositionend":Qe="onCompositionEnd";break e;case"compositionupdate":Qe="onCompositionUpdate";break e}Qe=void 0}else tc?PE(c,m)&&(Qe="onCompositionEnd"):c==="keydown"&&m.keyCode===229&&(Qe="onCompositionStart");Qe&&(TE&&m.locale!=="ko"&&(tc||Qe!=="onCompositionStart"?Qe==="onCompositionEnd"&&tc&&(He=NE()):(ka=ae,$0="value"in ka?ka.value:ka.textContent,tc=!0)),Se=Sp(Y,Qe),0<Se.length&&(Qe=new jE(Qe,c,null,m,ae),ue.push({event:Qe,listeners:Se}),He?Qe.data=He:(He=RE(m),He!==null&&(Qe.data=He)))),(He=xz?bz(c,m):vz(c,m))&&(Qe=Sp(Y,"onBeforeInput"),0<Qe.length&&(Se=new jE("onBeforeInput","beforeinput",null,m,ae),ue.push({event:Se,listeners:Qe}),Se.data=He)),u9(ue,c,Y,m,ae)}gT(ue,d)})}function Sd(c,d,m){return{instance:c,listener:d,currentTarget:m}}function Sp(c,d){for(var m=d+"Capture",b=[];c!==null;){var S=c,j=S.stateNode;if(S=S.tag,S!==5&&S!==26&&S!==27||j===null||(S=Yo(c,m),S!=null&&b.unshift(Sd(c,S,j)),S=Yo(c,d),S!=null&&b.push(Sd(c,S,j))),c.tag===3)return b;c=c.return}return[]}function p9(c){if(c===null)return null;do c=c.return;while(c&&c.tag!==5&&c.tag!==27);return c||null}function bT(c,d,m,b,S){for(var j=d._reactName,M=[];m!==null&&m!==b;){var _=m,z=_.alternate,Y=_.stateNode;if(_=_.tag,z!==null&&z===b)break;_!==5&&_!==26&&_!==27||Y===null||(z=Y,S?(Y=Yo(m,j),Y!=null&&M.unshift(Sd(m,Y,z))):S||(Y=Yo(m,j),Y!=null&&M.push(Sd(m,Y,z)))),m=m.return}M.length!==0&&c.push({event:d,listeners:M})}var m9=/\r\n?/g,g9=/\u0000|\uFFFD/g;function vT(c){return(typeof c=="string"?c:""+c).replace(m9,`
`).replace(g9,"")}function yT(c,d){return d=vT(d),vT(c)===d}function gt(c,d,m,b,S,j){switch(m){case"children":typeof b=="string"?d==="body"||d==="textarea"&&b===""||Aa(c,b):(typeof b=="number"||typeof b=="bigint")&&d!=="body"&&Aa(c,""+b);break;case"className":Ql(c,"class",b);break;case"tabIndex":Ql(c,"tabindex",b);break;case"dir":case"role":case"viewBox":case"width":case"height":Ql(c,m,b);break;case"style":Mh(c,b,j);break;case"data":if(d!=="object"){Ql(c,"data",b);break}case"src":case"href":if(b===""&&(d!=="a"||m!=="href")){c.removeAttribute(m);break}if(b==null||typeof b=="function"||typeof b=="symbol"||typeof b=="boolean"){c.removeAttribute(m);break}b=ec(""+b),c.setAttribute(m,b);break;case"action":case"formAction":if(typeof b=="function"){c.setAttribute(m,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof j=="function"&&(m==="formAction"?(d!=="input"&&gt(c,d,"name",S.name,S,null),gt(c,d,"formEncType",S.formEncType,S,null),gt(c,d,"formMethod",S.formMethod,S,null),gt(c,d,"formTarget",S.formTarget,S,null)):(gt(c,d,"encType",S.encType,S,null),gt(c,d,"method",S.method,S,null),gt(c,d,"target",S.target,S,null)));if(b==null||typeof b=="symbol"||typeof b=="boolean"){c.removeAttribute(m);break}b=ec(""+b),c.setAttribute(m,b);break;case"onClick":b!=null&&(c.onclick=To);break;case"onScroll":b!=null&&Ye("scroll",c);break;case"onScrollEnd":b!=null&&Ye("scrollend",c);break;case"dangerouslySetInnerHTML":if(b!=null){if(typeof b!="object"||!("__html"in b))throw Error(r(61));if(m=b.__html,m!=null){if(S.children!=null)throw Error(r(60));c.innerHTML=m}}break;case"multiple":c.multiple=b&&typeof b!="function"&&typeof b!="symbol";break;case"muted":c.muted=b&&typeof b!="function"&&typeof b!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(b==null||typeof b=="function"||typeof b=="boolean"||typeof b=="symbol"){c.removeAttribute("xlink:href");break}m=ec(""+b),c.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",m);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":b!=null&&typeof b!="function"&&typeof b!="symbol"?c.setAttribute(m,""+b):c.removeAttribute(m);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":b&&typeof b!="function"&&typeof b!="symbol"?c.setAttribute(m,""):c.removeAttribute(m);break;case"capture":case"download":b===!0?c.setAttribute(m,""):b!==!1&&b!=null&&typeof b!="function"&&typeof b!="symbol"?c.setAttribute(m,b):c.removeAttribute(m);break;case"cols":case"rows":case"size":case"span":b!=null&&typeof b!="function"&&typeof b!="symbol"&&!isNaN(b)&&1<=b?c.setAttribute(m,b):c.removeAttribute(m);break;case"rowSpan":case"start":b==null||typeof b=="function"||typeof b=="symbol"||isNaN(b)?c.removeAttribute(m):c.setAttribute(m,b);break;case"popover":Ye("beforetoggle",c),Ye("toggle",c),Xl(c,"popover",b);break;case"xlinkActuate":Ao(c,"http://www.w3.org/1999/xlink","xlink:actuate",b);break;case"xlinkArcrole":Ao(c,"http://www.w3.org/1999/xlink","xlink:arcrole",b);break;case"xlinkRole":Ao(c,"http://www.w3.org/1999/xlink","xlink:role",b);break;case"xlinkShow":Ao(c,"http://www.w3.org/1999/xlink","xlink:show",b);break;case"xlinkTitle":Ao(c,"http://www.w3.org/1999/xlink","xlink:title",b);break;case"xlinkType":Ao(c,"http://www.w3.org/1999/xlink","xlink:type",b);break;case"xmlBase":Ao(c,"http://www.w3.org/XML/1998/namespace","xml:base",b);break;case"xmlLang":Ao(c,"http://www.w3.org/XML/1998/namespace","xml:lang",b);break;case"xmlSpace":Ao(c,"http://www.w3.org/XML/1998/namespace","xml:space",b);break;case"is":Xl(c,"is",b);break;case"innerText":case"textContent":break;default:(!(2<m.length)||m[0]!=="o"&&m[0]!=="O"||m[1]!=="n"&&m[1]!=="N")&&(m=_s.get(m)||m,Xl(c,m,b))}}function jv(c,d,m,b,S,j){switch(m){case"style":Mh(c,b,j);break;case"dangerouslySetInnerHTML":if(b!=null){if(typeof b!="object"||!("__html"in b))throw Error(r(61));if(m=b.__html,m!=null){if(S.children!=null)throw Error(r(60));c.innerHTML=m}}break;case"children":typeof b=="string"?Aa(c,b):(typeof b=="number"||typeof b=="bigint")&&Aa(c,""+b);break;case"onScroll":b!=null&&Ye("scroll",c);break;case"onScrollEnd":b!=null&&Ye("scrollend",c);break;case"onClick":b!=null&&(c.onclick=To);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ge.hasOwnProperty(m))e:{if(m[0]==="o"&&m[1]==="n"&&(S=m.endsWith("Capture"),d=m.slice(2,S?m.length-7:void 0),j=c[$n]||null,j=j!=null?j[m]:null,typeof j=="function"&&c.removeEventListener(d,j,S),typeof b=="function")){typeof j!="function"&&j!==null&&(m in c?c[m]=null:c.hasAttribute(m)&&c.removeAttribute(m)),c.addEventListener(d,b,S);break e}m in c?c[m]=b:b===!0?c.setAttribute(m,""):Xl(c,m,b)}}}function Ln(c,d,m){switch(d){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ye("error",c),Ye("load",c);var b=!1,S=!1,j;for(j in m)if(m.hasOwnProperty(j)){var M=m[j];if(M!=null)switch(j){case"src":b=!0;break;case"srcSet":S=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,d));default:gt(c,d,j,M,m,null)}}S&&gt(c,d,"srcSet",m.srcSet,m,null),b&&gt(c,d,"src",m.src,m,null);return;case"input":Ye("invalid",c);var _=j=M=S=null,z=null,Y=null;for(b in m)if(m.hasOwnProperty(b)){var ae=m[b];if(ae!=null)switch(b){case"name":S=ae;break;case"type":M=ae;break;case"checked":z=ae;break;case"defaultChecked":Y=ae;break;case"value":j=ae;break;case"defaultValue":_=ae;break;case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(r(137,d));break;default:gt(c,d,b,ae,m,null)}}jh(c,j,_,z,Y,M,S,!1);return;case"select":Ye("invalid",c),b=M=j=null;for(S in m)if(m.hasOwnProperty(S)&&(_=m[S],_!=null))switch(S){case"value":j=_;break;case"defaultValue":M=_;break;case"multiple":b=_;default:gt(c,d,S,_,m,null)}d=j,m=M,c.multiple=!!b,d!=null?ja(c,!!b,d,!1):m!=null&&ja(c,!!b,m,!0);return;case"textarea":Ye("invalid",c),j=S=b=null;for(M in m)if(m.hasOwnProperty(M)&&(_=m[M],_!=null))switch(M){case"value":b=_;break;case"defaultValue":S=_;break;case"children":j=_;break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(r(91));break;default:gt(c,d,M,_,m,null)}Th(c,b,S,j);return;case"option":for(z in m)if(m.hasOwnProperty(z)&&(b=m[z],b!=null))switch(z){case"selected":c.selected=b&&typeof b!="function"&&typeof b!="symbol";break;default:gt(c,d,z,b,m,null)}return;case"dialog":Ye("beforetoggle",c),Ye("toggle",c),Ye("cancel",c),Ye("close",c);break;case"iframe":case"object":Ye("load",c);break;case"video":case"audio":for(b=0;b<Nd.length;b++)Ye(Nd[b],c);break;case"image":Ye("error",c),Ye("load",c);break;case"details":Ye("toggle",c);break;case"embed":case"source":case"link":Ye("error",c),Ye("load",c);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Y in m)if(m.hasOwnProperty(Y)&&(b=m[Y],b!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,d));default:gt(c,d,Y,b,m,null)}return;default:if($u(d)){for(ae in m)m.hasOwnProperty(ae)&&(b=m[ae],b!==void 0&&jv(c,d,ae,b,m,void 0));return}}for(_ in m)m.hasOwnProperty(_)&&(b=m[_],b!=null&&gt(c,d,_,b,m,null))}function x9(c,d,m,b){switch(d){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var S=null,j=null,M=null,_=null,z=null,Y=null,ae=null;for(oe in m){var ue=m[oe];if(m.hasOwnProperty(oe)&&ue!=null)switch(oe){case"checked":break;case"value":break;case"defaultValue":z=ue;default:b.hasOwnProperty(oe)||gt(c,d,oe,null,b,ue)}}for(var Q in b){var oe=b[Q];if(ue=m[Q],b.hasOwnProperty(Q)&&(oe!=null||ue!=null))switch(Q){case"type":j=oe;break;case"name":S=oe;break;case"checked":Y=oe;break;case"defaultChecked":ae=oe;break;case"value":M=oe;break;case"defaultValue":_=oe;break;case"children":case"dangerouslySetInnerHTML":if(oe!=null)throw Error(r(137,d));break;default:oe!==ue&&gt(c,d,Q,oe,b,ue)}}Hu(c,M,_,z,Y,ae,j,S);return;case"select":oe=M=_=Q=null;for(j in m)if(z=m[j],m.hasOwnProperty(j)&&z!=null)switch(j){case"value":break;case"multiple":oe=z;default:b.hasOwnProperty(j)||gt(c,d,j,null,b,z)}for(S in b)if(j=b[S],z=m[S],b.hasOwnProperty(S)&&(j!=null||z!=null))switch(S){case"value":Q=j;break;case"defaultValue":_=j;break;case"multiple":M=j;default:j!==z&&gt(c,d,S,j,b,z)}d=_,m=M,b=oe,Q!=null?ja(c,!!m,Q,!1):!!b!=!!m&&(d!=null?ja(c,!!m,d,!0):ja(c,!!m,m?[]:"",!1));return;case"textarea":oe=Q=null;for(_ in m)if(S=m[_],m.hasOwnProperty(_)&&S!=null&&!b.hasOwnProperty(_))switch(_){case"value":break;case"children":break;default:gt(c,d,_,null,b,S)}for(M in b)if(S=b[M],j=m[M],b.hasOwnProperty(M)&&(S!=null||j!=null))switch(M){case"value":Q=S;break;case"defaultValue":oe=S;break;case"children":break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(r(91));break;default:S!==j&&gt(c,d,M,S,b,j)}Ah(c,Q,oe);return;case"option":for(var Ne in m)if(Q=m[Ne],m.hasOwnProperty(Ne)&&Q!=null&&!b.hasOwnProperty(Ne))switch(Ne){case"selected":c.selected=!1;break;default:gt(c,d,Ne,null,b,Q)}for(z in b)if(Q=b[z],oe=m[z],b.hasOwnProperty(z)&&Q!==oe&&(Q!=null||oe!=null))switch(z){case"selected":c.selected=Q&&typeof Q!="function"&&typeof Q!="symbol";break;default:gt(c,d,z,Q,b,oe)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in m)Q=m[_e],m.hasOwnProperty(_e)&&Q!=null&&!b.hasOwnProperty(_e)&&gt(c,d,_e,null,b,Q);for(Y in b)if(Q=b[Y],oe=m[Y],b.hasOwnProperty(Y)&&Q!==oe&&(Q!=null||oe!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(r(137,d));break;default:gt(c,d,Y,Q,b,oe)}return;default:if($u(d)){for(var xt in m)Q=m[xt],m.hasOwnProperty(xt)&&Q!==void 0&&!b.hasOwnProperty(xt)&&jv(c,d,xt,void 0,b,Q);for(ae in b)Q=b[ae],oe=m[ae],!b.hasOwnProperty(ae)||Q===oe||Q===void 0&&oe===void 0||jv(c,d,ae,Q,b,oe);return}}for(var G in m)Q=m[G],m.hasOwnProperty(G)&&Q!=null&&!b.hasOwnProperty(G)&&gt(c,d,G,null,b,Q);for(ue in b)Q=b[ue],oe=m[ue],!b.hasOwnProperty(ue)||Q===oe||Q==null&&oe==null||gt(c,d,ue,Q,b,oe)}function wT(c){switch(c){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function b9(){if(typeof performance.getEntriesByType=="function"){for(var c=0,d=0,m=performance.getEntriesByType("resource"),b=0;b<m.length;b++){var S=m[b],j=S.transferSize,M=S.initiatorType,_=S.duration;if(j&&_&&wT(M)){for(M=0,_=S.responseEnd,b+=1;b<m.length;b++){var z=m[b],Y=z.startTime;if(Y>_)break;var ae=z.transferSize,ue=z.initiatorType;ae&&wT(ue)&&(z=z.responseEnd,M+=ae*(z<_?1:(_-Y)/(z-Y)))}if(--b,d+=8*(j+M)/(S.duration/1e3),c++,10<c)break}}if(0<c)return d/c/1e6}return navigator.connection&&(c=navigator.connection.downlink,typeof c=="number")?c:5}var Av=null,Tv=null;function Ep(c){return c.nodeType===9?c:c.ownerDocument}function CT(c){switch(c){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function NT(c,d){if(c===0)switch(d){case"svg":return 1;case"math":return 2;default:return 0}return c===1&&d==="foreignObject"?0:c}function kv(c,d){return c==="textarea"||c==="noscript"||typeof d.children=="string"||typeof d.children=="number"||typeof d.children=="bigint"||typeof d.dangerouslySetInnerHTML=="object"&&d.dangerouslySetInnerHTML!==null&&d.dangerouslySetInnerHTML.__html!=null}var Mv=null;function v9(){var c=window.event;return c&&c.type==="popstate"?c===Mv?!1:(Mv=c,!0):(Mv=null,!1)}var ST=typeof setTimeout=="function"?setTimeout:void 0,y9=typeof clearTimeout=="function"?clearTimeout:void 0,ET=typeof Promise=="function"?Promise:void 0,w9=typeof queueMicrotask=="function"?queueMicrotask:typeof ET<"u"?function(c){return ET.resolve(null).then(c).catch(C9)}:ST;function C9(c){setTimeout(function(){throw c})}function Ga(c){return c==="head"}function jT(c,d){var m=d,b=0;do{var S=m.nextSibling;if(c.removeChild(m),S&&S.nodeType===8)if(m=S.data,m==="/$"||m==="/&"){if(b===0){c.removeChild(S),kc(d);return}b--}else if(m==="$"||m==="$?"||m==="$~"||m==="$!"||m==="&")b++;else if(m==="html")Ed(c.ownerDocument.documentElement);else if(m==="head"){m=c.ownerDocument.head,Ed(m);for(var j=m.firstChild;j;){var M=j.nextSibling,_=j.nodeName;j[wa]||_==="SCRIPT"||_==="STYLE"||_==="LINK"&&j.rel.toLowerCase()==="stylesheet"||m.removeChild(j),j=M}}else m==="body"&&Ed(c.ownerDocument.body);m=S}while(m);kc(d)}function AT(c,d){var m=c;c=0;do{var b=m.nextSibling;if(m.nodeType===1?d?(m._stashedDisplay=m.style.display,m.style.display="none"):(m.style.display=m._stashedDisplay||"",m.getAttribute("style")===""&&m.removeAttribute("style")):m.nodeType===3&&(d?(m._stashedText=m.nodeValue,m.nodeValue=""):m.nodeValue=m._stashedText||""),b&&b.nodeType===8)if(m=b.data,m==="/$"){if(c===0)break;c--}else m!=="$"&&m!=="$?"&&m!=="$~"&&m!=="$!"||c++;m=b}while(m)}function Pv(c){var d=c.firstChild;for(d&&d.nodeType===10&&(d=d.nextSibling);d;){var m=d;switch(d=d.nextSibling,m.nodeName){case"HTML":case"HEAD":case"BODY":Pv(m),Ds(m);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(m.rel.toLowerCase()==="stylesheet")continue}c.removeChild(m)}}function N9(c,d,m,b){for(;c.nodeType===1;){var S=m;if(c.nodeName.toLowerCase()!==d.toLowerCase()){if(!b&&(c.nodeName!=="INPUT"||c.type!=="hidden"))break}else if(b){if(!c[wa])switch(d){case"meta":if(!c.hasAttribute("itemprop"))break;return c;case"link":if(j=c.getAttribute("rel"),j==="stylesheet"&&c.hasAttribute("data-precedence"))break;if(j!==S.rel||c.getAttribute("href")!==(S.href==null||S.href===""?null:S.href)||c.getAttribute("crossorigin")!==(S.crossOrigin==null?null:S.crossOrigin)||c.getAttribute("title")!==(S.title==null?null:S.title))break;return c;case"style":if(c.hasAttribute("data-precedence"))break;return c;case"script":if(j=c.getAttribute("src"),(j!==(S.src==null?null:S.src)||c.getAttribute("type")!==(S.type==null?null:S.type)||c.getAttribute("crossorigin")!==(S.crossOrigin==null?null:S.crossOrigin))&&j&&c.hasAttribute("async")&&!c.hasAttribute("itemprop"))break;return c;default:return c}}else if(d==="input"&&c.type==="hidden"){var j=S.name==null?null:""+S.name;if(S.type==="hidden"&&c.getAttribute("name")===j)return c}else return c;if(c=no(c.nextSibling),c===null)break}return null}function S9(c,d,m){if(d==="")return null;for(;c.nodeType!==3;)if((c.nodeType!==1||c.nodeName!=="INPUT"||c.type!=="hidden")&&!m||(c=no(c.nextSibling),c===null))return null;return c}function TT(c,d){for(;c.nodeType!==8;)if((c.nodeType!==1||c.nodeName!=="INPUT"||c.type!=="hidden")&&!d||(c=no(c.nextSibling),c===null))return null;return c}function Rv(c){return c.data==="$?"||c.data==="$~"}function Iv(c){return c.data==="$!"||c.data==="$?"&&c.ownerDocument.readyState!=="loading"}function E9(c,d){var m=c.ownerDocument;if(c.data==="$~")c._reactRetry=d;else if(c.data!=="$?"||m.readyState!=="loading")d();else{var b=function(){d(),m.removeEventListener("DOMContentLoaded",b)};m.addEventListener("DOMContentLoaded",b),c._reactRetry=b}}function no(c){for(;c!=null;c=c.nextSibling){var d=c.nodeType;if(d===1||d===3)break;if(d===8){if(d=c.data,d==="$"||d==="$!"||d==="$?"||d==="$~"||d==="&"||d==="F!"||d==="F")break;if(d==="/$"||d==="/&")return null}}return c}var Dv=null;function kT(c){c=c.nextSibling;for(var d=0;c;){if(c.nodeType===8){var m=c.data;if(m==="/$"||m==="/&"){if(d===0)return no(c.nextSibling);d--}else m!=="$"&&m!=="$!"&&m!=="$?"&&m!=="$~"&&m!=="&"||d++}c=c.nextSibling}return null}function MT(c){c=c.previousSibling;for(var d=0;c;){if(c.nodeType===8){var m=c.data;if(m==="$"||m==="$!"||m==="$?"||m==="$~"||m==="&"){if(d===0)return c;d--}else m!=="/$"&&m!=="/&"||d++}c=c.previousSibling}return null}function PT(c,d,m){switch(d=Ep(m),c){case"html":if(c=d.documentElement,!c)throw Error(r(452));return c;case"head":if(c=d.head,!c)throw Error(r(453));return c;case"body":if(c=d.body,!c)throw Error(r(454));return c;default:throw Error(r(451))}}function Ed(c){for(var d=c.attributes;d.length;)c.removeAttributeNode(d[0]);Ds(c)}var ro=new Map,RT=new Set;function jp(c){return typeof c.getRootNode=="function"?c.getRootNode():c.nodeType===9?c:c.ownerDocument}var _i=V.d;V.d={f:j9,r:A9,D:T9,C:k9,L:M9,m:P9,X:I9,S:R9,M:D9};function j9(){var c=_i.f(),d=xp();return c||d}function A9(c){var d=vi(c);d!==null&&d.tag===5&&d.type==="form"?Jj(d):_i.r(c)}var jc=typeof document>"u"?null:document;function IT(c,d,m){var b=jc;if(b&&typeof d=="string"&&d){var S=fr(d);S='link[rel="'+c+'"][href="'+S+'"]',typeof m=="string"&&(S+='[crossorigin="'+m+'"]'),RT.has(S)||(RT.add(S),c={rel:c,crossOrigin:m,href:d},b.querySelector(S)===null&&(d=b.createElement("link"),Ln(d,"link",c),tn(d),b.head.appendChild(d)))}}function T9(c){_i.D(c),IT("dns-prefetch",c,null)}function k9(c,d){_i.C(c,d),IT("preconnect",c,d)}function M9(c,d,m){_i.L(c,d,m);var b=jc;if(b&&c&&d){var S='link[rel="preload"][as="'+fr(d)+'"]';d==="image"&&m&&m.imageSrcSet?(S+='[imagesrcset="'+fr(m.imageSrcSet)+'"]',typeof m.imageSizes=="string"&&(S+='[imagesizes="'+fr(m.imageSizes)+'"]')):S+='[href="'+fr(c)+'"]';var j=S;switch(d){case"style":j=Ac(c);break;case"script":j=Tc(c)}ro.has(j)||(c=p({rel:"preload",href:d==="image"&&m&&m.imageSrcSet?void 0:c,as:d},m),ro.set(j,c),b.querySelector(S)!==null||d==="style"&&b.querySelector(jd(j))||d==="script"&&b.querySelector(Ad(j))||(d=b.createElement("link"),Ln(d,"link",c),tn(d),b.head.appendChild(d)))}}function P9(c,d){_i.m(c,d);var m=jc;if(m&&c){var b=d&&typeof d.as=="string"?d.as:"script",S='link[rel="modulepreload"][as="'+fr(b)+'"][href="'+fr(c)+'"]',j=S;switch(b){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":j=Tc(c)}if(!ro.has(j)&&(c=p({rel:"modulepreload",href:c},d),ro.set(j,c),m.querySelector(S)===null)){switch(b){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(m.querySelector(Ad(j)))return}b=m.createElement("link"),Ln(b,"link",c),tn(b),m.head.appendChild(b)}}}function R9(c,d,m){_i.S(c,d,m);var b=jc;if(b&&c){var S=Sa(b).hoistableStyles,j=Ac(c);d=d||"default";var M=S.get(j);if(!M){var _={loading:0,preload:null};if(M=b.querySelector(jd(j)))_.loading=5;else{c=p({rel:"stylesheet",href:c,"data-precedence":d},m),(m=ro.get(j))&&_v(c,m);var z=M=b.createElement("link");tn(z),Ln(z,"link",c),z._p=new Promise(function(Y,ae){z.onload=Y,z.onerror=ae}),z.addEventListener("load",function(){_.loading|=1}),z.addEventListener("error",function(){_.loading|=2}),_.loading|=4,Ap(M,d,b)}M={type:"stylesheet",instance:M,count:1,state:_},S.set(j,M)}}}function I9(c,d){_i.X(c,d);var m=jc;if(m&&c){var b=Sa(m).hoistableScripts,S=Tc(c),j=b.get(S);j||(j=m.querySelector(Ad(S)),j||(c=p({src:c,async:!0},d),(d=ro.get(S))&&Ov(c,d),j=m.createElement("script"),tn(j),Ln(j,"link",c),m.head.appendChild(j)),j={type:"script",instance:j,count:1,state:null},b.set(S,j))}}function D9(c,d){_i.M(c,d);var m=jc;if(m&&c){var b=Sa(m).hoistableScripts,S=Tc(c),j=b.get(S);j||(j=m.querySelector(Ad(S)),j||(c=p({src:c,async:!0,type:"module"},d),(d=ro.get(S))&&Ov(c,d),j=m.createElement("script"),tn(j),Ln(j,"link",c),m.head.appendChild(j)),j={type:"script",instance:j,count:1,state:null},b.set(S,j))}}function DT(c,d,m,b){var S=(S=De.current)?jp(S):null;if(!S)throw Error(r(446));switch(c){case"meta":case"title":return null;case"style":return typeof m.precedence=="string"&&typeof m.href=="string"?(d=Ac(m.href),m=Sa(S).hoistableStyles,b=m.get(d),b||(b={type:"style",instance:null,count:0,state:null},m.set(d,b)),b):{type:"void",instance:null,count:0,state:null};case"link":if(m.rel==="stylesheet"&&typeof m.href=="string"&&typeof m.precedence=="string"){c=Ac(m.href);var j=Sa(S).hoistableStyles,M=j.get(c);if(M||(S=S.ownerDocument||S,M={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},j.set(c,M),(j=S.querySelector(jd(c)))&&!j._p&&(M.instance=j,M.state.loading=5),ro.has(c)||(m={rel:"preload",as:"style",href:m.href,crossOrigin:m.crossOrigin,integrity:m.integrity,media:m.media,hrefLang:m.hrefLang,referrerPolicy:m.referrerPolicy},ro.set(c,m),j||_9(S,c,m,M.state))),d&&b===null)throw Error(r(528,""));return M}if(d&&b!==null)throw Error(r(529,""));return null;case"script":return d=m.async,m=m.src,typeof m=="string"&&d&&typeof d!="function"&&typeof d!="symbol"?(d=Tc(m),m=Sa(S).hoistableScripts,b=m.get(d),b||(b={type:"script",instance:null,count:0,state:null},m.set(d,b)),b):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,c))}}function Ac(c){return'href="'+fr(c)+'"'}function jd(c){return'link[rel="stylesheet"]['+c+"]"}function _T(c){return p({},c,{"data-precedence":c.precedence,precedence:null})}function _9(c,d,m,b){c.querySelector('link[rel="preload"][as="style"]['+d+"]")?b.loading=1:(d=c.createElement("link"),b.preload=d,d.addEventListener("load",function(){return b.loading|=1}),d.addEventListener("error",function(){return b.loading|=2}),Ln(d,"link",m),tn(d),c.head.appendChild(d))}function Tc(c){return'[src="'+fr(c)+'"]'}function Ad(c){return"script[async]"+c}function OT(c,d,m){if(d.count++,d.instance===null)switch(d.type){case"style":var b=c.querySelector('style[data-href~="'+fr(m.href)+'"]');if(b)return d.instance=b,tn(b),b;var S=p({},m,{"data-href":m.href,"data-precedence":m.precedence,href:null,precedence:null});return b=(c.ownerDocument||c).createElement("style"),tn(b),Ln(b,"style",S),Ap(b,m.precedence,c),d.instance=b;case"stylesheet":S=Ac(m.href);var j=c.querySelector(jd(S));if(j)return d.state.loading|=4,d.instance=j,tn(j),j;b=_T(m),(S=ro.get(S))&&_v(b,S),j=(c.ownerDocument||c).createElement("link"),tn(j);var M=j;return M._p=new Promise(function(_,z){M.onload=_,M.onerror=z}),Ln(j,"link",b),d.state.loading|=4,Ap(j,m.precedence,c),d.instance=j;case"script":return j=Tc(m.src),(S=c.querySelector(Ad(j)))?(d.instance=S,tn(S),S):(b=m,(S=ro.get(j))&&(b=p({},m),Ov(b,S)),c=c.ownerDocument||c,S=c.createElement("script"),tn(S),Ln(S,"link",b),c.head.appendChild(S),d.instance=S);case"void":return null;default:throw Error(r(443,d.type))}else d.type==="stylesheet"&&(d.state.loading&4)===0&&(b=d.instance,d.state.loading|=4,Ap(b,m.precedence,c));return d.instance}function Ap(c,d,m){for(var b=m.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),S=b.length?b[b.length-1]:null,j=S,M=0;M<b.length;M++){var _=b[M];if(_.dataset.precedence===d)j=_;else if(j!==S)break}j?j.parentNode.insertBefore(c,j.nextSibling):(d=m.nodeType===9?m.head:m,d.insertBefore(c,d.firstChild))}function _v(c,d){c.crossOrigin==null&&(c.crossOrigin=d.crossOrigin),c.referrerPolicy==null&&(c.referrerPolicy=d.referrerPolicy),c.title==null&&(c.title=d.title)}function Ov(c,d){c.crossOrigin==null&&(c.crossOrigin=d.crossOrigin),c.referrerPolicy==null&&(c.referrerPolicy=d.referrerPolicy),c.integrity==null&&(c.integrity=d.integrity)}var Tp=null;function LT(c,d,m){if(Tp===null){var b=new Map,S=Tp=new Map;S.set(m,b)}else S=Tp,b=S.get(m),b||(b=new Map,S.set(m,b));if(b.has(c))return b;for(b.set(c,null),m=m.getElementsByTagName(c),S=0;S<m.length;S++){var j=m[S];if(!(j[wa]||j[yn]||c==="link"&&j.getAttribute("rel")==="stylesheet")&&j.namespaceURI!=="http://www.w3.org/2000/svg"){var M=j.getAttribute(d)||"";M=c+M;var _=b.get(M);_?_.push(j):b.set(M,[j])}}return b}function BT(c,d,m){c=c.ownerDocument||c,c.head.insertBefore(m,d==="title"?c.querySelector("head > title"):null)}function O9(c,d,m){if(m===1||d.itemProp!=null)return!1;switch(c){case"meta":case"title":return!0;case"style":if(typeof d.precedence!="string"||typeof d.href!="string"||d.href==="")break;return!0;case"link":if(typeof d.rel!="string"||typeof d.href!="string"||d.href===""||d.onLoad||d.onError)break;switch(d.rel){case"stylesheet":return c=d.disabled,typeof d.precedence=="string"&&c==null;default:return!0}case"script":if(d.async&&typeof d.async!="function"&&typeof d.async!="symbol"&&!d.onLoad&&!d.onError&&d.src&&typeof d.src=="string")return!0}return!1}function UT(c){return!(c.type==="stylesheet"&&(c.state.loading&3)===0)}function L9(c,d,m,b){if(m.type==="stylesheet"&&(typeof b.media!="string"||matchMedia(b.media).matches!==!1)&&(m.state.loading&4)===0){if(m.instance===null){var S=Ac(b.href),j=d.querySelector(jd(S));if(j){d=j._p,d!==null&&typeof d=="object"&&typeof d.then=="function"&&(c.count++,c=kp.bind(c),d.then(c,c)),m.state.loading|=4,m.instance=j,tn(j);return}j=d.ownerDocument||d,b=_T(b),(S=ro.get(S))&&_v(b,S),j=j.createElement("link"),tn(j);var M=j;M._p=new Promise(function(_,z){M.onload=_,M.onerror=z}),Ln(j,"link",b),m.instance=j}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(m,d),(d=m.state.preload)&&(m.state.loading&3)===0&&(c.count++,m=kp.bind(c),d.addEventListener("load",m),d.addEventListener("error",m))}}var Lv=0;function B9(c,d){return c.stylesheets&&c.count===0&&Pp(c,c.stylesheets),0<c.count||0<c.imgCount?function(m){var b=setTimeout(function(){if(c.stylesheets&&Pp(c,c.stylesheets),c.unsuspend){var j=c.unsuspend;c.unsuspend=null,j()}},6e4+d);0<c.imgBytes&&Lv===0&&(Lv=62500*b9());var S=setTimeout(function(){if(c.waitingForImages=!1,c.count===0&&(c.stylesheets&&Pp(c,c.stylesheets),c.unsuspend)){var j=c.unsuspend;c.unsuspend=null,j()}},(c.imgBytes>Lv?50:800)+d);return c.unsuspend=m,function(){c.unsuspend=null,clearTimeout(b),clearTimeout(S)}}:null}function kp(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Pp(this,this.stylesheets);else if(this.unsuspend){var c=this.unsuspend;this.unsuspend=null,c()}}}var Mp=null;function Pp(c,d){c.stylesheets=null,c.unsuspend!==null&&(c.count++,Mp=new Map,d.forEach(U9,c),Mp=null,kp.call(c))}function U9(c,d){if(!(d.state.loading&4)){var m=Mp.get(c);if(m)var b=m.get(null);else{m=new Map,Mp.set(c,m);for(var S=c.querySelectorAll("link[data-precedence],style[data-precedence]"),j=0;j<S.length;j++){var M=S[j];(M.nodeName==="LINK"||M.getAttribute("media")!=="not all")&&(m.set(M.dataset.precedence,M),b=M)}b&&m.set(null,b)}S=d.instance,M=S.getAttribute("data-precedence"),j=m.get(M)||b,j===b&&m.set(null,S),m.set(M,S),this.count++,b=kp.bind(this),S.addEventListener("load",b),S.addEventListener("error",b),j?j.parentNode.insertBefore(S,j.nextSibling):(c=c.nodeType===9?c.head:c,c.insertBefore(S,c.firstChild)),d.state.loading|=4}}var Td={$$typeof:k,Provider:null,Consumer:null,_currentValue:pe,_currentValue2:pe,_threadCount:0};function z9(c,d,m,b,S,j,M,_,z){this.tag=1,this.containerInfo=c,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Bu(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bu(0),this.hiddenUpdates=Bu(null),this.identifierPrefix=b,this.onUncaughtError=S,this.onCaughtError=j,this.onRecoverableError=M,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=z,this.incompleteTransitions=new Map}function zT(c,d,m,b,S,j,M,_,z,Y,ae,ue){return c=new z9(c,d,m,M,z,Y,ae,ue,_),d=1,j===!0&&(d|=24),j=Mr(3,null,null,d),c.current=j,j.stateNode=c,d=gb(),d.refCount++,c.pooledCache=d,d.refCount++,j.memoizedState={element:b,isDehydrated:m,cache:d},yb(j),c}function FT(c){return c?(c=ic,c):ic}function qT(c,d,m,b,S,j){S=FT(S),b.context===null?b.context=S:b.pendingContext=S,b=_a(d),b.payload={element:m},j=j===void 0?null:j,j!==null&&(b.callback=j),m=Oa(c,b,d),m!==null&&(br(m,c,d),ad(m,c,d))}function HT(c,d){if(c=c.memoizedState,c!==null&&c.dehydrated!==null){var m=c.retryLane;c.retryLane=m!==0&&m<d?m:d}}function Bv(c,d){HT(c,d),(c=c.alternate)&&HT(c,d)}function VT(c){if(c.tag===13||c.tag===31){var d=Us(c,67108864);d!==null&&br(d,c,67108864),Bv(c,67108864)}}function $T(c){if(c.tag===13||c.tag===31){var d=_r();d=zu(d);var m=Us(c,d);m!==null&&br(m,c,d),Bv(c,d)}}var Rp=!0;function F9(c,d,m,b){var S=U.T;U.T=null;var j=V.p;try{V.p=2,Uv(c,d,m,b)}finally{V.p=j,U.T=S}}function q9(c,d,m,b){var S=U.T;U.T=null;var j=V.p;try{V.p=8,Uv(c,d,m,b)}finally{V.p=j,U.T=S}}function Uv(c,d,m,b){if(Rp){var S=zv(b);if(S===null)Ev(c,d,b,Ip,m),KT(c,b);else if(V9(S,c,d,m,b))b.stopPropagation();else if(KT(c,b),d&4&&-1<H9.indexOf(c)){for(;S!==null;){var j=vi(S);if(j!==null)switch(j.tag){case 3:if(j=j.stateNode,j.current.memoizedState.isDehydrated){var M=Ko(j.pendingLanes);if(M!==0){var _=j;for(_.pendingLanes|=2,_.entangledLanes|=2;M;){var z=1<<31-ct(M);_.entanglements[1]|=z,M&=~z}ei(j),(at&6)===0&&(mp=Vn()+500,Cd(0))}}break;case 31:case 13:_=Us(j,2),_!==null&&br(_,j,2),xp(),Bv(j,2)}if(j=zv(b),j===null&&Ev(c,d,b,Ip,m),j===S)break;S=j}S!==null&&b.stopPropagation()}else Ev(c,d,b,null,m)}}function zv(c){return c=se(c),Fv(c)}var Ip=null;function Fv(c){if(Ip=null,c=Ca(c),c!==null){var d=i(c);if(d===null)c=null;else{var m=d.tag;if(m===13){if(c=a(d),c!==null)return c;c=null}else if(m===31){if(c=l(d),c!==null)return c;c=null}else if(m===3){if(d.stateNode.current.memoizedState.isDehydrated)return d.tag===3?d.stateNode.containerInfo:null;c=null}else d!==c&&(c=null)}}return Ip=c,null}function GT(c){switch(c){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Kl()){case ba:return 2;case Wl:return 8;case mi:case _u:return 32;case Ee:return 268435456;default:return 32}default:return 32}}var qv=!1,Ka=null,Wa=null,Ja=null,kd=new Map,Md=new Map,Ya=[],H9="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function KT(c,d){switch(c){case"focusin":case"focusout":Ka=null;break;case"dragenter":case"dragleave":Wa=null;break;case"mouseover":case"mouseout":Ja=null;break;case"pointerover":case"pointerout":kd.delete(d.pointerId);break;case"gotpointercapture":case"lostpointercapture":Md.delete(d.pointerId)}}function Pd(c,d,m,b,S,j){return c===null||c.nativeEvent!==j?(c={blockedOn:d,domEventName:m,eventSystemFlags:b,nativeEvent:j,targetContainers:[S]},d!==null&&(d=vi(d),d!==null&&VT(d)),c):(c.eventSystemFlags|=b,d=c.targetContainers,S!==null&&d.indexOf(S)===-1&&d.push(S),c)}function V9(c,d,m,b,S){switch(d){case"focusin":return Ka=Pd(Ka,c,d,m,b,S),!0;case"dragenter":return Wa=Pd(Wa,c,d,m,b,S),!0;case"mouseover":return Ja=Pd(Ja,c,d,m,b,S),!0;case"pointerover":var j=S.pointerId;return kd.set(j,Pd(kd.get(j)||null,c,d,m,b,S)),!0;case"gotpointercapture":return j=S.pointerId,Md.set(j,Pd(Md.get(j)||null,c,d,m,b,S)),!0}return!1}function WT(c){var d=Ca(c.target);if(d!==null){var m=i(d);if(m!==null){if(d=m.tag,d===13){if(d=a(m),d!==null){c.blockedOn=d,Fu(c.priority,function(){$T(m)});return}}else if(d===31){if(d=l(m),d!==null){c.blockedOn=d,Fu(c.priority,function(){$T(m)});return}}else if(d===3&&m.stateNode.current.memoizedState.isDehydrated){c.blockedOn=m.tag===3?m.stateNode.containerInfo:null;return}}}c.blockedOn=null}function Dp(c){if(c.blockedOn!==null)return!1;for(var d=c.targetContainers;0<d.length;){var m=zv(c.nativeEvent);if(m===null){m=c.nativeEvent;var b=new m.constructor(m.type,m);ne=b,m.target.dispatchEvent(b),ne=null}else return d=vi(m),d!==null&&VT(d),c.blockedOn=m,!1;d.shift()}return!0}function JT(c,d,m){Dp(c)&&m.delete(d)}function $9(){qv=!1,Ka!==null&&Dp(Ka)&&(Ka=null),Wa!==null&&Dp(Wa)&&(Wa=null),Ja!==null&&Dp(Ja)&&(Ja=null),kd.forEach(JT),Md.forEach(JT)}function _p(c,d){c.blockedOn===d&&(c.blockedOn=null,qv||(qv=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,$9)))}var Op=null;function YT(c){Op!==c&&(Op=c,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Op===c&&(Op=null);for(var d=0;d<c.length;d+=3){var m=c[d],b=c[d+1],S=c[d+2];if(typeof b!="function"){if(Fv(b||m)===null)continue;break}var j=vi(m);j!==null&&(c.splice(d,3),d-=3,zb(j,{pending:!0,data:S,method:m.method,action:b},b,S))}}))}function kc(c){function d(z){return _p(z,c)}Ka!==null&&_p(Ka,c),Wa!==null&&_p(Wa,c),Ja!==null&&_p(Ja,c),kd.forEach(d),Md.forEach(d);for(var m=0;m<Ya.length;m++){var b=Ya[m];b.blockedOn===c&&(b.blockedOn=null)}for(;0<Ya.length&&(m=Ya[0],m.blockedOn===null);)WT(m),m.blockedOn===null&&Ya.shift();if(m=(c.ownerDocument||c).$$reactFormReplay,m!=null)for(b=0;b<m.length;b+=3){var S=m[b],j=m[b+1],M=S[$n]||null;if(typeof j=="function")M||YT(m);else if(M){var _=null;if(j&&j.hasAttribute("formAction")){if(S=j,M=j[$n]||null)_=M.formAction;else if(Fv(S)!==null)continue}else _=M.action;typeof _=="function"?m[b+1]=_:(m.splice(b,3),b-=3),YT(m)}}}function XT(){function c(j){j.canIntercept&&j.info==="react-transition"&&j.intercept({handler:function(){return new Promise(function(M){return S=M})},focusReset:"manual",scroll:"manual"})}function d(){S!==null&&(S(),S=null),b||setTimeout(m,20)}function m(){if(!b&&!navigation.transition){var j=navigation.currentEntry;j&&j.url!=null&&navigation.navigate(j.url,{state:j.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var b=!1,S=null;return navigation.addEventListener("navigate",c),navigation.addEventListener("navigatesuccess",d),navigation.addEventListener("navigateerror",d),setTimeout(m,100),function(){b=!0,navigation.removeEventListener("navigate",c),navigation.removeEventListener("navigatesuccess",d),navigation.removeEventListener("navigateerror",d),S!==null&&(S(),S=null)}}}function Hv(c){this._internalRoot=c}Lp.prototype.render=Hv.prototype.render=function(c){var d=this._internalRoot;if(d===null)throw Error(r(409));var m=d.current,b=_r();qT(m,b,c,d,null,null)},Lp.prototype.unmount=Hv.prototype.unmount=function(){var c=this._internalRoot;if(c!==null){this._internalRoot=null;var d=c.containerInfo;qT(c.current,2,null,c,null,null),xp(),d[fn]=null}};function Lp(c){this._internalRoot=c}Lp.prototype.unstable_scheduleHydration=function(c){if(c){var d=vh();c={blockedOn:null,target:c,priority:d};for(var m=0;m<Ya.length&&d!==0&&d<Ya[m].priority;m++);Ya.splice(m,0,c),m===0&&WT(c)}};var QT=t.version;if(QT!=="19.2.0")throw Error(r(527,QT,"19.2.0"));V.findDOMNode=function(c){var d=c._reactInternals;if(d===void 0)throw typeof c.render=="function"?Error(r(188)):(c=Object.keys(c).join(","),Error(r(268,c)));return c=f(d),c=c!==null?h(c):null,c=c===null?null:c.stateNode,c};var G9={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:U,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bp.isDisabled&&Bp.supportsFiber)try{lt=Bp.inject(G9),it=Bp}catch{}}return Id.createRoot=function(c,d){if(!o(c))throw Error(r(299));var m=!1,b="",S=iA,j=aA,M=sA;return d!=null&&(d.unstable_strictMode===!0&&(m=!0),d.identifierPrefix!==void 0&&(b=d.identifierPrefix),d.onUncaughtError!==void 0&&(S=d.onUncaughtError),d.onCaughtError!==void 0&&(j=d.onCaughtError),d.onRecoverableError!==void 0&&(M=d.onRecoverableError)),d=zT(c,1,!1,null,null,m,b,null,S,j,M,XT),c[fn]=d.current,Sv(c),new Hv(d)},Id.hydrateRoot=function(c,d,m){if(!o(c))throw Error(r(299));var b=!1,S="",j=iA,M=aA,_=sA,z=null;return m!=null&&(m.unstable_strictMode===!0&&(b=!0),m.identifierPrefix!==void 0&&(S=m.identifierPrefix),m.onUncaughtError!==void 0&&(j=m.onUncaughtError),m.onCaughtError!==void 0&&(M=m.onCaughtError),m.onRecoverableError!==void 0&&(_=m.onRecoverableError),m.formState!==void 0&&(z=m.formState)),d=zT(c,1,!0,d,m??null,b,S,z,j,M,_,XT),d.context=FT(null),m=d.current,b=_r(),b=zu(b),S=_a(b),S.callback=null,Oa(m,S,b),m=b,d.current.lanes=m,va(d,m),ei(d),c[fn]=d.current,Sv(c),new Lp(d)},Id.version="19.2.0",Id}var lk;function iF(){if(lk)return Kv.exports;lk=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Kv.exports=oF(),Kv.exports}var aF=iF();const sF=No(aF),zo=e=>s.jsx("svg",{...e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),li=e=>s.jsx("svg",{...e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),vx=e=>s.jsx("svg",{...e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})}),ck=e=>s.jsx("svg",{...e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 9l-7 7-7-7"})}),DI=e=>s.jsx("svg",{...e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 6h16M4 12h16M4 18h16"})}),ci=e=>s.jsx("svg",{...e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),Xv=({logoUrl:e,onLogoClick:t,onConsultantClick:n,cartItems:r,onCartClick:o,collections:i,onNavigate:a,currentCustomer:l,onLogout:u})=>{const[f,h]=E.useState(!1),[p,g]=E.useState(!1),[x,y]=E.useState(!1),N=r&&r.length>0?r.reduce((T,k)=>T+k.quantity,0):0,C=[{name:"Categorias",action:()=>g(!p),dropdown:!0},{name:"Ofertas",href:"#offers"},{name:"Mais Vendidos",href:"#bestsellers"}],A=i.map(T=>({name:T.title,id:T.id}));return s.jsx("header",{className:"bg-[rgb(var(--color-brand-gray))] backdrop-blur-sm border-b border-[rgb(var(--color-brand-gold))]/[.30] sticky top-0 z-50",children:s.jsxs("div",{className:"container mx-auto px-4",children:[s.jsxs("div",{className:"flex justify-between items-center h-16",children:[s.jsx("button",{onClick:t,className:"flex-shrink-0",children:e?s.jsx("img",{src:e,alt:"RS Prlipsi Logo",className:"h-10 max-w-[120px] object-contain"}):s.jsx("span",{className:"text-3xl font-display text-[rgb(var(--color-brand-gold))]",children:"RS Prlipsi"})}),s.jsx("div",{className:"hidden lg:flex flex-grow max-w-xl mx-8",children:s.jsxs("div",{className:"relative w-full",children:[s.jsx("input",{type:"text",placeholder:"Buscar produtos...",className:"w-full bg-[rgb(var(--color-brand-dark))]/[.50] border-2 border-[rgb(var(--color-brand-gray-light))] rounded-full py-2 pl-12 pr-4 text-[rgb(var(--color-brand-text-light))] placeholder-[rgb(var(--color-brand-text-dim))] focus:outline-none focus:border-[rgb(var(--color-brand-gold))] transition-colors"}),s.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:s.jsx(zo,{className:"h-5 w-5 text-[rgb(var(--color-brand-text-dim))]"})})]})}),s.jsx("nav",{className:"hidden lg:flex items-center space-x-6",children:C.map(T=>s.jsxs("div",{className:"relative",children:[T.dropdown?s.jsxs("button",{onClick:T.action,onBlur:()=>setTimeout(()=>g(!1),200),className:"flex items-center gap-1 text-[rgb(var(--color-brand-text-light))] hover:text-[rgb(var(--color-brand-gold))] transition-colors",children:[T.name,s.jsx(ck,{className:`w-4 h-4 transition-transform ${p?"rotate-180":""}`})]}):s.jsx("a",{href:T.href,className:"text-[rgb(var(--color-brand-text-light))] hover:text-[rgb(var(--color-brand-gold))] transition-colors",children:T.name}),T.dropdown&&p&&s.jsx("div",{className:"absolute top-full mt-4 w-48 bg-[rgb(var(--color-brand-dark))] border-2 border-[rgb(var(--color-brand-gold))]/[.20] rounded-md shadow-lg animate-fade-in-down",children:A.map(k=>s.jsx("button",{onClick:()=>a("collectionView",i.find(D=>D.id===k.id)),className:"block text-left w-full px-4 py-2 text-[rgb(var(--color-brand-text-dim))] hover:bg-[rgb(var(--color-brand-gold))] hover:text-[rgb(var(--color-brand-dark))]",children:k.name},k.id))})]},T.name))}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"relative hidden sm:block",children:[s.jsx("button",{onBlur:()=>setTimeout(()=>y(!1),200),onClick:()=>y(!x),className:"text-[rgb(var(--color-brand-text-light))] hover:text-[rgb(var(--color-brand-gold))] transition-colors",children:s.jsx(li,{className:"h-6 w-6"})}),x&&s.jsx("div",{className:"absolute top-full right-0 mt-4 w-56 bg-[rgb(var(--color-brand-dark))] border-2 border-[rgb(var(--color-brand-gold))]/[.20] rounded-md shadow-lg animate-fade-in-down",children:l?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"px-4 py-3 border-b border-[rgb(var(--color-brand-gray-light))]",children:[s.jsx("p",{className:"text-sm text-[rgb(var(--color-brand-text-dim))]",children:"Logado como"}),s.jsx("p",{className:"font-semibold text-[rgb(var(--color-brand-text-light))] truncate",children:l.name})]}),s.jsx("button",{onClick:()=>{a("customerAccount"),y(!1)},className:"block text-left w-full px-4 py-2 text-[rgb(var(--color-brand-text-dim))] hover:bg-[rgb(var(--color-brand-gold))] hover:text-[rgb(var(--color-brand-dark))]",children:"Minha Conta"}),s.jsx("button",{onClick:()=>{a("customerWishlist"),y(!1)},className:"block text-left w-full px-4 py-2 text-[rgb(var(--color-brand-text-dim))] hover:bg-[rgb(var(--color-brand-gold))] hover:text-[rgb(var(--color-brand-dark))]",children:"Lista de Desejos"}),s.jsx("button",{onClick:n,className:"block text-left w-full px-4 py-2 text-[rgb(var(--color-brand-text-dim))] hover:bg-[rgb(var(--color-brand-gold))] hover:text-[rgb(var(--color-brand-dark))] border-t border-[rgb(var(--color-brand-gray-light))]",children:"Painel do Lojista"}),s.jsx("button",{onClick:u,className:"block text-left w-full px-4 py-2 text-[rgb(var(--color-brand-text-dim))] hover:bg-[rgb(var(--color-brand-gold))] hover:text-[rgb(var(--color-brand-dark))] border-t border-[rgb(var(--color-brand-gray-light))]",children:"Sair"})]}):s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:()=>{a("customerLogin"),y(!1)},className:"block text-left w-full px-4 py-2 text-[rgb(var(--color-brand-text-dim))] hover:bg-[rgb(var(--color-brand-gold))] hover:text-[rgb(var(--color-brand-dark))]",children:"Entrar"}),s.jsx("button",{onClick:()=>{a("customerRegister"),y(!1)},className:"block text-left w-full px-4 py-2 text-[rgb(var(--color-brand-text-dim))] hover:bg-[rgb(var(--color-brand-gold))] hover:text-[rgb(var(--color-brand-dark))]",children:"Cadastre-se"}),s.jsx("button",{onClick:n,className:"block text-left w-full px-4 py-2 text-[rgb(var(--color-brand-text-dim))] hover:bg-[rgb(var(--color-brand-gold))] hover:text-[rgb(var(--color-brand-dark))] border-t border-[rgb(var(--color-brand-gray-light))]",children:"Painel do Lojista"})]})})]}),s.jsxs("button",{onClick:o,className:"relative text-[rgb(var(--color-brand-text-light))] hover:text-[rgb(var(--color-brand-gold))] transition-colors",children:[s.jsx(vx,{className:"h-6 w-6"}),N>0&&s.jsx("span",{className:"absolute -top-2 -right-2 bg-[rgb(var(--color-brand-gold))] text-[rgb(var(--color-brand-dark))] text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:N})]}),s.jsx("button",{onClick:()=>h(!f),className:"lg:hidden text-[rgb(var(--color-brand-text-light))]",children:f?s.jsx(ci,{className:"h-6 w-6"}):s.jsx(DI,{className:"h-6 w-6"})})]})]}),f&&s.jsx("div",{className:"lg:hidden py-4 border-t border-[rgb(var(--color-brand-gray-light))]",children:s.jsxs("nav",{className:"flex flex-col space-y-4",children:[C.map(T=>s.jsxs("div",{children:[T.dropdown?s.jsxs("button",{onClick:T.action,className:"w-full text-left flex items-center gap-1 text-[rgb(var(--color-brand-text-light))] hover:text-[rgb(var(--color-brand-gold))] transition-colors",children:[T.name,s.jsx(ck,{className:`w-4 h-4 transition-transform ${p?"rotate-180":""}`})]}):s.jsx("a",{href:T.href,onClick:()=>h(!1),className:"text-[rgb(var(--color-brand-text-light))] hover:text-[rgb(var(--color-brand-gold))] transition-colors",children:T.name}),T.dropdown&&p&&s.jsx("div",{className:"pl-4 mt-2 space-y-2",children:A.map(k=>s.jsx("button",{onClick:()=>{a("collectionView",i.find(D=>D.id===k.id)),h(!1)},className:"block text-[rgb(var(--color-brand-text-dim))] hover:text-[rgb(var(--color-brand-gold))]",children:k.name},k.id))})]},T.name)),s.jsx("button",{onClick:n,className:"text-left text-[rgb(var(--color-brand-text-light))] hover:text-[rgb(var(--color-brand-gold))] transition-colors",children:"Painel do Lojista"})]})})]})})},lF=({content:e})=>{const t=(n,r)=>{n.preventDefault();const o=document.getElementById(r);o&&o.scrollIntoView({behavior:"smooth"})};return s.jsxs(s.Fragment,{children:[s.jsx("style",{children:`
        .hero-section {
          background-image: url('${e.mobileImage}');
        }
        @media (min-width: 768px) {
          .hero-section {
            background-image: url('${e.desktopImage}');
          }
        }
      `}),s.jsxs("section",{className:"hero-section relative h-[60vh] md:h-[70vh] flex items-center justify-center text-center bg-cover bg-center",children:[s.jsx("div",{className:"absolute inset-0 bg-[rgb(var(--color-brand-dark))]/[.60]"}),s.jsxs("div",{className:"relative z-10 px-4",children:[s.jsx("h1",{className:"text-4xl md:text-6xl font-bold font-display text-[rgb(var(--color-brand-text-light))] drop-shadow-lg",children:e.title}),s.jsx("p",{className:"mt-4 max-w-2xl mx-auto text-lg md:text-xl text-[rgb(var(--color-brand-text-light))]",children:e.subtitle}),s.jsx("div",{className:"mt-8 flex justify-center",children:s.jsx("a",{href:"#featured-products",onClick:n=>t(n,"featured-products"),className:"bg-[rgb(var(--color-active-lime))] text-[rgb(var(--color-brand-dark))] font-bold py-3 px-8 rounded-full text-lg hover:bg-[rgb(var(--color-success))] transition-transform transform hover:scale-105",children:"Compre Agora"})})]})]})]})},nf=e=>s.jsx("svg",{...e,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M10.788 3.21c.448-1.077 1.976-1.077 2.424 0l2.082 5.007 5.404.433c1.164.093 1.636 1.545.749 2.305l-4.117 3.527 1.257 5.273c.271 1.136-.964 2.033-1.96 1.425L12 18.354 7.373 21.18c-.996.608-2.231-.29-1.96-1.425l1.257-5.273-4.117-3.527c-.887-.76-.415-2.212.749-2.305l5.404-.433 2.082-5.007z",clipRule:"evenodd"})}),dC=e=>s.jsx("svg",{...e,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12z"})}),vf=({product:e,onClick:t,wishlist:n,onToggleWishlist:r})=>{const o=n.includes(e.id),i=a=>{a.stopPropagation(),r(e.id)};return s.jsxs("div",{className:"bg-[rgb(var(--color-brand-gray))]/[.50] backdrop-blur-sm border border-[rgb(var(--color-brand-gold))]/[.20] rounded-lg overflow-hidden shadow-lg hover:shadow-[rgb(var(--color-brand-gold))]/[.10] transition-shadow duration-300 cursor-pointer group",onClick:t,role:"button",tabIndex:0,onKeyPress:a=>a.key==="Enter"&&t(),children:[s.jsxs("div",{className:"relative overflow-hidden",children:[s.jsx("img",{src:e.images[0],alt:e.name,className:"w-full h-56 object-cover group-hover:scale-105 transition-transform duration-300"}),s.jsx("button",{onClick:i,className:"absolute top-2 right-2 z-10 p-2 bg-[rgb(var(--color-brand-dark))]/[.40] rounded-full text-[rgb(var(--color-brand-text-light))] hover:text-[rgb(var(--color-brand-gold))] transition-colors","aria-label":"Adicionar  lista de desejos",children:s.jsx(dC,{className:`w-6 h-6 transition-all ${o?"text-[rgb(var(--color-brand-gold))] fill-current":""}`})}),s.jsx("div",{className:"absolute top-0 left-0 bg-[rgb(var(--color-brand-gold))] text-[rgb(var(--color-brand-dark))] px-3 py-1 text-sm font-bold rounded-br-lg",children:e.type})]}),s.jsxs("div",{className:"p-4",children:[s.jsx("p",{className:"text-sm text-[rgb(var(--color-brand-text-dim))]",children:e.seller}),s.jsx("h3",{className:"text-lg font-bold text-[rgb(var(--color-brand-text-light))] mt-1 truncate group-hover:text-[rgb(var(--color-brand-gold))] transition-colors",children:e.name}),s.jsxs("div",{className:"flex items-center mt-2",children:[s.jsx("div",{className:"flex items-center",children:[...Array(5)].map((a,l)=>s.jsx(nf,{className:`h-5 w-5 ${l<Math.round(e.rating)?"text-[rgb(var(--color-brand-gold))]":"text-[rgb(var(--color-brand-gray-light))]"}`},l))}),s.jsxs("span",{className:"text-[rgb(var(--color-brand-text-dim))] text-sm ml-2",children:["(",e.reviewCount,")"]})]}),s.jsxs("div",{className:"mt-4 flex justify-between items-center",children:[s.jsx("p",{className:"text-xl font-semibold text-[rgb(var(--color-brand-gold))]",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:e.currency}).format(e.price)}),s.jsx("button",{className:"bg-transparent border border-[rgb(var(--color-brand-gold))] text-[rgb(var(--color-brand-gold))] text-sm font-bold py-1 px-3 rounded-full hover:bg-[rgb(var(--color-brand-gold))] hover:text-[rgb(var(--color-brand-dark))] transition-colors",children:"Ver Mais"})]})]})]})},cF=({onProductClick:e,products:t,wishlist:n,onToggleWishlist:r})=>{const o=t.filter(i=>i.status==="Ativo").slice(0,4);return s.jsx("section",{id:"featured-products",className:"py-16 sm:py-24 bg-[rgb(var(--color-brand-dark))]",children:s.jsxs("div",{className:"container mx-auto px-4",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h2",{className:"text-3xl md:text-4xl font-bold font-display text-[rgb(var(--color-brand-text-light))]",children:"Produtos em Destaque"}),s.jsx("p",{className:"mt-4 max-w-2xl mx-auto text-lg text-[rgb(var(--color-brand-text-dim))]",children:"Explore nossa seleo de produtos de alta qualidade dos melhores vendedores."})]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8",children:o.map(i=>s.jsx(vf,{product:i,onClick:()=>e(i),wishlist:n,onToggleWishlist:r},i.id))})]})})},uF=e=>s.jsx("svg",{...e,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:s.jsx("path",{d:"M20 4H4v2h16V4zm1 10v-2l-1-5H4l-1 5v2h1v6h10v-6h4v6h2v-6h1zm-9 4H6v-4h6v4z"})}),dF=({onConsultantClick:e,onBecomeSellerClick:t})=>s.jsx("section",{id:"cta-section",className:"py-12 sm:py-16 bg-[rgb(var(--color-brand-gray))]",children:s.jsx("div",{className:"container mx-auto px-4",children:s.jsx("div",{className:"grid grid-cols-1 gap-8 items-stretch",children:s.jsxs("div",{className:"bg-gradient-to-br from-[rgb(var(--color-brand-gray))] to-[rgb(var(--color-brand-dark))] p-8 rounded-lg border-2 border-[rgb(var(--color-brand-gold))]/[.30] flex flex-col items-center text-center shadow-2xl",children:[s.jsx("div",{className:"bg-[rgb(var(--color-brand-gold))]/[.10] p-3 rounded-full border-2 border-[rgb(var(--color-brand-gold))]/[.30]",children:s.jsx(uF,{className:"h-10 w-10 text-[rgb(var(--color-brand-gold))]"})}),s.jsx("h3",{className:"mt-5 text-2xl font-bold font-display text-[rgb(var(--color-brand-text-light))]",children:"Seja um Lojista"}),s.jsx("p",{className:"mt-3 text-[rgb(var(--color-brand-text-dim))] max-w-md",children:"Junte-se ao nosso marketplace. Construa sua marca, alcance milhes de clientes e faa seu negcio crescer com nossas ferramentas poderosas."}),s.jsx("button",{onClick:t,className:"mt-6 bg-transparent border-2 border-[rgb(var(--color-brand-gold))] text-[rgb(var(--color-brand-gold))] font-bold py-2 px-6 rounded-full text-base hover:bg-[rgb(var(--color-brand-gold))] hover:text-[rgb(var(--color-brand-dark))] transition-colors",children:"Comece a Vender"})]})})})}),_I=e=>s.jsx("svg",{...e,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:s.jsx("path",{d:"M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.879V14.89H8.313v-2.91h2.125v-2.207c0-2.103 1.25-3.245 3.162-3.245.897 0 1.8.165 1.8.165v2.468h-1.265c-1.03 0-1.35.613-1.35 1.325v1.562h2.79l-.45 2.91h-2.34v7.028C18.343 21.128 22 16.991 22 12z"})}),fF=e=>s.jsx("svg",{...e,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:s.jsx("path",{d:"M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.85s-.011 3.584-.069 4.85c-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07s-3.584-.012-4.85-.07c-3.252-.148-4.771-1.691-4.919-4.919-.058-1.265-.069-1.645-.069-4.85s.011-3.584.069-4.85c.149-3.225 1.664-4.771 4.919-4.919C8.416 2.175 8.796 2.163 12 2.163zm0 1.802c-3.116 0-3.472.012-4.695.068-2.61.12-3.648 1.15-3.768 3.768-.056 1.223-.067 1.57-.067 4.695s.011 3.472.067 4.695c.12 2.61 1.158 3.648 3.768 3.768 1.223.056 1.57.067 4.695.067s3.472-.011 4.695-.067c2.61-.12 3.648-1.158 3.768-3.768.056-1.223.067-1.57.067-4.695s-.011-3.472-.067-4.695c-.12-2.61-1.158-3.648-3.768-3.768C15.472 3.977 15.116 3.965 12 3.965zM12 6.837c-2.843 0-5.163 2.32-5.163 5.163s2.32 5.163 5.163 5.163 5.163-2.32 5.163-5.163S14.843 6.837 12 6.837zm0 8.529c-1.856 0-3.366-1.51-3.366-3.366s1.51-3.366 3.366-3.366 3.366 1.51 3.366 3.366-1.51 3.366-3.366 3.366zm4.65-6.39c-.664 0-1.2.536-1.2 1.2s.536 1.2 1.2 1.2 1.2-.536 1.2-1.2-.536-1.2-1.2-1.2z"})}),OI=e=>s.jsx("svg",{...e,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:s.jsx("path",{d:"M22.46 6c-.77.35-1.6.58-2.46.67.88-.53 1.56-1.37 1.88-2.38-.83.5-1.75.85-2.72 1.05C18.37 4.5 17.26 4 16 4c-2.35 0-4.27 1.92-4.27 4.29 0 .34.04.67.11.98C8.28 9.09 5.11 7.38 3 4.79c-.37.63-.58 1.37-.58 2.15 0 1.49.75 2.81 1.91 3.56-.71 0-1.37-.22-1.95-.55v.03c0 2.08 1.48 3.82 3.44 4.21a4.22 4.22 0 0 1-1.93.07 4.28 4.28 0 0 0 4 2.98 8.521 8.521 0 0 1-5.33 1.84c-.34 0-.68-.02-1.02-.06C3.44 20.29 5.7 21 8.12 21 16 21 20.68 14.37 20.68 8.43c0-.21 0-.42-.01-.63.84-.6 1.56-1.36 2.14-2.23z"})}),LI=e=>s.jsx("svg",{...e,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:s.jsx("path",{d:"M19 3a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h14zm-11 5H5v11h3V8zm-1.5-2.25a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM18 8h-2.5c-1.93 0-3.5 1.57-3.5 3.5V19h3v-5.5c0-.825.675-1.5 1.5-1.5s1.5.675 1.5 1.5V19h3v-6.5c0-3.038-2.462-5.5-5.5-5.5z"})}),hF={facebook:_I,instagram:fF,twitter:OI,linkedin:LI},Qv=({logoUrl:e,content:t,onConsultantClick:n,onNavigate:r,currentCustomer:o})=>{const i=a=>{a.preventDefault();const l=document.getElementById("featured-products");l?l.scrollIntoView({behavior:"smooth"}):(r("home"),setTimeout(()=>{var u;(u=document.getElementById("featured-products"))==null||u.scrollIntoView({behavior:"smooth"})},100))};return s.jsx("footer",{className:"bg-[rgb(var(--color-brand-gray))] border-t border-[rgb(var(--color-brand-gold))]/[.30] text-[rgb(var(--color-brand-text-dim))]",children:s.jsxs("div",{className:"container mx-auto px-4 py-12",children:[s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-5 gap-8",children:[s.jsxs("div",{className:"col-span-2 lg:col-span-1",children:[e?s.jsx("img",{src:e,alt:"RS Prlipsi Logo",className:"h-12 max-w-[150px] object-contain"}):s.jsx("h3",{className:"text-2xl font-display text-[rgb(var(--color-brand-gold))]",children:"RS Prlipsi"}),s.jsx("p",{className:"mt-4 text-sm",children:t.description})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-bold text-[rgb(var(--color-brand-text-light))] tracking-wider",children:"Para Compradores"}),s.jsx("ul",{className:"mt-4 space-y-2 text-sm",children:t.buyerLinks.map(a=>s.jsx("li",{children:a.label==="Rastrear Pedidos"?s.jsx("button",{onClick:()=>r("orderLookup"),className:"text-left hover:text-[rgb(var(--color-brand-gold))] transition-colors",children:a.label}):a.label==="Sua Conta"?s.jsx("button",{onClick:()=>r(o?"customerAccount":"customerLogin"),className:"text-left hover:text-[rgb(var(--color-brand-gold))] transition-colors",children:a.label}):a.url==="#featured-products"?s.jsx("button",{onClick:i,className:"text-left hover:text-[rgb(var(--color-brand-gold))] transition-colors",children:a.label}):s.jsx("a",{href:a.url,className:"hover:text-[rgb(var(--color-brand-gold))]",children:a.label})},a.label))})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-bold text-[rgb(var(--color-brand-text-light))] tracking-wider",children:"Para Vendedores"}),s.jsx("ul",{className:"mt-4 space-y-2 text-sm",children:t.sellerLinks.map(a=>s.jsx("li",{children:a.isAction?s.jsx("button",{onClick:n,className:"text-left hover:text-[rgb(var(--color-brand-gold))] transition-colors",children:a.label}):a.label==="Ferramentas de Marketing"?s.jsx("button",{onClick:()=>r("communication"),className:"text-left hover:text-[rgb(var(--color-brand-gold))] transition-colors",children:a.label}):a.label==="Seja um Lojista"?s.jsx("button",{onClick:()=>r("sellerRegistration"),className:"text-left hover:text-[rgb(var(--color-brand-gold))] transition-colors",children:a.label}):s.jsx("a",{href:a.url,className:"hover:text-[rgb(var(--color-brand-gold))]",children:a.label})},a.label))})]}),t.companyLinks.length>0&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-bold text-[rgb(var(--color-brand-text-light))] tracking-wider",children:"Empresa"}),s.jsx("ul",{className:"mt-4 space-y-2 text-sm",children:t.companyLinks.map(a=>s.jsx("li",{children:s.jsx("a",{href:a.url,className:"hover:text-[rgb(var(--color-brand-gold))]",children:a.label})},a.label))})]}),s.jsxs("div",{className:"col-span-2 md:col-span-1",children:[s.jsx("h4",{className:"font-bold text-[rgb(var(--color-brand-text-light))] tracking-wider",children:"Siga-nos"}),s.jsx("div",{className:"flex mt-4 space-x-4",children:t.socialLinks.map(a=>{const l=hF[a.platform.toLowerCase()];return l?s.jsx("a",{href:a.url,className:"hover:text-[rgb(var(--color-brand-gold))]",target:"_blank",rel:"noopener noreferrer","aria-label":a.platform,children:s.jsx(l,{className:"h-6 w-6 currentColor"})},a.platform):null})})]})]}),s.jsxs("div",{className:"mt-12 border-t border-[rgb(var(--color-brand-gray-light))] pt-8 text-sm",children:[s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 text-center md:text-left",children:s.jsxs("div",{className:"lg:col-span-1",children:[s.jsx("h4",{className:"font-bold text-[rgb(var(--color-brand-text-light))] tracking-wider mb-2",children:"Informaes"}),s.jsx("p",{children:t.businessAddress}),s.jsx("p",{children:t.contactEmail}),s.jsxs("p",{children:["CNPJ: ",t.cnpj]})]})}),s.jsx("div",{className:"mt-8 border-t border-[rgb(var(--color-brand-gray-light))] pt-8 text-center",children:s.jsxs("p",{children:[" ",new Date().getFullYear()," RS Prlipsi. Todos os Direitos Reservados."]})})]})]})})},pF=e=>s.jsx("svg",{...e,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M12 2.25c-4.97 0-9 4.03-9 9v1.5c0 .34.03.67.08.99.1.66.27 1.3.52 1.91.24.6.56 1.16.94 1.68.82 1.09 1.88 2.01 3.09 2.76.84.52 1.76.92 2.74 1.19.04.01.08.02.12.03.04.01.08.02.12.03C11.601 21.96 11.79 22 12 22s.399-.04.59-.11c.04-.01.08-.02.12-.03.04-.01.08-.02.12-.03.98-.27 1.9-.67 2.74-1.19 1.21-.75 2.27-1.67 3.09-2.76.38-.52.7-1.08.94-1.68.25-.61.42-1.25.52-1.91.05-.32.08-.65.08-.99v-1.5c0-4.97-4.03-9-9-9zm-1.03 13.28a.75.75 0 001.06 0l4.5-4.5a.75.75 0 10-1.06-1.06L11.25 13.94l-2.72-2.72a.75.75 0 00-1.06 1.06l3.25 3.25z",clipRule:"evenodd"})}),mF=e=>s.jsx("svg",{...e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0l3.181 3.183a8.25 8.25 0 0011.664 0l3.181-3.183m-4.991-2.696L7.985 9.348m0 0L2.985 4.356m5 4.992L16.023 4.356m0 0L21.015 9.348"})}),gF=({product:e,collections:t,onBack:n,onAddToCart:r,onNavigate:o,reviews:i,onReviewSubmit:a,wishlist:l,onToggleWishlist:u,questions:f,onQuestionSubmit:h,onAnswerSubmit:p})=>{const[g,x]=E.useState(1),[y,N]=E.useState(e.images[0]),[C,A]=E.useState("description"),[T,k]=E.useState(()=>{const q={};return e.options.forEach(W=>{q[W.name]=W.values[0]}),q}),D=E.useMemo(()=>!e.variants||e.variants.length===0?{id:"default",options:{},price:e.price,inventory:e.inventory,sku:e.sku}:e.variants.find(q=>Object.entries(T).every(([W,ie])=>q.options[W]===ie)),[T,e]),R=l.includes(e.id),I=(q,W)=>{k(ie=>({...ie,[q]:W}))},P=q=>{x(W=>Math.max(1,W+q))},B=()=>{D?r(e,g,D):alert("Por favor, selecione uma opo vlida.")},L=e.collectionId?t.find(q=>q.id===e.collectionId):null,$=D?D.inventory<=0:e.inventory<=0,X=f.filter(q=>q.productId===e.id);return s.jsx("section",{className:"py-12 sm:py-16 bg-[rgb(var(--color-brand-dark))] text-[rgb(var(--color-brand-text-light))]",children:s.jsxs("div",{className:"container mx-auto px-4",children:[s.jsx("button",{onClick:n,className:"text-sm text-[rgb(var(--color-brand-text-dim))] hover:text-[rgb(var(--color-brand-gold))] mb-6",children:" Voltar aos produtos"}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[s.jsxs("div",{children:[s.jsx("div",{className:"aspect-square bg-[rgb(var(--color-brand-gray))]/[.50] rounded-lg overflow-hidden mb-4 border border-[rgb(var(--color-brand-gray-light))]",children:s.jsx("img",{src:y,alt:e.name,className:"w-full h-full object-cover"})}),s.jsx("div",{className:"grid grid-cols-4 gap-2",children:e.images.map((q,W)=>s.jsx("button",{onClick:()=>N(q),className:`aspect-square rounded-md overflow-hidden border-2 ${y===q?"border-[rgb(var(--color-brand-gold))]":"border-transparent hover:border-[rgb(var(--color-brand-gray-light))]"}`,children:s.jsx("img",{src:q,alt:`${e.name} - thumbnail ${W+1}`,className:"w-full h-full object-cover"})},W))})]}),s.jsxs("div",{children:[L&&s.jsx("button",{onClick:()=>o("collectionView",L),className:"text-[rgb(var(--color-brand-gold))] font-semibold mb-1 hover:underline",children:L.title}),s.jsx("h1",{className:"text-3xl md:text-4xl font-bold font-display text-[rgb(var(--color-brand-text-light))]",children:e.name}),s.jsxs("div",{className:"flex items-center mt-3",children:[s.jsx("div",{className:"flex items-center",children:[...Array(5)].map((q,W)=>s.jsx(nf,{className:`h-5 w-5 ${W<Math.round(e.rating)?"text-[rgb(var(--color-brand-gold))]":"text-[rgb(var(--color-brand-gray-light))]"}`},W))}),s.jsxs("span",{className:"text-[rgb(var(--color-brand-text-dim))] text-sm ml-2",children:["(",e.reviewCount," avaliaes)"]})]}),s.jsx("p",{className:"text-3xl md:text-4xl font-light text-[rgb(var(--color-brand-gold))] my-4",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:e.currency}).format((D==null?void 0:D.price)||e.price)}),s.jsx("div",{className:"prose prose-invert max-w-none text-[rgb(var(--color-brand-text-dim))] mb-6",children:s.jsx("p",{children:e.shortDescription})}),e.options&&e.options.length>0&&s.jsx("div",{className:"space-y-4 mb-6",children:e.options.map(q=>s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-[rgb(var(--color-brand-text-light))] mb-2",children:q.name}),s.jsx("div",{className:"flex flex-wrap gap-2",children:q.values.map(W=>s.jsx("button",{onClick:()=>I(q.name,W),className:`px-4 py-2 text-sm rounded-full border-2 transition-colors ${T[q.name]===W?"bg-[rgb(var(--color-brand-gold))] text-[rgb(var(--color-brand-dark))] border-[rgb(var(--color-brand-gold))]":"bg-[rgb(var(--color-brand-dark))] border-[rgb(var(--color-brand-gray-light))] hover:border-[rgb(var(--color-brand-gray))]"}`,children:W},W))})]},q.id))}),s.jsxs("div",{className:"mt-6 flex items-center gap-4",children:[s.jsxs("div",{className:"flex items-center border border-[rgb(var(--color-brand-gray-light))] rounded-full",children:[s.jsx("button",{onClick:()=>P(-1),className:"px-4 py-2 text-xl text-[rgb(var(--color-brand-text-dim))] hover:text-[rgb(var(--color-brand-text-light))] rounded-l-full",children:"-"}),s.jsx("span",{className:"px-4 text-lg font-semibold",children:g}),s.jsx("button",{onClick:()=>P(1),className:"px-4 py-2 text-xl text-[rgb(var(--color-brand-text-dim))] hover:text-[rgb(var(--color-brand-text-light))] rounded-r-full",children:"+"})]}),s.jsx("button",{onClick:B,disabled:$,className:"flex-grow bg-[rgb(var(--color-active-lime))] text-[rgb(var(--color-brand-dark))] font-bold py-3 px-8 rounded-full text-lg hover:bg-[rgb(var(--color-success))] transition-transform transform hover:scale-105 disabled:bg-[rgb(var(--color-brand-gray-light))] disabled:cursor-not-allowed",children:$?"Esgotado":"Adicionar ao Carrinho"}),s.jsx("button",{onClick:()=>u(e.id),className:"p-3 border border-[rgb(var(--color-brand-gray-light))] rounded-full text-[rgb(var(--color-brand-text-light))] hover:text-[rgb(var(--color-brand-gold))]","aria-label":"Adicionar  lista de desejos",children:s.jsx(dC,{className:`w-6 h-6 transition-all ${R?"text-[rgb(var(--color-brand-gold))] fill-current":""}`})})]}),s.jsxs("div",{className:"mt-6 space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-3 text-sm text-[rgb(var(--color-brand-text-dim))]",children:[s.jsx(pF,{className:"w-6 h-6 text-[rgb(var(--color-success))]"}),s.jsxs("span",{children:["Compra ",s.jsx("strong",{children:"100% segura"})," e verificada."]})]}),s.jsxs("div",{className:"flex items-center gap-3 text-sm text-[rgb(var(--color-brand-text-dim))]",children:[s.jsx(mF,{className:"w-6 h-6 text-[rgb(var(--color-info))]"}),s.jsxs("span",{children:["Garantia de devoluo de ",s.jsx("strong",{children:"7 dias"}),"."]})]})]})]})]}),s.jsxs("div",{className:"mt-16 border-t border-[rgb(var(--color-brand-gray-light))] pt-12",children:[s.jsx("div",{className:"border-b border-[rgb(var(--color-brand-gray-light))] mb-8",children:s.jsxs("nav",{className:"-mb-px flex space-x-8","aria-label":"Tabs",children:[s.jsx("button",{onClick:()=>A("description"),className:`whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm ${C==="description"?"border-[rgb(var(--color-brand-gold))] text-[rgb(var(--color-brand-gold))]":"border-transparent text-[rgb(var(--color-brand-text-dim))] hover:text-[rgb(var(--color-brand-text-light))]"}`,children:"Descrio"}),s.jsxs("button",{onClick:()=>A("reviews"),className:`whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm ${C==="reviews"?"border-[rgb(var(--color-brand-gold))] text-[rgb(var(--color-brand-gold))]":"border-transparent text-[rgb(var(--color-brand-text-dim))] hover:text-[rgb(var(--color-brand-text-light))]"}`,children:["Avaliaes (",e.reviewCount,")"]}),s.jsxs("button",{onClick:()=>A("qa"),className:`whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm ${C==="qa"?"border-[rgb(var(--color-brand-gold))] text-[rgb(var(--color-brand-gold))]":"border-transparent text-[rgb(var(--color-brand-text-dim))] hover:text-[rgb(var(--color-brand-text-light))]"}`,children:["Perguntas (",X.length,")"]})]})}),s.jsxs("div",{children:[C==="description"&&s.jsx("div",{className:"prose prose-invert max-w-none text-[rgb(var(--color-brand-text-dim))]",dangerouslySetInnerHTML:{__html:e.description}}),C==="reviews"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"flex items-center",children:[...Array(5)].map((q,W)=>s.jsx(nf,{className:`w-5 h-5 ${W<Math.round(e.rating)?"text-[rgb(var(--color-brand-gold))]":"text-gray-600"}`,filled:W<Math.round(e.rating)},W))}),s.jsx("span",{className:"text-2xl font-bold",children:e.rating.toFixed(1)}),s.jsxs("span",{className:"text-[rgb(var(--color-brand-text-dim))]",children:["(",e.reviewCount," avaliaes)"]})]}),i.length===0?s.jsx("p",{className:"text-[rgb(var(--color-brand-text-dim))]",children:"Seja o primeiro a avaliar este produto!"}):s.jsx("div",{className:"space-y-4",children:i.map(q=>s.jsxs("div",{className:"border-b border-[rgb(var(--color-brand-gray-light))] pb-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("div",{className:"flex",children:[...Array(5)].map((W,ie)=>s.jsx(nf,{className:`w-4 h-4 ${ie<q.rating?"text-[rgb(var(--color-brand-gold))]":"text-gray-600"}`,filled:ie<q.rating},ie))}),s.jsx("span",{className:"font-semibold",children:q.author}),s.jsx("span",{className:"text-sm text-[rgb(var(--color-brand-text-dim))]",children:new Date(q.createdAt).toLocaleDateString()})]}),q.title&&s.jsx("h4",{className:"font-bold mb-1",children:q.title}),s.jsx("p",{className:"text-[rgb(var(--color-brand-text-dim))]",children:q.text})]},q.id))})]}),C==="qa"&&s.jsx("div",{className:"space-y-6",children:f.length===0?s.jsx("p",{className:"text-[rgb(var(--color-brand-text-dim))]",children:"Nenhuma pergunta ainda. Seja o primeiro a perguntar!"}):s.jsx("div",{className:"space-y-4",children:f.map(q=>s.jsxs("div",{className:"border-b border-[rgb(var(--color-brand-gray-light))] pb-4",children:[s.jsxs("p",{className:"font-semibold mb-2",children:["P: ",q.text]}),s.jsxs("p",{className:"text-sm text-[rgb(var(--color-brand-text-dim))] mb-2",children:["Por ",q.author," em ",new Date(q.createdAt).toLocaleDateString()]}),q.answers&&q.answers.length>0&&s.jsx("div",{className:"ml-6 mt-3 space-y-2",children:q.answers.map(W=>s.jsxs("div",{className:"bg-[rgb(var(--color-brand-gray))]/30 p-3 rounded",children:[s.jsxs("p",{className:"text-[rgb(var(--color-brand-text-dim))]",children:["R: ",W.text]}),s.jsxs("p",{className:"text-xs text-[rgb(var(--color-brand-text-dim))] mt-1",children:["Por ",W.author," em ",new Date(W.createdAt).toLocaleDateString()]})]},W.id))})]},q.id))})})]})]})]})})},bs=e=>s.jsxs("svg",{...e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:[s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 010-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.432 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178z"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),Xc=e=>s.jsx("svg",{...e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.98 8.223A10.477 10.477 0 001.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.45 10.45 0 0112 4.5c4.756 0 8.773 3.162 10.065 7.498a10.523 10.523 0 01-4.293 5.774M6.228 6.228L3 3m3.228 3.228l3.65 3.65m7.894 7.894L21 21m-3.228-3.228l-3.65-3.65m0 0a3 3 0 10-4.243-4.243m4.243 4.243l-4.243-4.243"})}),xF=({onLoginSuccess:e,onBackToHome:t})=>{const[n,r]=E.useState("rsprolipsioficial@gmail.com"),[o,i]=E.useState("Yannis784512@"),[a,l]=E.useState(""),[u,f]=E.useState(!1),h=p=>{p.preventDefault(),l(""),n==="rsprolipsioficial@gmail.com"&&o==="Yannis784512@"?e():l("E-mail ou senha invlidos.")};return s.jsx("div",{className:"flex items-center justify-center min-h-screen bg-[rgb(var(--color-brand-dark))] py-12",children:s.jsxs("div",{className:"w-full max-w-md p-8 space-y-8 bg-[rgb(var(--color-brand-dark))] border-2 border-[rgb(var(--color-brand-gold))]/[.30] rounded-lg shadow-2xl",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold text-center font-display text-[rgb(var(--color-brand-gold))]",children:"Acesso Restrito"}),s.jsx("p",{className:"mt-2 text-center text-[rgb(var(--color-brand-text-dim))]",children:"Faa login para acessar os painis de gerenciamento."})]}),s.jsxs("form",{className:"mt-8 space-y-6",onSubmit:h,children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email-address",className:"sr-only",children:"E-mail"}),s.jsx("input",{id:"email-address",name:"email",type:"email",autoComplete:"email",required:!0,value:n,onChange:p=>r(p.target.value),className:"appearance-none relative block w-full px-3 py-3 border-2 border-[rgb(var(--color-brand-gray-light))] bg-[rgb(var(--color-brand-gray))] text-[rgb(var(--color-brand-text-light))] placeholder-[rgb(var(--color-brand-text-dim))] rounded-md focus:outline-none focus:ring-[rgb(var(--color-brand-gold))] focus:border-[rgb(var(--color-brand-gold))] sm:text-sm",placeholder:"E-mail"})]}),s.jsxs("div",{className:"relative",children:[s.jsx("label",{htmlFor:"password",className:"sr-only",children:"Senha"}),s.jsx("input",{id:"password",name:"password",type:u?"text":"password",autoComplete:"current-password",required:!0,value:o,onChange:p=>i(p.target.value),className:"appearance-none relative block w-full px-3 py-3 border-2 border-[rgb(var(--color-brand-gray-light))] bg-[rgb(var(--color-brand-gray))] text-[rgb(var(--color-brand-text-light))] placeholder-[rgb(var(--color-brand-text-dim))] rounded-md focus:outline-none focus:ring-[rgb(var(--color-brand-gold))] focus:border-[rgb(var(--color-brand-gold))] sm:text-sm pr-10",placeholder:"Senha"}),s.jsx("button",{type:"button",onClick:()=>f(!u),className:"absolute inset-y-0 right-0 px-3 flex items-center text-[rgb(var(--color-brand-text-dim))] hover:text-[rgb(var(--color-brand-gold))]","aria-label":u?"Esconder senha":"Mostrar senha",children:u?s.jsx(Xc,{className:"h-5 w-5"}):s.jsx(bs,{className:"h-5 w-5"})})]})]}),a&&s.jsx("p",{className:"text-[rgb(var(--color-error))] text-sm text-center !mt-4",children:a}),s.jsx("div",{children:s.jsx("button",{type:"submit",className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-bold rounded-md text-[rgb(var(--color-brand-dark))] bg-[rgb(var(--color-brand-gold))] hover:bg-[rgb(var(--color-warning))] focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-[rgb(var(--color-brand-dark))] focus:ring-[rgb(var(--color-brand-gold))] transition-colors mt-6",children:"Entrar"})})]}),s.jsx("div",{className:"text-center",children:s.jsx("button",{onClick:t,className:"font-medium text-sm text-[rgb(var(--color-brand-gold))] hover:text-[rgb(var(--color-warning))]",children:"Voltar para a loja"})})]})})},Nl=e=>s.jsx("svg",{...e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5L3 12m0 0l7.5-7.5M3 12h18"})}),bF=e=>s.jsx("svg",{...e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 4.5L21 12m0 0l-7.5 7.5M21 12H3"})}),BI=({banners:e,className:t})=>{const[n,r]=E.useState(0),o=()=>{const l=n===0?e.length-1:n-1;r(l)},i=E.useCallback(()=>{if(e.length===0)return;const l=n===e.length-1?0:n+1;r(l)},[n,e]);return E.useEffect(()=>{if(e.length>1){const a=setInterval(i,5e3);return()=>clearInterval(a)}},[e,i]),!e||e.length===0?null:s.jsxs("section",{className:`relative w-full overflow-hidden bg-gray-900 group ${t||"h-[300px] md:h-[400px]"}`,children:[s.jsx("div",{className:"w-full h-full flex transition-transform duration-700 ease-in-out",style:{transform:`translateX(-${n*100}%)`},children:e.map(a=>s.jsx("a",{href:a.link,className:"w-full h-full flex-shrink-0","aria-label":`Banner ${a.id}`,children:s.jsxs("picture",{className:"w-full h-full",children:[s.jsx("source",{media:"(min-width: 768px)",srcSet:a.desktopImage}),s.jsx("img",{src:a.mobileImage,alt:`Banner ${a.id}`,className:"w-full h-full object-cover"})]})},a.id))}),e.length>1&&s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:o,className:"absolute top-1/2 left-4 -translate-y-1/2 z-10 p-2 bg-black/40 text-white rounded-full hover:bg-black/70 transition-opacity opacity-0 group-hover:opacity-100","aria-label":"Slide anterior",children:s.jsx(Nl,{className:"w-6 h-6"})}),s.jsx("button",{onClick:i,className:"absolute top-1/2 right-4 -translate-y-1/2 z-10 p-2 bg-black/40 text-white rounded-full hover:bg-black/70 transition-opacity opacity-0 group-hover:opacity-100","aria-label":"Prximo slide",children:s.jsx(bF,{className:"w-6 h-6"})}),s.jsx("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 z-10 flex space-x-2",children:e.map((a,l)=>s.jsx("button",{onClick:()=>r(l),className:`w-3 h-3 rounded-full transition-colors ${n===l?"bg-yellow-500":"bg-gray-400/50 hover:bg-gray-200/80"}`,"aria-label":`Ir para o slide ${l+1}`},l))})]})]})},vs=e=>s.jsx("svg",{...e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5a3.375 3.375 0 00-3.375-3.375H9.75"})}),Qc=e=>s.jsxs("svg",{...e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:[s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.666 3.888A2.25 2.25 0 0013.5 2.25h-3c-1.03 0-1.9.693-2.166 1.638m7.332 0c.055.194.084.4.084.612v0a2.25 2.25 0 01-2.25 2.25h-1.5a2.25 2.25 0 01-2.25-2.25v0c0-.212.03-.418.084-.612m7.332 0c.646.049 1.288.11 1.927.184 1.1.128 1.907 1.077 1.907 2.185V19.5a2.25 2.25 0 01-2.25 2.25H6.75A2.25 2.25 0 014.5 19.5V6.257c0-1.108.806-2.057 1.907-2.185a48.208 48.208 0 011.927-.184"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75l3 3m0 0l3-3m-3 3v-7.5"})]}),fC=e=>s.jsx("svg",{...e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19.128a9.38 9.38 0 002.625.372 9.337 9.337 0 004.121-.952 4.125 4.125 0 00-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 018.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0111.964-4.663M12 3.375c-1.109 0-2.168.25-3.126.688a4.5 4.5 0 00-6.136 5.862c.39.856.86 1.66 1.417 2.416a9.337 9.337 0 00.728 1.106c.638.92 1.446 1.73 2.378 2.422a9.337 9.337 0 001.082.728c.16.09.322.178.487.264l.002.001c.164.086.33.17.498.252a9.35 9.35 0 002.16-.952 4.125 4.125 0 00.158-6.422l-.001-.001a4.125 4.125 0 00-3.23-1.622z"})}),yx=e=>s.jsx("svg",{...e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 18.75a1.5 1.5 0 01-3 0m3 0a1.5 1.5 0 00-3 0m3 0h6m-9 0H3.375a1.125 1.125 0 01-1.125-1.125V14.25m17.25 4.5a1.5 1.5 0 01-3 0m3 0a1.5 1.5 0 00-3 0m3 0h1.125c.621 0 1.125-.504 1.125-1.125V14.25m-17.25 4.5v-1.875a3.375 3.375 0 013.375-3.375h9.75a3.375 3.375 0 013.375 3.375v1.875m-17.25 4.5h15M5.25 6H9m0 0a2.25 2.25 0 012.25 2.25v.75"})}),wx=e=>s.jsxs("svg",{...e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:[s.jsx("path",{d:"M8.25 18.75a1.5 1.5 0 01-3 0m3 0a1.5 1.5 0 00-3 0m3 0h6m-9 0H3.375a1.125 1.125 0 01-1.125-1.125V14.25m17.25 4.5a1.5 1.5 0 01-3 0m3 0a1.5 1.5 0 00-3 0m3 0h1.125c.621 0 1.125-.504 1.125-1.125V14.25m-17.25 4.5v-1.875a3.375 3.375 0 013.375-3.375h9.75a3.375 3.375 0 013.375 3.375v1.875m-17.25 4.5h15M5.25 6H9m0 0a2.25 2.25 0 012.25 2.25v.75",strokeLinecap:"round",strokeLinejoin:"round"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12H9m12 0h-2.25"})]}),UI=e=>s.jsx("svg",{...e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 21a9.004 9.004 0 008.716-6.747M12 21a9.004 9.004 0 01-8.716-6.747M12 21c2.485 0 4.5-4.03 4.5-9S14.485 3 12 3m0 18c-2.485 0-4.5-4.03-4.5-9S9.515 3 12 3m0 0a8.997 8.997 0 017.843 4.582M12 3a8.997 8.997 0 00-7.843 4.582m15.686 0A11.953 11.953 0 0112 10.5c-2.998 0-5.74-1.1-7.843-2.918m15.686 0A8.959 8.959 0 0121 12c0 .778-.099 1.533-.284 2.253m0 0A17.919 17.919 0 0112 16.5c-3.162 0-6.133-.815-8.716-2.247m0 0A9.015 9.015 0 013 12c0-1.605.42-3.113 1.157-4.418"})}),zI=e=>s.jsx("svg",{...e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.48 3.499a.562.562 0 011.04 0l2.125 5.111a.563.563 0 00.475.321l5.584.41a.563.563 0 01.31.95l-4.236 3.823a.563.563 0 00-.182.51l1.285 5.385a.562.562 0 01-.84.61l-4.725-2.885a.563.563 0 00-.586 0L6.982 21.03a.562.562 0 01-.84-.61l1.285-5.386a.562.562 0 00-.182-.51l-4.236-3.823a.563.563 0 01.31-.95l5.584-.41a.563.563 0 00.475-.321L11.48 3.5z"})}),FI=e=>s.jsx("svg",{...e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 18.75h-9a9.75 9.75 0 011.316-5.322A4.5 4.5 0 0112 9.75a4.5 4.5 0 015.184 3.678 9.75 9.75 0 011.316 5.322zM21 15.75a9.75 9.75 0 00-3.375-7.234 4.502 4.502 0 00-1.096-1.096A9.75 9.75 0 0012 3c-1.605 0-3.113.42-4.418 1.157a4.502 4.502 0 00-1.096 1.096A9.75 9.75 0 003 15.75m18 0v2.25c0 .621-.504 1.125-1.125 1.125H4.125A1.125 1.125 0 013 18v-2.25m18 0A12.03 12.03 0 0012 9.75c-2.493 0-4.815.73-6.75 2.006"})}),Vf=e=>s.jsx("svg",{...e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 12a2.25 2.25 0 00-2.25-2.25H5.25A2.25 2.25 0 003 12m18 0v6a2.25 2.25 0 01-2.25 2.25H5.25A2.25 2.25 0 013 18v-6m18 0V9M3 12V9m18 3a2.25 2.25 0 00-2.25-2.25H5.25A2.25 2.25 0 003 12m18 0a2.25 2.25 0 01-2.25 2.25H5.25A2.25 2.25 0 013 12m15-3H6a2.25 2.25 0 00-2.25 2.25v.75"})}),hC=e=>s.jsx("svg",{...e,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:s.jsx("path",{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm2 16H8v-2h8v2zm0-4H8v-2h8v2zm-3-5V3.5L18.5 9H13z"})}),qI=e=>s.jsxs("svg",{...e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:[s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.568 3H5.25A2.25 2.25 0 003 5.25v4.318c0 .597.237 1.17.659 1.591l9.581 9.581c.699.699 1.78.872 2.607.33a18.095 18.095 0 005.223-5.223c.542-.827.369-1.908-.33-2.607L11.16 3.66A2.25 2.25 0 009.568 3z"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 6h.008v.008H6V6z"})]}),HI=e=>s.jsx("svg",{...e,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:s.jsx("path",{d:"M10 20h4V4h-4v16zm-6 0h4v-8H4v8zM16 9v11h4V9h-4z"})}),pC=e=>s.jsxs("svg",{...e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:[s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.568 3H5.25A2.25 2.25 0 003 5.25v4.318c0 .597.237 1.17.659 1.591l9.581 9.581c.699.699 1.78.872 2.607.33a18.095 18.095 0 005.223-5.223c.542-.827.369-1.908-.33-2.607L11.16 3.66A2.25 2.25 0 009.568 3z"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 6h.008v.008H6V6z"})]}),$f=e=>s.jsxs("svg",{...e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:[s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 6a7.5 7.5 0 100 15 7.5 7.5 0 000-15z"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 10.5h.008v.008h-.008V10.5z"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 21a8.966 8.966 0 01-5.982-2.275M12 3a8.966 8.966 0 015.982 2.275"})]}),Cx=e=>s.jsx("svg",{...e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.19 8.688a4.5 4.5 0 011.242 7.244l-4.5 4.5a4.5 4.5 0 01-6.364-6.364l1.757-1.757m13.35-.622l1.757-1.757a4.5 4.5 0 00-6.364-6.364l-4.5 4.5a4.5 4.5 0 001.242 7.244"})}),mC=e=>s.jsx("svg",{...e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.857 17.082a23.848 23.848 0 005.454-1.31A8.967 8.967 0 0118 9.75v-.7V9A6 6 0 006 9v.75a8.967 8.967 0 01-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 01-5.714 0m5.714 0a3 3 0 11-5.714 0"})}),VI=e=>s.jsx("svg",{...e,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:s.jsx("path",{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zM9 6c0-1.66 1.34-3 3-3s3 1.34 3 3v2H9V6zm9 14H6V10h12v10zm-6-3c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2z"})}),vF=e=>s.jsx("svg",{...e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 7.5v3m0 0v3m0-3h3m-3 0h-3m-2.25-4.125a3.375 3.375 0 11-6.75 0 3.375 3.375 0 016.75 0zM4 19.235v-.11a6.375 6.375 0 0112.75 0v.109A12.318 12.318 0 0110.374 21c-2.331 0-4.512-.645-6.374-1.766z"})}),gC=e=>s.jsx("svg",{...e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 013 19.875v-6.75zM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 01-1.125-1.125V8.625zM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 01-1.125-1.125V4.125z"})}),yf={AffiliateIcon:fC,DistributionIcon:yx,TruckIcon:wx,GlobalIcon:UI,StarOutlineIcon:zI,TrophyIcon:FI,WalletIcon:Vf,OrdersIcon:hC,ProductsIcon:qI,AnalyticsIcon:HI,TagIcon:pC,MegaphoneIcon:$f,LinkChainIcon:Cx,UserIcon:li,BellIcon:mC,ShoppingBagIcon:VI,UserPlusIcon:vF,ShoppingCartIcon:vx},yF={consultantStore:"Painel do Consultor",manageProducts:"Produtos",addEditProduct:"Adicionar/Editar Produto",editDropshippingProduct:"Editar Produto Dropshipping",manageInventory:"Gerenciar Estoque",manageOrders:"Pedidos",orderDetail:"Detalhes do Pedido",manageReturns:"Gerenciar Devolues",returnDetail:"Detalhes da Devoluo",manageDropshippingOrders:"Pedidos Dropshipping",managePromotions:"Cupons de Desconto",addEditCoupon:"Adicionar/Editar Cupom",addEditMarketingPixel:"Adicionar/Editar Pixel",storeEditor:"Aparncia da Loja",virtualOfficeDropshipping:"Produtos Dropshipping",virtualOfficeAffiliateLinks:"Links de Afiliado",virtualOfficePixels:"Pixels de Marketing",virtualOfficeLinkShortener:"Encurtador de Link",bannerDashboard:"Banners do Painel",dashboardEditor:"Editor do Painel",storeBannerEditor:"Banners da Loja",managePayments:"Configuraes de Pagamento",manageShipping:"Configuraes de Frete",compensationPlan:"Plano de Compensao",manageCollections:"Colees",addEditCollection:"Adicionar/Editar Coleo",dropshippingCatalog:"Catlogo Dropshipping",manageAffiliates:"Programa de Afiliados",walletOverview:"WalletPay - Viso Geral",walletReports:"WalletPay - Extrato e Relatrios",walletTransfers:"WalletPay - Transferncias",walletCharges:"WalletPay - Cobranas",walletSettings:"WalletPay - Configuraes",userProfileEditor:"Meu Perfil",manageAnnouncements:"Gerenciar Comunicados",addEditAnnouncement:"Adicionar/Editar Comunicado",manageTrainings:"Gerenciar Treinamentos",addEditTraining:"Adicionar/Editar Treinamento",manageMarketingAssets:"Gerenciar Materiais de Marketing",addEditMarketingAsset:"Adicionar/Editar Material de Marketing"},wF=({profile:e,visibleFields:t})=>s.jsxs("div",{className:"bg-[rgb(var(--color-brand-dark))] border border-[rgb(var(--color-brand-gray-light))] rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[s.jsx("img",{src:e.avatarUrl,alt:e.name,className:"w-16 h-16 rounded-full"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-lg text-[rgb(var(--color-brand-text-light))]",children:e.name}),(t==null?void 0:t.id)&&s.jsxs("p",{className:"text-xs text-[rgb(var(--color-brand-text-dim))]",children:["ID: ",e.id]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[(t==null?void 0:t.graduation)&&s.jsxs(s.Fragment,{children:[s.jsx("div",{children:s.jsx("span",{className:"text-[rgb(var(--color-brand-text-dim))]",children:"Graduao:"})}),s.jsx("div",{children:s.jsx("span",{className:"font-bold text-[rgb(var(--color-brand-gold))]",children:e.graduation})})]}),(t==null?void 0:t.accountStatus)&&s.jsxs(s.Fragment,{children:[s.jsx("div",{children:s.jsx("span",{className:"text-[rgb(var(--color-brand-text-dim))]",children:"Status da Conta:"})}),s.jsx("div",{children:s.jsx("span",{className:"font-bold text-[rgb(var(--color-info))]",children:e.accountStatus})})]}),(t==null?void 0:t.monthlyActivity)&&s.jsxs(s.Fragment,{children:[s.jsx("div",{children:s.jsx("span",{className:"text-[rgb(var(--color-brand-text-dim))]",children:"Atividade Mensal:"})}),s.jsx("div",{children:s.jsx("span",{className:"font-bold text-[rgb(var(--color-info))]",children:e.monthlyActivity})})]}),(t==null?void 0:t.category)&&s.jsxs(s.Fragment,{children:[s.jsx("div",{children:s.jsx("span",{className:"text-[rgb(var(--color-brand-text-dim))]",children:"Categoria:"})}),s.jsx("div",{children:s.jsx("span",{className:"font-bold text-[rgb(var(--color-brand-gold))]",children:e.category})})]})]})]}),CF=({referral:e,affiliate:t})=>{const[n,r]=bo.useState(null),o=i=>{navigator.clipboard.writeText(i==="referral"?e:t),r(i),setTimeout(()=>r(null),2e3)};return s.jsxs("div",{className:"bg-[rgb(var(--color-brand-dark))] border border-[rgb(var(--color-brand-gray-light))] rounded-lg p-4 space-y-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-[rgb(var(--color-brand-text-dim))]",children:"Link de Indicao"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"text",readOnly:!0,value:e,className:"w-full bg-[rgb(var(--color-brand-gray))]/[.50] text-[rgb(var(--color-brand-text-dim))] text-sm rounded-md px-2 py-1 border border-[rgb(var(--color-brand-gray-light))]"}),s.jsx("button",{onClick:()=>o("referral"),className:"p-2 bg-[rgb(var(--color-brand-gray))] rounded-md hover:bg-[rgb(var(--color-brand-gray-light))]",children:n==="referral"?s.jsx(Qc,{className:"w-5 h-5 text-[rgb(var(--color-success))]"}):s.jsx(vs,{className:"w-5 h-5"})})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-[rgb(var(--color-brand-text-dim))]",children:"Link de Afiliado"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"text",readOnly:!0,value:t,className:"w-full bg-[rgb(var(--color-brand-gray))]/[.50] text-[rgb(var(--color-brand-text-dim))] text-sm rounded-md px-2 py-1 border border-[rgb(var(--color-brand-gray-light))]"}),s.jsx("button",{onClick:()=>o("affiliate"),className:"p-2 bg-[rgb(var(--color-brand-gray))] rounded-md hover:bg-[rgb(var(--color-brand-gray-light))]",children:n==="affiliate"?s.jsx(Qc,{className:"w-5 h-5 text-[rgb(var(--color-success))]"}):s.jsx(vs,{className:"w-5 h-5"})})]})]})]})},NF=({component:e,tiers:t})=>{const{title:n,value:r=0,max:o=100}=e,i=o>0?r/o*100:0,a=Math.min(i,100),l=t.find(p=>p.name===e.startLabel),u=t.find(p=>p.name===e.endLabel),f=e.startIcon?yf[e.startIcon]:null,h=e.endIcon?yf[e.endIcon]:null;return s.jsxs("div",{className:"bg-[rgb(var(--color-brand-dark))] border border-[rgb(var(--color-brand-gray-light))] rounded-lg p-4",children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsx("h4",{className:"font-semibold text-[rgb(var(--color-brand-text-light))]",children:n}),s.jsxs("span",{className:"font-bold text-[rgb(var(--color-brand-gold))] text-sm",children:[i.toFixed(0),"%"]})]}),s.jsx("div",{className:"relative h-4 bg-[rgb(var(--color-brand-gray))] rounded-full overflow-hidden",children:s.jsx("div",{className:"absolute h-4 bg-[rgb(var(--color-brand-gold))] rounded-full",style:{width:`${a}%`}})}),s.jsxs("div",{className:"flex justify-between items-center mt-1 text-[rgb(var(--color-brand-gold))]",children:[l!=null&&l.pinImageUrl?s.jsx("img",{src:l.pinImageUrl,alt:l==null?void 0:l.name,className:"w-8 h-8 object-contain",title:e.startLabel}):f?s.jsx(f,{className:"w-6 h-6",title:e.startLabel}):s.jsx("div",{className:"w-8 h-8"}),u!=null&&u.pinImageUrl?s.jsx("img",{src:u.pinImageUrl,alt:u==null?void 0:u.name,className:"w-8 h-8 object-contain",title:e.endLabel}):h?s.jsx(h,{className:"w-6 h-6",title:e.endLabel}):s.jsx("div",{className:"w-8 h-8"})]})]})},SF=({card:e,value:t})=>{const n=yf[e.icon];return s.jsxs("div",{className:"bg-[rgb(var(--color-brand-dark))] border border-[rgb(var(--color-brand-gray-light))] rounded-lg p-4 flex items-center gap-3",children:[n&&s.jsx("div",{className:"p-2 bg-[rgb(var(--color-brand-gold))]/[.10] rounded-full",children:s.jsx(n,{className:"w-6 h-6 text-[rgb(var(--color-brand-gold))]"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-[rgb(var(--color-brand-text-dim))] uppercase",children:e.title}),s.jsx("p",{className:"text-xl font-bold text-[rgb(var(--color-brand-text-light))]",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(t)})]})]})},EF=({component:e})=>{var t;return s.jsxs("div",{className:"bg-[rgb(var(--color-brand-dark))] border border-[rgb(var(--color-brand-gray-light))] rounded-lg p-6 space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-[rgb(var(--color-brand-text-light))]",children:e.title}),(t=e.content)==null?void 0:t.map((n,r)=>s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[s.jsx("span",{className:"text-[rgb(var(--color-brand-text-dim))]",children:n.title}),s.jsxs("span",{className:"font-semibold text-[rgb(var(--color-brand-text-light))]",children:[n.progress,"%"]})]}),s.jsx("div",{className:"relative h-4 bg-[rgb(var(--color-brand-gray))] rounded-full overflow-hidden",children:s.jsx("div",{className:"absolute h-4 bg-[rgb(var(--color-brand-gold))] rounded-full",style:{width:`${n.progress}%`}})})]},r))]})},jF=({title:e,items:t})=>s.jsxs("div",{className:"bg-[rgb(var(--color-brand-dark))] border border-[rgb(var(--color-brand-gray-light))] rounded-lg p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-[rgb(var(--color-brand-text-light))] mb-4",children:e||"Atividade da Rede"}),s.jsx("ul",{className:"space-y-4",children:t.map(n=>{const r=yf[n.icon];return s.jsxs("li",{className:"flex items-start gap-3 border-l border-[rgb(var(--color-brand-gold))] pl-3 border-b border-[rgb(var(--color-brand-gray-light))] pb-4 last:border-b-0",children:[s.jsx("div",{className:"p-1.5 bg-[rgb(var(--color-brand-gray))] rounded-full mt-1",children:r&&s.jsx(r,{className:"w-5 h-5 text-[rgb(var(--color-brand-gold))]"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-[rgb(var(--color-brand-text-dim))]",dangerouslySetInnerHTML:{__html:n.text}}),s.jsx("p",{className:"text-xs text-[rgb(var(--color-brand-text-dim))]",children:n.timestamp})]})]},n.id)})})]}),AF=({component:e,onNavigate:t})=>{const n=e.icon?yf[e.icon]:Cx,r=Object.keys(yF).includes(e.url||""),o=i=>{r&&e.url&&(i.preventDefault(),t(e.url))};return s.jsxs("a",{href:r?"#":e.url||"#",onClick:o,className:"bg-[rgb(var(--color-brand-dark))] border border-[rgb(var(--color-brand-gray-light))] rounded-lg p-4 flex items-center gap-4 hover:bg-[rgb(var(--color-brand-gray))]/[.50] transition-colors",children:[s.jsx("div",{className:"p-2 bg-[rgb(var(--color-brand-gold))]/[.10] rounded-full",children:s.jsx(n,{className:"w-6 h-6 text-[rgb(var(--color-brand-gold))]"})}),s.jsx("h4",{className:"font-semibold text-[rgb(var(--color-brand-text-light))]",children:e.title})]})},TF=({title:e,data:t})=>{const[n,r]=E.useState(null),o=E.useRef(null),i=150,a=400,l=40,u=20,f=Math.ceil(Math.max(...t.map(g=>g.bonus),0)/100)*100||100,h=(g,x,y)=>{if(!o.current)return;const N=o.current.getBoundingClientRect();r({x:g.clientX-N.left,y:g.clientY-N.top-10,content:`${x}: R$ ${y.toFixed(2)}`})},p=[0,f/2,f].map(g=>({value:g,y:i-i*(g/f)}));return s.jsxs("div",{ref:o,className:"bg-[rgb(var(--color-brand-dark))] border border-[rgb(var(--color-brand-gray-light))] rounded-lg p-6 relative",children:[s.jsx("style",{children:`
                @keyframes grow-bar { from { transform: scaleY(0); } to { transform: scaleY(1); } }
                .bar-rect { transform-origin: bottom; animation: grow-bar 0.5s ease-out forwards; transition: filter 0.2s ease-in-out; }
                .bar-rect:hover { filter: brightness(1.2); }
            `}),s.jsxs("h3",{className:"text-lg font-semibold text-[rgb(var(--color-brand-text-light))] mb-4 flex items-center gap-2",children:[s.jsx(gC,{className:"w-6 h-6 text-[rgb(var(--color-brand-gold))]"}),e]}),s.jsxs("div",{className:"relative h-[180px]",children:[s.jsxs("svg",{viewBox:`0 0 ${a} ${i+u}`,width:"100%",height:"100%",children:[s.jsx("defs",{children:s.jsxs("linearGradient",{id:"barGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[s.jsx("stop",{offset:"0%",stopColor:"rgb(var(--color-brand-gold))"}),s.jsx("stop",{offset:"100%",stopColor:"rgb(var(--color-warning))"})]})}),p.map(({value:g,y:x})=>s.jsxs("g",{children:[s.jsx("text",{x:l-8,y:x+4,textAnchor:"end",fill:"rgb(var(--color-brand-text-dim))",fontSize:"10",children:g}),s.jsx("line",{x1:l,x2:a,y1:x,y2:x,stroke:"rgb(var(--color-brand-gray-light))",strokeWidth:"0.5",strokeDasharray:"2,2"})]},g)),s.jsx("g",{transform:`translate(${l}, 0)`,children:t.map((g,x)=>{const y=(a-l)/t.length,N=y*.5,C=f>0?g.bonus/f*i:0,A=x*y+(y-N)/2;return s.jsxs("g",{children:[s.jsx("rect",{className:"bar-rect",x:A,y:i-C,width:N,height:C,fill:"url(#barGradient)",rx:"2",onMouseMove:T=>h(T,g.day,g.bonus),onMouseOut:()=>r(null),style:{animationDelay:`${x*70}ms`}}),s.jsx("text",{x:A+N/2,y:i+15,textAnchor:"middle",fill:"rgb(var(--color-brand-text-dim))",fontSize:"12",children:g.day})]},x)})})]}),n&&s.jsx("div",{className:"absolute bg-[rgb(var(--color-brand-gray))] text-[rgb(var(--color-brand-text-light))] text-xs rounded-md py-1 px-2 pointer-events-none transform -translate-x-1/2 -translate-y-full shadow-lg",style:{left:n.x,top:n.y},children:n.content})]})]})},Zv=(e,t)=>{switch(e.type){case"userInfo":return s.jsx(wF,{profile:t.userProfile,visibleFields:e.visibleFields});case"referralLinks":return s.jsx(CF,{referral:t.userProfile.referralLink,affiliate:t.userProfile.affiliateLink});case"qualificationProgress":return s.jsx(NF,{component:e,tiers:t.compensationSettings.tiers});case"adminBanner":return s.jsx(BI,{banners:t.banners,className:"h-full rounded-lg overflow-hidden"});case"bonusCards":return s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:t.settings.cards.map(n=>{const r=t.bonuses[n.dataKey]||0;return s.jsx(SF,{card:n,value:r},n.id)})});case"incentivesProgram":return s.jsx(EF,{component:e});case"networkActivity":return s.jsx(jF,{title:e.title,items:t.networkActivity});case"shortcut":return s.jsx(AF,{component:e,onNavigate:t.onNavigate});case"performanceChart":return s.jsx(TF,{title:e.title,data:t.weeklyBonuses});default:return null}},uk=(e,t)=>{var p;if(!t||t.length===0)return{currentTier:null,nextTier:null,value:0,max:100,startLabel:"N/A",endLabel:"N/A"};const n=[...t].sort((g,x)=>g.pointsRequired-x.pointsRequired),r=n.slice().reverse().find(g=>e>=g.pointsRequired),o=r?n.findIndex(g=>g.id===r.id):-1,i=o>-1?n[o+1]:n[0],a=o>0?n[o-1].pointsRequired:0,l=r?r.name:"Iniciante",u=i?i.name:r?r.name:"N/A",f=i?i.pointsRequired-a:r?r.pointsRequired-a:((p=n[0])==null?void 0:p.pointsRequired)||100;return{value:e-a,max:f,startLabel:l,endLabel:u}},kF=e=>{const{settings:t,userPoints:n,monthlyUserPoints:r,compensationSettings:o}=e,i=E.useMemo(()=>{const h=JSON.parse(JSON.stringify(t)),p=uk(n,o.tiers),g=uk(r,o.tiers);return h.components=h.components.map(x=>{if(x.type==="qualificationProgress"){if(x.id==="comp-qual-current"||x.id==="comp-qual-next")return{...x,...p};if(x.id==="comp-qual-month")return{...x,...g}}return x}),h},[t,n,r,o]),a=i.components.find(h=>h.type==="adminBanner"&&h.enabled),l=i.components.filter(h=>h.column==="left"&&h.enabled),u=i.components.filter(h=>h.column==="right"&&h.enabled&&h.type!=="adminBanner"),f={...e,settings:i};return s.jsxs("div",{className:"space-y-6",children:[a&&s.jsx("div",{className:"h-[250px]",children:Zv(a,f)},a.id),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsx("div",{className:"lg:col-span-1 space-y-6",children:l.map(h=>s.jsx("div",{children:Zv(h,f)},h.id))}),s.jsx("div",{className:"lg:col-span-2 space-y-6",children:u.map(h=>s.jsx("div",{children:Zv(h,f)},h.id))})]})]})},Tn=e=>s.jsx("svg",{...e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.134-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.067-2.09 1.02-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})}),Nx=e=>s.jsx("svg",{...e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10"})}),MF=({products:e,onNavigate:t,onProductDelete:n})=>{const[r,o]=E.useState(""),[i,a]=E.useState([]),l=E.useMemo(()=>e.filter(h=>h.name.toLowerCase().includes(r.toLowerCase())||h.sku&&h.sku.toLowerCase().includes(r.toLowerCase())),[e,r]),u=h=>{h.target.checked?a(l.map(p=>p.id)):a([])},f=h=>{a(p=>p.includes(h)?p.filter(g=>g!==h):[...p,h])};return s.jsxs("div",{className:"bg-[rgb(var(--color-brand-dark))] border border-[rgb(var(--color-brand-gray-light))] rounded-lg",children:[s.jsxs("div",{className:"p-4 border-b border-[rgb(var(--color-brand-gray-light))] flex justify-end",children:[" ",s.jsxs("div",{className:"relative max-w-lg flex-grow",children:[" ",s.jsx("input",{type:"text",placeholder:"Buscar produtos por nome ou SKU",value:r,onChange:h=>o(h.target.value),className:"w-full bg-[rgb(var(--color-brand-gray))] border-2 border-[rgb(var(--color-brand-gray-light))] rounded-md py-2 pl-10 pr-4 text-[rgb(var(--color-brand-text-light))]"}),s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(zo,{className:"h-5 w-5 text-[rgb(var(--color-brand-text-dim))]"})})]}),s.jsx("button",{onClick:()=>t("addEditProduct"),className:"ml-4 text-sm font-bold bg-[rgb(var(--color-active-lime))] text-[rgb(var(--color-brand-dark))] py-2 px-4 rounded-md hover:bg-[rgb(var(--color-success))] transition-colors whitespace-nowrap",children:"+ Adicionar Produto"})]}),i.length>0&&s.jsx("div",{className:"p-4 bg-[rgb(var(--color-brand-gray))]/[.50]",children:s.jsxs("button",{onClick:()=>n(i),className:"flex items-center gap-2 text-sm text-[rgb(var(--color-error))] hover:text-[rgb(var(--color-error))]/[.80]",children:[s.jsx(Tn,{className:"w-5 h-5"}),"Excluir ",i.length," produto(s)"]})}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm text-left text-[rgb(var(--color-brand-text-dim))]",children:[s.jsx("thead",{className:"text-xs text-[rgb(var(--color-brand-text-dim))] uppercase bg-[rgb(var(--color-brand-dark))]",children:s.jsxs("tr",{children:[s.jsx("th",{scope:"col",className:"p-4",children:s.jsx("input",{type:"checkbox",onChange:u,checked:i.length>0&&i.length===l.length})}),s.jsx("th",{scope:"col",className:"px-6 py-3",children:"Produto"}),s.jsx("th",{scope:"col",className:"px-6 py-3",children:"Status"}),s.jsx("th",{scope:"col",className:"px-6 py-3",children:"Estoque"}),s.jsx("th",{scope:"col",className:"px-6 py-3",children:"Preo"}),s.jsx("th",{scope:"col",className:"px-6 py-3",children:"Aes"})]})}),s.jsx("tbody",{children:l.map(h=>s.jsxs("tr",{className:"border-b border-[rgb(var(--color-brand-gray-light))] hover:bg-[rgb(var(--color-brand-gray))]/[.50]",children:[s.jsx("td",{className:"w-4 p-4",children:s.jsx("input",{type:"checkbox",checked:i.includes(h.id),onChange:()=>f(h.id)})}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("img",{src:h.images[0],alt:h.name,className:"w-10 h-10 object-cover rounded"}),s.jsx("button",{onClick:()=>t("addEditProduct",h),className:"font-medium text-[rgb(var(--color-brand-text-light))] hover:text-[rgb(var(--color-brand-gold))]",children:h.name})]})}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${h.status==="Ativo"?"bg-[rgb(var(--color-success))]/[.20] text-[rgb(var(--color-success))]":"bg-[rgb(var(--color-brand-gray-light))]/[.20] text-[rgb(var(--color-brand-text-dim))]"}`,children:h.status})}),s.jsx("td",{className:"px-6 py-4",children:h.inventory}),s.jsx("td",{className:"px-6 py-4",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:h.currency}).format(h.price)}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("button",{onClick:()=>t("addEditProduct",h),className:"text-[rgb(var(--color-brand-text-dim))] hover:text-[rgb(var(--color-brand-gold))]",children:s.jsx(Nx,{className:"w-5 h-5"})})})]},h.id))})]})})]})},$I=e=>s.jsx("svg",{...e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 15.75l5.159-5.159a2.25 2.25 0 013.182 0l5.159 5.159m-1.5-1.5l1.409-1.409a2.25 2.25 0 013.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 001.5-1.5V6a1.5 1.5 0 00-1.5-1.5H3.75A1.5 1.5 0 002.25 6v12a1.5 1.5 0 001.5 1.5zm10.5-11.25h.008v.008h-.008V8.25zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0z"})}),Cr=({currentImage:e,onImageUpload:t,placeholderText:n,aspectRatio:r="video"})=>{const[o,i]=E.useState(!1),a=E.useRef(null),l=r==="square"?"aspect-square":"aspect-video",u=x=>{if(x&&x[0]){const y=URL.createObjectURL(x[0]);t(y)}},f=x=>{x.preventDefault(),i(!0)},h=x=>{x.preventDefault(),i(!1)},p=x=>{x.preventDefault(),i(!1),x.dataTransfer.files&&x.dataTransfer.files.length>0&&(u(x.dataTransfer.files),x.dataTransfer.clearData())},g=()=>{e.startsWith("blob:")&&URL.revokeObjectURL(e),t("")};return e?s.jsxs("div",{className:`relative group ${l}`,children:[s.jsx("img",{src:e,alt:"Preview",className:"w-full h-full object-cover rounded-md"}),s.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:s.jsx("button",{type:"button",onClick:g,className:"bg-red-600 text-white rounded-full p-2",children:s.jsx(ci,{className:"w-5 h-5"})})})]}):s.jsxs("div",{onDragOver:f,onDragLeave:h,onDrop:p,onClick:()=>{var x;return(x=a.current)==null?void 0:x.click()},className:`border-2 border-dashed border-gray-700 rounded-lg p-6 text-center cursor-pointer transition-colors flex flex-col items-center justify-center ${l} ${o?"border-yellow-500 bg-gray-800/50":"hover:border-gray-600"}`,children:[s.jsx("input",{type:"file",ref:a,onChange:x=>u(x.target.files),accept:"image/*",className:"hidden"}),s.jsx($I,{className:"w-8 h-8 text-gray-500 mb-2"}),s.jsx("p",{className:"text-gray-400 text-sm",children:n})]})};var xC=II();const PF=No(xC);var ey={exports:{}},ty={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dk;function RF(){if(dk)return ty;dk=1;var e=gu();function t(p,g){return p===g&&(p!==0||1/p===1/g)||p!==p&&g!==g}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,o=e.useEffect,i=e.useLayoutEffect,a=e.useDebugValue;function l(p,g){var x=g(),y=r({inst:{value:x,getSnapshot:g}}),N=y[0].inst,C=y[1];return i(function(){N.value=x,N.getSnapshot=g,u(N)&&C({inst:N})},[p,x,g]),o(function(){return u(N)&&C({inst:N}),p(function(){u(N)&&C({inst:N})})},[p]),a(x),x}function u(p){var g=p.getSnapshot;p=p.value;try{var x=g();return!n(p,x)}catch{return!0}}function f(p,g){return g()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:l;return ty.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:h,ty}var fk;function GI(){return fk||(fk=1,ey.exports=RF()),ey.exports}var KI=GI();function Un(e){this.content=e}Un.prototype={constructor:Un,find:function(e){for(var t=0;t<this.content.length;t+=2)if(this.content[t]===e)return t;return-1},get:function(e){var t=this.find(e);return t==-1?void 0:this.content[t+1]},update:function(e,t,n){var r=n&&n!=e?this.remove(n):this,o=r.find(e),i=r.content.slice();return o==-1?i.push(n||e,t):(i[o+1]=t,n&&(i[o]=n)),new Un(i)},remove:function(e){var t=this.find(e);if(t==-1)return this;var n=this.content.slice();return n.splice(t,2),new Un(n)},addToStart:function(e,t){return new Un([e,t].concat(this.remove(e).content))},addToEnd:function(e,t){var n=this.remove(e).content.slice();return n.push(e,t),new Un(n)},addBefore:function(e,t,n){var r=this.remove(t),o=r.content.slice(),i=r.find(e);return o.splice(i==-1?o.length:i,0,t,n),new Un(o)},forEach:function(e){for(var t=0;t<this.content.length;t+=2)e(this.content[t],this.content[t+1])},prepend:function(e){return e=Un.from(e),e.size?new Un(e.content.concat(this.subtract(e).content)):this},append:function(e){return e=Un.from(e),e.size?new Un(this.subtract(e).content.concat(e.content)):this},subtract:function(e){var t=this;e=Un.from(e);for(var n=0;n<e.content.length;n+=2)t=t.remove(e.content[n]);return t},toObject:function(){var e={};return this.forEach(function(t,n){e[t]=n}),e},get size(){return this.content.length>>1}};Un.from=function(e){if(e instanceof Un)return e;var t=[];if(e)for(var n in e)t.push(n,e[n]);return new Un(t)};function WI(e,t,n){for(let r=0;;r++){if(r==e.childCount||r==t.childCount)return e.childCount==t.childCount?null:n;let o=e.child(r),i=t.child(r);if(o==i){n+=o.nodeSize;continue}if(!o.sameMarkup(i))return n;if(o.isText&&o.text!=i.text){for(let a=0;o.text[a]==i.text[a];a++)n++;return n}if(o.content.size||i.content.size){let a=WI(o.content,i.content,n+1);if(a!=null)return a}n+=o.nodeSize}}function JI(e,t,n,r){for(let o=e.childCount,i=t.childCount;;){if(o==0||i==0)return o==i?null:{a:n,b:r};let a=e.child(--o),l=t.child(--i),u=a.nodeSize;if(a==l){n-=u,r-=u;continue}if(!a.sameMarkup(l))return{a:n,b:r};if(a.isText&&a.text!=l.text){let f=0,h=Math.min(a.text.length,l.text.length);for(;f<h&&a.text[a.text.length-f-1]==l.text[l.text.length-f-1];)f++,n--,r--;return{a:n,b:r}}if(a.content.size||l.content.size){let f=JI(a.content,l.content,n-1,r-1);if(f)return f}n-=u,r-=u}}class he{constructor(t,n){if(this.content=t,this.size=n||0,n==null)for(let r=0;r<t.length;r++)this.size+=t[r].nodeSize}nodesBetween(t,n,r,o=0,i){for(let a=0,l=0;l<n;a++){let u=this.content[a],f=l+u.nodeSize;if(f>t&&r(u,o+l,i||null,a)!==!1&&u.content.size){let h=l+1;u.nodesBetween(Math.max(0,t-h),Math.min(u.content.size,n-h),r,o+h)}l=f}}descendants(t){this.nodesBetween(0,this.size,t)}textBetween(t,n,r,o){let i="",a=!0;return this.nodesBetween(t,n,(l,u)=>{let f=l.isText?l.text.slice(Math.max(t,u)-u,n-u):l.isLeaf?o?typeof o=="function"?o(l):o:l.type.spec.leafText?l.type.spec.leafText(l):"":"";l.isBlock&&(l.isLeaf&&f||l.isTextblock)&&r&&(a?a=!1:i+=r),i+=f},0),i}append(t){if(!t.size)return this;if(!this.size)return t;let n=this.lastChild,r=t.firstChild,o=this.content.slice(),i=0;for(n.isText&&n.sameMarkup(r)&&(o[o.length-1]=n.withText(n.text+r.text),i=1);i<t.content.length;i++)o.push(t.content[i]);return new he(o,this.size+t.size)}cut(t,n=this.size){if(t==0&&n==this.size)return this;let r=[],o=0;if(n>t)for(let i=0,a=0;a<n;i++){let l=this.content[i],u=a+l.nodeSize;u>t&&((a<t||u>n)&&(l.isText?l=l.cut(Math.max(0,t-a),Math.min(l.text.length,n-a)):l=l.cut(Math.max(0,t-a-1),Math.min(l.content.size,n-a-1))),r.push(l),o+=l.nodeSize),a=u}return new he(r,o)}cutByIndex(t,n){return t==n?he.empty:t==0&&n==this.content.length?this:new he(this.content.slice(t,n))}replaceChild(t,n){let r=this.content[t];if(r==n)return this;let o=this.content.slice(),i=this.size+n.nodeSize-r.nodeSize;return o[t]=n,new he(o,i)}addToStart(t){return new he([t].concat(this.content),this.size+t.nodeSize)}addToEnd(t){return new he(this.content.concat(t),this.size+t.nodeSize)}eq(t){if(this.content.length!=t.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(t.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(t){let n=this.content[t];if(!n)throw new RangeError("Index "+t+" out of range for "+this);return n}maybeChild(t){return this.content[t]||null}forEach(t){for(let n=0,r=0;n<this.content.length;n++){let o=this.content[n];t(o,r,n),r+=o.nodeSize}}findDiffStart(t,n=0){return WI(this,t,n)}findDiffEnd(t,n=this.size,r=t.size){return JI(this,t,n,r)}findIndex(t){if(t==0)return Up(0,t);if(t==this.size)return Up(this.content.length,t);if(t>this.size||t<0)throw new RangeError(`Position ${t} outside of fragment (${this})`);for(let n=0,r=0;;n++){let o=this.child(n),i=r+o.nodeSize;if(i>=t)return i==t?Up(n+1,i):Up(n,r);r=i}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(t=>t.toJSON()):null}static fromJSON(t,n){if(!n)return he.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new he(n.map(t.nodeFromJSON))}static fromArray(t){if(!t.length)return he.empty;let n,r=0;for(let o=0;o<t.length;o++){let i=t[o];r+=i.nodeSize,o&&i.isText&&t[o-1].sameMarkup(i)?(n||(n=t.slice(0,o)),n[n.length-1]=i.withText(n[n.length-1].text+i.text)):n&&n.push(i)}return new he(n||t,r)}static from(t){if(!t)return he.empty;if(t instanceof he)return t;if(Array.isArray(t))return this.fromArray(t);if(t.attrs)return new he([t],t.nodeSize);throw new RangeError("Can not convert "+t+" to a Fragment"+(t.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}he.empty=new he([],0);const ny={index:0,offset:0};function Up(e,t){return ny.index=e,ny.offset=t,ny}function Lm(e,t){if(e===t)return!0;if(!(e&&typeof e=="object")||!(t&&typeof t=="object"))return!1;let n=Array.isArray(e);if(Array.isArray(t)!=n)return!1;if(n){if(e.length!=t.length)return!1;for(let r=0;r<e.length;r++)if(!Lm(e[r],t[r]))return!1}else{for(let r in e)if(!(r in t)||!Lm(e[r],t[r]))return!1;for(let r in t)if(!(r in e))return!1}return!0}let Ct=class bw{constructor(t,n){this.type=t,this.attrs=n}addToSet(t){let n,r=!1;for(let o=0;o<t.length;o++){let i=t[o];if(this.eq(i))return t;if(this.type.excludes(i.type))n||(n=t.slice(0,o));else{if(i.type.excludes(this.type))return t;!r&&i.type.rank>this.type.rank&&(n||(n=t.slice(0,o)),n.push(this),r=!0),n&&n.push(i)}}return n||(n=t.slice()),r||n.push(this),n}removeFromSet(t){for(let n=0;n<t.length;n++)if(this.eq(t[n]))return t.slice(0,n).concat(t.slice(n+1));return t}isInSet(t){for(let n=0;n<t.length;n++)if(this.eq(t[n]))return!0;return!1}eq(t){return this==t||this.type==t.type&&Lm(this.attrs,t.attrs)}toJSON(){let t={type:this.type.name};for(let n in this.attrs){t.attrs=this.attrs;break}return t}static fromJSON(t,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let r=t.marks[n.type];if(!r)throw new RangeError(`There is no mark type ${n.type} in this schema`);let o=r.create(n.attrs);return r.checkAttrs(o.attrs),o}static sameSet(t,n){if(t==n)return!0;if(t.length!=n.length)return!1;for(let r=0;r<t.length;r++)if(!t[r].eq(n[r]))return!1;return!0}static setFrom(t){if(!t||Array.isArray(t)&&t.length==0)return bw.none;if(t instanceof bw)return[t];let n=t.slice();return n.sort((r,o)=>r.type.rank-o.type.rank),n}};Ct.none=[];class Bm extends Error{}class we{constructor(t,n,r){this.content=t,this.openStart=n,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(t,n){let r=XI(this.content,t+this.openStart,n);return r&&new we(r,this.openStart,this.openEnd)}removeBetween(t,n){return new we(YI(this.content,t+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(t){return this.content.eq(t.content)&&this.openStart==t.openStart&&this.openEnd==t.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let t={content:this.content.toJSON()};return this.openStart>0&&(t.openStart=this.openStart),this.openEnd>0&&(t.openEnd=this.openEnd),t}static fromJSON(t,n){if(!n)return we.empty;let r=n.openStart||0,o=n.openEnd||0;if(typeof r!="number"||typeof o!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new we(he.fromJSON(t,n.content),r,o)}static maxOpen(t,n=!0){let r=0,o=0;for(let i=t.firstChild;i&&!i.isLeaf&&(n||!i.type.spec.isolating);i=i.firstChild)r++;for(let i=t.lastChild;i&&!i.isLeaf&&(n||!i.type.spec.isolating);i=i.lastChild)o++;return new we(t,r,o)}}we.empty=new we(he.empty,0,0);function YI(e,t,n){let{index:r,offset:o}=e.findIndex(t),i=e.maybeChild(r),{index:a,offset:l}=e.findIndex(n);if(o==t||i.isText){if(l!=n&&!e.child(a).isText)throw new RangeError("Removing non-flat range");return e.cut(0,t).append(e.cut(n))}if(r!=a)throw new RangeError("Removing non-flat range");return e.replaceChild(r,i.copy(YI(i.content,t-o-1,n-o-1)))}function XI(e,t,n,r){let{index:o,offset:i}=e.findIndex(t),a=e.maybeChild(o);if(i==t||a.isText)return r&&!r.canReplace(o,o,n)?null:e.cut(0,t).append(n).append(e.cut(t));let l=XI(a.content,t-i-1,n,a);return l&&e.replaceChild(o,a.copy(l))}function IF(e,t,n){if(n.openStart>e.depth)throw new Bm("Inserted content deeper than insertion position");if(e.depth-n.openStart!=t.depth-n.openEnd)throw new Bm("Inconsistent open depths");return QI(e,t,n,0)}function QI(e,t,n,r){let o=e.index(r),i=e.node(r);if(o==t.index(r)&&r<e.depth-n.openStart){let a=QI(e,t,n,r+1);return i.copy(i.content.replaceChild(o,a))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&e.depth==r&&t.depth==r){let a=e.parent,l=a.content;return pl(a,l.cut(0,e.parentOffset).append(n.content).append(l.cut(t.parentOffset)))}else{let{start:a,end:l}=DF(n,e);return pl(i,eD(e,a,l,t,r))}else return pl(i,Um(e,t,r))}function ZI(e,t){if(!t.type.compatibleContent(e.type))throw new Bm("Cannot join "+t.type.name+" onto "+e.type.name)}function vw(e,t,n){let r=e.node(n);return ZI(r,t.node(n)),r}function hl(e,t){let n=t.length-1;n>=0&&e.isText&&e.sameMarkup(t[n])?t[n]=e.withText(t[n].text+e.text):t.push(e)}function rf(e,t,n,r){let o=(t||e).node(n),i=0,a=t?t.index(n):o.childCount;e&&(i=e.index(n),e.depth>n?i++:e.textOffset&&(hl(e.nodeAfter,r),i++));for(let l=i;l<a;l++)hl(o.child(l),r);t&&t.depth==n&&t.textOffset&&hl(t.nodeBefore,r)}function pl(e,t){return e.type.checkContent(t),e.copy(t)}function eD(e,t,n,r,o){let i=e.depth>o&&vw(e,t,o+1),a=r.depth>o&&vw(n,r,o+1),l=[];return rf(null,e,o,l),i&&a&&t.index(o)==n.index(o)?(ZI(i,a),hl(pl(i,eD(e,t,n,r,o+1)),l)):(i&&hl(pl(i,Um(e,t,o+1)),l),rf(t,n,o,l),a&&hl(pl(a,Um(n,r,o+1)),l)),rf(r,null,o,l),new he(l)}function Um(e,t,n){let r=[];if(rf(null,e,n,r),e.depth>n){let o=vw(e,t,n+1);hl(pl(o,Um(e,t,n+1)),r)}return rf(t,null,n,r),new he(r)}function DF(e,t){let n=t.depth-e.openStart,o=t.node(n).copy(e.content);for(let i=n-1;i>=0;i--)o=t.node(i).copy(he.from(o));return{start:o.resolveNoCache(e.openStart+n),end:o.resolveNoCache(o.content.size-e.openEnd-n)}}class wf{constructor(t,n,r){this.pos=t,this.path=n,this.parentOffset=r,this.depth=n.length/3-1}resolveDepth(t){return t==null?this.depth:t<0?this.depth+t:t}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(t){return this.path[this.resolveDepth(t)*3]}index(t){return this.path[this.resolveDepth(t)*3+1]}indexAfter(t){return t=this.resolveDepth(t),this.index(t)+(t==this.depth&&!this.textOffset?0:1)}start(t){return t=this.resolveDepth(t),t==0?0:this.path[t*3-1]+1}end(t){return t=this.resolveDepth(t),this.start(t)+this.node(t).content.size}before(t){if(t=this.resolveDepth(t),!t)throw new RangeError("There is no position before the top-level node");return t==this.depth+1?this.pos:this.path[t*3-1]}after(t){if(t=this.resolveDepth(t),!t)throw new RangeError("There is no position after the top-level node");return t==this.depth+1?this.pos:this.path[t*3-1]+this.path[t*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let t=this.parent,n=this.index(this.depth);if(n==t.childCount)return null;let r=this.pos-this.path[this.path.length-1],o=t.child(n);return r?t.child(n).cut(r):o}get nodeBefore(){let t=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(t).cut(0,n):t==0?null:this.parent.child(t-1)}posAtIndex(t,n){n=this.resolveDepth(n);let r=this.path[n*3],o=n==0?0:this.path[n*3-1]+1;for(let i=0;i<t;i++)o+=r.child(i).nodeSize;return o}marks(){let t=this.parent,n=this.index();if(t.content.size==0)return Ct.none;if(this.textOffset)return t.child(n).marks;let r=t.maybeChild(n-1),o=t.maybeChild(n);if(!r){let l=r;r=o,o=l}let i=r.marks;for(var a=0;a<i.length;a++)i[a].type.spec.inclusive===!1&&(!o||!i[a].isInSet(o.marks))&&(i=i[a--].removeFromSet(i));return i}marksAcross(t){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let r=n.marks,o=t.parent.maybeChild(t.index());for(var i=0;i<r.length;i++)r[i].type.spec.inclusive===!1&&(!o||!r[i].isInSet(o.marks))&&(r=r[i--].removeFromSet(r));return r}sharedDepth(t){for(let n=this.depth;n>0;n--)if(this.start(n)<=t&&this.end(n)>=t)return n;return 0}blockRange(t=this,n){if(t.pos<this.pos)return t.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==t.pos?1:0);r>=0;r--)if(t.pos<=this.end(r)&&(!n||n(this.node(r))))return new zm(this,t,r);return null}sameParent(t){return this.pos-this.parentOffset==t.pos-t.parentOffset}max(t){return t.pos>this.pos?t:this}min(t){return t.pos<this.pos?t:this}toString(){let t="";for(let n=1;n<=this.depth;n++)t+=(t?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return t+":"+this.parentOffset}static resolve(t,n){if(!(n>=0&&n<=t.content.size))throw new RangeError("Position "+n+" out of range");let r=[],o=0,i=n;for(let a=t;;){let{index:l,offset:u}=a.content.findIndex(i),f=i-u;if(r.push(a,l,o+u),!f||(a=a.child(l),a.isText))break;i=f-1,o+=u+1}return new wf(n,r,i)}static resolveCached(t,n){let r=hk.get(t);if(r)for(let i=0;i<r.elts.length;i++){let a=r.elts[i];if(a.pos==n)return a}else hk.set(t,r=new _F);let o=r.elts[r.i]=wf.resolve(t,n);return r.i=(r.i+1)%OF,o}}class _F{constructor(){this.elts=[],this.i=0}}const OF=12,hk=new WeakMap;class zm{constructor(t,n,r){this.$from=t,this.$to=n,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const LF=Object.create(null);class Bo{constructor(t,n,r,o=Ct.none){this.type=t,this.attrs=n,this.marks=o,this.content=r||he.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(t){return this.content.child(t)}maybeChild(t){return this.content.maybeChild(t)}forEach(t){this.content.forEach(t)}nodesBetween(t,n,r,o=0){this.content.nodesBetween(t,n,r,o,this)}descendants(t){this.nodesBetween(0,this.content.size,t)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(t,n,r,o){return this.content.textBetween(t,n,r,o)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(t){return this==t||this.sameMarkup(t)&&this.content.eq(t.content)}sameMarkup(t){return this.hasMarkup(t.type,t.attrs,t.marks)}hasMarkup(t,n,r){return this.type==t&&Lm(this.attrs,n||t.defaultAttrs||LF)&&Ct.sameSet(this.marks,r||Ct.none)}copy(t=null){return t==this.content?this:new Bo(this.type,this.attrs,t,this.marks)}mark(t){return t==this.marks?this:new Bo(this.type,this.attrs,this.content,t)}cut(t,n=this.content.size){return t==0&&n==this.content.size?this:this.copy(this.content.cut(t,n))}slice(t,n=this.content.size,r=!1){if(t==n)return we.empty;let o=this.resolve(t),i=this.resolve(n),a=r?0:o.sharedDepth(n),l=o.start(a),f=o.node(a).content.cut(o.pos-l,i.pos-l);return new we(f,o.depth-a,i.depth-a)}replace(t,n,r){return IF(this.resolve(t),this.resolve(n),r)}nodeAt(t){for(let n=this;;){let{index:r,offset:o}=n.content.findIndex(t);if(n=n.maybeChild(r),!n)return null;if(o==t||n.isText)return n;t-=o+1}}childAfter(t){let{index:n,offset:r}=this.content.findIndex(t);return{node:this.content.maybeChild(n),index:n,offset:r}}childBefore(t){if(t==0)return{node:null,index:0,offset:0};let{index:n,offset:r}=this.content.findIndex(t);if(r<t)return{node:this.content.child(n),index:n,offset:r};let o=this.content.child(n-1);return{node:o,index:n-1,offset:r-o.nodeSize}}resolve(t){return wf.resolveCached(this,t)}resolveNoCache(t){return wf.resolve(this,t)}rangeHasMark(t,n,r){let o=!1;return n>t&&this.nodesBetween(t,n,i=>(r.isInSet(i.marks)&&(o=!0),!o)),o}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let t=this.type.name;return this.content.size&&(t+="("+this.content.toStringInner()+")"),tD(this.marks,t)}contentMatchAt(t){let n=this.type.contentMatch.matchFragment(this.content,0,t);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(t,n,r=he.empty,o=0,i=r.childCount){let a=this.contentMatchAt(t).matchFragment(r,o,i),l=a&&a.matchFragment(this.content,n);if(!l||!l.validEnd)return!1;for(let u=o;u<i;u++)if(!this.type.allowsMarks(r.child(u).marks))return!1;return!0}canReplaceWith(t,n,r,o){if(o&&!this.type.allowsMarks(o))return!1;let i=this.contentMatchAt(t).matchType(r),a=i&&i.matchFragment(this.content,n);return a?a.validEnd:!1}canAppend(t){return t.content.size?this.canReplace(this.childCount,this.childCount,t.content):this.type.compatibleContent(t.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let t=Ct.none;for(let n=0;n<this.marks.length;n++){let r=this.marks[n];r.type.checkAttrs(r.attrs),t=r.addToSet(t)}if(!Ct.sameSet(t,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let t={type:this.type.name};for(let n in this.attrs){t.attrs=this.attrs;break}return this.content.size&&(t.content=this.content.toJSON()),this.marks.length&&(t.marks=this.marks.map(n=>n.toJSON())),t}static fromJSON(t,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let r;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=n.marks.map(t.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return t.text(n.text,r)}let o=he.fromJSON(t,n.content),i=t.nodeType(n.type).create(n.attrs,o,r);return i.type.checkAttrs(i.attrs),i}}Bo.prototype.text=void 0;class Fm extends Bo{constructor(t,n,r,o){if(super(t,n,null,o),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):tD(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(t,n){return this.text.slice(t,n)}get nodeSize(){return this.text.length}mark(t){return t==this.marks?this:new Fm(this.type,this.attrs,this.text,t)}withText(t){return t==this.text?this:new Fm(this.type,this.attrs,t,this.marks)}cut(t=0,n=this.text.length){return t==0&&n==this.text.length?this:this.withText(this.text.slice(t,n))}eq(t){return this.sameMarkup(t)&&this.text==t.text}toJSON(){let t=super.toJSON();return t.text=this.text,t}}function tD(e,t){for(let n=e.length-1;n>=0;n--)t=e[n].type.name+"("+t+")";return t}class Sl{constructor(t){this.validEnd=t,this.next=[],this.wrapCache=[]}static parse(t,n){let r=new BF(t,n);if(r.next==null)return Sl.empty;let o=nD(r);r.next&&r.err("Unexpected trailing text");let i=$F(VF(o));return GF(i,r),i}matchType(t){for(let n=0;n<this.next.length;n++)if(this.next[n].type==t)return this.next[n].next;return null}matchFragment(t,n=0,r=t.childCount){let o=this;for(let i=n;o&&i<r;i++)o=o.matchType(t.child(i).type);return o}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let t=0;t<this.next.length;t++){let{type:n}=this.next[t];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(t){for(let n=0;n<this.next.length;n++)for(let r=0;r<t.next.length;r++)if(this.next[n].type==t.next[r].type)return!0;return!1}fillBefore(t,n=!1,r=0){let o=[this];function i(a,l){let u=a.matchFragment(t,r);if(u&&(!n||u.validEnd))return he.from(l.map(f=>f.createAndFill()));for(let f=0;f<a.next.length;f++){let{type:h,next:p}=a.next[f];if(!(h.isText||h.hasRequiredAttrs())&&o.indexOf(p)==-1){o.push(p);let g=i(p,l.concat(h));if(g)return g}}return null}return i(this,[])}findWrapping(t){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==t)return this.wrapCache[r+1];let n=this.computeWrapping(t);return this.wrapCache.push(t,n),n}computeWrapping(t){let n=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let o=r.shift(),i=o.match;if(i.matchType(t)){let a=[];for(let l=o;l.type;l=l.via)a.push(l.type);return a.reverse()}for(let a=0;a<i.next.length;a++){let{type:l,next:u}=i.next[a];!l.isLeaf&&!l.hasRequiredAttrs()&&!(l.name in n)&&(!o.type||u.validEnd)&&(r.push({match:l.contentMatch,type:l,via:o}),n[l.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(t){if(t>=this.next.length)throw new RangeError(`There's no ${t}th edge in this content match`);return this.next[t]}toString(){let t=[];function n(r){t.push(r);for(let o=0;o<r.next.length;o++)t.indexOf(r.next[o].next)==-1&&n(r.next[o].next)}return n(this),t.map((r,o)=>{let i=o+(r.validEnd?"*":" ")+" ";for(let a=0;a<r.next.length;a++)i+=(a?", ":"")+r.next[a].type.name+"->"+t.indexOf(r.next[a].next);return i}).join(`
`)}}Sl.empty=new Sl(!0);class BF{constructor(t,n){this.string=t,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=t.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(t){return this.next==t&&(this.pos++||!0)}err(t){throw new SyntaxError(t+" (in content expression '"+this.string+"')")}}function nD(e){let t=[];do t.push(UF(e));while(e.eat("|"));return t.length==1?t[0]:{type:"choice",exprs:t}}function UF(e){let t=[];do t.push(zF(e));while(e.next&&e.next!=")"&&e.next!="|");return t.length==1?t[0]:{type:"seq",exprs:t}}function zF(e){let t=HF(e);for(;;)if(e.eat("+"))t={type:"plus",expr:t};else if(e.eat("*"))t={type:"star",expr:t};else if(e.eat("?"))t={type:"opt",expr:t};else if(e.eat("{"))t=FF(e,t);else break;return t}function pk(e){/\D/.test(e.next)&&e.err("Expected number, got '"+e.next+"'");let t=Number(e.next);return e.pos++,t}function FF(e,t){let n=pk(e),r=n;return e.eat(",")&&(e.next!="}"?r=pk(e):r=-1),e.eat("}")||e.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:t}}function qF(e,t){let n=e.nodeTypes,r=n[t];if(r)return[r];let o=[];for(let i in n){let a=n[i];a.isInGroup(t)&&o.push(a)}return o.length==0&&e.err("No node type or group '"+t+"' found"),o}function HF(e){if(e.eat("(")){let t=nD(e);return e.eat(")")||e.err("Missing closing paren"),t}else if(/\W/.test(e.next))e.err("Unexpected token '"+e.next+"'");else{let t=qF(e,e.next).map(n=>(e.inline==null?e.inline=n.isInline:e.inline!=n.isInline&&e.err("Mixing inline and block content"),{type:"name",value:n}));return e.pos++,t.length==1?t[0]:{type:"choice",exprs:t}}}function VF(e){let t=[[]];return o(i(e,0),n()),t;function n(){return t.push([])-1}function r(a,l,u){let f={term:u,to:l};return t[a].push(f),f}function o(a,l){a.forEach(u=>u.to=l)}function i(a,l){if(a.type=="choice")return a.exprs.reduce((u,f)=>u.concat(i(f,l)),[]);if(a.type=="seq")for(let u=0;;u++){let f=i(a.exprs[u],l);if(u==a.exprs.length-1)return f;o(f,l=n())}else if(a.type=="star"){let u=n();return r(l,u),o(i(a.expr,u),u),[r(u)]}else if(a.type=="plus"){let u=n();return o(i(a.expr,l),u),o(i(a.expr,u),u),[r(u)]}else{if(a.type=="opt")return[r(l)].concat(i(a.expr,l));if(a.type=="range"){let u=l;for(let f=0;f<a.min;f++){let h=n();o(i(a.expr,u),h),u=h}if(a.max==-1)o(i(a.expr,u),u);else for(let f=a.min;f<a.max;f++){let h=n();r(u,h),o(i(a.expr,u),h),u=h}return[r(u)]}else{if(a.type=="name")return[r(l,void 0,a.value)];throw new Error("Unknown expr type")}}}}function rD(e,t){return t-e}function mk(e,t){let n=[];return r(t),n.sort(rD);function r(o){let i=e[o];if(i.length==1&&!i[0].term)return r(i[0].to);n.push(o);for(let a=0;a<i.length;a++){let{term:l,to:u}=i[a];!l&&n.indexOf(u)==-1&&r(u)}}}function $F(e){let t=Object.create(null);return n(mk(e,0));function n(r){let o=[];r.forEach(a=>{e[a].forEach(({term:l,to:u})=>{if(!l)return;let f;for(let h=0;h<o.length;h++)o[h][0]==l&&(f=o[h][1]);mk(e,u).forEach(h=>{f||o.push([l,f=[]]),f.indexOf(h)==-1&&f.push(h)})})});let i=t[r.join(",")]=new Sl(r.indexOf(e.length-1)>-1);for(let a=0;a<o.length;a++){let l=o[a][1].sort(rD);i.next.push({type:o[a][0],next:t[l.join(",")]||n(l)})}return i}}function GF(e,t){for(let n=0,r=[e];n<r.length;n++){let o=r[n],i=!o.validEnd,a=[];for(let l=0;l<o.next.length;l++){let{type:u,next:f}=o.next[l];a.push(u.name),i&&!(u.isText||u.hasRequiredAttrs())&&(i=!1),r.indexOf(f)==-1&&r.push(f)}i&&t.err("Only non-generatable nodes ("+a.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function oD(e){let t=Object.create(null);for(let n in e){let r=e[n];if(!r.hasDefault)return null;t[n]=r.default}return t}function iD(e,t){let n=Object.create(null);for(let r in e){let o=t&&t[r];if(o===void 0){let i=e[r];if(i.hasDefault)o=i.default;else throw new RangeError("No value supplied for attribute "+r)}n[r]=o}return n}function aD(e,t,n,r){for(let o in t)if(!(o in e))throw new RangeError(`Unsupported attribute ${o} for ${n} of type ${o}`);for(let o in e){let i=e[o];i.validate&&i.validate(t[o])}}function sD(e,t){let n=Object.create(null);if(t)for(let r in t)n[r]=new WF(e,r,t[r]);return n}let gk=class lD{constructor(t,n,r){this.name=t,this.schema=n,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=sD(t,r.attrs),this.defaultAttrs=oD(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||t=="text"),this.isText=t=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==Sl.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(t){return this.groups.indexOf(t)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let t in this.attrs)if(this.attrs[t].isRequired)return!0;return!1}compatibleContent(t){return this==t||this.contentMatch.compatible(t.contentMatch)}computeAttrs(t){return!t&&this.defaultAttrs?this.defaultAttrs:iD(this.attrs,t)}create(t=null,n,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Bo(this,this.computeAttrs(t),he.from(n),Ct.setFrom(r))}createChecked(t=null,n,r){return n=he.from(n),this.checkContent(n),new Bo(this,this.computeAttrs(t),n,Ct.setFrom(r))}createAndFill(t=null,n,r){if(t=this.computeAttrs(t),n=he.from(n),n.size){let a=this.contentMatch.fillBefore(n);if(!a)return null;n=a.append(n)}let o=this.contentMatch.matchFragment(n),i=o&&o.fillBefore(he.empty,!0);return i?new Bo(this,t,n.append(i),Ct.setFrom(r)):null}validContent(t){let n=this.contentMatch.matchFragment(t);if(!n||!n.validEnd)return!1;for(let r=0;r<t.childCount;r++)if(!this.allowsMarks(t.child(r).marks))return!1;return!0}checkContent(t){if(!this.validContent(t))throw new RangeError(`Invalid content for node ${this.name}: ${t.toString().slice(0,50)}`)}checkAttrs(t){aD(this.attrs,t,"node",this.name)}allowsMarkType(t){return this.markSet==null||this.markSet.indexOf(t)>-1}allowsMarks(t){if(this.markSet==null)return!0;for(let n=0;n<t.length;n++)if(!this.allowsMarkType(t[n].type))return!1;return!0}allowedMarks(t){if(this.markSet==null)return t;let n;for(let r=0;r<t.length;r++)this.allowsMarkType(t[r].type)?n&&n.push(t[r]):n||(n=t.slice(0,r));return n?n.length?n:Ct.none:t}static compile(t,n){let r=Object.create(null);t.forEach((i,a)=>r[i]=new lD(i,n,a));let o=n.spec.topNode||"doc";if(!r[o])throw new RangeError("Schema is missing its top node type ('"+o+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let i in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};function KF(e,t,n){let r=n.split("|");return o=>{let i=o===null?"null":typeof o;if(r.indexOf(i)<0)throw new RangeError(`Expected value of type ${r} for attribute ${t} on type ${e}, got ${i}`)}}class WF{constructor(t,n,r){this.hasDefault=Object.prototype.hasOwnProperty.call(r,"default"),this.default=r.default,this.validate=typeof r.validate=="string"?KF(t,n,r.validate):r.validate}get isRequired(){return!this.hasDefault}}class Sx{constructor(t,n,r,o){this.name=t,this.rank=n,this.schema=r,this.spec=o,this.attrs=sD(t,o.attrs),this.excluded=null;let i=oD(this.attrs);this.instance=i?new Ct(this,i):null}create(t=null){return!t&&this.instance?this.instance:new Ct(this,iD(this.attrs,t))}static compile(t,n){let r=Object.create(null),o=0;return t.forEach((i,a)=>r[i]=new Sx(i,o++,n,a)),r}removeFromSet(t){for(var n=0;n<t.length;n++)t[n].type==this&&(t=t.slice(0,n).concat(t.slice(n+1)),n--);return t}isInSet(t){for(let n=0;n<t.length;n++)if(t[n].type==this)return t[n]}checkAttrs(t){aD(this.attrs,t,"mark",this.name)}excludes(t){return this.excluded.indexOf(t)>-1}}class cD{constructor(t){this.linebreakReplacement=null,this.cached=Object.create(null);let n=this.spec={};for(let o in t)n[o]=t[o];n.nodes=Un.from(t.nodes),n.marks=Un.from(t.marks||{}),this.nodes=gk.compile(this.spec.nodes,this),this.marks=Sx.compile(this.spec.marks,this);let r=Object.create(null);for(let o in this.nodes){if(o in this.marks)throw new RangeError(o+" can not be both a node and a mark");let i=this.nodes[o],a=i.spec.content||"",l=i.spec.marks;if(i.contentMatch=r[a]||(r[a]=Sl.parse(a,this.nodes)),i.inlineContent=i.contentMatch.inlineContent,i.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!i.isInline||!i.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=i}i.markSet=l=="_"?null:l?xk(this,l.split(" ")):l==""||!i.inlineContent?[]:null}for(let o in this.marks){let i=this.marks[o],a=i.spec.excludes;i.excluded=a==null?[i]:a==""?[]:xk(this,a.split(" "))}this.nodeFromJSON=o=>Bo.fromJSON(this,o),this.markFromJSON=o=>Ct.fromJSON(this,o),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(t,n=null,r,o){if(typeof t=="string")t=this.nodeType(t);else if(t instanceof gk){if(t.schema!=this)throw new RangeError("Node type from different schema used ("+t.name+")")}else throw new RangeError("Invalid node type: "+t);return t.createChecked(n,r,o)}text(t,n){let r=this.nodes.text;return new Fm(r,r.defaultAttrs,t,Ct.setFrom(n))}mark(t,n){return typeof t=="string"&&(t=this.marks[t]),t.create(n)}nodeType(t){let n=this.nodes[t];if(!n)throw new RangeError("Unknown node type: "+t);return n}}function xk(e,t){let n=[];for(let r=0;r<t.length;r++){let o=t[r],i=e.marks[o],a=i;if(i)n.push(i);else for(let l in e.marks){let u=e.marks[l];(o=="_"||u.spec.group&&u.spec.group.split(" ").indexOf(o)>-1)&&n.push(a=u)}if(!a)throw new SyntaxError("Unknown mark type: '"+t[r]+"'")}return n}function JF(e){return e.tag!=null}function YF(e){return e.style!=null}class hs{constructor(t,n){this.schema=t,this.rules=n,this.tags=[],this.styles=[];let r=this.matchedStyles=[];n.forEach(o=>{if(JF(o))this.tags.push(o);else if(YF(o)){let i=/[^=]*/.exec(o.style)[0];r.indexOf(i)<0&&r.push(i),this.styles.push(o)}}),this.normalizeLists=!this.tags.some(o=>{if(!/^(ul|ol)\b/.test(o.tag)||!o.node)return!1;let i=t.nodes[o.node];return i.contentMatch.matchType(i)})}parse(t,n={}){let r=new vk(this,n,!1);return r.addAll(t,Ct.none,n.from,n.to),r.finish()}parseSlice(t,n={}){let r=new vk(this,n,!0);return r.addAll(t,Ct.none,n.from,n.to),we.maxOpen(r.finish())}matchTag(t,n,r){for(let o=r?this.tags.indexOf(r)+1:0;o<this.tags.length;o++){let i=this.tags[o];if(ZF(t,i.tag)&&(i.namespace===void 0||t.namespaceURI==i.namespace)&&(!i.context||n.matchesContext(i.context))){if(i.getAttrs){let a=i.getAttrs(t);if(a===!1)continue;i.attrs=a||void 0}return i}}}matchStyle(t,n,r,o){for(let i=o?this.styles.indexOf(o)+1:0;i<this.styles.length;i++){let a=this.styles[i],l=a.style;if(!(l.indexOf(t)!=0||a.context&&!r.matchesContext(a.context)||l.length>t.length&&(l.charCodeAt(t.length)!=61||l.slice(t.length+1)!=n))){if(a.getAttrs){let u=a.getAttrs(n);if(u===!1)continue;a.attrs=u||void 0}return a}}}static schemaRules(t){let n=[];function r(o){let i=o.priority==null?50:o.priority,a=0;for(;a<n.length;a++){let l=n[a];if((l.priority==null?50:l.priority)<i)break}n.splice(a,0,o)}for(let o in t.marks){let i=t.marks[o].spec.parseDOM;i&&i.forEach(a=>{r(a=yk(a)),a.mark||a.ignore||a.clearMark||(a.mark=o)})}for(let o in t.nodes){let i=t.nodes[o].spec.parseDOM;i&&i.forEach(a=>{r(a=yk(a)),a.node||a.ignore||a.mark||(a.node=o)})}return n}static fromSchema(t){return t.cached.domParser||(t.cached.domParser=new hs(t,hs.schemaRules(t)))}}const uD={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},XF={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},dD={ol:!0,ul:!0},Cf=1,yw=2,of=4;function bk(e,t,n){return t!=null?(t?Cf:0)|(t==="full"?yw:0):e&&e.whitespace=="pre"?Cf|yw:n&~of}class zp{constructor(t,n,r,o,i,a){this.type=t,this.attrs=n,this.marks=r,this.solid=o,this.options=a,this.content=[],this.activeMarks=Ct.none,this.match=i||(a&of?null:t.contentMatch)}findWrapping(t){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(he.from(t));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let r=this.type.contentMatch,o;return(o=r.findWrapping(t.type))?(this.match=r,o):null}}return this.match.findWrapping(t.type)}finish(t){if(!(this.options&Cf)){let r=this.content[this.content.length-1],o;if(r&&r.isText&&(o=/[ \t\r\n\u000c]+$/.exec(r.text))){let i=r;r.text.length==o[0].length?this.content.pop():this.content[this.content.length-1]=i.withText(i.text.slice(0,i.text.length-o[0].length))}}let n=he.from(this.content);return!t&&this.match&&(n=n.append(this.match.fillBefore(he.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}inlineContext(t){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:t.parentNode&&!uD.hasOwnProperty(t.parentNode.nodeName.toLowerCase())}}class vk{constructor(t,n,r){this.parser=t,this.options=n,this.isOpen=r,this.open=0,this.localPreserveWS=!1;let o=n.topNode,i,a=bk(null,n.preserveWhitespace,0)|(r?of:0);o?i=new zp(o.type,o.attrs,Ct.none,!0,n.topMatch||o.type.contentMatch,a):r?i=new zp(null,null,Ct.none,!0,null,a):i=new zp(t.schema.topNodeType,null,Ct.none,!0,null,a),this.nodes=[i],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(t,n){t.nodeType==3?this.addTextNode(t,n):t.nodeType==1&&this.addElement(t,n)}addTextNode(t,n){let r=t.nodeValue,o=this.top,i=o.options&yw?"full":this.localPreserveWS||(o.options&Cf)>0,{schema:a}=this.parser;if(i==="full"||o.inlineContext(t)||/[^ \t\r\n\u000c]/.test(r)){if(i)if(i==="full")r=r.replace(/\r\n?/g,`
`);else if(a.linebreakReplacement&&/[\r\n]/.test(r)&&this.top.findWrapping(a.linebreakReplacement.create())){let l=r.split(/\r?\n|\r/);for(let u=0;u<l.length;u++)u&&this.insertNode(a.linebreakReplacement.create(),n,!0),l[u]&&this.insertNode(a.text(l[u]),n,!/\S/.test(l[u]));r=""}else r=r.replace(/\r?\n|\r/g," ");else if(r=r.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(r)&&this.open==this.nodes.length-1){let l=o.content[o.content.length-1],u=t.previousSibling;(!l||u&&u.nodeName=="BR"||l.isText&&/[ \t\r\n\u000c]$/.test(l.text))&&(r=r.slice(1))}r&&this.insertNode(a.text(r),n,!/\S/.test(r)),this.findInText(t)}else this.findInside(t)}addElement(t,n,r){let o=this.localPreserveWS,i=this.top;(t.tagName=="PRE"||/pre/.test(t.style&&t.style.whiteSpace))&&(this.localPreserveWS=!0);let a=t.nodeName.toLowerCase(),l;dD.hasOwnProperty(a)&&this.parser.normalizeLists&&QF(t);let u=this.options.ruleFromNode&&this.options.ruleFromNode(t)||(l=this.parser.matchTag(t,this,r));e:if(u?u.ignore:XF.hasOwnProperty(a))this.findInside(t),this.ignoreFallback(t,n);else if(!u||u.skip||u.closeParent){u&&u.closeParent?this.open=Math.max(0,this.open-1):u&&u.skip.nodeType&&(t=u.skip);let f,h=this.needsBlock;if(uD.hasOwnProperty(a))i.content.length&&i.content[0].isInline&&this.open&&(this.open--,i=this.top),f=!0,i.type||(this.needsBlock=!0);else if(!t.firstChild){this.leafFallback(t,n);break e}let p=u&&u.skip?n:this.readStyles(t,n);p&&this.addAll(t,p),f&&this.sync(i),this.needsBlock=h}else{let f=this.readStyles(t,n);f&&this.addElementByRule(t,u,f,u.consuming===!1?l:void 0)}this.localPreserveWS=o}leafFallback(t,n){t.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(t.ownerDocument.createTextNode(`
`),n)}ignoreFallback(t,n){t.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),n,!0)}readStyles(t,n){let r=t.style;if(r&&r.length)for(let o=0;o<this.parser.matchedStyles.length;o++){let i=this.parser.matchedStyles[o],a=r.getPropertyValue(i);if(a)for(let l=void 0;;){let u=this.parser.matchStyle(i,a,this,l);if(!u)break;if(u.ignore)return null;if(u.clearMark?n=n.filter(f=>!u.clearMark(f)):n=n.concat(this.parser.schema.marks[u.mark].create(u.attrs)),u.consuming===!1)l=u;else break}}return n}addElementByRule(t,n,r,o){let i,a;if(n.node)if(a=this.parser.schema.nodes[n.node],a.isLeaf)this.insertNode(a.create(n.attrs),r,t.nodeName=="BR")||this.leafFallback(t,r);else{let u=this.enter(a,n.attrs||null,r,n.preserveWhitespace);u&&(i=!0,r=u)}else{let u=this.parser.schema.marks[n.mark];r=r.concat(u.create(n.attrs))}let l=this.top;if(a&&a.isLeaf)this.findInside(t);else if(o)this.addElement(t,r,o);else if(n.getContent)this.findInside(t),n.getContent(t,this.parser.schema).forEach(u=>this.insertNode(u,r,!1));else{let u=t;typeof n.contentElement=="string"?u=t.querySelector(n.contentElement):typeof n.contentElement=="function"?u=n.contentElement(t):n.contentElement&&(u=n.contentElement),this.findAround(t,u,!0),this.addAll(u,r),this.findAround(t,u,!1)}i&&this.sync(l)&&this.open--}addAll(t,n,r,o){let i=r||0;for(let a=r?t.childNodes[r]:t.firstChild,l=o==null?null:t.childNodes[o];a!=l;a=a.nextSibling,++i)this.findAtPoint(t,i),this.addDOM(a,n);this.findAtPoint(t,i)}findPlace(t,n,r){let o,i;for(let a=this.open,l=0;a>=0;a--){let u=this.nodes[a],f=u.findWrapping(t);if(f&&(!o||o.length>f.length+l)&&(o=f,i=u,!f.length))break;if(u.solid){if(r)break;l+=2}}if(!o)return null;this.sync(i);for(let a=0;a<o.length;a++)n=this.enterInner(o[a],null,n,!1);return n}insertNode(t,n,r){if(t.isInline&&this.needsBlock&&!this.top.type){let i=this.textblockFromContext();i&&(n=this.enterInner(i,null,n))}let o=this.findPlace(t,n,r);if(o){this.closeExtra();let i=this.top;i.match&&(i.match=i.match.matchType(t.type));let a=Ct.none;for(let l of o.concat(t.marks))(i.type?i.type.allowsMarkType(l.type):wk(l.type,t.type))&&(a=l.addToSet(a));return i.content.push(t.mark(a)),!0}return!1}enter(t,n,r,o){let i=this.findPlace(t.create(n),r,!1);return i&&(i=this.enterInner(t,n,r,!0,o)),i}enterInner(t,n,r,o=!1,i){this.closeExtra();let a=this.top;a.match=a.match&&a.match.matchType(t);let l=bk(t,i,a.options);a.options&of&&a.content.length==0&&(l|=of);let u=Ct.none;return r=r.filter(f=>(a.type?a.type.allowsMarkType(f.type):wk(f.type,t))?(u=f.addToSet(u),!1):!0),this.nodes.push(new zp(t,n,u,o,null,l)),this.open++,r}closeExtra(t=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(t));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(t){for(let n=this.open;n>=0;n--){if(this.nodes[n]==t)return this.open=n,!0;this.localPreserveWS&&(this.nodes[n].options|=Cf)}return!1}get currentPos(){this.closeExtra();let t=0;for(let n=this.open;n>=0;n--){let r=this.nodes[n].content;for(let o=r.length-1;o>=0;o--)t+=r[o].nodeSize;n&&t++}return t}findAtPoint(t,n){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==t&&this.find[r].offset==n&&(this.find[r].pos=this.currentPos)}findInside(t){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&t.nodeType==1&&t.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(t,n,r){if(t!=n&&this.find)for(let o=0;o<this.find.length;o++)this.find[o].pos==null&&t.nodeType==1&&t.contains(this.find[o].node)&&n.compareDocumentPosition(this.find[o].node)&(r?2:4)&&(this.find[o].pos=this.currentPos)}findInText(t){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==t&&(this.find[n].pos=this.currentPos-(t.nodeValue.length-this.find[n].offset))}matchesContext(t){if(t.indexOf("|")>-1)return t.split(/\s*\|\s*/).some(this.matchesContext,this);let n=t.split("/"),r=this.options.context,o=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),i=-(r?r.depth+1:0)+(o?0:1),a=(l,u)=>{for(;l>=0;l--){let f=n[l];if(f==""){if(l==n.length-1||l==0)continue;for(;u>=i;u--)if(a(l-1,u))return!0;return!1}else{let h=u>0||u==0&&o?this.nodes[u].type:r&&u>=i?r.node(u-i).type:null;if(!h||h.name!=f&&!h.isInGroup(f))return!1;u--}}return!0};return a(n.length-1,this.open)}textblockFromContext(){let t=this.options.context;if(t)for(let n=t.depth;n>=0;n--){let r=t.node(n).contentMatchAt(t.indexAfter(n)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let n in this.parser.schema.nodes){let r=this.parser.schema.nodes[n];if(r.isTextblock&&r.defaultAttrs)return r}}}function QF(e){for(let t=e.firstChild,n=null;t;t=t.nextSibling){let r=t.nodeType==1?t.nodeName.toLowerCase():null;r&&dD.hasOwnProperty(r)&&n?(n.appendChild(t),t=n):r=="li"?n=t:r&&(n=null)}}function ZF(e,t){return(e.matches||e.msMatchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector).call(e,t)}function yk(e){let t={};for(let n in e)t[n]=e[n];return t}function wk(e,t){let n=t.schema.nodes;for(let r in n){let o=n[r];if(!o.allowsMarkType(e))continue;let i=[],a=l=>{i.push(l);for(let u=0;u<l.edgeCount;u++){let{type:f,next:h}=l.edge(u);if(f==t||i.indexOf(h)<0&&a(h))return!0}};if(a(o.contentMatch))return!0}}class Ul{constructor(t,n){this.nodes=t,this.marks=n}serializeFragment(t,n={},r){r||(r=ry(n).createDocumentFragment());let o=r,i=[];return t.forEach(a=>{if(i.length||a.marks.length){let l=0,u=0;for(;l<i.length&&u<a.marks.length;){let f=a.marks[u];if(!this.marks[f.type.name]){u++;continue}if(!f.eq(i[l][0])||f.type.spec.spanning===!1)break;l++,u++}for(;l<i.length;)o=i.pop()[1];for(;u<a.marks.length;){let f=a.marks[u++],h=this.serializeMark(f,a.isInline,n);h&&(i.push([f,o]),o.appendChild(h.dom),o=h.contentDOM||h.dom)}}o.appendChild(this.serializeNodeInner(a,n))}),r}serializeNodeInner(t,n){let{dom:r,contentDOM:o}=wm(ry(n),this.nodes[t.type.name](t),null,t.attrs);if(o){if(t.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(t.content,n,o)}return r}serializeNode(t,n={}){let r=this.serializeNodeInner(t,n);for(let o=t.marks.length-1;o>=0;o--){let i=this.serializeMark(t.marks[o],t.isInline,n);i&&((i.contentDOM||i.dom).appendChild(r),r=i.dom)}return r}serializeMark(t,n,r={}){let o=this.marks[t.type.name];return o&&wm(ry(r),o(t,n),null,t.attrs)}static renderSpec(t,n,r=null,o){return wm(t,n,r,o)}static fromSchema(t){return t.cached.domSerializer||(t.cached.domSerializer=new Ul(this.nodesFromSchema(t),this.marksFromSchema(t)))}static nodesFromSchema(t){let n=Ck(t.nodes);return n.text||(n.text=r=>r.text),n}static marksFromSchema(t){return Ck(t.marks)}}function Ck(e){let t={};for(let n in e){let r=e[n].spec.toDOM;r&&(t[n]=r)}return t}function ry(e){return e.document||window.document}const Nk=new WeakMap;function eq(e){let t=Nk.get(e);return t===void 0&&Nk.set(e,t=tq(e)),t}function tq(e){let t=null;function n(r){if(r&&typeof r=="object")if(Array.isArray(r))if(typeof r[0]=="string")t||(t=[]),t.push(r);else for(let o=0;o<r.length;o++)n(r[o]);else for(let o in r)n(r[o])}return n(e),t}function wm(e,t,n,r){if(typeof t=="string")return{dom:e.createTextNode(t)};if(t.nodeType!=null)return{dom:t};if(t.dom&&t.dom.nodeType!=null)return t;let o=t[0],i;if(typeof o!="string")throw new RangeError("Invalid array passed to renderSpec");if(r&&(i=eq(r))&&i.indexOf(t)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let a=o.indexOf(" ");a>0&&(n=o.slice(0,a),o=o.slice(a+1));let l,u=n?e.createElementNS(n,o):e.createElement(o),f=t[1],h=1;if(f&&typeof f=="object"&&f.nodeType==null&&!Array.isArray(f)){h=2;for(let p in f)if(f[p]!=null){let g=p.indexOf(" ");g>0?u.setAttributeNS(p.slice(0,g),p.slice(g+1),f[p]):p=="style"&&u.style?u.style.cssText=f[p]:u.setAttribute(p,f[p])}}for(let p=h;p<t.length;p++){let g=t[p];if(g===0){if(p<t.length-1||p>h)throw new RangeError("Content hole must be the only child of its parent node");return{dom:u,contentDOM:u}}else{let{dom:x,contentDOM:y}=wm(e,g,n,r);if(u.appendChild(x),y){if(l)throw new RangeError("Multiple content holes");l=y}}}return{dom:u,contentDOM:l}}const fD=65535,hD=Math.pow(2,16);function nq(e,t){return e+t*hD}function Sk(e){return e&fD}function rq(e){return(e-(e&fD))/hD}const pD=1,mD=2,Cm=4,gD=8;class ww{constructor(t,n,r){this.pos=t,this.delInfo=n,this.recover=r}get deleted(){return(this.delInfo&gD)>0}get deletedBefore(){return(this.delInfo&(pD|Cm))>0}get deletedAfter(){return(this.delInfo&(mD|Cm))>0}get deletedAcross(){return(this.delInfo&Cm)>0}}class zr{constructor(t,n=!1){if(this.ranges=t,this.inverted=n,!t.length&&zr.empty)return zr.empty}recover(t){let n=0,r=Sk(t);if(!this.inverted)for(let o=0;o<r;o++)n+=this.ranges[o*3+2]-this.ranges[o*3+1];return this.ranges[r*3]+n+rq(t)}mapResult(t,n=1){return this._map(t,n,!1)}map(t,n=1){return this._map(t,n,!0)}_map(t,n,r){let o=0,i=this.inverted?2:1,a=this.inverted?1:2;for(let l=0;l<this.ranges.length;l+=3){let u=this.ranges[l]-(this.inverted?o:0);if(u>t)break;let f=this.ranges[l+i],h=this.ranges[l+a],p=u+f;if(t<=p){let g=f?t==u?-1:t==p?1:n:n,x=u+o+(g<0?0:h);if(r)return x;let y=t==(n<0?u:p)?null:nq(l/3,t-u),N=t==u?mD:t==p?pD:Cm;return(n<0?t!=u:t!=p)&&(N|=gD),new ww(x,N,y)}o+=h-f}return r?t+o:new ww(t+o,0,null)}touches(t,n){let r=0,o=Sk(n),i=this.inverted?2:1,a=this.inverted?1:2;for(let l=0;l<this.ranges.length;l+=3){let u=this.ranges[l]-(this.inverted?r:0);if(u>t)break;let f=this.ranges[l+i],h=u+f;if(t<=h&&l==o*3)return!0;r+=this.ranges[l+a]-f}return!1}forEach(t){let n=this.inverted?2:1,r=this.inverted?1:2;for(let o=0,i=0;o<this.ranges.length;o+=3){let a=this.ranges[o],l=a-(this.inverted?i:0),u=a+(this.inverted?0:i),f=this.ranges[o+n],h=this.ranges[o+r];t(l,l+f,u,u+h),i+=h-f}}invert(){return new zr(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(t){return t==0?zr.empty:new zr(t<0?[0,-t,0]:[0,0,t])}}zr.empty=new zr([]);class Nf{constructor(t,n,r=0,o=t?t.length:0){this.mirror=n,this.from=r,this.to=o,this._maps=t||[],this.ownData=!(t||n)}get maps(){return this._maps}slice(t=0,n=this.maps.length){return new Nf(this._maps,this.mirror,t,n)}appendMap(t,n){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(t),n!=null&&this.setMirror(this._maps.length-1,n)}appendMapping(t){for(let n=0,r=this._maps.length;n<t._maps.length;n++){let o=t.getMirror(n);this.appendMap(t._maps[n],o!=null&&o<n?r+o:void 0)}}getMirror(t){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==t)return this.mirror[n+(n%2?-1:1)]}}setMirror(t,n){this.mirror||(this.mirror=[]),this.mirror.push(t,n)}appendMappingInverted(t){for(let n=t.maps.length-1,r=this._maps.length+t._maps.length;n>=0;n--){let o=t.getMirror(n);this.appendMap(t._maps[n].invert(),o!=null&&o>n?r-o-1:void 0)}}invert(){let t=new Nf;return t.appendMappingInverted(this),t}map(t,n=1){if(this.mirror)return this._map(t,n,!0);for(let r=this.from;r<this.to;r++)t=this._maps[r].map(t,n);return t}mapResult(t,n=1){return this._map(t,n,!1)}_map(t,n,r){let o=0;for(let i=this.from;i<this.to;i++){let a=this._maps[i],l=a.mapResult(t,n);if(l.recover!=null){let u=this.getMirror(i);if(u!=null&&u>i&&u<this.to){i=u,t=this._maps[u].recover(l.recover);continue}}o|=l.delInfo,t=l.pos}return r?t:new ww(t,o,null)}}const oy=Object.create(null);let tr=class{getMap(){return zr.empty}merge(t){return null}static fromJSON(t,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=oy[n.stepType];if(!r)throw new RangeError(`No step type ${n.stepType} defined`);return r.fromJSON(t,n)}static jsonID(t,n){if(t in oy)throw new RangeError("Duplicate use of step JSON ID "+t);return oy[t]=n,n.prototype.jsonID=t,n}};class ln{constructor(t,n){this.doc=t,this.failed=n}static ok(t){return new ln(t,null)}static fail(t){return new ln(null,t)}static fromReplace(t,n,r,o){try{return ln.ok(t.replace(n,r,o))}catch(i){if(i instanceof Bm)return ln.fail(i.message);throw i}}}function bC(e,t,n){let r=[];for(let o=0;o<e.childCount;o++){let i=e.child(o);i.content.size&&(i=i.copy(bC(i.content,t,i))),i.isInline&&(i=t(i,n,o)),r.push(i)}return he.fromArray(r)}class us extends tr{constructor(t,n,r){super(),this.from=t,this.to=n,this.mark=r}apply(t){let n=t.slice(this.from,this.to),r=t.resolve(this.from),o=r.node(r.sharedDepth(this.to)),i=new we(bC(n.content,(a,l)=>!a.isAtom||!l.type.allowsMarkType(this.mark.type)?a:a.mark(this.mark.addToSet(a.marks)),o),n.openStart,n.openEnd);return ln.fromReplace(t,this.from,this.to,i)}invert(){return new Oo(this.from,this.to,this.mark)}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new us(n.pos,r.pos,this.mark)}merge(t){return t instanceof us&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new us(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new us(n.from,n.to,t.markFromJSON(n.mark))}}tr.jsonID("addMark",us);class Oo extends tr{constructor(t,n,r){super(),this.from=t,this.to=n,this.mark=r}apply(t){let n=t.slice(this.from,this.to),r=new we(bC(n.content,o=>o.mark(this.mark.removeFromSet(o.marks)),t),n.openStart,n.openEnd);return ln.fromReplace(t,this.from,this.to,r)}invert(){return new us(this.from,this.to,this.mark)}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new Oo(n.pos,r.pos,this.mark)}merge(t){return t instanceof Oo&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new Oo(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new Oo(n.from,n.to,t.markFromJSON(n.mark))}}tr.jsonID("removeMark",Oo);class ds extends tr{constructor(t,n){super(),this.pos=t,this.mark=n}apply(t){let n=t.nodeAt(this.pos);if(!n)return ln.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return ln.fromReplace(t,this.pos,this.pos+1,new we(he.from(r),0,n.isLeaf?0:1))}invert(t){let n=t.nodeAt(this.pos);if(n){let r=this.mark.addToSet(n.marks);if(r.length==n.marks.length){for(let o=0;o<n.marks.length;o++)if(!n.marks[o].isInSet(r))return new ds(this.pos,n.marks[o]);return new ds(this.pos,this.mark)}}return new El(this.pos,this.mark)}map(t){let n=t.mapResult(this.pos,1);return n.deletedAfter?null:new ds(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new ds(n.pos,t.markFromJSON(n.mark))}}tr.jsonID("addNodeMark",ds);class El extends tr{constructor(t,n){super(),this.pos=t,this.mark=n}apply(t){let n=t.nodeAt(this.pos);if(!n)return ln.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return ln.fromReplace(t,this.pos,this.pos+1,new we(he.from(r),0,n.isLeaf?0:1))}invert(t){let n=t.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new ds(this.pos,this.mark)}map(t){let n=t.mapResult(this.pos,1);return n.deletedAfter?null:new El(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new El(n.pos,t.markFromJSON(n.mark))}}tr.jsonID("removeNodeMark",El);class En extends tr{constructor(t,n,r,o=!1){super(),this.from=t,this.to=n,this.slice=r,this.structure=o}apply(t){return this.structure&&Cw(t,this.from,this.to)?ln.fail("Structure replace would overwrite content"):ln.fromReplace(t,this.from,this.to,this.slice)}getMap(){return new zr([this.from,this.to-this.from,this.slice.size])}invert(t){return new En(this.from,this.from+this.slice.size,t.slice(this.from,this.to))}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deletedAcross&&r.deletedAcross?null:new En(n.pos,Math.max(n.pos,r.pos),this.slice,this.structure)}merge(t){if(!(t instanceof En)||t.structure||this.structure)return null;if(this.from+this.slice.size==t.from&&!this.slice.openEnd&&!t.slice.openStart){let n=this.slice.size+t.slice.size==0?we.empty:new we(this.slice.content.append(t.slice.content),this.slice.openStart,t.slice.openEnd);return new En(this.from,this.to+(t.to-t.from),n,this.structure)}else if(t.to==this.from&&!this.slice.openStart&&!t.slice.openEnd){let n=this.slice.size+t.slice.size==0?we.empty:new we(t.slice.content.append(this.slice.content),t.slice.openStart,this.slice.openEnd);return new En(t.from,this.to,n,this.structure)}else return null}toJSON(){let t={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new En(n.from,n.to,we.fromJSON(t,n.slice),!!n.structure)}}tr.jsonID("replace",En);class jn extends tr{constructor(t,n,r,o,i,a,l=!1){super(),this.from=t,this.to=n,this.gapFrom=r,this.gapTo=o,this.slice=i,this.insert=a,this.structure=l}apply(t){if(this.structure&&(Cw(t,this.from,this.gapFrom)||Cw(t,this.gapTo,this.to)))return ln.fail("Structure gap-replace would overwrite content");let n=t.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return ln.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,n.content);return r?ln.fromReplace(t,this.from,this.to,r):ln.fail("Content does not fit in gap")}getMap(){return new zr([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(t){let n=this.gapTo-this.gapFrom;return new jn(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,t.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1),o=this.from==this.gapFrom?n.pos:t.map(this.gapFrom,-1),i=this.to==this.gapTo?r.pos:t.map(this.gapTo,1);return n.deletedAcross&&r.deletedAcross||o<n.pos||i>r.pos?null:new jn(n.pos,r.pos,o,i,this.slice,this.insert,this.structure)}toJSON(){let t={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new jn(n.from,n.to,n.gapFrom,n.gapTo,we.fromJSON(t,n.slice),n.insert,!!n.structure)}}tr.jsonID("replaceAround",jn);function Cw(e,t,n){let r=e.resolve(t),o=n-t,i=r.depth;for(;o>0&&i>0&&r.indexAfter(i)==r.node(i).childCount;)i--,o--;if(o>0){let a=r.node(i).maybeChild(r.indexAfter(i));for(;o>0;){if(!a||a.isLeaf)return!0;a=a.firstChild,o--}}return!1}function oq(e,t,n,r){let o=[],i=[],a,l;e.doc.nodesBetween(t,n,(u,f,h)=>{if(!u.isInline)return;let p=u.marks;if(!r.isInSet(p)&&h.type.allowsMarkType(r.type)){let g=Math.max(f,t),x=Math.min(f+u.nodeSize,n),y=r.addToSet(p);for(let N=0;N<p.length;N++)p[N].isInSet(y)||(a&&a.to==g&&a.mark.eq(p[N])?a.to=x:o.push(a=new Oo(g,x,p[N])));l&&l.to==g?l.to=x:i.push(l=new us(g,x,r))}}),o.forEach(u=>e.step(u)),i.forEach(u=>e.step(u))}function iq(e,t,n,r){let o=[],i=0;e.doc.nodesBetween(t,n,(a,l)=>{if(!a.isInline)return;i++;let u=null;if(r instanceof Sx){let f=a.marks,h;for(;h=r.isInSet(f);)(u||(u=[])).push(h),f=h.removeFromSet(f)}else r?r.isInSet(a.marks)&&(u=[r]):u=a.marks;if(u&&u.length){let f=Math.min(l+a.nodeSize,n);for(let h=0;h<u.length;h++){let p=u[h],g;for(let x=0;x<o.length;x++){let y=o[x];y.step==i-1&&p.eq(o[x].style)&&(g=y)}g?(g.to=f,g.step=i):o.push({style:p,from:Math.max(l,t),to:f,step:i})}}}),o.forEach(a=>e.step(new Oo(a.from,a.to,a.style)))}function vC(e,t,n,r=n.contentMatch,o=!0){let i=e.doc.nodeAt(t),a=[],l=t+1;for(let u=0;u<i.childCount;u++){let f=i.child(u),h=l+f.nodeSize,p=r.matchType(f.type);if(!p)a.push(new En(l,h,we.empty));else{r=p;for(let g=0;g<f.marks.length;g++)n.allowsMarkType(f.marks[g].type)||e.step(new Oo(l,h,f.marks[g]));if(o&&f.isText&&n.whitespace!="pre"){let g,x=/\r?\n|\r/g,y;for(;g=x.exec(f.text);)y||(y=new we(he.from(n.schema.text(" ",n.allowedMarks(f.marks))),0,0)),a.push(new En(l+g.index,l+g.index+g[0].length,y))}}l=h}if(!r.validEnd){let u=r.fillBefore(he.empty,!0);e.replace(l,l,new we(u,0,0))}for(let u=a.length-1;u>=0;u--)e.step(a[u])}function aq(e,t,n){return(t==0||e.canReplace(t,e.childCount))&&(n==e.childCount||e.canReplace(0,n))}function xu(e){let n=e.parent.content.cutByIndex(e.startIndex,e.endIndex);for(let r=e.depth;;--r){let o=e.$from.node(r),i=e.$from.index(r),a=e.$to.indexAfter(r);if(r<e.depth&&o.canReplace(i,a,n))return r;if(r==0||o.type.spec.isolating||!aq(o,i,a))break}return null}function sq(e,t,n){let{$from:r,$to:o,depth:i}=t,a=r.before(i+1),l=o.after(i+1),u=a,f=l,h=he.empty,p=0;for(let y=i,N=!1;y>n;y--)N||r.index(y)>0?(N=!0,h=he.from(r.node(y).copy(h)),p++):u--;let g=he.empty,x=0;for(let y=i,N=!1;y>n;y--)N||o.after(y+1)<o.end(y)?(N=!0,g=he.from(o.node(y).copy(g)),x++):f++;e.step(new jn(u,f,a,l,new we(h.append(g),p,x),h.size-p,!0))}function yC(e,t,n=null,r=e){let o=lq(e,t),i=o&&cq(r,t);return i?o.map(Ek).concat({type:t,attrs:n}).concat(i.map(Ek)):null}function Ek(e){return{type:e,attrs:null}}function lq(e,t){let{parent:n,startIndex:r,endIndex:o}=e,i=n.contentMatchAt(r).findWrapping(t);if(!i)return null;let a=i.length?i[0]:t;return n.canReplaceWith(r,o,a)?i:null}function cq(e,t){let{parent:n,startIndex:r,endIndex:o}=e,i=n.child(r),a=t.contentMatch.findWrapping(i.type);if(!a)return null;let u=(a.length?a[a.length-1]:t).contentMatch;for(let f=r;u&&f<o;f++)u=u.matchType(n.child(f).type);return!u||!u.validEnd?null:a}function uq(e,t,n){let r=he.empty;for(let a=n.length-1;a>=0;a--){if(r.size){let l=n[a].type.contentMatch.matchFragment(r);if(!l||!l.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=he.from(n[a].type.create(n[a].attrs,r))}let o=t.start,i=t.end;e.step(new jn(o,i,o,i,new we(r,0,0),n.length,!0))}function dq(e,t,n,r,o){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let i=e.steps.length;e.doc.nodesBetween(t,n,(a,l)=>{let u=typeof o=="function"?o(a):o;if(a.isTextblock&&!a.hasMarkup(r,u)&&fq(e.doc,e.mapping.slice(i).map(l),r)){let f=null;if(r.schema.linebreakReplacement){let x=r.whitespace=="pre",y=!!r.contentMatch.matchType(r.schema.linebreakReplacement);x&&!y?f=!1:!x&&y&&(f=!0)}f===!1&&bD(e,a,l,i),vC(e,e.mapping.slice(i).map(l,1),r,void 0,f===null);let h=e.mapping.slice(i),p=h.map(l,1),g=h.map(l+a.nodeSize,1);return e.step(new jn(p,g,p+1,g-1,new we(he.from(r.create(u,null,a.marks)),0,0),1,!0)),f===!0&&xD(e,a,l,i),!1}})}function xD(e,t,n,r){t.forEach((o,i)=>{if(o.isText){let a,l=/\r?\n|\r/g;for(;a=l.exec(o.text);){let u=e.mapping.slice(r).map(n+1+i+a.index);e.replaceWith(u,u+1,t.type.schema.linebreakReplacement.create())}}})}function bD(e,t,n,r){t.forEach((o,i)=>{if(o.type==o.type.schema.linebreakReplacement){let a=e.mapping.slice(r).map(n+1+i);e.replaceWith(a,a+1,t.type.schema.text(`
`))}})}function fq(e,t,n){let r=e.resolve(t),o=r.index();return r.parent.canReplaceWith(o,o+1,n)}function hq(e,t,n,r,o){let i=e.doc.nodeAt(t);if(!i)throw new RangeError("No node at given position");n||(n=i.type);let a=n.create(r,null,o||i.marks);if(i.isLeaf)return e.replaceWith(t,t+i.nodeSize,a);if(!n.validContent(i.content))throw new RangeError("Invalid content for node type "+n.name);e.step(new jn(t,t+i.nodeSize,t+1,t+i.nodeSize-1,new we(he.from(a),0,0),1,!0))}function Ji(e,t,n=1,r){let o=e.resolve(t),i=o.depth-n,a=r&&r[r.length-1]||o.parent;if(i<0||o.parent.type.spec.isolating||!o.parent.canReplace(o.index(),o.parent.childCount)||!a.type.validContent(o.parent.content.cutByIndex(o.index(),o.parent.childCount)))return!1;for(let f=o.depth-1,h=n-2;f>i;f--,h--){let p=o.node(f),g=o.index(f);if(p.type.spec.isolating)return!1;let x=p.content.cutByIndex(g,p.childCount),y=r&&r[h+1];y&&(x=x.replaceChild(0,y.type.create(y.attrs)));let N=r&&r[h]||p;if(!p.canReplace(g+1,p.childCount)||!N.type.validContent(x))return!1}let l=o.indexAfter(i),u=r&&r[0];return o.node(i).canReplaceWith(l,l,u?u.type:o.node(i+1).type)}function pq(e,t,n=1,r){let o=e.doc.resolve(t),i=he.empty,a=he.empty;for(let l=o.depth,u=o.depth-n,f=n-1;l>u;l--,f--){i=he.from(o.node(l).copy(i));let h=r&&r[f];a=he.from(h?h.type.create(h.attrs,a):o.node(l).copy(a))}e.step(new En(t,t,new we(i.append(a),n,n),!0))}function Ss(e,t){let n=e.resolve(t),r=n.index();return vD(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function mq(e,t){t.content.size||e.type.compatibleContent(t.type);let n=e.contentMatchAt(e.childCount),{linebreakReplacement:r}=e.type.schema;for(let o=0;o<t.childCount;o++){let i=t.child(o),a=i.type==r?e.type.schema.nodes.text:i.type;if(n=n.matchType(a),!n||!e.type.allowsMarks(i.marks))return!1}return n.validEnd}function vD(e,t){return!!(e&&t&&!e.isLeaf&&mq(e,t))}function Ex(e,t,n=-1){let r=e.resolve(t);for(let o=r.depth;;o--){let i,a,l=r.index(o);if(o==r.depth?(i=r.nodeBefore,a=r.nodeAfter):n>0?(i=r.node(o+1),l++,a=r.node(o).maybeChild(l)):(i=r.node(o).maybeChild(l-1),a=r.node(o+1)),i&&!i.isTextblock&&vD(i,a)&&r.node(o).canReplace(l,l+1))return t;if(o==0)break;t=n<0?r.before(o):r.after(o)}}function gq(e,t,n){let r=null,{linebreakReplacement:o}=e.doc.type.schema,i=e.doc.resolve(t-n),a=i.node().type;if(o&&a.inlineContent){let h=a.whitespace=="pre",p=!!a.contentMatch.matchType(o);h&&!p?r=!1:!h&&p&&(r=!0)}let l=e.steps.length;if(r===!1){let h=e.doc.resolve(t+n);bD(e,h.node(),h.before(),l)}a.inlineContent&&vC(e,t+n-1,a,i.node().contentMatchAt(i.index()),r==null);let u=e.mapping.slice(l),f=u.map(t-n);if(e.step(new En(f,u.map(t+n,-1),we.empty,!0)),r===!0){let h=e.doc.resolve(f);xD(e,h.node(),h.before(),e.steps.length)}return e}function xq(e,t,n){let r=e.resolve(t);if(r.parent.canReplaceWith(r.index(),r.index(),n))return t;if(r.parentOffset==0)for(let o=r.depth-1;o>=0;o--){let i=r.index(o);if(r.node(o).canReplaceWith(i,i,n))return r.before(o+1);if(i>0)return null}if(r.parentOffset==r.parent.content.size)for(let o=r.depth-1;o>=0;o--){let i=r.indexAfter(o);if(r.node(o).canReplaceWith(i,i,n))return r.after(o+1);if(i<r.node(o).childCount)return null}return null}function yD(e,t,n){let r=e.resolve(t);if(!n.content.size)return t;let o=n.content;for(let i=0;i<n.openStart;i++)o=o.firstChild.content;for(let i=1;i<=(n.openStart==0&&n.size?2:1);i++)for(let a=r.depth;a>=0;a--){let l=a==r.depth?0:r.pos<=(r.start(a+1)+r.end(a+1))/2?-1:1,u=r.index(a)+(l>0?1:0),f=r.node(a),h=!1;if(i==1)h=f.canReplace(u,u,o);else{let p=f.contentMatchAt(u).findWrapping(o.firstChild.type);h=p&&f.canReplaceWith(u,u,p[0])}if(h)return l==0?r.pos:l<0?r.before(a+1):r.after(a+1)}return null}function jx(e,t,n=t,r=we.empty){if(t==n&&!r.size)return null;let o=e.resolve(t),i=e.resolve(n);return wD(o,i,r)?new En(t,n,r):new bq(o,i,r).fit()}function wD(e,t,n){return!n.openStart&&!n.openEnd&&e.start()==t.start()&&e.parent.canReplace(e.index(),t.index(),n.content)}class bq{constructor(t,n,r){this.$from=t,this.$to=n,this.unplaced=r,this.frontier=[],this.placed=he.empty;for(let o=0;o<=t.depth;o++){let i=t.node(o);this.frontier.push({type:i.type,match:i.contentMatchAt(t.indexAfter(o))})}for(let o=t.depth;o>0;o--)this.placed=he.from(t.node(o).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let f=this.findFittable();f?this.placeNodes(f):this.openMore()||this.dropNode()}let t=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,o=this.close(t<0?this.$to:r.doc.resolve(t));if(!o)return null;let i=this.placed,a=r.depth,l=o.depth;for(;a&&l&&i.childCount==1;)i=i.firstChild.content,a--,l--;let u=new we(i,a,l);return t>-1?new jn(r.pos,t,this.$to.pos,this.$to.end(),u,n):u.size||r.pos!=this.$to.pos?new En(r.pos,o.pos,u):null}findFittable(){let t=this.unplaced.openStart;for(let n=this.unplaced.content,r=0,o=this.unplaced.openEnd;r<t;r++){let i=n.firstChild;if(n.childCount>1&&(o=0),i.type.spec.isolating&&o<=r){t=r;break}n=i.content}for(let n=1;n<=2;n++)for(let r=n==1?t:this.unplaced.openStart;r>=0;r--){let o,i=null;r?(i=iy(this.unplaced.content,r-1).firstChild,o=i.content):o=this.unplaced.content;let a=o.firstChild;for(let l=this.depth;l>=0;l--){let{type:u,match:f}=this.frontier[l],h,p=null;if(n==1&&(a?f.matchType(a.type)||(p=f.fillBefore(he.from(a),!1)):i&&u.compatibleContent(i.type)))return{sliceDepth:r,frontierDepth:l,parent:i,inject:p};if(n==2&&a&&(h=f.findWrapping(a.type)))return{sliceDepth:r,frontierDepth:l,parent:i,wrap:h};if(i&&f.matchType(i.type))break}}}openMore(){let{content:t,openStart:n,openEnd:r}=this.unplaced,o=iy(t,n);return!o.childCount||o.firstChild.isLeaf?!1:(this.unplaced=new we(t,n+1,Math.max(r,o.size+n>=t.size-r?n+1:0)),!0)}dropNode(){let{content:t,openStart:n,openEnd:r}=this.unplaced,o=iy(t,n);if(o.childCount<=1&&n>0){let i=t.size-n<=n+o.size;this.unplaced=new we(Yd(t,n-1,1),n-1,i?n-1:r)}else this.unplaced=new we(Yd(t,n,1),n,r)}placeNodes({sliceDepth:t,frontierDepth:n,parent:r,inject:o,wrap:i}){for(;this.depth>n;)this.closeFrontierNode();if(i)for(let N=0;N<i.length;N++)this.openFrontierNode(i[N]);let a=this.unplaced,l=r?r.content:a.content,u=a.openStart-t,f=0,h=[],{match:p,type:g}=this.frontier[n];if(o){for(let N=0;N<o.childCount;N++)h.push(o.child(N));p=p.matchFragment(o)}let x=l.size+t-(a.content.size-a.openEnd);for(;f<l.childCount;){let N=l.child(f),C=p.matchType(N.type);if(!C)break;f++,(f>1||u==0||N.content.size)&&(p=C,h.push(CD(N.mark(g.allowedMarks(N.marks)),f==1?u:0,f==l.childCount?x:-1)))}let y=f==l.childCount;y||(x=-1),this.placed=Xd(this.placed,n,he.from(h)),this.frontier[n].match=p,y&&x<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let N=0,C=l;N<x;N++){let A=C.lastChild;this.frontier.push({type:A.type,match:A.contentMatchAt(A.childCount)}),C=A.content}this.unplaced=y?t==0?we.empty:new we(Yd(a.content,t-1,1),t-1,x<0?a.openEnd:t-1):new we(Yd(a.content,t,f),a.openStart,a.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let t=this.frontier[this.depth],n;if(!t.type.isTextblock||!ay(this.$to,this.$to.depth,t.type,t.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:r}=this.$to,o=this.$to.after(r);for(;r>1&&o==this.$to.end(--r);)++o;return o}findCloseLevel(t){e:for(let n=Math.min(this.depth,t.depth);n>=0;n--){let{match:r,type:o}=this.frontier[n],i=n<t.depth&&t.end(n+1)==t.pos+(t.depth-(n+1)),a=ay(t,n,o,r,i);if(a){for(let l=n-1;l>=0;l--){let{match:u,type:f}=this.frontier[l],h=ay(t,l,f,u,!0);if(!h||h.childCount)continue e}return{depth:n,fit:a,move:i?t.doc.resolve(t.after(n+1)):t}}}}close(t){let n=this.findCloseLevel(t);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=Xd(this.placed,n.depth,n.fit)),t=n.move;for(let r=n.depth+1;r<=t.depth;r++){let o=t.node(r),i=o.type.contentMatch.fillBefore(o.content,!0,t.index(r));this.openFrontierNode(o.type,o.attrs,i)}return t}openFrontierNode(t,n=null,r){let o=this.frontier[this.depth];o.match=o.match.matchType(t),this.placed=Xd(this.placed,this.depth,he.from(t.create(n,r))),this.frontier.push({type:t,match:t.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(he.empty,!0);n.childCount&&(this.placed=Xd(this.placed,this.frontier.length,n))}}function Yd(e,t,n){return t==0?e.cutByIndex(n,e.childCount):e.replaceChild(0,e.firstChild.copy(Yd(e.firstChild.content,t-1,n)))}function Xd(e,t,n){return t==0?e.append(n):e.replaceChild(e.childCount-1,e.lastChild.copy(Xd(e.lastChild.content,t-1,n)))}function iy(e,t){for(let n=0;n<t;n++)e=e.firstChild.content;return e}function CD(e,t,n){if(t<=0)return e;let r=e.content;return t>1&&(r=r.replaceChild(0,CD(r.firstChild,t-1,r.childCount==1?n-1:0))),t>0&&(r=e.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(e.type.contentMatch.matchFragment(r).fillBefore(he.empty,!0)))),e.copy(r)}function ay(e,t,n,r,o){let i=e.node(t),a=o?e.indexAfter(t):e.index(t);if(a==i.childCount&&!n.compatibleContent(i.type))return null;let l=r.fillBefore(i.content,!0,a);return l&&!vq(n,i.content,a)?l:null}function vq(e,t,n){for(let r=n;r<t.childCount;r++)if(!e.allowsMarks(t.child(r).marks))return!0;return!1}function yq(e){return e.spec.defining||e.spec.definingForContent}function wq(e,t,n,r){if(!r.size)return e.deleteRange(t,n);let o=e.doc.resolve(t),i=e.doc.resolve(n);if(wD(o,i,r))return e.step(new En(t,n,r));let a=SD(o,e.doc.resolve(n));a[a.length-1]==0&&a.pop();let l=-(o.depth+1);a.unshift(l);for(let g=o.depth,x=o.pos-1;g>0;g--,x--){let y=o.node(g).type.spec;if(y.defining||y.definingAsContext||y.isolating)break;a.indexOf(g)>-1?l=g:o.before(g)==x&&a.splice(1,0,-g)}let u=a.indexOf(l),f=[],h=r.openStart;for(let g=r.content,x=0;;x++){let y=g.firstChild;if(f.push(y),x==r.openStart)break;g=y.content}for(let g=h-1;g>=0;g--){let x=f[g],y=yq(x.type);if(y&&!x.sameMarkup(o.node(Math.abs(l)-1)))h=g;else if(y||!x.type.isTextblock)break}for(let g=r.openStart;g>=0;g--){let x=(g+h+1)%(r.openStart+1),y=f[x];if(y)for(let N=0;N<a.length;N++){let C=a[(N+u)%a.length],A=!0;C<0&&(A=!1,C=-C);let T=o.node(C-1),k=o.index(C-1);if(T.canReplaceWith(k,k,y.type,y.marks))return e.replace(o.before(C),A?i.after(C):n,new we(ND(r.content,0,r.openStart,x),x,r.openEnd))}}let p=e.steps.length;for(let g=a.length-1;g>=0&&(e.replace(t,n,r),!(e.steps.length>p));g--){let x=a[g];x<0||(t=o.before(x),n=i.after(x))}}function ND(e,t,n,r,o){if(t<n){let i=e.firstChild;e=e.replaceChild(0,i.copy(ND(i.content,t+1,n,r,i)))}if(t>r){let i=o.contentMatchAt(0),a=i.fillBefore(e).append(e);e=a.append(i.matchFragment(a).fillBefore(he.empty,!0))}return e}function Cq(e,t,n,r){if(!r.isInline&&t==n&&e.doc.resolve(t).parent.content.size){let o=xq(e.doc,t,r.type);o!=null&&(t=n=o)}e.replaceRange(t,n,new we(he.from(r),0,0))}function Nq(e,t,n){let r=e.doc.resolve(t),o=e.doc.resolve(n),i=SD(r,o);for(let a=0;a<i.length;a++){let l=i[a],u=a==i.length-1;if(u&&l==0||r.node(l).type.contentMatch.validEnd)return e.delete(r.start(l),o.end(l));if(l>0&&(u||r.node(l-1).canReplace(r.index(l-1),o.indexAfter(l-1))))return e.delete(r.before(l),o.after(l))}for(let a=1;a<=r.depth&&a<=o.depth;a++)if(t-r.start(a)==r.depth-a&&n>r.end(a)&&o.end(a)-n!=o.depth-a&&r.start(a-1)==o.start(a-1)&&r.node(a-1).canReplace(r.index(a-1),o.index(a-1)))return e.delete(r.before(a),n);e.delete(t,n)}function SD(e,t){let n=[],r=Math.min(e.depth,t.depth);for(let o=r;o>=0;o--){let i=e.start(o);if(i<e.pos-(e.depth-o)||t.end(o)>t.pos+(t.depth-o)||e.node(o).type.spec.isolating||t.node(o).type.spec.isolating)break;(i==t.start(o)||o==e.depth&&o==t.depth&&e.parent.inlineContent&&t.parent.inlineContent&&o&&t.start(o-1)==i-1)&&n.push(o)}return n}class Vc extends tr{constructor(t,n,r){super(),this.pos=t,this.attr=n,this.value=r}apply(t){let n=t.nodeAt(this.pos);if(!n)return ln.fail("No node at attribute step's position");let r=Object.create(null);for(let i in n.attrs)r[i]=n.attrs[i];r[this.attr]=this.value;let o=n.type.create(r,null,n.marks);return ln.fromReplace(t,this.pos,this.pos+1,new we(he.from(o),0,n.isLeaf?0:1))}getMap(){return zr.empty}invert(t){return new Vc(this.pos,this.attr,t.nodeAt(this.pos).attrs[this.attr])}map(t){let n=t.mapResult(this.pos,1);return n.deletedAfter?null:new Vc(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(t,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new Vc(n.pos,n.attr,n.value)}}tr.jsonID("attr",Vc);class Sf extends tr{constructor(t,n){super(),this.attr=t,this.value=n}apply(t){let n=Object.create(null);for(let o in t.attrs)n[o]=t.attrs[o];n[this.attr]=this.value;let r=t.type.create(n,t.content,t.marks);return ln.ok(r)}getMap(){return zr.empty}invert(t){return new Sf(this.attr,t.attrs[this.attr])}map(t){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(t,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new Sf(n.attr,n.value)}}tr.jsonID("docAttr",Sf);let Zc=class extends Error{};Zc=function e(t){let n=Error.call(this,t);return n.__proto__=e.prototype,n};Zc.prototype=Object.create(Error.prototype);Zc.prototype.constructor=Zc;Zc.prototype.name="TransformError";class ED{constructor(t){this.doc=t,this.steps=[],this.docs=[],this.mapping=new Nf}get before(){return this.docs.length?this.docs[0]:this.doc}step(t){let n=this.maybeStep(t);if(n.failed)throw new Zc(n.failed);return this}maybeStep(t){let n=t.apply(this.doc);return n.failed||this.addStep(t,n.doc),n}get docChanged(){return this.steps.length>0}addStep(t,n){this.docs.push(this.doc),this.steps.push(t),this.mapping.appendMap(t.getMap()),this.doc=n}replace(t,n=t,r=we.empty){let o=jx(this.doc,t,n,r);return o&&this.step(o),this}replaceWith(t,n,r){return this.replace(t,n,new we(he.from(r),0,0))}delete(t,n){return this.replace(t,n,we.empty)}insert(t,n){return this.replaceWith(t,t,n)}replaceRange(t,n,r){return wq(this,t,n,r),this}replaceRangeWith(t,n,r){return Cq(this,t,n,r),this}deleteRange(t,n){return Nq(this,t,n),this}lift(t,n){return sq(this,t,n),this}join(t,n=1){return gq(this,t,n),this}wrap(t,n){return uq(this,t,n),this}setBlockType(t,n=t,r,o=null){return dq(this,t,n,r,o),this}setNodeMarkup(t,n,r=null,o){return hq(this,t,n,r,o),this}setNodeAttribute(t,n,r){return this.step(new Vc(t,n,r)),this}setDocAttribute(t,n){return this.step(new Sf(t,n)),this}addNodeMark(t,n){return this.step(new ds(t,n)),this}removeNodeMark(t,n){let r=this.doc.nodeAt(t);if(!r)throw new RangeError("No node at position "+t);if(n instanceof Ct)n.isInSet(r.marks)&&this.step(new El(t,n));else{let o=r.marks,i,a=[];for(;i=n.isInSet(o);)a.push(new El(t,i)),o=i.removeFromSet(o);for(let l=a.length-1;l>=0;l--)this.step(a[l])}return this}split(t,n=1,r){return pq(this,t,n,r),this}addMark(t,n,r){return oq(this,t,n,r),this}removeMark(t,n,r){return iq(this,t,n,r),this}clearIncompatible(t,n,r){return vC(this,t,n,r),this}}const sy=Object.create(null);class $e{constructor(t,n,r){this.$anchor=t,this.$head=n,this.ranges=r||[new Sq(t.min(n),t.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let t=this.ranges;for(let n=0;n<t.length;n++)if(t[n].$from.pos!=t[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(t,n=we.empty){let r=n.content.lastChild,o=null;for(let l=0;l<n.openEnd;l++)o=r,r=r.lastChild;let i=t.steps.length,a=this.ranges;for(let l=0;l<a.length;l++){let{$from:u,$to:f}=a[l],h=t.mapping.slice(i);t.replaceRange(h.map(u.pos),h.map(f.pos),l?we.empty:n),l==0&&Tk(t,i,(r?r.isInline:o&&o.isTextblock)?-1:1)}}replaceWith(t,n){let r=t.steps.length,o=this.ranges;for(let i=0;i<o.length;i++){let{$from:a,$to:l}=o[i],u=t.mapping.slice(r),f=u.map(a.pos),h=u.map(l.pos);i?t.deleteRange(f,h):(t.replaceRangeWith(f,h,n),Tk(t,r,n.isInline?-1:1))}}static findFrom(t,n,r=!1){let o=t.parent.inlineContent?new Ue(t):_c(t.node(0),t.parent,t.pos,t.index(),n,r);if(o)return o;for(let i=t.depth-1;i>=0;i--){let a=n<0?_c(t.node(0),t.node(i),t.before(i+1),t.index(i),n,r):_c(t.node(0),t.node(i),t.after(i+1),t.index(i)+1,n,r);if(a)return a}return null}static near(t,n=1){return this.findFrom(t,n)||this.findFrom(t,-n)||new qr(t.node(0))}static atStart(t){return _c(t,t,0,0,1)||new qr(t)}static atEnd(t){return _c(t,t,t.content.size,t.childCount,-1)||new qr(t)}static fromJSON(t,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=sy[n.type];if(!r)throw new RangeError(`No selection type ${n.type} defined`);return r.fromJSON(t,n)}static jsonID(t,n){if(t in sy)throw new RangeError("Duplicate use of selection JSON ID "+t);return sy[t]=n,n.prototype.jsonID=t,n}getBookmark(){return Ue.between(this.$anchor,this.$head).getBookmark()}}$e.prototype.visible=!0;class Sq{constructor(t,n){this.$from=t,this.$to=n}}let jk=!1;function Ak(e){!jk&&!e.parent.inlineContent&&(jk=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+e.parent.type.name+")"))}class Ue extends $e{constructor(t,n=t){Ak(t),Ak(n),super(t,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(t,n){let r=t.resolve(n.map(this.head));if(!r.parent.inlineContent)return $e.near(r);let o=t.resolve(n.map(this.anchor));return new Ue(o.parent.inlineContent?o:r,r)}replace(t,n=we.empty){if(super.replace(t,n),n==we.empty){let r=this.$from.marksAcross(this.$to);r&&t.ensureMarks(r)}}eq(t){return t instanceof Ue&&t.anchor==this.anchor&&t.head==this.head}getBookmark(){return new Ax(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(t,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new Ue(t.resolve(n.anchor),t.resolve(n.head))}static create(t,n,r=n){let o=t.resolve(n);return new this(o,r==n?o:t.resolve(r))}static between(t,n,r){let o=t.pos-n.pos;if((!r||o)&&(r=o>=0?1:-1),!n.parent.inlineContent){let i=$e.findFrom(n,r,!0)||$e.findFrom(n,-r,!0);if(i)n=i.$head;else return $e.near(n,r)}return t.parent.inlineContent||(o==0?t=n:(t=($e.findFrom(t,-r,!0)||$e.findFrom(t,r,!0)).$anchor,t.pos<n.pos!=o<0&&(t=n))),new Ue(t,n)}}$e.jsonID("text",Ue);class Ax{constructor(t,n){this.anchor=t,this.head=n}map(t){return new Ax(t.map(this.anchor),t.map(this.head))}resolve(t){return Ue.between(t.resolve(this.anchor),t.resolve(this.head))}}class Pe extends $e{constructor(t){let n=t.nodeAfter,r=t.node(0).resolve(t.pos+n.nodeSize);super(t,r),this.node=n}map(t,n){let{deleted:r,pos:o}=n.mapResult(this.anchor),i=t.resolve(o);return r?$e.near(i):new Pe(i)}content(){return new we(he.from(this.node),0,0)}eq(t){return t instanceof Pe&&t.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new wC(this.anchor)}static fromJSON(t,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new Pe(t.resolve(n.anchor))}static create(t,n){return new Pe(t.resolve(n))}static isSelectable(t){return!t.isText&&t.type.spec.selectable!==!1}}Pe.prototype.visible=!1;$e.jsonID("node",Pe);class wC{constructor(t){this.anchor=t}map(t){let{deleted:n,pos:r}=t.mapResult(this.anchor);return n?new Ax(r,r):new wC(r)}resolve(t){let n=t.resolve(this.anchor),r=n.nodeAfter;return r&&Pe.isSelectable(r)?new Pe(n):$e.near(n)}}class qr extends $e{constructor(t){super(t.resolve(0),t.resolve(t.content.size))}replace(t,n=we.empty){if(n==we.empty){t.delete(0,t.doc.content.size);let r=$e.atStart(t.doc);r.eq(t.selection)||t.setSelection(r)}else super.replace(t,n)}toJSON(){return{type:"all"}}static fromJSON(t){return new qr(t)}map(t){return new qr(t)}eq(t){return t instanceof qr}getBookmark(){return Eq}}$e.jsonID("all",qr);const Eq={map(){return this},resolve(e){return new qr(e)}};function _c(e,t,n,r,o,i=!1){if(t.inlineContent)return Ue.create(e,n);for(let a=r-(o>0?0:1);o>0?a<t.childCount:a>=0;a+=o){let l=t.child(a);if(l.isAtom){if(!i&&Pe.isSelectable(l))return Pe.create(e,n-(o<0?l.nodeSize:0))}else{let u=_c(e,l,n+o,o<0?l.childCount:0,o,i);if(u)return u}n+=l.nodeSize*o}return null}function Tk(e,t,n){let r=e.steps.length-1;if(r<t)return;let o=e.steps[r];if(!(o instanceof En||o instanceof jn))return;let i=e.mapping.maps[r],a;i.forEach((l,u,f,h)=>{a==null&&(a=h)}),e.setSelection($e.near(e.doc.resolve(a),n))}const kk=1,Fp=2,Mk=4;class jq extends ED{constructor(t){super(t.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=t.selection,this.storedMarks=t.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(t){if(t.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=t,this.curSelectionFor=this.steps.length,this.updated=(this.updated|kk)&~Fp,this.storedMarks=null,this}get selectionSet(){return(this.updated&kk)>0}setStoredMarks(t){return this.storedMarks=t,this.updated|=Fp,this}ensureMarks(t){return Ct.sameSet(this.storedMarks||this.selection.$from.marks(),t)||this.setStoredMarks(t),this}addStoredMark(t){return this.ensureMarks(t.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(t){return this.ensureMarks(t.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&Fp)>0}addStep(t,n){super.addStep(t,n),this.updated=this.updated&~Fp,this.storedMarks=null}setTime(t){return this.time=t,this}replaceSelection(t){return this.selection.replace(this,t),this}replaceSelectionWith(t,n=!0){let r=this.selection;return n&&(t=t.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||Ct.none))),r.replaceWith(this,t),this}deleteSelection(){return this.selection.replace(this),this}insertText(t,n,r){let o=this.doc.type.schema;if(n==null)return t?this.replaceSelectionWith(o.text(t),!0):this.deleteSelection();{if(r==null&&(r=n),!t)return this.deleteRange(n,r);let i=this.storedMarks;if(!i){let a=this.doc.resolve(n);i=r==n?a.marks():a.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(n,r,o.text(t,i)),!this.selection.empty&&this.selection.to==n+t.length&&this.setSelection($e.near(this.selection.$to)),this}}setMeta(t,n){return this.meta[typeof t=="string"?t:t.key]=n,this}getMeta(t){return this.meta[typeof t=="string"?t:t.key]}get isGeneric(){for(let t in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=Mk,this}get scrolledIntoView(){return(this.updated&Mk)>0}}function Pk(e,t){return!t||!e?e:e.bind(t)}class Qd{constructor(t,n,r){this.name=t,this.init=Pk(n.init,r),this.apply=Pk(n.apply,r)}}const Aq=[new Qd("doc",{init(e){return e.doc||e.schema.topNodeType.createAndFill()},apply(e){return e.doc}}),new Qd("selection",{init(e,t){return e.selection||$e.atStart(t.doc)},apply(e){return e.selection}}),new Qd("storedMarks",{init(e){return e.storedMarks||null},apply(e,t,n,r){return r.selection.$cursor?e.storedMarks:null}}),new Qd("scrollToSelection",{init(){return 0},apply(e,t){return e.scrolledIntoView?t+1:t}})];class ly{constructor(t,n){this.schema=t,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=Aq.slice(),n&&n.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new Qd(r.key,r.spec.state,r))})}}class zc{constructor(t){this.config=t}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(t){return this.applyTransaction(t).state}filterTransaction(t,n=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=n){let o=this.config.plugins[r];if(o.spec.filterTransaction&&!o.spec.filterTransaction.call(o,t,this))return!1}return!0}applyTransaction(t){if(!this.filterTransaction(t))return{state:this,transactions:[]};let n=[t],r=this.applyInner(t),o=null;for(;;){let i=!1;for(let a=0;a<this.config.plugins.length;a++){let l=this.config.plugins[a];if(l.spec.appendTransaction){let u=o?o[a].n:0,f=o?o[a].state:this,h=u<n.length&&l.spec.appendTransaction.call(l,u?n.slice(u):n,f,r);if(h&&r.filterTransaction(h,a)){if(h.setMeta("appendedTransaction",t),!o){o=[];for(let p=0;p<this.config.plugins.length;p++)o.push(p<a?{state:r,n:n.length}:{state:this,n:0})}n.push(h),r=r.applyInner(h),i=!0}o&&(o[a]={state:r,n:n.length})}}if(!i)return{state:r,transactions:n}}}applyInner(t){if(!t.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new zc(this.config),r=this.config.fields;for(let o=0;o<r.length;o++){let i=r[o];n[i.name]=i.apply(t,this[i.name],this,n)}return n}get tr(){return new jq(this)}static create(t){let n=new ly(t.doc?t.doc.type.schema:t.schema,t.plugins),r=new zc(n);for(let o=0;o<n.fields.length;o++)r[n.fields[o].name]=n.fields[o].init(t,r);return r}reconfigure(t){let n=new ly(this.schema,t.plugins),r=n.fields,o=new zc(n);for(let i=0;i<r.length;i++){let a=r[i].name;o[a]=this.hasOwnProperty(a)?this[a]:r[i].init(t,o)}return o}toJSON(t){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(r=>r.toJSON())),t&&typeof t=="object")for(let r in t){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let o=t[r],i=o.spec.state;i&&i.toJSON&&(n[r]=i.toJSON.call(o,this[o.key]))}return n}static fromJSON(t,n,r){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!t.schema)throw new RangeError("Required config field 'schema' missing");let o=new ly(t.schema,t.plugins),i=new zc(o);return o.fields.forEach(a=>{if(a.name=="doc")i.doc=Bo.fromJSON(t.schema,n.doc);else if(a.name=="selection")i.selection=$e.fromJSON(i.doc,n.selection);else if(a.name=="storedMarks")n.storedMarks&&(i.storedMarks=n.storedMarks.map(t.schema.markFromJSON));else{if(r)for(let l in r){let u=r[l],f=u.spec.state;if(u.key==a.name&&f&&f.fromJSON&&Object.prototype.hasOwnProperty.call(n,l)){i[a.name]=f.fromJSON.call(u,t,n[l],i);return}}i[a.name]=a.init(t,i)}}),i}}function jD(e,t,n){for(let r in e){let o=e[r];o instanceof Function?o=o.bind(t):r=="handleDOMEvents"&&(o=jD(o,t,{})),n[r]=o}return n}class Kt{constructor(t){this.spec=t,this.props={},t.props&&jD(t.props,this,this.props),this.key=t.key?t.key.key:AD("plugin")}getState(t){return t[this.key]}}const cy=Object.create(null);function AD(e){return e in cy?e+"$"+ ++cy[e]:(cy[e]=0,e+"$")}class kn{constructor(t="key"){this.key=AD(t)}get(t){return t.config.pluginsByKey[this.key]}getState(t){return t[this.key]}}const CC=(e,t)=>e.selection.empty?!1:(t&&t(e.tr.deleteSelection().scrollIntoView()),!0);function TD(e,t){let{$cursor:n}=e.selection;return!n||(t?!t.endOfTextblock("backward",e):n.parentOffset>0)?null:n}const kD=(e,t,n)=>{let r=TD(e,n);if(!r)return!1;let o=NC(r);if(!o){let a=r.blockRange(),l=a&&xu(a);return l==null?!1:(t&&t(e.tr.lift(a,l).scrollIntoView()),!0)}let i=o.nodeBefore;if(BD(e,o,t,-1))return!0;if(r.parent.content.size==0&&(eu(i,"end")||Pe.isSelectable(i)))for(let a=r.depth;;a--){let l=jx(e.doc,r.before(a),r.after(a),we.empty);if(l&&l.slice.size<l.to-l.from){if(t){let u=e.tr.step(l);u.setSelection(eu(i,"end")?$e.findFrom(u.doc.resolve(u.mapping.map(o.pos,-1)),-1):Pe.create(u.doc,o.pos-i.nodeSize)),t(u.scrollIntoView())}return!0}if(a==1||r.node(a-1).childCount>1)break}return i.isAtom&&o.depth==r.depth-1?(t&&t(e.tr.delete(o.pos-i.nodeSize,o.pos).scrollIntoView()),!0):!1},Tq=(e,t,n)=>{let r=TD(e,n);if(!r)return!1;let o=NC(r);return o?MD(e,o,t):!1},kq=(e,t,n)=>{let r=RD(e,n);if(!r)return!1;let o=SC(r);return o?MD(e,o,t):!1};function MD(e,t,n){let r=t.nodeBefore,o=r,i=t.pos-1;for(;!o.isTextblock;i--){if(o.type.spec.isolating)return!1;let h=o.lastChild;if(!h)return!1;o=h}let a=t.nodeAfter,l=a,u=t.pos+1;for(;!l.isTextblock;u++){if(l.type.spec.isolating)return!1;let h=l.firstChild;if(!h)return!1;l=h}let f=jx(e.doc,i,u,we.empty);if(!f||f.from!=i||f instanceof En&&f.slice.size>=u-i)return!1;if(n){let h=e.tr.step(f);h.setSelection(Ue.create(h.doc,i)),n(h.scrollIntoView())}return!0}function eu(e,t,n=!1){for(let r=e;r;r=t=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&r.childCount!=1)return!1}return!1}const PD=(e,t,n)=>{let{$head:r,empty:o}=e.selection,i=r;if(!o)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",e):r.parentOffset>0)return!1;i=NC(r)}let a=i&&i.nodeBefore;return!a||!Pe.isSelectable(a)?!1:(t&&t(e.tr.setSelection(Pe.create(e.doc,i.pos-a.nodeSize)).scrollIntoView()),!0)};function NC(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){if(e.index(t)>0)return e.doc.resolve(e.before(t+1));if(e.node(t).type.spec.isolating)break}return null}function RD(e,t){let{$cursor:n}=e.selection;return!n||(t?!t.endOfTextblock("forward",e):n.parentOffset<n.parent.content.size)?null:n}const ID=(e,t,n)=>{let r=RD(e,n);if(!r)return!1;let o=SC(r);if(!o)return!1;let i=o.nodeAfter;if(BD(e,o,t,1))return!0;if(r.parent.content.size==0&&(eu(i,"start")||Pe.isSelectable(i))){let a=jx(e.doc,r.before(),r.after(),we.empty);if(a&&a.slice.size<a.to-a.from){if(t){let l=e.tr.step(a);l.setSelection(eu(i,"start")?$e.findFrom(l.doc.resolve(l.mapping.map(o.pos)),1):Pe.create(l.doc,l.mapping.map(o.pos))),t(l.scrollIntoView())}return!0}}return i.isAtom&&o.depth==r.depth-1?(t&&t(e.tr.delete(o.pos,o.pos+i.nodeSize).scrollIntoView()),!0):!1},DD=(e,t,n)=>{let{$head:r,empty:o}=e.selection,i=r;if(!o)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",e):r.parentOffset<r.parent.content.size)return!1;i=SC(r)}let a=i&&i.nodeAfter;return!a||!Pe.isSelectable(a)?!1:(t&&t(e.tr.setSelection(Pe.create(e.doc,i.pos)).scrollIntoView()),!0)};function SC(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){let n=e.node(t);if(e.index(t)+1<n.childCount)return e.doc.resolve(e.after(t+1));if(n.type.spec.isolating)break}return null}const Mq=(e,t)=>{let n=e.selection,r=n instanceof Pe,o;if(r){if(n.node.isTextblock||!Ss(e.doc,n.from))return!1;o=n.from}else if(o=Ex(e.doc,n.from,-1),o==null)return!1;if(t){let i=e.tr.join(o);r&&i.setSelection(Pe.create(i.doc,o-e.doc.resolve(o).nodeBefore.nodeSize)),t(i.scrollIntoView())}return!0},Pq=(e,t)=>{let n=e.selection,r;if(n instanceof Pe){if(n.node.isTextblock||!Ss(e.doc,n.to))return!1;r=n.to}else if(r=Ex(e.doc,n.to,1),r==null)return!1;return t&&t(e.tr.join(r).scrollIntoView()),!0},Rq=(e,t)=>{let{$from:n,$to:r}=e.selection,o=n.blockRange(r),i=o&&xu(o);return i==null?!1:(t&&t(e.tr.lift(o,i).scrollIntoView()),!0)},_D=(e,t)=>{let{$head:n,$anchor:r}=e.selection;return!n.parent.type.spec.code||!n.sameParent(r)?!1:(t&&t(e.tr.insertText(`
`).scrollIntoView()),!0)};function EC(e){for(let t=0;t<e.edgeCount;t++){let{type:n}=e.edge(t);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const Iq=(e,t)=>{let{$head:n,$anchor:r}=e.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let o=n.node(-1),i=n.indexAfter(-1),a=EC(o.contentMatchAt(i));if(!a||!o.canReplaceWith(i,i,a))return!1;if(t){let l=n.after(),u=e.tr.replaceWith(l,l,a.createAndFill());u.setSelection($e.near(u.doc.resolve(l),1)),t(u.scrollIntoView())}return!0},OD=(e,t)=>{let n=e.selection,{$from:r,$to:o}=n;if(n instanceof qr||r.parent.inlineContent||o.parent.inlineContent)return!1;let i=EC(o.parent.contentMatchAt(o.indexAfter()));if(!i||!i.isTextblock)return!1;if(t){let a=(!r.parentOffset&&o.index()<o.parent.childCount?r:o).pos,l=e.tr.insert(a,i.createAndFill());l.setSelection(Ue.create(l.doc,a+1)),t(l.scrollIntoView())}return!0},LD=(e,t)=>{let{$cursor:n}=e.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let i=n.before();if(Ji(e.doc,i))return t&&t(e.tr.split(i).scrollIntoView()),!0}let r=n.blockRange(),o=r&&xu(r);return o==null?!1:(t&&t(e.tr.lift(r,o).scrollIntoView()),!0)};function Dq(e){return(t,n)=>{let{$from:r,$to:o}=t.selection;if(t.selection instanceof Pe&&t.selection.node.isBlock)return!r.parentOffset||!Ji(t.doc,r.pos)?!1:(n&&n(t.tr.split(r.pos).scrollIntoView()),!0);if(!r.depth)return!1;let i=[],a,l,u=!1,f=!1;for(let x=r.depth;;x--)if(r.node(x).isBlock){u=r.end(x)==r.pos+(r.depth-x),f=r.start(x)==r.pos-(r.depth-x),l=EC(r.node(x-1).contentMatchAt(r.indexAfter(x-1))),i.unshift(u&&l?{type:l}:null),a=x;break}else{if(x==1)return!1;i.unshift(null)}let h=t.tr;(t.selection instanceof Ue||t.selection instanceof qr)&&h.deleteSelection();let p=h.mapping.map(r.pos),g=Ji(h.doc,p,i.length,i);if(g||(i[0]=l?{type:l}:null,g=Ji(h.doc,p,i.length,i)),!g)return!1;if(h.split(p,i.length,i),!u&&f&&r.node(a).type!=l){let x=h.mapping.map(r.before(a)),y=h.doc.resolve(x);l&&r.node(a-1).canReplaceWith(y.index(),y.index()+1,l)&&h.setNodeMarkup(h.mapping.map(r.before(a)),l)}return n&&n(h.scrollIntoView()),!0}}const _q=Dq(),Oq=(e,t)=>{let{$from:n,to:r}=e.selection,o,i=n.sharedDepth(r);return i==0?!1:(o=n.before(i),t&&t(e.tr.setSelection(Pe.create(e.doc,o))),!0)};function Lq(e,t,n){let r=t.nodeBefore,o=t.nodeAfter,i=t.index();return!r||!o||!r.type.compatibleContent(o.type)?!1:!r.content.size&&t.parent.canReplace(i-1,i)?(n&&n(e.tr.delete(t.pos-r.nodeSize,t.pos).scrollIntoView()),!0):!t.parent.canReplace(i,i+1)||!(o.isTextblock||Ss(e.doc,t.pos))?!1:(n&&n(e.tr.join(t.pos).scrollIntoView()),!0)}function BD(e,t,n,r){let o=t.nodeBefore,i=t.nodeAfter,a,l,u=o.type.spec.isolating||i.type.spec.isolating;if(!u&&Lq(e,t,n))return!0;let f=!u&&t.parent.canReplace(t.index(),t.index()+1);if(f&&(a=(l=o.contentMatchAt(o.childCount)).findWrapping(i.type))&&l.matchType(a[0]||i.type).validEnd){if(n){let x=t.pos+i.nodeSize,y=he.empty;for(let A=a.length-1;A>=0;A--)y=he.from(a[A].create(null,y));y=he.from(o.copy(y));let N=e.tr.step(new jn(t.pos-1,x,t.pos,x,new we(y,1,0),a.length,!0)),C=N.doc.resolve(x+2*a.length);C.nodeAfter&&C.nodeAfter.type==o.type&&Ss(N.doc,C.pos)&&N.join(C.pos),n(N.scrollIntoView())}return!0}let h=i.type.spec.isolating||r>0&&u?null:$e.findFrom(t,1),p=h&&h.$from.blockRange(h.$to),g=p&&xu(p);if(g!=null&&g>=t.depth)return n&&n(e.tr.lift(p,g).scrollIntoView()),!0;if(f&&eu(i,"start",!0)&&eu(o,"end")){let x=o,y=[];for(;y.push(x),!x.isTextblock;)x=x.lastChild;let N=i,C=1;for(;!N.isTextblock;N=N.firstChild)C++;if(x.canReplace(x.childCount,x.childCount,N.content)){if(n){let A=he.empty;for(let k=y.length-1;k>=0;k--)A=he.from(y[k].copy(A));let T=e.tr.step(new jn(t.pos-y.length,t.pos+i.nodeSize,t.pos+C,t.pos+i.nodeSize-C,new we(A,y.length,0),0,!0));n(T.scrollIntoView())}return!0}}return!1}function UD(e){return function(t,n){let r=t.selection,o=e<0?r.$from:r.$to,i=o.depth;for(;o.node(i).isInline;){if(!i)return!1;i--}return o.node(i).isTextblock?(n&&n(t.tr.setSelection(Ue.create(t.doc,e<0?o.start(i):o.end(i)))),!0):!1}}const Bq=UD(-1),Uq=UD(1);function zq(e,t=null){return function(n,r){let{$from:o,$to:i}=n.selection,a=o.blockRange(i),l=a&&yC(a,e,t);return l?(r&&r(n.tr.wrap(a,l).scrollIntoView()),!0):!1}}function Rk(e,t=null){return function(n,r){let o=!1;for(let i=0;i<n.selection.ranges.length&&!o;i++){let{$from:{pos:a},$to:{pos:l}}=n.selection.ranges[i];n.doc.nodesBetween(a,l,(u,f)=>{if(o)return!1;if(!(!u.isTextblock||u.hasMarkup(e,t)))if(u.type==e)o=!0;else{let h=n.doc.resolve(f),p=h.index();o=h.parent.canReplaceWith(p,p+1,e)}})}if(!o)return!1;if(r){let i=n.tr;for(let a=0;a<n.selection.ranges.length;a++){let{$from:{pos:l},$to:{pos:u}}=n.selection.ranges[a];i.setBlockType(l,u,e,t)}r(i.scrollIntoView())}return!0}}function jC(...e){return function(t,n,r){for(let o=0;o<e.length;o++)if(e[o](t,n,r))return!0;return!1}}jC(CC,kD,PD);jC(CC,ID,DD);jC(_D,OD,LD,_q);typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function Fq(e,t=null){return function(n,r){let{$from:o,$to:i}=n.selection,a=o.blockRange(i);if(!a)return!1;let l=r?n.tr:null;return qq(l,a,e,t)?(r&&r(l.scrollIntoView()),!0):!1}}function qq(e,t,n,r=null){let o=!1,i=t,a=t.$from.doc;if(t.depth>=2&&t.$from.node(t.depth-1).type.compatibleContent(n)&&t.startIndex==0){if(t.$from.index(t.depth-1)==0)return!1;let u=a.resolve(t.start-2);i=new zm(u,u,t.depth),t.endIndex<t.parent.childCount&&(t=new zm(t.$from,a.resolve(t.$to.end(t.depth)),t.depth)),o=!0}let l=yC(i,n,r,t);return l?(e&&Hq(e,t,l,o,n),!0):!1}function Hq(e,t,n,r,o){let i=he.empty;for(let h=n.length-1;h>=0;h--)i=he.from(n[h].type.create(n[h].attrs,i));e.step(new jn(t.start-(r?2:0),t.end,t.start,t.end,new we(i,0,0),n.length,!0));let a=0;for(let h=0;h<n.length;h++)n[h].type==o&&(a=h+1);let l=n.length-a,u=t.start+n.length-(r?2:0),f=t.parent;for(let h=t.startIndex,p=t.endIndex,g=!0;h<p;h++,g=!1)!g&&Ji(e.doc,u,l)&&(e.split(u,l),u+=2*l),u+=f.child(h).nodeSize;return e}function Vq(e){return function(t,n){let{$from:r,$to:o}=t.selection,i=r.blockRange(o,a=>a.childCount>0&&a.firstChild.type==e);return i?n?r.node(i.depth-1).type==e?$q(t,n,e,i):Gq(t,n,i):!0:!1}}function $q(e,t,n,r){let o=e.tr,i=r.end,a=r.$to.end(r.depth);i<a&&(o.step(new jn(i-1,a,i,a,new we(he.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new zm(o.doc.resolve(r.$from.pos),o.doc.resolve(a),r.depth));const l=xu(r);if(l==null)return!1;o.lift(r,l);let u=o.doc.resolve(o.mapping.map(i,-1)-1);return Ss(o.doc,u.pos)&&u.nodeBefore.type==u.nodeAfter.type&&o.join(u.pos),t(o.scrollIntoView()),!0}function Gq(e,t,n){let r=e.tr,o=n.parent;for(let x=n.end,y=n.endIndex-1,N=n.startIndex;y>N;y--)x-=o.child(y).nodeSize,r.delete(x-1,x+1);let i=r.doc.resolve(n.start),a=i.nodeAfter;if(r.mapping.map(n.end)!=n.start+i.nodeAfter.nodeSize)return!1;let l=n.startIndex==0,u=n.endIndex==o.childCount,f=i.node(-1),h=i.index(-1);if(!f.canReplace(h+(l?0:1),h+1,a.content.append(u?he.empty:he.from(o))))return!1;let p=i.pos,g=p+a.nodeSize;return r.step(new jn(p-(l?1:0),g+(u?1:0),p+1,g-1,new we((l?he.empty:he.from(o.copy(he.empty))).append(u?he.empty:he.from(o.copy(he.empty))),l?0:1,u?0:1),l?0:1)),t(r.scrollIntoView()),!0}function Kq(e){return function(t,n){let{$from:r,$to:o}=t.selection,i=r.blockRange(o,f=>f.childCount>0&&f.firstChild.type==e);if(!i)return!1;let a=i.startIndex;if(a==0)return!1;let l=i.parent,u=l.child(a-1);if(u.type!=e)return!1;if(n){let f=u.lastChild&&u.lastChild.type==l.type,h=he.from(f?e.create():null),p=new we(he.from(e.create(null,he.from(l.type.create(null,h)))),f?3:1,0),g=i.start,x=i.end;n(t.tr.step(new jn(g-(f?3:1),x,g,x,p,1,!0)).scrollIntoView())}return!0}}const Fn=function(e){for(var t=0;;t++)if(e=e.previousSibling,!e)return t},tu=function(e){let t=e.assignedSlot||e.parentNode;return t&&t.nodeType==11?t.host:t};let Nw=null;const Fi=function(e,t,n){let r=Nw||(Nw=document.createRange());return r.setEnd(e,n??e.nodeValue.length),r.setStart(e,t||0),r},Wq=function(){Nw=null},jl=function(e,t,n,r){return n&&(Ik(e,t,n,r,-1)||Ik(e,t,n,r,1))},Jq=/^(img|br|input|textarea|hr)$/i;function Ik(e,t,n,r,o){for(var i;;){if(e==n&&t==r)return!0;if(t==(o<0?0:ho(e))){let a=e.parentNode;if(!a||a.nodeType!=1||Gf(e)||Jq.test(e.nodeName)||e.contentEditable=="false")return!1;t=Fn(e)+(o<0?0:1),e=a}else if(e.nodeType==1){let a=e.childNodes[t+(o<0?-1:0)];if(a.nodeType==1&&a.contentEditable=="false")if(!((i=a.pmViewDesc)===null||i===void 0)&&i.ignoreForSelection)t+=o;else return!1;else e=a,t=o<0?ho(e):0}else return!1}}function ho(e){return e.nodeType==3?e.nodeValue.length:e.childNodes.length}function Yq(e,t){for(;;){if(e.nodeType==3&&t)return e;if(e.nodeType==1&&t>0){if(e.contentEditable=="false")return null;e=e.childNodes[t-1],t=ho(e)}else if(e.parentNode&&!Gf(e))t=Fn(e),e=e.parentNode;else return null}}function Xq(e,t){for(;;){if(e.nodeType==3&&t<e.nodeValue.length)return e;if(e.nodeType==1&&t<e.childNodes.length){if(e.contentEditable=="false")return null;e=e.childNodes[t],t=0}else if(e.parentNode&&!Gf(e))t=Fn(e)+1,e=e.parentNode;else return null}}function Qq(e,t,n){for(let r=t==0,o=t==ho(e);r||o;){if(e==n)return!0;let i=Fn(e);if(e=e.parentNode,!e)return!1;r=r&&i==0,o=o&&i==ho(e)}}function Gf(e){let t;for(let n=e;n&&!(t=n.pmViewDesc);n=n.parentNode);return t&&t.node&&t.node.isBlock&&(t.dom==e||t.contentDOM==e)}const Tx=function(e){return e.focusNode&&jl(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)};function ol(e,t){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=e,n.key=n.code=t,n}function Zq(e){let t=e.activeElement;for(;t&&t.shadowRoot;)t=t.shadowRoot.activeElement;return t}function eH(e,t,n){if(e.caretPositionFromPoint)try{let r=e.caretPositionFromPoint(t,n);if(r)return{node:r.offsetNode,offset:Math.min(ho(r.offsetNode),r.offset)}}catch{}if(e.caretRangeFromPoint){let r=e.caretRangeFromPoint(t,n);if(r)return{node:r.startContainer,offset:Math.min(ho(r.startContainer),r.startOffset)}}}const ui=typeof navigator<"u"?navigator:null,Dk=typeof document<"u"?document:null,Es=ui&&ui.userAgent||"",Sw=/Edge\/(\d+)/.exec(Es),zD=/MSIE \d/.exec(Es),Ew=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Es),Sr=!!(zD||Ew||Sw),ps=zD?document.documentMode:Ew?+Ew[1]:Sw?+Sw[1]:0,mo=!Sr&&/gecko\/(\d+)/i.test(Es);mo&&+(/Firefox\/(\d+)/.exec(Es)||[0,0])[1];const jw=!Sr&&/Chrome\/(\d+)/.exec(Es),Qn=!!jw,FD=jw?+jw[1]:0,sr=!Sr&&!!ui&&/Apple Computer/.test(ui.vendor),nu=sr&&(/Mobile\/\w+/.test(Es)||!!ui&&ui.maxTouchPoints>2),uo=nu||(ui?/Mac/.test(ui.platform):!1),tH=ui?/Win/.test(ui.platform):!1,$i=/Android \d/.test(Es),Kf=!!Dk&&"webkitFontSmoothing"in Dk.documentElement.style,nH=Kf?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function rH(e){let t=e.defaultView&&e.defaultView.visualViewport;return t?{left:0,right:t.width,top:0,bottom:t.height}:{left:0,right:e.documentElement.clientWidth,top:0,bottom:e.documentElement.clientHeight}}function Oi(e,t){return typeof e=="number"?e:e[t]}function oH(e){let t=e.getBoundingClientRect(),n=t.width/e.offsetWidth||1,r=t.height/e.offsetHeight||1;return{left:t.left,right:t.left+e.clientWidth*n,top:t.top,bottom:t.top+e.clientHeight*r}}function _k(e,t,n){let r=e.someProp("scrollThreshold")||0,o=e.someProp("scrollMargin")||5,i=e.dom.ownerDocument;for(let a=n||e.dom;a;){if(a.nodeType!=1){a=tu(a);continue}let l=a,u=l==i.body,f=u?rH(i):oH(l),h=0,p=0;if(t.top<f.top+Oi(r,"top")?p=-(f.top-t.top+Oi(o,"top")):t.bottom>f.bottom-Oi(r,"bottom")&&(p=t.bottom-t.top>f.bottom-f.top?t.top+Oi(o,"top")-f.top:t.bottom-f.bottom+Oi(o,"bottom")),t.left<f.left+Oi(r,"left")?h=-(f.left-t.left+Oi(o,"left")):t.right>f.right-Oi(r,"right")&&(h=t.right-f.right+Oi(o,"right")),h||p)if(u)i.defaultView.scrollBy(h,p);else{let x=l.scrollLeft,y=l.scrollTop;p&&(l.scrollTop+=p),h&&(l.scrollLeft+=h);let N=l.scrollLeft-x,C=l.scrollTop-y;t={left:t.left-N,top:t.top-C,right:t.right-N,bottom:t.bottom-C}}let g=u?"fixed":getComputedStyle(a).position;if(/^(fixed|sticky)$/.test(g))break;a=g=="absolute"?a.offsetParent:tu(a)}}function iH(e){let t=e.dom.getBoundingClientRect(),n=Math.max(0,t.top),r,o;for(let i=(t.left+t.right)/2,a=n+1;a<Math.min(innerHeight,t.bottom);a+=5){let l=e.root.elementFromPoint(i,a);if(!l||l==e.dom||!e.dom.contains(l))continue;let u=l.getBoundingClientRect();if(u.top>=n-20){r=l,o=u.top;break}}return{refDOM:r,refTop:o,stack:qD(e.dom)}}function qD(e){let t=[],n=e.ownerDocument;for(let r=e;r&&(t.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),e!=n);r=tu(r));return t}function aH({refDOM:e,refTop:t,stack:n}){let r=e?e.getBoundingClientRect().top:0;HD(n,r==0?0:r-t)}function HD(e,t){for(let n=0;n<e.length;n++){let{dom:r,top:o,left:i}=e[n];r.scrollTop!=o+t&&(r.scrollTop=o+t),r.scrollLeft!=i&&(r.scrollLeft=i)}}let Mc=null;function sH(e){if(e.setActive)return e.setActive();if(Mc)return e.focus(Mc);let t=qD(e);e.focus(Mc==null?{get preventScroll(){return Mc={preventScroll:!0},!0}}:void 0),Mc||(Mc=!1,HD(t,0))}function VD(e,t){let n,r=2e8,o,i=0,a=t.top,l=t.top,u,f;for(let h=e.firstChild,p=0;h;h=h.nextSibling,p++){let g;if(h.nodeType==1)g=h.getClientRects();else if(h.nodeType==3)g=Fi(h).getClientRects();else continue;for(let x=0;x<g.length;x++){let y=g[x];if(y.top<=a&&y.bottom>=l){a=Math.max(y.bottom,a),l=Math.min(y.top,l);let N=y.left>t.left?y.left-t.left:y.right<t.left?t.left-y.right:0;if(N<r){n=h,r=N,o=N&&n.nodeType==3?{left:y.right<t.left?y.right:y.left,top:t.top}:t,h.nodeType==1&&N&&(i=p+(t.left>=(y.left+y.right)/2?1:0));continue}}else y.top>t.top&&!u&&y.left<=t.left&&y.right>=t.left&&(u=h,f={left:Math.max(y.left,Math.min(y.right,t.left)),top:y.top});!n&&(t.left>=y.right&&t.top>=y.top||t.left>=y.left&&t.top>=y.bottom)&&(i=p+1)}}return!n&&u&&(n=u,o=f,r=0),n&&n.nodeType==3?lH(n,o):!n||r&&n.nodeType==1?{node:e,offset:i}:VD(n,o)}function lH(e,t){let n=e.nodeValue.length,r=document.createRange();for(let o=0;o<n;o++){r.setEnd(e,o+1),r.setStart(e,o);let i=es(r,1);if(i.top!=i.bottom&&AC(t,i))return{node:e,offset:o+(t.left>=(i.left+i.right)/2?1:0)}}return{node:e,offset:0}}function AC(e,t){return e.left>=t.left-1&&e.left<=t.right+1&&e.top>=t.top-1&&e.top<=t.bottom+1}function cH(e,t){let n=e.parentNode;return n&&/^li$/i.test(n.nodeName)&&t.left<e.getBoundingClientRect().left?n:e}function uH(e,t,n){let{node:r,offset:o}=VD(t,n),i=-1;if(r.nodeType==1&&!r.firstChild){let a=r.getBoundingClientRect();i=a.left!=a.right&&n.left>(a.left+a.right)/2?1:-1}return e.docView.posFromDOM(r,o,i)}function dH(e,t,n,r){let o=-1;for(let i=t,a=!1;i!=e.dom;){let l=e.docView.nearestDesc(i,!0),u;if(!l)return null;if(l.dom.nodeType==1&&(l.node.isBlock&&l.parent||!l.contentDOM)&&((u=l.dom.getBoundingClientRect()).width||u.height)&&(l.node.isBlock&&l.parent&&!/^T(R|BODY|HEAD|FOOT)$/.test(l.dom.nodeName)&&(!a&&u.left>r.left||u.top>r.top?o=l.posBefore:(!a&&u.right<r.left||u.bottom<r.top)&&(o=l.posAfter),a=!0),!l.contentDOM&&o<0&&!l.node.isText))return(l.node.isBlock?r.top<(u.top+u.bottom)/2:r.left<(u.left+u.right)/2)?l.posBefore:l.posAfter;i=l.dom.parentNode}return o>-1?o:e.docView.posFromDOM(t,n,-1)}function $D(e,t,n){let r=e.childNodes.length;if(r&&n.top<n.bottom)for(let o=Math.max(0,Math.min(r-1,Math.floor(r*(t.top-n.top)/(n.bottom-n.top))-2)),i=o;;){let a=e.childNodes[i];if(a.nodeType==1){let l=a.getClientRects();for(let u=0;u<l.length;u++){let f=l[u];if(AC(t,f))return $D(a,t,f)}}if((i=(i+1)%r)==o)break}return e}function fH(e,t){let n=e.dom.ownerDocument,r,o=0,i=eH(n,t.left,t.top);i&&({node:r,offset:o}=i);let a=(e.root.elementFromPoint?e.root:n).elementFromPoint(t.left,t.top),l;if(!a||!e.dom.contains(a.nodeType!=1?a.parentNode:a)){let f=e.dom.getBoundingClientRect();if(!AC(t,f)||(a=$D(e.dom,t,f),!a))return null}if(sr)for(let f=a;r&&f;f=tu(f))f.draggable&&(r=void 0);if(a=cH(a,t),r){if(mo&&r.nodeType==1&&(o=Math.min(o,r.childNodes.length),o<r.childNodes.length)){let h=r.childNodes[o],p;h.nodeName=="IMG"&&(p=h.getBoundingClientRect()).right<=t.left&&p.bottom>t.top&&o++}let f;Kf&&o&&r.nodeType==1&&(f=r.childNodes[o-1]).nodeType==1&&f.contentEditable=="false"&&f.getBoundingClientRect().top>=t.top&&o--,r==e.dom&&o==r.childNodes.length-1&&r.lastChild.nodeType==1&&t.top>r.lastChild.getBoundingClientRect().bottom?l=e.state.doc.content.size:(o==0||r.nodeType!=1||r.childNodes[o-1].nodeName!="BR")&&(l=dH(e,r,o,t))}l==null&&(l=uH(e,a,t));let u=e.docView.nearestDesc(a,!0);return{pos:l,inside:u?u.posAtStart-u.border:-1}}function Ok(e){return e.top<e.bottom||e.left<e.right}function es(e,t){let n=e.getClientRects();if(n.length){let r=n[t<0?0:n.length-1];if(Ok(r))return r}return Array.prototype.find.call(n,Ok)||e.getBoundingClientRect()}const hH=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function GD(e,t,n){let{node:r,offset:o,atom:i}=e.docView.domFromPos(t,n<0?-1:1),a=Kf||mo;if(r.nodeType==3)if(a&&(hH.test(r.nodeValue)||(n<0?!o:o==r.nodeValue.length))){let u=es(Fi(r,o,o),n);if(mo&&o&&/\s/.test(r.nodeValue[o-1])&&o<r.nodeValue.length){let f=es(Fi(r,o-1,o-1),-1);if(f.top==u.top){let h=es(Fi(r,o,o+1),-1);if(h.top!=u.top)return Dd(h,h.left<f.left)}}return u}else{let u=o,f=o,h=n<0?1:-1;return n<0&&!o?(f++,h=-1):n>=0&&o==r.nodeValue.length?(u--,h=1):n<0?u--:f++,Dd(es(Fi(r,u,f),h),h<0)}if(!e.state.doc.resolve(t-(i||0)).parent.inlineContent){if(i==null&&o&&(n<0||o==ho(r))){let u=r.childNodes[o-1];if(u.nodeType==1)return uy(u.getBoundingClientRect(),!1)}if(i==null&&o<ho(r)){let u=r.childNodes[o];if(u.nodeType==1)return uy(u.getBoundingClientRect(),!0)}return uy(r.getBoundingClientRect(),n>=0)}if(i==null&&o&&(n<0||o==ho(r))){let u=r.childNodes[o-1],f=u.nodeType==3?Fi(u,ho(u)-(a?0:1)):u.nodeType==1&&(u.nodeName!="BR"||!u.nextSibling)?u:null;if(f)return Dd(es(f,1),!1)}if(i==null&&o<ho(r)){let u=r.childNodes[o];for(;u.pmViewDesc&&u.pmViewDesc.ignoreForCoords;)u=u.nextSibling;let f=u?u.nodeType==3?Fi(u,0,a?0:1):u.nodeType==1?u:null:null;if(f)return Dd(es(f,-1),!0)}return Dd(es(r.nodeType==3?Fi(r):r,-n),n>=0)}function Dd(e,t){if(e.width==0)return e;let n=t?e.left:e.right;return{top:e.top,bottom:e.bottom,left:n,right:n}}function uy(e,t){if(e.height==0)return e;let n=t?e.top:e.bottom;return{top:n,bottom:n,left:e.left,right:e.right}}function KD(e,t,n){let r=e.state,o=e.root.activeElement;r!=t&&e.updateState(t),o!=e.dom&&e.focus();try{return n()}finally{r!=t&&e.updateState(r),o!=e.dom&&o&&o.focus()}}function pH(e,t,n){let r=t.selection,o=n=="up"?r.$from:r.$to;return KD(e,t,()=>{let{node:i}=e.docView.domFromPos(o.pos,n=="up"?-1:1);for(;;){let l=e.docView.nearestDesc(i,!0);if(!l)break;if(l.node.isBlock){i=l.contentDOM||l.dom;break}i=l.dom.parentNode}let a=GD(e,o.pos,1);for(let l=i.firstChild;l;l=l.nextSibling){let u;if(l.nodeType==1)u=l.getClientRects();else if(l.nodeType==3)u=Fi(l,0,l.nodeValue.length).getClientRects();else continue;for(let f=0;f<u.length;f++){let h=u[f];if(h.bottom>h.top+1&&(n=="up"?a.top-h.top>(h.bottom-a.top)*2:h.bottom-a.bottom>(a.bottom-h.top)*2))return!1}}return!0})}const mH=/[\u0590-\u08ac]/;function gH(e,t,n){let{$head:r}=t.selection;if(!r.parent.isTextblock)return!1;let o=r.parentOffset,i=!o,a=o==r.parent.content.size,l=e.domSelection();return l?!mH.test(r.parent.textContent)||!l.modify?n=="left"||n=="backward"?i:a:KD(e,t,()=>{let{focusNode:u,focusOffset:f,anchorNode:h,anchorOffset:p}=e.domSelectionRange(),g=l.caretBidiLevel;l.modify("move",n,"character");let x=r.depth?e.docView.domAfterPos(r.before()):e.dom,{focusNode:y,focusOffset:N}=e.domSelectionRange(),C=y&&!x.contains(y.nodeType==1?y:y.parentNode)||u==y&&f==N;try{l.collapse(h,p),u&&(u!=h||f!=p)&&l.extend&&l.extend(u,f)}catch{}return g!=null&&(l.caretBidiLevel=g),C}):r.pos==r.start()||r.pos==r.end()}let Lk=null,Bk=null,Uk=!1;function xH(e,t,n){return Lk==t&&Bk==n?Uk:(Lk=t,Bk=n,Uk=n=="up"||n=="down"?pH(e,t,n):gH(e,t,n))}const go=0,zk=1,il=2,di=3;class Wf{constructor(t,n,r,o){this.parent=t,this.children=n,this.dom=r,this.contentDOM=o,this.dirty=go,r.pmViewDesc=this}matchesWidget(t){return!1}matchesMark(t){return!1}matchesNode(t,n,r){return!1}matchesHack(t){return!1}parseRule(){return null}stopEvent(t){return!1}get size(){let t=0;for(let n=0;n<this.children.length;n++)t+=this.children[n].size;return t}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let t=0;t<this.children.length;t++)this.children[t].destroy()}posBeforeChild(t){for(let n=0,r=this.posAtStart;;n++){let o=this.children[n];if(o==t)return r;r+=o.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(t,n,r){if(this.contentDOM&&this.contentDOM.contains(t.nodeType==1?t:t.parentNode))if(r<0){let i,a;if(t==this.contentDOM)i=t.childNodes[n-1];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;i=t.previousSibling}for(;i&&!((a=i.pmViewDesc)&&a.parent==this);)i=i.previousSibling;return i?this.posBeforeChild(a)+a.size:this.posAtStart}else{let i,a;if(t==this.contentDOM)i=t.childNodes[n];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;i=t.nextSibling}for(;i&&!((a=i.pmViewDesc)&&a.parent==this);)i=i.nextSibling;return i?this.posBeforeChild(a):this.posAtEnd}let o;if(t==this.dom&&this.contentDOM)o=n>Fn(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))o=t.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let i=t;;i=i.parentNode){if(i==this.dom){o=!1;break}if(i.previousSibling)break}if(o==null&&n==t.childNodes.length)for(let i=t;;i=i.parentNode){if(i==this.dom){o=!0;break}if(i.nextSibling)break}}return o??r>0?this.posAtEnd:this.posAtStart}nearestDesc(t,n=!1){for(let r=!0,o=t;o;o=o.parentNode){let i=this.getDesc(o),a;if(i&&(!n||i.node))if(r&&(a=i.nodeDOM)&&!(a.nodeType==1?a.contains(t.nodeType==1?t:t.parentNode):a==t))r=!1;else return i}}getDesc(t){let n=t.pmViewDesc;for(let r=n;r;r=r.parent)if(r==this)return n}posFromDOM(t,n,r){for(let o=t;o;o=o.parentNode){let i=this.getDesc(o);if(i)return i.localPosFromDOM(t,n,r)}return-1}descAt(t){for(let n=0,r=0;n<this.children.length;n++){let o=this.children[n],i=r+o.size;if(r==t&&i!=r){for(;!o.border&&o.children.length;)for(let a=0;a<o.children.length;a++){let l=o.children[a];if(l.size){o=l;break}}return o}if(t<i)return o.descAt(t-r-o.border);r=i}}domFromPos(t,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:t+1};let r=0,o=0;for(let i=0;r<this.children.length;r++){let a=this.children[r],l=i+a.size;if(l>t||a instanceof JD){o=t-i;break}i=l}if(o)return this.children[r].domFromPos(o-this.children[r].border,n);for(let i;r&&!(i=this.children[r-1]).size&&i instanceof WD&&i.side>=0;r--);if(n<=0){let i,a=!0;for(;i=r?this.children[r-1]:null,!(!i||i.dom.parentNode==this.contentDOM);r--,a=!1);return i&&n&&a&&!i.border&&!i.domAtom?i.domFromPos(i.size,n):{node:this.contentDOM,offset:i?Fn(i.dom)+1:0}}else{let i,a=!0;for(;i=r<this.children.length?this.children[r]:null,!(!i||i.dom.parentNode==this.contentDOM);r++,a=!1);return i&&a&&!i.border&&!i.domAtom?i.domFromPos(0,n):{node:this.contentDOM,offset:i?Fn(i.dom):this.contentDOM.childNodes.length}}}parseRange(t,n,r=0){if(this.children.length==0)return{node:this.contentDOM,from:t,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let o=-1,i=-1;for(let a=r,l=0;;l++){let u=this.children[l],f=a+u.size;if(o==-1&&t<=f){let h=a+u.border;if(t>=h&&n<=f-u.border&&u.node&&u.contentDOM&&this.contentDOM.contains(u.contentDOM))return u.parseRange(t,n,h);t=a;for(let p=l;p>0;p--){let g=this.children[p-1];if(g.size&&g.dom.parentNode==this.contentDOM&&!g.emptyChildAt(1)){o=Fn(g.dom)+1;break}t-=g.size}o==-1&&(o=0)}if(o>-1&&(f>n||l==this.children.length-1)){n=f;for(let h=l+1;h<this.children.length;h++){let p=this.children[h];if(p.size&&p.dom.parentNode==this.contentDOM&&!p.emptyChildAt(-1)){i=Fn(p.dom);break}n+=p.size}i==-1&&(i=this.contentDOM.childNodes.length);break}a=f}return{node:this.contentDOM,from:t,to:n,fromOffset:o,toOffset:i}}emptyChildAt(t){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[t<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(t)}domAfterPos(t){let{node:n,offset:r}=this.domFromPos(t,0);if(n.nodeType!=1||r==n.childNodes.length)throw new RangeError("No node after pos "+t);return n.childNodes[r]}setSelection(t,n,r,o=!1){let i=Math.min(t,n),a=Math.max(t,n);for(let x=0,y=0;x<this.children.length;x++){let N=this.children[x],C=y+N.size;if(i>y&&a<C)return N.setSelection(t-y-N.border,n-y-N.border,r,o);y=C}let l=this.domFromPos(t,t?-1:1),u=n==t?l:this.domFromPos(n,n?-1:1),f=r.root.getSelection(),h=r.domSelectionRange(),p=!1;if((mo||sr)&&t==n){let{node:x,offset:y}=l;if(x.nodeType==3){if(p=!!(y&&x.nodeValue[y-1]==`
`),p&&y==x.nodeValue.length)for(let N=x,C;N;N=N.parentNode){if(C=N.nextSibling){C.nodeName=="BR"&&(l=u={node:C.parentNode,offset:Fn(C)+1});break}let A=N.pmViewDesc;if(A&&A.node&&A.node.isBlock)break}}else{let N=x.childNodes[y-1];p=N&&(N.nodeName=="BR"||N.contentEditable=="false")}}if(mo&&h.focusNode&&h.focusNode!=u.node&&h.focusNode.nodeType==1){let x=h.focusNode.childNodes[h.focusOffset];x&&x.contentEditable=="false"&&(o=!0)}if(!(o||p&&sr)&&jl(l.node,l.offset,h.anchorNode,h.anchorOffset)&&jl(u.node,u.offset,h.focusNode,h.focusOffset))return;let g=!1;if((f.extend||t==n)&&!(p&&mo)){f.collapse(l.node,l.offset);try{t!=n&&f.extend(u.node,u.offset),g=!0}catch{}}if(!g){if(t>n){let y=l;l=u,u=y}let x=document.createRange();x.setEnd(u.node,u.offset),x.setStart(l.node,l.offset),f.removeAllRanges(),f.addRange(x)}}ignoreMutation(t){return!this.contentDOM&&t.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(t,n){for(let r=0,o=0;o<this.children.length;o++){let i=this.children[o],a=r+i.size;if(r==a?t<=a&&n>=r:t<a&&n>r){let l=r+i.border,u=a-i.border;if(t>=l&&n<=u){this.dirty=t==r||n==a?il:zk,t==l&&n==u&&(i.contentLost||i.dom.parentNode!=this.contentDOM)?i.dirty=di:i.markDirty(t-l,n-l);return}else i.dirty=i.dom==i.contentDOM&&i.dom.parentNode==this.contentDOM&&!i.children.length?il:di}r=a}this.dirty=il}markParentsDirty(){let t=1;for(let n=this.parent;n;n=n.parent,t++){let r=t==1?il:zk;n.dirty<r&&(n.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(t){return!1}}class WD extends Wf{constructor(t,n,r,o){let i,a=n.type.toDOM;if(typeof a=="function"&&(a=a(r,()=>{if(!i)return o;if(i.parent)return i.parent.posBeforeChild(i)})),!n.type.spec.raw){if(a.nodeType!=1){let l=document.createElement("span");l.appendChild(a),a=l}a.contentEditable="false",a.classList.add("ProseMirror-widget")}super(t,[],a,null),this.widget=n,this.widget=n,i=this}matchesWidget(t){return this.dirty==go&&t.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(t){let n=this.widget.spec.stopEvent;return n?n(t):!1}ignoreMutation(t){return t.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class bH extends Wf{constructor(t,n,r,o){super(t,[],n,null),this.textDOM=r,this.text=o}get size(){return this.text.length}localPosFromDOM(t,n){return t!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(t){return{node:this.textDOM,offset:t}}ignoreMutation(t){return t.type==="characterData"&&t.target.nodeValue==t.oldValue}}class Al extends Wf{constructor(t,n,r,o,i){super(t,[],r,o),this.mark=n,this.spec=i}static create(t,n,r,o){let i=o.nodeViews[n.type.name],a=i&&i(n,o,r);return(!a||!a.dom)&&(a=Ul.renderSpec(document,n.type.spec.toDOM(n,r),null,n.attrs)),new Al(t,n,a.dom,a.contentDOM||a.dom,a)}parseRule(){return this.dirty&di||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(t){return this.dirty!=di&&this.mark.eq(t)}markDirty(t,n){if(super.markDirty(t,n),this.dirty!=go){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=go}}slice(t,n,r){let o=Al.create(this.parent,this.mark,!0,r),i=this.children,a=this.size;n<a&&(i=Tw(i,n,a,r)),t>0&&(i=Tw(i,0,t,r));for(let l=0;l<i.length;l++)i[l].parent=o;return o.children=i,o}ignoreMutation(t){return this.spec.ignoreMutation?this.spec.ignoreMutation(t):super.ignoreMutation(t)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class ms extends Wf{constructor(t,n,r,o,i,a,l,u,f){super(t,[],i,a),this.node=n,this.outerDeco=r,this.innerDeco=o,this.nodeDOM=l}static create(t,n,r,o,i,a){let l=i.nodeViews[n.type.name],u,f=l&&l(n,i,()=>{if(!u)return a;if(u.parent)return u.parent.posBeforeChild(u)},r,o),h=f&&f.dom,p=f&&f.contentDOM;if(n.isText){if(!h)h=document.createTextNode(n.text);else if(h.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else h||({dom:h,contentDOM:p}=Ul.renderSpec(document,n.type.spec.toDOM(n),null,n.attrs));!p&&!n.isText&&h.nodeName!="BR"&&(h.hasAttribute("contenteditable")||(h.contentEditable="false"),n.type.spec.draggable&&(h.draggable=!0));let g=h;return h=QD(h,r,n),f?u=new vH(t,n,r,o,h,p||null,g,f,i,a+1):n.isText?new kx(t,n,r,o,h,g,i):new ms(t,n,r,o,h,p||null,g,i,a+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let t={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(t.preserveWhitespace="full"),!this.contentDOM)t.getContent=()=>this.node.content;else if(!this.contentLost)t.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let r=this.children[n];if(this.dom.contains(r.dom.parentNode)){t.contentElement=r.dom.parentNode;break}}t.contentElement||(t.getContent=()=>he.empty)}return t}matchesNode(t,n,r){return this.dirty==go&&t.eq(this.node)&&qm(n,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(t,n){let r=this.node.inlineContent,o=n,i=t.composing?this.localCompositionInfo(t,n):null,a=i&&i.pos>-1?i:null,l=i&&i.pos<0,u=new wH(this,a&&a.node,t);SH(this.node,this.innerDeco,(f,h,p)=>{f.spec.marks?u.syncToMarks(f.spec.marks,r,t):f.type.side>=0&&!p&&u.syncToMarks(h==this.node.childCount?Ct.none:this.node.child(h).marks,r,t),u.placeWidget(f,t,o)},(f,h,p,g)=>{u.syncToMarks(f.marks,r,t);let x;u.findNodeMatch(f,h,p,g)||l&&t.state.selection.from>o&&t.state.selection.to<o+f.nodeSize&&(x=u.findIndexWithChild(i.node))>-1&&u.updateNodeAt(f,h,p,x,t)||u.updateNextNode(f,h,p,t,g,o)||u.addNode(f,h,p,t,o),o+=f.nodeSize}),u.syncToMarks([],r,t),this.node.isTextblock&&u.addTextblockHacks(),u.destroyRest(),(u.changed||this.dirty==il)&&(a&&this.protectLocalComposition(t,a),YD(this.contentDOM,this.children,t),nu&&EH(this.dom))}localCompositionInfo(t,n){let{from:r,to:o}=t.state.selection;if(!(t.state.selection instanceof Ue)||r<n||o>n+this.node.content.size)return null;let i=t.input.compositionNode;if(!i||!this.dom.contains(i.parentNode))return null;if(this.node.inlineContent){let a=i.nodeValue,l=jH(this.node.content,a,r-n,o-n);return l<0?null:{node:i,pos:l,text:a}}else return{node:i,pos:-1,text:""}}protectLocalComposition(t,{node:n,pos:r,text:o}){if(this.getDesc(n))return;let i=n;for(;i.parentNode!=this.contentDOM;i=i.parentNode){for(;i.previousSibling;)i.parentNode.removeChild(i.previousSibling);for(;i.nextSibling;)i.parentNode.removeChild(i.nextSibling);i.pmViewDesc&&(i.pmViewDesc=void 0)}let a=new bH(this,i,n,o);t.input.compositionNodes.push(a),this.children=Tw(this.children,r,r+o.length,t,a)}update(t,n,r,o){return this.dirty==di||!t.sameMarkup(this.node)?!1:(this.updateInner(t,n,r,o),!0)}updateInner(t,n,r,o){this.updateOuterDeco(n),this.node=t,this.innerDeco=r,this.contentDOM&&this.updateChildren(o,this.posAtStart),this.dirty=go}updateOuterDeco(t){if(qm(t,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=XD(this.dom,this.nodeDOM,Aw(this.outerDeco,this.node,n),Aw(t,this.node,n)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=t}selectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.nodeDOM.draggable=!0))}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.nodeDOM.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function Fk(e,t,n,r,o){QD(r,t,e);let i=new ms(void 0,e,t,n,r,r,r,o,0);return i.contentDOM&&i.updateChildren(o,0),i}class kx extends ms{constructor(t,n,r,o,i,a,l){super(t,n,r,o,i,null,a,l,0)}parseRule(){let t=this.nodeDOM.parentNode;for(;t&&t!=this.dom&&!t.pmIsDeco;)t=t.parentNode;return{skip:t||!0}}update(t,n,r,o){return this.dirty==di||this.dirty!=go&&!this.inParent()||!t.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=go||t.text!=this.node.text)&&t.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=t.text,o.trackWrites==this.nodeDOM&&(o.trackWrites=null)),this.node=t,this.dirty=go,!0)}inParent(){let t=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==t)return!0;return!1}domFromPos(t){return{node:this.nodeDOM,offset:t}}localPosFromDOM(t,n,r){return t==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(t,n,r)}ignoreMutation(t){return t.type!="characterData"&&t.type!="selection"}slice(t,n,r){let o=this.node.cut(t,n),i=document.createTextNode(o.text);return new kx(this.parent,o,this.outerDeco,this.innerDeco,i,i,r)}markDirty(t,n){super.markDirty(t,n),this.dom!=this.nodeDOM&&(t==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=di)}get domAtom(){return!1}isText(t){return this.node.text==t}}class JD extends Wf{parseRule(){return{ignore:!0}}matchesHack(t){return this.dirty==go&&this.dom.nodeName==t}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class vH extends ms{constructor(t,n,r,o,i,a,l,u,f,h){super(t,n,r,o,i,a,l,f,h),this.spec=u}update(t,n,r,o){if(this.dirty==di)return!1;if(this.spec.update&&(this.node.type==t.type||this.spec.multiType)){let i=this.spec.update(t,n,r);return i&&this.updateInner(t,n,r,o),i}else return!this.contentDOM&&!t.isLeaf?!1:super.update(t,n,r,o)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(t,n,r,o){this.spec.setSelection?this.spec.setSelection(t,n,r.root):super.setSelection(t,n,r,o)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(t){return this.spec.stopEvent?this.spec.stopEvent(t):!1}ignoreMutation(t){return this.spec.ignoreMutation?this.spec.ignoreMutation(t):super.ignoreMutation(t)}}function YD(e,t,n){let r=e.firstChild,o=!1;for(let i=0;i<t.length;i++){let a=t[i],l=a.dom;if(l.parentNode==e){for(;l!=r;)r=qk(r),o=!0;r=r.nextSibling}else o=!0,e.insertBefore(l,r);if(a instanceof Al){let u=r?r.previousSibling:e.lastChild;YD(a.contentDOM,a.children,n),r=u?u.nextSibling:e.firstChild}}for(;r;)r=qk(r),o=!0;o&&n.trackWrites==e&&(n.trackWrites=null)}const af=function(e){e&&(this.nodeName=e)};af.prototype=Object.create(null);const al=[new af];function Aw(e,t,n){if(e.length==0)return al;let r=n?al[0]:new af,o=[r];for(let i=0;i<e.length;i++){let a=e[i].type.attrs;if(a){a.nodeName&&o.push(r=new af(a.nodeName));for(let l in a){let u=a[l];u!=null&&(n&&o.length==1&&o.push(r=new af(t.isInline?"span":"div")),l=="class"?r.class=(r.class?r.class+" ":"")+u:l=="style"?r.style=(r.style?r.style+";":"")+u:l!="nodeName"&&(r[l]=u))}}}return o}function XD(e,t,n,r){if(n==al&&r==al)return t;let o=t;for(let i=0;i<r.length;i++){let a=r[i],l=n[i];if(i){let u;l&&l.nodeName==a.nodeName&&o!=e&&(u=o.parentNode)&&u.nodeName.toLowerCase()==a.nodeName||(u=document.createElement(a.nodeName),u.pmIsDeco=!0,u.appendChild(o),l=al[0]),o=u}yH(o,l||al[0],a)}return o}function yH(e,t,n){for(let r in t)r!="class"&&r!="style"&&r!="nodeName"&&!(r in n)&&e.removeAttribute(r);for(let r in n)r!="class"&&r!="style"&&r!="nodeName"&&n[r]!=t[r]&&e.setAttribute(r,n[r]);if(t.class!=n.class){let r=t.class?t.class.split(" ").filter(Boolean):[],o=n.class?n.class.split(" ").filter(Boolean):[];for(let i=0;i<r.length;i++)o.indexOf(r[i])==-1&&e.classList.remove(r[i]);for(let i=0;i<o.length;i++)r.indexOf(o[i])==-1&&e.classList.add(o[i]);e.classList.length==0&&e.removeAttribute("class")}if(t.style!=n.style){if(t.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,o;for(;o=r.exec(t.style);)e.style.removeProperty(o[1])}n.style&&(e.style.cssText+=n.style)}}function QD(e,t,n){return XD(e,e,al,Aw(t,n,e.nodeType!=1))}function qm(e,t){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!e[n].type.eq(t[n].type))return!1;return!0}function qk(e){let t=e.nextSibling;return e.parentNode.removeChild(e),t}class wH{constructor(t,n,r){this.lock=n,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=t,this.preMatch=CH(t.node.content,t)}destroyBetween(t,n){if(t!=n){for(let r=t;r<n;r++)this.top.children[r].destroy();this.top.children.splice(t,n-t),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(t,n,r){let o=0,i=this.stack.length>>1,a=Math.min(i,t.length);for(;o<a&&(o==i-1?this.top:this.stack[o+1<<1]).matchesMark(t[o])&&t[o].type.spec.spanning!==!1;)o++;for(;o<i;)this.destroyRest(),this.top.dirty=go,this.index=this.stack.pop(),this.top=this.stack.pop(),i--;for(;i<t.length;){this.stack.push(this.top,this.index+1);let l=-1;for(let u=this.index;u<Math.min(this.index+3,this.top.children.length);u++){let f=this.top.children[u];if(f.matchesMark(t[i])&&!this.isLocked(f.dom)){l=u;break}}if(l>-1)l>this.index&&(this.changed=!0,this.destroyBetween(this.index,l)),this.top=this.top.children[this.index];else{let u=Al.create(this.top,t[i],n,r);this.top.children.splice(this.index,0,u),this.top=u,this.changed=!0}this.index=0,i++}}findNodeMatch(t,n,r,o){let i=-1,a;if(o>=this.preMatch.index&&(a=this.preMatch.matches[o-this.preMatch.index]).parent==this.top&&a.matchesNode(t,n,r))i=this.top.children.indexOf(a,this.index);else for(let l=this.index,u=Math.min(this.top.children.length,l+5);l<u;l++){let f=this.top.children[l];if(f.matchesNode(t,n,r)&&!this.preMatch.matched.has(f)){i=l;break}}return i<0?!1:(this.destroyBetween(this.index,i),this.index++,!0)}updateNodeAt(t,n,r,o,i){let a=this.top.children[o];return a.dirty==di&&a.dom==a.contentDOM&&(a.dirty=il),a.update(t,n,r,i)?(this.destroyBetween(this.index,o),this.index++,!0):!1}findIndexWithChild(t){for(;;){let n=t.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let r=t.pmViewDesc;if(r){for(let o=this.index;o<this.top.children.length;o++)if(this.top.children[o]==r)return o}return-1}t=n}}updateNextNode(t,n,r,o,i,a){for(let l=this.index;l<this.top.children.length;l++){let u=this.top.children[l];if(u instanceof ms){let f=this.preMatch.matched.get(u);if(f!=null&&f!=i)return!1;let h=u.dom,p,g=this.isLocked(h)&&!(t.isText&&u.node&&u.node.isText&&u.nodeDOM.nodeValue==t.text&&u.dirty!=di&&qm(n,u.outerDeco));if(!g&&u.update(t,n,r,o))return this.destroyBetween(this.index,l),u.dom!=h&&(this.changed=!0),this.index++,!0;if(!g&&(p=this.recreateWrapper(u,t,n,r,o,a)))return this.destroyBetween(this.index,l),this.top.children[this.index]=p,p.contentDOM&&(p.dirty=il,p.updateChildren(o,a+1),p.dirty=go),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(t,n,r,o,i,a){if(t.dirty||n.isAtom||!t.children.length||!t.node.content.eq(n.content)||!qm(r,t.outerDeco)||!o.eq(t.innerDeco))return null;let l=ms.create(this.top,n,r,o,i,a);if(l.contentDOM){l.children=t.children,t.children=[];for(let u of l.children)u.parent=l}return t.destroy(),l}addNode(t,n,r,o,i){let a=ms.create(this.top,t,n,r,o,i);a.contentDOM&&a.updateChildren(o,i+1),this.top.children.splice(this.index++,0,a),this.changed=!0}placeWidget(t,n,r){let o=this.index<this.top.children.length?this.top.children[this.index]:null;if(o&&o.matchesWidget(t)&&(t==o.widget||!o.widget.type.toDOM.parentNode))this.index++;else{let i=new WD(this.top,t,n,r);this.top.children.splice(this.index++,0,i),this.changed=!0}}addTextblockHacks(){let t=this.top.children[this.index-1],n=this.top;for(;t instanceof Al;)n=t,t=n.children[n.children.length-1];(!t||!(t instanceof kx)||/\n$/.test(t.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(t.node.text))&&((sr||Qn)&&t&&t.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(t,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(t))this.index++;else{let r=document.createElement(t);t=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),t=="BR"&&(r.className="ProseMirror-trailingBreak");let o=new JD(this.top,[],r,null);n!=this.top?n.children.push(o):n.children.splice(this.index++,0,o),this.changed=!0}}isLocked(t){return this.lock&&(t==this.lock||t.nodeType==1&&t.contains(this.lock.parentNode))}}function CH(e,t){let n=t,r=n.children.length,o=e.childCount,i=new Map,a=[];e:for(;o>0;){let l;for(;;)if(r){let f=n.children[r-1];if(f instanceof Al)n=f,r=f.children.length;else{l=f,r--;break}}else{if(n==t)break e;r=n.parent.children.indexOf(n),n=n.parent}let u=l.node;if(u){if(u!=e.child(o-1))break;--o,i.set(l,o),a.push(l)}}return{index:o,matched:i,matches:a.reverse()}}function NH(e,t){return e.type.side-t.type.side}function SH(e,t,n,r){let o=t.locals(e),i=0;if(o.length==0){for(let f=0;f<e.childCount;f++){let h=e.child(f);r(h,o,t.forChild(i,h),f),i+=h.nodeSize}return}let a=0,l=[],u=null;for(let f=0;;){let h,p;for(;a<o.length&&o[a].to==i;){let C=o[a++];C.widget&&(h?(p||(p=[h])).push(C):h=C)}if(h)if(p){p.sort(NH);for(let C=0;C<p.length;C++)n(p[C],f,!!u)}else n(h,f,!!u);let g,x;if(u)x=-1,g=u,u=null;else if(f<e.childCount)x=f,g=e.child(f++);else break;for(let C=0;C<l.length;C++)l[C].to<=i&&l.splice(C--,1);for(;a<o.length&&o[a].from<=i&&o[a].to>i;)l.push(o[a++]);let y=i+g.nodeSize;if(g.isText){let C=y;a<o.length&&o[a].from<C&&(C=o[a].from);for(let A=0;A<l.length;A++)l[A].to<C&&(C=l[A].to);C<y&&(u=g.cut(C-i),g=g.cut(0,C-i),y=C,x=-1)}else for(;a<o.length&&o[a].to<y;)a++;let N=g.isInline&&!g.isLeaf?l.filter(C=>!C.inline):l.slice();r(g,N,t.forChild(i,g),x),i=y}}function EH(e){if(e.nodeName=="UL"||e.nodeName=="OL"){let t=e.style.cssText;e.style.cssText=t+"; list-style: square !important",window.getComputedStyle(e).listStyle,e.style.cssText=t}}function jH(e,t,n,r){for(let o=0,i=0;o<e.childCount&&i<=r;){let a=e.child(o++),l=i;if(i+=a.nodeSize,!a.isText)continue;let u=a.text;for(;o<e.childCount;){let f=e.child(o++);if(i+=f.nodeSize,!f.isText)break;u+=f.text}if(i>=n){if(i>=r&&u.slice(r-t.length-l,r-l)==t)return r-t.length;let f=l<r?u.lastIndexOf(t,r-l-1):-1;if(f>=0&&f+t.length+l>=n)return l+f;if(n==r&&u.length>=r+t.length-l&&u.slice(r-l,r-l+t.length)==t)return r}}return-1}function Tw(e,t,n,r,o){let i=[];for(let a=0,l=0;a<e.length;a++){let u=e[a],f=l,h=l+=u.size;f>=n||h<=t?i.push(u):(f<t&&i.push(u.slice(0,t-f,r)),o&&(i.push(o),o=void 0),h>n&&i.push(u.slice(n-f,u.size,r)))}return i}function TC(e,t=null){let n=e.domSelectionRange(),r=e.state.doc;if(!n.focusNode)return null;let o=e.docView.nearestDesc(n.focusNode),i=o&&o.size==0,a=e.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(a<0)return null;let l=r.resolve(a),u,f;if(Tx(n)){for(u=a;o&&!o.node;)o=o.parent;let p=o.node;if(o&&p.isAtom&&Pe.isSelectable(p)&&o.parent&&!(p.isInline&&Qq(n.focusNode,n.focusOffset,o.dom))){let g=o.posBefore;f=new Pe(a==g?l:r.resolve(g))}}else{if(n instanceof e.dom.ownerDocument.defaultView.Selection&&n.rangeCount>1){let p=a,g=a;for(let x=0;x<n.rangeCount;x++){let y=n.getRangeAt(x);p=Math.min(p,e.docView.posFromDOM(y.startContainer,y.startOffset,1)),g=Math.max(g,e.docView.posFromDOM(y.endContainer,y.endOffset,-1))}if(p<0)return null;[u,a]=g==e.state.selection.anchor?[g,p]:[p,g],l=r.resolve(a)}else u=e.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(u<0)return null}let h=r.resolve(u);if(!f){let p=t=="pointer"||e.state.selection.head<l.pos&&!i?1:-1;f=kC(e,h,l,p)}return f}function ZD(e){return e.editable?e.hasFocus():t_(e)&&document.activeElement&&document.activeElement.contains(e.dom)}function Yi(e,t=!1){let n=e.state.selection;if(e_(e,n),!!ZD(e)){if(!t&&e.input.mouseDown&&e.input.mouseDown.allowDefault&&Qn){let r=e.domSelectionRange(),o=e.domObserver.currentSelection;if(r.anchorNode&&o.anchorNode&&jl(r.anchorNode,r.anchorOffset,o.anchorNode,o.anchorOffset)){e.input.mouseDown.delayedSelectionSync=!0,e.domObserver.setCurSelection();return}}if(e.domObserver.disconnectSelection(),e.cursorWrapper)TH(e);else{let{anchor:r,head:o}=n,i,a;Hk&&!(n instanceof Ue)&&(n.$from.parent.inlineContent||(i=Vk(e,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(a=Vk(e,n.to))),e.docView.setSelection(r,o,e,t),Hk&&(i&&$k(i),a&&$k(a)),n.visible?e.dom.classList.remove("ProseMirror-hideselection"):(e.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&AH(e))}e.domObserver.setCurSelection(),e.domObserver.connectSelection()}}const Hk=sr||Qn&&FD<63;function Vk(e,t){let{node:n,offset:r}=e.docView.domFromPos(t,0),o=r<n.childNodes.length?n.childNodes[r]:null,i=r?n.childNodes[r-1]:null;if(sr&&o&&o.contentEditable=="false")return dy(o);if((!o||o.contentEditable=="false")&&(!i||i.contentEditable=="false")){if(o)return dy(o);if(i)return dy(i)}}function dy(e){return e.contentEditable="true",sr&&e.draggable&&(e.draggable=!1,e.wasDraggable=!0),e}function $k(e){e.contentEditable="false",e.wasDraggable&&(e.draggable=!0,e.wasDraggable=null)}function AH(e){let t=e.dom.ownerDocument;t.removeEventListener("selectionchange",e.input.hideSelectionGuard);let n=e.domSelectionRange(),r=n.anchorNode,o=n.anchorOffset;t.addEventListener("selectionchange",e.input.hideSelectionGuard=()=>{(n.anchorNode!=r||n.anchorOffset!=o)&&(t.removeEventListener("selectionchange",e.input.hideSelectionGuard),setTimeout(()=>{(!ZD(e)||e.state.selection.visible)&&e.dom.classList.remove("ProseMirror-hideselection")},20))})}function TH(e){let t=e.domSelection();if(!t)return;let n=e.cursorWrapper.dom,r=n.nodeName=="IMG";r?t.collapse(n.parentNode,Fn(n)+1):t.collapse(n,0),!r&&!e.state.selection.visible&&Sr&&ps<=11&&(n.disabled=!0,n.disabled=!1)}function e_(e,t){if(t instanceof Pe){let n=e.docView.descAt(t.from);n!=e.lastSelectedViewDesc&&(Gk(e),n&&n.selectNode(),e.lastSelectedViewDesc=n)}else Gk(e)}function Gk(e){e.lastSelectedViewDesc&&(e.lastSelectedViewDesc.parent&&e.lastSelectedViewDesc.deselectNode(),e.lastSelectedViewDesc=void 0)}function kC(e,t,n,r){return e.someProp("createSelectionBetween",o=>o(e,t,n))||Ue.between(t,n,r)}function Kk(e){return e.editable&&!e.hasFocus()?!1:t_(e)}function t_(e){let t=e.domSelectionRange();if(!t.anchorNode)return!1;try{return e.dom.contains(t.anchorNode.nodeType==3?t.anchorNode.parentNode:t.anchorNode)&&(e.editable||e.dom.contains(t.focusNode.nodeType==3?t.focusNode.parentNode:t.focusNode))}catch{return!1}}function kH(e){let t=e.docView.domFromPos(e.state.selection.anchor,0),n=e.domSelectionRange();return jl(t.node,t.offset,n.anchorNode,n.anchorOffset)}function kw(e,t){let{$anchor:n,$head:r}=e.selection,o=t>0?n.max(r):n.min(r),i=o.parent.inlineContent?o.depth?e.doc.resolve(t>0?o.after():o.before()):null:o;return i&&$e.findFrom(i,t)}function ts(e,t){return e.dispatch(e.state.tr.setSelection(t).scrollIntoView()),!0}function Wk(e,t,n){let r=e.state.selection;if(r instanceof Ue)if(n.indexOf("s")>-1){let{$head:o}=r,i=o.textOffset?null:t<0?o.nodeBefore:o.nodeAfter;if(!i||i.isText||!i.isLeaf)return!1;let a=e.state.doc.resolve(o.pos+i.nodeSize*(t<0?-1:1));return ts(e,new Ue(r.$anchor,a))}else if(r.empty){if(e.endOfTextblock(t>0?"forward":"backward")){let o=kw(e.state,t);return o&&o instanceof Pe?ts(e,o):!1}else if(!(uo&&n.indexOf("m")>-1)){let o=r.$head,i=o.textOffset?null:t<0?o.nodeBefore:o.nodeAfter,a;if(!i||i.isText)return!1;let l=t<0?o.pos-i.nodeSize:o.pos;return i.isAtom||(a=e.docView.descAt(l))&&!a.contentDOM?Pe.isSelectable(i)?ts(e,new Pe(t<0?e.state.doc.resolve(o.pos-i.nodeSize):o)):Kf?ts(e,new Ue(e.state.doc.resolve(t<0?l:l+i.nodeSize))):!1:!1}}else return!1;else{if(r instanceof Pe&&r.node.isInline)return ts(e,new Ue(t>0?r.$to:r.$from));{let o=kw(e.state,t);return o?ts(e,o):!1}}}function Hm(e){return e.nodeType==3?e.nodeValue.length:e.childNodes.length}function sf(e,t){let n=e.pmViewDesc;return n&&n.size==0&&(t<0||e.nextSibling||e.nodeName!="BR")}function Pc(e,t){return t<0?MH(e):PH(e)}function MH(e){let t=e.domSelectionRange(),n=t.focusNode,r=t.focusOffset;if(!n)return;let o,i,a=!1;for(mo&&n.nodeType==1&&r<Hm(n)&&sf(n.childNodes[r],-1)&&(a=!0);;)if(r>0){if(n.nodeType!=1)break;{let l=n.childNodes[r-1];if(sf(l,-1))o=n,i=--r;else if(l.nodeType==3)n=l,r=n.nodeValue.length;else break}}else{if(n_(n))break;{let l=n.previousSibling;for(;l&&sf(l,-1);)o=n.parentNode,i=Fn(l),l=l.previousSibling;if(l)n=l,r=Hm(n);else{if(n=n.parentNode,n==e.dom)break;r=0}}}a?Mw(e,n,r):o&&Mw(e,o,i)}function PH(e){let t=e.domSelectionRange(),n=t.focusNode,r=t.focusOffset;if(!n)return;let o=Hm(n),i,a;for(;;)if(r<o){if(n.nodeType!=1)break;let l=n.childNodes[r];if(sf(l,1))i=n,a=++r;else break}else{if(n_(n))break;{let l=n.nextSibling;for(;l&&sf(l,1);)i=l.parentNode,a=Fn(l)+1,l=l.nextSibling;if(l)n=l,r=0,o=Hm(n);else{if(n=n.parentNode,n==e.dom)break;r=o=0}}}i&&Mw(e,i,a)}function n_(e){let t=e.pmViewDesc;return t&&t.node&&t.node.isBlock}function RH(e,t){for(;e&&t==e.childNodes.length&&!Gf(e);)t=Fn(e)+1,e=e.parentNode;for(;e&&t<e.childNodes.length;){let n=e.childNodes[t];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;e=n,t=0}}function IH(e,t){for(;e&&!t&&!Gf(e);)t=Fn(e),e=e.parentNode;for(;e&&t;){let n=e.childNodes[t-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;e=n,t=e.childNodes.length}}function Mw(e,t,n){if(t.nodeType!=3){let i,a;(a=RH(t,n))?(t=a,n=0):(i=IH(t,n))&&(t=i,n=i.nodeValue.length)}let r=e.domSelection();if(!r)return;if(Tx(r)){let i=document.createRange();i.setEnd(t,n),i.setStart(t,n),r.removeAllRanges(),r.addRange(i)}else r.extend&&r.extend(t,n);e.domObserver.setCurSelection();let{state:o}=e;setTimeout(()=>{e.state==o&&Yi(e)},50)}function Jk(e,t){let n=e.state.doc.resolve(t);if(!(Qn||tH)&&n.parent.inlineContent){let o=e.coordsAtPos(t);if(t>n.start()){let i=e.coordsAtPos(t-1),a=(i.top+i.bottom)/2;if(a>o.top&&a<o.bottom&&Math.abs(i.left-o.left)>1)return i.left<o.left?"ltr":"rtl"}if(t<n.end()){let i=e.coordsAtPos(t+1),a=(i.top+i.bottom)/2;if(a>o.top&&a<o.bottom&&Math.abs(i.left-o.left)>1)return i.left>o.left?"ltr":"rtl"}}return getComputedStyle(e.dom).direction=="rtl"?"rtl":"ltr"}function Yk(e,t,n){let r=e.state.selection;if(r instanceof Ue&&!r.empty||n.indexOf("s")>-1||uo&&n.indexOf("m")>-1)return!1;let{$from:o,$to:i}=r;if(!o.parent.inlineContent||e.endOfTextblock(t<0?"up":"down")){let a=kw(e.state,t);if(a&&a instanceof Pe)return ts(e,a)}if(!o.parent.inlineContent){let a=t<0?o:i,l=r instanceof qr?$e.near(a,t):$e.findFrom(a,t);return l?ts(e,l):!1}return!1}function Xk(e,t){if(!(e.state.selection instanceof Ue))return!0;let{$head:n,$anchor:r,empty:o}=e.state.selection;if(!n.sameParent(r))return!0;if(!o)return!1;if(e.endOfTextblock(t>0?"forward":"backward"))return!0;let i=!n.textOffset&&(t<0?n.nodeBefore:n.nodeAfter);if(i&&!i.isText){let a=e.state.tr;return t<0?a.delete(n.pos-i.nodeSize,n.pos):a.delete(n.pos,n.pos+i.nodeSize),e.dispatch(a),!0}return!1}function Qk(e,t,n){e.domObserver.stop(),t.contentEditable=n,e.domObserver.start()}function DH(e){if(!sr||e.state.selection.$head.parentOffset>0)return!1;let{focusNode:t,focusOffset:n}=e.domSelectionRange();if(t&&t.nodeType==1&&n==0&&t.firstChild&&t.firstChild.contentEditable=="false"){let r=t.firstChild;Qk(e,r,"true"),setTimeout(()=>Qk(e,r,"false"),20)}return!1}function _H(e){let t="";return e.ctrlKey&&(t+="c"),e.metaKey&&(t+="m"),e.altKey&&(t+="a"),e.shiftKey&&(t+="s"),t}function OH(e,t){let n=t.keyCode,r=_H(t);if(n==8||uo&&n==72&&r=="c")return Xk(e,-1)||Pc(e,-1);if(n==46&&!t.shiftKey||uo&&n==68&&r=="c")return Xk(e,1)||Pc(e,1);if(n==13||n==27)return!0;if(n==37||uo&&n==66&&r=="c"){let o=n==37?Jk(e,e.state.selection.from)=="ltr"?-1:1:-1;return Wk(e,o,r)||Pc(e,o)}else if(n==39||uo&&n==70&&r=="c"){let o=n==39?Jk(e,e.state.selection.from)=="ltr"?1:-1:1;return Wk(e,o,r)||Pc(e,o)}else{if(n==38||uo&&n==80&&r=="c")return Yk(e,-1,r)||Pc(e,-1);if(n==40||uo&&n==78&&r=="c")return DH(e)||Yk(e,1,r)||Pc(e,1);if(r==(uo?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function MC(e,t){e.someProp("transformCopied",x=>{t=x(t,e)});let n=[],{content:r,openStart:o,openEnd:i}=t;for(;o>1&&i>1&&r.childCount==1&&r.firstChild.childCount==1;){o--,i--;let x=r.firstChild;n.push(x.type.name,x.attrs!=x.type.defaultAttrs?x.attrs:null),r=x.content}let a=e.someProp("clipboardSerializer")||Ul.fromSchema(e.state.schema),l=l_(),u=l.createElement("div");u.appendChild(a.serializeFragment(r,{document:l}));let f=u.firstChild,h,p=0;for(;f&&f.nodeType==1&&(h=s_[f.nodeName.toLowerCase()]);){for(let x=h.length-1;x>=0;x--){let y=l.createElement(h[x]);for(;u.firstChild;)y.appendChild(u.firstChild);u.appendChild(y),p++}f=u.firstChild}f&&f.nodeType==1&&f.setAttribute("data-pm-slice",`${o} ${i}${p?` -${p}`:""} ${JSON.stringify(n)}`);let g=e.someProp("clipboardTextSerializer",x=>x(t,e))||t.content.textBetween(0,t.content.size,`

`);return{dom:u,text:g,slice:t}}function r_(e,t,n,r,o){let i=o.parent.type.spec.code,a,l;if(!n&&!t)return null;let u=!!t&&(r||i||!n);if(u){if(e.someProp("transformPastedText",g=>{t=g(t,i||r,e)}),i)return l=new we(he.from(e.state.schema.text(t.replace(/\r\n?/g,`
`))),0,0),e.someProp("transformPasted",g=>{l=g(l,e,!0)}),l;let p=e.someProp("clipboardTextParser",g=>g(t,o,r,e));if(p)l=p;else{let g=o.marks(),{schema:x}=e.state,y=Ul.fromSchema(x);a=document.createElement("div"),t.split(/(?:\r\n?|\n)+/).forEach(N=>{let C=a.appendChild(document.createElement("p"));N&&C.appendChild(y.serializeNode(x.text(N,g)))})}}else e.someProp("transformPastedHTML",p=>{n=p(n,e)}),a=zH(n),Kf&&FH(a);let f=a&&a.querySelector("[data-pm-slice]"),h=f&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(f.getAttribute("data-pm-slice")||"");if(h&&h[3])for(let p=+h[3];p>0;p--){let g=a.firstChild;for(;g&&g.nodeType!=1;)g=g.nextSibling;if(!g)break;a=g}if(l||(l=(e.someProp("clipboardParser")||e.someProp("domParser")||hs.fromSchema(e.state.schema)).parseSlice(a,{preserveWhitespace:!!(u||h),context:o,ruleFromNode(g){return g.nodeName=="BR"&&!g.nextSibling&&g.parentNode&&!LH.test(g.parentNode.nodeName)?{ignore:!0}:null}})),h)l=qH(Zk(l,+h[1],+h[2]),h[4]);else if(l=we.maxOpen(BH(l.content,o),!0),l.openStart||l.openEnd){let p=0,g=0;for(let x=l.content.firstChild;p<l.openStart&&!x.type.spec.isolating;p++,x=x.firstChild);for(let x=l.content.lastChild;g<l.openEnd&&!x.type.spec.isolating;g++,x=x.lastChild);l=Zk(l,p,g)}return e.someProp("transformPasted",p=>{l=p(l,e,u)}),l}const LH=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function BH(e,t){if(e.childCount<2)return e;for(let n=t.depth;n>=0;n--){let o=t.node(n).contentMatchAt(t.index(n)),i,a=[];if(e.forEach(l=>{if(!a)return;let u=o.findWrapping(l.type),f;if(!u)return a=null;if(f=a.length&&i.length&&i_(u,i,l,a[a.length-1],0))a[a.length-1]=f;else{a.length&&(a[a.length-1]=a_(a[a.length-1],i.length));let h=o_(l,u);a.push(h),o=o.matchType(h.type),i=u}}),a)return he.from(a)}return e}function o_(e,t,n=0){for(let r=t.length-1;r>=n;r--)e=t[r].create(null,he.from(e));return e}function i_(e,t,n,r,o){if(o<e.length&&o<t.length&&e[o]==t[o]){let i=i_(e,t,n,r.lastChild,o+1);if(i)return r.copy(r.content.replaceChild(r.childCount-1,i));if(r.contentMatchAt(r.childCount).matchType(o==e.length-1?n.type:e[o+1]))return r.copy(r.content.append(he.from(o_(n,e,o+1))))}}function a_(e,t){if(t==0)return e;let n=e.content.replaceChild(e.childCount-1,a_(e.lastChild,t-1)),r=e.contentMatchAt(e.childCount).fillBefore(he.empty,!0);return e.copy(n.append(r))}function Pw(e,t,n,r,o,i){let a=t<0?e.firstChild:e.lastChild,l=a.content;return e.childCount>1&&(i=0),o<r-1&&(l=Pw(l,t,n,r,o+1,i)),o>=n&&(l=t<0?a.contentMatchAt(0).fillBefore(l,i<=o).append(l):l.append(a.contentMatchAt(a.childCount).fillBefore(he.empty,!0))),e.replaceChild(t<0?0:e.childCount-1,a.copy(l))}function Zk(e,t,n){return t<e.openStart&&(e=new we(Pw(e.content,-1,t,e.openStart,0,e.openEnd),t,e.openEnd)),n<e.openEnd&&(e=new we(Pw(e.content,1,n,e.openEnd,0,0),e.openStart,n)),e}const s_={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let e5=null;function l_(){return e5||(e5=document.implementation.createHTMLDocument("title"))}let fy=null;function UH(e){let t=window.trustedTypes;return t?(fy||(fy=t.defaultPolicy||t.createPolicy("ProseMirrorClipboard",{createHTML:n=>n})),fy.createHTML(e)):e}function zH(e){let t=/^(\s*<meta [^>]*>)*/.exec(e);t&&(e=e.slice(t[0].length));let n=l_().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(e),o;if((o=r&&s_[r[1].toLowerCase()])&&(e=o.map(i=>"<"+i+">").join("")+e+o.map(i=>"</"+i+">").reverse().join("")),n.innerHTML=UH(e),o)for(let i=0;i<o.length;i++)n=n.querySelector(o[i])||n;return n}function FH(e){let t=e.querySelectorAll(Qn?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<t.length;n++){let r=t[n];r.childNodes.length==1&&r.textContent==""&&r.parentNode&&r.parentNode.replaceChild(e.ownerDocument.createTextNode(" "),r)}}function qH(e,t){if(!e.size)return e;let n=e.content.firstChild.type.schema,r;try{r=JSON.parse(t)}catch{return e}let{content:o,openStart:i,openEnd:a}=e;for(let l=r.length-2;l>=0;l-=2){let u=n.nodes[r[l]];if(!u||u.hasRequiredAttrs())break;o=he.from(u.create(r[l+1],o)),i++,a++}return new we(o,i,a)}const lr={},cr={},HH={touchstart:!0,touchmove:!0};class VH{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function $H(e){for(let t in lr){let n=lr[t];e.dom.addEventListener(t,e.input.eventHandlers[t]=r=>{KH(e,r)&&!PC(e,r)&&(e.editable||!(r.type in cr))&&n(e,r)},HH[t]?{passive:!0}:void 0)}sr&&e.dom.addEventListener("input",()=>null),Rw(e)}function fs(e,t){e.input.lastSelectionOrigin=t,e.input.lastSelectionTime=Date.now()}function GH(e){e.domObserver.stop();for(let t in e.input.eventHandlers)e.dom.removeEventListener(t,e.input.eventHandlers[t]);clearTimeout(e.input.composingTimeout),clearTimeout(e.input.lastIOSEnterFallbackTimeout)}function Rw(e){e.someProp("handleDOMEvents",t=>{for(let n in t)e.input.eventHandlers[n]||e.dom.addEventListener(n,e.input.eventHandlers[n]=r=>PC(e,r))})}function PC(e,t){return e.someProp("handleDOMEvents",n=>{let r=n[t.type];return r?r(e,t)||t.defaultPrevented:!1})}function KH(e,t){if(!t.bubbles)return!0;if(t.defaultPrevented)return!1;for(let n=t.target;n!=e.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(t))return!1;return!0}function WH(e,t){!PC(e,t)&&lr[t.type]&&(e.editable||!(t.type in cr))&&lr[t.type](e,t)}cr.keydown=(e,t)=>{let n=t;if(e.input.shiftKey=n.keyCode==16||n.shiftKey,!u_(e,n)&&(e.input.lastKeyCode=n.keyCode,e.input.lastKeyCodeTime=Date.now(),!($i&&Qn&&n.keyCode==13)))if(n.keyCode!=229&&e.domObserver.forceFlush(),nu&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let r=Date.now();e.input.lastIOSEnter=r,e.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{e.input.lastIOSEnter==r&&(e.someProp("handleKeyDown",o=>o(e,ol(13,"Enter"))),e.input.lastIOSEnter=0)},200)}else e.someProp("handleKeyDown",r=>r(e,n))||OH(e,n)?n.preventDefault():fs(e,"key")};cr.keyup=(e,t)=>{t.keyCode==16&&(e.input.shiftKey=!1)};cr.keypress=(e,t)=>{let n=t;if(u_(e,n)||!n.charCode||n.ctrlKey&&!n.altKey||uo&&n.metaKey)return;if(e.someProp("handleKeyPress",o=>o(e,n))){n.preventDefault();return}let r=e.state.selection;if(!(r instanceof Ue)||!r.$from.sameParent(r.$to)){let o=String.fromCharCode(n.charCode),i=()=>e.state.tr.insertText(o).scrollIntoView();!/[\r\n]/.test(o)&&!e.someProp("handleTextInput",a=>a(e,r.$from.pos,r.$to.pos,o,i))&&e.dispatch(i()),n.preventDefault()}};function Mx(e){return{left:e.clientX,top:e.clientY}}function JH(e,t){let n=t.x-e.clientX,r=t.y-e.clientY;return n*n+r*r<100}function RC(e,t,n,r,o){if(r==-1)return!1;let i=e.state.doc.resolve(r);for(let a=i.depth+1;a>0;a--)if(e.someProp(t,l=>a>i.depth?l(e,n,i.nodeAfter,i.before(a),o,!0):l(e,n,i.node(a),i.before(a),o,!1)))return!0;return!1}function $c(e,t,n){if(e.focused||e.focus(),e.state.selection.eq(t))return;let r=e.state.tr.setSelection(t);r.setMeta("pointer",!0),e.dispatch(r)}function YH(e,t){if(t==-1)return!1;let n=e.state.doc.resolve(t),r=n.nodeAfter;return r&&r.isAtom&&Pe.isSelectable(r)?($c(e,new Pe(n)),!0):!1}function XH(e,t){if(t==-1)return!1;let n=e.state.selection,r,o;n instanceof Pe&&(r=n.node);let i=e.state.doc.resolve(t);for(let a=i.depth+1;a>0;a--){let l=a>i.depth?i.nodeAfter:i.node(a);if(Pe.isSelectable(l)){r&&n.$from.depth>0&&a>=n.$from.depth&&i.before(n.$from.depth+1)==n.$from.pos?o=i.before(n.$from.depth):o=i.before(a);break}}return o!=null?($c(e,Pe.create(e.state.doc,o)),!0):!1}function QH(e,t,n,r,o){return RC(e,"handleClickOn",t,n,r)||e.someProp("handleClick",i=>i(e,t,r))||(o?XH(e,n):YH(e,n))}function ZH(e,t,n,r){return RC(e,"handleDoubleClickOn",t,n,r)||e.someProp("handleDoubleClick",o=>o(e,t,r))}function eV(e,t,n,r){return RC(e,"handleTripleClickOn",t,n,r)||e.someProp("handleTripleClick",o=>o(e,t,r))||tV(e,n,r)}function tV(e,t,n){if(n.button!=0)return!1;let r=e.state.doc;if(t==-1)return r.inlineContent?($c(e,Ue.create(r,0,r.content.size)),!0):!1;let o=r.resolve(t);for(let i=o.depth+1;i>0;i--){let a=i>o.depth?o.nodeAfter:o.node(i),l=o.before(i);if(a.inlineContent)$c(e,Ue.create(r,l+1,l+1+a.content.size));else if(Pe.isSelectable(a))$c(e,Pe.create(r,l));else continue;return!0}}function IC(e){return Vm(e)}const c_=uo?"metaKey":"ctrlKey";lr.mousedown=(e,t)=>{let n=t;e.input.shiftKey=n.shiftKey;let r=IC(e),o=Date.now(),i="singleClick";o-e.input.lastClick.time<500&&JH(n,e.input.lastClick)&&!n[c_]&&e.input.lastClick.button==n.button&&(e.input.lastClick.type=="singleClick"?i="doubleClick":e.input.lastClick.type=="doubleClick"&&(i="tripleClick")),e.input.lastClick={time:o,x:n.clientX,y:n.clientY,type:i,button:n.button};let a=e.posAtCoords(Mx(n));a&&(i=="singleClick"?(e.input.mouseDown&&e.input.mouseDown.done(),e.input.mouseDown=new nV(e,a,n,!!r)):(i=="doubleClick"?ZH:eV)(e,a.pos,a.inside,n)?n.preventDefault():fs(e,"pointer"))};class nV{constructor(t,n,r,o){this.view=t,this.pos=n,this.event=r,this.flushed=o,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=t.state.doc,this.selectNode=!!r[c_],this.allowDefault=r.shiftKey;let i,a;if(n.inside>-1)i=t.state.doc.nodeAt(n.inside),a=n.inside;else{let h=t.state.doc.resolve(n.pos);i=h.parent,a=h.depth?h.before():0}const l=o?null:r.target,u=l?t.docView.nearestDesc(l,!0):null;this.target=u&&u.nodeDOM.nodeType==1?u.nodeDOM:null;let{selection:f}=t.state;(r.button==0&&i.type.spec.draggable&&i.type.spec.selectable!==!1||f instanceof Pe&&f.from<=a&&f.to>a)&&(this.mightDrag={node:i,pos:a,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&mo&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),t.root.addEventListener("mouseup",this.up=this.up.bind(this)),t.root.addEventListener("mousemove",this.move=this.move.bind(this)),fs(t,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>Yi(this.view)),this.view.input.mouseDown=null}up(t){if(this.done(),!this.view.dom.contains(t.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(Mx(t))),this.updateAllowDefault(t),this.allowDefault||!n?fs(this.view,"pointer"):QH(this.view,n.pos,n.inside,t,this.selectNode)?t.preventDefault():t.button==0&&(this.flushed||sr&&this.mightDrag&&!this.mightDrag.node.isAtom||Qn&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?($c(this.view,$e.near(this.view.state.doc.resolve(n.pos))),t.preventDefault()):fs(this.view,"pointer")}move(t){this.updateAllowDefault(t),fs(this.view,"pointer"),t.buttons==0&&this.done()}updateAllowDefault(t){!this.allowDefault&&(Math.abs(this.event.x-t.clientX)>4||Math.abs(this.event.y-t.clientY)>4)&&(this.allowDefault=!0)}}lr.touchstart=e=>{e.input.lastTouch=Date.now(),IC(e),fs(e,"pointer")};lr.touchmove=e=>{e.input.lastTouch=Date.now(),fs(e,"pointer")};lr.contextmenu=e=>IC(e);function u_(e,t){return e.composing?!0:sr&&Math.abs(t.timeStamp-e.input.compositionEndedAt)<500?(e.input.compositionEndedAt=-2e8,!0):!1}const rV=$i?5e3:-1;cr.compositionstart=cr.compositionupdate=e=>{if(!e.composing){e.domObserver.flush();let{state:t}=e,n=t.selection.$to;if(t.selection instanceof Ue&&(t.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)))e.markCursor=e.state.storedMarks||n.marks(),Vm(e,!0),e.markCursor=null;else if(Vm(e,!t.selection.empty),mo&&t.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let r=e.domSelectionRange();for(let o=r.focusNode,i=r.focusOffset;o&&o.nodeType==1&&i!=0;){let a=i<0?o.lastChild:o.childNodes[i-1];if(!a)break;if(a.nodeType==3){let l=e.domSelection();l&&l.collapse(a,a.nodeValue.length);break}else o=a,i=-1}}e.input.composing=!0}d_(e,rV)};cr.compositionend=(e,t)=>{e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=t.timeStamp,e.input.compositionPendingChanges=e.domObserver.pendingRecords().length?e.input.compositionID:0,e.input.compositionNode=null,e.input.compositionPendingChanges&&Promise.resolve().then(()=>e.domObserver.flush()),e.input.compositionID++,d_(e,20))};function d_(e,t){clearTimeout(e.input.composingTimeout),t>-1&&(e.input.composingTimeout=setTimeout(()=>Vm(e),t))}function f_(e){for(e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=iV());e.input.compositionNodes.length>0;)e.input.compositionNodes.pop().markParentsDirty()}function oV(e){let t=e.domSelectionRange();if(!t.focusNode)return null;let n=Yq(t.focusNode,t.focusOffset),r=Xq(t.focusNode,t.focusOffset);if(n&&r&&n!=r){let o=r.pmViewDesc,i=e.domObserver.lastChangedTextNode;if(n==i||r==i)return i;if(!o||!o.isText(r.nodeValue))return r;if(e.input.compositionNode==r){let a=n.pmViewDesc;if(!(!a||!a.isText(n.nodeValue)))return r}}return n||r}function iV(){let e=document.createEvent("Event");return e.initEvent("event",!0,!0),e.timeStamp}function Vm(e,t=!1){if(!($i&&e.domObserver.flushingSoon>=0)){if(e.domObserver.forceFlush(),f_(e),t||e.docView&&e.docView.dirty){let n=TC(e),r=e.state.selection;return n&&!n.eq(r)?e.dispatch(e.state.tr.setSelection(n)):(e.markCursor||t)&&!r.$from.node(r.$from.sharedDepth(r.to)).inlineContent?e.dispatch(e.state.tr.deleteSelection()):e.updateState(e.state),!0}return!1}}function aV(e,t){if(!e.dom.parentNode)return;let n=e.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(t),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),o=document.createRange();o.selectNodeContents(t),e.dom.blur(),r.removeAllRanges(),r.addRange(o),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),e.focus()},50)}const Ef=Sr&&ps<15||nu&&nH<604;lr.copy=cr.cut=(e,t)=>{let n=t,r=e.state.selection,o=n.type=="cut";if(r.empty)return;let i=Ef?null:n.clipboardData,a=r.content(),{dom:l,text:u}=MC(e,a);i?(n.preventDefault(),i.clearData(),i.setData("text/html",l.innerHTML),i.setData("text/plain",u)):aV(e,l),o&&e.dispatch(e.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function sV(e){return e.openStart==0&&e.openEnd==0&&e.content.childCount==1?e.content.firstChild:null}function lV(e,t){if(!e.dom.parentNode)return;let n=e.input.shiftKey||e.state.selection.$from.parent.type.spec.code,r=e.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let o=e.input.shiftKey&&e.input.lastKeyCode!=45;setTimeout(()=>{e.focus(),r.parentNode&&r.parentNode.removeChild(r),n?jf(e,r.value,null,o,t):jf(e,r.textContent,r.innerHTML,o,t)},50)}function jf(e,t,n,r,o){let i=r_(e,t,n,r,e.state.selection.$from);if(e.someProp("handlePaste",u=>u(e,o,i||we.empty)))return!0;if(!i)return!1;let a=sV(i),l=a?e.state.tr.replaceSelectionWith(a,r):e.state.tr.replaceSelection(i);return e.dispatch(l.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function h_(e){let t=e.getData("text/plain")||e.getData("Text");if(t)return t;let n=e.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}cr.paste=(e,t)=>{let n=t;if(e.composing&&!$i)return;let r=Ef?null:n.clipboardData,o=e.input.shiftKey&&e.input.lastKeyCode!=45;r&&jf(e,h_(r),r.getData("text/html"),o,n)?n.preventDefault():lV(e,n)};class p_{constructor(t,n,r){this.slice=t,this.move=n,this.node=r}}const cV=uo?"altKey":"ctrlKey";function m_(e,t){let n=e.someProp("dragCopies",r=>!r(t));return n??!t[cV]}lr.dragstart=(e,t)=>{let n=t,r=e.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let o=e.state.selection,i=o.empty?null:e.posAtCoords(Mx(n)),a;if(!(i&&i.pos>=o.from&&i.pos<=(o instanceof Pe?o.to-1:o.to))){if(r&&r.mightDrag)a=Pe.create(e.state.doc,r.mightDrag.pos);else if(n.target&&n.target.nodeType==1){let p=e.docView.nearestDesc(n.target,!0);p&&p.node.type.spec.draggable&&p!=e.docView&&(a=Pe.create(e.state.doc,p.posBefore))}}let l=(a||e.state.selection).content(),{dom:u,text:f,slice:h}=MC(e,l);(!n.dataTransfer.files.length||!Qn||FD>120)&&n.dataTransfer.clearData(),n.dataTransfer.setData(Ef?"Text":"text/html",u.innerHTML),n.dataTransfer.effectAllowed="copyMove",Ef||n.dataTransfer.setData("text/plain",f),e.dragging=new p_(h,m_(e,n),a)};lr.dragend=e=>{let t=e.dragging;window.setTimeout(()=>{e.dragging==t&&(e.dragging=null)},50)};cr.dragover=cr.dragenter=(e,t)=>t.preventDefault();cr.drop=(e,t)=>{let n=t,r=e.dragging;if(e.dragging=null,!n.dataTransfer)return;let o=e.posAtCoords(Mx(n));if(!o)return;let i=e.state.doc.resolve(o.pos),a=r&&r.slice;a?e.someProp("transformPasted",y=>{a=y(a,e,!1)}):a=r_(e,h_(n.dataTransfer),Ef?null:n.dataTransfer.getData("text/html"),!1,i);let l=!!(r&&m_(e,n));if(e.someProp("handleDrop",y=>y(e,n,a||we.empty,l))){n.preventDefault();return}if(!a)return;n.preventDefault();let u=a?yD(e.state.doc,i.pos,a):i.pos;u==null&&(u=i.pos);let f=e.state.tr;if(l){let{node:y}=r;y?y.replace(f):f.deleteSelection()}let h=f.mapping.map(u),p=a.openStart==0&&a.openEnd==0&&a.content.childCount==1,g=f.doc;if(p?f.replaceRangeWith(h,h,a.content.firstChild):f.replaceRange(h,h,a),f.doc.eq(g))return;let x=f.doc.resolve(h);if(p&&Pe.isSelectable(a.content.firstChild)&&x.nodeAfter&&x.nodeAfter.sameMarkup(a.content.firstChild))f.setSelection(new Pe(x));else{let y=f.mapping.map(u);f.mapping.maps[f.mapping.maps.length-1].forEach((N,C,A,T)=>y=T),f.setSelection(kC(e,x,f.doc.resolve(y)))}e.focus(),e.dispatch(f.setMeta("uiEvent","drop"))};lr.focus=e=>{e.input.lastFocus=Date.now(),e.focused||(e.domObserver.stop(),e.dom.classList.add("ProseMirror-focused"),e.domObserver.start(),e.focused=!0,setTimeout(()=>{e.docView&&e.hasFocus()&&!e.domObserver.currentSelection.eq(e.domSelectionRange())&&Yi(e)},20))};lr.blur=(e,t)=>{let n=t;e.focused&&(e.domObserver.stop(),e.dom.classList.remove("ProseMirror-focused"),e.domObserver.start(),n.relatedTarget&&e.dom.contains(n.relatedTarget)&&e.domObserver.currentSelection.clear(),e.focused=!1)};lr.beforeinput=(e,t)=>{if(Qn&&$i&&t.inputType=="deleteContentBackward"){e.domObserver.flushSoon();let{domChangeCount:r}=e.input;setTimeout(()=>{if(e.input.domChangeCount!=r||(e.dom.blur(),e.focus(),e.someProp("handleKeyDown",i=>i(e,ol(8,"Backspace")))))return;let{$cursor:o}=e.state.selection;o&&o.pos>0&&e.dispatch(e.state.tr.delete(o.pos-1,o.pos).scrollIntoView())},50)}};for(let e in cr)lr[e]=cr[e];function Af(e,t){if(e==t)return!0;for(let n in e)if(e[n]!==t[n])return!1;for(let n in t)if(!(n in e))return!1;return!0}class $m{constructor(t,n){this.toDOM=t,this.spec=n||ml,this.side=this.spec.side||0}map(t,n,r,o){let{pos:i,deleted:a}=t.mapResult(n.from+o,this.side<0?-1:1);return a?null:new ir(i-r,i-r,this)}valid(){return!0}eq(t){return this==t||t instanceof $m&&(this.spec.key&&this.spec.key==t.spec.key||this.toDOM==t.toDOM&&Af(this.spec,t.spec))}destroy(t){this.spec.destroy&&this.spec.destroy(t)}}class gs{constructor(t,n){this.attrs=t,this.spec=n||ml}map(t,n,r,o){let i=t.map(n.from+o,this.spec.inclusiveStart?-1:1)-r,a=t.map(n.to+o,this.spec.inclusiveEnd?1:-1)-r;return i>=a?null:new ir(i,a,this)}valid(t,n){return n.from<n.to}eq(t){return this==t||t instanceof gs&&Af(this.attrs,t.attrs)&&Af(this.spec,t.spec)}static is(t){return t.type instanceof gs}destroy(){}}class DC{constructor(t,n){this.attrs=t,this.spec=n||ml}map(t,n,r,o){let i=t.mapResult(n.from+o,1);if(i.deleted)return null;let a=t.mapResult(n.to+o,-1);return a.deleted||a.pos<=i.pos?null:new ir(i.pos-r,a.pos-r,this)}valid(t,n){let{index:r,offset:o}=t.content.findIndex(n.from),i;return o==n.from&&!(i=t.child(r)).isText&&o+i.nodeSize==n.to}eq(t){return this==t||t instanceof DC&&Af(this.attrs,t.attrs)&&Af(this.spec,t.spec)}destroy(){}}class ir{constructor(t,n,r){this.from=t,this.to=n,this.type=r}copy(t,n){return new ir(t,n,this.type)}eq(t,n=0){return this.type.eq(t.type)&&this.from+n==t.from&&this.to+n==t.to}map(t,n,r){return this.type.map(t,this,n,r)}static widget(t,n,r){return new ir(t,t,new $m(n,r))}static inline(t,n,r,o){return new ir(t,n,new gs(r,o))}static node(t,n,r,o){return new ir(t,n,new DC(r,o))}get spec(){return this.type.spec}get inline(){return this.type instanceof gs}get widget(){return this.type instanceof $m}}const Oc=[],ml={};class Bt{constructor(t,n){this.local=t.length?t:Oc,this.children=n.length?n:Oc}static create(t,n){return n.length?Gm(n,t,0,ml):Kn}find(t,n,r){let o=[];return this.findInner(t??0,n??1e9,o,0,r),o}findInner(t,n,r,o,i){for(let a=0;a<this.local.length;a++){let l=this.local[a];l.from<=n&&l.to>=t&&(!i||i(l.spec))&&r.push(l.copy(l.from+o,l.to+o))}for(let a=0;a<this.children.length;a+=3)if(this.children[a]<n&&this.children[a+1]>t){let l=this.children[a]+1;this.children[a+2].findInner(t-l,n-l,r,o+l,i)}}map(t,n,r){return this==Kn||t.maps.length==0?this:this.mapInner(t,n,0,0,r||ml)}mapInner(t,n,r,o,i){let a;for(let l=0;l<this.local.length;l++){let u=this.local[l].map(t,r,o);u&&u.type.valid(n,u)?(a||(a=[])).push(u):i.onRemove&&i.onRemove(this.local[l].spec)}return this.children.length?uV(this.children,a||[],t,n,r,o,i):a?new Bt(a.sort(gl),Oc):Kn}add(t,n){return n.length?this==Kn?Bt.create(t,n):this.addInner(t,n,0):this}addInner(t,n,r){let o,i=0;t.forEach((l,u)=>{let f=u+r,h;if(h=x_(n,l,f)){for(o||(o=this.children.slice());i<o.length&&o[i]<u;)i+=3;o[i]==u?o[i+2]=o[i+2].addInner(l,h,f+1):o.splice(i,0,u,u+l.nodeSize,Gm(h,l,f+1,ml)),i+=3}});let a=g_(i?b_(n):n,-r);for(let l=0;l<a.length;l++)a[l].type.valid(t,a[l])||a.splice(l--,1);return new Bt(a.length?this.local.concat(a).sort(gl):this.local,o||this.children)}remove(t){return t.length==0||this==Kn?this:this.removeInner(t,0)}removeInner(t,n){let r=this.children,o=this.local;for(let i=0;i<r.length;i+=3){let a,l=r[i]+n,u=r[i+1]+n;for(let h=0,p;h<t.length;h++)(p=t[h])&&p.from>l&&p.to<u&&(t[h]=null,(a||(a=[])).push(p));if(!a)continue;r==this.children&&(r=this.children.slice());let f=r[i+2].removeInner(a,l+1);f!=Kn?r[i+2]=f:(r.splice(i,3),i-=3)}if(o.length){for(let i=0,a;i<t.length;i++)if(a=t[i])for(let l=0;l<o.length;l++)o[l].eq(a,n)&&(o==this.local&&(o=this.local.slice()),o.splice(l--,1))}return r==this.children&&o==this.local?this:o.length||r.length?new Bt(o,r):Kn}forChild(t,n){if(this==Kn)return this;if(n.isLeaf)return Bt.empty;let r,o;for(let l=0;l<this.children.length;l+=3)if(this.children[l]>=t){this.children[l]==t&&(r=this.children[l+2]);break}let i=t+1,a=i+n.content.size;for(let l=0;l<this.local.length;l++){let u=this.local[l];if(u.from<a&&u.to>i&&u.type instanceof gs){let f=Math.max(i,u.from)-i,h=Math.min(a,u.to)-i;f<h&&(o||(o=[])).push(u.copy(f,h))}}if(o){let l=new Bt(o.sort(gl),Oc);return r?new ss([l,r]):l}return r||Kn}eq(t){if(this==t)return!0;if(!(t instanceof Bt)||this.local.length!=t.local.length||this.children.length!=t.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(t.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=t.children[n]||this.children[n+1]!=t.children[n+1]||!this.children[n+2].eq(t.children[n+2]))return!1;return!0}locals(t){return _C(this.localsInner(t))}localsInner(t){if(this==Kn)return Oc;if(t.inlineContent||!this.local.some(gs.is))return this.local;let n=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof gs||n.push(this.local[r]);return n}forEachSet(t){t(this)}}Bt.empty=new Bt([],[]);Bt.removeOverlap=_C;const Kn=Bt.empty;class ss{constructor(t){this.members=t}map(t,n){const r=this.members.map(o=>o.map(t,n,ml));return ss.from(r)}forChild(t,n){if(n.isLeaf)return Bt.empty;let r=[];for(let o=0;o<this.members.length;o++){let i=this.members[o].forChild(t,n);i!=Kn&&(i instanceof ss?r=r.concat(i.members):r.push(i))}return ss.from(r)}eq(t){if(!(t instanceof ss)||t.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(t.members[n]))return!1;return!0}locals(t){let n,r=!0;for(let o=0;o<this.members.length;o++){let i=this.members[o].localsInner(t);if(i.length)if(!n)n=i;else{r&&(n=n.slice(),r=!1);for(let a=0;a<i.length;a++)n.push(i[a])}}return n?_C(r?n:n.sort(gl)):Oc}static from(t){switch(t.length){case 0:return Kn;case 1:return t[0];default:return new ss(t.every(n=>n instanceof Bt)?t:t.reduce((n,r)=>n.concat(r instanceof Bt?r:r.members),[]))}}forEachSet(t){for(let n=0;n<this.members.length;n++)this.members[n].forEachSet(t)}}function uV(e,t,n,r,o,i,a){let l=e.slice();for(let f=0,h=i;f<n.maps.length;f++){let p=0;n.maps[f].forEach((g,x,y,N)=>{let C=N-y-(x-g);for(let A=0;A<l.length;A+=3){let T=l[A+1];if(T<0||g>T+h-p)continue;let k=l[A]+h-p;x>=k?l[A+1]=g<=k?-2:-1:g>=h&&C&&(l[A]+=C,l[A+1]+=C)}p+=C}),h=n.maps[f].map(h,-1)}let u=!1;for(let f=0;f<l.length;f+=3)if(l[f+1]<0){if(l[f+1]==-2){u=!0,l[f+1]=-1;continue}let h=n.map(e[f]+i),p=h-o;if(p<0||p>=r.content.size){u=!0;continue}let g=n.map(e[f+1]+i,-1),x=g-o,{index:y,offset:N}=r.content.findIndex(p),C=r.maybeChild(y);if(C&&N==p&&N+C.nodeSize==x){let A=l[f+2].mapInner(n,C,h+1,e[f]+i+1,a);A!=Kn?(l[f]=p,l[f+1]=x,l[f+2]=A):(l[f+1]=-2,u=!0)}else u=!0}if(u){let f=dV(l,e,t,n,o,i,a),h=Gm(f,r,0,a);t=h.local;for(let p=0;p<l.length;p+=3)l[p+1]<0&&(l.splice(p,3),p-=3);for(let p=0,g=0;p<h.children.length;p+=3){let x=h.children[p];for(;g<l.length&&l[g]<x;)g+=3;l.splice(g,0,h.children[p],h.children[p+1],h.children[p+2])}}return new Bt(t.sort(gl),l)}function g_(e,t){if(!t||!e.length)return e;let n=[];for(let r=0;r<e.length;r++){let o=e[r];n.push(new ir(o.from+t,o.to+t,o.type))}return n}function dV(e,t,n,r,o,i,a){function l(u,f){for(let h=0;h<u.local.length;h++){let p=u.local[h].map(r,o,f);p?n.push(p):a.onRemove&&a.onRemove(u.local[h].spec)}for(let h=0;h<u.children.length;h+=3)l(u.children[h+2],u.children[h]+f+1)}for(let u=0;u<e.length;u+=3)e[u+1]==-1&&l(e[u+2],t[u]+i+1);return n}function x_(e,t,n){if(t.isLeaf)return null;let r=n+t.nodeSize,o=null;for(let i=0,a;i<e.length;i++)(a=e[i])&&a.from>n&&a.to<r&&((o||(o=[])).push(a),e[i]=null);return o}function b_(e){let t=[];for(let n=0;n<e.length;n++)e[n]!=null&&t.push(e[n]);return t}function Gm(e,t,n,r){let o=[],i=!1;t.forEach((l,u)=>{let f=x_(e,l,u+n);if(f){i=!0;let h=Gm(f,l,n+u+1,r);h!=Kn&&o.push(u,u+l.nodeSize,h)}});let a=g_(i?b_(e):e,-n).sort(gl);for(let l=0;l<a.length;l++)a[l].type.valid(t,a[l])||(r.onRemove&&r.onRemove(a[l].spec),a.splice(l--,1));return a.length||o.length?new Bt(a,o):Kn}function gl(e,t){return e.from-t.from||e.to-t.to}function _C(e){let t=e;for(let n=0;n<t.length-1;n++){let r=t[n];if(r.from!=r.to)for(let o=n+1;o<t.length;o++){let i=t[o];if(i.from==r.from){i.to!=r.to&&(t==e&&(t=e.slice()),t[o]=i.copy(i.from,r.to),t5(t,o+1,i.copy(r.to,i.to)));continue}else{i.from<r.to&&(t==e&&(t=e.slice()),t[n]=r.copy(r.from,i.from),t5(t,o,r.copy(i.from,r.to)));break}}}return t}function t5(e,t,n){for(;t<e.length&&gl(n,e[t])>0;)t++;e.splice(t,0,n)}function hy(e){let t=[];return e.someProp("decorations",n=>{let r=n(e.state);r&&r!=Kn&&t.push(r)}),e.cursorWrapper&&t.push(Bt.create(e.state.doc,[e.cursorWrapper.deco])),ss.from(t)}const fV={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},hV=Sr&&ps<=11;class pV{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(t){this.anchorNode=t.anchorNode,this.anchorOffset=t.anchorOffset,this.focusNode=t.focusNode,this.focusOffset=t.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(t){return t.anchorNode==this.anchorNode&&t.anchorOffset==this.anchorOffset&&t.focusNode==this.focusNode&&t.focusOffset==this.focusOffset}}class mV{constructor(t,n){this.view=t,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new pV,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let o=0;o<r.length;o++)this.queue.push(r[o]);Sr&&ps<=11&&r.some(o=>o.type=="childList"&&o.removedNodes.length||o.type=="characterData"&&o.oldValue.length>o.target.nodeValue.length)?this.flushSoon():this.flush()}),hV&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,fV)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let t=this.observer.takeRecords();if(t.length){for(let n=0;n<t.length;n++)this.queue.push(t[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(Kk(this.view)){if(this.suppressingSelectionUpdates)return Yi(this.view);if(Sr&&ps<=11&&!this.view.state.selection.empty){let t=this.view.domSelectionRange();if(t.focusNode&&jl(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(t){if(!t.focusNode)return!0;let n=new Set,r;for(let i=t.focusNode;i;i=tu(i))n.add(i);for(let i=t.anchorNode;i;i=tu(i))if(n.has(i)){r=i;break}let o=r&&this.view.docView.nearestDesc(r);if(o&&o.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let t of this.observer.takeRecords())this.queue.push(t);return this.queue}flush(){let{view:t}=this;if(!t.docView||this.flushingSoon>-1)return;let n=this.pendingRecords();n.length&&(this.queue=[]);let r=t.domSelectionRange(),o=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&Kk(t)&&!this.ignoreSelectionChange(r),i=-1,a=-1,l=!1,u=[];if(t.editable)for(let h=0;h<n.length;h++){let p=this.registerMutation(n[h],u);p&&(i=i<0?p.from:Math.min(p.from,i),a=a<0?p.to:Math.max(p.to,a),p.typeOver&&(l=!0))}if(mo&&u.length){let h=u.filter(p=>p.nodeName=="BR");if(h.length==2){let[p,g]=h;p.parentNode&&p.parentNode.parentNode==g.parentNode?g.remove():p.remove()}else{let{focusNode:p}=this.currentSelection;for(let g of h){let x=g.parentNode;x&&x.nodeName=="LI"&&(!p||bV(t,p)!=x)&&g.remove()}}}let f=null;i<0&&o&&t.input.lastFocus>Date.now()-200&&Math.max(t.input.lastTouch,t.input.lastClick.time)<Date.now()-300&&Tx(r)&&(f=TC(t))&&f.eq($e.near(t.state.doc.resolve(0),1))?(t.input.lastFocus=0,Yi(t),this.currentSelection.set(r),t.scrollToSelection()):(i>-1||o)&&(i>-1&&(t.docView.markDirty(i,a),gV(t)),this.handleDOMChange(i,a,l,u),t.docView&&t.docView.dirty?t.updateState(t.state):this.currentSelection.eq(r)||Yi(t),this.currentSelection.set(r))}registerMutation(t,n){if(n.indexOf(t.target)>-1)return null;let r=this.view.docView.nearestDesc(t.target);if(t.type=="attributes"&&(r==this.view.docView||t.attributeName=="contenteditable"||t.attributeName=="style"&&!t.oldValue&&!t.target.getAttribute("style"))||!r||r.ignoreMutation(t))return null;if(t.type=="childList"){for(let h=0;h<t.addedNodes.length;h++){let p=t.addedNodes[h];n.push(p),p.nodeType==3&&(this.lastChangedTextNode=p)}if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(t.target))return{from:r.posBefore,to:r.posAfter};let o=t.previousSibling,i=t.nextSibling;if(Sr&&ps<=11&&t.addedNodes.length)for(let h=0;h<t.addedNodes.length;h++){let{previousSibling:p,nextSibling:g}=t.addedNodes[h];(!p||Array.prototype.indexOf.call(t.addedNodes,p)<0)&&(o=p),(!g||Array.prototype.indexOf.call(t.addedNodes,g)<0)&&(i=g)}let a=o&&o.parentNode==t.target?Fn(o)+1:0,l=r.localPosFromDOM(t.target,a,-1),u=i&&i.parentNode==t.target?Fn(i):t.target.childNodes.length,f=r.localPosFromDOM(t.target,u,1);return{from:l,to:f}}else return t.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:(this.lastChangedTextNode=t.target,{from:r.posAtStart,to:r.posAtEnd,typeOver:t.target.nodeValue==t.oldValue})}}let n5=new WeakMap,r5=!1;function gV(e){if(!n5.has(e)&&(n5.set(e,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(e.dom).whiteSpace)!==-1)){if(e.requiresGeckoHackNode=mo,r5)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),r5=!0}}function o5(e,t){let n=t.startContainer,r=t.startOffset,o=t.endContainer,i=t.endOffset,a=e.domAtPos(e.state.selection.anchor);return jl(a.node,a.offset,o,i)&&([n,r,o,i]=[o,i,n,r]),{anchorNode:n,anchorOffset:r,focusNode:o,focusOffset:i}}function xV(e,t){if(t.getComposedRanges){let o=t.getComposedRanges(e.root)[0];if(o)return o5(e,o)}let n;function r(o){o.preventDefault(),o.stopImmediatePropagation(),n=o.getTargetRanges()[0]}return e.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),e.dom.removeEventListener("beforeinput",r,!0),n?o5(e,n):null}function bV(e,t){for(let n=t.parentNode;n&&n!=e.dom;n=n.parentNode){let r=e.docView.nearestDesc(n,!0);if(r&&r.node.isBlock)return n}return null}function vV(e,t,n){let{node:r,fromOffset:o,toOffset:i,from:a,to:l}=e.docView.parseRange(t,n),u=e.domSelectionRange(),f,h=u.anchorNode;if(h&&e.dom.contains(h.nodeType==1?h:h.parentNode)&&(f=[{node:h,offset:u.anchorOffset}],Tx(u)||f.push({node:u.focusNode,offset:u.focusOffset})),Qn&&e.input.lastKeyCode===8)for(let C=i;C>o;C--){let A=r.childNodes[C-1],T=A.pmViewDesc;if(A.nodeName=="BR"&&!T){i=C;break}if(!T||T.size)break}let p=e.state.doc,g=e.someProp("domParser")||hs.fromSchema(e.state.schema),x=p.resolve(a),y=null,N=g.parse(r,{topNode:x.parent,topMatch:x.parent.contentMatchAt(x.index()),topOpen:!0,from:o,to:i,preserveWhitespace:x.parent.type.whitespace=="pre"?"full":!0,findPositions:f,ruleFromNode:yV,context:x});if(f&&f[0].pos!=null){let C=f[0].pos,A=f[1]&&f[1].pos;A==null&&(A=C),y={anchor:C+a,head:A+a}}return{doc:N,sel:y,from:a,to:l}}function yV(e){let t=e.pmViewDesc;if(t)return t.parseRule();if(e.nodeName=="BR"&&e.parentNode){if(sr&&/^(ul|ol)$/i.test(e.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(e.parentNode.lastChild==e||sr&&/^(tr|table)$/i.test(e.parentNode.nodeName))return{ignore:!0}}else if(e.nodeName=="IMG"&&e.getAttribute("mark-placeholder"))return{ignore:!0};return null}const wV=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|img|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function CV(e,t,n,r,o){let i=e.input.compositionPendingChanges||(e.composing?e.input.compositionID:0);if(e.input.compositionPendingChanges=0,t<0){let P=e.input.lastSelectionTime>Date.now()-50?e.input.lastSelectionOrigin:null,B=TC(e,P);if(B&&!e.state.selection.eq(B)){if(Qn&&$i&&e.input.lastKeyCode===13&&Date.now()-100<e.input.lastKeyCodeTime&&e.someProp("handleKeyDown",$=>$(e,ol(13,"Enter"))))return;let L=e.state.tr.setSelection(B);P=="pointer"?L.setMeta("pointer",!0):P=="key"&&L.scrollIntoView(),i&&L.setMeta("composition",i),e.dispatch(L)}return}let a=e.state.doc.resolve(t),l=a.sharedDepth(n);t=a.before(l+1),n=e.state.doc.resolve(n).after(l+1);let u=e.state.selection,f=vV(e,t,n),h=e.state.doc,p=h.slice(f.from,f.to),g,x;e.input.lastKeyCode===8&&Date.now()-100<e.input.lastKeyCodeTime?(g=e.state.selection.to,x="end"):(g=e.state.selection.from,x="start"),e.input.lastKeyCode=null;let y=EV(p.content,f.doc.content,f.from,g,x);if(y&&e.input.domChangeCount++,(nu&&e.input.lastIOSEnter>Date.now()-225||$i)&&o.some(P=>P.nodeType==1&&!wV.test(P.nodeName))&&(!y||y.endA>=y.endB)&&e.someProp("handleKeyDown",P=>P(e,ol(13,"Enter")))){e.input.lastIOSEnter=0;return}if(!y)if(r&&u instanceof Ue&&!u.empty&&u.$head.sameParent(u.$anchor)&&!e.composing&&!(f.sel&&f.sel.anchor!=f.sel.head))y={start:u.from,endA:u.to,endB:u.to};else{if(f.sel){let P=i5(e,e.state.doc,f.sel);if(P&&!P.eq(e.state.selection)){let B=e.state.tr.setSelection(P);i&&B.setMeta("composition",i),e.dispatch(B)}}return}e.state.selection.from<e.state.selection.to&&y.start==y.endB&&e.state.selection instanceof Ue&&(y.start>e.state.selection.from&&y.start<=e.state.selection.from+2&&e.state.selection.from>=f.from?y.start=e.state.selection.from:y.endA<e.state.selection.to&&y.endA>=e.state.selection.to-2&&e.state.selection.to<=f.to&&(y.endB+=e.state.selection.to-y.endA,y.endA=e.state.selection.to)),Sr&&ps<=11&&y.endB==y.start+1&&y.endA==y.start&&y.start>f.from&&f.doc.textBetween(y.start-f.from-1,y.start-f.from+1)==" "&&(y.start--,y.endA--,y.endB--);let N=f.doc.resolveNoCache(y.start-f.from),C=f.doc.resolveNoCache(y.endB-f.from),A=h.resolve(y.start),T=N.sameParent(C)&&N.parent.inlineContent&&A.end()>=y.endA;if((nu&&e.input.lastIOSEnter>Date.now()-225&&(!T||o.some(P=>P.nodeName=="DIV"||P.nodeName=="P"))||!T&&N.pos<f.doc.content.size&&(!N.sameParent(C)||!N.parent.inlineContent)&&N.pos<C.pos&&!/\S/.test(f.doc.textBetween(N.pos,C.pos,"","")))&&e.someProp("handleKeyDown",P=>P(e,ol(13,"Enter")))){e.input.lastIOSEnter=0;return}if(e.state.selection.anchor>y.start&&SV(h,y.start,y.endA,N,C)&&e.someProp("handleKeyDown",P=>P(e,ol(8,"Backspace")))){$i&&Qn&&e.domObserver.suppressSelectionUpdates();return}Qn&&y.endB==y.start&&(e.input.lastChromeDelete=Date.now()),$i&&!T&&N.start()!=C.start()&&C.parentOffset==0&&N.depth==C.depth&&f.sel&&f.sel.anchor==f.sel.head&&f.sel.head==y.endA&&(y.endB-=2,C=f.doc.resolveNoCache(y.endB-f.from),setTimeout(()=>{e.someProp("handleKeyDown",function(P){return P(e,ol(13,"Enter"))})},20));let k=y.start,D=y.endA,R=P=>{let B=P||e.state.tr.replace(k,D,f.doc.slice(y.start-f.from,y.endB-f.from));if(f.sel){let L=i5(e,B.doc,f.sel);L&&!(Qn&&e.composing&&L.empty&&(y.start!=y.endB||e.input.lastChromeDelete<Date.now()-100)&&(L.head==k||L.head==B.mapping.map(D)-1)||Sr&&L.empty&&L.head==k)&&B.setSelection(L)}return i&&B.setMeta("composition",i),B.scrollIntoView()},I;if(T)if(N.pos==C.pos){Sr&&ps<=11&&N.parentOffset==0&&(e.domObserver.suppressSelectionUpdates(),setTimeout(()=>Yi(e),20));let P=R(e.state.tr.delete(k,D)),B=h.resolve(y.start).marksAcross(h.resolve(y.endA));B&&P.ensureMarks(B),e.dispatch(P)}else if(y.endA==y.endB&&(I=NV(N.parent.content.cut(N.parentOffset,C.parentOffset),A.parent.content.cut(A.parentOffset,y.endA-A.start())))){let P=R(e.state.tr);I.type=="add"?P.addMark(k,D,I.mark):P.removeMark(k,D,I.mark),e.dispatch(P)}else if(N.parent.child(N.index()).isText&&N.index()==C.index()-(C.textOffset?0:1)){let P=N.parent.textBetween(N.parentOffset,C.parentOffset),B=()=>R(e.state.tr.insertText(P,k,D));e.someProp("handleTextInput",L=>L(e,k,D,P,B))||e.dispatch(B())}else e.dispatch(R());else e.dispatch(R())}function i5(e,t,n){return Math.max(n.anchor,n.head)>t.content.size?null:kC(e,t.resolve(n.anchor),t.resolve(n.head))}function NV(e,t){let n=e.firstChild.marks,r=t.firstChild.marks,o=n,i=r,a,l,u;for(let h=0;h<r.length;h++)o=r[h].removeFromSet(o);for(let h=0;h<n.length;h++)i=n[h].removeFromSet(i);if(o.length==1&&i.length==0)l=o[0],a="add",u=h=>h.mark(l.addToSet(h.marks));else if(o.length==0&&i.length==1)l=i[0],a="remove",u=h=>h.mark(l.removeFromSet(h.marks));else return null;let f=[];for(let h=0;h<t.childCount;h++)f.push(u(t.child(h)));if(he.from(f).eq(e))return{mark:l,type:a}}function SV(e,t,n,r,o){if(n-t<=o.pos-r.pos||py(r,!0,!1)<o.pos)return!1;let i=e.resolve(t);if(!r.parent.isTextblock){let l=i.nodeAfter;return l!=null&&n==t+l.nodeSize}if(i.parentOffset<i.parent.content.size||!i.parent.isTextblock)return!1;let a=e.resolve(py(i,!0,!0));return!a.parent.isTextblock||a.pos>n||py(a,!0,!1)<n?!1:r.parent.content.cut(r.parentOffset).eq(a.parent.content)}function py(e,t,n){let r=e.depth,o=t?e.end():e.pos;for(;r>0&&(t||e.indexAfter(r)==e.node(r).childCount);)r--,o++,t=!1;if(n){let i=e.node(r).maybeChild(e.indexAfter(r));for(;i&&!i.isLeaf;)i=i.firstChild,o++}return o}function EV(e,t,n,r,o){let i=e.findDiffStart(t,n);if(i==null)return null;let{a,b:l}=e.findDiffEnd(t,n+e.size,n+t.size);if(o=="end"){let u=Math.max(0,i-Math.min(a,l));r-=a+u-i}if(a<i&&e.size<t.size){let u=r<=i&&r>=a?i-r:0;i-=u,i&&i<t.size&&a5(t.textBetween(i-1,i+1))&&(i+=u?1:-1),l=i+(l-a),a=i}else if(l<i){let u=r<=i&&r>=l?i-r:0;i-=u,i&&i<e.size&&a5(e.textBetween(i-1,i+1))&&(i+=u?1:-1),a=i+(a-l),l=i}return{start:i,endA:a,endB:l}}function a5(e){if(e.length!=2)return!1;let t=e.charCodeAt(0),n=e.charCodeAt(1);return t>=56320&&t<=57343&&n>=55296&&n<=56319}class v_{constructor(t,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new VH,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(d5),this.dispatch=this.dispatch.bind(this),this.dom=t&&t.mount||document.createElement("div"),t&&(t.appendChild?t.appendChild(this.dom):typeof t=="function"?t(this.dom):t.mount&&(this.mounted=!0)),this.editable=c5(this),l5(this),this.nodeViews=u5(this),this.docView=Fk(this.state.doc,s5(this),hy(this),this.dom,this),this.domObserver=new mV(this,(r,o,i,a)=>CV(this,r,o,i,a)),this.domObserver.start(),$H(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let t=this._props;this._props={};for(let n in t)this._props[n]=t[n];this._props.state=this.state}return this._props}update(t){t.handleDOMEvents!=this._props.handleDOMEvents&&Rw(this);let n=this._props;this._props=t,t.plugins&&(t.plugins.forEach(d5),this.directPlugins=t.plugins),this.updateStateInner(t.state,n)}setProps(t){let n={};for(let r in this._props)n[r]=this._props[r];n.state=this.state;for(let r in t)n[r]=t[r];this.update(n)}updateState(t){this.updateStateInner(t,this._props)}updateStateInner(t,n){var r;let o=this.state,i=!1,a=!1;t.storedMarks&&this.composing&&(f_(this),a=!0),this.state=t;let l=o.plugins!=t.plugins||this._props.plugins!=n.plugins;if(l||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let x=u5(this);AV(x,this.nodeViews)&&(this.nodeViews=x,i=!0)}(l||n.handleDOMEvents!=this._props.handleDOMEvents)&&Rw(this),this.editable=c5(this),l5(this);let u=hy(this),f=s5(this),h=o.plugins!=t.plugins&&!o.doc.eq(t.doc)?"reset":t.scrollToSelection>o.scrollToSelection?"to selection":"preserve",p=i||!this.docView.matchesNode(t.doc,f,u);(p||!t.selection.eq(o.selection))&&(a=!0);let g=h=="preserve"&&a&&this.dom.style.overflowAnchor==null&&iH(this);if(a){this.domObserver.stop();let x=p&&(Sr||Qn)&&!this.composing&&!o.selection.empty&&!t.selection.empty&&jV(o.selection,t.selection);if(p){let y=Qn?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=oV(this)),(i||!this.docView.update(t.doc,f,u,this))&&(this.docView.updateOuterDeco(f),this.docView.destroy(),this.docView=Fk(t.doc,f,u,this.dom,this)),y&&!this.trackWrites&&(x=!0)}x||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&kH(this))?Yi(this,x):(e_(this,t.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(o),!((r=this.dragging)===null||r===void 0)&&r.node&&!o.doc.eq(t.doc)&&this.updateDraggedNode(this.dragging,o),h=="reset"?this.dom.scrollTop=0:h=="to selection"?this.scrollToSelection():g&&aH(g)}scrollToSelection(){let t=this.domSelectionRange().focusNode;if(!(!t||!this.dom.contains(t.nodeType==1?t:t.parentNode))){if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof Pe){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&_k(this,n.getBoundingClientRect(),t)}else _k(this,this.coordsAtPos(this.state.selection.head,1),t)}}destroyPluginViews(){let t;for(;t=this.pluginViews.pop();)t.destroy&&t.destroy()}updatePluginViews(t){if(!t||t.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let r=this.directPlugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let r=this.state.plugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let r=this.pluginViews[n];r.update&&r.update(this,t)}}updateDraggedNode(t,n){let r=t.node,o=-1;if(this.state.doc.nodeAt(r.from)==r.node)o=r.from;else{let i=r.from+(this.state.doc.content.size-n.doc.content.size);(i>0&&this.state.doc.nodeAt(i))==r.node&&(o=i)}this.dragging=new p_(t.slice,t.move,o<0?void 0:Pe.create(this.state.doc,o))}someProp(t,n){let r=this._props&&this._props[t],o;if(r!=null&&(o=n?n(r):r))return o;for(let a=0;a<this.directPlugins.length;a++){let l=this.directPlugins[a].props[t];if(l!=null&&(o=n?n(l):l))return o}let i=this.state.plugins;if(i)for(let a=0;a<i.length;a++){let l=i[a].props[t];if(l!=null&&(o=n?n(l):l))return o}}hasFocus(){if(Sr){let t=this.root.activeElement;if(t==this.dom)return!0;if(!t||!this.dom.contains(t))return!1;for(;t&&this.dom!=t&&this.dom.contains(t);){if(t.contentEditable=="false")return!1;t=t.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&sH(this.dom),Yi(this),this.domObserver.start()}get root(){let t=this._root;if(t==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return t||document}updateRoot(){this._root=null}posAtCoords(t){return fH(this,t)}coordsAtPos(t,n=1){return GD(this,t,n)}domAtPos(t,n=0){return this.docView.domFromPos(t,n)}nodeDOM(t){let n=this.docView.descAt(t);return n?n.nodeDOM:null}posAtDOM(t,n,r=-1){let o=this.docView.posFromDOM(t,n,r);if(o==null)throw new RangeError("DOM position not inside the editor");return o}endOfTextblock(t,n){return xH(this,n||this.state,t)}pasteHTML(t,n){return jf(this,"",t,!1,n||new ClipboardEvent("paste"))}pasteText(t,n){return jf(this,t,null,!0,n||new ClipboardEvent("paste"))}serializeForClipboard(t){return MC(this,t)}destroy(){this.docView&&(GH(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],hy(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,Wq())}get isDestroyed(){return this.docView==null}dispatchEvent(t){return WH(this,t)}domSelectionRange(){let t=this.domSelection();return t?sr&&this.root.nodeType===11&&Zq(this.dom.ownerDocument)==this.dom&&xV(this,t)||t:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}v_.prototype.dispatch=function(e){let t=this._props.dispatchTransaction;t?t.call(this,e):this.updateState(this.state.apply(e))};function s5(e){let t=Object.create(null);return t.class="ProseMirror",t.contenteditable=String(e.editable),e.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(e.state)),n)for(let r in n)r=="class"?t.class+=" "+n[r]:r=="style"?t.style=(t.style?t.style+";":"")+n[r]:!t[r]&&r!="contenteditable"&&r!="nodeName"&&(t[r]=String(n[r]))}),t.translate||(t.translate="no"),[ir.node(0,e.state.doc.content.size,t)]}function l5(e){if(e.markCursor){let t=document.createElement("img");t.className="ProseMirror-separator",t.setAttribute("mark-placeholder","true"),t.setAttribute("alt",""),e.cursorWrapper={dom:t,deco:ir.widget(e.state.selection.from,t,{raw:!0,marks:e.markCursor})}}else e.cursorWrapper=null}function c5(e){return!e.someProp("editable",t=>t(e.state)===!1)}function jV(e,t){let n=Math.min(e.$anchor.sharedDepth(e.head),t.$anchor.sharedDepth(t.head));return e.$anchor.start(n)!=t.$anchor.start(n)}function u5(e){let t=Object.create(null);function n(r){for(let o in r)Object.prototype.hasOwnProperty.call(t,o)||(t[o]=r[o])}return e.someProp("nodeViews",n),e.someProp("markViews",n),t}function AV(e,t){let n=0,r=0;for(let o in e){if(e[o]!=t[o])return!0;n++}for(let o in t)r++;return n!=r}function d5(e){if(e.spec.state||e.spec.filterTransaction||e.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var ys={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Km={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},TV=typeof navigator<"u"&&/Mac/.test(navigator.platform),kV=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var qn=0;qn<10;qn++)ys[48+qn]=ys[96+qn]=String(qn);for(var qn=1;qn<=24;qn++)ys[qn+111]="F"+qn;for(var qn=65;qn<=90;qn++)ys[qn]=String.fromCharCode(qn+32),Km[qn]=String.fromCharCode(qn);for(var my in ys)Km.hasOwnProperty(my)||(Km[my]=ys[my]);function MV(e){var t=TV&&e.metaKey&&e.shiftKey&&!e.ctrlKey&&!e.altKey||kV&&e.shiftKey&&e.key&&e.key.length==1||e.key=="Unidentified",n=!t&&e.key||(e.shiftKey?Km:ys)[e.keyCode]||e.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const PV=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),RV=typeof navigator<"u"&&/Win/.test(navigator.platform);function IV(e){let t=e.split(/-(?!$)/),n=t[t.length-1];n=="Space"&&(n=" ");let r,o,i,a;for(let l=0;l<t.length-1;l++){let u=t[l];if(/^(cmd|meta|m)$/i.test(u))a=!0;else if(/^a(lt)?$/i.test(u))r=!0;else if(/^(c|ctrl|control)$/i.test(u))o=!0;else if(/^s(hift)?$/i.test(u))i=!0;else if(/^mod$/i.test(u))PV?a=!0:o=!0;else throw new Error("Unrecognized modifier name: "+u)}return r&&(n="Alt-"+n),o&&(n="Ctrl-"+n),a&&(n="Meta-"+n),i&&(n="Shift-"+n),n}function DV(e){let t=Object.create(null);for(let n in e)t[IV(n)]=e[n];return t}function gy(e,t,n=!0){return t.altKey&&(e="Alt-"+e),t.ctrlKey&&(e="Ctrl-"+e),t.metaKey&&(e="Meta-"+e),n&&t.shiftKey&&(e="Shift-"+e),e}function _V(e){return new Kt({props:{handleKeyDown:y_(e)}})}function y_(e){let t=DV(e);return function(n,r){let o=MV(r),i,a=t[gy(o,r)];if(a&&a(n.state,n.dispatch,n))return!0;if(o.length==1&&o!=" "){if(r.shiftKey){let l=t[gy(o,r,!1)];if(l&&l(n.state,n.dispatch,n))return!0}if((r.altKey||r.metaKey||r.ctrlKey)&&!(RV&&r.ctrlKey&&r.altKey)&&(i=ys[r.keyCode])&&i!=o){let l=t[gy(i,r)];if(l&&l(n.state,n.dispatch,n))return!0}}return!1}}var OV=Object.defineProperty,OC=(e,t)=>{for(var n in t)OV(e,n,{get:t[n],enumerable:!0})};function Px(e){const{state:t,transaction:n}=e;let{selection:r}=n,{doc:o}=n,{storedMarks:i}=n;return{...t,apply:t.apply.bind(t),applyTransaction:t.applyTransaction.bind(t),plugins:t.plugins,schema:t.schema,reconfigure:t.reconfigure.bind(t),toJSON:t.toJSON.bind(t),get storedMarks(){return i},get selection(){return r},get doc(){return o},get tr(){return r=n.selection,o=n.doc,i=n.storedMarks,n}}}var Rx=class{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:e,editor:t,state:n}=this,{view:r}=t,{tr:o}=n,i=this.buildProps(o);return Object.fromEntries(Object.entries(e).map(([a,l])=>[a,(...f)=>{const h=l(...f)(i);return!o.getMeta("preventDispatch")&&!this.hasCustomState&&r.dispatch(o),h}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,t=!0){const{rawCommands:n,editor:r,state:o}=this,{view:i}=r,a=[],l=!!e,u=e||o.tr,f=()=>(!l&&t&&!u.getMeta("preventDispatch")&&!this.hasCustomState&&i.dispatch(u),a.every(p=>p===!0)),h={...Object.fromEntries(Object.entries(n).map(([p,g])=>[p,(...y)=>{const N=this.buildProps(u,t),C=g(...y)(N);return a.push(C),h}])),run:f};return h}createCan(e){const{rawCommands:t,state:n}=this,r=!1,o=e||n.tr,i=this.buildProps(o,r);return{...Object.fromEntries(Object.entries(t).map(([l,u])=>[l,(...f)=>u(...f)({...i,dispatch:void 0})])),chain:()=>this.createChain(o,r)}}buildProps(e,t=!0){const{rawCommands:n,editor:r,state:o}=this,{view:i}=r,a={tr:e,editor:r,view:i,state:Px({state:o,transaction:e}),dispatch:t?()=>{}:void 0,chain:()=>this.createChain(e,t),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(n).map(([l,u])=>[l,(...f)=>u(...f)(a)]))}};return a}},w_={};OC(w_,{blur:()=>LV,clearContent:()=>BV,clearNodes:()=>UV,command:()=>zV,createParagraphNear:()=>FV,cut:()=>qV,deleteCurrentNode:()=>HV,deleteNode:()=>VV,deleteRange:()=>$V,deleteSelection:()=>GV,enter:()=>KV,exitCode:()=>WV,extendMarkRange:()=>JV,first:()=>YV,focus:()=>QV,forEach:()=>ZV,insertContent:()=>e$,insertContentAt:()=>r$,joinBackward:()=>a$,joinDown:()=>i$,joinForward:()=>s$,joinItemBackward:()=>l$,joinItemForward:()=>c$,joinTextblockBackward:()=>u$,joinTextblockForward:()=>d$,joinUp:()=>o$,keyboardShortcut:()=>h$,lift:()=>p$,liftEmptyBlock:()=>m$,liftListItem:()=>g$,newlineInCode:()=>x$,resetAttributes:()=>b$,scrollIntoView:()=>v$,selectAll:()=>y$,selectNodeBackward:()=>w$,selectNodeForward:()=>C$,selectParentNode:()=>N$,selectTextblockEnd:()=>S$,selectTextblockStart:()=>E$,setContent:()=>j$,setMark:()=>V$,setMeta:()=>$$,setNode:()=>G$,setNodeSelection:()=>K$,setTextSelection:()=>W$,sinkListItem:()=>J$,splitBlock:()=>Y$,splitListItem:()=>X$,toggleList:()=>Q$,toggleMark:()=>Z$,toggleNode:()=>eG,toggleWrap:()=>tG,undoInputRule:()=>nG,unsetAllMarks:()=>rG,unsetMark:()=>oG,updateAttributes:()=>iG,wrapIn:()=>aG,wrapInList:()=>sG});var LV=()=>({editor:e,view:t})=>(requestAnimationFrame(()=>{var n;e.isDestroyed||(t.dom.blur(),(n=window==null?void 0:window.getSelection())==null||n.removeAllRanges())}),!0),BV=(e=!0)=>({commands:t})=>t.setContent("",{emitUpdate:e}),UV=()=>({state:e,tr:t,dispatch:n})=>{const{selection:r}=t,{ranges:o}=r;return n&&o.forEach(({$from:i,$to:a})=>{e.doc.nodesBetween(i.pos,a.pos,(l,u)=>{if(l.type.isText)return;const{doc:f,mapping:h}=t,p=f.resolve(h.map(u)),g=f.resolve(h.map(u+l.nodeSize)),x=p.blockRange(g);if(!x)return;const y=xu(x);if(l.type.isTextblock){const{defaultType:N}=p.parent.contentMatchAt(p.index());t.setNodeMarkup(x.start,N)}(y||y===0)&&t.lift(x,y)})}),!0},zV=e=>t=>e(t),FV=()=>({state:e,dispatch:t})=>OD(e,t),qV=(e,t)=>({editor:n,tr:r})=>{const{state:o}=n,i=o.doc.slice(e.from,e.to);r.deleteRange(e.from,e.to);const a=r.mapping.map(t);return r.insert(a,i.content),r.setSelection(new Ue(r.doc.resolve(Math.max(a-1,0)))),!0},HV=()=>({tr:e,dispatch:t})=>{const{selection:n}=e,r=n.$anchor.node();if(r.content.size>0)return!1;const o=e.selection.$anchor;for(let i=o.depth;i>0;i-=1)if(o.node(i).type===r.type){if(t){const l=o.before(i),u=o.after(i);e.delete(l,u).scrollIntoView()}return!0}return!1};function dn(e,t){if(typeof e=="string"){if(!t.nodes[e])throw Error(`There is no node type named '${e}'. Maybe you forgot to add the extension?`);return t.nodes[e]}return e}var VV=e=>({tr:t,state:n,dispatch:r})=>{const o=dn(e,n.schema),i=t.selection.$anchor;for(let a=i.depth;a>0;a-=1)if(i.node(a).type===o){if(r){const u=i.before(a),f=i.after(a);t.delete(u,f).scrollIntoView()}return!0}return!1},$V=e=>({tr:t,dispatch:n})=>{const{from:r,to:o}=e;return n&&t.delete(r,o),!0},GV=()=>({state:e,dispatch:t})=>CC(e,t),KV=()=>({commands:e})=>e.keyboardShortcut("Enter"),WV=()=>({state:e,dispatch:t})=>Iq(e,t);function LC(e){return Object.prototype.toString.call(e)==="[object RegExp]"}function Wm(e,t,n={strict:!0}){const r=Object.keys(t);return r.length?r.every(o=>n.strict?t[o]===e[o]:LC(t[o])?t[o].test(e[o]):t[o]===e[o]):!0}function C_(e,t,n={}){return e.find(r=>r.type===t&&Wm(Object.fromEntries(Object.keys(n).map(o=>[o,r.attrs[o]])),n))}function f5(e,t,n={}){return!!C_(e,t,n)}function BC(e,t,n){var r;if(!e||!t)return;let o=e.parent.childAfter(e.parentOffset);if((!o.node||!o.node.marks.some(h=>h.type===t))&&(o=e.parent.childBefore(e.parentOffset)),!o.node||!o.node.marks.some(h=>h.type===t)||(n=n||((r=o.node.marks[0])==null?void 0:r.attrs),!C_([...o.node.marks],t,n)))return;let a=o.index,l=e.start()+o.offset,u=a+1,f=l+o.node.nodeSize;for(;a>0&&f5([...e.parent.child(a-1).marks],t,n);)a-=1,l-=e.parent.child(a).nodeSize;for(;u<e.parent.childCount&&f5([...e.parent.child(u).marks],t,n);)f+=e.parent.child(u).nodeSize,u+=1;return{from:l,to:f}}function sa(e,t){if(typeof e=="string"){if(!t.marks[e])throw Error(`There is no mark type named '${e}'. Maybe you forgot to add the extension?`);return t.marks[e]}return e}var JV=(e,t={})=>({tr:n,state:r,dispatch:o})=>{const i=sa(e,r.schema),{doc:a,selection:l}=n,{$from:u,from:f,to:h}=l;if(o){const p=BC(u,i,t);if(p&&p.from<=f&&p.to>=h){const g=Ue.create(a,p.from,p.to);n.setSelection(g)}}return!0},YV=e=>t=>{const n=typeof e=="function"?e(t):e;for(let r=0;r<n.length;r+=1)if(n[r](t))return!0;return!1};function N_(e){return e instanceof Ue}function sl(e=0,t=0,n=0){return Math.min(Math.max(e,t),n)}function S_(e,t=null){if(!t)return null;const n=$e.atStart(e),r=$e.atEnd(e);if(t==="start"||t===!0)return n;if(t==="end")return r;const o=n.from,i=r.to;return t==="all"?Ue.create(e,sl(0,o,i),sl(e.content.size,o,i)):Ue.create(e,sl(t,o,i),sl(t,o,i))}function XV(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function UC(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}var QV=(e=null,t={})=>({editor:n,view:r,tr:o,dispatch:i})=>{t={scrollIntoView:!0,...t};const a=()=>{(UC()||XV())&&r.dom.focus(),requestAnimationFrame(()=>{n.isDestroyed||(r.focus(),t!=null&&t.scrollIntoView&&n.commands.scrollIntoView())})};if(r.hasFocus()&&e===null||e===!1)return!0;if(i&&e===null&&!N_(n.state.selection))return a(),!0;const l=S_(o.doc,e)||n.state.selection,u=n.state.selection.eq(l);return i&&(u||o.setSelection(l),u&&o.storedMarks&&o.setStoredMarks(o.storedMarks),a()),!0},ZV=(e,t)=>n=>e.every((r,o)=>t(r,{...n,index:o})),e$=(e,t)=>({tr:n,commands:r})=>r.insertContentAt({from:n.selection.from,to:n.selection.to},e,t),E_=e=>{const t=e.childNodes;for(let n=t.length-1;n>=0;n-=1){const r=t[n];r.nodeType===3&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?e.removeChild(r):r.nodeType===1&&E_(r)}return e};function qp(e){if(typeof window>"u")throw new Error("[tiptap error]: there is no window object available, so this function cannot be used");const t=`<body>${e}</body>`,n=new window.DOMParser().parseFromString(t,"text/html").body;return E_(n)}function Tf(e,t,n){if(e instanceof Bo||e instanceof he)return e;n={slice:!0,parseOptions:{},...n};const r=typeof e=="object"&&e!==null,o=typeof e=="string";if(r)try{if(Array.isArray(e)&&e.length>0)return he.fromArray(e.map(l=>t.nodeFromJSON(l)));const a=t.nodeFromJSON(e);return n.errorOnInvalidContent&&a.check(),a}catch(i){if(n.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:i});return console.warn("[tiptap warn]: Invalid content.","Passed value:",e,"Error:",i),Tf("",t,n)}if(o){if(n.errorOnInvalidContent){let a=!1,l="";const u=new cD({topNode:t.spec.topNode,marks:t.spec.marks,nodes:t.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:f=>(a=!0,l=typeof f=="string"?f:f.outerHTML,null)}]}})});if(n.slice?hs.fromSchema(u).parseSlice(qp(e),n.parseOptions):hs.fromSchema(u).parse(qp(e),n.parseOptions),n.errorOnInvalidContent&&a)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${l}`)})}const i=hs.fromSchema(t);return n.slice?i.parseSlice(qp(e),n.parseOptions).content:i.parse(qp(e),n.parseOptions)}return Tf("",t,n)}function t$(e,t,n){const r=e.steps.length-1;if(r<t)return;const o=e.steps[r];if(!(o instanceof En||o instanceof jn))return;const i=e.mapping.maps[r];let a=0;i.forEach((l,u,f,h)=>{a===0&&(a=h)}),e.setSelection($e.near(e.doc.resolve(a),n))}var n$=e=>!("type"in e),r$=(e,t,n)=>({tr:r,dispatch:o,editor:i})=>{var a;if(o){n={parseOptions:i.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...n};let l;const u=C=>{i.emit("contentError",{editor:i,error:C,disableCollaboration:()=>{"collaboration"in i.storage&&typeof i.storage.collaboration=="object"&&i.storage.collaboration&&(i.storage.collaboration.isDisabled=!0)}})},f={preserveWhitespace:"full",...n.parseOptions};if(!n.errorOnInvalidContent&&!i.options.enableContentCheck&&i.options.emitContentError)try{Tf(t,i.schema,{parseOptions:f,errorOnInvalidContent:!0})}catch(C){u(C)}try{l=Tf(t,i.schema,{parseOptions:f,errorOnInvalidContent:(a=n.errorOnInvalidContent)!=null?a:i.options.enableContentCheck})}catch(C){return u(C),!1}let{from:h,to:p}=typeof e=="number"?{from:e,to:e}:{from:e.from,to:e.to},g=!0,x=!0;if((n$(l)?l:[l]).forEach(C=>{C.check(),g=g?C.isText&&C.marks.length===0:!1,x=x?C.isBlock:!1}),h===p&&x){const{parent:C}=r.doc.resolve(h);C.isTextblock&&!C.type.spec.code&&!C.childCount&&(h-=1,p+=1)}let N;if(g){if(Array.isArray(t))N=t.map(C=>C.text||"").join("");else if(t instanceof he){let C="";t.forEach(A=>{A.text&&(C+=A.text)}),N=C}else typeof t=="object"&&t&&t.text?N=t.text:N=t;r.insertText(N,h,p)}else{N=l;const C=r.doc.resolve(h),A=C.node(),T=C.parentOffset===0,k=A.isText||A.isTextblock,D=A.content.size>0;T&&k&&D&&(h=Math.max(0,h-1)),r.replaceWith(h,p,N)}n.updateSelection&&t$(r,r.steps.length-1,-1),n.applyInputRules&&r.setMeta("applyInputRules",{from:h,text:N}),n.applyPasteRules&&r.setMeta("applyPasteRules",{from:h,text:N})}return!0},o$=()=>({state:e,dispatch:t})=>Mq(e,t),i$=()=>({state:e,dispatch:t})=>Pq(e,t),a$=()=>({state:e,dispatch:t})=>kD(e,t),s$=()=>({state:e,dispatch:t})=>ID(e,t),l$=()=>({state:e,dispatch:t,tr:n})=>{try{const r=Ex(e.doc,e.selection.$from.pos,-1);return r==null?!1:(n.join(r,2),t&&t(n),!0)}catch{return!1}},c$=()=>({state:e,dispatch:t,tr:n})=>{try{const r=Ex(e.doc,e.selection.$from.pos,1);return r==null?!1:(n.join(r,2),t&&t(n),!0)}catch{return!1}},u$=()=>({state:e,dispatch:t})=>Tq(e,t),d$=()=>({state:e,dispatch:t})=>kq(e,t);function j_(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function f$(e){const t=e.split(/-(?!$)/);let n=t[t.length-1];n==="Space"&&(n=" ");let r,o,i,a;for(let l=0;l<t.length-1;l+=1){const u=t[l];if(/^(cmd|meta|m)$/i.test(u))a=!0;else if(/^a(lt)?$/i.test(u))r=!0;else if(/^(c|ctrl|control)$/i.test(u))o=!0;else if(/^s(hift)?$/i.test(u))i=!0;else if(/^mod$/i.test(u))UC()||j_()?a=!0:o=!0;else throw new Error(`Unrecognized modifier name: ${u}`)}return r&&(n=`Alt-${n}`),o&&(n=`Ctrl-${n}`),a&&(n=`Meta-${n}`),i&&(n=`Shift-${n}`),n}var h$=e=>({editor:t,view:n,tr:r,dispatch:o})=>{const i=f$(e).split(/-(?!$)/),a=i.find(f=>!["Alt","Ctrl","Meta","Shift"].includes(f)),l=new KeyboardEvent("keydown",{key:a==="Space"?" ":a,altKey:i.includes("Alt"),ctrlKey:i.includes("Ctrl"),metaKey:i.includes("Meta"),shiftKey:i.includes("Shift"),bubbles:!0,cancelable:!0}),u=t.captureTransaction(()=>{n.someProp("handleKeyDown",f=>f(n,l))});return u==null||u.steps.forEach(f=>{const h=f.map(r.mapping);h&&o&&r.maybeStep(h)}),!0};function ws(e,t,n={}){const{from:r,to:o,empty:i}=e.selection,a=t?dn(t,e.schema):null,l=[];e.doc.nodesBetween(r,o,(p,g)=>{if(p.isText)return;const x=Math.max(r,g),y=Math.min(o,g+p.nodeSize);l.push({node:p,from:x,to:y})});const u=o-r,f=l.filter(p=>a?a.name===p.node.type.name:!0).filter(p=>Wm(p.node.attrs,n,{strict:!1}));return i?!!f.length:f.reduce((p,g)=>p+g.to-g.from,0)>=u}var p$=(e,t={})=>({state:n,dispatch:r})=>{const o=dn(e,n.schema);return ws(n,o,t)?Rq(n,r):!1},m$=()=>({state:e,dispatch:t})=>LD(e,t),g$=e=>({state:t,dispatch:n})=>{const r=dn(e,t.schema);return Vq(r)(t,n)},x$=()=>({state:e,dispatch:t})=>_D(e,t);function Ix(e,t){return t.nodes[e]?"node":t.marks[e]?"mark":null}function h5(e,t){const n=typeof t=="string"?[t]:t;return Object.keys(e).reduce((r,o)=>(n.includes(o)||(r[o]=e[o]),r),{})}var b$=(e,t)=>({tr:n,state:r,dispatch:o})=>{let i=null,a=null;const l=Ix(typeof e=="string"?e:e.name,r.schema);return l?(l==="node"&&(i=dn(e,r.schema)),l==="mark"&&(a=sa(e,r.schema)),o&&n.selection.ranges.forEach(u=>{r.doc.nodesBetween(u.$from.pos,u.$to.pos,(f,h)=>{i&&i===f.type&&n.setNodeMarkup(h,void 0,h5(f.attrs,t)),a&&f.marks.length&&f.marks.forEach(p=>{a===p.type&&n.addMark(h,h+f.nodeSize,a.create(h5(p.attrs,t)))})})}),!0):!1},v$=()=>({tr:e,dispatch:t})=>(t&&e.scrollIntoView(),!0),y$=()=>({tr:e,dispatch:t})=>{if(t){const n=new qr(e.doc);e.setSelection(n)}return!0},w$=()=>({state:e,dispatch:t})=>PD(e,t),C$=()=>({state:e,dispatch:t})=>DD(e,t),N$=()=>({state:e,dispatch:t})=>Oq(e,t),S$=()=>({state:e,dispatch:t})=>Uq(e,t),E$=()=>({state:e,dispatch:t})=>Bq(e,t);function Iw(e,t,n={},r={}){return Tf(e,t,{slice:!1,parseOptions:n,errorOnInvalidContent:r.errorOnInvalidContent})}var j$=(e,{errorOnInvalidContent:t,emitUpdate:n=!0,parseOptions:r={}}={})=>({editor:o,tr:i,dispatch:a,commands:l})=>{const{doc:u}=i;if(r.preserveWhitespace!=="full"){const f=Iw(e,o.schema,r,{errorOnInvalidContent:t??o.options.enableContentCheck});return a&&i.replaceWith(0,u.content.size,f).setMeta("preventUpdate",!n),!0}return a&&i.setMeta("preventUpdate",!n),l.insertContentAt({from:0,to:u.content.size},e,{parseOptions:r,errorOnInvalidContent:t??o.options.enableContentCheck})};function A_(e,t){const n=sa(t,e.schema),{from:r,to:o,empty:i}=e.selection,a=[];i?(e.storedMarks&&a.push(...e.storedMarks),a.push(...e.selection.$head.marks())):e.doc.nodesBetween(r,o,u=>{a.push(...u.marks)});const l=a.find(u=>u.type.name===n.name);return l?{...l.attrs}:{}}function T_(e,t){const n=new ED(e);return t.forEach(r=>{r.steps.forEach(o=>{n.step(o)})}),n}function A$(e){for(let t=0;t<e.edgeCount;t+=1){const{type:n}=e.edge(t);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function T$(e,t,n){const r=[];return e.nodesBetween(t.from,t.to,(o,i)=>{n(o)&&r.push({node:o,pos:i})}),r}function k$(e,t){for(let n=e.depth;n>0;n-=1){const r=e.node(n);if(t(r))return{pos:n>0?e.before(n):0,start:e.start(n),depth:n,node:r}}}function Dx(e){return t=>k$(t.$from,e)}function Me(e,t,n){return e.config[t]===void 0&&e.parent?Me(e.parent,t,n):typeof e.config[t]=="function"?e.config[t].bind({...n,parent:e.parent?Me(e.parent,t,n):null}):e.config[t]}function zC(e){return e.map(t=>{const n={name:t.name,options:t.options,storage:t.storage},r=Me(t,"addExtensions",n);return r?[t,...zC(r())]:t}).flat(10)}function FC(e,t){const n=Ul.fromSchema(t).serializeFragment(e),o=document.implementation.createHTMLDocument().createElement("div");return o.appendChild(n),o.innerHTML}function k_(e){return typeof e=="function"}function ht(e,t=void 0,...n){return k_(e)?t?e.bind(t)(...n):e(...n):e}function M$(e={}){return Object.keys(e).length===0&&e.constructor===Object}function kf(e){const t=e.filter(o=>o.type==="extension"),n=e.filter(o=>o.type==="node"),r=e.filter(o=>o.type==="mark");return{baseExtensions:t,nodeExtensions:n,markExtensions:r}}function M_(e){const t=[],{nodeExtensions:n,markExtensions:r}=kf(e),o=[...n,...r],i={default:null,validate:void 0,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return e.forEach(a=>{const l={name:a.name,options:a.options,storage:a.storage,extensions:o},u=Me(a,"addGlobalAttributes",l);if(!u)return;u().forEach(h=>{h.types.forEach(p=>{Object.entries(h.attributes).forEach(([g,x])=>{t.push({type:p,name:g,attribute:{...i,...x}})})})})}),o.forEach(a=>{const l={name:a.name,options:a.options,storage:a.storage},u=Me(a,"addAttributes",l);if(!u)return;const f=u();Object.entries(f).forEach(([h,p])=>{const g={...i,...p};typeof(g==null?void 0:g.default)=="function"&&(g.default=g.default()),g!=null&&g.isRequired&&(g==null?void 0:g.default)===void 0&&delete g.default,t.push({type:a.name,name:h,attribute:g})})}),t}function zt(...e){return e.filter(t=>!!t).reduce((t,n)=>{const r={...t};return Object.entries(n).forEach(([o,i])=>{if(!r[o]){r[o]=i;return}if(o==="class"){const l=i?String(i).split(" "):[],u=r[o]?r[o].split(" "):[],f=l.filter(h=>!u.includes(h));r[o]=[...u,...f].join(" ")}else if(o==="style"){const l=i?i.split(";").map(h=>h.trim()).filter(Boolean):[],u=r[o]?r[o].split(";").map(h=>h.trim()).filter(Boolean):[],f=new Map;u.forEach(h=>{const[p,g]=h.split(":").map(x=>x.trim());f.set(p,g)}),l.forEach(h=>{const[p,g]=h.split(":").map(x=>x.trim());f.set(p,g)}),r[o]=Array.from(f.entries()).map(([h,p])=>`${h}: ${p}`).join("; ")}else r[o]=i}),r},{})}function Jm(e,t){return t.filter(n=>n.type===e.type.name).filter(n=>n.attribute.rendered).map(n=>n.attribute.renderHTML?n.attribute.renderHTML(e.attrs)||{}:{[n.name]:e.attrs[n.name]}).reduce((n,r)=>zt(n,r),{})}function P$(e){return typeof e!="string"?e:e.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(e):e==="true"?!0:e==="false"?!1:e}function p5(e,t){return"style"in e?e:{...e,getAttrs:n=>{const r=e.getAttrs?e.getAttrs(n):e.attrs;if(r===!1)return!1;const o=t.reduce((i,a)=>{const l=a.attribute.parseHTML?a.attribute.parseHTML(n):P$(n.getAttribute(a.name));return l==null?i:{...i,[a.name]:l}},{});return{...r,...o}}}}function m5(e){return Object.fromEntries(Object.entries(e).filter(([t,n])=>t==="attrs"&&M$(n)?!1:n!=null))}function R$(e,t){var n;const r=M_(e),{nodeExtensions:o,markExtensions:i}=kf(e),a=(n=o.find(f=>Me(f,"topNode")))==null?void 0:n.name,l=Object.fromEntries(o.map(f=>{const h=r.filter(A=>A.type===f.name),p={name:f.name,options:f.options,storage:f.storage,editor:t},g=e.reduce((A,T)=>{const k=Me(T,"extendNodeSchema",p);return{...A,...k?k(f):{}}},{}),x=m5({...g,content:ht(Me(f,"content",p)),marks:ht(Me(f,"marks",p)),group:ht(Me(f,"group",p)),inline:ht(Me(f,"inline",p)),atom:ht(Me(f,"atom",p)),selectable:ht(Me(f,"selectable",p)),draggable:ht(Me(f,"draggable",p)),code:ht(Me(f,"code",p)),whitespace:ht(Me(f,"whitespace",p)),linebreakReplacement:ht(Me(f,"linebreakReplacement",p)),defining:ht(Me(f,"defining",p)),isolating:ht(Me(f,"isolating",p)),attrs:Object.fromEntries(h.map(A=>{var T,k;return[A.name,{default:(T=A==null?void 0:A.attribute)==null?void 0:T.default,validate:(k=A==null?void 0:A.attribute)==null?void 0:k.validate}]}))}),y=ht(Me(f,"parseHTML",p));y&&(x.parseDOM=y.map(A=>p5(A,h)));const N=Me(f,"renderHTML",p);N&&(x.toDOM=A=>N({node:A,HTMLAttributes:Jm(A,h)}));const C=Me(f,"renderText",p);return C&&(x.toText=C),[f.name,x]})),u=Object.fromEntries(i.map(f=>{const h=r.filter(C=>C.type===f.name),p={name:f.name,options:f.options,storage:f.storage,editor:t},g=e.reduce((C,A)=>{const T=Me(A,"extendMarkSchema",p);return{...C,...T?T(f):{}}},{}),x=m5({...g,inclusive:ht(Me(f,"inclusive",p)),excludes:ht(Me(f,"excludes",p)),group:ht(Me(f,"group",p)),spanning:ht(Me(f,"spanning",p)),code:ht(Me(f,"code",p)),attrs:Object.fromEntries(h.map(C=>{var A,T;return[C.name,{default:(A=C==null?void 0:C.attribute)==null?void 0:A.default,validate:(T=C==null?void 0:C.attribute)==null?void 0:T.validate}]}))}),y=ht(Me(f,"parseHTML",p));y&&(x.parseDOM=y.map(C=>p5(C,h)));const N=Me(f,"renderHTML",p);return N&&(x.toDOM=C=>N({mark:C,HTMLAttributes:Jm(C,h)})),[f.name,x]}));return new cD({topNode:a,nodes:l,marks:u})}function I$(e){const t=e.filter((n,r)=>e.indexOf(n)!==r);return Array.from(new Set(t))}function qC(e){return e.sort((n,r)=>{const o=Me(n,"priority")||100,i=Me(r,"priority")||100;return o>i?-1:o<i?1:0})}function P_(e){const t=qC(zC(e)),n=I$(t.map(r=>r.name));return n.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${n.map(r=>`'${r}'`).join(", ")}]. This can lead to issues.`),t}function R_(e,t,n){const{from:r,to:o}=t,{blockSeparator:i=`

`,textSerializers:a={}}=n||{};let l="";return e.nodesBetween(r,o,(u,f,h,p)=>{var g;u.isBlock&&f>r&&(l+=i);const x=a==null?void 0:a[u.type.name];if(x)return h&&(l+=x({node:u,pos:f,parent:h,index:p,range:t})),!1;u.isText&&(l+=(g=u==null?void 0:u.text)==null?void 0:g.slice(Math.max(r,f)-f,o-f))}),l}function D$(e,t){const n={from:0,to:e.content.size};return R_(e,n,t)}function I_(e){return Object.fromEntries(Object.entries(e.nodes).filter(([,t])=>t.spec.toText).map(([t,n])=>[t,n.spec.toText]))}function _$(e,t){const n=dn(t,e.schema),{from:r,to:o}=e.selection,i=[];e.doc.nodesBetween(r,o,l=>{i.push(l)});const a=i.reverse().find(l=>l.type.name===n.name);return a?{...a.attrs}:{}}function D_(e,t){const n=Ix(typeof t=="string"?t:t.name,e.schema);return n==="node"?_$(e,t):n==="mark"?A_(e,t):{}}function O$(e,t=JSON.stringify){const n={};return e.filter(r=>{const o=t(r);return Object.prototype.hasOwnProperty.call(n,o)?!1:n[o]=!0})}function L$(e){const t=O$(e);return t.length===1?t:t.filter((n,r)=>!t.filter((i,a)=>a!==r).some(i=>n.oldRange.from>=i.oldRange.from&&n.oldRange.to<=i.oldRange.to&&n.newRange.from>=i.newRange.from&&n.newRange.to<=i.newRange.to))}function __(e){const{mapping:t,steps:n}=e,r=[];return t.maps.forEach((o,i)=>{const a=[];if(o.ranges.length)o.forEach((l,u)=>{a.push({from:l,to:u})});else{const{from:l,to:u}=n[i];if(l===void 0||u===void 0)return;a.push({from:l,to:u})}a.forEach(({from:l,to:u})=>{const f=t.slice(i).map(l,-1),h=t.slice(i).map(u),p=t.invert().map(f,-1),g=t.invert().map(h);r.push({oldRange:{from:p,to:g},newRange:{from:f,to:h}})})}),L$(r)}function HC(e,t,n){const r=[];return e===t?n.resolve(e).marks().forEach(o=>{const i=n.resolve(e),a=BC(i,o.type);a&&r.push({mark:o,...a})}):n.nodesBetween(e,t,(o,i)=>{!o||(o==null?void 0:o.nodeSize)===void 0||r.push(...o.marks.map(a=>({from:i,to:i+o.nodeSize,mark:a})))}),r}var B$=(e,t,n,r=20)=>{const o=e.doc.resolve(n);let i=r,a=null;for(;i>0&&a===null;){const l=o.node(i);(l==null?void 0:l.type.name)===t?a=l:i-=1}return[a,i]};function xy(e,t){return t.nodes[e]||t.marks[e]||null}function Nm(e,t,n){return Object.fromEntries(Object.entries(n).filter(([r])=>{const o=e.find(i=>i.type===t&&i.name===r);return o?o.attribute.keepOnSplit:!1}))}var U$=(e,t=500)=>{let n="";const r=e.parentOffset;return e.parent.nodesBetween(Math.max(0,r-t),r,(o,i,a,l)=>{var u,f;const h=((f=(u=o.type.spec).toText)==null?void 0:f.call(u,{node:o,pos:i,parent:a,index:l}))||o.textContent||"%leaf%";n+=o.isAtom&&!o.isText?h:h.slice(0,Math.max(0,r-i))}),n};function Dw(e,t,n={}){const{empty:r,ranges:o}=e.selection,i=t?sa(t,e.schema):null;if(r)return!!(e.storedMarks||e.selection.$from.marks()).filter(p=>i?i.name===p.type.name:!0).find(p=>Wm(p.attrs,n,{strict:!1}));let a=0;const l=[];if(o.forEach(({$from:p,$to:g})=>{const x=p.pos,y=g.pos;e.doc.nodesBetween(x,y,(N,C)=>{if(!N.isText&&!N.marks.length)return;const A=Math.max(x,C),T=Math.min(y,C+N.nodeSize),k=T-A;a+=k,l.push(...N.marks.map(D=>({mark:D,from:A,to:T})))})}),a===0)return!1;const u=l.filter(p=>i?i.name===p.mark.type.name:!0).filter(p=>Wm(p.mark.attrs,n,{strict:!1})).reduce((p,g)=>p+g.to-g.from,0),f=l.filter(p=>i?p.mark.type!==i&&p.mark.type.excludes(i):!0).reduce((p,g)=>p+g.to-g.from,0);return(u>0?u+f:u)>=a}function z$(e,t,n={}){if(!t)return ws(e,null,n)||Dw(e,null,n);const r=Ix(t,e.schema);return r==="node"?ws(e,t,n):r==="mark"?Dw(e,t,n):!1}var F$=(e,t)=>{const{$from:n,$to:r,$anchor:o}=e.selection;if(t){const i=Dx(l=>l.type.name===t)(e.selection);if(!i)return!1;const a=e.doc.resolve(i.pos+1);return o.pos+1===a.end()}return!(r.parentOffset<r.parent.nodeSize-2||n.pos!==r.pos)},q$=e=>{const{$from:t,$to:n}=e.selection;return!(t.parentOffset>0||t.pos!==n.pos)};function g5(e,t){return Array.isArray(t)?t.some(n=>(typeof n=="string"?n:n.name)===e.name):t}function x5(e,t){const{nodeExtensions:n}=kf(t),r=n.find(a=>a.name===e);if(!r)return!1;const o={name:r.name,options:r.options,storage:r.storage},i=ht(Me(r,"group",o));return typeof i!="string"?!1:i.split(" ").includes("list")}function _x(e,{checkChildren:t=!0,ignoreWhitespace:n=!1}={}){var r;if(n){if(e.type.name==="hardBreak")return!0;if(e.isText)return/^\s*$/m.test((r=e.text)!=null?r:"")}if(e.isText)return!e.text;if(e.isAtom||e.isLeaf)return!1;if(e.content.childCount===0)return!0;if(t){let o=!0;return e.content.forEach(i=>{o!==!1&&(_x(i,{ignoreWhitespace:n,checkChildren:t})||(o=!1))}),o}return!1}function O_(e){return e instanceof Pe}function H$(e,t,n){var r;const{selection:o}=t;let i=null;if(N_(o)&&(i=o.$cursor),i){const l=(r=e.storedMarks)!=null?r:i.marks();return i.parent.type.allowsMarkType(n)&&(!!n.isInSet(l)||!l.some(f=>f.type.excludes(n)))}const{ranges:a}=o;return a.some(({$from:l,$to:u})=>{let f=l.depth===0?e.doc.inlineContent&&e.doc.type.allowsMarkType(n):!1;return e.doc.nodesBetween(l.pos,u.pos,(h,p,g)=>{if(f)return!1;if(h.isInline){const x=!g||g.type.allowsMarkType(n),y=!!n.isInSet(h.marks)||!h.marks.some(N=>N.type.excludes(n));f=x&&y}return!f}),f})}var V$=(e,t={})=>({tr:n,state:r,dispatch:o})=>{const{selection:i}=n,{empty:a,ranges:l}=i,u=sa(e,r.schema);if(o)if(a){const f=A_(r,u);n.addStoredMark(u.create({...f,...t}))}else l.forEach(f=>{const h=f.$from.pos,p=f.$to.pos;r.doc.nodesBetween(h,p,(g,x)=>{const y=Math.max(x,h),N=Math.min(x+g.nodeSize,p);g.marks.find(A=>A.type===u)?g.marks.forEach(A=>{u===A.type&&n.addMark(y,N,u.create({...A.attrs,...t}))}):n.addMark(y,N,u.create(t))})});return H$(r,n,u)},$$=(e,t)=>({tr:n})=>(n.setMeta(e,t),!0),G$=(e,t={})=>({state:n,dispatch:r,chain:o})=>{const i=dn(e,n.schema);let a;return n.selection.$anchor.sameParent(n.selection.$head)&&(a=n.selection.$anchor.parent.attrs),i.isTextblock?o().command(({commands:l})=>Rk(i,{...a,...t})(n)?!0:l.clearNodes()).command(({state:l})=>Rk(i,{...a,...t})(l,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},K$=e=>({tr:t,dispatch:n})=>{if(n){const{doc:r}=t,o=sl(e,0,r.content.size),i=Pe.create(r,o);t.setSelection(i)}return!0},W$=e=>({tr:t,dispatch:n})=>{if(n){const{doc:r}=t,{from:o,to:i}=typeof e=="number"?{from:e,to:e}:e,a=Ue.atStart(r).from,l=Ue.atEnd(r).to,u=sl(o,a,l),f=sl(i,a,l),h=Ue.create(r,u,f);t.setSelection(h)}return!0},J$=e=>({state:t,dispatch:n})=>{const r=dn(e,t.schema);return Kq(r)(t,n)};function b5(e,t){const n=e.storedMarks||e.selection.$to.parentOffset&&e.selection.$from.marks();if(n){const r=n.filter(o=>t==null?void 0:t.includes(o.type.name));e.tr.ensureMarks(r)}}var Y$=({keepMarks:e=!0}={})=>({tr:t,state:n,dispatch:r,editor:o})=>{const{selection:i,doc:a}=t,{$from:l,$to:u}=i,f=o.extensionManager.attributes,h=Nm(f,l.node().type.name,l.node().attrs);if(i instanceof Pe&&i.node.isBlock)return!l.parentOffset||!Ji(a,l.pos)?!1:(r&&(e&&b5(n,o.extensionManager.splittableMarks),t.split(l.pos).scrollIntoView()),!0);if(!l.parent.isBlock)return!1;const p=u.parentOffset===u.parent.content.size,g=l.depth===0?void 0:A$(l.node(-1).contentMatchAt(l.indexAfter(-1)));let x=p&&g?[{type:g,attrs:h}]:void 0,y=Ji(t.doc,t.mapping.map(l.pos),1,x);if(!x&&!y&&Ji(t.doc,t.mapping.map(l.pos),1,g?[{type:g}]:void 0)&&(y=!0,x=g?[{type:g,attrs:h}]:void 0),r){if(y&&(i instanceof Ue&&t.deleteSelection(),t.split(t.mapping.map(l.pos),1,x),g&&!p&&!l.parentOffset&&l.parent.type!==g)){const N=t.mapping.map(l.before()),C=t.doc.resolve(N);l.node(-1).canReplaceWith(C.index(),C.index()+1,g)&&t.setNodeMarkup(t.mapping.map(l.before()),g)}e&&b5(n,o.extensionManager.splittableMarks),t.scrollIntoView()}return y},X$=(e,t={})=>({tr:n,state:r,dispatch:o,editor:i})=>{var a;const l=dn(e,r.schema),{$from:u,$to:f}=r.selection,h=r.selection.node;if(h&&h.isBlock||u.depth<2||!u.sameParent(f))return!1;const p=u.node(-1);if(p.type!==l)return!1;const g=i.extensionManager.attributes;if(u.parent.content.size===0&&u.node(-1).childCount===u.indexAfter(-1)){if(u.depth===2||u.node(-3).type!==l||u.index(-2)!==u.node(-2).childCount-1)return!1;if(o){let A=he.empty;const T=u.index(-1)?1:u.index(-2)?2:3;for(let B=u.depth-T;B>=u.depth-3;B-=1)A=he.from(u.node(B).copy(A));const k=u.indexAfter(-1)<u.node(-2).childCount?1:u.indexAfter(-2)<u.node(-3).childCount?2:3,D={...Nm(g,u.node().type.name,u.node().attrs),...t},R=((a=l.contentMatch.defaultType)==null?void 0:a.createAndFill(D))||void 0;A=A.append(he.from(l.createAndFill(null,R)||void 0));const I=u.before(u.depth-(T-1));n.replace(I,u.after(-k),new we(A,4-T,0));let P=-1;n.doc.nodesBetween(I,n.doc.content.size,(B,L)=>{if(P>-1)return!1;B.isTextblock&&B.content.size===0&&(P=L+1)}),P>-1&&n.setSelection(Ue.near(n.doc.resolve(P))),n.scrollIntoView()}return!0}const x=f.pos===u.end()?p.contentMatchAt(0).defaultType:null,y={...Nm(g,p.type.name,p.attrs),...t},N={...Nm(g,u.node().type.name,u.node().attrs),...t};n.delete(u.pos,f.pos);const C=x?[{type:l,attrs:y},{type:x,attrs:N}]:[{type:l,attrs:y}];if(!Ji(n.doc,u.pos,2))return!1;if(o){const{selection:A,storedMarks:T}=r,{splittableMarks:k}=i.extensionManager,D=T||A.$to.parentOffset&&A.$from.marks();if(n.split(u.pos,2,C).scrollIntoView(),!D||!o)return!0;const R=D.filter(I=>k.includes(I.type.name));n.ensureMarks(R)}return!0},by=(e,t)=>{const n=Dx(a=>a.type===t)(e.selection);if(!n)return!0;const r=e.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(r===void 0)return!0;const o=e.doc.nodeAt(r);return n.node.type===(o==null?void 0:o.type)&&Ss(e.doc,n.pos)&&e.join(n.pos),!0},vy=(e,t)=>{const n=Dx(a=>a.type===t)(e.selection);if(!n)return!0;const r=e.doc.resolve(n.start).after(n.depth);if(r===void 0)return!0;const o=e.doc.nodeAt(r);return n.node.type===(o==null?void 0:o.type)&&Ss(e.doc,r)&&e.join(r),!0},Q$=(e,t,n,r={})=>({editor:o,tr:i,state:a,dispatch:l,chain:u,commands:f,can:h})=>{const{extensions:p,splittableMarks:g}=o.extensionManager,x=dn(e,a.schema),y=dn(t,a.schema),{selection:N,storedMarks:C}=a,{$from:A,$to:T}=N,k=A.blockRange(T),D=C||N.$to.parentOffset&&N.$from.marks();if(!k)return!1;const R=Dx(I=>x5(I.type.name,p))(N);if(k.depth>=1&&R&&k.depth-R.depth<=1){if(R.node.type===x)return f.liftListItem(y);if(x5(R.node.type.name,p)&&x.validContent(R.node.content)&&l)return u().command(()=>(i.setNodeMarkup(R.pos,x),!0)).command(()=>by(i,x)).command(()=>vy(i,x)).run()}return!n||!D||!l?u().command(()=>h().wrapInList(x,r)?!0:f.clearNodes()).wrapInList(x,r).command(()=>by(i,x)).command(()=>vy(i,x)).run():u().command(()=>{const I=h().wrapInList(x,r),P=D.filter(B=>g.includes(B.type.name));return i.ensureMarks(P),I?!0:f.clearNodes()}).wrapInList(x,r).command(()=>by(i,x)).command(()=>vy(i,x)).run()},Z$=(e,t={},n={})=>({state:r,commands:o})=>{const{extendEmptyMarkRange:i=!1}=n,a=sa(e,r.schema);return Dw(r,a,t)?o.unsetMark(a,{extendEmptyMarkRange:i}):o.setMark(a,t)},eG=(e,t,n={})=>({state:r,commands:o})=>{const i=dn(e,r.schema),a=dn(t,r.schema),l=ws(r,i,n);let u;return r.selection.$anchor.sameParent(r.selection.$head)&&(u=r.selection.$anchor.parent.attrs),l?o.setNode(a,u):o.setNode(i,{...u,...n})},tG=(e,t={})=>({state:n,commands:r})=>{const o=dn(e,n.schema);return ws(n,o,t)?r.lift(o):r.wrapIn(o,t)},nG=()=>({state:e,dispatch:t})=>{const n=e.plugins;for(let r=0;r<n.length;r+=1){const o=n[r];let i;if(o.spec.isInputRules&&(i=o.getState(e))){if(t){const a=e.tr,l=i.transform;for(let u=l.steps.length-1;u>=0;u-=1)a.step(l.steps[u].invert(l.docs[u]));if(i.text){const u=a.doc.resolve(i.from).marks();a.replaceWith(i.from,i.to,e.schema.text(i.text,u))}else a.delete(i.from,i.to)}return!0}}return!1},rG=()=>({tr:e,dispatch:t})=>{const{selection:n}=e,{empty:r,ranges:o}=n;return r||t&&o.forEach(i=>{e.removeMark(i.$from.pos,i.$to.pos)}),!0},oG=(e,t={})=>({tr:n,state:r,dispatch:o})=>{var i;const{extendEmptyMarkRange:a=!1}=t,{selection:l}=n,u=sa(e,r.schema),{$from:f,empty:h,ranges:p}=l;if(!o)return!0;if(h&&a){let{from:g,to:x}=l;const y=(i=f.marks().find(C=>C.type===u))==null?void 0:i.attrs,N=BC(f,u,y);N&&(g=N.from,x=N.to),n.removeMark(g,x,u)}else p.forEach(g=>{n.removeMark(g.$from.pos,g.$to.pos,u)});return n.removeStoredMark(u),!0},iG=(e,t={})=>({tr:n,state:r,dispatch:o})=>{let i=null,a=null;const l=Ix(typeof e=="string"?e:e.name,r.schema);return l?(l==="node"&&(i=dn(e,r.schema)),l==="mark"&&(a=sa(e,r.schema)),o&&n.selection.ranges.forEach(u=>{const f=u.$from.pos,h=u.$to.pos;let p,g,x,y;n.selection.empty?r.doc.nodesBetween(f,h,(N,C)=>{i&&i===N.type&&(x=Math.max(C,f),y=Math.min(C+N.nodeSize,h),p=C,g=N)}):r.doc.nodesBetween(f,h,(N,C)=>{C<f&&i&&i===N.type&&(x=Math.max(C,f),y=Math.min(C+N.nodeSize,h),p=C,g=N),C>=f&&C<=h&&(i&&i===N.type&&n.setNodeMarkup(C,void 0,{...N.attrs,...t}),a&&N.marks.length&&N.marks.forEach(A=>{if(a===A.type){const T=Math.max(C,f),k=Math.min(C+N.nodeSize,h);n.addMark(T,k,a.create({...A.attrs,...t}))}}))}),g&&(p!==void 0&&n.setNodeMarkup(p,void 0,{...g.attrs,...t}),a&&g.marks.length&&g.marks.forEach(N=>{a===N.type&&n.addMark(x,y,a.create({...N.attrs,...t}))}))}),!0):!1},aG=(e,t={})=>({state:n,dispatch:r})=>{const o=dn(e,n.schema);return zq(o,t)(n,r)},sG=(e,t={})=>({state:n,dispatch:r})=>{const o=dn(e,n.schema);return Fq(o,t)(n,r)},lG=class{constructor(){this.callbacks={}}on(t,n){return this.callbacks[t]||(this.callbacks[t]=[]),this.callbacks[t].push(n),this}emit(t,...n){const r=this.callbacks[t];return r&&r.forEach(o=>o.apply(this,n)),this}off(t,n){const r=this.callbacks[t];return r&&(n?this.callbacks[t]=r.filter(o=>o!==n):delete this.callbacks[t]),this}once(t,n){const r=(...o)=>{this.off(t,r),n.apply(this,o)};return this.on(t,r)}removeAllListeners(){this.callbacks={}}},Ox=class{constructor(e){var t;this.find=e.find,this.handler=e.handler,this.undoable=(t=e.undoable)!=null?t:!0}},cG=(e,t)=>{if(LC(t))return t.exec(e);const n=t(e);if(!n)return null;const r=[n.text];return r.index=n.index,r.input=e,r.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(n.replaceWith)),r};function Hp(e){var t;const{editor:n,from:r,to:o,text:i,rules:a,plugin:l}=e,{view:u}=n;if(u.composing)return!1;const f=u.state.doc.resolve(r);if(f.parent.type.spec.code||(t=f.nodeBefore||f.nodeAfter)!=null&&t.marks.find(g=>g.type.spec.code))return!1;let h=!1;const p=U$(f)+i;return a.forEach(g=>{if(h)return;const x=cG(p,g.find);if(!x)return;const y=u.state.tr,N=Px({state:u.state,transaction:y}),C={from:r-(x[0].length-i.length),to:o},{commands:A,chain:T,can:k}=new Rx({editor:n,state:N});g.handler({state:N,range:C,match:x,commands:A,chain:T,can:k})===null||!y.steps.length||(g.undoable&&y.setMeta(l,{transform:y,from:r,to:o,text:i}),u.dispatch(y),h=!0)}),h}function uG(e){const{editor:t,rules:n}=e,r=new Kt({state:{init(){return null},apply(o,i,a){const l=o.getMeta(r);if(l)return l;const u=o.getMeta("applyInputRules");return!!u&&setTimeout(()=>{let{text:h}=u;typeof h=="string"?h=h:h=FC(he.from(h),a.schema);const{from:p}=u,g=p+h.length;Hp({editor:t,from:p,to:g,text:h,rules:n,plugin:r})}),o.selectionSet||o.docChanged?null:i}},props:{handleTextInput(o,i,a,l){return Hp({editor:t,from:i,to:a,text:l,rules:n,plugin:r})},handleDOMEvents:{compositionend:o=>(setTimeout(()=>{const{$cursor:i}=o.state.selection;i&&Hp({editor:t,from:i.pos,to:i.pos,text:"",rules:n,plugin:r})}),!1)},handleKeyDown(o,i){if(i.key!=="Enter")return!1;const{$cursor:a}=o.state.selection;return a?Hp({editor:t,from:a.pos,to:a.pos,text:`
`,rules:n,plugin:r}):!1}},isInputRules:!0});return r}function dG(e){return Object.prototype.toString.call(e).slice(8,-1)}function Vp(e){return dG(e)!=="Object"?!1:e.constructor===Object&&Object.getPrototypeOf(e)===Object.prototype}function L_(e,t){const n={...e};return Vp(e)&&Vp(t)&&Object.keys(t).forEach(r=>{Vp(t[r])&&Vp(e[r])?n[r]=L_(e[r],t[r]):n[r]=t[r]}),n}var VC=class{constructor(e={}){this.type="extendable",this.parent=null,this.child=null,this.name="",this.config={name:this.name},this.config={...this.config,...e},this.name=this.config.name}get options(){return{...ht(Me(this,"addOptions",{name:this.name}))||{}}}get storage(){return{...ht(Me(this,"addStorage",{name:this.name,options:this.options}))||{}}}configure(e={}){const t=this.extend({...this.config,addOptions:()=>L_(this.options,e)});return t.name=this.name,t.parent=this.parent,t}extend(e={}){const t=new this.constructor({...this.config,...e});return t.parent=this,this.child=t,t.name="name"in e?e.name:t.parent.name,t}},la=class B_ extends VC{constructor(){super(...arguments),this.type="mark"}static create(t={}){const n=typeof t=="function"?t():t;return new B_(n)}static handleExit({editor:t,mark:n}){const{tr:r}=t.state,o=t.state.selection.$from;if(o.pos===o.end()){const a=o.marks();if(!!!a.find(f=>(f==null?void 0:f.type.name)===n.name))return!1;const u=a.find(f=>(f==null?void 0:f.type.name)===n.name);return u&&r.removeStoredMark(u),r.insertText(" ",o.pos),t.view.dispatch(r),!0}return!1}configure(t){return super.configure(t)}extend(t){const n=typeof t=="function"?t():t;return super.extend(n)}};function fG(e){return typeof e=="number"}var hG=class{constructor(e){this.find=e.find,this.handler=e.handler}},pG=(e,t,n)=>{if(LC(t))return[...e.matchAll(t)];const r=t(e,n);return r?r.map(o=>{const i=[o.text];return i.index=o.index,i.input=e,i.data=o.data,o.replaceWith&&(o.text.includes(o.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),i.push(o.replaceWith)),i}):[]};function mG(e){const{editor:t,state:n,from:r,to:o,rule:i,pasteEvent:a,dropEvent:l}=e,{commands:u,chain:f,can:h}=new Rx({editor:t,state:n}),p=[];return n.doc.nodesBetween(r,o,(x,y)=>{var N,C,A,T,k;if((C=(N=x.type)==null?void 0:N.spec)!=null&&C.code||!(x.isText||x.isTextblock||x.isInline))return;const D=(k=(T=(A=x.content)==null?void 0:A.size)!=null?T:x.nodeSize)!=null?k:0,R=Math.max(r,y),I=Math.min(o,y+D);if(R>=I)return;const P=x.isText?x.text||"":x.textBetween(R-y,I-y,void 0,"");pG(P,i.find,a).forEach(L=>{if(L.index===void 0)return;const $=R+L.index+1,X=$+L[0].length,q={from:n.tr.mapping.map($),to:n.tr.mapping.map(X)},W=i.handler({state:n,range:q,match:L,commands:u,chain:f,can:h,pasteEvent:a,dropEvent:l});p.push(W)})}),p.every(x=>x!==null)}var $p=null,gG=e=>{var t;const n=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(t=n.clipboardData)==null||t.setData("text/html",e),n};function xG(e){const{editor:t,rules:n}=e;let r=null,o=!1,i=!1,a=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,l;try{l=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{l=null}const u=({state:h,from:p,to:g,rule:x,pasteEvt:y})=>{const N=h.tr,C=Px({state:h,transaction:N});if(!(!mG({editor:t,state:C,from:Math.max(p-1,0),to:g.b-1,rule:x,pasteEvent:y,dropEvent:l})||!N.steps.length)){try{l=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{l=null}return a=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,N}};return n.map(h=>new Kt({view(p){const g=y=>{var N;r=(N=p.dom.parentElement)!=null&&N.contains(y.target)?p.dom.parentElement:null,r&&($p=t)},x=()=>{$p&&($p=null)};return window.addEventListener("dragstart",g),window.addEventListener("dragend",x),{destroy(){window.removeEventListener("dragstart",g),window.removeEventListener("dragend",x)}}},props:{handleDOMEvents:{drop:(p,g)=>{if(i=r===p.dom.parentElement,l=g,!i){const x=$p;x!=null&&x.isEditable&&setTimeout(()=>{const y=x.state.selection;y&&x.commands.deleteRange({from:y.from,to:y.to})},10)}return!1},paste:(p,g)=>{var x;const y=(x=g.clipboardData)==null?void 0:x.getData("text/html");return a=g,o=!!(y!=null&&y.includes("data-pm-slice")),!1}}},appendTransaction:(p,g,x)=>{const y=p[0],N=y.getMeta("uiEvent")==="paste"&&!o,C=y.getMeta("uiEvent")==="drop"&&!i,A=y.getMeta("applyPasteRules"),T=!!A;if(!N&&!C&&!T)return;if(T){let{text:R}=A;typeof R=="string"?R=R:R=FC(he.from(R),x.schema);const{from:I}=A,P=I+R.length,B=gG(R);return u({rule:h,state:x,from:I,to:{b:P},pasteEvt:B})}const k=g.doc.content.findDiffStart(x.doc.content),D=g.doc.content.findDiffEnd(x.doc.content);if(!(!fG(k)||!D||k===D.b))return u({rule:h,state:x,from:k,to:D,pasteEvt:a})}}))}var Lx=class{constructor(e,t){this.splittableMarks=[],this.editor=t,this.baseExtensions=e,this.extensions=P_(e),this.schema=R$(this.extensions,t),this.setupExtensions()}get commands(){return this.extensions.reduce((e,t)=>{const n={name:t.name,options:t.options,storage:this.editor.extensionStorage[t.name],editor:this.editor,type:xy(t.name,this.schema)},r=Me(t,"addCommands",n);return r?{...e,...r()}:e},{})}get plugins(){const{editor:e}=this;return qC([...this.extensions].reverse()).flatMap(r=>{const o={name:r.name,options:r.options,storage:this.editor.extensionStorage[r.name],editor:e,type:xy(r.name,this.schema)},i=[],a=Me(r,"addKeyboardShortcuts",o);let l={};if(r.type==="mark"&&Me(r,"exitable",o)&&(l.ArrowRight=()=>la.handleExit({editor:e,mark:r})),a){const g=Object.fromEntries(Object.entries(a()).map(([x,y])=>[x,()=>y({editor:e})]));l={...l,...g}}const u=_V(l);i.push(u);const f=Me(r,"addInputRules",o);if(g5(r,e.options.enableInputRules)&&f){const g=f();if(g&&g.length){const x=uG({editor:e,rules:g}),y=Array.isArray(x)?x:[x];i.push(...y)}}const h=Me(r,"addPasteRules",o);if(g5(r,e.options.enablePasteRules)&&h){const g=h();if(g&&g.length){const x=xG({editor:e,rules:g});i.push(...x)}}const p=Me(r,"addProseMirrorPlugins",o);if(p){const g=p();i.push(...g)}return i})}get attributes(){return M_(this.extensions)}get nodeViews(){const{editor:e}=this,{nodeExtensions:t}=kf(this.extensions);return Object.fromEntries(t.filter(n=>!!Me(n,"addNodeView")).map(n=>{const r=this.attributes.filter(u=>u.type===n.name),o={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:e,type:dn(n.name,this.schema)},i=Me(n,"addNodeView",o);if(!i)return[];const a=i();if(!a)return[];const l=(u,f,h,p,g)=>{const x=Jm(u,r);return a({node:u,view:f,getPos:h,decorations:p,innerDecorations:g,editor:e,extension:n,HTMLAttributes:x})};return[n.name,l]}))}get markViews(){const{editor:e}=this,{markExtensions:t}=kf(this.extensions);return Object.fromEntries(t.filter(n=>!!Me(n,"addMarkView")).map(n=>{const r=this.attributes.filter(l=>l.type===n.name),o={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:e,type:sa(n.name,this.schema)},i=Me(n,"addMarkView",o);if(!i)return[];const a=(l,u,f)=>{const h=Jm(l,r);return i()({mark:l,view:u,inline:f,editor:e,extension:n,HTMLAttributes:h,updateAttributes:p=>{RG(l,e,p)}})};return[n.name,a]}))}setupExtensions(){const e=this.extensions;this.editor.extensionStorage=Object.fromEntries(e.map(t=>[t.name,t.storage])),e.forEach(t=>{var n;const r={name:t.name,options:t.options,storage:this.editor.extensionStorage[t.name],editor:this.editor,type:xy(t.name,this.schema)};t.type==="mark"&&((n=ht(Me(t,"keepOnSplit",r)))==null||n)&&this.splittableMarks.push(t.name);const o=Me(t,"onBeforeCreate",r),i=Me(t,"onCreate",r),a=Me(t,"onUpdate",r),l=Me(t,"onSelectionUpdate",r),u=Me(t,"onTransaction",r),f=Me(t,"onFocus",r),h=Me(t,"onBlur",r),p=Me(t,"onDestroy",r);o&&this.editor.on("beforeCreate",o),i&&this.editor.on("create",i),a&&this.editor.on("update",a),l&&this.editor.on("selectionUpdate",l),u&&this.editor.on("transaction",u),f&&this.editor.on("focus",f),h&&this.editor.on("blur",h),p&&this.editor.on("destroy",p)})}};Lx.resolve=P_;Lx.sort=qC;Lx.flatten=zC;var bG={};OC(bG,{ClipboardTextSerializer:()=>z_,Commands:()=>F_,Delete:()=>q_,Drop:()=>H_,Editable:()=>V_,FocusEvents:()=>G_,Keymap:()=>K_,Paste:()=>W_,Tabindex:()=>J_,focusEventsPluginKey:()=>$_});var St=class U_ extends VC{constructor(){super(...arguments),this.type="extension"}static create(t={}){const n=typeof t=="function"?t():t;return new U_(n)}configure(t){return super.configure(t)}extend(t){const n=typeof t=="function"?t():t;return super.extend(n)}},z_=St.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new Kt({key:new kn("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:e}=this,{state:t,schema:n}=e,{doc:r,selection:o}=t,{ranges:i}=o,a=Math.min(...i.map(h=>h.$from.pos)),l=Math.max(...i.map(h=>h.$to.pos)),u=I_(n);return R_(r,{from:a,to:l},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:u})}}})]}}),F_=St.create({name:"commands",addCommands(){return{...w_}}}),q_=St.create({name:"delete",onUpdate({transaction:e,appendedTransactions:t}){var n,r,o;const i=()=>{var a,l,u,f;if((f=(u=(l=(a=this.editor.options.coreExtensionOptions)==null?void 0:a.delete)==null?void 0:l.filterTransaction)==null?void 0:u.call(l,e))!=null?f:e.getMeta("y-sync$"))return;const h=T_(e.before,[e,...t]);__(h).forEach(x=>{h.mapping.mapResult(x.oldRange.from).deletedAfter&&h.mapping.mapResult(x.oldRange.to).deletedBefore&&h.before.nodesBetween(x.oldRange.from,x.oldRange.to,(y,N)=>{const C=N+y.nodeSize-2,A=x.oldRange.from<=N&&C<=x.oldRange.to;this.editor.emit("delete",{type:"node",node:y,from:N,to:C,newFrom:h.mapping.map(N),newTo:h.mapping.map(C),deletedRange:x.oldRange,newRange:x.newRange,partial:!A,editor:this.editor,transaction:e,combinedTransform:h})})});const g=h.mapping;h.steps.forEach((x,y)=>{var N,C;if(x instanceof Oo){const A=g.slice(y).map(x.from,-1),T=g.slice(y).map(x.to),k=g.invert().map(A,-1),D=g.invert().map(T),R=(N=h.doc.nodeAt(A-1))==null?void 0:N.marks.some(P=>P.eq(x.mark)),I=(C=h.doc.nodeAt(T))==null?void 0:C.marks.some(P=>P.eq(x.mark));this.editor.emit("delete",{type:"mark",mark:x.mark,from:x.from,to:x.to,deletedRange:{from:k,to:D},newRange:{from:A,to:T},partial:!!(I||R),editor:this.editor,transaction:e,combinedTransform:h})}})};(o=(r=(n=this.editor.options.coreExtensionOptions)==null?void 0:n.delete)==null?void 0:r.async)==null||o?setTimeout(i,0):i()}}),H_=St.create({name:"drop",addProseMirrorPlugins(){return[new Kt({key:new kn("tiptapDrop"),props:{handleDrop:(e,t,n,r)=>{this.editor.emit("drop",{editor:this.editor,event:t,slice:n,moved:r})}}})]}}),V_=St.create({name:"editable",addProseMirrorPlugins(){return[new Kt({key:new kn("editable"),props:{editable:()=>this.editor.options.editable}})]}}),$_=new kn("focusEvents"),G_=St.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:e}=this;return[new Kt({key:$_,props:{handleDOMEvents:{focus:(t,n)=>{e.isFocused=!0;const r=e.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return t.dispatch(r),!1},blur:(t,n)=>{e.isFocused=!1;const r=e.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return t.dispatch(r),!1}}}})]}}),K_=St.create({name:"keymap",addKeyboardShortcuts(){const e=()=>this.editor.commands.first(({commands:a})=>[()=>a.undoInputRule(),()=>a.command(({tr:l})=>{const{selection:u,doc:f}=l,{empty:h,$anchor:p}=u,{pos:g,parent:x}=p,y=p.parent.isTextblock&&g>0?l.doc.resolve(g-1):p,N=y.parent.type.spec.isolating,C=p.pos-p.parentOffset,A=N&&y.parent.childCount===1?C===p.pos:$e.atStart(f).from===g;return!h||!x.type.isTextblock||x.textContent.length||!A||A&&p.parent.type.name==="paragraph"?!1:a.clearNodes()}),()=>a.deleteSelection(),()=>a.joinBackward(),()=>a.selectNodeBackward()]),t=()=>this.editor.commands.first(({commands:a})=>[()=>a.deleteSelection(),()=>a.deleteCurrentNode(),()=>a.joinForward(),()=>a.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:a})=>[()=>a.newlineInCode(),()=>a.createParagraphNear(),()=>a.liftEmptyBlock(),()=>a.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:e,"Mod-Backspace":e,"Shift-Backspace":e,Delete:t,"Mod-Delete":t,"Mod-a":()=>this.editor.commands.selectAll()},o={...r},i={...r,"Ctrl-h":e,"Alt-Backspace":e,"Ctrl-d":t,"Ctrl-Alt-Backspace":t,"Alt-Delete":t,"Alt-d":t,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return UC()||j_()?i:o},addProseMirrorPlugins(){return[new Kt({key:new kn("clearDocument"),appendTransaction:(e,t,n)=>{if(e.some(N=>N.getMeta("composition")))return;const r=e.some(N=>N.docChanged)&&!t.doc.eq(n.doc),o=e.some(N=>N.getMeta("preventClearDocument"));if(!r||o)return;const{empty:i,from:a,to:l}=t.selection,u=$e.atStart(t.doc).from,f=$e.atEnd(t.doc).to;if(i||!(a===u&&l===f)||!_x(n.doc))return;const g=n.tr,x=Px({state:n,transaction:g}),{commands:y}=new Rx({editor:this.editor,state:x});if(y.clearNodes(),!!g.steps.length)return g}})]}}),W_=St.create({name:"paste",addProseMirrorPlugins(){return[new Kt({key:new kn("tiptapPaste"),props:{handlePaste:(e,t,n)=>{this.editor.emit("paste",{editor:this.editor,event:t,slice:n})}}})]}}),J_=St.create({name:"tabindex",addProseMirrorPlugins(){return[new Kt({key:new kn("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}}),vG=class Lc{constructor(t,n,r=!1,o=null){this.currentNode=null,this.actualDepth=null,this.isBlock=r,this.resolvedPos=t,this.editor=n,this.currentNode=o}get name(){return this.node.type.name}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var t;return(t=this.actualDepth)!=null?t:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(t){let n=this.from,r=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You cant set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}n=this.from+1,r=this.to-1}this.editor.commands.insertContentAt({from:n,to:r},t)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const t=this.resolvedPos.start(this.resolvedPos.depth-1),n=this.resolvedPos.doc.resolve(t);return new Lc(n,this.editor)}get before(){let t=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return t.depth!==this.depth&&(t=this.resolvedPos.doc.resolve(this.from-3)),new Lc(t,this.editor)}get after(){let t=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return t.depth!==this.depth&&(t=this.resolvedPos.doc.resolve(this.to+3)),new Lc(t,this.editor)}get children(){const t=[];return this.node.content.forEach((n,r)=>{const o=n.isBlock&&!n.isTextblock,i=n.isAtom&&!n.isText,a=this.pos+r+(i?0:1);if(a<0||a>this.resolvedPos.doc.nodeSize-2)return;const l=this.resolvedPos.doc.resolve(a);if(!o&&l.depth<=this.depth)return;const u=new Lc(l,this.editor,o,o?n:null);o&&(u.actualDepth=this.depth+1),t.push(new Lc(l,this.editor,o,o?n:null))}),t}get firstChild(){return this.children[0]||null}get lastChild(){const t=this.children;return t[t.length-1]||null}closest(t,n={}){let r=null,o=this.parent;for(;o&&!r;){if(o.node.type.name===t)if(Object.keys(n).length>0){const i=o.node.attrs,a=Object.keys(n);for(let l=0;l<a.length;l+=1){const u=a[l];if(i[u]!==n[u])break}}else r=o;o=o.parent}return r}querySelector(t,n={}){return this.querySelectorAll(t,n,!0)[0]||null}querySelectorAll(t,n={},r=!1){let o=[];if(!this.children||this.children.length===0)return o;const i=Object.keys(n);return this.children.forEach(a=>{r&&o.length>0||(a.node.type.name===t&&i.every(u=>n[u]===a.node.attrs[u])&&o.push(a),!(r&&o.length>0)&&(o=o.concat(a.querySelectorAll(t,n,r))))}),o}setAttribute(t){const{tr:n}=this.editor.state;n.setNodeMarkup(this.from,void 0,{...this.node.attrs,...t}),this.editor.view.dispatch(n)}},yG=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}`;function wG(e,t,n){const r=document.querySelector("style[data-tiptap-style]");if(r!==null)return r;const o=document.createElement("style");return t&&o.setAttribute("nonce",t),o.setAttribute("data-tiptap-style",""),o.innerHTML=e,document.getElementsByTagName("head")[0].appendChild(o),o}var CG=class extends lG{constructor(e={}){super(),this.css=null,this.className="tiptap",this.editorView=null,this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.instanceId=Math.random().toString(36).slice(2,9),this.options={element:typeof document<"u"?document.createElement("div"):null,content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onMount:()=>null,onUnmount:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:r})=>{throw r},onPaste:()=>null,onDrop:()=>null,onDelete:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("mount",this.options.onMount),this.on("unmount",this.options.onUnmount),this.on("contentError",this.options.onContentError),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:r,slice:o,moved:i})=>this.options.onDrop(r,o,i)),this.on("paste",({event:r,slice:o})=>this.options.onPaste(r,o)),this.on("delete",this.options.onDelete);const t=this.createDoc(),n=S_(t,this.options.autofocus);this.editorState=zc.create({doc:t,schema:this.schema,selection:n||void 0}),this.options.element&&this.mount(this.options.element)}mount(e){if(typeof document>"u")throw new Error("[tiptap error]: The editor cannot be mounted because there is no 'document' defined in this environment.");this.createView(e),this.emit("mount",{editor:this}),this.css&&!document.head.contains(this.css)&&document.head.appendChild(this.css),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}unmount(){if(this.editorView){const e=this.editorView.dom;e!=null&&e.editor&&delete e.editor,this.editorView.destroy()}if(this.editorView=null,this.isInitialized=!1,this.css&&!document.querySelectorAll(`.${this.className}`).length)try{typeof this.css.remove=="function"?this.css.remove():this.css.parentNode&&this.css.parentNode.removeChild(this.css)}catch(e){console.warn("Failed to remove CSS element:",e)}this.css=null,this.emit("unmount",{editor:this})}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&typeof document<"u"&&(this.css=wG(yG,this.options.injectNonce))}setOptions(e={}){this.options={...this.options,...e},!(!this.editorView||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e,t=!0){this.setOptions({editable:e}),t&&this.emit("update",{editor:this,transaction:this.state.tr,appendedTransactions:[]})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get view(){return this.editorView?this.editorView:new Proxy({state:this.editorState,updateState:e=>{this.editorState=e},dispatch:e=>{this.dispatchTransaction(e)},composing:!1,dragging:null,editable:!0,isDestroyed:!1},{get:(e,t)=>{if(this.editorView)return this.editorView[t];if(t==="state")return this.editorState;if(t in e)return Reflect.get(e,t);throw new Error(`[tiptap error]: The editor view is not available. Cannot access view['${t}']. The editor may not be mounted yet.`)}})}get state(){return this.editorView&&(this.editorState=this.view.state),this.editorState}registerPlugin(e,t){const n=k_(t)?t(e,[...this.state.plugins]):[...this.state.plugins,e],r=this.state.reconfigure({plugins:n});return this.view.updateState(r),r}unregisterPlugin(e){if(this.isDestroyed)return;const t=this.state.plugins;let n=t;if([].concat(e).forEach(o=>{const i=typeof o=="string"?`${o}$`:o.key;n=n.filter(a=>!a.key.startsWith(i))}),t.length===n.length)return;const r=this.state.reconfigure({plugins:n});return this.view.updateState(r),r}createExtensionManager(){var e,t;const r=[...this.options.enableCoreExtensions?[V_,z_.configure({blockSeparator:(t=(e=this.options.coreExtensionOptions)==null?void 0:e.clipboardTextSerializer)==null?void 0:t.blockSeparator}),F_,G_,K_,J_,H_,W_,q_].filter(o=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[o.name]!==!1:!0):[],...this.options.extensions].filter(o=>["extension","node","mark"].includes(o==null?void 0:o.type));this.extensionManager=new Lx(r,this)}createCommandManager(){this.commandManager=new Rx({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createDoc(){let e;try{e=Iw(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(t){if(!(t instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(t.message))throw t;this.emit("contentError",{editor:this,error:t,disableCollaboration:()=>{"collaboration"in this.storage&&typeof this.storage.collaboration=="object"&&this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(n=>n.name!=="collaboration"),this.createExtensionManager()}}),e=Iw(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}return e}createView(e){var t;this.editorView=new v_(e,{...this.options.editorProps,attributes:{role:"textbox",...(t=this.options.editorProps)==null?void 0:t.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:this.editorState,markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews});const n=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(n),this.prependClass(),this.injectCSS();const r=this.view.dom;r.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`${this.className} ${this.view.dom.className}`}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;const t=this.capturedTransaction;return this.capturedTransaction=null,t}dispatchTransaction(e){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=e;return}e.steps.forEach(f=>{var h;return(h=this.capturedTransaction)==null?void 0:h.step(f)});return}const{state:t,transactions:n}=this.state.applyTransaction(e),r=!this.state.selection.eq(t.selection),o=n.includes(e),i=this.state;if(this.emit("beforeTransaction",{editor:this,transaction:e,nextState:t}),!o)return;this.view.updateState(t),this.emit("transaction",{editor:this,transaction:e,appendedTransactions:n.slice(1)}),r&&this.emit("selectionUpdate",{editor:this,transaction:e});const a=n.findLast(f=>f.getMeta("focus")||f.getMeta("blur")),l=a==null?void 0:a.getMeta("focus"),u=a==null?void 0:a.getMeta("blur");l&&this.emit("focus",{editor:this,event:l.event,transaction:a}),u&&this.emit("blur",{editor:this,event:u.event,transaction:a}),!(e.getMeta("preventUpdate")||!n.some(f=>f.docChanged)||i.doc.eq(t.doc))&&this.emit("update",{editor:this,transaction:e,appendedTransactions:n.slice(1)})}getAttributes(e){return D_(this.state,e)}isActive(e,t){const n=typeof e=="string"?e:null,r=typeof e=="string"?t:e;return z$(this.state,n,r)}getJSON(){return this.state.doc.toJSON()}getHTML(){return FC(this.state.doc.content,this.schema)}getText(e){const{blockSeparator:t=`

`,textSerializers:n={}}=e||{};return D$(this.state.doc,{blockSeparator:t,textSerializers:{...I_(this.schema),...n}})}get isEmpty(){return _x(this.state.doc)}destroy(){this.emit("destroy"),this.unmount(),this.removeAllListeners()}get isDestroyed(){var e,t;return(t=(e=this.editorView)==null?void 0:e.isDestroyed)!=null?t:!0}$node(e,t){var n;return((n=this.$doc)==null?void 0:n.querySelector(e,t))||null}$nodes(e,t){var n;return((n=this.$doc)==null?void 0:n.querySelectorAll(e,t))||null}$pos(e){const t=this.state.doc.resolve(e);return new vG(t,this)}get $doc(){return this.$pos(0)}};function Tl(e){return new Ox({find:e.find,handler:({state:t,range:n,match:r})=>{const o=ht(e.getAttributes,void 0,r);if(o===!1||o===null)return null;const{tr:i}=t,a=r[r.length-1],l=r[0];if(a){const u=l.search(/\S/),f=n.from+l.indexOf(a),h=f+a.length;if(HC(n.from,n.to,t.doc).filter(x=>x.mark.type.excluded.find(N=>N===e.type&&N!==x.mark.type)).filter(x=>x.to>f).length)return null;h<n.to&&i.delete(h,n.to),f>n.from&&i.delete(n.from+u,f);const g=n.from+u+a.length;i.addMark(n.from+u,g,e.type.create(o||{})),i.removeStoredMark(e.type)}},undoable:e.undoable})}function Y_(e){return new Ox({find:e.find,handler:({state:t,range:n,match:r})=>{const o=ht(e.getAttributes,void 0,r)||{},{tr:i}=t,a=n.from;let l=n.to;const u=e.type.create(o);if(r[1]){const f=r[0].lastIndexOf(r[1]);let h=a+f;h>l?h=l:l=h+r[1].length;const p=r[0][r[0].length-1];i.insertText(p,a+r[0].length-1),i.replaceWith(h,l,u)}else if(r[0]){const f=e.type.isInline?a:a-1;i.insert(f,e.type.create(o)).delete(i.mapping.map(a),i.mapping.map(l))}i.scrollIntoView()},undoable:e.undoable})}function _w(e){return new Ox({find:e.find,handler:({state:t,range:n,match:r})=>{const o=t.doc.resolve(n.from),i=ht(e.getAttributes,void 0,r)||{};if(!o.node(-1).canReplaceWith(o.index(-1),o.indexAfter(-1),e.type))return null;t.tr.delete(n.from,n.to).setBlockType(n.from,n.from,e.type,i)},undoable:e.undoable})}function ru(e){return new Ox({find:e.find,handler:({state:t,range:n,match:r,chain:o})=>{const i=ht(e.getAttributes,void 0,r)||{},a=t.tr.delete(n.from,n.to),u=a.doc.resolve(n.from).blockRange(),f=u&&yC(u,e.type,i);if(!f)return null;if(a.wrap(u,f),e.keepMarks&&e.editor){const{selection:p,storedMarks:g}=t,{splittableMarks:x}=e.editor.extensionManager,y=g||p.$to.parentOffset&&p.$from.marks();if(y){const N=y.filter(C=>x.includes(C.type.name));a.ensureMarks(N)}}if(e.keepAttributes){const p=e.type.name==="bulletList"||e.type.name==="orderedList"?"listItem":"taskList";o().updateAttributes(p,i).run()}const h=a.doc.resolve(n.from-1).nodeBefore;h&&h.type===e.type&&Ss(a.doc,n.from-1)&&(!e.joinPredicate||e.joinPredicate(r,h))&&a.join(n.from-1)},undoable:e.undoable})}var NG=e=>"touches"in e,SG=class{constructor(e){this.directions=["bottom-left","bottom-right","top-left","top-right"],this.minSize={height:8,width:8},this.preserveAspectRatio=!1,this.classNames={container:"",wrapper:"",handle:"",resizing:""},this.initialWidth=0,this.initialHeight=0,this.aspectRatio=1,this.isResizing=!1,this.activeHandle=null,this.startX=0,this.startY=0,this.startWidth=0,this.startHeight=0,this.isShiftKeyPressed=!1,this.handleMouseMove=a=>{if(!this.isResizing||!this.activeHandle)return;const l=a.clientX-this.startX,u=a.clientY-this.startY;this.handleResize(l,u)},this.handleTouchMove=a=>{if(!this.isResizing||!this.activeHandle)return;const l=a.touches[0];if(!l)return;const u=l.clientX-this.startX,f=l.clientY-this.startY;this.handleResize(u,f)},this.handleMouseUp=()=>{if(!this.isResizing)return;const a=this.element.offsetWidth,l=this.element.offsetHeight;this.onCommit(a,l),this.isResizing=!1,this.activeHandle=null,this.container.dataset.resizeState="false",this.classNames.resizing&&this.container.classList.remove(this.classNames.resizing),document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),document.removeEventListener("keydown",this.handleKeyDown),document.removeEventListener("keyup",this.handleKeyUp)},this.handleKeyDown=a=>{a.key==="Shift"&&(this.isShiftKeyPressed=!0)},this.handleKeyUp=a=>{a.key==="Shift"&&(this.isShiftKeyPressed=!1)};var t,n,r,o,i;this.node=e.node,this.element=e.element,this.contentElement=e.contentElement,this.getPos=e.getPos,this.onResize=e.onResize,this.onCommit=e.onCommit,this.onUpdate=e.onUpdate,(t=e.options)!=null&&t.min&&(this.minSize={...this.minSize,...e.options.min}),(n=e.options)!=null&&n.max&&(this.maxSize=e.options.max),(r=e==null?void 0:e.options)!=null&&r.directions&&(this.directions=e.options.directions),(o=e.options)!=null&&o.preserveAspectRatio&&(this.preserveAspectRatio=e.options.preserveAspectRatio),(i=e.options)!=null&&i.className&&(this.classNames={container:e.options.className.container||"",wrapper:e.options.className.wrapper||"",handle:e.options.className.handle||"",resizing:e.options.className.resizing||""}),this.wrapper=this.createWrapper(),this.container=this.createContainer(),this.applyInitialSize(),this.attachHandles()}get dom(){return this.container}get contentDOM(){return this.contentElement}update(e,t,n){return e.type!==this.node.type?!1:(this.node=e,this.onUpdate?this.onUpdate(e,t,n):!0)}destroy(){this.isResizing&&(this.container.dataset.resizeState="false",this.classNames.resizing&&this.container.classList.remove(this.classNames.resizing),document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),document.removeEventListener("keydown",this.handleKeyDown),document.removeEventListener("keyup",this.handleKeyUp),this.isResizing=!1,this.activeHandle=null),this.container.remove()}createContainer(){const e=document.createElement("div");return e.dataset.resizeContainer="",e.dataset.node=this.node.type.name,e.style.display="flex",e.style.justifyContent="flex-start",e.style.alignItems="flex-start",this.classNames.container&&(e.className=this.classNames.container),e.appendChild(this.wrapper),e}createWrapper(){const e=document.createElement("div");return e.style.position="relative",e.style.display="block",e.dataset.resizeWrapper="",this.classNames.wrapper&&(e.className=this.classNames.wrapper),e.appendChild(this.element),e}createHandle(e){const t=document.createElement("div");return t.dataset.resizeHandle=e,t.style.position="absolute",this.classNames.handle&&(t.className=this.classNames.handle),t}positionHandle(e,t){const n=t.includes("top"),r=t.includes("bottom"),o=t.includes("left"),i=t.includes("right");n&&(e.style.top="0"),r&&(e.style.bottom="0"),o&&(e.style.left="0"),i&&(e.style.right="0"),(t==="top"||t==="bottom")&&(e.style.left="0",e.style.right="0"),(t==="left"||t==="right")&&(e.style.top="0",e.style.bottom="0")}attachHandles(){this.directions.forEach(e=>{const t=this.createHandle(e);this.positionHandle(t,e),t.addEventListener("mousedown",n=>this.handleResizeStart(n,e)),t.addEventListener("touchstart",n=>this.handleResizeStart(n,e)),this.wrapper.appendChild(t)})}applyInitialSize(){const e=this.node.attrs.width,t=this.node.attrs.height;e?(this.element.style.width=`${e}px`,this.initialWidth=e):this.initialWidth=this.element.offsetWidth,t?(this.element.style.height=`${t}px`,this.initialHeight=t):this.initialHeight=this.element.offsetHeight,this.initialWidth>0&&this.initialHeight>0&&(this.aspectRatio=this.initialWidth/this.initialHeight)}handleResizeStart(e,t){e.preventDefault(),e.stopPropagation(),this.isResizing=!0,this.activeHandle=t,NG(e)?(this.startX=e.touches[0].clientX,this.startY=e.touches[0].clientY):(this.startX=e.clientX,this.startY=e.clientY),this.startWidth=this.element.offsetWidth,this.startHeight=this.element.offsetHeight,this.startWidth>0&&this.startHeight>0&&(this.aspectRatio=this.startWidth/this.startHeight),this.getPos(),this.container.dataset.resizeState="true",this.classNames.resizing&&this.container.classList.add(this.classNames.resizing),document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("touchmove",this.handleTouchMove),document.addEventListener("mouseup",this.handleMouseUp),document.addEventListener("keydown",this.handleKeyDown),document.addEventListener("keyup",this.handleKeyUp)}handleResize(e,t){if(!this.activeHandle)return;const n=this.preserveAspectRatio||this.isShiftKeyPressed,{width:r,height:o}=this.calculateNewDimensions(this.activeHandle,e,t),i=this.applyConstraints(r,o,n);this.element.style.width=`${i.width}px`,this.element.style.height=`${i.height}px`,this.onResize&&this.onResize(i.width,i.height)}calculateNewDimensions(e,t,n){let r=this.startWidth,o=this.startHeight;const i=e.includes("right"),a=e.includes("left"),l=e.includes("bottom"),u=e.includes("top");return i?r=this.startWidth+t:a&&(r=this.startWidth-t),l?o=this.startHeight+n:u&&(o=this.startHeight-n),(e==="right"||e==="left")&&(r=this.startWidth+(i?t:-t)),(e==="top"||e==="bottom")&&(o=this.startHeight+(l?n:-n)),this.preserveAspectRatio||this.isShiftKeyPressed?this.applyAspectRatio(r,o,e):{width:r,height:o}}applyConstraints(e,t,n){var r,o,i,a;if(!n){let f=Math.max(this.minSize.width,e),h=Math.max(this.minSize.height,t);return(r=this.maxSize)!=null&&r.width&&(f=Math.min(this.maxSize.width,f)),(o=this.maxSize)!=null&&o.height&&(h=Math.min(this.maxSize.height,h)),{width:f,height:h}}let l=e,u=t;return l<this.minSize.width&&(l=this.minSize.width,u=l/this.aspectRatio),u<this.minSize.height&&(u=this.minSize.height,l=u*this.aspectRatio),(i=this.maxSize)!=null&&i.width&&l>this.maxSize.width&&(l=this.maxSize.width,u=l/this.aspectRatio),(a=this.maxSize)!=null&&a.height&&u>this.maxSize.height&&(u=this.maxSize.height,l=u*this.aspectRatio),{width:l,height:u}}applyAspectRatio(e,t,n){const r=n==="left"||n==="right",o=n==="top"||n==="bottom";return r?{width:e,height:e/this.aspectRatio}:o?{width:t*this.aspectRatio,height:t}:{width:e,height:e/this.aspectRatio}}};function EG(e,t){const{selection:n}=e,{$from:r}=n;if(n instanceof Pe){const i=r.index();return r.parent.canReplaceWith(i,i+1,t)}let o=r.depth;for(;o>=0;){const i=r.index(o);if(r.node(o).contentMatchAt(i).matchType(t))return!0;o-=1}return!1}var jG={};OC(jG,{createAtomBlockMarkdownSpec:()=>AG,createBlockMarkdownSpec:()=>TG,createInlineMarkdownSpec:()=>PG,parseAttributes:()=>$C,parseIndentedBlocks:()=>Ow,renderNestedMarkdownContent:()=>KC,serializeAttributes:()=>GC});function $C(e){if(!(e!=null&&e.trim()))return{};const t={},n=[],r=e.replace(/["']([^"']*)["']/g,f=>(n.push(f),`__QUOTED_${n.length-1}__`)),o=r.match(/(?:^|\s)\.([a-zA-Z][\w-]*)/g);if(o){const f=o.map(h=>h.trim().slice(1));t.class=f.join(" ")}const i=r.match(/(?:^|\s)#([a-zA-Z][\w-]*)/);i&&(t.id=i[1]);const a=/([a-zA-Z][\w-]*)\s*=\s*(__QUOTED_\d+__)/g;Array.from(r.matchAll(a)).forEach(([,f,h])=>{var p;const g=parseInt(((p=h.match(/__QUOTED_(\d+)__/))==null?void 0:p[1])||"0",10),x=n[g];x&&(t[f]=x.slice(1,-1))});const u=r.replace(/(?:^|\s)\.([a-zA-Z][\w-]*)/g,"").replace(/(?:^|\s)#([a-zA-Z][\w-]*)/g,"").replace(/([a-zA-Z][\w-]*)\s*=\s*__QUOTED_\d+__/g,"").trim();return u&&u.split(/\s+/).filter(Boolean).forEach(h=>{h.match(/^[a-zA-Z][\w-]*$/)&&(t[h]=!0)}),t}function GC(e){if(!e||Object.keys(e).length===0)return"";const t=[];return e.class&&String(e.class).split(/\s+/).filter(Boolean).forEach(r=>t.push(`.${r}`)),e.id&&t.push(`#${e.id}`),Object.entries(e).forEach(([n,r])=>{n==="class"||n==="id"||(r===!0?t.push(n):r!==!1&&r!=null&&t.push(`${n}="${String(r)}"`))}),t.join(" ")}function AG(e){const{nodeName:t,name:n,parseAttributes:r=$C,serializeAttributes:o=GC,defaultAttributes:i={},requiredAttributes:a=[],allowedAttributes:l}=e,u=n||t,f=h=>{if(!l)return h;const p={};return l.forEach(g=>{g in h&&(p[g]=h[g])}),p};return{parseMarkdown:(h,p)=>{const g={...i,...h.attributes};return p.createNode(t,g,[])},markdownTokenizer:{name:t,level:"block",start(h){var p;const g=new RegExp(`^:::${u}(?:\\s|$)`,"m"),x=(p=h.match(g))==null?void 0:p.index;return x!==void 0?x:-1},tokenize(h,p,g){const x=new RegExp(`^:::${u}(?:\\s+\\{([^}]*)\\})?\\s*:::(?:\\n|$)`),y=h.match(x);if(!y)return;const N=y[1]||"",C=r(N);if(!a.find(T=>!(T in C)))return{type:t,raw:y[0],attributes:C}}},renderMarkdown:h=>{const p=f(h.attrs||{}),g=o(p),x=g?` {${g}}`:"";return`:::${u}${x} :::`}}}function TG(e){const{nodeName:t,name:n,getContent:r,parseAttributes:o=$C,serializeAttributes:i=GC,defaultAttributes:a={},content:l="block",allowedAttributes:u}=e,f=n||t,h=p=>{if(!u)return p;const g={};return u.forEach(x=>{x in p&&(g[x]=p[x])}),g};return{parseMarkdown:(p,g)=>{let x;if(r){const N=r(p);x=typeof N=="string"?[{type:"text",text:N}]:N}else l==="block"?x=g.parseChildren(p.tokens||[]):x=g.parseInline(p.tokens||[]);const y={...a,...p.attributes};return g.createNode(t,y,x)},markdownTokenizer:{name:t,level:"block",start(p){var g;const x=new RegExp(`^:::${f}`,"m"),y=(g=p.match(x))==null?void 0:g.index;return y!==void 0?y:-1},tokenize(p,g,x){var y;const N=new RegExp(`^:::${f}(?:\\s+\\{([^}]*)\\})?\\s*\\n`),C=p.match(N);if(!C)return;const[A,T=""]=C,k=o(T);let D=1;const R=A.length;let I="";const P=/^:::([\w-]*)(\s.*)?/gm,B=p.slice(R);for(P.lastIndex=0;;){const L=P.exec(B);if(L===null)break;const $=L.index,X=L[1];if(!((y=L[2])!=null&&y.endsWith(":::"))){if(X)D+=1;else if(D-=1,D===0){const q=B.slice(0,$);I=q.trim();const W=p.slice(0,R+$+L[0].length);let ie=[];if(I)if(l==="block")for(ie=x.blockTokens(q),ie.forEach(K=>{K.text&&(!K.tokens||K.tokens.length===0)&&(K.tokens=x.inlineTokens(K.text))});ie.length>0;){const K=ie[ie.length-1];if(K.type==="paragraph"&&(!K.text||K.text.trim()===""))ie.pop();else break}else ie=x.inlineTokens(I);return{type:t,raw:W,attributes:k,content:I,tokens:ie}}}}}},renderMarkdown:(p,g)=>{const x=h(p.attrs||{}),y=i(x),N=y?` {${y}}`:"",C=g.renderChildren(p.content||[],`

`);return`:::${f}${N}

${C}

:::`}}}function kG(e){if(!e.trim())return{};const t={},n=/(\w+)=(?:"([^"]*)"|'([^']*)')/g;let r=n.exec(e);for(;r!==null;){const[,o,i,a]=r;t[o]=i||a,r=n.exec(e)}return t}function MG(e){return Object.entries(e).filter(([,t])=>t!=null).map(([t,n])=>`${t}="${n}"`).join(" ")}function PG(e){const{nodeName:t,name:n,getContent:r,parseAttributes:o=kG,serializeAttributes:i=MG,defaultAttributes:a={},selfClosing:l=!1,allowedAttributes:u}=e,f=n||t,h=g=>{if(!u)return g;const x={};return u.forEach(y=>{y in g&&(x[y]=g[y])}),x},p=f.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return{parseMarkdown:(g,x)=>{const y={...a,...g.attributes};if(l)return x.createNode(t,y);const N=r?r(g):g.content||"";return N?x.createNode(t,y,[x.createTextNode(N)]):x.createNode(t,y,[])},markdownTokenizer:{name:t,level:"inline",start(g){const x=l?new RegExp(`\\[${p}\\s*[^\\]]*\\]`):new RegExp(`\\[${p}\\s*[^\\]]*\\][\\s\\S]*?\\[\\/${p}\\]`),y=g.match(x),N=y==null?void 0:y.index;return N!==void 0?N:-1},tokenize(g,x,y){const N=l?new RegExp(`^\\[${p}\\s*([^\\]]*)\\]`):new RegExp(`^\\[${p}\\s*([^\\]]*)\\]([\\s\\S]*?)\\[\\/${p}\\]`),C=g.match(N);if(!C)return;let A="",T="";if(l){const[,D]=C;T=D}else{const[,D,R]=C;T=D,A=R||""}const k=o(T.trim());return{type:t,raw:C[0],content:A.trim(),attributes:k}}},renderMarkdown:g=>{let x="";r?x=r(g):g.content&&g.content.length>0&&(x=g.content.filter(A=>A.type==="text").map(A=>A.text).join(""));const y=h(g.attrs||{}),N=i(y),C=N?` ${N}`:"";return l?`[${f}${C}]`:`[${f}${C}]${x}[/${f}]`}}}function Ow(e,t,n){var r,o,i,a;const l=e.split(`
`),u=[];let f="",h=0;const p=t.baseIndentSize||2;for(;h<l.length;){const g=l[h],x=g.match(t.itemPattern);if(!x){if(u.length>0)break;if(g.trim()===""){h+=1;continue}else return}const y=t.extractItemData(x),{indentLevel:N,mainContent:C}=y;f=`${f}${g}
`;const A=[C];for(h+=1;h<l.length;){const R=l[h];if(R.trim()===""){const P=l.slice(h+1).findIndex($=>$.trim()!=="");if(P===-1)break;if((((o=(r=l[h+1+P].match(/^(\s*)/))==null?void 0:r[1])==null?void 0:o.length)||0)>N){A.push(R),f=`${f}${R}
`,h+=1;continue}else break}if((((a=(i=R.match(/^(\s*)/))==null?void 0:i[1])==null?void 0:a.length)||0)>N)A.push(R),f=`${f}${R}
`,h+=1;else break}let T;const k=A.slice(1);if(k.length>0){const R=k.map(I=>I.slice(N+p)).join(`
`);R.trim()&&(t.customNestedParser?T=t.customNestedParser(R):T=n.blockTokens(R))}const D=t.createToken(y,T);u.push(D)}if(u.length!==0)return{items:u,raw:f.trim()}}function KC(e,t,n,r){if(!e||!Array.isArray(e.content))return"";const o=typeof n=="function"?n(r):n,[i,...a]=e.content,l=t.renderChildren([i]),u=[`${o}${l}`];return a&&a.length>0&&a.forEach(f=>{const h=t.renderChildren([f]);if(h){const p=h.split(`
`).map(g=>g?t.indent(g):"").join(`
`);u.push(p)}}),u.join(`
`)}function RG(e,t,n={}){const{state:r}=t,{doc:o,tr:i}=r,a=e;o.descendants((l,u)=>{const f=i.mapping.map(u),h=i.mapping.map(u)+l.nodeSize;let p=null;if(l.marks.forEach(x=>{if(x!==a)return!1;p=x}),!p)return;let g=!1;if(Object.keys(n).forEach(x=>{n[x]!==p.attrs[x]&&(g=!0)}),g){const x=e.type.create({...e.attrs,...n});i.removeMark(f,h,e.type),i.addMark(f,h,x)}}),i.docChanged&&t.view.dispatch(i)}var Tr=class X_ extends VC{constructor(){super(...arguments),this.type="node"}static create(t={}){const n=typeof t=="function"?t():t;return new X_(n)}configure(t){return super.configure(t)}extend(t){const n=typeof t=="function"?t():t;return super.extend(n)}};function Cs(e){return new hG({find:e.find,handler:({state:t,range:n,match:r,pasteEvent:o})=>{const i=ht(e.getAttributes,void 0,r,o);if(i===!1||i===null)return null;const{tr:a}=t,l=r[r.length-1],u=r[0];let f=n.to;if(l){const h=u.search(/\S/),p=n.from+u.indexOf(l),g=p+l.length;if(HC(n.from,n.to,t.doc).filter(y=>y.mark.type.excluded.find(C=>C===e.type&&C!==y.mark.type)).filter(y=>y.to>p).length)return null;g<n.to&&a.delete(g,n.to),p>n.from&&a.delete(n.from+h,p),f=n.from+h+l.length,a.addMark(n.from+h,f,e.type.create(i||{})),a.removeStoredMark(e.type)}}})}var yy,v5;function IG(){return v5||(v5=1,yy=function e(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;var r,o,i;if(Array.isArray(t)){if(r=t.length,r!=n.length)return!1;for(o=r;o--!==0;)if(!e(t[o],n[o]))return!1;return!0}if(t instanceof Map&&n instanceof Map){if(t.size!==n.size)return!1;for(o of t.entries())if(!n.has(o[0]))return!1;for(o of t.entries())if(!e(o[1],n.get(o[0])))return!1;return!0}if(t instanceof Set&&n instanceof Set){if(t.size!==n.size)return!1;for(o of t.entries())if(!n.has(o[0]))return!1;return!0}if(ArrayBuffer.isView(t)&&ArrayBuffer.isView(n)){if(r=t.length,r!=n.length)return!1;for(o=r;o--!==0;)if(t[o]!==n[o])return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if(i=Object.keys(t),r=i.length,r!==Object.keys(n).length)return!1;for(o=r;o--!==0;)if(!Object.prototype.hasOwnProperty.call(n,i[o]))return!1;for(o=r;o--!==0;){var a=i[o];if(!(a==="_owner"&&t.$$typeof)&&!e(t[a],n[a]))return!1}return!0}return t!==t&&n!==n}),yy}var DG=IG();const _G=No(DG);var wy={exports:{}},Cy={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y5;function OG(){if(y5)return Cy;y5=1;var e=gu(),t=GI();function n(f,h){return f===h&&(f!==0||1/f===1/h)||f!==f&&h!==h}var r=typeof Object.is=="function"?Object.is:n,o=t.useSyncExternalStore,i=e.useRef,a=e.useEffect,l=e.useMemo,u=e.useDebugValue;return Cy.useSyncExternalStoreWithSelector=function(f,h,p,g,x){var y=i(null);if(y.current===null){var N={hasValue:!1,value:null};y.current=N}else N=y.current;y=l(function(){function A(I){if(!T){if(T=!0,k=I,I=g(I),x!==void 0&&N.hasValue){var P=N.value;if(x(P,I))return D=P}return D=I}if(P=D,r(k,I))return P;var B=g(I);return x!==void 0&&x(P,B)?(k=I,P):(k=I,D=B)}var T=!1,k,D,R=p===void 0?null:p;return[function(){return A(h())},R===null?void 0:function(){return A(R())}]},[h,p,g,x]);var C=o(f,y[0],y[1]);return a(function(){N.hasValue=!0,N.value=C},[C]),u(C),C},Cy}var w5;function LG(){return w5||(w5=1,wy.exports=OG()),wy.exports}var Q_=LG(),BG=(...e)=>t=>{e.forEach(n=>{typeof n=="function"?n(t):n&&(n.current=t)})},UG=({contentComponent:e})=>{const t=KI.useSyncExternalStore(e.subscribe,e.getSnapshot,e.getServerSnapshot);return s.jsx(s.Fragment,{children:Object.values(t)})};function zG(){const e=new Set;let t={};return{subscribe(n){return e.add(n),()=>{e.delete(n)}},getSnapshot(){return t},getServerSnapshot(){return t},setRenderer(n,r){t={...t,[n]:PF.createPortal(r.reactElement,r.element,n)},e.forEach(o=>o())},removeRenderer(n){const r={...t};delete r[n],t=r,e.forEach(o=>o())}}}var FG=class extends bo.Component{constructor(e){var t;super(e),this.editorContentRef=bo.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!((t=e.editor)!=null&&t.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const e=this.props.editor;if(e&&!e.isDestroyed&&e.options.element){if(e.contentComponent)return;const t=this.editorContentRef.current;t.append(e.view.dom),e.setOptions({element:t}),e.contentComponent=zG(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=e.contentComponent.subscribe(()=>{this.setState(n=>n.hasContentComponentInitialized?n:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),e.createNodeViews(),this.initialized=!0}}componentWillUnmount(){var e;const t=this.props.editor;if(t){this.initialized=!1,t.isDestroyed||t.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),t.contentComponent=null;try{if(!((e=t.view.dom)!=null&&e.firstChild))return;const n=document.createElement("div");n.append(t.view.dom),t.setOptions({element:n})}catch{}}}render(){const{editor:e,innerRef:t,...n}=this.props;return s.jsxs(s.Fragment,{children:[s.jsx("div",{ref:BG(t,this.editorContentRef),...n}),(e==null?void 0:e.contentComponent)&&s.jsx(UG,{contentComponent:e.contentComponent})]})}},qG=E.forwardRef((e,t)=>{const n=bo.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[e.editor]);return bo.createElement(FG,{key:n,innerRef:t,...e})}),HG=bo.memo(qG),VG=typeof window<"u"?E.useLayoutEffect:E.useEffect,$G=class{constructor(e){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=e,this.lastSnapshot={editor:e,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(e){return this.subscribers.add(e),()=>{this.subscribers.delete(e)}}watch(e){if(this.editor=e,this.editor){const t=()=>{this.transactionNumber+=1,this.subscribers.forEach(r=>r())},n=this.editor;return n.on("transaction",t),()=>{n.off("transaction",t)}}}};function GG(e){var t;const[n]=E.useState(()=>new $G(e.editor)),r=Q_.useSyncExternalStoreWithSelector(n.subscribe,n.getSnapshot,n.getServerSnapshot,e.selector,(t=e.equalityFn)!=null?t:_G);return VG(()=>n.watch(e.editor),[e.editor,n]),E.useDebugValue(r),r}var KG=!1,Lw=typeof window>"u",WG=Lw||!!(typeof window<"u"&&window.next),JG=class Z_{constructor(t){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=t,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(t){this.editor=t,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(n=>n())}getInitialEditor(){return this.options.current.immediatelyRender===void 0?Lw||WG?null:this.createEditor():(this.options.current.immediatelyRender,this.options.current.immediatelyRender?this.createEditor():null)}createEditor(){const t={...this.options.current,onBeforeCreate:(...r)=>{var o,i;return(i=(o=this.options.current).onBeforeCreate)==null?void 0:i.call(o,...r)},onBlur:(...r)=>{var o,i;return(i=(o=this.options.current).onBlur)==null?void 0:i.call(o,...r)},onCreate:(...r)=>{var o,i;return(i=(o=this.options.current).onCreate)==null?void 0:i.call(o,...r)},onDestroy:(...r)=>{var o,i;return(i=(o=this.options.current).onDestroy)==null?void 0:i.call(o,...r)},onFocus:(...r)=>{var o,i;return(i=(o=this.options.current).onFocus)==null?void 0:i.call(o,...r)},onSelectionUpdate:(...r)=>{var o,i;return(i=(o=this.options.current).onSelectionUpdate)==null?void 0:i.call(o,...r)},onTransaction:(...r)=>{var o,i;return(i=(o=this.options.current).onTransaction)==null?void 0:i.call(o,...r)},onUpdate:(...r)=>{var o,i;return(i=(o=this.options.current).onUpdate)==null?void 0:i.call(o,...r)},onContentError:(...r)=>{var o,i;return(i=(o=this.options.current).onContentError)==null?void 0:i.call(o,...r)},onDrop:(...r)=>{var o,i;return(i=(o=this.options.current).onDrop)==null?void 0:i.call(o,...r)},onPaste:(...r)=>{var o,i;return(i=(o=this.options.current).onPaste)==null?void 0:i.call(o,...r)},onDelete:(...r)=>{var o,i;return(i=(o=this.options.current).onDelete)==null?void 0:i.call(o,...r)}};return new CG(t)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(t){return this.subscriptions.add(t),()=>{this.subscriptions.delete(t)}}static compareOptions(t,n){return Object.keys(t).every(r=>["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(r)?!0:r==="extensions"&&t.extensions&&n.extensions?t.extensions.length!==n.extensions.length?!1:t.extensions.every((o,i)=>{var a;return o===((a=n.extensions)==null?void 0:a[i])}):t[r]===n[r])}onRender(t){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&t.length===0?Z_.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(t),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(t){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=t;return}if(this.previousDeps.length===t.length&&this.previousDeps.every((r,o)=>r===t[o]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=t}scheduleDestroy(){const t=this.instanceId,n=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===t){n&&n.setOptions(this.options.current);return}n&&!n.isDestroyed&&(n.destroy(),this.instanceId===t&&this.setEditor(null))},1)}};function YG(e={},t=[]){const n=E.useRef(e);n.current=e;const[r]=E.useState(()=>new JG(n)),o=KI.useSyncExternalStore(r.subscribe,r.getEditor,r.getServerSnapshot);return E.useDebugValue(o),E.useEffect(r.onRender(t)),GG({editor:o,selector:({transactionNumber:i})=>e.shouldRerenderOnTransaction===!1||e.shouldRerenderOnTransaction===void 0?null:e.immediatelyRender&&i===0?0:i+1}),o}var XG=E.createContext({editor:null});XG.Consumer;var QG=E.createContext({onDragStart:()=>{},nodeViewContentChildren:void 0,nodeViewContentRef:()=>{}}),ZG=()=>E.useContext(QG);bo.forwardRef((e,t)=>{const{onDragStart:n}=ZG(),r=e.as||"div";return s.jsx(r,{...e,ref:t,"data-node-view-wrapper":"",onDragStart:n,style:{whiteSpace:"normal",...e.style}})});bo.createContext({markViewContentRef:()=>{}});var Ym=(e,t)=>{if(e==="slot")return 0;if(e instanceof Function)return e(t);const{children:n,...r}=t??{};if(e==="svg")throw new Error("SVG elements are not supported in the JSX syntax, use the array syntax instead");return[e,r,n]},eK=/^\s*>\s$/,tK=Tr.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:e}){return Ym("blockquote",{...zt(this.options.HTMLAttributes,e),children:Ym("slot",{})})},parseMarkdown:(e,t)=>t.createNode("blockquote",void 0,t.parseChildren(e.tokens||[])),renderMarkdown:(e,t)=>{if(!e.content)return"";const n=[];return e.content.forEach(o=>{const a=t.renderChildren(o).split(`
`).map(l=>`> ${l}`).join(`
`);n.push(a)}),n.flatMap(o=>[o,"> "]).slice(0,-1).join(`
`)},addCommands(){return{setBlockquote:()=>({commands:e})=>e.wrapIn(this.name),toggleBlockquote:()=>({commands:e})=>e.toggleWrap(this.name),unsetBlockquote:()=>({commands:e})=>e.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[ru({find:eK,type:this.type})]}}),nK=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,rK=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,oK=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,iK=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,aK=la.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:e=>e.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:e=>e.type.name===this.name},{style:"font-weight",getAttrs:e=>/^(bold(er)?|[5-9]\d{2,})$/.test(e)&&null}]},renderHTML({HTMLAttributes:e}){return Ym("strong",{...zt(this.options.HTMLAttributes,e),children:Ym("slot",{})})},markdownTokenName:"strong",parseMarkdown:(e,t)=>t.applyMark("bold",t.parseInline(e.tokens||[])),renderMarkdown:(e,t)=>`**${t.renderChildren(e)}**`,addCommands(){return{setBold:()=>({commands:e})=>e.setMark(this.name),toggleBold:()=>({commands:e})=>e.toggleMark(this.name),unsetBold:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[Tl({find:nK,type:this.type}),Tl({find:oK,type:this.type})]},addPasteRules(){return[Cs({find:rK,type:this.type}),Cs({find:iK,type:this.type})]}}),sK=/(^|[^`])`([^`]+)`(?!`)$/,lK=/(^|[^`])`([^`]+)`(?!`)/g,cK=la.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:e}){return["code",zt(this.options.HTMLAttributes,e),0]},markdownTokenName:"codespan",parseMarkdown:(e,t)=>t.applyMark("code",[{type:"text",text:e.text||""}]),renderMarkdown:(e,t)=>e.content?`\`${t.renderChildren(e.content)}\``:"",addCommands(){return{setCode:()=>({commands:e})=>e.setMark(this.name),toggleCode:()=>({commands:e})=>e.toggleMark(this.name),unsetCode:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[Tl({find:sK,type:this.type})]},addPasteRules(){return[Cs({find:lK,type:this.type})]}}),Ny=4,uK=/^```([a-z]+)?[\s\n]$/,dK=/^~~~([a-z]+)?[\s\n]$/,fK=Tr.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,enableTabIndentation:!1,tabSize:Ny,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:e=>{var t;const{languageClassPrefix:n}=this.options;if(!n)return null;const i=[...((t=e.firstElementChild)==null?void 0:t.classList)||[]].filter(a=>a.startsWith(n)).map(a=>a.replace(n,""))[0];return i||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:e,HTMLAttributes:t}){return["pre",zt(this.options.HTMLAttributes,t),["code",{class:e.attrs.language?this.options.languageClassPrefix+e.attrs.language:null},0]]},markdownTokenName:"code",parseMarkdown:(e,t)=>{var n;return((n=e.raw)==null?void 0:n.startsWith("```"))===!1&&e.codeBlockStyle!=="indented"?[]:t.createNode("codeBlock",{language:e.lang||null},e.text?[t.createTextNode(e.text)]:[])},renderMarkdown:(e,t)=>{var n;let r="";const o=((n=e.attrs)==null?void 0:n.language)||"";return e.content?r=[`\`\`\`${o}`,t.renderChildren(e.content),"```"].join(`
`):r=`\`\`\`${o}

\`\`\``,r},addCommands(){return{setCodeBlock:e=>({commands:t})=>t.setNode(this.name,e),toggleCodeBlock:e=>({commands:t})=>t.toggleNode(this.name,"paragraph",e)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:e,$anchor:t}=this.editor.state.selection,n=t.pos===1;return!e||t.parent.type.name!==this.name?!1:n||!t.parent.textContent.length?this.editor.commands.clearNodes():!1},Tab:({editor:e})=>{var t;if(!this.options.enableTabIndentation)return!1;const n=(t=this.options.tabSize)!=null?t:Ny,{state:r}=e,{selection:o}=r,{$from:i,empty:a}=o;if(i.parent.type!==this.type)return!1;const l=" ".repeat(n);return a?e.commands.insertContent(l):e.commands.command(({tr:u})=>{const{from:f,to:h}=o,x=r.doc.textBetween(f,h,`
`,`
`).split(`
`).map(y=>l+y).join(`
`);return u.replaceWith(f,h,r.schema.text(x)),!0})},"Shift-Tab":({editor:e})=>{var t;if(!this.options.enableTabIndentation)return!1;const n=(t=this.options.tabSize)!=null?t:Ny,{state:r}=e,{selection:o}=r,{$from:i,empty:a}=o;return i.parent.type!==this.type?!1:a?e.commands.command(({tr:l})=>{var u;const{pos:f}=i,h=i.start(),p=i.end(),x=r.doc.textBetween(h,p,`
`,`
`).split(`
`);let y=0,N=0;const C=f-h;for(let I=0;I<x.length;I+=1){if(N+x[I].length>=C){y=I;break}N+=x[I].length+1}const T=((u=x[y].match(/^ */))==null?void 0:u[0])||"",k=Math.min(T.length,n);if(k===0)return!0;let D=h;for(let I=0;I<y;I+=1)D+=x[I].length+1;return l.delete(D,D+k),f-D<=k&&l.setSelection(Ue.create(l.doc,D)),!0}):e.commands.command(({tr:l})=>{const{from:u,to:f}=o,g=r.doc.textBetween(u,f,`
`,`
`).split(`
`).map(x=>{var y;const N=((y=x.match(/^ */))==null?void 0:y[0])||"",C=Math.min(N.length,n);return x.slice(C)}).join(`
`);return l.replaceWith(u,f,r.schema.text(g)),!0})},Enter:({editor:e})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:t}=e,{selection:n}=t,{$from:r,empty:o}=n;if(!o||r.parent.type!==this.type)return!1;const i=r.parentOffset===r.parent.nodeSize-2,a=r.parent.textContent.endsWith(`

`);return!i||!a?!1:e.chain().command(({tr:l})=>(l.delete(r.pos-2,r.pos),!0)).exitCode().run()},ArrowDown:({editor:e})=>{if(!this.options.exitOnArrowDown)return!1;const{state:t}=e,{selection:n,doc:r}=t,{$from:o,empty:i}=n;if(!i||o.parent.type!==this.type||!(o.parentOffset===o.parent.nodeSize-2))return!1;const l=o.after();return l===void 0?!1:r.nodeAt(l)?e.commands.command(({tr:f})=>(f.setSelection($e.near(r.resolve(l))),!0)):e.commands.exitCode()}}},addInputRules(){return[_w({find:uK,type:this.type,getAttributes:e=>({language:e[1]})}),_w({find:dK,type:this.type,getAttributes:e=>({language:e[1]})})]},addProseMirrorPlugins(){return[new Kt({key:new kn("codeBlockVSCodeHandler"),props:{handlePaste:(e,t)=>{if(!t.clipboardData||this.editor.isActive(this.type.name))return!1;const n=t.clipboardData.getData("text/plain"),r=t.clipboardData.getData("vscode-editor-data"),o=r?JSON.parse(r):void 0,i=o==null?void 0:o.mode;if(!n||!i)return!1;const{tr:a,schema:l}=e.state,u=l.text(n.replace(/\r\n?/g,`
`));return a.replaceSelectionWith(this.type.create({language:i},u)),a.selection.$from.parent.type!==this.type&&a.setSelection(Ue.near(a.doc.resolve(Math.max(0,a.selection.from-2)))),a.setMeta("paste",!0),e.dispatch(a),!0}}})]}}),hK=Tr.create({name:"doc",topNode:!0,content:"block+",renderMarkdown:(e,t)=>e.content?t.renderChildren(e.content,`

`):""}),pK=Tr.create({name:"hardBreak",markdownTokenName:"br",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:e}){return["br",zt(this.options.HTMLAttributes,e)]},renderText(){return`
`},renderMarkdown:()=>`  
`,parseMarkdown:()=>({type:"hardBreak"}),addCommands(){return{setHardBreak:()=>({commands:e,chain:t,state:n,editor:r})=>e.first([()=>e.exitCode(),()=>e.command(()=>{const{selection:o,storedMarks:i}=n;if(o.$from.parent.type.spec.isolating)return!1;const{keepMarks:a}=this.options,{splittableMarks:l}=r.extensionManager,u=i||o.$to.parentOffset&&o.$from.marks();return t().insertContent({type:this.name}).command(({tr:f,dispatch:h})=>{if(h&&u&&a){const p=u.filter(g=>l.includes(g.type.name));f.ensureMarks(p)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),mK=Tr.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(e=>({tag:`h${e}`,attrs:{level:e}}))},renderHTML({node:e,HTMLAttributes:t}){return[`h${this.options.levels.includes(e.attrs.level)?e.attrs.level:this.options.levels[0]}`,zt(this.options.HTMLAttributes,t),0]},parseMarkdown:(e,t)=>t.createNode("heading",{level:e.depth||1},t.parseInline(e.tokens||[])),renderMarkdown:(e,t)=>{var n;const r=(n=e.attrs)!=null&&n.level?parseInt(e.attrs.level,10):1,o="#".repeat(r);return e.content?`${o} ${t.renderChildren(e.content)}`:""},addCommands(){return{setHeading:e=>({commands:t})=>this.options.levels.includes(e.level)?t.setNode(this.name,e):!1,toggleHeading:e=>({commands:t})=>this.options.levels.includes(e.level)?t.toggleNode(this.name,"paragraph",e):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((e,t)=>({...e,[`Mod-Alt-${t}`]:()=>this.editor.commands.toggleHeading({level:t})}),{})},addInputRules(){return this.options.levels.map(e=>_w({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${e}})\\s$`),type:this.type,getAttributes:{level:e}}))}}),gK=Tr.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{},nextNodeType:"paragraph"}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:e}){return["hr",zt(this.options.HTMLAttributes,e)]},markdownTokenName:"hr",parseMarkdown:(e,t)=>t.createNode("horizontalRule"),renderMarkdown:()=>"---",addCommands(){return{setHorizontalRule:()=>({chain:e,state:t})=>{if(!EG(t,t.schema.nodes[this.name]))return!1;const{selection:n}=t,{$to:r}=n,o=e();return O_(n)?o.insertContentAt(r.pos,{type:this.name}):o.insertContent({type:this.name}),o.command(({state:i,tr:a,dispatch:l})=>{if(l){const{$to:u}=a.selection,f=u.end();if(u.nodeAfter)u.nodeAfter.isTextblock?a.setSelection(Ue.create(a.doc,u.pos+1)):u.nodeAfter.isBlock?a.setSelection(Pe.create(a.doc,u.pos)):a.setSelection(Ue.create(a.doc,u.pos));else{const h=i.schema.nodes[this.options.nextNodeType]||u.parent.type.contentMatch.defaultType,p=h==null?void 0:h.create();p&&(a.insert(f,p),a.setSelection(Ue.create(a.doc,f+1)))}a.scrollIntoView()}return!0}).run()}}},addInputRules(){return[Y_({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),xK=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,bK=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,vK=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,yK=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,wK=la.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:e=>e.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:e=>e.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:e}){return["em",zt(this.options.HTMLAttributes,e),0]},addCommands(){return{setItalic:()=>({commands:e})=>e.setMark(this.name),toggleItalic:()=>({commands:e})=>e.toggleMark(this.name),unsetItalic:()=>({commands:e})=>e.unsetMark(this.name)}},markdownTokenName:"em",parseMarkdown:(e,t)=>t.applyMark("italic",t.parseInline(e.tokens||[])),renderMarkdown:(e,t)=>`*${t.renderChildren(e)}*`,addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[Tl({find:xK,type:this.type}),Tl({find:vK,type:this.type})]},addPasteRules(){return[Cs({find:bK,type:this.type}),Cs({find:yK,type:this.type})]}});const CK="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0axi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mgensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",NK="121342632165322333335355455655552435435422463632574574330355524444661154543332344423364211133222221212112052232222232212222223222241112222224322321222",Bw="numeric",Uw="ascii",zw="alpha",lf="asciinumeric",Zd="alphanumeric",Fw="domain",eO="emoji",SK="scheme",EK="slashscheme",Sy="whitespace";function jK(e,t){return e in t||(t[e]=[]),t[e]}function ll(e,t,n){t[Bw]&&(t[lf]=!0,t[Zd]=!0),t[Uw]&&(t[lf]=!0,t[zw]=!0),t[lf]&&(t[Zd]=!0),t[zw]&&(t[Zd]=!0),t[Zd]&&(t[Fw]=!0),t[eO]&&(t[Fw]=!0);for(const r in t){const o=jK(r,n);o.indexOf(e)<0&&o.push(e)}}function AK(e,t){const n={};for(const r in t)t[r].indexOf(e)>=0&&(n[r]=!0);return n}function wr(e=null){this.j={},this.jr=[],this.jd=null,this.t=e}wr.groups={};wr.prototype={accepts(){return!!this.t},go(e){const t=this,n=t.j[e];if(n)return n;for(let r=0;r<t.jr.length;r++){const o=t.jr[r][0],i=t.jr[r][1];if(i&&o.test(e))return i}return t.jd},has(e,t=!1){return t?e in this.j:!!this.go(e)},ta(e,t,n,r){for(let o=0;o<e.length;o++)this.tt(e[o],t,n,r)},tr(e,t,n,r){r=r||wr.groups;let o;return t&&t.j?o=t:(o=new wr(t),n&&r&&ll(t,n,r)),this.jr.push([e,o]),o},ts(e,t,n,r){let o=this;const i=e.length;if(!i)return o;for(let a=0;a<i-1;a++)o=o.tt(e[a]);return o.tt(e[i-1],t,n,r)},tt(e,t,n,r){r=r||wr.groups;const o=this;if(t&&t.j)return o.j[e]=t,t;const i=t;let a,l=o.go(e);if(l?(a=new wr,Object.assign(a.j,l.j),a.jr.push.apply(a.jr,l.jr),a.jd=l.jd,a.t=l.t):a=new wr,i){if(r)if(a.t&&typeof a.t=="string"){const u=Object.assign(AK(a.t,r),n);ll(i,u,r)}else n&&ll(i,n,r);a.t=i}return o.j[e]=a,a}};const Ve=(e,t,n,r,o)=>e.ta(t,n,r,o),$t=(e,t,n,r,o)=>e.tr(t,n,r,o),C5=(e,t,n,r,o)=>e.ts(t,n,r,o),me=(e,t,n,r,o)=>e.tt(t,n,r,o),zi="WORD",qw="UWORD",tO="ASCIINUMERICAL",nO="ALPHANUMERICAL",Mf="LOCALHOST",Hw="TLD",Vw="UTLD",Sm="SCHEME",Bc="SLASH_SCHEME",WC="NUM",$w="WS",JC="NL",cf="OPENBRACE",uf="CLOSEBRACE",Xm="OPENBRACKET",Qm="CLOSEBRACKET",Zm="OPENPAREN",eg="CLOSEPAREN",tg="OPENANGLEBRACKET",ng="CLOSEANGLEBRACKET",rg="FULLWIDTHLEFTPAREN",og="FULLWIDTHRIGHTPAREN",ig="LEFTCORNERBRACKET",ag="RIGHTCORNERBRACKET",sg="LEFTWHITECORNERBRACKET",lg="RIGHTWHITECORNERBRACKET",cg="FULLWIDTHLESSTHAN",ug="FULLWIDTHGREATERTHAN",dg="AMPERSAND",fg="APOSTROPHE",hg="ASTERISK",ns="AT",pg="BACKSLASH",mg="BACKTICK",gg="CARET",ls="COLON",YC="COMMA",xg="DOLLAR",ni="DOT",bg="EQUALS",XC="EXCLAMATION",co="HYPHEN",df="PERCENT",vg="PIPE",yg="PLUS",wg="POUND",ff="QUERY",QC="QUOTE",rO="FULLWIDTHMIDDLEDOT",ZC="SEMI",ri="SLASH",hf="TILDE",Cg="UNDERSCORE",oO="EMOJI",Ng="SYM";var iO=Object.freeze({__proto__:null,ALPHANUMERICAL:nO,AMPERSAND:dg,APOSTROPHE:fg,ASCIINUMERICAL:tO,ASTERISK:hg,AT:ns,BACKSLASH:pg,BACKTICK:mg,CARET:gg,CLOSEANGLEBRACKET:ng,CLOSEBRACE:uf,CLOSEBRACKET:Qm,CLOSEPAREN:eg,COLON:ls,COMMA:YC,DOLLAR:xg,DOT:ni,EMOJI:oO,EQUALS:bg,EXCLAMATION:XC,FULLWIDTHGREATERTHAN:ug,FULLWIDTHLEFTPAREN:rg,FULLWIDTHLESSTHAN:cg,FULLWIDTHMIDDLEDOT:rO,FULLWIDTHRIGHTPAREN:og,HYPHEN:co,LEFTCORNERBRACKET:ig,LEFTWHITECORNERBRACKET:sg,LOCALHOST:Mf,NL:JC,NUM:WC,OPENANGLEBRACKET:tg,OPENBRACE:cf,OPENBRACKET:Xm,OPENPAREN:Zm,PERCENT:df,PIPE:vg,PLUS:yg,POUND:wg,QUERY:ff,QUOTE:QC,RIGHTCORNERBRACKET:ag,RIGHTWHITECORNERBRACKET:lg,SCHEME:Sm,SEMI:ZC,SLASH:ri,SLASH_SCHEME:Bc,SYM:Ng,TILDE:hf,TLD:Hw,UNDERSCORE:Cg,UTLD:Vw,UWORD:qw,WORD:zi,WS:$w});const Li=/[a-z]/,_d=new RegExp("\\p{L}","u"),Ey=new RegExp("\\p{Emoji}","u"),Bi=/\d/,jy=/\s/,N5="\r",Ay=`
`,TK="",kK="",Ty="";let Gp=null,Kp=null;function MK(e=[]){const t={};wr.groups=t;const n=new wr;Gp==null&&(Gp=S5(CK)),Kp==null&&(Kp=S5(NK)),me(n,"'",fg),me(n,"{",cf),me(n,"}",uf),me(n,"[",Xm),me(n,"]",Qm),me(n,"(",Zm),me(n,")",eg),me(n,"<",tg),me(n,">",ng),me(n,"",rg),me(n,"",og),me(n,"",ig),me(n,"",ag),me(n,"",sg),me(n,"",lg),me(n,"",cg),me(n,"",ug),me(n,"&",dg),me(n,"*",hg),me(n,"@",ns),me(n,"`",mg),me(n,"^",gg),me(n,":",ls),me(n,",",YC),me(n,"$",xg),me(n,".",ni),me(n,"=",bg),me(n,"!",XC),me(n,"-",co),me(n,"%",df),me(n,"|",vg),me(n,"+",yg),me(n,"#",wg),me(n,"?",ff),me(n,'"',QC),me(n,"/",ri),me(n,";",ZC),me(n,"~",hf),me(n,"_",Cg),me(n,"\\",pg),me(n,"",rO);const r=$t(n,Bi,WC,{[Bw]:!0});$t(r,Bi,r);const o=$t(r,Li,tO,{[lf]:!0}),i=$t(r,_d,nO,{[Zd]:!0}),a=$t(n,Li,zi,{[Uw]:!0});$t(a,Bi,o),$t(a,Li,a),$t(o,Bi,o),$t(o,Li,o);const l=$t(n,_d,qw,{[zw]:!0});$t(l,Li),$t(l,Bi,i),$t(l,_d,l),$t(i,Bi,i),$t(i,Li),$t(i,_d,i);const u=me(n,Ay,JC,{[Sy]:!0}),f=me(n,N5,$w,{[Sy]:!0}),h=$t(n,jy,$w,{[Sy]:!0});me(n,Ty,h),me(f,Ay,u),me(f,Ty,h),$t(f,jy,h),me(h,N5),me(h,Ay),$t(h,jy,h),me(h,Ty,h);const p=$t(n,Ey,oO,{[eO]:!0});me(p,"#"),$t(p,Ey,p),me(p,TK,p);const g=me(p,kK);me(g,"#"),$t(g,Ey,p);const x=[[Li,a],[Bi,o]],y=[[Li,null],[_d,l],[Bi,i]];for(let N=0;N<Gp.length;N++)Qa(n,Gp[N],Hw,zi,x);for(let N=0;N<Kp.length;N++)Qa(n,Kp[N],Vw,qw,y);ll(Hw,{tld:!0,ascii:!0},t),ll(Vw,{utld:!0,alpha:!0},t),Qa(n,"file",Sm,zi,x),Qa(n,"mailto",Sm,zi,x),Qa(n,"http",Bc,zi,x),Qa(n,"https",Bc,zi,x),Qa(n,"ftp",Bc,zi,x),Qa(n,"ftps",Bc,zi,x),ll(Sm,{scheme:!0,ascii:!0},t),ll(Bc,{slashscheme:!0,ascii:!0},t),e=e.sort((N,C)=>N[0]>C[0]?1:-1);for(let N=0;N<e.length;N++){const C=e[N][0],T=e[N][1]?{[SK]:!0}:{[EK]:!0};C.indexOf("-")>=0?T[Fw]=!0:Li.test(C)?Bi.test(C)?T[lf]=!0:T[Uw]=!0:T[Bw]=!0,C5(n,C,C,T)}return C5(n,"localhost",Mf,{ascii:!0}),n.jd=new wr(Ng),{start:n,tokens:Object.assign({groups:t},iO)}}function aO(e,t){const n=PK(t.replace(/[A-Z]/g,l=>l.toLowerCase())),r=n.length,o=[];let i=0,a=0;for(;a<r;){let l=e,u=null,f=0,h=null,p=-1,g=-1;for(;a<r&&(u=l.go(n[a]));)l=u,l.accepts()?(p=0,g=0,h=l):p>=0&&(p+=n[a].length,g++),f+=n[a].length,i+=n[a].length,a++;i-=p,a-=g,f-=p,o.push({t:h.t,v:t.slice(i-f,i),s:i-f,e:i})}return o}function PK(e){const t=[],n=e.length;let r=0;for(;r<n;){let o=e.charCodeAt(r),i,a=o<55296||o>56319||r+1===n||(i=e.charCodeAt(r+1))<56320||i>57343?e[r]:e.slice(r,r+2);t.push(a),r+=a.length}return t}function Qa(e,t,n,r,o){let i;const a=t.length;for(let l=0;l<a-1;l++){const u=t[l];e.j[u]?i=e.j[u]:(i=new wr(r),i.jr=o.slice(),e.j[u]=i),e=i}return i=new wr(n),i.jr=o.slice(),e.j[t[a-1]]=i,i}function S5(e){const t=[],n=[];let r=0,o="0123456789";for(;r<e.length;){let i=0;for(;o.indexOf(e[r+i])>=0;)i++;if(i>0){t.push(n.join(""));for(let a=parseInt(e.substring(r,r+i),10);a>0;a--)n.pop();r+=i}else n.push(e[r]),r++}return t}const Pf={defaultProtocol:"http",events:null,format:E5,formatHref:E5,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function eN(e,t=null){let n=Object.assign({},Pf);e&&(n=Object.assign(n,e instanceof eN?e.o:e));const r=n.ignoreTags,o=[];for(let i=0;i<r.length;i++)o.push(r[i].toUpperCase());this.o=n,t&&(this.defaultRender=t),this.ignoreTags=o}eN.prototype={o:Pf,ignoreTags:[],defaultRender(e){return e},check(e){return this.get("validate",e.toString(),e)},get(e,t,n){const r=t!=null;let o=this.o[e];return o&&(typeof o=="object"?(o=n.t in o?o[n.t]:Pf[e],typeof o=="function"&&r&&(o=o(t,n))):typeof o=="function"&&r&&(o=o(t,n.t,n)),o)},getObj(e,t,n){let r=this.o[e];return typeof r=="function"&&t!=null&&(r=r(t,n.t,n)),r},render(e){const t=e.render(this);return(this.get("render",null,e)||this.defaultRender)(t,e.t,e)}};function E5(e){return e}function sO(e,t){this.t="token",this.v=e,this.tk=t}sO.prototype={isLink:!1,toString(){return this.v},toHref(e){return this.toString()},toFormattedString(e){const t=this.toString(),n=e.get("truncate",t,this),r=e.get("format",t,this);return n&&r.length>n?r.substring(0,n)+"":r},toFormattedHref(e){return e.get("formatHref",this.toHref(e.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(e=Pf.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(e),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(e){return{type:this.t,value:this.toFormattedString(e),isLink:this.isLink,href:this.toFormattedHref(e),start:this.startIndex(),end:this.endIndex()}},validate(e){return e.get("validate",this.toString(),this)},render(e){const t=this,n=this.toHref(e.get("defaultProtocol")),r=e.get("formatHref",n,this),o=e.get("tagName",n,t),i=this.toFormattedString(e),a={},l=e.get("className",n,t),u=e.get("target",n,t),f=e.get("rel",n,t),h=e.getObj("attributes",n,t),p=e.getObj("events",n,t);return a.href=r,l&&(a.class=l),u&&(a.target=u),f&&(a.rel=f),h&&Object.assign(a,h),{tagName:o,attributes:a,content:i,eventListeners:p}}};function Bx(e,t){class n extends sO{constructor(o,i){super(o,i),this.t=e}}for(const r in t)n.prototype[r]=t[r];return n.t=e,n}const j5=Bx("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),A5=Bx("text"),RK=Bx("nl"),Wp=Bx("url",{isLink:!0,toHref(e=Pf.defaultProtocol){return this.hasProtocol()?this.v:`${e}://${this.v}`},hasProtocol(){const e=this.tk;return e.length>=2&&e[0].t!==Mf&&e[1].t===ls}}),oo=e=>new wr(e);function IK({groups:e}){const t=e.domain.concat([dg,hg,ns,pg,mg,gg,xg,bg,co,WC,df,vg,yg,wg,ri,Ng,hf,Cg]),n=[fg,ls,YC,ni,XC,df,ff,QC,ZC,tg,ng,cf,uf,Qm,Xm,Zm,eg,rg,og,ig,ag,sg,lg,cg,ug],r=[dg,fg,hg,pg,mg,gg,xg,bg,co,cf,uf,df,vg,yg,wg,ff,ri,Ng,hf,Cg],o=oo(),i=me(o,hf);Ve(i,r,i),Ve(i,e.domain,i);const a=oo(),l=oo(),u=oo();Ve(o,e.domain,a),Ve(o,e.scheme,l),Ve(o,e.slashscheme,u),Ve(a,r,i),Ve(a,e.domain,a);const f=me(a,ns);me(i,ns,f),me(l,ns,f),me(u,ns,f);const h=me(i,ni);Ve(h,r,i),Ve(h,e.domain,i);const p=oo();Ve(f,e.domain,p),Ve(p,e.domain,p);const g=me(p,ni);Ve(g,e.domain,p);const x=oo(j5);Ve(g,e.tld,x),Ve(g,e.utld,x),me(f,Mf,x);const y=me(p,co);me(y,co,y),Ve(y,e.domain,p),Ve(x,e.domain,p),me(x,ni,g),me(x,co,y);const N=me(x,ls);Ve(N,e.numeric,j5);const C=me(a,co),A=me(a,ni);me(C,co,C),Ve(C,e.domain,a),Ve(A,r,i),Ve(A,e.domain,a);const T=oo(Wp);Ve(A,e.tld,T),Ve(A,e.utld,T),Ve(T,e.domain,a),Ve(T,r,i),me(T,ni,A),me(T,co,C),me(T,ns,f);const k=me(T,ls),D=oo(Wp);Ve(k,e.numeric,D);const R=oo(Wp),I=oo();Ve(R,t,R),Ve(R,n,I),Ve(I,t,R),Ve(I,n,I),me(T,ri,R),me(D,ri,R);const P=me(l,ls),B=me(u,ls),L=me(B,ri),$=me(L,ri);Ve(l,e.domain,a),me(l,ni,A),me(l,co,C),Ve(u,e.domain,a),me(u,ni,A),me(u,co,C),Ve(P,e.domain,R),me(P,ri,R),me(P,ff,R),Ve($,e.domain,R),Ve($,t,R),me($,ri,R);const X=[[cf,uf],[Xm,Qm],[Zm,eg],[tg,ng],[rg,og],[ig,ag],[sg,lg],[cg,ug]];for(let q=0;q<X.length;q++){const[W,ie]=X[q],K=me(R,W);me(I,W,K),me(K,ie,R);const U=oo(Wp);Ve(K,t,U);const V=oo();Ve(K,n),Ve(U,t,U),Ve(U,n,V),Ve(V,t,U),Ve(V,n,V),me(U,ie,R),me(V,ie,R)}return me(o,Mf,T),me(o,JC,RK),{start:o,tokens:iO}}function DK(e,t,n){let r=n.length,o=0,i=[],a=[];for(;o<r;){let l=e,u=null,f=null,h=0,p=null,g=-1;for(;o<r&&!(u=l.go(n[o].t));)a.push(n[o++]);for(;o<r&&(f=u||l.go(n[o].t));)u=null,l=f,l.accepts()?(g=0,p=l):g>=0&&g++,o++,h++;if(g<0)o-=h,o<r&&(a.push(n[o]),o++);else{a.length>0&&(i.push(ky(A5,t,a)),a=[]),o-=g,h-=g;const x=p.t,y=n.slice(o-h,o);i.push(ky(x,t,y))}}return a.length>0&&i.push(ky(A5,t,a)),i}function ky(e,t,n){const r=n[0].s,o=n[n.length-1].e,i=t.slice(r,o);return new e(i,n)}const _K=typeof console<"u"&&console&&console.warn||(()=>{}),OK="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",Mt={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function LK(){return wr.groups={},Mt.scanner=null,Mt.parser=null,Mt.tokenQueue=[],Mt.pluginQueue=[],Mt.customSchemes=[],Mt.initialized=!1,Mt}function T5(e,t=!1){if(Mt.initialized&&_K(`linkifyjs: already initialized - will not register custom scheme "${e}" ${OK}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(e))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);Mt.customSchemes.push([e,t])}function BK(){Mt.scanner=MK(Mt.customSchemes);for(let e=0;e<Mt.tokenQueue.length;e++)Mt.tokenQueue[e][1]({scanner:Mt.scanner});Mt.parser=IK(Mt.scanner.tokens);for(let e=0;e<Mt.pluginQueue.length;e++)Mt.pluginQueue[e][1]({scanner:Mt.scanner,parser:Mt.parser});return Mt.initialized=!0,Mt}function tN(e){return Mt.initialized||BK(),DK(Mt.parser.start,e,aO(Mt.scanner.start,e))}tN.scan=aO;function lO(e,t=null,n=null){if(t&&typeof t=="object"){if(n)throw Error(`linkifyjs: Invalid link type ${t}; must be a string`);n=t,t=null}const r=new eN(n),o=tN(e),i=[];for(let a=0;a<o.length;a++){const l=o[a];l.isLink&&(!t||l.t===t)&&r.check(l)&&i.push(l.toFormattedObject(r))}return i}var nN="[\0- -\u2029]",UK=new RegExp(nN),zK=new RegExp(`${nN}$`),FK=new RegExp(nN,"g");function qK(e){return e.length===1?e[0].isLink:e.length===3&&e[1].isLink?["()","[]"].includes(e[0].value+e[2].value):!1}function HK(e){return new Kt({key:new kn("autolink"),appendTransaction:(t,n,r)=>{const o=t.some(f=>f.docChanged)&&!n.doc.eq(r.doc),i=t.some(f=>f.getMeta("preventAutolink"));if(!o||i)return;const{tr:a}=r,l=T_(n.doc,[...t]);if(__(l).forEach(({newRange:f})=>{const h=T$(r.doc,f,x=>x.isTextblock);let p,g;if(h.length>1)p=h[0],g=r.doc.textBetween(p.pos,p.pos+p.node.nodeSize,void 0," ");else if(h.length){const x=r.doc.textBetween(f.from,f.to," "," ");if(!zK.test(x))return;p=h[0],g=r.doc.textBetween(p.pos,f.to,void 0," ")}if(p&&g){const x=g.split(UK).filter(Boolean);if(x.length<=0)return!1;const y=x[x.length-1],N=p.pos+g.lastIndexOf(y);if(!y)return!1;const C=tN(y).map(A=>A.toObject(e.defaultProtocol));if(!qK(C))return!1;C.filter(A=>A.isLink).map(A=>({...A,from:N+A.start+1,to:N+A.end+1})).filter(A=>r.schema.marks.code?!r.doc.rangeHasMark(A.from,A.to,r.schema.marks.code):!0).filter(A=>e.validate(A.value)).filter(A=>e.shouldAutoLink(A.value)).forEach(A=>{HC(A.from,A.to,r.doc).some(T=>T.mark.type===e.type)||a.addMark(A.from,A.to,e.type.create({href:A.href}))})}}),!!a.steps.length)return a}})}function VK(e){return new Kt({key:new kn("handleClickLink"),props:{handleClick:(t,n,r)=>{var o,i;if(r.button!==0||!t.editable)return!1;let a=null;if(r.target instanceof HTMLAnchorElement)a=r.target;else{let h=r.target;const p=[];for(;h.nodeName!=="DIV";)p.push(h),h=h.parentNode;a=p.find(g=>g.nodeName==="A")}if(!a)return!1;const l=D_(t.state,e.type.name),u=(o=a==null?void 0:a.href)!=null?o:l.href,f=(i=a==null?void 0:a.target)!=null?i:l.target;return e.enableClickSelection&&e.editor.commands.extendMarkRange(e.type.name),a&&u?(window.open(u,f),!0):!1}}})}function $K(e){return new Kt({key:new kn("handlePasteLink"),props:{handlePaste:(t,n,r)=>{const{shouldAutoLink:o}=e,{state:i}=t,{selection:a}=i,{empty:l}=a;if(l)return!1;let u="";r.content.forEach(h=>{u+=h.textContent});const f=lO(u,{defaultProtocol:e.defaultProtocol}).find(h=>h.isLink&&h.value===u);return!u||!f||o!==void 0&&!o(f.href)?!1:e.editor.commands.setMark(e.type,{href:f.href})}}})}function Qs(e,t){const n=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return t&&t.forEach(r=>{const o=typeof r=="string"?r:r.scheme;o&&n.push(o)}),!e||e.replace(FK,"").match(new RegExp(`^(?:(?:${n.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}var cO=la.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(e=>{if(typeof e=="string"){T5(e);return}T5(e.scheme,e.optionalSlashes)})},onDestroy(){LK()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,enableClickSelection:!1,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(e,t)=>!!Qs(e,t.protocols),validate:e=>!!e,shouldAutoLink:e=>!!e}},addAttributes(){return{href:{default:null,parseHTML(e){return e.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:e=>{const t=e.getAttribute("href");return!t||!this.options.isAllowedUri(t,{defaultValidate:n=>!!Qs(n,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:null}}]},renderHTML({HTMLAttributes:e}){return this.options.isAllowedUri(e.href,{defaultValidate:t=>!!Qs(t,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",zt(this.options.HTMLAttributes,e),0]:["a",zt(this.options.HTMLAttributes,{...e,href:""}),0]},markdownTokenName:"link",parseMarkdown:(e,t)=>t.applyMark("link",t.parseInline(e.tokens||[]),{href:e.href,title:e.title||null}),renderMarkdown:(e,t)=>{var n;const r=((n=e.attrs)==null?void 0:n.href)||"";return`[${t.renderChildren(e)}](${r})`},addCommands(){return{setLink:e=>({chain:t})=>{const{href:n}=e;return this.options.isAllowedUri(n,{defaultValidate:r=>!!Qs(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?t().setMark(this.name,e).setMeta("preventAutolink",!0).run():!1},toggleLink:e=>({chain:t})=>{const{href:n}=e||{};return n&&!this.options.isAllowedUri(n,{defaultValidate:r=>!!Qs(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:t().toggleMark(this.name,e,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()},unsetLink:()=>({chain:e})=>e().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[Cs({find:e=>{const t=[];if(e){const{protocols:n,defaultProtocol:r}=this.options,o=lO(e).filter(i=>i.isLink&&this.options.isAllowedUri(i.value,{defaultValidate:a=>!!Qs(a,n),protocols:n,defaultProtocol:r}));o.length&&o.forEach(i=>{this.options.shouldAutoLink(i.value)&&t.push({text:i.value,data:{href:i.href},index:i.start})})}return t},type:this.type,getAttributes:e=>{var t;return{href:(t=e.data)==null?void 0:t.href}}})]},addProseMirrorPlugins(){const e=[],{protocols:t,defaultProtocol:n}=this.options;return this.options.autolink&&e.push(HK({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:r=>this.options.isAllowedUri(r,{defaultValidate:o=>!!Qs(o,t),protocols:t,defaultProtocol:n}),shouldAutoLink:this.options.shouldAutoLink})),this.options.openOnClick===!0&&e.push(VK({type:this.type,editor:this.editor,enableClickSelection:this.options.enableClickSelection})),this.options.linkOnPaste&&e.push($K({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type,shouldAutoLink:this.options.shouldAutoLink})),e}}),GK=cO,KK=Object.defineProperty,WK=(e,t)=>{for(var n in t)KK(e,n,{get:t[n],enumerable:!0})},JK="listItem",k5="textStyle",M5=/^\s*([-+*])\s$/,uO=Tr.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:e}){return["ul",zt(this.options.HTMLAttributes,e),0]},markdownTokenName:"list",parseMarkdown:(e,t)=>e.type!=="list"||e.ordered?[]:{type:"bulletList",content:e.items?t.parseChildren(e.items):[]},renderMarkdown:(e,t)=>e.content?t.renderChildren(e.content,`
`):"",markdownOptions:{indentsContent:!0},addCommands(){return{toggleBulletList:()=>({commands:e,chain:t})=>this.options.keepAttributes?t().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(JK,this.editor.getAttributes(k5)).run():e.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let e=ru({find:M5,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(e=ru({find:M5,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(k5),editor:this.editor})),[e]}}),dO=Tr.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:e}){return["li",zt(this.options.HTMLAttributes,e),0]},markdownTokenName:"list_item",parseMarkdown:(e,t)=>{if(e.type!=="list_item")return[];let n=[];if(e.tokens&&e.tokens.length>0)if(e.tokens.some(o=>o.type==="paragraph"))n=t.parseChildren(e.tokens);else{const o=e.tokens[0];if(o&&o.type==="text"&&o.tokens&&o.tokens.length>0){if(n=[{type:"paragraph",content:t.parseInline(o.tokens)}],e.tokens.length>1){const a=e.tokens.slice(1),l=t.parseChildren(a);n.push(...l)}}else n=t.parseChildren(e.tokens)}return n.length===0&&(n=[{type:"paragraph",content:[]}]),{type:"listItem",content:n}},renderMarkdown:(e,t,n)=>KC(e,t,r=>r.parentType==="bulletList"?"- ":r.parentType==="orderedList"?`${r.index+1}. `:"- ",n),addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),YK={};WK(YK,{findListItemPos:()=>Jf,getNextListDepth:()=>rN,handleBackspace:()=>Gw,handleDelete:()=>Kw,hasListBefore:()=>fO,hasListItemAfter:()=>XK,hasListItemBefore:()=>hO,listItemHasSubList:()=>pO,nextListIsDeeper:()=>mO,nextListIsHigher:()=>gO});var Jf=(e,t)=>{const{$from:n}=t.selection,r=dn(e,t.schema);let o=null,i=n.depth,a=n.pos,l=null;for(;i>0&&l===null;)o=n.node(i),o.type===r?l=i:(i-=1,a-=1);return l===null?null:{$pos:t.doc.resolve(a),depth:l}},rN=(e,t)=>{const n=Jf(e,t);if(!n)return!1;const[,r]=B$(t,e,n.$pos.pos+4);return r},fO=(e,t,n)=>{const{$anchor:r}=e.selection,o=Math.max(0,r.pos-2),i=e.doc.resolve(o).node();return!(!i||!n.includes(i.type.name))},hO=(e,t)=>{var n;const{$anchor:r}=t.selection,o=t.doc.resolve(r.pos-2);return!(o.index()===0||((n=o.nodeBefore)==null?void 0:n.type.name)!==e)},pO=(e,t,n)=>{if(!n)return!1;const r=dn(e,t.schema);let o=!1;return n.descendants(i=>{i.type===r&&(o=!0)}),o},Gw=(e,t,n)=>{if(e.commands.undoInputRule())return!0;if(e.state.selection.from!==e.state.selection.to)return!1;if(!ws(e.state,t)&&fO(e.state,t,n)){const{$anchor:l}=e.state.selection,u=e.state.doc.resolve(l.before()-1),f=[];u.node().descendants((g,x)=>{g.type.name===t&&f.push({node:g,pos:x})});const h=f.at(-1);if(!h)return!1;const p=e.state.doc.resolve(u.start()+h.pos+1);return e.chain().cut({from:l.start()-1,to:l.end()+1},p.end()).joinForward().run()}if(!ws(e.state,t)||!q$(e.state))return!1;const r=Jf(t,e.state);if(!r)return!1;const i=e.state.doc.resolve(r.$pos.pos-2).node(r.depth),a=pO(t,e.state,i);return hO(t,e.state)&&!a?e.commands.joinItemBackward():e.chain().liftListItem(t).run()},mO=(e,t)=>{const n=rN(e,t),r=Jf(e,t);return!r||!n?!1:n>r.depth},gO=(e,t)=>{const n=rN(e,t),r=Jf(e,t);return!r||!n?!1:n<r.depth},Kw=(e,t)=>{if(!ws(e.state,t)||!F$(e.state,t))return!1;const{selection:n}=e.state,{$from:r,$to:o}=n;return!n.empty&&r.sameParent(o)?!1:mO(t,e.state)?e.chain().focus(e.state.selection.from+4).lift(t).joinBackward().run():gO(t,e.state)?e.chain().joinForward().joinBackward().run():e.commands.joinItemForward()},XK=(e,t)=>{var n;const{$anchor:r}=t.selection,o=t.doc.resolve(r.pos-r.parentOffset-2);return!(o.index()===o.parent.childCount-1||((n=o.nodeAfter)==null?void 0:n.type.name)!==e)},xO=St.create({name:"listKeymap",addOptions(){return{listTypes:[{itemName:"listItem",wrapperNames:["bulletList","orderedList"]},{itemName:"taskItem",wrapperNames:["taskList"]}]}},addKeyboardShortcuts(){return{Delete:({editor:e})=>{let t=!1;return this.options.listTypes.forEach(({itemName:n})=>{e.state.schema.nodes[n]!==void 0&&Kw(e,n)&&(t=!0)}),t},"Mod-Delete":({editor:e})=>{let t=!1;return this.options.listTypes.forEach(({itemName:n})=>{e.state.schema.nodes[n]!==void 0&&Kw(e,n)&&(t=!0)}),t},Backspace:({editor:e})=>{let t=!1;return this.options.listTypes.forEach(({itemName:n,wrapperNames:r})=>{e.state.schema.nodes[n]!==void 0&&Gw(e,n,r)&&(t=!0)}),t},"Mod-Backspace":({editor:e})=>{let t=!1;return this.options.listTypes.forEach(({itemName:n,wrapperNames:r})=>{e.state.schema.nodes[n]!==void 0&&Gw(e,n,r)&&(t=!0)}),t}}}}),P5=/^(\s*)(\d+)\.\s+(.*)$/,QK=/^\s/;function ZK(e){const t=[];let n=0,r=0;for(;n<e.length;){const o=e[n],i=o.match(P5);if(!i)break;const[,a,l,u]=i,f=a.length;let h=u,p=n+1;const g=[o];for(;p<e.length;){const x=e[p];if(x.match(P5))break;if(x.trim()==="")g.push(x),h+=`
`,p+=1;else if(x.match(QK))g.push(x),h+=`
${x.slice(f+2)}`,p+=1;else break}t.push({indent:f,number:parseInt(l,10),content:h.trim(),raw:g.join(`
`)}),r=p,n=p}return[t,r]}function bO(e,t,n){var r;const o=[];let i=0;for(;i<e.length;){const a=e[i];if(a.indent===t){const l=a.content.split(`
`),u=((r=l[0])==null?void 0:r.trim())||"",f=[];u&&f.push({type:"paragraph",raw:u,tokens:n.inlineTokens(u)});const h=l.slice(1).join(`
`).trim();if(h){const x=n.blockTokens(h);f.push(...x)}let p=i+1;const g=[];for(;p<e.length&&e[p].indent>t;)g.push(e[p]),p+=1;if(g.length>0){const x=Math.min(...g.map(N=>N.indent)),y=bO(g,x,n);f.push({type:"list",ordered:!0,start:g[0].number,items:y,raw:g.map(N=>N.raw).join(`
`)})}o.push({type:"list_item",raw:a.raw,tokens:f}),i=p}else i+=1}return o}function eW(e,t){return e.map(n=>{if(n.type!=="list_item")return t.parseChildren([n])[0];const r=[];return n.tokens&&n.tokens.length>0&&n.tokens.forEach(o=>{if(o.type==="paragraph"||o.type==="list"||o.type==="blockquote"||o.type==="code")r.push(...t.parseChildren([o]));else if(o.type==="text"&&o.tokens){const i=t.parseChildren([o]);r.push({type:"paragraph",content:i})}else{const i=t.parseChildren([o]);i.length>0&&r.push(...i)}}),{type:"listItem",content:r}})}var tW="listItem",R5="textStyle",I5=/^(\d+)\.\s$/,vO=Tr.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:e=>e.hasAttribute("start")?parseInt(e.getAttribute("start")||"",10):1},type:{default:null,parseHTML:e=>e.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:e}){const{start:t,...n}=e;return t===1?["ol",zt(this.options.HTMLAttributes,n),0]:["ol",zt(this.options.HTMLAttributes,e),0]},markdownTokenName:"list",parseMarkdown:(e,t)=>{if(e.type!=="list"||!e.ordered)return[];const n=e.start||1,r=e.items?eW(e.items,t):[];return n!==1?{type:"orderedList",attrs:{start:n},content:r}:{type:"orderedList",content:r}},renderMarkdown:(e,t)=>e.content?t.renderChildren(e.content,`
`):"",markdownTokenizer:{name:"orderedList",level:"block",start:e=>{const t=e.match(/^(\s*)(\d+)\.\s+/),n=t==null?void 0:t.index;return n!==void 0?n:-1},tokenize:(e,t,n)=>{var r;const o=e.split(`
`),[i,a]=ZK(o);if(i.length===0)return;const l=bO(i,0,n);return l.length===0?void 0:{type:"list",ordered:!0,start:((r=i[0])==null?void 0:r.number)||1,items:l,raw:o.slice(0,a).join(`
`)}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleOrderedList:()=>({commands:e,chain:t})=>this.options.keepAttributes?t().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(tW,this.editor.getAttributes(R5)).run():e.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let e=ru({find:I5,type:this.type,getAttributes:t=>({start:+t[1]}),joinPredicate:(t,n)=>n.childCount+n.attrs.start===+t[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(e=ru({find:I5,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:t=>({start:+t[1],...this.editor.getAttributes(R5)}),joinPredicate:(t,n)=>n.childCount+n.attrs.start===+t[1],editor:this.editor})),[e]}}),nW=/^\s*(\[([( |x])?\])\s$/,rW=Tr.create({name:"taskItem",addOptions(){return{nested:!1,HTMLAttributes:{},taskListTypeName:"taskList",a11y:void 0}},content(){return this.options.nested?"paragraph block*":"paragraph+"},defining:!0,addAttributes(){return{checked:{default:!1,keepOnSplit:!1,parseHTML:e=>{const t=e.getAttribute("data-checked");return t===""||t==="true"},renderHTML:e=>({"data-checked":e.checked})}}},parseHTML(){return[{tag:`li[data-type="${this.name}"]`,priority:51}]},renderHTML({node:e,HTMLAttributes:t}){return["li",zt(this.options.HTMLAttributes,t,{"data-type":this.name}),["label",["input",{type:"checkbox",checked:e.attrs.checked?"checked":null}],["span"]],["div",0]]},parseMarkdown:(e,t)=>{const n=[];if(e.tokens&&e.tokens.length>0?n.push(t.createNode("paragraph",{},t.parseInline(e.tokens))):e.text?n.push(t.createNode("paragraph",{},[t.createNode("text",{text:e.text})])):n.push(t.createNode("paragraph",{},[])),e.nestedTokens&&e.nestedTokens.length>0){const r=t.parseChildren(e.nestedTokens);n.push(...r)}return t.createNode("taskItem",{checked:e.checked||!1},n)},renderMarkdown:(e,t)=>{var n;const o=`- [${(n=e.attrs)!=null&&n.checked?"x":" "}] `;return KC(e,t,o)},addKeyboardShortcuts(){const e={Enter:()=>this.editor.commands.splitListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)};return this.options.nested?{...e,Tab:()=>this.editor.commands.sinkListItem(this.name)}:e},addNodeView(){return({node:e,HTMLAttributes:t,getPos:n,editor:r})=>{const o=document.createElement("li"),i=document.createElement("label"),a=document.createElement("span"),l=document.createElement("input"),u=document.createElement("div"),f=h=>{var p,g;l.ariaLabel=((g=(p=this.options.a11y)==null?void 0:p.checkboxLabel)==null?void 0:g.call(p,h,l.checked))||`Task item checkbox for ${h.textContent||"empty task item"}`};return f(e),i.contentEditable="false",l.type="checkbox",l.addEventListener("mousedown",h=>h.preventDefault()),l.addEventListener("change",h=>{if(!r.isEditable&&!this.options.onReadOnlyChecked){l.checked=!l.checked;return}const{checked:p}=h.target;r.isEditable&&typeof n=="function"&&r.chain().focus(void 0,{scrollIntoView:!1}).command(({tr:g})=>{const x=n();if(typeof x!="number")return!1;const y=g.doc.nodeAt(x);return g.setNodeMarkup(x,void 0,{...y==null?void 0:y.attrs,checked:p}),!0}).run(),!r.isEditable&&this.options.onReadOnlyChecked&&(this.options.onReadOnlyChecked(e,p)||(l.checked=!l.checked))}),Object.entries(this.options.HTMLAttributes).forEach(([h,p])=>{o.setAttribute(h,p)}),o.dataset.checked=e.attrs.checked,l.checked=e.attrs.checked,i.append(l,a),o.append(i,u),Object.entries(t).forEach(([h,p])=>{o.setAttribute(h,p)}),{dom:o,contentDOM:u,update:h=>h.type!==this.type?!1:(o.dataset.checked=h.attrs.checked,l.checked=h.attrs.checked,f(h),!0)}}},addInputRules(){return[ru({find:nW,type:this.type,getAttributes:e=>({checked:e[e.length-1]==="x"})})]}}),oW=Tr.create({name:"taskList",addOptions(){return{itemTypeName:"taskItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:`ul[data-type="${this.name}"]`,priority:51}]},renderHTML({HTMLAttributes:e}){return["ul",zt(this.options.HTMLAttributes,e,{"data-type":this.name}),0]},parseMarkdown:(e,t)=>t.createNode("taskList",{},t.parseChildren(e.items||[])),renderMarkdown:(e,t)=>e.content?t.renderChildren(e.content,`
`):"",markdownTokenizer:{name:"taskList",level:"block",start(e){var t;const n=(t=e.match(/^\s*[-+*]\s+\[([ xX])\]\s+/))==null?void 0:t.index;return n!==void 0?n:-1},tokenize(e,t,n){const r=i=>{const a=Ow(i,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:l=>({indentLevel:l[1].length,mainContent:l[4],checked:l[3].toLowerCase()==="x"}),createToken:(l,u)=>({type:"taskItem",raw:"",mainContent:l.mainContent,indentLevel:l.indentLevel,checked:l.checked,text:l.mainContent,tokens:n.inlineTokens(l.mainContent),nestedTokens:u}),customNestedParser:r},n);return a?[{type:"taskList",raw:a.raw,items:a.items}]:n.blockTokens(i)},o=Ow(e,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:i=>({indentLevel:i[1].length,mainContent:i[4],checked:i[3].toLowerCase()==="x"}),createToken:(i,a)=>({type:"taskItem",raw:"",mainContent:i.mainContent,indentLevel:i.indentLevel,checked:i.checked,text:i.mainContent,tokens:n.inlineTokens(i.mainContent),nestedTokens:a}),customNestedParser:r},n);if(o)return{type:"taskList",raw:o.raw,items:o.items}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleTaskList:()=>({commands:e})=>e.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-9":()=>this.editor.commands.toggleTaskList()}}});St.create({name:"listKit",addExtensions(){const e=[];return this.options.bulletList!==!1&&e.push(uO.configure(this.options.bulletList)),this.options.listItem!==!1&&e.push(dO.configure(this.options.listItem)),this.options.listKeymap!==!1&&e.push(xO.configure(this.options.listKeymap)),this.options.orderedList!==!1&&e.push(vO.configure(this.options.orderedList)),this.options.taskItem!==!1&&e.push(rW.configure(this.options.taskItem)),this.options.taskList!==!1&&e.push(oW.configure(this.options.taskList)),e}});var iW=Tr.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:e}){return["p",zt(this.options.HTMLAttributes,e),0]},parseMarkdown:(e,t)=>{const n=e.tokens||[];return n.length===1&&n[0].type==="image"?t.parseChildren([n[0]]):t.createNode("paragraph",void 0,t.parseInline(n))},renderMarkdown:(e,t)=>!e||!Array.isArray(e.content)?"":t.renderChildren(e.content),addCommands(){return{setParagraph:()=>({commands:e})=>e.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),aW=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,sW=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,lW=la.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:e=>e.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:e}){return["s",zt(this.options.HTMLAttributes,e),0]},markdownTokenName:"del",parseMarkdown:(e,t)=>t.applyMark("strike",t.parseInline(e.tokens||[])),renderMarkdown:(e,t)=>`~~${t.renderChildren(e)}~~`,addCommands(){return{setStrike:()=>({commands:e})=>e.setMark(this.name),toggleStrike:()=>({commands:e})=>e.toggleMark(this.name),unsetStrike:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[Tl({find:aW,type:this.type})]},addPasteRules(){return[Cs({find:sW,type:this.type})]}}),cW=Tr.create({name:"text",group:"inline",parseMarkdown:e=>({type:"text",text:e.text||""}),renderMarkdown:e=>e.text||""}),yO=la.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:e=>e.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:e}){return["u",zt(this.options.HTMLAttributes,e),0]},parseMarkdown(e,t){return t.applyMark(this.name||"underline",t.parseInline(e.tokens||[]))},renderMarkdown(e,t){return`++${t.renderChildren(e)}++`},markdownTokenizer:{name:"underline",level:"inline",start(e){return e.indexOf("++")},tokenize(e,t,n){const o=/^(\+\+)([\s\S]+?)(\+\+)/.exec(e);if(!o)return;const i=o[2].trim();return{type:"underline",raw:o[0],text:i,tokens:n.inlineTokens(i)}}},addCommands(){return{setUnderline:()=>({commands:e})=>e.setMark(this.name),toggleUnderline:()=>({commands:e})=>e.toggleMark(this.name),unsetUnderline:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}}),uW=yO;function dW(e={}){return new Kt({view(t){return new fW(t,e)}})}class fW{constructor(t,n){var r;this.editorView=t,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(r=n.width)!==null&&r!==void 0?r:1,this.color=n.color===!1?void 0:n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map(o=>{let i=a=>{this[o](a)};return t.dom.addEventListener(o,i),{name:o,handler:i}})}destroy(){this.handlers.forEach(({name:t,handler:n})=>this.editorView.dom.removeEventListener(t,n))}update(t,n){this.cursorPos!=null&&n.doc!=t.state.doc&&(this.cursorPos>t.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(t){t!=this.cursorPos&&(this.cursorPos=t,t==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let t=this.editorView.state.doc.resolve(this.cursorPos),n=!t.parent.inlineContent,r,o=this.editorView.dom,i=o.getBoundingClientRect(),a=i.width/o.offsetWidth,l=i.height/o.offsetHeight;if(n){let p=t.nodeBefore,g=t.nodeAfter;if(p||g){let x=this.editorView.nodeDOM(this.cursorPos-(p?p.nodeSize:0));if(x){let y=x.getBoundingClientRect(),N=p?y.bottom:y.top;p&&g&&(N=(N+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let C=this.width/2*l;r={left:y.left,right:y.right,top:N-C,bottom:N+C}}}}if(!r){let p=this.editorView.coordsAtPos(this.cursorPos),g=this.width/2*a;r={left:p.left-g,right:p.left+g,top:p.top,bottom:p.bottom}}let u=this.editorView.dom.offsetParent;this.element||(this.element=u.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n);let f,h;if(!u||u==document.body&&getComputedStyle(u).position=="static")f=-pageXOffset,h=-pageYOffset;else{let p=u.getBoundingClientRect(),g=p.width/u.offsetWidth,x=p.height/u.offsetHeight;f=p.left-u.scrollLeft*g,h=p.top-u.scrollTop*x}this.element.style.left=(r.left-f)/a+"px",this.element.style.top=(r.top-h)/l+"px",this.element.style.width=(r.right-r.left)/a+"px",this.element.style.height=(r.bottom-r.top)/l+"px"}scheduleRemoval(t){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),t)}dragover(t){if(!this.editorView.editable)return;let n=this.editorView.posAtCoords({left:t.clientX,top:t.clientY}),r=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),o=r&&r.type.spec.disableDropCursor,i=typeof o=="function"?o(this.editorView,n,t):o;if(n&&!i){let a=n.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let l=yD(this.editorView.state.doc,a,this.editorView.dragging.slice);l!=null&&(a=l)}this.setCursor(a),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(t){this.editorView.dom.contains(t.relatedTarget)||this.setCursor(null)}}class Gt extends $e{constructor(t){super(t,t)}map(t,n){let r=t.resolve(n.map(this.head));return Gt.valid(r)?new Gt(r):$e.near(r)}content(){return we.empty}eq(t){return t instanceof Gt&&t.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(t,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new Gt(t.resolve(n.pos))}getBookmark(){return new oN(this.anchor)}static valid(t){let n=t.parent;if(n.isTextblock||!hW(t)||!pW(t))return!1;let r=n.type.spec.allowGapCursor;if(r!=null)return r;let o=n.contentMatchAt(t.index()).defaultType;return o&&o.isTextblock}static findGapCursorFrom(t,n,r=!1){e:for(;;){if(!r&&Gt.valid(t))return t;let o=t.pos,i=null;for(let a=t.depth;;a--){let l=t.node(a);if(n>0?t.indexAfter(a)<l.childCount:t.index(a)>0){i=l.child(n>0?t.indexAfter(a):t.index(a)-1);break}else if(a==0)return null;o+=n;let u=t.doc.resolve(o);if(Gt.valid(u))return u}for(;;){let a=n>0?i.firstChild:i.lastChild;if(!a){if(i.isAtom&&!i.isText&&!Pe.isSelectable(i)){t=t.doc.resolve(o+i.nodeSize*n),r=!1;continue e}break}i=a,o+=n;let l=t.doc.resolve(o);if(Gt.valid(l))return l}return null}}}Gt.prototype.visible=!1;Gt.findFrom=Gt.findGapCursorFrom;$e.jsonID("gapcursor",Gt);class oN{constructor(t){this.pos=t}map(t){return new oN(t.map(this.pos))}resolve(t){let n=t.resolve(this.pos);return Gt.valid(n)?new Gt(n):$e.near(n)}}function wO(e){return e.isAtom||e.spec.isolating||e.spec.createGapCursor}function hW(e){for(let t=e.depth;t>=0;t--){let n=e.index(t),r=e.node(t);if(n==0){if(r.type.spec.isolating)return!0;continue}for(let o=r.child(n-1);;o=o.lastChild){if(o.childCount==0&&!o.inlineContent||wO(o.type))return!0;if(o.inlineContent)return!1}}return!0}function pW(e){for(let t=e.depth;t>=0;t--){let n=e.indexAfter(t),r=e.node(t);if(n==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let o=r.child(n);;o=o.firstChild){if(o.childCount==0&&!o.inlineContent||wO(o.type))return!0;if(o.inlineContent)return!1}}return!0}function mW(){return new Kt({props:{decorations:vW,createSelectionBetween(e,t,n){return t.pos==n.pos&&Gt.valid(n)?new Gt(n):null},handleClick:xW,handleKeyDown:gW,handleDOMEvents:{beforeinput:bW}}})}const gW=y_({ArrowLeft:Jp("horiz",-1),ArrowRight:Jp("horiz",1),ArrowUp:Jp("vert",-1),ArrowDown:Jp("vert",1)});function Jp(e,t){const n=e=="vert"?t>0?"down":"up":t>0?"right":"left";return function(r,o,i){let a=r.selection,l=t>0?a.$to:a.$from,u=a.empty;if(a instanceof Ue){if(!i.endOfTextblock(n)||l.depth==0)return!1;u=!1,l=r.doc.resolve(t>0?l.after():l.before())}let f=Gt.findGapCursorFrom(l,t,u);return f?(o&&o(r.tr.setSelection(new Gt(f))),!0):!1}}function xW(e,t,n){if(!e||!e.editable)return!1;let r=e.state.doc.resolve(t);if(!Gt.valid(r))return!1;let o=e.posAtCoords({left:n.clientX,top:n.clientY});return o&&o.inside>-1&&Pe.isSelectable(e.state.doc.nodeAt(o.inside))?!1:(e.dispatch(e.state.tr.setSelection(new Gt(r))),!0)}function bW(e,t){if(t.inputType!="insertCompositionText"||!(e.state.selection instanceof Gt))return!1;let{$from:n}=e.state.selection,r=n.parent.contentMatchAt(n.index()).findWrapping(e.state.schema.nodes.text);if(!r)return!1;let o=he.empty;for(let a=r.length-1;a>=0;a--)o=he.from(r[a].createAndFill(null,o));let i=e.state.tr.replace(n.pos,n.pos,new we(o,0,0));return i.setSelection(Ue.near(i.doc.resolve(n.pos+1))),e.dispatch(i),!1}function vW(e){if(!(e.selection instanceof Gt))return null;let t=document.createElement("div");return t.className="ProseMirror-gapcursor",Bt.create(e.doc,[ir.widget(e.selection.head,t,{key:"gapcursor"})])}var Sg=200,An=function(){};An.prototype.append=function(t){return t.length?(t=An.from(t),!this.length&&t||t.length<Sg&&this.leafAppend(t)||this.length<Sg&&t.leafPrepend(this)||this.appendInner(t)):this};An.prototype.prepend=function(t){return t.length?An.from(t).append(this):this};An.prototype.appendInner=function(t){return new yW(this,t)};An.prototype.slice=function(t,n){return t===void 0&&(t=0),n===void 0&&(n=this.length),t>=n?An.empty:this.sliceInner(Math.max(0,t),Math.min(this.length,n))};An.prototype.get=function(t){if(!(t<0||t>=this.length))return this.getInner(t)};An.prototype.forEach=function(t,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length),n<=r?this.forEachInner(t,n,r,0):this.forEachInvertedInner(t,n,r,0)};An.prototype.map=function(t,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length);var o=[];return this.forEach(function(i,a){return o.push(t(i,a))},n,r),o};An.from=function(t){return t instanceof An?t:t&&t.length?new CO(t):An.empty};var CO=(function(e){function t(r){e.call(this),this.values=r}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={length:{configurable:!0},depth:{configurable:!0}};return t.prototype.flatten=function(){return this.values},t.prototype.sliceInner=function(o,i){return o==0&&i==this.length?this:new t(this.values.slice(o,i))},t.prototype.getInner=function(o){return this.values[o]},t.prototype.forEachInner=function(o,i,a,l){for(var u=i;u<a;u++)if(o(this.values[u],l+u)===!1)return!1},t.prototype.forEachInvertedInner=function(o,i,a,l){for(var u=i-1;u>=a;u--)if(o(this.values[u],l+u)===!1)return!1},t.prototype.leafAppend=function(o){if(this.length+o.length<=Sg)return new t(this.values.concat(o.flatten()))},t.prototype.leafPrepend=function(o){if(this.length+o.length<=Sg)return new t(o.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(t.prototype,n),t})(An);An.empty=new CO([]);var yW=(function(e){function t(n,r){e.call(this),this.left=n,this.right=r,this.length=n.length+r.length,this.depth=Math.max(n.depth,r.depth)+1}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},t.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},t.prototype.forEachInner=function(r,o,i,a){var l=this.left.length;if(o<l&&this.left.forEachInner(r,o,Math.min(i,l),a)===!1||i>l&&this.right.forEachInner(r,Math.max(o-l,0),Math.min(this.length,i)-l,a+l)===!1)return!1},t.prototype.forEachInvertedInner=function(r,o,i,a){var l=this.left.length;if(o>l&&this.right.forEachInvertedInner(r,o-l,Math.max(i,l)-l,a+l)===!1||i<l&&this.left.forEachInvertedInner(r,Math.min(o,l),i,a)===!1)return!1},t.prototype.sliceInner=function(r,o){if(r==0&&o==this.length)return this;var i=this.left.length;return o<=i?this.left.slice(r,o):r>=i?this.right.slice(r-i,o-i):this.left.slice(r,i).append(this.right.slice(0,o-i))},t.prototype.leafAppend=function(r){var o=this.right.leafAppend(r);if(o)return new t(this.left,o)},t.prototype.leafPrepend=function(r){var o=this.left.leafPrepend(r);if(o)return new t(o,this.right)},t.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new t(this.left,new t(this.right,r)):new t(this,r)},t})(An);const wW=500;class Io{constructor(t,n){this.items=t,this.eventCount=n}popEvent(t,n){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let o,i;n&&(o=this.remapping(r,this.items.length),i=o.maps.length);let a=t.tr,l,u,f=[],h=[];return this.items.forEach((p,g)=>{if(!p.step){o||(o=this.remapping(r,g+1),i=o.maps.length),i--,h.push(p);return}if(o){h.push(new oi(p.map));let x=p.step.map(o.slice(i)),y;x&&a.maybeStep(x).doc&&(y=a.mapping.maps[a.mapping.maps.length-1],f.push(new oi(y,void 0,void 0,f.length+h.length))),i--,y&&o.appendMap(y,i)}else a.maybeStep(p.step);if(p.selection)return l=o?p.selection.map(o.slice(i)):p.selection,u=new Io(this.items.slice(0,r).append(h.reverse().concat(f)),this.eventCount-1),!1},this.items.length,0),{remaining:u,transform:a,selection:l}}addTransform(t,n,r,o){let i=[],a=this.eventCount,l=this.items,u=!o&&l.length?l.get(l.length-1):null;for(let h=0;h<t.steps.length;h++){let p=t.steps[h].invert(t.docs[h]),g=new oi(t.mapping.maps[h],p,n),x;(x=u&&u.merge(g))&&(g=x,h?i.pop():l=l.slice(0,l.length-1)),i.push(g),n&&(a++,n=void 0),o||(u=g)}let f=a-r.depth;return f>NW&&(l=CW(l,f),a-=f),new Io(l.append(i),a)}remapping(t,n){let r=new Nf;return this.items.forEach((o,i)=>{let a=o.mirrorOffset!=null&&i-o.mirrorOffset>=t?r.maps.length-o.mirrorOffset:void 0;r.appendMap(o.map,a)},t,n),r}addMaps(t){return this.eventCount==0?this:new Io(this.items.append(t.map(n=>new oi(n))),this.eventCount)}rebased(t,n){if(!this.eventCount)return this;let r=[],o=Math.max(0,this.items.length-n),i=t.mapping,a=t.steps.length,l=this.eventCount;this.items.forEach(g=>{g.selection&&l--},o);let u=n;this.items.forEach(g=>{let x=i.getMirror(--u);if(x==null)return;a=Math.min(a,x);let y=i.maps[x];if(g.step){let N=t.steps[x].invert(t.docs[x]),C=g.selection&&g.selection.map(i.slice(u+1,x));C&&l++,r.push(new oi(y,N,C))}else r.push(new oi(y))},o);let f=[];for(let g=n;g<a;g++)f.push(new oi(i.maps[g]));let h=this.items.slice(0,o).append(f).append(r),p=new Io(h,l);return p.emptyItemCount()>wW&&(p=p.compress(this.items.length-r.length)),p}emptyItemCount(){let t=0;return this.items.forEach(n=>{n.step||t++}),t}compress(t=this.items.length){let n=this.remapping(0,t),r=n.maps.length,o=[],i=0;return this.items.forEach((a,l)=>{if(l>=t)o.push(a),a.selection&&i++;else if(a.step){let u=a.step.map(n.slice(r)),f=u&&u.getMap();if(r--,f&&n.appendMap(f,r),u){let h=a.selection&&a.selection.map(n.slice(r));h&&i++;let p=new oi(f.invert(),u,h),g,x=o.length-1;(g=o.length&&o[x].merge(p))?o[x]=g:o.push(p)}}else a.map&&r--},this.items.length,0),new Io(An.from(o.reverse()),i)}}Io.empty=new Io(An.empty,0);function CW(e,t){let n;return e.forEach((r,o)=>{if(r.selection&&t--==0)return n=o,!1}),e.slice(n)}class oi{constructor(t,n,r,o){this.map=t,this.step=n,this.selection=r,this.mirrorOffset=o}merge(t){if(this.step&&t.step&&!t.selection){let n=t.step.merge(this.step);if(n)return new oi(n.getMap().invert(),n,this.selection)}}}class rs{constructor(t,n,r,o,i){this.done=t,this.undone=n,this.prevRanges=r,this.prevTime=o,this.prevComposition=i}}const NW=20;function SW(e,t,n,r){let o=n.getMeta(xl),i;if(o)return o.historyState;n.getMeta(AW)&&(e=new rs(e.done,e.undone,null,0,-1));let a=n.getMeta("appendedTransaction");if(n.steps.length==0)return e;if(a&&a.getMeta(xl))return a.getMeta(xl).redo?new rs(e.done.addTransform(n,void 0,r,Em(t)),e.undone,D5(n.mapping.maps),e.prevTime,e.prevComposition):new rs(e.done,e.undone.addTransform(n,void 0,r,Em(t)),null,e.prevTime,e.prevComposition);if(n.getMeta("addToHistory")!==!1&&!(a&&a.getMeta("addToHistory")===!1)){let l=n.getMeta("composition"),u=e.prevTime==0||!a&&e.prevComposition!=l&&(e.prevTime<(n.time||0)-r.newGroupDelay||!EW(n,e.prevRanges)),f=a?My(e.prevRanges,n.mapping):D5(n.mapping.maps);return new rs(e.done.addTransform(n,u?t.selection.getBookmark():void 0,r,Em(t)),Io.empty,f,n.time,l??e.prevComposition)}else return(i=n.getMeta("rebased"))?new rs(e.done.rebased(n,i),e.undone.rebased(n,i),My(e.prevRanges,n.mapping),e.prevTime,e.prevComposition):new rs(e.done.addMaps(n.mapping.maps),e.undone.addMaps(n.mapping.maps),My(e.prevRanges,n.mapping),e.prevTime,e.prevComposition)}function EW(e,t){if(!t)return!1;if(!e.docChanged)return!0;let n=!1;return e.mapping.maps[0].forEach((r,o)=>{for(let i=0;i<t.length;i+=2)r<=t[i+1]&&o>=t[i]&&(n=!0)}),n}function D5(e){let t=[];for(let n=e.length-1;n>=0&&t.length==0;n--)e[n].forEach((r,o,i,a)=>t.push(i,a));return t}function My(e,t){if(!e)return null;let n=[];for(let r=0;r<e.length;r+=2){let o=t.map(e[r],1),i=t.map(e[r+1],-1);o<=i&&n.push(o,i)}return n}function jW(e,t,n){let r=Em(t),o=xl.get(t).spec.config,i=(n?e.undone:e.done).popEvent(t,r);if(!i)return null;let a=i.selection.resolve(i.transform.doc),l=(n?e.done:e.undone).addTransform(i.transform,t.selection.getBookmark(),o,r),u=new rs(n?l:i.remaining,n?i.remaining:l,null,0,-1);return i.transform.setSelection(a).setMeta(xl,{redo:n,historyState:u})}let Py=!1,_5=null;function Em(e){let t=e.plugins;if(_5!=t){Py=!1,_5=t;for(let n=0;n<t.length;n++)if(t[n].spec.historyPreserveItems){Py=!0;break}}return Py}const xl=new kn("history"),AW=new kn("closeHistory");function TW(e={}){return e={depth:e.depth||100,newGroupDelay:e.newGroupDelay||500},new Kt({key:xl,state:{init(){return new rs(Io.empty,Io.empty,null,0,-1)},apply(t,n,r){return SW(n,r,t,e)}},config:e,props:{handleDOMEvents:{beforeinput(t,n){let r=n.inputType,o=r=="historyUndo"?SO:r=="historyRedo"?EO:null;return o?(n.preventDefault(),o(t.state,t.dispatch)):!1}}}})}function NO(e,t){return(n,r)=>{let o=xl.getState(n);if(!o||(e?o.undone:o.done).eventCount==0)return!1;if(r){let i=jW(o,n,e);i&&r(t?i.scrollIntoView():i)}return!0}}const SO=NO(!1,!0),EO=NO(!0,!0);St.create({name:"characterCount",addOptions(){return{limit:null,mode:"textSize",textCounter:e=>e.length,wordCounter:e=>e.split(" ").filter(t=>t!=="").length}},addStorage(){return{characters:()=>0,words:()=>0}},onBeforeCreate(){this.storage.characters=e=>{const t=(e==null?void 0:e.node)||this.editor.state.doc;if(((e==null?void 0:e.mode)||this.options.mode)==="textSize"){const r=t.textBetween(0,t.content.size,void 0," ");return this.options.textCounter(r)}return t.nodeSize},this.storage.words=e=>{const t=(e==null?void 0:e.node)||this.editor.state.doc,n=t.textBetween(0,t.content.size," "," ");return this.options.wordCounter(n)}},addProseMirrorPlugins(){let e=!1;return[new Kt({key:new kn("characterCount"),appendTransaction:(t,n,r)=>{if(e)return;const o=this.options.limit;if(o==null||o===0){e=!0;return}const i=this.storage.characters({node:r.doc});if(i>o){const a=i-o,l=0,u=a;console.warn(`[CharacterCount] Initial content exceeded limit of ${o} characters. Content was automatically trimmed.`);const f=r.tr.deleteRange(l,u);return e=!0,f}e=!0},filterTransaction:(t,n)=>{const r=this.options.limit;if(!t.docChanged||r===0||r===null||r===void 0)return!0;const o=this.storage.characters({node:n.doc}),i=this.storage.characters({node:t.doc});if(i<=r||o>r&&i>r&&i<=o)return!0;if(o>r&&i>r&&i>o||!t.getMeta("paste"))return!1;const l=t.selection.$head.pos,u=i-r,f=l-u,h=l;return t.deleteRange(f,h),!(this.storage.characters({node:t.doc})>r)}})]}});var kW=St.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[dW(this.options)]}});St.create({name:"focus",addOptions(){return{className:"has-focus",mode:"all"}},addProseMirrorPlugins(){return[new Kt({key:new kn("focus"),props:{decorations:({doc:e,selection:t})=>{const{isEditable:n,isFocused:r}=this.editor,{anchor:o}=t,i=[];if(!n||!r)return Bt.create(e,[]);let a=0;this.options.mode==="deepest"&&e.descendants((u,f)=>{if(u.isText)return;if(!(o>=f&&o<=f+u.nodeSize-1))return!1;a+=1});let l=0;return e.descendants((u,f)=>{if(u.isText||!(o>=f&&o<=f+u.nodeSize-1))return!1;if(l+=1,this.options.mode==="deepest"&&a-l>0||this.options.mode==="shallowest"&&l>1)return this.options.mode==="deepest";i.push(ir.node(f,f+u.nodeSize,{class:this.options.className}))}),Bt.create(e,i)}}})]}});var MW=St.create({name:"gapCursor",addProseMirrorPlugins(){return[mW()]},extendNodeSchema(e){var t;const n={name:e.name,options:e.options,storage:e.storage};return{allowGapCursor:(t=ht(Me(e,"allowGapCursor",n)))!=null?t:null}}});St.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something ",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){return[new Kt({key:new kn("placeholder"),props:{decorations:({doc:e,selection:t})=>{const n=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:r}=t,o=[];if(!n)return null;const i=this.editor.isEmpty;return e.descendants((a,l)=>{const u=r>=l&&r<=l+a.nodeSize,f=!a.isLeaf&&_x(a);if((u||!this.options.showOnlyCurrent)&&f){const h=[this.options.emptyNodeClass];i&&h.push(this.options.emptyEditorClass);const p=ir.node(l,l+a.nodeSize,{class:h.join(" "),"data-placeholder":typeof this.options.placeholder=="function"?this.options.placeholder({editor:this.editor,node:a,pos:l,hasAnchor:u}):this.options.placeholder});o.push(p)}return this.options.includeChildren}),Bt.create(e,o)}}})]}});St.create({name:"selection",addOptions(){return{className:"selection"}},addProseMirrorPlugins(){const{editor:e,options:t}=this;return[new Kt({key:new kn("selection"),props:{decorations(n){return n.selection.empty||e.isFocused||!e.isEditable||O_(n.selection)||e.view.dragging?null:Bt.create(n.doc,[ir.inline(n.selection.from,n.selection.to,{class:t.className})])}}})]}});function O5({types:e,node:t}){return t&&Array.isArray(e)&&e.includes(t.type)||(t==null?void 0:t.type)===e}var PW=St.create({name:"trailingNode",addOptions(){return{node:void 0,notAfter:[]}},addProseMirrorPlugins(){var e;const t=new kn(this.name),n=((e=this.editor.schema.topNodeType.contentMatch.defaultType)==null?void 0:e.name)||this.options.node||"paragraph",r=Object.entries(this.editor.schema.nodes).map(([,o])=>o).filter(o=>(this.options.notAfter||[]).concat(n).includes(o.name));return[new Kt({key:t,appendTransaction:(o,i,a)=>{const{doc:l,tr:u,schema:f}=a,h=t.getState(a),p=l.content.size,g=f.nodes[n];if(h)return u.insert(p,g.create())},state:{init:(o,i)=>{const a=i.tr.doc.lastChild;return!O5({node:a,types:r})},apply:(o,i)=>{if(!o.docChanged)return i;const a=o.doc.lastChild;return!O5({node:a,types:r})}}})]}}),RW=St.create({name:"undoRedo",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:e,dispatch:t})=>SO(e,t),redo:()=>({state:e,dispatch:t})=>EO(e,t)}},addProseMirrorPlugins(){return[TW(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),IW=St.create({name:"starterKit",addExtensions(){var e,t,n,r;const o=[];return this.options.bold!==!1&&o.push(aK.configure(this.options.bold)),this.options.blockquote!==!1&&o.push(tK.configure(this.options.blockquote)),this.options.bulletList!==!1&&o.push(uO.configure(this.options.bulletList)),this.options.code!==!1&&o.push(cK.configure(this.options.code)),this.options.codeBlock!==!1&&o.push(fK.configure(this.options.codeBlock)),this.options.document!==!1&&o.push(hK.configure(this.options.document)),this.options.dropcursor!==!1&&o.push(kW.configure(this.options.dropcursor)),this.options.gapcursor!==!1&&o.push(MW.configure(this.options.gapcursor)),this.options.hardBreak!==!1&&o.push(pK.configure(this.options.hardBreak)),this.options.heading!==!1&&o.push(mK.configure(this.options.heading)),this.options.undoRedo!==!1&&o.push(RW.configure(this.options.undoRedo)),this.options.horizontalRule!==!1&&o.push(gK.configure(this.options.horizontalRule)),this.options.italic!==!1&&o.push(wK.configure(this.options.italic)),this.options.listItem!==!1&&o.push(dO.configure(this.options.listItem)),this.options.listKeymap!==!1&&o.push(xO.configure((e=this.options)==null?void 0:e.listKeymap)),this.options.link!==!1&&o.push(cO.configure((t=this.options)==null?void 0:t.link)),this.options.orderedList!==!1&&o.push(vO.configure(this.options.orderedList)),this.options.paragraph!==!1&&o.push(iW.configure(this.options.paragraph)),this.options.strike!==!1&&o.push(lW.configure(this.options.strike)),this.options.text!==!1&&o.push(cW.configure(this.options.text)),this.options.underline!==!1&&o.push(yO.configure((n=this.options)==null?void 0:n.underline)),this.options.trailingNode!==!1&&o.push(PW.configure((r=this.options)==null?void 0:r.trailingNode)),o}}),DW=IW,_W=20,jO=(e,t=0)=>{const n=[];return!e.children.length||t>_W||Array.from(e.children).forEach(r=>{r.tagName==="SPAN"?n.push(r):r.children.length&&n.push(...jO(r,t+1))}),n},OW=e=>{if(!e.children.length)return;const t=jO(e);t&&t.forEach(n=>{var r,o;const i=n.getAttribute("style"),a=(o=(r=n.parentElement)==null?void 0:r.closest("span"))==null?void 0:o.getAttribute("style");n.setAttribute("style",`${a};${i}`)})},AO=la.create({name:"textStyle",priority:101,addOptions(){return{HTMLAttributes:{},mergeNestedSpanStyles:!0}},parseHTML(){return[{tag:"span",consuming:!1,getAttrs:e=>e.hasAttribute("style")?(this.options.mergeNestedSpanStyles&&OW(e),{}):!1}]},renderHTML({HTMLAttributes:e}){return["span",zt(this.options.HTMLAttributes,e),0]},addCommands(){return{toggleTextStyle:e=>({commands:t})=>t.toggleMark(this.name,e),removeEmptyTextStyle:()=>({tr:e})=>{const{selection:t}=e;return e.doc.nodesBetween(t.from,t.to,(n,r)=>{if(n.isTextblock)return!0;n.marks.filter(o=>o.type===this.type).some(o=>Object.values(o.attrs).some(i=>!!i))||e.removeMark(r,r+n.nodeSize,this.type)}),!0}}}}),LW=St.create({name:"backgroundColor",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{backgroundColor:{default:null,parseHTML:e=>{var t;const n=e.getAttribute("style");if(n){const r=n.split(";").map(o=>o.trim()).filter(Boolean);for(let o=r.length-1;o>=0;o-=1){const i=r[o].split(":");if(i.length>=2){const a=i[0].trim().toLowerCase(),l=i.slice(1).join(":").trim();if(a==="background-color")return l.replace(/['"]+/g,"")}}}return(t=e.style.backgroundColor)==null?void 0:t.replace(/['"]+/g,"")},renderHTML:e=>e.backgroundColor?{style:`background-color: ${e.backgroundColor}`}:{}}}}]},addCommands(){return{setBackgroundColor:e=>({chain:t})=>t().setMark("textStyle",{backgroundColor:e}).run(),unsetBackgroundColor:()=>({chain:e})=>e().setMark("textStyle",{backgroundColor:null}).removeEmptyTextStyle().run()}}}),TO=St.create({name:"color",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{color:{default:null,parseHTML:e=>{var t;const n=e.getAttribute("style");if(n){const r=n.split(";").map(o=>o.trim()).filter(Boolean);for(let o=r.length-1;o>=0;o-=1){const i=r[o].split(":");if(i.length>=2){const a=i[0].trim().toLowerCase(),l=i.slice(1).join(":").trim();if(a==="color")return l.replace(/['"]+/g,"")}}}return(t=e.style.color)==null?void 0:t.replace(/['"]+/g,"")},renderHTML:e=>e.color?{style:`color: ${e.color}`}:{}}}}]},addCommands(){return{setColor:e=>({chain:t})=>t().setMark("textStyle",{color:e}).run(),unsetColor:()=>({chain:e})=>e().setMark("textStyle",{color:null}).removeEmptyTextStyle().run()}}}),BW=St.create({name:"fontFamily",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{fontFamily:{default:null,parseHTML:e=>e.style.fontFamily,renderHTML:e=>e.fontFamily?{style:`font-family: ${e.fontFamily}`}:{}}}}]},addCommands(){return{setFontFamily:e=>({chain:t})=>t().setMark("textStyle",{fontFamily:e}).run(),unsetFontFamily:()=>({chain:e})=>e().setMark("textStyle",{fontFamily:null}).removeEmptyTextStyle().run()}}}),UW=St.create({name:"fontSize",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{fontSize:{default:null,parseHTML:e=>e.style.fontSize,renderHTML:e=>e.fontSize?{style:`font-size: ${e.fontSize}`}:{}}}}]},addCommands(){return{setFontSize:e=>({chain:t})=>t().setMark("textStyle",{fontSize:e}).run(),unsetFontSize:()=>({chain:e})=>e().setMark("textStyle",{fontSize:null}).removeEmptyTextStyle().run()}}}),zW=St.create({name:"lineHeight",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{lineHeight:{default:null,parseHTML:e=>e.style.lineHeight,renderHTML:e=>e.lineHeight?{style:`line-height: ${e.lineHeight}`}:{}}}}]},addCommands(){return{setLineHeight:e=>({chain:t})=>t().setMark("textStyle",{lineHeight:e}).run(),unsetLineHeight:()=>({chain:e})=>e().setMark("textStyle",{lineHeight:null}).removeEmptyTextStyle().run()}}});St.create({name:"textStyleKit",addExtensions(){const e=[];return this.options.backgroundColor!==!1&&e.push(LW.configure(this.options.backgroundColor)),this.options.color!==!1&&e.push(TO.configure(this.options.color)),this.options.fontFamily!==!1&&e.push(BW.configure(this.options.fontFamily)),this.options.fontSize!==!1&&e.push(UW.configure(this.options.fontSize)),this.options.lineHeight!==!1&&e.push(zW.configure(this.options.lineHeight)),this.options.textStyle!==!1&&e.push(AO.configure(this.options.textStyle)),e}});var FW=/(?:^|\s)(==(?!\s+==)((?:[^=]+))==(?!\s+==))$/,qW=/(?:^|\s)(==(?!\s+==)((?:[^=]+))==(?!\s+==))/g,HW=la.create({name:"highlight",addOptions(){return{multicolor:!1,HTMLAttributes:{}}},addAttributes(){return this.options.multicolor?{color:{default:null,parseHTML:e=>e.getAttribute("data-color")||e.style.backgroundColor,renderHTML:e=>e.color?{"data-color":e.color,style:`background-color: ${e.color}; color: inherit`}:{}}}:{}},parseHTML(){return[{tag:"mark"}]},renderHTML({HTMLAttributes:e}){return["mark",zt(this.options.HTMLAttributes,e),0]},renderMarkdown:(e,t)=>`==${t.renderChildren(e)}==`,parseMarkdown:(e,t)=>t.applyMark("highlight",t.parseInline(e.tokens||[])),markdownTokenizer:{name:"highlight",level:"inline",start:e=>e.indexOf("=="),tokenize(e,t,n){const o=/^(==)([^=]+)(==)/.exec(e);if(o){const i=o[2].trim(),a=n.inlineTokens(i);return{type:"highlight",raw:o[0],text:i,tokens:a}}}},addCommands(){return{setHighlight:e=>({commands:t})=>t.setMark(this.name,e),toggleHighlight:e=>({commands:t})=>t.toggleMark(this.name,e),unsetHighlight:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-h":()=>this.editor.commands.toggleHighlight()}},addInputRules(){return[Tl({find:FW,type:this.type})]},addPasteRules(){return[Cs({find:qW,type:this.type})]}}),VW=/(?:^|\s)(!\[(.+|:?)]\((\S+)(?:(?:\s+)["'](\S+)["'])?\))$/,$W=Tr.create({name:"image",addOptions(){return{inline:!1,allowBase64:!1,HTMLAttributes:{},resize:!1}},inline(){return this.options.inline},group(){return this.options.inline?"inline":"block"},draggable:!0,addAttributes(){return{src:{default:null},alt:{default:null},title:{default:null},width:{default:null},height:{default:null}}},parseHTML(){return[{tag:this.options.allowBase64?"img[src]":'img[src]:not([src^="data:"])'}]},renderHTML({HTMLAttributes:e}){return["img",zt(this.options.HTMLAttributes,e)]},parseMarkdown:(e,t)=>t.createNode("image",{src:e.href,title:e.title,alt:e.text}),renderMarkdown:e=>{var t,n,r,o,i,a;const l=(n=(t=e.attrs)==null?void 0:t.src)!=null?n:"",u=(o=(r=e.attrs)==null?void 0:r.alt)!=null?o:"",f=(a=(i=e.attrs)==null?void 0:i.title)!=null?a:"";return f?`![${u}](${l} "${f}")`:`![${u}](${l})`},addNodeView(){if(!this.options.resize||!this.options.resize.enabled||typeof document>"u"||!this.editor.isEditable)return null;const{directions:e,minWidth:t,minHeight:n,alwaysPreserveAspectRatio:r}=this.options.resize;return({node:o,getPos:i,HTMLAttributes:a})=>{const l=document.createElement("img");Object.entries(a).forEach(([h,p])=>{if(p!=null)switch(h){case"width":case"height":break;default:l.setAttribute(h,p);break}}),l.src=a.src;const u=new SG({element:l,node:o,getPos:i,onResize:(h,p)=>{l.style.width=`${h}px`,l.style.height=`${p}px`},onCommit:(h,p)=>{const g=i();g!==void 0&&this.editor.chain().setNodeSelection(g).updateAttributes(this.name,{width:h,height:p}).run()},onUpdate:(h,p,g)=>h.type===o.type,options:{directions:e,min:{width:t,height:n},preserveAspectRatio:r===!0}}),f=u.dom;return f.style.visibility="hidden",f.style.pointerEvents="none",l.onload=()=>{f.style.visibility="",f.style.pointerEvents=""},u}},addCommands(){return{setImage:e=>({commands:t})=>t.insertContent({type:this.name,attrs:e})}},addInputRules(){return[Y_({find:VW,type:this.type,getAttributes:e=>{const[,,t,n,r]=e;return{src:n,alt:t,title:r}}})]}}),GW=$W,KW=St.create({name:"textAlign",addOptions(){return{types:[],alignments:["left","center","right","justify"],defaultAlignment:null}},addGlobalAttributes(){return[{types:this.options.types,attributes:{textAlign:{default:this.options.defaultAlignment,parseHTML:e=>{const t=e.style.textAlign;return this.options.alignments.includes(t)?t:this.options.defaultAlignment},renderHTML:e=>e.textAlign?{style:`text-align: ${e.textAlign}`}:{}}}}]},addCommands(){return{setTextAlign:e=>({commands:t})=>this.options.alignments.includes(e)?this.options.types.map(n=>t.updateAttributes(n,{textAlign:e})).every(n=>n):!1,unsetTextAlign:()=>({commands:e})=>this.options.types.map(t=>e.resetAttributes(t,"textAlign")).every(t=>t),toggleTextAlign:e=>({editor:t,commands:n})=>this.options.alignments.includes(e)?t.isActive({textAlign:e})?n.unsetTextAlign():n.setTextAlign(e):!1}},addKeyboardShortcuts(){return{"Mod-Shift-l":()=>this.editor.commands.setTextAlign("left"),"Mod-Shift-e":()=>this.editor.commands.setTextAlign("center"),"Mod-Shift-r":()=>this.editor.commands.setTextAlign("right"),"Mod-Shift-j":()=>this.editor.commands.setTextAlign("justify")}}}),WW=KW;const JW=e=>s.jsx("svg",{...e,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:s.jsx("path",{d:"M15.6 10.79c.97-.67 1.65-1.77 1.65-2.79 0-2.26-1.75-4-4-4H7v14h7.04c2.09 0 3.71-1.7 3.71-3.79 0-1.52-.86-2.82-2.15-3.42zM10 6.5h3c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5h-3v-3zm3.5 9H10v-3h3.5c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5z"})}),YW=e=>s.jsx("svg",{...e,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:s.jsx("path",{d:"M10 4v3h2.21l-3.42 8H6v3h8v-3h-2.21l3.42-8H18V4z"})}),XW=e=>s.jsx("svg",{...e,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:s.jsx("path",{d:"M12 17c3.31 0 6-2.69 6-6V3h-2.5v8c0 1.93-1.57 3.5-3.5 3.5S8.5 12.93 8.5 11V3H6v8c0 3.31 2.69 6 6 6zM5 19v2h14v-2H5z"})}),QW=e=>s.jsx("svg",{...e,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:s.jsx("path",{d:"M10 19h4v-3h-4v3zM5 4v3h5v3h4V7h5V4H5zM3 14h18v-2H3v2z"})}),ZW=e=>s.jsx("svg",{...e,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:s.jsx("path",{d:"M7 5h14v2H7V5zm0 6h14v2H7v-2zm0 6h14v2H7v-2zM4 17.27L2.27 15.54 2 15.77V13h3v1h-1.23l1.73 1.73L4 17.27zM4.25 10H2V4h3v1H3.25v2.5h1V8.5H2v.5h2.25V10z"})}),eJ=e=>s.jsx("svg",{...e,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:s.jsx("path",{d:"M3 13h2v-2H3v2zm0 4h2v-2H3v2zm0-8h2V7H3v2zm4 4h14v-2H7v2zm0 4h14v-2H7v2zM7 7v2h14V7H7z"})}),tJ=e=>s.jsx("svg",{...e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h11.25m-11.25 5.25h16.5"})}),nJ=e=>s.jsx("svg",{...e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M6 12h12m-9 5.25h6"})}),rJ=e=>s.jsx("svg",{...e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M8.25 12h11.25M3.75 17.25h16.5"})}),oJ=e=>s.jsx("svg",{...e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"})}),iJ=e=>s.jsx("svg",{...e,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:s.jsx("path",{d:"M6 17h3l2-4V7H5v6h3l-2 4zm8 0h3l2-4V7h-6v6h3l-2 4z"})}),aJ=e=>s.jsx("svg",{...e,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:s.jsx("path",{d:"M12.5 8c-2.65 0-5.05.99-6.9 2.6L2 7v9h9l-3.62-3.62c1.39-1.16 3.16-1.88 5.12-1.88 3.54 0 6.55 2.31 7.6 5.5l2.37-.78C21.08 11.03 17.15 8 12.5 8z"})}),sJ=e=>s.jsx("svg",{...e,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:s.jsx("path",{d:"M18.4 10.6C16.55 8.99 14.15 8 11.5 8c-4.65 0-8.58 3.03-9.96 7.22L3.9 16c1.05-3.19 4.05-5.5 7.6-5.5 1.96 0 3.73.72 5.12 1.88L13 16h9V7l-3.6 3.6z"})}),lJ=e=>s.jsx("svg",{...e,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:s.jsx("path",{d:"M9.4 16.6L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z"})}),cJ=e=>s.jsx("svg",{...e,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:s.jsx("path",{d:"M3.27 5L2 6.27l6.97 6.97L6.5 19h3l1.57-3.66L16.73 21 18 19.73 3.55 5.27 3.27 5zM6 5v.18L8.82 8h2.4l-.72 1.68 2.1 2.1L14.21 8H20V5H6z"})}),uJ=e=>s.jsx("svg",{...e,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:s.jsx("path",{d:"M11 3L5.5 17h2.25l1.12-3h6.25l1.12 3h2.25L13 3h-2zm-1.38 9L12 5.67 14.38 12H9.62z"})}),dJ=e=>s.jsxs("svg",{...e,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:[s.jsx("path",{d:"M15.24 13.16l-2.2-2.2-1.41 1.41 2.2 2.2-2.35 2.35-1.41-1.41-2.2 2.2 3.76 3.76 2.2-2.2-1.41-1.41z"}),s.jsx("path",{d:"M19.78 4.22a.996.996 0 00-1.41 0l-1.83 1.83 2.83 2.83 1.83-1.83a.996.996 0 000-1.41l-1.42-1.42zM15.54 5.64L5.64 15.54 4.22 14.12 14.12 4.22l1.42 1.42zM2.12 15.54l5.29 5.29 1.41-1.41-5.29-5.29-1.41 1.41z"})]}),kO=e=>s.jsx("svg",{...e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.19 8.688a4.5 4.5 0 011.242 7.244l-4.5 4.5a4.5 4.5 0 01-6.364-6.364l1.757-1.757m13.35-.622l1.757-1.757a4.5 4.5 0 00-6.364-6.364l-4.5 4.5a4.5 4.5 0 001.242 7.244"})}),fJ=e=>s.jsx("svg",{...e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 15.75l5.159-5.159a2.25 2.25 0 013.182 0l5.159 5.159m-1.5-1.5l1.409-1.409a2.25 2.25 0 013.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 001.5-1.5V6a1.5 1.5 0 00-1.5-1.5H3.75A1.5 1.5 0 002.25 6v12a1.5 1.5 0 001.5 1.5zm10.5-11.25h.008v.008h-.008V8.25zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0z"})}),hJ=e=>s.jsx("svg",{...e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 12h16.5"})}),pJ=({editor:e,openLinkModal:t})=>{const n=E.useRef(null);if(!e)return null;const r=E.useCallback(()=>{var a;(a=n.current)==null||a.click()},[]),o=a=>{var f;const l=(f=a.target.files)==null?void 0:f[0];if(!l||!e)return;if(!l.type.startsWith("image/")){alert("Por favor, selecione um arquivo de imagem (JPG, PNG, GIF, etc.).");return}const u=new FileReader;u.onload=h=>{var g;const p=(g=h.target)==null?void 0:g.result;p&&e.chain().focus().setImage({src:p,alt:"Imagem na descrio"}).run()},u.onerror=()=>{alert("Ocorreu um erro ao ler o arquivo.")},u.readAsDataURL(l),a.target&&(a.target.value="")},i=({onClick:a,isActive:l,children:u,title:f})=>s.jsx("button",{type:"button",onClick:a,title:f,className:`p-2 rounded-md transition-colors flex flex-col items-center justify-center ${l?"bg-[rgb(var(--color-brand-gold))] text-[rgb(var(--color-brand-dark))]":"text-[rgb(var(--color-brand-text-dim))] hover:bg-[rgb(var(--color-brand-gray))]"}`,children:u});return s.jsxs("div",{className:"flex flex-wrap items-center gap-1 p-2 border-b border-[rgb(var(--color-brand-gray-light))]",children:[s.jsx("input",{type:"file",ref:n,onChange:o,accept:"image/*",className:"hidden"}),s.jsx(i,{onClick:()=>e.chain().focus().undo().run(),title:"Desfazer",children:s.jsx(aJ,{className:"w-5 h-5"})}),s.jsx(i,{onClick:()=>e.chain().focus().redo().run(),title:"Refazer",children:s.jsx(sJ,{className:"w-5 h-5"})}),s.jsx("div",{className:"border-l border-[rgb(var(--color-brand-gray-light))] mx-1 h-6 self-center"}),s.jsxs("select",{onChange:a=>{const l=a.target.value,u=parseInt(l,10);u===0?e.chain().focus().setParagraph().run():e.chain().focus().toggleHeading({level:u}).run()},value:e.isActive("heading",{level:1})?"1":e.isActive("heading",{level:2})?"2":e.isActive("heading",{level:3})?"3":"0",className:"bg-[rgb(var(--color-brand-gray))] border-2 border-[rgb(var(--color-brand-gray-light))] text-[rgb(var(--color-brand-text-light))] py-2 px-2 rounded-md hover:bg-[rgb(var(--color-brand-gray-light))] transition-colors text-sm font-semibold focus:outline-none focus:border-[rgb(var(--color-brand-gold))]",children:[s.jsx("option",{value:"0",children:"Pargrafo"}),s.jsx("option",{value:"1",children:"Ttulo 1"}),s.jsx("option",{value:"2",children:"Ttulo 2"}),s.jsx("option",{value:"3",children:"Ttulo 3"})]}),s.jsx("div",{className:"border-l border-[rgb(var(--color-brand-gray-light))] mx-1 h-6 self-center"}),s.jsx(i,{onClick:()=>e.chain().focus().toggleBold().run(),isActive:e.isActive("bold"),title:"Negrito",children:s.jsx(JW,{className:"w-5 h-5"})}),s.jsx(i,{onClick:()=>e.chain().focus().toggleItalic().run(),isActive:e.isActive("italic"),title:"Itlico",children:s.jsx(YW,{className:"w-5 h-5"})}),s.jsx(i,{onClick:()=>e.chain().focus().toggleUnderline().run(),isActive:e.isActive("underline"),title:"Sublinhado",children:s.jsx(XW,{className:"w-5 h-5"})}),s.jsx(i,{onClick:()=>e.chain().focus().toggleStrike().run(),isActive:e.isActive("strike"),title:"Tachado",children:s.jsx(QW,{className:"w-5 h-5"})}),s.jsxs("div",{className:"relative",children:[s.jsxs(i,{onClick:()=>{},isActive:e.isActive("textStyle"),title:"Cor do Texto",children:[s.jsx(uJ,{className:"w-5 h-5"}),s.jsx("div",{className:"w-full h-1 rounded-full mt-1 border border-[rgb(var(--color-brand-gray))] ",style:{backgroundColor:e.getAttributes("textStyle").color||"currentColor"}})]}),s.jsx("input",{type:"color",className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer",onInput:a=>e.chain().focus().setColor(a.target.value).run(),value:e.getAttributes("textStyle").color||"#FFFFFF"})]}),s.jsxs("div",{className:"relative",children:[s.jsxs(i,{onClick:()=>{},isActive:e.isActive("highlight"),title:"Cor de Destaque",children:[s.jsx(dJ,{className:"w-5 h-5"}),s.jsx("div",{className:"w-full h-1 rounded-full mt-1 border border-[rgb(var(--color-brand-gray))]",style:{backgroundColor:e.getAttributes("highlight").color||"rgb(var(--color-brand-gold))"}})]}),s.jsx("input",{type:"color",className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer",onInput:a=>e.chain().focus().toggleHighlight({color:a.target.value}).run(),value:e.getAttributes("highlight").color||"rgb(var(--color-brand-gold))"})]}),s.jsx("div",{className:"border-l border-[rgb(var(--color-brand-gray-light))] mx-1 h-6 self-center"}),s.jsx(i,{onClick:()=>e.chain().focus().setTextAlign("left").run(),isActive:e.isActive({textAlign:"left"}),title:"Alinhar  Esquerda",children:s.jsx(tJ,{className:"w-5 h-5"})}),s.jsx(i,{onClick:()=>e.chain().focus().setTextAlign("center").run(),isActive:e.isActive({textAlign:"center"}),title:"Centralizar",children:s.jsx(nJ,{className:"w-5 h-5"})}),s.jsx(i,{onClick:()=>e.chain().focus().setTextAlign("right").run(),isActive:e.isActive({textAlign:"right"}),title:"Alinhar  Direita",children:s.jsx(rJ,{className:"w-5 h-5"})}),s.jsx(i,{onClick:()=>e.chain().focus().setTextAlign("justify").run(),isActive:e.isActive({textAlign:"justify"}),title:"Justificar",children:s.jsx(oJ,{className:"w-5 h-5"})}),s.jsx("div",{className:"border-l border-[rgb(var(--color-brand-gray-light))] mx-1 h-6 self-center"}),s.jsx(i,{onClick:t,isActive:e.isActive("link"),title:"Adicionar Link",children:s.jsx(kO,{className:"w-5 h-5"})}),s.jsx(i,{onClick:r,title:"Adicionar Imagem/GIF",children:s.jsx(fJ,{className:"w-5 h-5"})}),s.jsx(i,{onClick:()=>e.chain().focus().setHorizontalRule().run(),title:"Linha Horizontal",children:s.jsx(hJ,{className:"w-5 h-5"})}),s.jsx("div",{className:"border-l border-[rgb(var(--color-brand-gray-light))] mx-1 h-6 self-center"}),s.jsx(i,{onClick:()=>e.chain().focus().toggleBulletList().run(),isActive:e.isActive("bulletList"),title:"Lista com Marcadores",children:s.jsx(eJ,{className:"w-5 h-5"})}),s.jsx(i,{onClick:()=>e.chain().focus().toggleOrderedList().run(),isActive:e.isActive("orderedList"),title:"Lista Numerada",children:s.jsx(ZW,{className:"w-5 h-5"})}),s.jsx(i,{onClick:()=>e.chain().focus().toggleBlockquote().run(),isActive:e.isActive("blockquote"),title:"Citao",children:s.jsx(iJ,{className:"w-5 h-5"})}),s.jsx(i,{onClick:()=>e.chain().focus().toggleCodeBlock().run(),isActive:e.isActive("codeBlock"),title:"Bloco de Cdigo",children:s.jsx(lJ,{className:"w-5 h-5"})}),s.jsx("div",{className:"border-l border-[rgb(var(--color-brand-gray-light))] mx-1 h-6 self-center"}),s.jsx(i,{onClick:()=>e.chain().focus().unsetAllMarks().clearNodes().run(),title:"Limpar Formato",children:s.jsx(cJ,{className:"w-5 h-5"})})]})},MO=({value:e,onChange:t})=>{const n=YG({extensions:[DW.configure({heading:{levels:[1,2,3]}}),uW,GK.configure({openOnClick:!1,autolink:!0}),WW.configure({types:["heading","paragraph"]}),AO,TO,HW.configure({multicolor:!0}),GW],content:e,onUpdate:({editor:h})=>{t(h.getHTML())},editorProps:{attributes:{class:"focus:outline-none"}}}),[r,o]=E.useState(!1),[i,a]=E.useState(""),l=E.useCallback(()=>{if(!n)return;const h=n.getAttributes("link").href||"";a(h),o(!0)},[n]),u=E.useCallback(()=>{o(!1),a("")},[]),f=E.useCallback(()=>{if(n){if(i){let h=i;!/^https?:\/\//i.test(i)&&!/^mailto:/i.test(i)&&(h=`https://${i}`),n.chain().focus().extendMarkRange("link").setLink({href:h}).run()}else n.chain().focus().extendMarkRange("link").unsetLink().run();u()}},[n,i,u]);return s.jsxs("div",{className:"bg-[rgb(var(--color-brand-gray))] border-2 border-[rgb(var(--color-brand-gray-light))] rounded-md focus-within:border-[rgb(var(--color-brand-gold))] transition-colors",children:[s.jsx("style",{children:`
                .ProseMirror {
                    color: rgb(var(--color-brand-text-light));
                }
                .ProseMirror blockquote {
                    border-left: 3px solid rgb(var(--color-brand-gold)); /* amber-500 */
                    padding-left: 1rem;
                    margin-left: 0.5rem;
                    font-style: italic;
                    color: rgb(var(--color-brand-text-dim)); /* gray-300 */
                }
                .ProseMirror ul, .ProseMirror ol {
                    padding-left: 1.5rem;
                }
                .ProseMirror a {
                    color: rgb(var(--color-info)); /* A golden-green for links */
                    text-decoration: underline;
                    cursor: pointer;
                }
                .ProseMirror code {
                    background-color: rgba(255, 255, 255, 0.1);
                    padding: 0.2em 0.4em;
                    border-radius: 5px;
                    color: #f3f4f6;
                }
                .ProseMirror pre {
                    background-color: rgb(var(--color-brand-dark)); /* gray-900 */
                    padding: 1rem;
                    border-radius: 0.5rem;
                    color: rgb(var(--color-brand-text-dim));
                    font-family: monospace;
                }
                 .ProseMirror mark {
                    border-radius: 2px;
                    padding: 0.1em 0.2em;
                 }
                 .ProseMirror img {
                    max-width: 100%;
                    height: auto;
                    border-radius: 8px;
                    margin-top: 1rem;
                    margin-bottom: 1rem;
                 }
            `}),s.jsx(pJ,{editor:n,openLinkModal:l}),s.jsx("div",{className:"min-h-[200px] cursor-text p-4",children:s.jsx(HG,{editor:n})}),r&&s.jsx("div",{className:"fixed inset-0 bg-[rgb(var(--color-brand-dark))]/[.70] z-[101] flex items-center justify-center p-4",onClick:u,children:s.jsxs("div",{className:"bg-[rgb(var(--color-brand-dark))] border-2 border-[rgb(var(--color-brand-gold))]/[.30] rounded-lg shadow-2xl p-6 w-full max-w-md space-y-4",onClick:h=>h.stopPropagation(),children:[s.jsx("h3",{className:"text-lg font-bold text-[rgb(var(--color-brand-text-light))]",children:"Adicionar / Editar Link"}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"link-url",className:"block text-sm font-medium text-[rgb(var(--color-brand-text-dim))] mb-1",children:"URL"}),s.jsx("input",{id:"link-url",type:"url",value:i,onChange:h=>a(h.target.value),autoFocus:!0,className:"w-full bg-[rgb(var(--color-brand-gray))] border-2 border-[rgb(var(--color-brand-gray-light))] rounded-md py-2 px-3 text-[rgb(var(--color-brand-text-light))] focus:outline-none focus:border-[rgb(var(--color-brand-gold))]",placeholder:"https://exemplo.com",onKeyDown:h=>{h.key==="Enter"&&(h.preventDefault(),f())}})]}),s.jsxs("div",{className:"flex justify-end gap-4 pt-2",children:[s.jsx("button",{type:"button",onClick:u,className:"text-sm font-semibold bg-[rgb(var(--color-brand-gray))] text-[rgb(var(--color-brand-text-light))] py-2 px-4 rounded-md hover:bg-[rgb(var(--color-brand-gray-light))]",children:"Cancelar"}),s.jsx("button",{type:"button",onClick:f,className:"text-sm font-bold bg-[rgb(var(--color-active-lime))] text-[rgb(var(--color-brand-dark))] py-2 px-4 rounded-md hover:bg-[rgb(var(--color-success))]",children:"Salvar"})]})]})})]})},vt=({checked:e,onChange:t,labelId:n})=>s.jsxs("label",{htmlFor:n,className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",id:n,checked:e,onChange:r=>t(r.target.checked),className:"sr-only peer"}),s.jsx("div",{className:"w-11 h-6 bg-gray-700 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-yellow-500"})]}),Eg=e=>s.jsxs("svg",{...e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:[s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.5 8.25h9m-9 3H12m-2.25 3h5.25"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 21v-4.5a3.75 3.75 0 013.75-3.75h9a3.75 3.75 0 013.75 3.75v4.5"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12.75v-6a3 3 0 013-3h9a3 3 0 013 3v6"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 3.75v-1.5a1.5 1.5 0 011.5-1.5h.008a1.5 1.5 0 011.5 1.5v1.5"})]});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let mJ,gJ;function xJ(){return{geminiUrl:mJ,vertexUrl:gJ}}function bJ(e,t,n,r){var o,i;if(!(e!=null&&e.baseUrl)){const a=xJ();return t?(o=a.vertexUrl)!==null&&o!==void 0?o:n:(i=a.geminiUrl)!==null&&i!==void 0?i:r}return e.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ca{}function ye(e,t){const n=/\{([^}]+)\}/g;return e.replace(n,(r,o)=>{if(Object.prototype.hasOwnProperty.call(t,o)){const i=t[o];return i!=null?String(i):""}else throw new Error(`Key '${o}' not found in valueMap.`)})}function w(e,t,n){for(let i=0;i<t.length-1;i++){const a=t[i];if(a.endsWith("[]")){const l=a.slice(0,-2);if(!(l in e))if(Array.isArray(n))e[l]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${a}`);if(Array.isArray(e[l])){const u=e[l];if(Array.isArray(n))for(let f=0;f<u.length;f++){const h=u[f];w(h,t.slice(i+1),n[f])}else for(const f of u)w(f,t.slice(i+1),n)}return}else if(a.endsWith("[0]")){const l=a.slice(0,-3);l in e||(e[l]=[{}]);const u=e[l];w(u[0],t.slice(i+1),n);return}(!e[a]||typeof e[a]!="object")&&(e[a]={}),e=e[a]}const r=t[t.length-1],o=e[r];if(o!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===o)return;if(typeof o=="object"&&typeof n=="object"&&o!==null&&n!==null)Object.assign(o,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(e,n):e[r]=n}function v(e,t,n=void 0){try{if(t.length===1&&t[0]==="_self")return e;for(let r=0;r<t.length;r++){if(typeof e!="object"||e===null)return n;const o=t[r];if(o.endsWith("[]")){const i=o.slice(0,-2);if(i in e){const a=e[i];return Array.isArray(a)?a.map(l=>v(l,t.slice(r+1),n)):n}else return n}else e=e[o]}return e}catch(r){if(r instanceof TypeError)return n;throw r}}function vJ(e,t){for(const[n,r]of Object.entries(t)){const o=n.split("."),i=r.split("."),a=new Set;let l=-1;for(let u=0;u<o.length;u++)if(o[u]==="*"){l=u;break}if(l!==-1&&i.length>l)for(let u=l;u<i.length;u++){const f=i[u];f!=="*"&&!f.endsWith("[]")&&!f.endsWith("[0]")&&a.add(f)}Ww(e,o,i,0,a)}}function Ww(e,t,n,r,o){if(r>=t.length||typeof e!="object"||e===null)return;const i=t[r];if(i.endsWith("[]")){const a=i.slice(0,-2),l=e;if(a in l&&Array.isArray(l[a]))for(const u of l[a])Ww(u,t,n,r+1,o)}else if(i==="*"){if(typeof e=="object"&&e!==null&&!Array.isArray(e)){const a=e,l=Object.keys(a).filter(f=>!f.startsWith("_")&&!o.has(f)),u={};for(const f of l)u[f]=a[f];for(const[f,h]of Object.entries(u)){const p=[];for(const g of n.slice(r))g==="*"?p.push(f):p.push(g);w(a,p,h)}for(const f of l)delete a[f]}}else{const a=e;i in a&&Ww(a[i],t,n,r+1,o)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function iN(e){if(typeof e!="string")throw new Error("fromImageBytes must be a string");return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function yJ(e){const t={},n=v(e,["operationName"]);n!=null&&w(t,["operationName"],n);const r=v(e,["resourceName"]);return r!=null&&w(t,["_url","resourceName"],r),t}function wJ(e){const t={},n=v(e,["name"]);n!=null&&w(t,["name"],n);const r=v(e,["metadata"]);r!=null&&w(t,["metadata"],r);const o=v(e,["done"]);o!=null&&w(t,["done"],o);const i=v(e,["error"]);i!=null&&w(t,["error"],i);const a=v(e,["response","generateVideoResponse"]);return a!=null&&w(t,["response"],NJ(a)),t}function CJ(e){const t={},n=v(e,["name"]);n!=null&&w(t,["name"],n);const r=v(e,["metadata"]);r!=null&&w(t,["metadata"],r);const o=v(e,["done"]);o!=null&&w(t,["done"],o);const i=v(e,["error"]);i!=null&&w(t,["error"],i);const a=v(e,["response"]);return a!=null&&w(t,["response"],SJ(a)),t}function NJ(e){const t={},n=v(e,["generatedSamples"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>EJ(a))),w(t,["generatedVideos"],i)}const r=v(e,["raiMediaFilteredCount"]);r!=null&&w(t,["raiMediaFilteredCount"],r);const o=v(e,["raiMediaFilteredReasons"]);return o!=null&&w(t,["raiMediaFilteredReasons"],o),t}function SJ(e){const t={},n=v(e,["videos"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>jJ(a))),w(t,["generatedVideos"],i)}const r=v(e,["raiMediaFilteredCount"]);r!=null&&w(t,["raiMediaFilteredCount"],r);const o=v(e,["raiMediaFilteredReasons"]);return o!=null&&w(t,["raiMediaFilteredReasons"],o),t}function EJ(e){const t={},n=v(e,["video"]);return n!=null&&w(t,["video"],RJ(n)),t}function jJ(e){const t={},n=v(e,["_self"]);return n!=null&&w(t,["video"],IJ(n)),t}function AJ(e){const t={},n=v(e,["operationName"]);return n!=null&&w(t,["_url","operationName"],n),t}function TJ(e){const t={},n=v(e,["operationName"]);return n!=null&&w(t,["_url","operationName"],n),t}function kJ(e){const t={},n=v(e,["name"]);n!=null&&w(t,["name"],n);const r=v(e,["metadata"]);r!=null&&w(t,["metadata"],r);const o=v(e,["done"]);o!=null&&w(t,["done"],o);const i=v(e,["error"]);i!=null&&w(t,["error"],i);const a=v(e,["response"]);return a!=null&&w(t,["response"],MJ(a)),t}function MJ(e){const t={},n=v(e,["sdkHttpResponse"]);n!=null&&w(t,["sdkHttpResponse"],n);const r=v(e,["parent"]);r!=null&&w(t,["parent"],r);const o=v(e,["documentName"]);return o!=null&&w(t,["documentName"],o),t}function PO(e){const t={},n=v(e,["name"]);n!=null&&w(t,["name"],n);const r=v(e,["metadata"]);r!=null&&w(t,["metadata"],r);const o=v(e,["done"]);o!=null&&w(t,["done"],o);const i=v(e,["error"]);i!=null&&w(t,["error"],i);const a=v(e,["response"]);return a!=null&&w(t,["response"],PJ(a)),t}function PJ(e){const t={},n=v(e,["sdkHttpResponse"]);n!=null&&w(t,["sdkHttpResponse"],n);const r=v(e,["parent"]);r!=null&&w(t,["parent"],r);const o=v(e,["documentName"]);return o!=null&&w(t,["documentName"],o),t}function RJ(e){const t={},n=v(e,["uri"]);n!=null&&w(t,["uri"],n);const r=v(e,["encodedVideo"]);r!=null&&w(t,["videoBytes"],iN(r));const o=v(e,["encoding"]);return o!=null&&w(t,["mimeType"],o),t}function IJ(e){const t={},n=v(e,["gcsUri"]);n!=null&&w(t,["uri"],n);const r=v(e,["bytesBase64Encoded"]);r!=null&&w(t,["videoBytes"],iN(r));const o=v(e,["mimeType"]);return o!=null&&w(t,["mimeType"],o),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var L5;(function(e){e.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",e.OUTCOME_OK="OUTCOME_OK",e.OUTCOME_FAILED="OUTCOME_FAILED",e.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(L5||(L5={}));var B5;(function(e){e.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",e.PYTHON="PYTHON"})(B5||(B5={}));var U5;(function(e){e.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",e.SILENT="SILENT",e.WHEN_IDLE="WHEN_IDLE",e.INTERRUPT="INTERRUPT"})(U5||(U5={}));var Sn;(function(e){e.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",e.STRING="STRING",e.NUMBER="NUMBER",e.INTEGER="INTEGER",e.BOOLEAN="BOOLEAN",e.ARRAY="ARRAY",e.OBJECT="OBJECT",e.NULL="NULL"})(Sn||(Sn={}));var z5;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(z5||(z5={}));var F5;(function(e){e.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",e.SIMPLE_SEARCH="SIMPLE_SEARCH",e.ELASTIC_SEARCH="ELASTIC_SEARCH"})(F5||(F5={}));var q5;(function(e){e.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",e.NO_AUTH="NO_AUTH",e.API_KEY_AUTH="API_KEY_AUTH",e.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",e.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",e.OAUTH="OAUTH",e.OIDC_AUTH="OIDC_AUTH"})(q5||(q5={}));var H5;(function(e){e.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",e.HTTP_IN_QUERY="HTTP_IN_QUERY",e.HTTP_IN_HEADER="HTTP_IN_HEADER",e.HTTP_IN_PATH="HTTP_IN_PATH",e.HTTP_IN_BODY="HTTP_IN_BODY",e.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(H5||(H5={}));var V5;(function(e){e.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",e.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",e.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",e.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(V5||(V5={}));var $5;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",e.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",e.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",e.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",e.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})($5||($5={}));var G5;(function(e){e.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",e.SEVERITY="SEVERITY",e.PROBABILITY="PROBABILITY"})(G5||(G5={}));var K5;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE",e.OFF="OFF"})(K5||(K5={}));var W5;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.IMAGE_SAFETY="IMAGE_SAFETY",e.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",e.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",e.NO_IMAGE="NO_IMAGE"})(W5||(W5={}));var J5;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(J5||(J5={}));var Y5;(function(e){e.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",e.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",e.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",e.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",e.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Y5||(Y5={}));var X5;(function(e){e.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",e.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",e.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",e.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",e.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(X5||(X5={}));var Q5;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.IMAGE_SAFETY="IMAGE_SAFETY",e.MODEL_ARMOR="MODEL_ARMOR",e.JAILBREAK="JAILBREAK"})(Q5||(Q5={}));var Z5;(function(e){e.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",e.ON_DEMAND="ON_DEMAND",e.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Z5||(Z5={}));var jg;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.AUDIO="AUDIO"})(jg||(jg={}));var eM;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(eM||(eM={}));var tM;(function(e){e.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",e.TUNING_MODE_FULL="TUNING_MODE_FULL",e.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(tM||(tM={}));var nM;(function(e){e.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",e.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",e.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",e.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",e.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",e.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",e.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(nM||(nM={}));var Jw;(function(e){e.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",e.JOB_STATE_QUEUED="JOB_STATE_QUEUED",e.JOB_STATE_PENDING="JOB_STATE_PENDING",e.JOB_STATE_RUNNING="JOB_STATE_RUNNING",e.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",e.JOB_STATE_FAILED="JOB_STATE_FAILED",e.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",e.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",e.JOB_STATE_PAUSED="JOB_STATE_PAUSED",e.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",e.JOB_STATE_UPDATING="JOB_STATE_UPDATING",e.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Jw||(Jw={}));var rM;(function(e){e.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",e.TUNING_TASK_I2V="TUNING_TASK_I2V",e.TUNING_TASK_T2V="TUNING_TASK_T2V",e.TUNING_TASK_R2V="TUNING_TASK_R2V"})(rM||(rM={}));var oM;(function(e){e.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",e.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",e.BALANCED="BALANCED",e.PRIORITIZE_COST="PRIORITIZE_COST"})(oM||(oM={}));var iM;(function(e){e.UNSPECIFIED="UNSPECIFIED",e.BLOCKING="BLOCKING",e.NON_BLOCKING="NON_BLOCKING"})(iM||(iM={}));var aM;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(aM||(aM={}));var sM;(function(e){e.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",e.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(sM||(sM={}));var lM;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE",e.VALIDATED="VALIDATED"})(lM||(lM={}));var cM;(function(e){e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(cM||(cM={}));var uM;(function(e){e.DONT_ALLOW="DONT_ALLOW",e.ALLOW_ADULT="ALLOW_ADULT",e.ALLOW_ALL="ALLOW_ALL"})(uM||(uM={}));var dM;(function(e){e.auto="auto",e.en="en",e.ja="ja",e.ko="ko",e.hi="hi",e.zh="zh",e.pt="pt",e.es="es"})(dM||(dM={}));var fM;(function(e){e.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",e.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",e.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",e.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",e.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(fM||(fM={}));var hM;(function(e){e.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",e.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",e.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",e.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(hM||(hM={}));var pM;(function(e){e.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",e.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",e.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",e.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(pM||(pM={}));var mM;(function(e){e.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",e.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",e.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",e.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",e.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",e.EDIT_MODE_STYLE="EDIT_MODE_STYLE",e.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",e.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(mM||(mM={}));var gM;(function(e){e.FOREGROUND="FOREGROUND",e.BACKGROUND="BACKGROUND",e.PROMPT="PROMPT",e.SEMANTIC="SEMANTIC",e.INTERACTIVE="INTERACTIVE"})(gM||(gM={}));var xM;(function(e){e.ASSET="ASSET",e.STYLE="STYLE"})(xM||(xM={}));var bM;(function(e){e.INSERT="INSERT",e.REMOVE="REMOVE",e.REMOVE_STATIC="REMOVE_STATIC",e.OUTPAINT="OUTPAINT"})(bM||(bM={}));var vM;(function(e){e.OPTIMIZED="OPTIMIZED",e.LOSSLESS="LOSSLESS"})(vM||(vM={}));var yM;(function(e){e.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",e.PREFERENCE_TUNING="PREFERENCE_TUNING"})(yM||(yM={}));var wM;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.STATE_PENDING="STATE_PENDING",e.STATE_ACTIVE="STATE_ACTIVE",e.STATE_FAILED="STATE_FAILED"})(wM||(wM={}));var CM;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.PROCESSING="PROCESSING",e.ACTIVE="ACTIVE",e.FAILED="FAILED"})(CM||(CM={}));var NM;(function(e){e.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",e.UPLOADED="UPLOADED",e.GENERATED="GENERATED"})(NM||(NM={}));var SM;(function(e){e.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.RESPONSE_REJECTED="RESPONSE_REJECTED",e.NEED_MORE_INPUT="NEED_MORE_INPUT"})(SM||(SM={}));var EM;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.VIDEO="VIDEO",e.AUDIO="AUDIO",e.DOCUMENT="DOCUMENT"})(EM||(EM={}));var jM;(function(e){e.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",e.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",e.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(jM||(jM={}));var AM;(function(e){e.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",e.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",e.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(AM||(AM={}));var TM;(function(e){e.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",e.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",e.NO_INTERRUPTION="NO_INTERRUPTION"})(TM||(TM={}));var kM;(function(e){e.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",e.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",e.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(kM||(kM={}));var MM;(function(e){e.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",e.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",e.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",e.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",e.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",e.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",e.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",e.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",e.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",e.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",e.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",e.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",e.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(MM||(MM={}));var PM;(function(e){e.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",e.QUALITY="QUALITY",e.DIVERSITY="DIVERSITY",e.VOCALIZATION="VOCALIZATION"})(PM||(PM={}));var Fc;(function(e){e.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",e.PLAY="PLAY",e.PAUSE="PAUSE",e.STOP="STOP",e.RESET_CONTEXT="RESET_CONTEXT"})(Fc||(Fc={}));class Yw{constructor(t){const n={};for(const r of t.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=t}json(){return this.responseInternal.json()}}class Od{get text(){var t,n,r,o,i,a,l,u;if(((o=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let f="",h=!1;const p=[];for(const g of(u=(l=(a=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||a===void 0?void 0:a.content)===null||l===void 0?void 0:l.parts)!==null&&u!==void 0?u:[]){for(const[x,y]of Object.entries(g))x!=="text"&&x!=="thought"&&(y!==null||y!==void 0)&&p.push(x);if(typeof g.text=="string"){if(typeof g.thought=="boolean"&&g.thought)continue;h=!0,f+=g.text}}return p.length>0&&console.warn(`there are non-text parts ${p} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),h?f:void 0}get data(){var t,n,r,o,i,a,l,u;if(((o=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let f="";const h=[];for(const p of(u=(l=(a=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||a===void 0?void 0:a.content)===null||l===void 0?void 0:l.parts)!==null&&u!==void 0?u:[]){for(const[g,x]of Object.entries(p))g!=="inlineData"&&(x!==null||x!==void 0)&&h.push(g);p.inlineData&&typeof p.inlineData.data=="string"&&(f+=atob(p.inlineData.data))}return h.length>0&&console.warn(`there are non-data parts ${h} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),f.length>0?btoa(f):void 0}get functionCalls(){var t,n,r,o,i,a,l,u;if(((o=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const f=(u=(l=(a=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||a===void 0?void 0:a.content)===null||l===void 0?void 0:l.parts)===null||u===void 0?void 0:u.filter(h=>h.functionCall).map(h=>h.functionCall).filter(h=>h!==void 0);if((f==null?void 0:f.length)!==0)return f}get executableCode(){var t,n,r,o,i,a,l,u,f;if(((o=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const h=(u=(l=(a=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||a===void 0?void 0:a.content)===null||l===void 0?void 0:l.parts)===null||u===void 0?void 0:u.filter(p=>p.executableCode).map(p=>p.executableCode).filter(p=>p!==void 0);if((h==null?void 0:h.length)!==0)return(f=h==null?void 0:h[0])===null||f===void 0?void 0:f.code}get codeExecutionResult(){var t,n,r,o,i,a,l,u,f;if(((o=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const h=(u=(l=(a=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||a===void 0?void 0:a.content)===null||l===void 0?void 0:l.parts)===null||u===void 0?void 0:u.filter(p=>p.codeExecutionResult).map(p=>p.codeExecutionResult).filter(p=>p!==void 0);if((h==null?void 0:h.length)!==0)return(f=h==null?void 0:h[0])===null||f===void 0?void 0:f.output}}class RM{}class IM{}class DJ{}class _J{}class OJ{}class LJ{}class DM{}class _M{}class OM{}class BJ{}class Ag{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const r=new Ag;let o;const i=t;return n?o=CJ(i):o=wJ(i),Object.assign(r,o),r}}class LM{}class BM{}class UM{}class UJ{}class zJ{}class FJ{}class aN{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const r=new aN,i=kJ(t);return Object.assign(r,i),r}}class qJ{}class HJ{}class VJ{}class zM{}class $J{get text(){var t,n,r;let o="",i=!1;const a=[];for(const l of(r=(n=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[u,f]of Object.entries(l))u!=="text"&&u!=="thought"&&f!==null&&a.push(u);if(typeof l.text=="string"){if(typeof l.thought=="boolean"&&l.thought)continue;i=!0,o+=l.text}}return a.length>0&&console.warn(`there are non-text parts ${a} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),i?o:void 0}get data(){var t,n,r;let o="";const i=[];for(const a of(r=(n=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[l,u]of Object.entries(a))l!=="inlineData"&&u!==null&&i.push(l);a.inlineData&&typeof a.inlineData.data=="string"&&(o+=atob(a.inlineData.data))}return i.length>0&&console.warn(`there are non-data parts ${i} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),o.length>0?btoa(o):void 0}}class GJ{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class sN{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const r=new sN,i=PO(t);return Object.assign(r,i),r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function rt(e,t){if(!t||typeof t!="string")throw new Error("model is required and must be a string");if(e.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const n=t.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${t}`}else return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function RO(e,t){const n=rt(e,t);return n?n.startsWith("publishers/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}`:n.startsWith("models/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/publishers/google/${n}`:n:""}function IO(e){return Array.isArray(e)?e.map(t=>Tg(t)):[Tg(e)]}function Tg(e){if(typeof e=="object"&&e!==null)return e;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof e}`)}function DO(e){const t=Tg(e);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function _O(e){const t=Tg(e);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function FM(e){if(e==null)throw new Error("PartUnion is required");if(typeof e=="object")return e;if(typeof e=="string")return{text:e};throw new Error(`Unsupported part type: ${typeof e}`)}function OO(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("PartListUnion is required");return Array.isArray(e)?e.map(t=>FM(t)):[FM(e)]}function Xw(e){return e!=null&&typeof e=="object"&&"parts"in e&&Array.isArray(e.parts)}function qM(e){return e!=null&&typeof e=="object"&&"functionCall"in e}function HM(e){return e!=null&&typeof e=="object"&&"functionResponse"in e}function Zn(e){if(e==null)throw new Error("ContentUnion is required");return Xw(e)?e:{role:"user",parts:OO(e)}}function lN(e,t){if(!t)return[];if(e.isVertexAI()&&Array.isArray(t))return t.flatMap(n=>{const r=Zn(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(e.isVertexAI()){const n=Zn(t);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(t)?t.map(n=>Zn(n)):[Zn(t)]}function xo(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("contents are required");if(!Array.isArray(e)){if(qM(e)||HM(e))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Zn(e)]}const t=[],n=[],r=Xw(e[0]);for(const o of e){const i=Xw(o);if(i!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(i)t.push(o);else{if(qM(o)||HM(o))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(o)}}return r||t.push({role:"user",parts:OO(n)}),t}function KJ(e,t){e.includes("null")&&(t.nullable=!0);const n=e.filter(r=>r!=="null");if(n.length===1)t.type=Object.values(Sn).includes(n[0].toUpperCase())?n[0].toUpperCase():Sn.TYPE_UNSPECIFIED;else{t.anyOf=[];for(const r of n)t.anyOf.push({type:Object.values(Sn).includes(r.toUpperCase())?r.toUpperCase():Sn.TYPE_UNSPECIFIED})}}function Gc(e){const t={},n=["items"],r=["anyOf"],o=["properties"];if(e.type&&e.anyOf)throw new Error("type and anyOf cannot be both populated.");const i=e.anyOf;i!=null&&i.length==2&&(i[0].type==="null"?(t.nullable=!0,e=i[1]):i[1].type==="null"&&(t.nullable=!0,e=i[0])),e.type instanceof Array&&KJ(e.type,t);for(const[a,l]of Object.entries(e))if(l!=null)if(a=="type"){if(l==="null")throw new Error("type: null can not be the only possible type for the field.");if(l instanceof Array)continue;t.type=Object.values(Sn).includes(l.toUpperCase())?l.toUpperCase():Sn.TYPE_UNSPECIFIED}else if(n.includes(a))t[a]=Gc(l);else if(r.includes(a)){const u=[];for(const f of l){if(f.type=="null"){t.nullable=!0;continue}u.push(Gc(f))}t[a]=u}else if(o.includes(a)){const u={};for(const[f,h]of Object.entries(l))u[f]=Gc(h);t[a]=u}else{if(a==="additionalProperties")continue;t[a]=l}return t}function cN(e){return Gc(e)}function uN(e){if(typeof e=="object")return e;if(typeof e=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:e}}};throw new Error(`Unsupported speechConfig type: ${typeof e}`)}function dN(e){if("multiSpeakerVoiceConfig"in e)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return e}function bu(e){if(e.functionDeclarations)for(const t of e.functionDeclarations)t.parameters&&(Object.keys(t.parameters).includes("$schema")?t.parametersJsonSchema||(t.parametersJsonSchema=t.parameters,delete t.parameters):t.parameters=Gc(t.parameters)),t.response&&(Object.keys(t.response).includes("$schema")?t.responseJsonSchema||(t.responseJsonSchema=t.response,delete t.response):t.response=Gc(t.response));return e}function vu(e){if(e==null)throw new Error("tools is required");if(!Array.isArray(e))throw new Error("tools is required and must be an array of Tools");const t=[];for(const n of e)t.push(n);return t}function WJ(e,t,n,r=1){const o=!t.startsWith(`${n}/`)&&t.split("/").length===r;return e.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${e.getProject()}/${t}`:t.startsWith(`${n}/`)?`projects/${e.getProject()}/locations/${e.getLocation()}/${t}`:o?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}/${t}`:t:o?`${n}/${t}`:t}function ua(e,t){if(typeof t!="string")throw new Error("name must be a string");return WJ(e,t,"cachedContents")}function LO(e){switch(e){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return e}}function js(e){return iN(e)}function JJ(e){return e!=null&&typeof e=="object"&&"name"in e}function YJ(e){return e!=null&&typeof e=="object"&&"video"in e}function XJ(e){return e!=null&&typeof e=="object"&&"uri"in e}function BO(e){var t;let n;if(JJ(e)&&(n=e.name),!(XJ(e)&&(n=e.uri,n===void 0))&&!(YJ(e)&&(n=(t=e.video)===null||t===void 0?void 0:t.uri,n===void 0))){if(typeof e=="string"&&(n=e),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const o=n.split("files/")[1].match(/[a-z0-9]+/);if(o===null)throw new Error(`Could not extract file name from URI ${n}`);n=o[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function UO(e,t){let n;return e.isVertexAI()?n=t?"publishers/google/models":"models":n=t?"models":"tunedModels",n}function zO(e){for(const t of["models","tunedModels","publisherModels"])if(QJ(e,t))return e[t];return[]}function QJ(e,t){return e!==null&&typeof e=="object"&&t in e}function ZJ(e,t={}){const n=e,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),t.behavior&&(r.behavior=t.behavior),{functionDeclarations:[r]}}function eY(e,t={}){const n=[],r=new Set;for(const o of e){const i=o.name;if(r.has(i))throw new Error(`Duplicate function name ${i} found in MCP tools. Please ensure function names are unique.`);r.add(i);const a=ZJ(o,t);a.functionDeclarations&&n.push(...a.functionDeclarations)}return{functionDeclarations:n}}function FO(e,t){let n;if(typeof t=="string")if(e.isVertexAI())if(t.startsWith("gs://"))n={format:"jsonl",gcsUri:[t]};else if(t.startsWith("bq://"))n={format:"bigquery",bigqueryUri:t};else throw new Error(`Unsupported string source for Vertex AI: ${t}`);else if(t.startsWith("files/"))n={fileName:t};else throw new Error(`Unsupported string source for Gemini API: ${t}`);else if(Array.isArray(t)){if(e.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:t}}else n=t;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,o=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(e.isVertexAI()){if(o>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||o!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function tY(e){if(typeof e!="string")return e;const t=e;if(t.startsWith("gs://"))return{format:"jsonl",gcsUri:t};if(t.startsWith("bq://"))return{format:"bigquery",bigqueryUri:t};throw new Error(`Unsupported destination: ${t}`)}function qO(e){if(typeof e!="object"||e===null)return{};const t=e,n=t.inlinedResponses;if(typeof n!="object"||n===null)return e;const o=n.inlinedResponses;if(!Array.isArray(o)||o.length===0)return e;let i=!1;for(const a of o){if(typeof a!="object"||a===null)continue;const u=a.response;if(typeof u!="object"||u===null)continue;if(u.embedding!==void 0){i=!0;break}}return i&&(t.inlinedEmbedContentResponses=t.inlinedResponses,delete t.inlinedResponses),e}function yu(e,t){const n=t;if(!e.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function HO(e){const t=e;return t==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":t==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":t==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":t==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":t==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":t==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":t==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function nY(e){const t={},n=v(e,["responsesFile"]);n!=null&&w(t,["fileName"],n);const r=v(e,["inlinedResponses","inlinedResponses"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>IY(a))),w(t,["inlinedResponses"],i)}const o=v(e,["inlinedEmbedContentResponses","inlinedResponses"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(a=>a)),w(t,["inlinedEmbedContentResponses"],i)}return t}function rY(e){const t={},n=v(e,["predictionsFormat"]);n!=null&&w(t,["format"],n);const r=v(e,["gcsDestination","outputUriPrefix"]);r!=null&&w(t,["gcsUri"],r);const o=v(e,["bigqueryDestination","outputUri"]);return o!=null&&w(t,["bigqueryUri"],o),t}function oY(e){const t={},n=v(e,["format"]);n!=null&&w(t,["predictionsFormat"],n);const r=v(e,["gcsUri"]);r!=null&&w(t,["gcsDestination","outputUriPrefix"],r);const o=v(e,["bigqueryUri"]);if(o!=null&&w(t,["bigqueryDestination","outputUri"],o),v(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(v(e,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(v(e,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return t}function jm(e){const t={},n=v(e,["name"]);n!=null&&w(t,["name"],n);const r=v(e,["metadata","displayName"]);r!=null&&w(t,["displayName"],r);const o=v(e,["metadata","state"]);o!=null&&w(t,["state"],HO(o));const i=v(e,["metadata","createTime"]);i!=null&&w(t,["createTime"],i);const a=v(e,["metadata","endTime"]);a!=null&&w(t,["endTime"],a);const l=v(e,["metadata","updateTime"]);l!=null&&w(t,["updateTime"],l);const u=v(e,["metadata","model"]);u!=null&&w(t,["model"],u);const f=v(e,["metadata","output"]);return f!=null&&w(t,["dest"],nY(qO(f))),t}function Qw(e){const t={},n=v(e,["name"]);n!=null&&w(t,["name"],n);const r=v(e,["displayName"]);r!=null&&w(t,["displayName"],r);const o=v(e,["state"]);o!=null&&w(t,["state"],HO(o));const i=v(e,["error"]);i!=null&&w(t,["error"],i);const a=v(e,["createTime"]);a!=null&&w(t,["createTime"],a);const l=v(e,["startTime"]);l!=null&&w(t,["startTime"],l);const u=v(e,["endTime"]);u!=null&&w(t,["endTime"],u);const f=v(e,["updateTime"]);f!=null&&w(t,["updateTime"],f);const h=v(e,["model"]);h!=null&&w(t,["model"],h);const p=v(e,["inputConfig"]);p!=null&&w(t,["src"],iY(p));const g=v(e,["outputConfig"]);g!=null&&w(t,["dest"],rY(qO(g)));const x=v(e,["completionStats"]);return x!=null&&w(t,["completionStats"],x),t}function iY(e){const t={},n=v(e,["instancesFormat"]);n!=null&&w(t,["format"],n);const r=v(e,["gcsSource","uris"]);r!=null&&w(t,["gcsUri"],r);const o=v(e,["bigquerySource","inputUri"]);return o!=null&&w(t,["bigqueryUri"],o),t}function aY(e,t){const n={};if(v(t,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(v(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(v(t,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=v(t,["fileName"]);r!=null&&w(n,["fileName"],r);const o=v(t,["inlinedRequests"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(a=>RY(e,a))),w(n,["requests","requests"],i)}return n}function sY(e){const t={},n=v(e,["format"]);n!=null&&w(t,["instancesFormat"],n);const r=v(e,["gcsUri"]);r!=null&&w(t,["gcsSource","uris"],r);const o=v(e,["bigqueryUri"]);if(o!=null&&w(t,["bigquerySource","inputUri"],o),v(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(v(e,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return t}function lY(e){const t={},n=v(e,["data"]);if(n!=null&&w(t,["data"],n),v(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=v(e,["mimeType"]);return r!=null&&w(t,["mimeType"],r),t}function cY(e,t){const n={},r=v(t,["name"]);return r!=null&&w(n,["_url","name"],yu(e,r)),n}function uY(e,t){const n={},r=v(t,["name"]);return r!=null&&w(n,["_url","name"],yu(e,r)),n}function dY(e){const t={},n=v(e,["content"]);n!=null&&w(t,["content"],n);const r=v(e,["citationMetadata"]);r!=null&&w(t,["citationMetadata"],fY(r));const o=v(e,["tokenCount"]);o!=null&&w(t,["tokenCount"],o);const i=v(e,["finishReason"]);i!=null&&w(t,["finishReason"],i);const a=v(e,["avgLogprobs"]);a!=null&&w(t,["avgLogprobs"],a);const l=v(e,["groundingMetadata"]);l!=null&&w(t,["groundingMetadata"],l);const u=v(e,["index"]);u!=null&&w(t,["index"],u);const f=v(e,["logprobsResult"]);f!=null&&w(t,["logprobsResult"],f);const h=v(e,["safetyRatings"]);if(h!=null){let g=h;Array.isArray(g)&&(g=g.map(x=>x)),w(t,["safetyRatings"],g)}const p=v(e,["urlContextMetadata"]);return p!=null&&w(t,["urlContextMetadata"],p),t}function fY(e){const t={},n=v(e,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(o=>o)),w(t,["citations"],r)}return t}function VO(e){const t={},n=v(e,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(i=>zY(i))),w(t,["parts"],o)}const r=v(e,["role"]);return r!=null&&w(t,["role"],r),t}function hY(e,t){const n={},r=v(e,["displayName"]);if(t!==void 0&&r!=null&&w(t,["batch","displayName"],r),v(e,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function pY(e,t){const n={},r=v(e,["displayName"]);t!==void 0&&r!=null&&w(t,["displayName"],r);const o=v(e,["dest"]);return t!==void 0&&o!=null&&w(t,["outputConfig"],oY(tY(o))),n}function VM(e,t){const n={},r=v(t,["model"]);r!=null&&w(n,["_url","model"],rt(e,r));const o=v(t,["src"]);o!=null&&w(n,["batch","inputConfig"],aY(e,FO(e,o)));const i=v(t,["config"]);return i!=null&&hY(i,n),n}function mY(e,t){const n={},r=v(t,["model"]);r!=null&&w(n,["model"],rt(e,r));const o=v(t,["src"]);o!=null&&w(n,["inputConfig"],sY(FO(e,o)));const i=v(t,["config"]);return i!=null&&pY(i,n),n}function gY(e,t){const n={},r=v(e,["displayName"]);return t!==void 0&&r!=null&&w(t,["batch","displayName"],r),n}function xY(e,t){const n={},r=v(t,["model"]);r!=null&&w(n,["_url","model"],rt(e,r));const o=v(t,["src"]);o!=null&&w(n,["batch","inputConfig"],SY(e,o));const i=v(t,["config"]);return i!=null&&gY(i,n),n}function bY(e,t){const n={},r=v(t,["name"]);return r!=null&&w(n,["_url","name"],yu(e,r)),n}function vY(e,t){const n={},r=v(t,["name"]);return r!=null&&w(n,["_url","name"],yu(e,r)),n}function yY(e){const t={},n=v(e,["sdkHttpResponse"]);n!=null&&w(t,["sdkHttpResponse"],n);const r=v(e,["name"]);r!=null&&w(t,["name"],r);const o=v(e,["done"]);o!=null&&w(t,["done"],o);const i=v(e,["error"]);return i!=null&&w(t,["error"],i),t}function wY(e){const t={},n=v(e,["sdkHttpResponse"]);n!=null&&w(t,["sdkHttpResponse"],n);const r=v(e,["name"]);r!=null&&w(t,["name"],r);const o=v(e,["done"]);o!=null&&w(t,["done"],o);const i=v(e,["error"]);return i!=null&&w(t,["error"],i),t}function CY(e,t){const n={},r=v(t,["contents"]);if(r!=null){let i=lN(e,r);Array.isArray(i)&&(i=i.map(a=>a)),w(n,["requests[]","request","content"],i)}const o=v(t,["config"]);return o!=null&&(w(n,["_self"],NY(o,n)),vJ(n,{"requests[].*":"requests[].request.*"})),n}function NY(e,t){const n={},r=v(e,["taskType"]);t!==void 0&&r!=null&&w(t,["requests[]","taskType"],r);const o=v(e,["title"]);t!==void 0&&o!=null&&w(t,["requests[]","title"],o);const i=v(e,["outputDimensionality"]);if(t!==void 0&&i!=null&&w(t,["requests[]","outputDimensionality"],i),v(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(v(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function SY(e,t){const n={},r=v(t,["fileName"]);r!=null&&w(n,["file_name"],r);const o=v(t,["inlinedRequests"]);return o!=null&&w(n,["requests"],CY(e,o)),n}function EY(e){const t={};if(v(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=v(e,["fileUri"]);n!=null&&w(t,["fileUri"],n);const r=v(e,["mimeType"]);return r!=null&&w(t,["mimeType"],r),t}function jY(e,t,n){const r={},o=v(t,["systemInstruction"]);n!==void 0&&o!=null&&w(n,["systemInstruction"],VO(Zn(o)));const i=v(t,["temperature"]);i!=null&&w(r,["temperature"],i);const a=v(t,["topP"]);a!=null&&w(r,["topP"],a);const l=v(t,["topK"]);l!=null&&w(r,["topK"],l);const u=v(t,["candidateCount"]);u!=null&&w(r,["candidateCount"],u);const f=v(t,["maxOutputTokens"]);f!=null&&w(r,["maxOutputTokens"],f);const h=v(t,["stopSequences"]);h!=null&&w(r,["stopSequences"],h);const p=v(t,["responseLogprobs"]);p!=null&&w(r,["responseLogprobs"],p);const g=v(t,["logprobs"]);g!=null&&w(r,["logprobs"],g);const x=v(t,["presencePenalty"]);x!=null&&w(r,["presencePenalty"],x);const y=v(t,["frequencyPenalty"]);y!=null&&w(r,["frequencyPenalty"],y);const N=v(t,["seed"]);N!=null&&w(r,["seed"],N);const C=v(t,["responseMimeType"]);C!=null&&w(r,["responseMimeType"],C);const A=v(t,["responseSchema"]);A!=null&&w(r,["responseSchema"],cN(A));const T=v(t,["responseJsonSchema"]);if(T!=null&&w(r,["responseJsonSchema"],T),v(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(v(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const k=v(t,["safetySettings"]);if(n!==void 0&&k!=null){let q=k;Array.isArray(q)&&(q=q.map(W=>FY(W))),w(n,["safetySettings"],q)}const D=v(t,["tools"]);if(n!==void 0&&D!=null){let q=vu(D);Array.isArray(q)&&(q=q.map(W=>qY(bu(W)))),w(n,["tools"],q)}const R=v(t,["toolConfig"]);if(n!==void 0&&R!=null&&w(n,["toolConfig"],R),v(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const I=v(t,["cachedContent"]);n!==void 0&&I!=null&&w(n,["cachedContent"],ua(e,I));const P=v(t,["responseModalities"]);P!=null&&w(r,["responseModalities"],P);const B=v(t,["mediaResolution"]);B!=null&&w(r,["mediaResolution"],B);const L=v(t,["speechConfig"]);if(L!=null&&w(r,["speechConfig"],uN(L)),v(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const $=v(t,["thinkingConfig"]);$!=null&&w(r,["thinkingConfig"],$);const X=v(t,["imageConfig"]);return X!=null&&w(r,["imageConfig"],X),r}function AY(e){const t={},n=v(e,["sdkHttpResponse"]);n!=null&&w(t,["sdkHttpResponse"],n);const r=v(e,["candidates"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(f=>dY(f))),w(t,["candidates"],u)}const o=v(e,["modelVersion"]);o!=null&&w(t,["modelVersion"],o);const i=v(e,["promptFeedback"]);i!=null&&w(t,["promptFeedback"],i);const a=v(e,["responseId"]);a!=null&&w(t,["responseId"],a);const l=v(e,["usageMetadata"]);return l!=null&&w(t,["usageMetadata"],l),t}function TY(e,t){const n={},r=v(t,["name"]);return r!=null&&w(n,["_url","name"],yu(e,r)),n}function kY(e,t){const n={},r=v(t,["name"]);return r!=null&&w(n,["_url","name"],yu(e,r)),n}function MY(e){const t={};if(v(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=v(e,["enableWidget"]);return n!=null&&w(t,["enableWidget"],n),t}function PY(e){const t={};if(v(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(v(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=v(e,["timeRangeFilter"]);return n!=null&&w(t,["timeRangeFilter"],n),t}function RY(e,t){const n={},r=v(t,["model"]);r!=null&&w(n,["request","model"],rt(e,r));const o=v(t,["contents"]);if(o!=null){let l=xo(o);Array.isArray(l)&&(l=l.map(u=>VO(u))),w(n,["request","contents"],l)}const i=v(t,["metadata"]);i!=null&&w(n,["metadata"],i);const a=v(t,["config"]);return a!=null&&w(n,["request","generationConfig"],jY(e,a,v(n,["request"],{}))),n}function IY(e){const t={},n=v(e,["response"]);n!=null&&w(t,["response"],AY(n));const r=v(e,["error"]);return r!=null&&w(t,["error"],r),t}function DY(e,t){const n={},r=v(e,["pageSize"]);t!==void 0&&r!=null&&w(t,["_query","pageSize"],r);const o=v(e,["pageToken"]);if(t!==void 0&&o!=null&&w(t,["_query","pageToken"],o),v(e,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function _Y(e,t){const n={},r=v(e,["pageSize"]);t!==void 0&&r!=null&&w(t,["_query","pageSize"],r);const o=v(e,["pageToken"]);t!==void 0&&o!=null&&w(t,["_query","pageToken"],o);const i=v(e,["filter"]);return t!==void 0&&i!=null&&w(t,["_query","filter"],i),n}function OY(e){const t={},n=v(e,["config"]);return n!=null&&DY(n,t),t}function LY(e){const t={},n=v(e,["config"]);return n!=null&&_Y(n,t),t}function BY(e){const t={},n=v(e,["sdkHttpResponse"]);n!=null&&w(t,["sdkHttpResponse"],n);const r=v(e,["nextPageToken"]);r!=null&&w(t,["nextPageToken"],r);const o=v(e,["operations"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(a=>jm(a))),w(t,["batchJobs"],i)}return t}function UY(e){const t={},n=v(e,["sdkHttpResponse"]);n!=null&&w(t,["sdkHttpResponse"],n);const r=v(e,["nextPageToken"]);r!=null&&w(t,["nextPageToken"],r);const o=v(e,["batchPredictionJobs"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(a=>Qw(a))),w(t,["batchJobs"],i)}return t}function zY(e){const t={},n=v(e,["functionCall"]);n!=null&&w(t,["functionCall"],n);const r=v(e,["codeExecutionResult"]);r!=null&&w(t,["codeExecutionResult"],r);const o=v(e,["executableCode"]);o!=null&&w(t,["executableCode"],o);const i=v(e,["fileData"]);i!=null&&w(t,["fileData"],EY(i));const a=v(e,["functionResponse"]);a!=null&&w(t,["functionResponse"],a);const l=v(e,["inlineData"]);l!=null&&w(t,["inlineData"],lY(l));const u=v(e,["text"]);u!=null&&w(t,["text"],u);const f=v(e,["thought"]);f!=null&&w(t,["thought"],f);const h=v(e,["thoughtSignature"]);h!=null&&w(t,["thoughtSignature"],h);const p=v(e,["videoMetadata"]);return p!=null&&w(t,["videoMetadata"],p),t}function FY(e){const t={},n=v(e,["category"]);if(n!=null&&w(t,["category"],n),v(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=v(e,["threshold"]);return r!=null&&w(t,["threshold"],r),t}function qY(e){const t={},n=v(e,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(p=>p)),w(t,["functionDeclarations"],h)}if(v(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=v(e,["googleSearchRetrieval"]);r!=null&&w(t,["googleSearchRetrieval"],r);const o=v(e,["computerUse"]);o!=null&&w(t,["computerUse"],o);const i=v(e,["fileSearch"]);i!=null&&w(t,["fileSearch"],i);const a=v(e,["codeExecution"]);if(a!=null&&w(t,["codeExecution"],a),v(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const l=v(e,["googleMaps"]);l!=null&&w(t,["googleMaps"],MY(l));const u=v(e,["googleSearch"]);u!=null&&w(t,["googleSearch"],PY(u));const f=v(e,["urlContext"]);return f!=null&&w(t,["urlContext"],f),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var ea;(function(e){e.PAGED_ITEM_BATCH_JOBS="batchJobs",e.PAGED_ITEM_MODELS="models",e.PAGED_ITEM_TUNING_JOBS="tuningJobs",e.PAGED_ITEM_FILES="files",e.PAGED_ITEM_CACHED_CONTENTS="cachedContents",e.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",e.PAGED_ITEM_DOCUMENTS="documents"})(ea||(ea={}));class zl{constructor(t,n,r,o){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(t,r,o)}init(t,n,r){var o,i;this.nameInternal=t,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let a={config:{}};!r||Object.keys(r).length===0?a={config:{}}:typeof r=="object"?a=Object.assign({},r):a=r,a.config&&(a.config.pageToken=n.nextPageToken),this.paramsInternal=a,this.pageInternalSize=(i=(o=a.config)===null||o===void 0?void 0:o.pageSize)!==null&&i!==void 0?i:this.pageInternal.length}initNextPage(t){this.init(this.nameInternal,t,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(t){return this.pageInternal[t]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const t=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:t,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const t=await this.requestInternal(this.params);return this.initNextPage(t),this.page}hasNextPage(){var t;return((t=this.params.config)===null||t===void 0?void 0:t.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class HY extends ca{constructor(t){super(),this.apiClient=t,this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)},this.list=async(n={})=>new zl(ea.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n)}createInlinedGenerateContentRequest(t){const n=VM(this.apiClient,t),r=n._url,o=ye("{model}:batchGenerateContent",r),l=n.batch.inputConfig.requests,u=l.requests,f=[];for(const h of u){const p=Object.assign({},h);if(p.systemInstruction){const g=p.systemInstruction;delete p.systemInstruction;const x=p.request;x.systemInstruction=g,p.request=x}f.push(p)}return l.requests=f,delete n.config,delete n._url,delete n._query,{path:o,body:n}}getGcsUri(t){if(typeof t=="string")return t.startsWith("gs://")?t:void 0;if(!Array.isArray(t)&&t.gcsUri&&t.gcsUri.length>0)return t.gcsUri[0]}getBigqueryUri(t){if(typeof t=="string")return t.startsWith("bq://")?t:void 0;if(!Array.isArray(t))return t.bigqueryUri}formatDestination(t,n){const r=n?Object.assign({},n):{},o=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${o}`),r.dest===void 0){const i=this.getGcsUri(t),a=this.getBigqueryUri(t);if(i)i.endsWith(".jsonl")?r.dest=`${i.slice(0,-6)}/dest`:r.dest=`${i}_dest_${o}`;else if(a)r.dest=`${a}_dest_${o}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(t){var n,r,o,i;let a,l="",u={};if(this.apiClient.isVertexAI()){const f=mY(this.apiClient,t);return l=ye("batchPredictionJobs",f._url),u=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),a.then(h=>Qw(h))}else{const f=VM(this.apiClient,t);return l=ye("{model}:batchGenerateContent",f._url),u=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),a.then(h=>jm(h))}}async createEmbeddingsInternal(t){var n,r;let o,i="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=xY(this.apiClient,t);return i=ye("{model}:asyncBatchEmbedContent",l._url),a=l._query,delete l._url,delete l._query,o=this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),o.then(u=>jm(u))}}async get(t){var n,r,o,i;let a,l="",u={};if(this.apiClient.isVertexAI()){const f=kY(this.apiClient,t);return l=ye("batchPredictionJobs/{name}",f._url),u=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),a.then(h=>Qw(h))}else{const f=TY(this.apiClient,t);return l=ye("batches/{name}",f._url),u=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),a.then(h=>jm(h))}}async cancel(t){var n,r,o,i;let a="",l={};if(this.apiClient.isVertexAI()){const u=uY(this.apiClient,t);a=ye("batchPredictionJobs/{name}:cancel",u._url),l=u._query,delete u._url,delete u._query,await this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal})}else{const u=cY(this.apiClient,t);a=ye("batches/{name}:cancel",u._url),l=u._query,delete u._url,delete u._query,await this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal})}}async listInternal(t){var n,r,o,i;let a,l="",u={};if(this.apiClient.isVertexAI()){const f=LY(t);return l=ye("batchPredictionJobs",f._url),u=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),a.then(h=>{const p=UY(h),g=new zM;return Object.assign(g,p),g})}else{const f=OY(t);return l=ye("batches",f._url),u=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),a.then(h=>{const p=BY(h),g=new zM;return Object.assign(g,p),g})}}async delete(t){var n,r,o,i;let a,l="",u={};if(this.apiClient.isVertexAI()){const f=vY(this.apiClient,t);return l=ye("batchPredictionJobs/{name}",f._url),u=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),a.then(h=>wY(h))}else{const f=bY(this.apiClient,t);return l=ye("batches/{name}",f._url),u=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),a.then(h=>yY(h))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function VY(e){const t={},n=v(e,["data"]);if(n!=null&&w(t,["data"],n),v(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=v(e,["mimeType"]);return r!=null&&w(t,["mimeType"],r),t}function $M(e){const t={},n=v(e,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(i=>dX(i))),w(t,["parts"],o)}const r=v(e,["role"]);return r!=null&&w(t,["role"],r),t}function $Y(e,t){const n={},r=v(e,["ttl"]);t!==void 0&&r!=null&&w(t,["ttl"],r);const o=v(e,["expireTime"]);t!==void 0&&o!=null&&w(t,["expireTime"],o);const i=v(e,["displayName"]);t!==void 0&&i!=null&&w(t,["displayName"],i);const a=v(e,["contents"]);if(t!==void 0&&a!=null){let h=xo(a);Array.isArray(h)&&(h=h.map(p=>$M(p))),w(t,["contents"],h)}const l=v(e,["systemInstruction"]);t!==void 0&&l!=null&&w(t,["systemInstruction"],$M(Zn(l)));const u=v(e,["tools"]);if(t!==void 0&&u!=null){let h=u;Array.isArray(h)&&(h=h.map(p=>fX(p))),w(t,["tools"],h)}const f=v(e,["toolConfig"]);if(t!==void 0&&f!=null&&w(t,["toolConfig"],f),v(e,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function GY(e,t){const n={},r=v(e,["ttl"]);t!==void 0&&r!=null&&w(t,["ttl"],r);const o=v(e,["expireTime"]);t!==void 0&&o!=null&&w(t,["expireTime"],o);const i=v(e,["displayName"]);t!==void 0&&i!=null&&w(t,["displayName"],i);const a=v(e,["contents"]);if(t!==void 0&&a!=null){let p=xo(a);Array.isArray(p)&&(p=p.map(g=>g)),w(t,["contents"],p)}const l=v(e,["systemInstruction"]);t!==void 0&&l!=null&&w(t,["systemInstruction"],Zn(l));const u=v(e,["tools"]);if(t!==void 0&&u!=null){let p=u;Array.isArray(p)&&(p=p.map(g=>hX(g))),w(t,["tools"],p)}const f=v(e,["toolConfig"]);t!==void 0&&f!=null&&w(t,["toolConfig"],f);const h=v(e,["kmsKeyName"]);return t!==void 0&&h!=null&&w(t,["encryption_spec","kmsKeyName"],h),n}function KY(e,t){const n={},r=v(t,["model"]);r!=null&&w(n,["model"],RO(e,r));const o=v(t,["config"]);return o!=null&&$Y(o,n),n}function WY(e,t){const n={},r=v(t,["model"]);r!=null&&w(n,["model"],RO(e,r));const o=v(t,["config"]);return o!=null&&GY(o,n),n}function JY(e,t){const n={},r=v(t,["name"]);return r!=null&&w(n,["_url","name"],ua(e,r)),n}function YY(e,t){const n={},r=v(t,["name"]);return r!=null&&w(n,["_url","name"],ua(e,r)),n}function XY(e){const t={},n=v(e,["sdkHttpResponse"]);return n!=null&&w(t,["sdkHttpResponse"],n),t}function QY(e){const t={},n=v(e,["sdkHttpResponse"]);return n!=null&&w(t,["sdkHttpResponse"],n),t}function ZY(e){const t={};if(v(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=v(e,["fileUri"]);n!=null&&w(t,["fileUri"],n);const r=v(e,["mimeType"]);return r!=null&&w(t,["mimeType"],r),t}function eX(e){const t={};if(v(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=v(e,["description"]);n!=null&&w(t,["description"],n);const r=v(e,["name"]);r!=null&&w(t,["name"],r);const o=v(e,["parameters"]);o!=null&&w(t,["parameters"],o);const i=v(e,["parametersJsonSchema"]);i!=null&&w(t,["parametersJsonSchema"],i);const a=v(e,["response"]);a!=null&&w(t,["response"],a);const l=v(e,["responseJsonSchema"]);return l!=null&&w(t,["responseJsonSchema"],l),t}function tX(e,t){const n={},r=v(t,["name"]);return r!=null&&w(n,["_url","name"],ua(e,r)),n}function nX(e,t){const n={},r=v(t,["name"]);return r!=null&&w(n,["_url","name"],ua(e,r)),n}function rX(e){const t={};if(v(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=v(e,["enableWidget"]);return n!=null&&w(t,["enableWidget"],n),t}function oX(e){const t={};if(v(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(v(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=v(e,["timeRangeFilter"]);return n!=null&&w(t,["timeRangeFilter"],n),t}function iX(e,t){const n={},r=v(e,["pageSize"]);t!==void 0&&r!=null&&w(t,["_query","pageSize"],r);const o=v(e,["pageToken"]);return t!==void 0&&o!=null&&w(t,["_query","pageToken"],o),n}function aX(e,t){const n={},r=v(e,["pageSize"]);t!==void 0&&r!=null&&w(t,["_query","pageSize"],r);const o=v(e,["pageToken"]);return t!==void 0&&o!=null&&w(t,["_query","pageToken"],o),n}function sX(e){const t={},n=v(e,["config"]);return n!=null&&iX(n,t),t}function lX(e){const t={},n=v(e,["config"]);return n!=null&&aX(n,t),t}function cX(e){const t={},n=v(e,["sdkHttpResponse"]);n!=null&&w(t,["sdkHttpResponse"],n);const r=v(e,["nextPageToken"]);r!=null&&w(t,["nextPageToken"],r);const o=v(e,["cachedContents"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(a=>a)),w(t,["cachedContents"],i)}return t}function uX(e){const t={},n=v(e,["sdkHttpResponse"]);n!=null&&w(t,["sdkHttpResponse"],n);const r=v(e,["nextPageToken"]);r!=null&&w(t,["nextPageToken"],r);const o=v(e,["cachedContents"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(a=>a)),w(t,["cachedContents"],i)}return t}function dX(e){const t={},n=v(e,["functionCall"]);n!=null&&w(t,["functionCall"],n);const r=v(e,["codeExecutionResult"]);r!=null&&w(t,["codeExecutionResult"],r);const o=v(e,["executableCode"]);o!=null&&w(t,["executableCode"],o);const i=v(e,["fileData"]);i!=null&&w(t,["fileData"],ZY(i));const a=v(e,["functionResponse"]);a!=null&&w(t,["functionResponse"],a);const l=v(e,["inlineData"]);l!=null&&w(t,["inlineData"],VY(l));const u=v(e,["text"]);u!=null&&w(t,["text"],u);const f=v(e,["thought"]);f!=null&&w(t,["thought"],f);const h=v(e,["thoughtSignature"]);h!=null&&w(t,["thoughtSignature"],h);const p=v(e,["videoMetadata"]);return p!=null&&w(t,["videoMetadata"],p),t}function fX(e){const t={},n=v(e,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(p=>p)),w(t,["functionDeclarations"],h)}if(v(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=v(e,["googleSearchRetrieval"]);r!=null&&w(t,["googleSearchRetrieval"],r);const o=v(e,["computerUse"]);o!=null&&w(t,["computerUse"],o);const i=v(e,["fileSearch"]);i!=null&&w(t,["fileSearch"],i);const a=v(e,["codeExecution"]);if(a!=null&&w(t,["codeExecution"],a),v(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const l=v(e,["googleMaps"]);l!=null&&w(t,["googleMaps"],rX(l));const u=v(e,["googleSearch"]);u!=null&&w(t,["googleSearch"],oX(u));const f=v(e,["urlContext"]);return f!=null&&w(t,["urlContext"],f),t}function hX(e){const t={},n=v(e,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(g=>eX(g))),w(t,["functionDeclarations"],p)}const r=v(e,["retrieval"]);r!=null&&w(t,["retrieval"],r);const o=v(e,["googleSearchRetrieval"]);o!=null&&w(t,["googleSearchRetrieval"],o);const i=v(e,["computerUse"]);if(i!=null&&w(t,["computerUse"],i),v(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=v(e,["codeExecution"]);a!=null&&w(t,["codeExecution"],a);const l=v(e,["enterpriseWebSearch"]);l!=null&&w(t,["enterpriseWebSearch"],l);const u=v(e,["googleMaps"]);u!=null&&w(t,["googleMaps"],u);const f=v(e,["googleSearch"]);f!=null&&w(t,["googleSearch"],f);const h=v(e,["urlContext"]);return h!=null&&w(t,["urlContext"],h),t}function pX(e,t){const n={},r=v(e,["ttl"]);t!==void 0&&r!=null&&w(t,["ttl"],r);const o=v(e,["expireTime"]);return t!==void 0&&o!=null&&w(t,["expireTime"],o),n}function mX(e,t){const n={},r=v(e,["ttl"]);t!==void 0&&r!=null&&w(t,["ttl"],r);const o=v(e,["expireTime"]);return t!==void 0&&o!=null&&w(t,["expireTime"],o),n}function gX(e,t){const n={},r=v(t,["name"]);r!=null&&w(n,["_url","name"],ua(e,r));const o=v(t,["config"]);return o!=null&&pX(o,n),n}function xX(e,t){const n={},r=v(t,["name"]);r!=null&&w(n,["_url","name"],ua(e,r));const o=v(t,["config"]);return o!=null&&mX(o,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class bX extends ca{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new zl(ea.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(t){var n,r,o,i;let a,l="",u={};if(this.apiClient.isVertexAI()){const f=WY(this.apiClient,t);return l=ye("cachedContents",f._url),u=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),a.then(h=>h)}else{const f=KY(this.apiClient,t);return l=ye("cachedContents",f._url),u=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),a.then(h=>h)}}async get(t){var n,r,o,i;let a,l="",u={};if(this.apiClient.isVertexAI()){const f=nX(this.apiClient,t);return l=ye("{name}",f._url),u=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),a.then(h=>h)}else{const f=tX(this.apiClient,t);return l=ye("{name}",f._url),u=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),a.then(h=>h)}}async delete(t){var n,r,o,i;let a,l="",u={};if(this.apiClient.isVertexAI()){const f=YY(this.apiClient,t);return l=ye("{name}",f._url),u=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),a.then(h=>{const p=QY(h),g=new BM;return Object.assign(g,p),g})}else{const f=JY(this.apiClient,t);return l=ye("{name}",f._url),u=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),a.then(h=>{const p=XY(h),g=new BM;return Object.assign(g,p),g})}}async update(t){var n,r,o,i;let a,l="",u={};if(this.apiClient.isVertexAI()){const f=xX(this.apiClient,t);return l=ye("{name}",f._url),u=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),a.then(h=>h)}else{const f=gX(this.apiClient,t);return l=ye("{name}",f._url),u=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),a.then(h=>h)}}async listInternal(t){var n,r,o,i;let a,l="",u={};if(this.apiClient.isVertexAI()){const f=lX(t);return l=ye("cachedContents",f._url),u=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),a.then(h=>{const p=uX(h),g=new UM;return Object.assign(g,p),g})}else{const f=sX(t);return l=ye("cachedContents",f._url),u=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),a.then(h=>{const p=cX(h),g=new UM;return Object.assign(g,p),g})}}}function GM(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function kt(e){return this instanceof kt?(this.v=e,this):new kt(e)}function Kc(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),o,i=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",a),o[Symbol.asyncIterator]=function(){return this},o;function a(x){return function(y){return Promise.resolve(y).then(x,p)}}function l(x,y){r[x]&&(o[x]=function(N){return new Promise(function(C,A){i.push([x,N,C,A])>1||u(x,N)})},y&&(o[x]=y(o[x])))}function u(x,y){try{f(r[x](y))}catch(N){g(i[0][3],N)}}function f(x){x.value instanceof kt?Promise.resolve(x.value.v).then(h,p):g(i[0][2],x)}function h(x){u("next",x)}function p(x){u("throw",x)}function g(x,y){x(y),i.shift(),i.length&&u(i[0][0],i[0][1])}}function pf(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof GM=="function"?GM(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(i){n[i]=e[i]&&function(a){return new Promise(function(l,u){a=e[i](a),o(l,u,a.done,a.value)})}}function o(i,a,l,u){Promise.resolve(u).then(function(f){i({value:f,done:l})},a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function vX(e){var t;if(e.candidates==null||e.candidates.length===0)return!1;const n=(t=e.candidates[0])===null||t===void 0?void 0:t.content;return n===void 0?!1:$O(n)}function $O(e){if(e.parts===void 0||e.parts.length===0)return!1;for(const t of e.parts)if(t===void 0||Object.keys(t).length===0)return!1;return!0}function yX(e){if(e.length!==0){for(const t of e)if(t.role!=="user"&&t.role!=="model")throw new Error(`Role must be user or model, but got ${t.role}.`)}}function KM(e){if(e===void 0||e.length===0)return[];const t=[],n=e.length;let r=0;for(;r<n;)if(e[r].role==="user")t.push(e[r]),r++;else{const o=[];let i=!0;for(;r<n&&e[r].role==="model";)o.push(e[r]),i&&!$O(e[r])&&(i=!1),r++;i?t.push(...o):t.pop()}return t}class wX{constructor(t,n){this.modelsModule=t,this.apiClient=n}create(t){return new CX(this.apiClient,this.modelsModule,t.model,t.config,structuredClone(t.history))}}class CX{constructor(t,n,r,o={},i=[]){this.apiClient=t,this.modelsModule=n,this.model=r,this.config=o,this.history=i,this.sendPromise=Promise.resolve(),yX(i)}async sendMessage(t){var n;await this.sendPromise;const r=Zn(t.message),o=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=t.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var i,a,l;const u=await o,f=(a=(i=u.candidates)===null||i===void 0?void 0:i[0])===null||a===void 0?void 0:a.content,h=u.automaticFunctionCallingHistory,p=this.getHistory(!0).length;let g=[];h!=null&&(g=(l=h.slice(p))!==null&&l!==void 0?l:[]);const x=f?[f]:[];this.recordHistory(r,x,g)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),o}async sendMessageStream(t){var n;await this.sendPromise;const r=Zn(t.message),o=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=t.config)!==null&&n!==void 0?n:this.config});this.sendPromise=o.then(()=>{}).catch(()=>{});const i=await o;return this.processStreamResponse(i,r)}getHistory(t=!1){const n=t?KM(this.history):this.history;return structuredClone(n)}processStreamResponse(t,n){var r,o;return Kc(this,arguments,function*(){var a,l,u,f;const h=[];try{for(var p=!0,g=pf(t),x;x=yield kt(g.next()),a=x.done,!a;p=!0){f=x.value,p=!1;const y=f;if(vX(y)){const N=(o=(r=y.candidates)===null||r===void 0?void 0:r[0])===null||o===void 0?void 0:o.content;N!==void 0&&h.push(N)}yield yield kt(y)}}catch(y){l={error:y}}finally{try{!p&&!a&&(u=g.return)&&(yield kt(u.call(g)))}finally{if(l)throw l.error}}this.recordHistory(n,h)})}recordHistory(t,n,r){let o=[];n.length>0&&n.every(i=>i.role!==void 0)?o=n:o.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...KM(r)):this.history.push(t),this.history.push(...o)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ux extends Error{constructor(t){super(t.message),this.name="ApiError",this.status=t.status,Object.setPrototypeOf(this,Ux.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function NX(e){const t={},n=v(e,["file"]);return n!=null&&w(t,["file"],n),t}function SX(e){const t={},n=v(e,["sdkHttpResponse"]);return n!=null&&w(t,["sdkHttpResponse"],n),t}function EX(e){const t={},n=v(e,["name"]);return n!=null&&w(t,["_url","file"],BO(n)),t}function jX(e){const t={},n=v(e,["sdkHttpResponse"]);return n!=null&&w(t,["sdkHttpResponse"],n),t}function AX(e){const t={},n=v(e,["name"]);return n!=null&&w(t,["_url","file"],BO(n)),t}function TX(e,t){const n={},r=v(e,["pageSize"]);t!==void 0&&r!=null&&w(t,["_query","pageSize"],r);const o=v(e,["pageToken"]);return t!==void 0&&o!=null&&w(t,["_query","pageToken"],o),n}function kX(e){const t={},n=v(e,["config"]);return n!=null&&TX(n,t),t}function MX(e){const t={},n=v(e,["sdkHttpResponse"]);n!=null&&w(t,["sdkHttpResponse"],n);const r=v(e,["nextPageToken"]);r!=null&&w(t,["nextPageToken"],r);const o=v(e,["files"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(a=>a)),w(t,["files"],i)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class PX extends ca{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new zl(ea.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(t.file,t.config).then(n=>n)}async download(t){await this.apiClient.downloadFile(t)}async listInternal(t){var n,r;let o,i="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=kX(t);return i=ye("files",l._url),a=l._query,delete l._url,delete l._query,o=this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:u.headers},h})),o.then(u=>{const f=MX(u),h=new qJ;return Object.assign(h,f),h})}}async createInternal(t){var n,r;let o,i="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=NX(t);return i=ye("upload/v1beta/files",l._url),a=l._query,delete l._url,delete l._query,o=this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),o.then(u=>{const f=SX(u),h=new HJ;return Object.assign(h,f),h})}}async get(t){var n,r;let o,i="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=AX(t);return i=ye("files/{file}",l._url),a=l._query,delete l._url,delete l._query,o=this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),o.then(u=>u)}}async delete(t){var n,r;let o,i="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=EX(t);return i=ye("files/{file}",l._url),a=l._query,delete l._url,delete l._query,o=this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:u.headers},h})),o.then(u=>{const f=jX(u),h=new VJ;return Object.assign(h,f),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Am(e){const t={},n=v(e,["data"]);if(n!=null&&w(t,["data"],n),v(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=v(e,["mimeType"]);return r!=null&&w(t,["mimeType"],r),t}function RX(e){const t={},n=v(e,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(i=>KX(i))),w(t,["parts"],o)}const r=v(e,["role"]);return r!=null&&w(t,["role"],r),t}function IX(e){const t={};if(v(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=v(e,["fileUri"]);n!=null&&w(t,["fileUri"],n);const r=v(e,["mimeType"]);return r!=null&&w(t,["mimeType"],r),t}function DX(e){const t={};if(v(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=v(e,["description"]);n!=null&&w(t,["description"],n);const r=v(e,["name"]);r!=null&&w(t,["name"],r);const o=v(e,["parameters"]);o!=null&&w(t,["parameters"],o);const i=v(e,["parametersJsonSchema"]);i!=null&&w(t,["parametersJsonSchema"],i);const a=v(e,["response"]);a!=null&&w(t,["response"],a);const l=v(e,["responseJsonSchema"]);return l!=null&&w(t,["responseJsonSchema"],l),t}function _X(e){const t={},n=v(e,["modelSelectionConfig"]);n!=null&&w(t,["modelConfig"],n);const r=v(e,["responseJsonSchema"]);r!=null&&w(t,["responseJsonSchema"],r);const o=v(e,["audioTimestamp"]);o!=null&&w(t,["audioTimestamp"],o);const i=v(e,["candidateCount"]);i!=null&&w(t,["candidateCount"],i);const a=v(e,["enableAffectiveDialog"]);a!=null&&w(t,["enableAffectiveDialog"],a);const l=v(e,["frequencyPenalty"]);l!=null&&w(t,["frequencyPenalty"],l);const u=v(e,["logprobs"]);u!=null&&w(t,["logprobs"],u);const f=v(e,["maxOutputTokens"]);f!=null&&w(t,["maxOutputTokens"],f);const h=v(e,["mediaResolution"]);h!=null&&w(t,["mediaResolution"],h);const p=v(e,["presencePenalty"]);p!=null&&w(t,["presencePenalty"],p);const g=v(e,["responseLogprobs"]);g!=null&&w(t,["responseLogprobs"],g);const x=v(e,["responseMimeType"]);x!=null&&w(t,["responseMimeType"],x);const y=v(e,["responseModalities"]);y!=null&&w(t,["responseModalities"],y);const N=v(e,["responseSchema"]);N!=null&&w(t,["responseSchema"],N);const C=v(e,["routingConfig"]);C!=null&&w(t,["routingConfig"],C);const A=v(e,["seed"]);A!=null&&w(t,["seed"],A);const T=v(e,["speechConfig"]);T!=null&&w(t,["speechConfig"],GO(T));const k=v(e,["stopSequences"]);k!=null&&w(t,["stopSequences"],k);const D=v(e,["temperature"]);D!=null&&w(t,["temperature"],D);const R=v(e,["thinkingConfig"]);R!=null&&w(t,["thinkingConfig"],R);const I=v(e,["topK"]);I!=null&&w(t,["topK"],I);const P=v(e,["topP"]);if(P!=null&&w(t,["topP"],P),v(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function OX(e){const t={};if(v(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=v(e,["enableWidget"]);return n!=null&&w(t,["enableWidget"],n),t}function LX(e){const t={};if(v(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(v(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=v(e,["timeRangeFilter"]);return n!=null&&w(t,["timeRangeFilter"],n),t}function BX(e,t){const n={},r=v(e,["generationConfig"]);t!==void 0&&r!=null&&w(t,["setup","generationConfig"],r);const o=v(e,["responseModalities"]);t!==void 0&&o!=null&&w(t,["setup","generationConfig","responseModalities"],o);const i=v(e,["temperature"]);t!==void 0&&i!=null&&w(t,["setup","generationConfig","temperature"],i);const a=v(e,["topP"]);t!==void 0&&a!=null&&w(t,["setup","generationConfig","topP"],a);const l=v(e,["topK"]);t!==void 0&&l!=null&&w(t,["setup","generationConfig","topK"],l);const u=v(e,["maxOutputTokens"]);t!==void 0&&u!=null&&w(t,["setup","generationConfig","maxOutputTokens"],u);const f=v(e,["mediaResolution"]);t!==void 0&&f!=null&&w(t,["setup","generationConfig","mediaResolution"],f);const h=v(e,["seed"]);t!==void 0&&h!=null&&w(t,["setup","generationConfig","seed"],h);const p=v(e,["speechConfig"]);t!==void 0&&p!=null&&w(t,["setup","generationConfig","speechConfig"],dN(p));const g=v(e,["thinkingConfig"]);t!==void 0&&g!=null&&w(t,["setup","generationConfig","thinkingConfig"],g);const x=v(e,["enableAffectiveDialog"]);t!==void 0&&x!=null&&w(t,["setup","generationConfig","enableAffectiveDialog"],x);const y=v(e,["systemInstruction"]);t!==void 0&&y!=null&&w(t,["setup","systemInstruction"],RX(Zn(y)));const N=v(e,["tools"]);if(t!==void 0&&N!=null){let I=vu(N);Array.isArray(I)&&(I=I.map(P=>JX(bu(P)))),w(t,["setup","tools"],I)}const C=v(e,["sessionResumption"]);t!==void 0&&C!=null&&w(t,["setup","sessionResumption"],WX(C));const A=v(e,["inputAudioTranscription"]);t!==void 0&&A!=null&&w(t,["setup","inputAudioTranscription"],A);const T=v(e,["outputAudioTranscription"]);t!==void 0&&T!=null&&w(t,["setup","outputAudioTranscription"],T);const k=v(e,["realtimeInputConfig"]);t!==void 0&&k!=null&&w(t,["setup","realtimeInputConfig"],k);const D=v(e,["contextWindowCompression"]);t!==void 0&&D!=null&&w(t,["setup","contextWindowCompression"],D);const R=v(e,["proactivity"]);return t!==void 0&&R!=null&&w(t,["setup","proactivity"],R),n}function UX(e,t){const n={},r=v(e,["generationConfig"]);t!==void 0&&r!=null&&w(t,["setup","generationConfig"],_X(r));const o=v(e,["responseModalities"]);t!==void 0&&o!=null&&w(t,["setup","generationConfig","responseModalities"],o);const i=v(e,["temperature"]);t!==void 0&&i!=null&&w(t,["setup","generationConfig","temperature"],i);const a=v(e,["topP"]);t!==void 0&&a!=null&&w(t,["setup","generationConfig","topP"],a);const l=v(e,["topK"]);t!==void 0&&l!=null&&w(t,["setup","generationConfig","topK"],l);const u=v(e,["maxOutputTokens"]);t!==void 0&&u!=null&&w(t,["setup","generationConfig","maxOutputTokens"],u);const f=v(e,["mediaResolution"]);t!==void 0&&f!=null&&w(t,["setup","generationConfig","mediaResolution"],f);const h=v(e,["seed"]);t!==void 0&&h!=null&&w(t,["setup","generationConfig","seed"],h);const p=v(e,["speechConfig"]);t!==void 0&&p!=null&&w(t,["setup","generationConfig","speechConfig"],GO(dN(p)));const g=v(e,["thinkingConfig"]);t!==void 0&&g!=null&&w(t,["setup","generationConfig","thinkingConfig"],g);const x=v(e,["enableAffectiveDialog"]);t!==void 0&&x!=null&&w(t,["setup","generationConfig","enableAffectiveDialog"],x);const y=v(e,["systemInstruction"]);t!==void 0&&y!=null&&w(t,["setup","systemInstruction"],Zn(y));const N=v(e,["tools"]);if(t!==void 0&&N!=null){let I=vu(N);Array.isArray(I)&&(I=I.map(P=>YX(bu(P)))),w(t,["setup","tools"],I)}const C=v(e,["sessionResumption"]);t!==void 0&&C!=null&&w(t,["setup","sessionResumption"],C);const A=v(e,["inputAudioTranscription"]);t!==void 0&&A!=null&&w(t,["setup","inputAudioTranscription"],A);const T=v(e,["outputAudioTranscription"]);t!==void 0&&T!=null&&w(t,["setup","outputAudioTranscription"],T);const k=v(e,["realtimeInputConfig"]);t!==void 0&&k!=null&&w(t,["setup","realtimeInputConfig"],k);const D=v(e,["contextWindowCompression"]);t!==void 0&&D!=null&&w(t,["setup","contextWindowCompression"],D);const R=v(e,["proactivity"]);return t!==void 0&&R!=null&&w(t,["setup","proactivity"],R),n}function zX(e,t){const n={},r=v(t,["model"]);r!=null&&w(n,["setup","model"],rt(e,r));const o=v(t,["config"]);return o!=null&&w(n,["config"],BX(o,n)),n}function FX(e,t){const n={},r=v(t,["model"]);r!=null&&w(n,["setup","model"],rt(e,r));const o=v(t,["config"]);return o!=null&&w(n,["config"],UX(o,n)),n}function qX(e){const t={},n=v(e,["musicGenerationConfig"]);return n!=null&&w(t,["musicGenerationConfig"],n),t}function HX(e){const t={},n=v(e,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(o=>o)),w(t,["weightedPrompts"],r)}return t}function VX(e){const t={},n=v(e,["media"]);if(n!=null){let f=IO(n);Array.isArray(f)&&(f=f.map(h=>Am(h))),w(t,["mediaChunks"],f)}const r=v(e,["audio"]);r!=null&&w(t,["audio"],Am(_O(r)));const o=v(e,["audioStreamEnd"]);o!=null&&w(t,["audioStreamEnd"],o);const i=v(e,["video"]);i!=null&&w(t,["video"],Am(DO(i)));const a=v(e,["text"]);a!=null&&w(t,["text"],a);const l=v(e,["activityStart"]);l!=null&&w(t,["activityStart"],l);const u=v(e,["activityEnd"]);return u!=null&&w(t,["activityEnd"],u),t}function $X(e){const t={},n=v(e,["media"]);if(n!=null){let f=IO(n);Array.isArray(f)&&(f=f.map(h=>h)),w(t,["mediaChunks"],f)}const r=v(e,["audio"]);r!=null&&w(t,["audio"],_O(r));const o=v(e,["audioStreamEnd"]);o!=null&&w(t,["audioStreamEnd"],o);const i=v(e,["video"]);i!=null&&w(t,["video"],DO(i));const a=v(e,["text"]);a!=null&&w(t,["text"],a);const l=v(e,["activityStart"]);l!=null&&w(t,["activityStart"],l);const u=v(e,["activityEnd"]);return u!=null&&w(t,["activityEnd"],u),t}function GX(e){const t={},n=v(e,["setupComplete"]);n!=null&&w(t,["setupComplete"],n);const r=v(e,["serverContent"]);r!=null&&w(t,["serverContent"],r);const o=v(e,["toolCall"]);o!=null&&w(t,["toolCall"],o);const i=v(e,["toolCallCancellation"]);i!=null&&w(t,["toolCallCancellation"],i);const a=v(e,["usageMetadata"]);a!=null&&w(t,["usageMetadata"],XX(a));const l=v(e,["goAway"]);l!=null&&w(t,["goAway"],l);const u=v(e,["sessionResumptionUpdate"]);return u!=null&&w(t,["sessionResumptionUpdate"],u),t}function KX(e){const t={},n=v(e,["functionCall"]);n!=null&&w(t,["functionCall"],n);const r=v(e,["codeExecutionResult"]);r!=null&&w(t,["codeExecutionResult"],r);const o=v(e,["executableCode"]);o!=null&&w(t,["executableCode"],o);const i=v(e,["fileData"]);i!=null&&w(t,["fileData"],IX(i));const a=v(e,["functionResponse"]);a!=null&&w(t,["functionResponse"],a);const l=v(e,["inlineData"]);l!=null&&w(t,["inlineData"],Am(l));const u=v(e,["text"]);u!=null&&w(t,["text"],u);const f=v(e,["thought"]);f!=null&&w(t,["thought"],f);const h=v(e,["thoughtSignature"]);h!=null&&w(t,["thoughtSignature"],h);const p=v(e,["videoMetadata"]);return p!=null&&w(t,["videoMetadata"],p),t}function WX(e){const t={},n=v(e,["handle"]);if(n!=null&&w(t,["handle"],n),v(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function GO(e){const t={},n=v(e,["languageCode"]);n!=null&&w(t,["languageCode"],n);const r=v(e,["voiceConfig"]);if(r!=null&&w(t,["voiceConfig"],r),v(e,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return t}function JX(e){const t={},n=v(e,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(p=>p)),w(t,["functionDeclarations"],h)}if(v(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=v(e,["googleSearchRetrieval"]);r!=null&&w(t,["googleSearchRetrieval"],r);const o=v(e,["computerUse"]);o!=null&&w(t,["computerUse"],o);const i=v(e,["fileSearch"]);i!=null&&w(t,["fileSearch"],i);const a=v(e,["codeExecution"]);if(a!=null&&w(t,["codeExecution"],a),v(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const l=v(e,["googleMaps"]);l!=null&&w(t,["googleMaps"],OX(l));const u=v(e,["googleSearch"]);u!=null&&w(t,["googleSearch"],LX(u));const f=v(e,["urlContext"]);return f!=null&&w(t,["urlContext"],f),t}function YX(e){const t={},n=v(e,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(g=>DX(g))),w(t,["functionDeclarations"],p)}const r=v(e,["retrieval"]);r!=null&&w(t,["retrieval"],r);const o=v(e,["googleSearchRetrieval"]);o!=null&&w(t,["googleSearchRetrieval"],o);const i=v(e,["computerUse"]);if(i!=null&&w(t,["computerUse"],i),v(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=v(e,["codeExecution"]);a!=null&&w(t,["codeExecution"],a);const l=v(e,["enterpriseWebSearch"]);l!=null&&w(t,["enterpriseWebSearch"],l);const u=v(e,["googleMaps"]);u!=null&&w(t,["googleMaps"],u);const f=v(e,["googleSearch"]);f!=null&&w(t,["googleSearch"],f);const h=v(e,["urlContext"]);return h!=null&&w(t,["urlContext"],h),t}function XX(e){const t={},n=v(e,["promptTokenCount"]);n!=null&&w(t,["promptTokenCount"],n);const r=v(e,["cachedContentTokenCount"]);r!=null&&w(t,["cachedContentTokenCount"],r);const o=v(e,["candidatesTokenCount"]);o!=null&&w(t,["responseTokenCount"],o);const i=v(e,["toolUsePromptTokenCount"]);i!=null&&w(t,["toolUsePromptTokenCount"],i);const a=v(e,["thoughtsTokenCount"]);a!=null&&w(t,["thoughtsTokenCount"],a);const l=v(e,["totalTokenCount"]);l!=null&&w(t,["totalTokenCount"],l);const u=v(e,["promptTokensDetails"]);if(u!=null){let x=u;Array.isArray(x)&&(x=x.map(y=>y)),w(t,["promptTokensDetails"],x)}const f=v(e,["cacheTokensDetails"]);if(f!=null){let x=f;Array.isArray(x)&&(x=x.map(y=>y)),w(t,["cacheTokensDetails"],x)}const h=v(e,["candidatesTokensDetails"]);if(h!=null){let x=h;Array.isArray(x)&&(x=x.map(y=>y)),w(t,["responseTokensDetails"],x)}const p=v(e,["toolUsePromptTokensDetails"]);if(p!=null){let x=p;Array.isArray(x)&&(x=x.map(y=>y)),w(t,["toolUsePromptTokensDetails"],x)}const g=v(e,["trafficType"]);return g!=null&&w(t,["trafficType"],g),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function QX(e){const t={},n=v(e,["data"]);if(n!=null&&w(t,["data"],n),v(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=v(e,["mimeType"]);return r!=null&&w(t,["mimeType"],r),t}function ZX(e){const t={},n=v(e,["content"]);n!=null&&w(t,["content"],n);const r=v(e,["citationMetadata"]);r!=null&&w(t,["citationMetadata"],eQ(r));const o=v(e,["tokenCount"]);o!=null&&w(t,["tokenCount"],o);const i=v(e,["finishReason"]);i!=null&&w(t,["finishReason"],i);const a=v(e,["avgLogprobs"]);a!=null&&w(t,["avgLogprobs"],a);const l=v(e,["groundingMetadata"]);l!=null&&w(t,["groundingMetadata"],l);const u=v(e,["index"]);u!=null&&w(t,["index"],u);const f=v(e,["logprobsResult"]);f!=null&&w(t,["logprobsResult"],f);const h=v(e,["safetyRatings"]);if(h!=null){let g=h;Array.isArray(g)&&(g=g.map(x=>x)),w(t,["safetyRatings"],g)}const p=v(e,["urlContextMetadata"]);return p!=null&&w(t,["urlContextMetadata"],p),t}function eQ(e){const t={},n=v(e,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(o=>o)),w(t,["citations"],r)}return t}function tQ(e,t){const n={},r=v(t,["model"]);r!=null&&w(n,["_url","model"],rt(e,r));const o=v(t,["contents"]);if(o!=null){let i=xo(o);Array.isArray(i)&&(i=i.map(a=>a)),w(n,["contents"],i)}return n}function nQ(e){const t={},n=v(e,["sdkHttpResponse"]);n!=null&&w(t,["sdkHttpResponse"],n);const r=v(e,["tokensInfo"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(i=>i)),w(t,["tokensInfo"],o)}return t}function rQ(e){const t={},n=v(e,["values"]);n!=null&&w(t,["values"],n);const r=v(e,["statistics"]);return r!=null&&w(t,["statistics"],oQ(r)),t}function oQ(e){const t={},n=v(e,["truncated"]);n!=null&&w(t,["truncated"],n);const r=v(e,["token_count"]);return r!=null&&w(t,["tokenCount"],r),t}function zx(e){const t={},n=v(e,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(i=>cZ(i))),w(t,["parts"],o)}const r=v(e,["role"]);return r!=null&&w(t,["role"],r),t}function iQ(e){const t={},n=v(e,["controlType"]);n!=null&&w(t,["controlType"],n);const r=v(e,["enableControlImageComputation"]);return r!=null&&w(t,["computeControl"],r),t}function aQ(e){const t={};if(v(e,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(v(e,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(v(e,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return t}function sQ(e,t){const n={},r=v(e,["systemInstruction"]);t!==void 0&&r!=null&&w(t,["systemInstruction"],Zn(r));const o=v(e,["tools"]);if(t!==void 0&&o!=null){let a=o;Array.isArray(a)&&(a=a.map(l=>XO(l))),w(t,["tools"],a)}const i=v(e,["generationConfig"]);return t!==void 0&&i!=null&&w(t,["generationConfig"],YQ(i)),n}function lQ(e,t){const n={},r=v(t,["model"]);r!=null&&w(n,["_url","model"],rt(e,r));const o=v(t,["contents"]);if(o!=null){let a=xo(o);Array.isArray(a)&&(a=a.map(l=>zx(l))),w(n,["contents"],a)}const i=v(t,["config"]);return i!=null&&aQ(i),n}function cQ(e,t){const n={},r=v(t,["model"]);r!=null&&w(n,["_url","model"],rt(e,r));const o=v(t,["contents"]);if(o!=null){let a=xo(o);Array.isArray(a)&&(a=a.map(l=>l)),w(n,["contents"],a)}const i=v(t,["config"]);return i!=null&&sQ(i,n),n}function uQ(e){const t={},n=v(e,["sdkHttpResponse"]);n!=null&&w(t,["sdkHttpResponse"],n);const r=v(e,["totalTokens"]);r!=null&&w(t,["totalTokens"],r);const o=v(e,["cachedContentTokenCount"]);return o!=null&&w(t,["cachedContentTokenCount"],o),t}function dQ(e){const t={},n=v(e,["sdkHttpResponse"]);n!=null&&w(t,["sdkHttpResponse"],n);const r=v(e,["totalTokens"]);return r!=null&&w(t,["totalTokens"],r),t}function fQ(e,t){const n={},r=v(t,["model"]);return r!=null&&w(n,["_url","name"],rt(e,r)),n}function hQ(e,t){const n={},r=v(t,["model"]);return r!=null&&w(n,["_url","name"],rt(e,r)),n}function pQ(e){const t={},n=v(e,["sdkHttpResponse"]);return n!=null&&w(t,["sdkHttpResponse"],n),t}function mQ(e){const t={},n=v(e,["sdkHttpResponse"]);return n!=null&&w(t,["sdkHttpResponse"],n),t}function gQ(e,t){const n={},r=v(e,["outputGcsUri"]);t!==void 0&&r!=null&&w(t,["parameters","storageUri"],r);const o=v(e,["negativePrompt"]);t!==void 0&&o!=null&&w(t,["parameters","negativePrompt"],o);const i=v(e,["numberOfImages"]);t!==void 0&&i!=null&&w(t,["parameters","sampleCount"],i);const a=v(e,["aspectRatio"]);t!==void 0&&a!=null&&w(t,["parameters","aspectRatio"],a);const l=v(e,["guidanceScale"]);t!==void 0&&l!=null&&w(t,["parameters","guidanceScale"],l);const u=v(e,["seed"]);t!==void 0&&u!=null&&w(t,["parameters","seed"],u);const f=v(e,["safetyFilterLevel"]);t!==void 0&&f!=null&&w(t,["parameters","safetySetting"],f);const h=v(e,["personGeneration"]);t!==void 0&&h!=null&&w(t,["parameters","personGeneration"],h);const p=v(e,["includeSafetyAttributes"]);t!==void 0&&p!=null&&w(t,["parameters","includeSafetyAttributes"],p);const g=v(e,["includeRaiReason"]);t!==void 0&&g!=null&&w(t,["parameters","includeRaiReason"],g);const x=v(e,["language"]);t!==void 0&&x!=null&&w(t,["parameters","language"],x);const y=v(e,["outputMimeType"]);t!==void 0&&y!=null&&w(t,["parameters","outputOptions","mimeType"],y);const N=v(e,["outputCompressionQuality"]);t!==void 0&&N!=null&&w(t,["parameters","outputOptions","compressionQuality"],N);const C=v(e,["addWatermark"]);t!==void 0&&C!=null&&w(t,["parameters","addWatermark"],C);const A=v(e,["labels"]);t!==void 0&&A!=null&&w(t,["labels"],A);const T=v(e,["editMode"]);t!==void 0&&T!=null&&w(t,["parameters","editMode"],T);const k=v(e,["baseSteps"]);return t!==void 0&&k!=null&&w(t,["parameters","editConfig","baseSteps"],k),n}function xQ(e,t){const n={},r=v(t,["model"]);r!=null&&w(n,["_url","model"],rt(e,r));const o=v(t,["prompt"]);o!=null&&w(n,["instances[0]","prompt"],o);const i=v(t,["referenceImages"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(u=>mZ(u))),w(n,["instances[0]","referenceImages"],l)}const a=v(t,["config"]);return a!=null&&gQ(a,n),n}function bQ(e){const t={},n=v(e,["sdkHttpResponse"]);n!=null&&w(t,["sdkHttpResponse"],n);const r=v(e,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(i=>Fx(i))),w(t,["generatedImages"],o)}return t}function vQ(e,t){const n={},r=v(e,["taskType"]);t!==void 0&&r!=null&&w(t,["requests[]","taskType"],r);const o=v(e,["title"]);t!==void 0&&o!=null&&w(t,["requests[]","title"],o);const i=v(e,["outputDimensionality"]);if(t!==void 0&&i!=null&&w(t,["requests[]","outputDimensionality"],i),v(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(v(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function yQ(e,t){const n={},r=v(e,["taskType"]);t!==void 0&&r!=null&&w(t,["instances[]","task_type"],r);const o=v(e,["title"]);t!==void 0&&o!=null&&w(t,["instances[]","title"],o);const i=v(e,["outputDimensionality"]);t!==void 0&&i!=null&&w(t,["parameters","outputDimensionality"],i);const a=v(e,["mimeType"]);t!==void 0&&a!=null&&w(t,["instances[]","mimeType"],a);const l=v(e,["autoTruncate"]);return t!==void 0&&l!=null&&w(t,["parameters","autoTruncate"],l),n}function wQ(e,t){const n={},r=v(t,["model"]);r!=null&&w(n,["_url","model"],rt(e,r));const o=v(t,["contents"]);if(o!=null){let l=lN(e,o);Array.isArray(l)&&(l=l.map(u=>u)),w(n,["requests[]","content"],l)}const i=v(t,["config"]);i!=null&&vQ(i,n);const a=v(t,["model"]);return a!==void 0&&w(n,["requests[]","model"],rt(e,a)),n}function CQ(e,t){const n={},r=v(t,["model"]);r!=null&&w(n,["_url","model"],rt(e,r));const o=v(t,["contents"]);if(o!=null){let a=lN(e,o);Array.isArray(a)&&(a=a.map(l=>l)),w(n,["instances[]","content"],a)}const i=v(t,["config"]);return i!=null&&yQ(i,n),n}function NQ(e){const t={},n=v(e,["sdkHttpResponse"]);n!=null&&w(t,["sdkHttpResponse"],n);const r=v(e,["embeddings"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>a)),w(t,["embeddings"],i)}const o=v(e,["metadata"]);return o!=null&&w(t,["metadata"],o),t}function SQ(e){const t={},n=v(e,["sdkHttpResponse"]);n!=null&&w(t,["sdkHttpResponse"],n);const r=v(e,["predictions[]","embeddings"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>rQ(a))),w(t,["embeddings"],i)}const o=v(e,["metadata"]);return o!=null&&w(t,["metadata"],o),t}function EQ(e){const t={},n=v(e,["endpoint"]);n!=null&&w(t,["name"],n);const r=v(e,["deployedModelId"]);return r!=null&&w(t,["deployedModelId"],r),t}function jQ(e){const t={};if(v(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=v(e,["fileUri"]);n!=null&&w(t,["fileUri"],n);const r=v(e,["mimeType"]);return r!=null&&w(t,["mimeType"],r),t}function AQ(e){const t={};if(v(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=v(e,["description"]);n!=null&&w(t,["description"],n);const r=v(e,["name"]);r!=null&&w(t,["name"],r);const o=v(e,["parameters"]);o!=null&&w(t,["parameters"],o);const i=v(e,["parametersJsonSchema"]);i!=null&&w(t,["parametersJsonSchema"],i);const a=v(e,["response"]);a!=null&&w(t,["response"],a);const l=v(e,["responseJsonSchema"]);return l!=null&&w(t,["responseJsonSchema"],l),t}function TQ(e,t,n){const r={},o=v(t,["systemInstruction"]);n!==void 0&&o!=null&&w(n,["systemInstruction"],zx(Zn(o)));const i=v(t,["temperature"]);i!=null&&w(r,["temperature"],i);const a=v(t,["topP"]);a!=null&&w(r,["topP"],a);const l=v(t,["topK"]);l!=null&&w(r,["topK"],l);const u=v(t,["candidateCount"]);u!=null&&w(r,["candidateCount"],u);const f=v(t,["maxOutputTokens"]);f!=null&&w(r,["maxOutputTokens"],f);const h=v(t,["stopSequences"]);h!=null&&w(r,["stopSequences"],h);const p=v(t,["responseLogprobs"]);p!=null&&w(r,["responseLogprobs"],p);const g=v(t,["logprobs"]);g!=null&&w(r,["logprobs"],g);const x=v(t,["presencePenalty"]);x!=null&&w(r,["presencePenalty"],x);const y=v(t,["frequencyPenalty"]);y!=null&&w(r,["frequencyPenalty"],y);const N=v(t,["seed"]);N!=null&&w(r,["seed"],N);const C=v(t,["responseMimeType"]);C!=null&&w(r,["responseMimeType"],C);const A=v(t,["responseSchema"]);A!=null&&w(r,["responseSchema"],cN(A));const T=v(t,["responseJsonSchema"]);if(T!=null&&w(r,["responseJsonSchema"],T),v(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(v(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const k=v(t,["safetySettings"]);if(n!==void 0&&k!=null){let q=k;Array.isArray(q)&&(q=q.map(W=>gZ(W))),w(n,["safetySettings"],q)}const D=v(t,["tools"]);if(n!==void 0&&D!=null){let q=vu(D);Array.isArray(q)&&(q=q.map(W=>CZ(bu(W)))),w(n,["tools"],q)}const R=v(t,["toolConfig"]);if(n!==void 0&&R!=null&&w(n,["toolConfig"],R),v(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const I=v(t,["cachedContent"]);n!==void 0&&I!=null&&w(n,["cachedContent"],ua(e,I));const P=v(t,["responseModalities"]);P!=null&&w(r,["responseModalities"],P);const B=v(t,["mediaResolution"]);B!=null&&w(r,["mediaResolution"],B);const L=v(t,["speechConfig"]);if(L!=null&&w(r,["speechConfig"],uN(L)),v(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const $=v(t,["thinkingConfig"]);$!=null&&w(r,["thinkingConfig"],$);const X=v(t,["imageConfig"]);return X!=null&&w(r,["imageConfig"],X),r}function kQ(e,t,n){const r={},o=v(t,["systemInstruction"]);n!==void 0&&o!=null&&w(n,["systemInstruction"],Zn(o));const i=v(t,["temperature"]);i!=null&&w(r,["temperature"],i);const a=v(t,["topP"]);a!=null&&w(r,["topP"],a);const l=v(t,["topK"]);l!=null&&w(r,["topK"],l);const u=v(t,["candidateCount"]);u!=null&&w(r,["candidateCount"],u);const f=v(t,["maxOutputTokens"]);f!=null&&w(r,["maxOutputTokens"],f);const h=v(t,["stopSequences"]);h!=null&&w(r,["stopSequences"],h);const p=v(t,["responseLogprobs"]);p!=null&&w(r,["responseLogprobs"],p);const g=v(t,["logprobs"]);g!=null&&w(r,["logprobs"],g);const x=v(t,["presencePenalty"]);x!=null&&w(r,["presencePenalty"],x);const y=v(t,["frequencyPenalty"]);y!=null&&w(r,["frequencyPenalty"],y);const N=v(t,["seed"]);N!=null&&w(r,["seed"],N);const C=v(t,["responseMimeType"]);C!=null&&w(r,["responseMimeType"],C);const A=v(t,["responseSchema"]);A!=null&&w(r,["responseSchema"],cN(A));const T=v(t,["responseJsonSchema"]);T!=null&&w(r,["responseJsonSchema"],T);const k=v(t,["routingConfig"]);k!=null&&w(r,["routingConfig"],k);const D=v(t,["modelSelectionConfig"]);D!=null&&w(r,["modelConfig"],D);const R=v(t,["safetySettings"]);if(n!==void 0&&R!=null){let U=R;Array.isArray(U)&&(U=U.map(V=>V)),w(n,["safetySettings"],U)}const I=v(t,["tools"]);if(n!==void 0&&I!=null){let U=vu(I);Array.isArray(U)&&(U=U.map(V=>XO(bu(V)))),w(n,["tools"],U)}const P=v(t,["toolConfig"]);n!==void 0&&P!=null&&w(n,["toolConfig"],P);const B=v(t,["labels"]);n!==void 0&&B!=null&&w(n,["labels"],B);const L=v(t,["cachedContent"]);n!==void 0&&L!=null&&w(n,["cachedContent"],ua(e,L));const $=v(t,["responseModalities"]);$!=null&&w(r,["responseModalities"],$);const X=v(t,["mediaResolution"]);X!=null&&w(r,["mediaResolution"],X);const q=v(t,["speechConfig"]);q!=null&&w(r,["speechConfig"],YO(uN(q)));const W=v(t,["audioTimestamp"]);W!=null&&w(r,["audioTimestamp"],W);const ie=v(t,["thinkingConfig"]);ie!=null&&w(r,["thinkingConfig"],ie);const K=v(t,["imageConfig"]);return K!=null&&w(r,["imageConfig"],K),r}function WM(e,t){const n={},r=v(t,["model"]);r!=null&&w(n,["_url","model"],rt(e,r));const o=v(t,["contents"]);if(o!=null){let a=xo(o);Array.isArray(a)&&(a=a.map(l=>zx(l))),w(n,["contents"],a)}const i=v(t,["config"]);return i!=null&&w(n,["generationConfig"],TQ(e,i,n)),n}function JM(e,t){const n={},r=v(t,["model"]);r!=null&&w(n,["_url","model"],rt(e,r));const o=v(t,["contents"]);if(o!=null){let a=xo(o);Array.isArray(a)&&(a=a.map(l=>l)),w(n,["contents"],a)}const i=v(t,["config"]);return i!=null&&w(n,["generationConfig"],kQ(e,i,n)),n}function YM(e){const t={},n=v(e,["sdkHttpResponse"]);n!=null&&w(t,["sdkHttpResponse"],n);const r=v(e,["candidates"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(f=>ZX(f))),w(t,["candidates"],u)}const o=v(e,["modelVersion"]);o!=null&&w(t,["modelVersion"],o);const i=v(e,["promptFeedback"]);i!=null&&w(t,["promptFeedback"],i);const a=v(e,["responseId"]);a!=null&&w(t,["responseId"],a);const l=v(e,["usageMetadata"]);return l!=null&&w(t,["usageMetadata"],l),t}function XM(e){const t={},n=v(e,["sdkHttpResponse"]);n!=null&&w(t,["sdkHttpResponse"],n);const r=v(e,["candidates"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(h=>h)),w(t,["candidates"],f)}const o=v(e,["createTime"]);o!=null&&w(t,["createTime"],o);const i=v(e,["modelVersion"]);i!=null&&w(t,["modelVersion"],i);const a=v(e,["promptFeedback"]);a!=null&&w(t,["promptFeedback"],a);const l=v(e,["responseId"]);l!=null&&w(t,["responseId"],l);const u=v(e,["usageMetadata"]);return u!=null&&w(t,["usageMetadata"],u),t}function MQ(e,t){const n={};if(v(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(v(e,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=v(e,["numberOfImages"]);t!==void 0&&r!=null&&w(t,["parameters","sampleCount"],r);const o=v(e,["aspectRatio"]);t!==void 0&&o!=null&&w(t,["parameters","aspectRatio"],o);const i=v(e,["guidanceScale"]);if(t!==void 0&&i!=null&&w(t,["parameters","guidanceScale"],i),v(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const a=v(e,["safetyFilterLevel"]);t!==void 0&&a!=null&&w(t,["parameters","safetySetting"],a);const l=v(e,["personGeneration"]);t!==void 0&&l!=null&&w(t,["parameters","personGeneration"],l);const u=v(e,["includeSafetyAttributes"]);t!==void 0&&u!=null&&w(t,["parameters","includeSafetyAttributes"],u);const f=v(e,["includeRaiReason"]);t!==void 0&&f!=null&&w(t,["parameters","includeRaiReason"],f);const h=v(e,["language"]);t!==void 0&&h!=null&&w(t,["parameters","language"],h);const p=v(e,["outputMimeType"]);t!==void 0&&p!=null&&w(t,["parameters","outputOptions","mimeType"],p);const g=v(e,["outputCompressionQuality"]);if(t!==void 0&&g!=null&&w(t,["parameters","outputOptions","compressionQuality"],g),v(e,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(v(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const x=v(e,["imageSize"]);if(t!==void 0&&x!=null&&w(t,["parameters","sampleImageSize"],x),v(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function PQ(e,t){const n={},r=v(e,["outputGcsUri"]);t!==void 0&&r!=null&&w(t,["parameters","storageUri"],r);const o=v(e,["negativePrompt"]);t!==void 0&&o!=null&&w(t,["parameters","negativePrompt"],o);const i=v(e,["numberOfImages"]);t!==void 0&&i!=null&&w(t,["parameters","sampleCount"],i);const a=v(e,["aspectRatio"]);t!==void 0&&a!=null&&w(t,["parameters","aspectRatio"],a);const l=v(e,["guidanceScale"]);t!==void 0&&l!=null&&w(t,["parameters","guidanceScale"],l);const u=v(e,["seed"]);t!==void 0&&u!=null&&w(t,["parameters","seed"],u);const f=v(e,["safetyFilterLevel"]);t!==void 0&&f!=null&&w(t,["parameters","safetySetting"],f);const h=v(e,["personGeneration"]);t!==void 0&&h!=null&&w(t,["parameters","personGeneration"],h);const p=v(e,["includeSafetyAttributes"]);t!==void 0&&p!=null&&w(t,["parameters","includeSafetyAttributes"],p);const g=v(e,["includeRaiReason"]);t!==void 0&&g!=null&&w(t,["parameters","includeRaiReason"],g);const x=v(e,["language"]);t!==void 0&&x!=null&&w(t,["parameters","language"],x);const y=v(e,["outputMimeType"]);t!==void 0&&y!=null&&w(t,["parameters","outputOptions","mimeType"],y);const N=v(e,["outputCompressionQuality"]);t!==void 0&&N!=null&&w(t,["parameters","outputOptions","compressionQuality"],N);const C=v(e,["addWatermark"]);t!==void 0&&C!=null&&w(t,["parameters","addWatermark"],C);const A=v(e,["labels"]);t!==void 0&&A!=null&&w(t,["labels"],A);const T=v(e,["imageSize"]);t!==void 0&&T!=null&&w(t,["parameters","sampleImageSize"],T);const k=v(e,["enhancePrompt"]);return t!==void 0&&k!=null&&w(t,["parameters","enhancePrompt"],k),n}function RQ(e,t){const n={},r=v(t,["model"]);r!=null&&w(n,["_url","model"],rt(e,r));const o=v(t,["prompt"]);o!=null&&w(n,["instances[0]","prompt"],o);const i=v(t,["config"]);return i!=null&&MQ(i,n),n}function IQ(e,t){const n={},r=v(t,["model"]);r!=null&&w(n,["_url","model"],rt(e,r));const o=v(t,["prompt"]);o!=null&&w(n,["instances[0]","prompt"],o);const i=v(t,["config"]);return i!=null&&PQ(i,n),n}function DQ(e){const t={},n=v(e,["sdkHttpResponse"]);n!=null&&w(t,["sdkHttpResponse"],n);const r=v(e,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>GQ(a))),w(t,["generatedImages"],i)}const o=v(e,["positivePromptSafetyAttributes"]);return o!=null&&w(t,["positivePromptSafetyAttributes"],WO(o)),t}function _Q(e){const t={},n=v(e,["sdkHttpResponse"]);n!=null&&w(t,["sdkHttpResponse"],n);const r=v(e,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>Fx(a))),w(t,["generatedImages"],i)}const o=v(e,["positivePromptSafetyAttributes"]);return o!=null&&w(t,["positivePromptSafetyAttributes"],JO(o)),t}function OQ(e,t){const n={},r=v(e,["numberOfVideos"]);if(t!==void 0&&r!=null&&w(t,["parameters","sampleCount"],r),v(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(v(e,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const o=v(e,["durationSeconds"]);if(t!==void 0&&o!=null&&w(t,["parameters","durationSeconds"],o),v(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const i=v(e,["aspectRatio"]);t!==void 0&&i!=null&&w(t,["parameters","aspectRatio"],i);const a=v(e,["resolution"]);t!==void 0&&a!=null&&w(t,["parameters","resolution"],a);const l=v(e,["personGeneration"]);if(t!==void 0&&l!=null&&w(t,["parameters","personGeneration"],l),v(e,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const u=v(e,["negativePrompt"]);t!==void 0&&u!=null&&w(t,["parameters","negativePrompt"],u);const f=v(e,["enhancePrompt"]);if(t!==void 0&&f!=null&&w(t,["parameters","enhancePrompt"],f),v(e,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const h=v(e,["lastFrame"]);t!==void 0&&h!=null&&w(t,["instances[0]","lastFrame"],qx(h));const p=v(e,["referenceImages"]);if(t!==void 0&&p!=null){let g=p;Array.isArray(g)&&(g=g.map(x=>_Z(x))),w(t,["instances[0]","referenceImages"],g)}if(v(e,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(v(e,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function LQ(e,t){const n={},r=v(e,["numberOfVideos"]);t!==void 0&&r!=null&&w(t,["parameters","sampleCount"],r);const o=v(e,["outputGcsUri"]);t!==void 0&&o!=null&&w(t,["parameters","storageUri"],o);const i=v(e,["fps"]);t!==void 0&&i!=null&&w(t,["parameters","fps"],i);const a=v(e,["durationSeconds"]);t!==void 0&&a!=null&&w(t,["parameters","durationSeconds"],a);const l=v(e,["seed"]);t!==void 0&&l!=null&&w(t,["parameters","seed"],l);const u=v(e,["aspectRatio"]);t!==void 0&&u!=null&&w(t,["parameters","aspectRatio"],u);const f=v(e,["resolution"]);t!==void 0&&f!=null&&w(t,["parameters","resolution"],f);const h=v(e,["personGeneration"]);t!==void 0&&h!=null&&w(t,["parameters","personGeneration"],h);const p=v(e,["pubsubTopic"]);t!==void 0&&p!=null&&w(t,["parameters","pubsubTopic"],p);const g=v(e,["negativePrompt"]);t!==void 0&&g!=null&&w(t,["parameters","negativePrompt"],g);const x=v(e,["enhancePrompt"]);t!==void 0&&x!=null&&w(t,["parameters","enhancePrompt"],x);const y=v(e,["generateAudio"]);t!==void 0&&y!=null&&w(t,["parameters","generateAudio"],y);const N=v(e,["lastFrame"]);t!==void 0&&N!=null&&w(t,["instances[0]","lastFrame"],Fo(N));const C=v(e,["referenceImages"]);if(t!==void 0&&C!=null){let k=C;Array.isArray(k)&&(k=k.map(D=>OZ(D))),w(t,["instances[0]","referenceImages"],k)}const A=v(e,["mask"]);t!==void 0&&A!=null&&w(t,["instances[0]","mask"],DZ(A));const T=v(e,["compressionQuality"]);return t!==void 0&&T!=null&&w(t,["parameters","compressionQuality"],T),n}function BQ(e){const t={},n=v(e,["name"]);n!=null&&w(t,["name"],n);const r=v(e,["metadata"]);r!=null&&w(t,["metadata"],r);const o=v(e,["done"]);o!=null&&w(t,["done"],o);const i=v(e,["error"]);i!=null&&w(t,["error"],i);const a=v(e,["response","generateVideoResponse"]);return a!=null&&w(t,["response"],qQ(a)),t}function UQ(e){const t={},n=v(e,["name"]);n!=null&&w(t,["name"],n);const r=v(e,["metadata"]);r!=null&&w(t,["metadata"],r);const o=v(e,["done"]);o!=null&&w(t,["done"],o);const i=v(e,["error"]);i!=null&&w(t,["error"],i);const a=v(e,["response"]);return a!=null&&w(t,["response"],HQ(a)),t}function zQ(e,t){const n={},r=v(t,["model"]);r!=null&&w(n,["_url","model"],rt(e,r));const o=v(t,["prompt"]);o!=null&&w(n,["instances[0]","prompt"],o);const i=v(t,["image"]);i!=null&&w(n,["instances[0]","image"],qx(i));const a=v(t,["video"]);a!=null&&w(n,["instances[0]","video"],QO(a));const l=v(t,["source"]);l!=null&&VQ(l,n);const u=v(t,["config"]);return u!=null&&OQ(u,n),n}function FQ(e,t){const n={},r=v(t,["model"]);r!=null&&w(n,["_url","model"],rt(e,r));const o=v(t,["prompt"]);o!=null&&w(n,["instances[0]","prompt"],o);const i=v(t,["image"]);i!=null&&w(n,["instances[0]","image"],Fo(i));const a=v(t,["video"]);a!=null&&w(n,["instances[0]","video"],ZO(a));const l=v(t,["source"]);l!=null&&$Q(l,n);const u=v(t,["config"]);return u!=null&&LQ(u,n),n}function qQ(e){const t={},n=v(e,["generatedSamples"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>WQ(a))),w(t,["generatedVideos"],i)}const r=v(e,["raiMediaFilteredCount"]);r!=null&&w(t,["raiMediaFilteredCount"],r);const o=v(e,["raiMediaFilteredReasons"]);return o!=null&&w(t,["raiMediaFilteredReasons"],o),t}function HQ(e){const t={},n=v(e,["videos"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>JQ(a))),w(t,["generatedVideos"],i)}const r=v(e,["raiMediaFilteredCount"]);r!=null&&w(t,["raiMediaFilteredCount"],r);const o=v(e,["raiMediaFilteredReasons"]);return o!=null&&w(t,["raiMediaFilteredReasons"],o),t}function VQ(e,t){const n={},r=v(e,["prompt"]);t!==void 0&&r!=null&&w(t,["instances[0]","prompt"],r);const o=v(e,["image"]);t!==void 0&&o!=null&&w(t,["instances[0]","image"],qx(o));const i=v(e,["video"]);return t!==void 0&&i!=null&&w(t,["instances[0]","video"],QO(i)),n}function $Q(e,t){const n={},r=v(e,["prompt"]);t!==void 0&&r!=null&&w(t,["instances[0]","prompt"],r);const o=v(e,["image"]);t!==void 0&&o!=null&&w(t,["instances[0]","image"],Fo(o));const i=v(e,["video"]);return t!==void 0&&i!=null&&w(t,["instances[0]","video"],ZO(i)),n}function GQ(e){const t={},n=v(e,["_self"]);n!=null&&w(t,["image"],tZ(n));const r=v(e,["raiFilteredReason"]);r!=null&&w(t,["raiFilteredReason"],r);const o=v(e,["_self"]);return o!=null&&w(t,["safetyAttributes"],WO(o)),t}function Fx(e){const t={},n=v(e,["_self"]);n!=null&&w(t,["image"],KO(n));const r=v(e,["raiFilteredReason"]);r!=null&&w(t,["raiFilteredReason"],r);const o=v(e,["_self"]);o!=null&&w(t,["safetyAttributes"],JO(o));const i=v(e,["prompt"]);return i!=null&&w(t,["enhancedPrompt"],i),t}function KQ(e){const t={},n=v(e,["_self"]);n!=null&&w(t,["mask"],KO(n));const r=v(e,["labels"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(i=>i)),w(t,["labels"],o)}return t}function WQ(e){const t={},n=v(e,["video"]);return n!=null&&w(t,["video"],RZ(n)),t}function JQ(e){const t={},n=v(e,["_self"]);return n!=null&&w(t,["video"],IZ(n)),t}function YQ(e){const t={},n=v(e,["modelSelectionConfig"]);n!=null&&w(t,["modelConfig"],n);const r=v(e,["responseJsonSchema"]);r!=null&&w(t,["responseJsonSchema"],r);const o=v(e,["audioTimestamp"]);o!=null&&w(t,["audioTimestamp"],o);const i=v(e,["candidateCount"]);i!=null&&w(t,["candidateCount"],i);const a=v(e,["enableAffectiveDialog"]);a!=null&&w(t,["enableAffectiveDialog"],a);const l=v(e,["frequencyPenalty"]);l!=null&&w(t,["frequencyPenalty"],l);const u=v(e,["logprobs"]);u!=null&&w(t,["logprobs"],u);const f=v(e,["maxOutputTokens"]);f!=null&&w(t,["maxOutputTokens"],f);const h=v(e,["mediaResolution"]);h!=null&&w(t,["mediaResolution"],h);const p=v(e,["presencePenalty"]);p!=null&&w(t,["presencePenalty"],p);const g=v(e,["responseLogprobs"]);g!=null&&w(t,["responseLogprobs"],g);const x=v(e,["responseMimeType"]);x!=null&&w(t,["responseMimeType"],x);const y=v(e,["responseModalities"]);y!=null&&w(t,["responseModalities"],y);const N=v(e,["responseSchema"]);N!=null&&w(t,["responseSchema"],N);const C=v(e,["routingConfig"]);C!=null&&w(t,["routingConfig"],C);const A=v(e,["seed"]);A!=null&&w(t,["seed"],A);const T=v(e,["speechConfig"]);T!=null&&w(t,["speechConfig"],YO(T));const k=v(e,["stopSequences"]);k!=null&&w(t,["stopSequences"],k);const D=v(e,["temperature"]);D!=null&&w(t,["temperature"],D);const R=v(e,["thinkingConfig"]);R!=null&&w(t,["thinkingConfig"],R);const I=v(e,["topK"]);I!=null&&w(t,["topK"],I);const P=v(e,["topP"]);if(P!=null&&w(t,["topP"],P),v(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function XQ(e,t){const n={},r=v(t,["model"]);return r!=null&&w(n,["_url","name"],rt(e,r)),n}function QQ(e,t){const n={},r=v(t,["model"]);return r!=null&&w(n,["_url","name"],rt(e,r)),n}function ZQ(e){const t={};if(v(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=v(e,["enableWidget"]);return n!=null&&w(t,["enableWidget"],n),t}function eZ(e){const t={};if(v(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(v(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=v(e,["timeRangeFilter"]);return n!=null&&w(t,["timeRangeFilter"],n),t}function tZ(e){const t={},n=v(e,["bytesBase64Encoded"]);n!=null&&w(t,["imageBytes"],js(n));const r=v(e,["mimeType"]);return r!=null&&w(t,["mimeType"],r),t}function KO(e){const t={},n=v(e,["gcsUri"]);n!=null&&w(t,["gcsUri"],n);const r=v(e,["bytesBase64Encoded"]);r!=null&&w(t,["imageBytes"],js(r));const o=v(e,["mimeType"]);return o!=null&&w(t,["mimeType"],o),t}function qx(e){const t={};if(v(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=v(e,["imageBytes"]);n!=null&&w(t,["bytesBase64Encoded"],js(n));const r=v(e,["mimeType"]);return r!=null&&w(t,["mimeType"],r),t}function Fo(e){const t={},n=v(e,["gcsUri"]);n!=null&&w(t,["gcsUri"],n);const r=v(e,["imageBytes"]);r!=null&&w(t,["bytesBase64Encoded"],js(r));const o=v(e,["mimeType"]);return o!=null&&w(t,["mimeType"],o),t}function nZ(e,t,n){const r={},o=v(t,["pageSize"]);n!==void 0&&o!=null&&w(n,["_query","pageSize"],o);const i=v(t,["pageToken"]);n!==void 0&&i!=null&&w(n,["_query","pageToken"],i);const a=v(t,["filter"]);n!==void 0&&a!=null&&w(n,["_query","filter"],a);const l=v(t,["queryBase"]);return n!==void 0&&l!=null&&w(n,["_url","models_url"],UO(e,l)),r}function rZ(e,t,n){const r={},o=v(t,["pageSize"]);n!==void 0&&o!=null&&w(n,["_query","pageSize"],o);const i=v(t,["pageToken"]);n!==void 0&&i!=null&&w(n,["_query","pageToken"],i);const a=v(t,["filter"]);n!==void 0&&a!=null&&w(n,["_query","filter"],a);const l=v(t,["queryBase"]);return n!==void 0&&l!=null&&w(n,["_url","models_url"],UO(e,l)),r}function oZ(e,t){const n={},r=v(t,["config"]);return r!=null&&nZ(e,r,n),n}function iZ(e,t){const n={},r=v(t,["config"]);return r!=null&&rZ(e,r,n),n}function aZ(e){const t={},n=v(e,["sdkHttpResponse"]);n!=null&&w(t,["sdkHttpResponse"],n);const r=v(e,["nextPageToken"]);r!=null&&w(t,["nextPageToken"],r);const o=v(e,["_self"]);if(o!=null){let i=zO(o);Array.isArray(i)&&(i=i.map(a=>Zw(a))),w(t,["models"],i)}return t}function sZ(e){const t={},n=v(e,["sdkHttpResponse"]);n!=null&&w(t,["sdkHttpResponse"],n);const r=v(e,["nextPageToken"]);r!=null&&w(t,["nextPageToken"],r);const o=v(e,["_self"]);if(o!=null){let i=zO(o);Array.isArray(i)&&(i=i.map(a=>e2(a))),w(t,["models"],i)}return t}function lZ(e){const t={},n=v(e,["maskMode"]);n!=null&&w(t,["maskMode"],n);const r=v(e,["segmentationClasses"]);r!=null&&w(t,["maskClasses"],r);const o=v(e,["maskDilation"]);return o!=null&&w(t,["dilation"],o),t}function Zw(e){const t={},n=v(e,["name"]);n!=null&&w(t,["name"],n);const r=v(e,["displayName"]);r!=null&&w(t,["displayName"],r);const o=v(e,["description"]);o!=null&&w(t,["description"],o);const i=v(e,["version"]);i!=null&&w(t,["version"],i);const a=v(e,["_self"]);a!=null&&w(t,["tunedModelInfo"],NZ(a));const l=v(e,["inputTokenLimit"]);l!=null&&w(t,["inputTokenLimit"],l);const u=v(e,["outputTokenLimit"]);u!=null&&w(t,["outputTokenLimit"],u);const f=v(e,["supportedGenerationMethods"]);return f!=null&&w(t,["supportedActions"],f),t}function e2(e){const t={},n=v(e,["name"]);n!=null&&w(t,["name"],n);const r=v(e,["displayName"]);r!=null&&w(t,["displayName"],r);const o=v(e,["description"]);o!=null&&w(t,["description"],o);const i=v(e,["versionId"]);i!=null&&w(t,["version"],i);const a=v(e,["deployedModels"]);if(a!=null){let p=a;Array.isArray(p)&&(p=p.map(g=>EQ(g))),w(t,["endpoints"],p)}const l=v(e,["labels"]);l!=null&&w(t,["labels"],l);const u=v(e,["_self"]);u!=null&&w(t,["tunedModelInfo"],SZ(u));const f=v(e,["defaultCheckpointId"]);f!=null&&w(t,["defaultCheckpointId"],f);const h=v(e,["checkpoints"]);if(h!=null){let p=h;Array.isArray(p)&&(p=p.map(g=>g)),w(t,["checkpoints"],p)}return t}function cZ(e){const t={},n=v(e,["functionCall"]);n!=null&&w(t,["functionCall"],n);const r=v(e,["codeExecutionResult"]);r!=null&&w(t,["codeExecutionResult"],r);const o=v(e,["executableCode"]);o!=null&&w(t,["executableCode"],o);const i=v(e,["fileData"]);i!=null&&w(t,["fileData"],jQ(i));const a=v(e,["functionResponse"]);a!=null&&w(t,["functionResponse"],a);const l=v(e,["inlineData"]);l!=null&&w(t,["inlineData"],QX(l));const u=v(e,["text"]);u!=null&&w(t,["text"],u);const f=v(e,["thought"]);f!=null&&w(t,["thought"],f);const h=v(e,["thoughtSignature"]);h!=null&&w(t,["thoughtSignature"],h);const p=v(e,["videoMetadata"]);return p!=null&&w(t,["videoMetadata"],p),t}function uZ(e){const t={},n=v(e,["productImage"]);return n!=null&&w(t,["image"],Fo(n)),t}function dZ(e,t){const n={},r=v(e,["numberOfImages"]);t!==void 0&&r!=null&&w(t,["parameters","sampleCount"],r);const o=v(e,["baseSteps"]);t!==void 0&&o!=null&&w(t,["parameters","editConfig","baseSteps"],o);const i=v(e,["outputGcsUri"]);t!==void 0&&i!=null&&w(t,["parameters","storageUri"],i);const a=v(e,["seed"]);t!==void 0&&a!=null&&w(t,["parameters","seed"],a);const l=v(e,["safetyFilterLevel"]);t!==void 0&&l!=null&&w(t,["parameters","safetySetting"],l);const u=v(e,["personGeneration"]);t!==void 0&&u!=null&&w(t,["parameters","personGeneration"],u);const f=v(e,["addWatermark"]);t!==void 0&&f!=null&&w(t,["parameters","addWatermark"],f);const h=v(e,["outputMimeType"]);t!==void 0&&h!=null&&w(t,["parameters","outputOptions","mimeType"],h);const p=v(e,["outputCompressionQuality"]);t!==void 0&&p!=null&&w(t,["parameters","outputOptions","compressionQuality"],p);const g=v(e,["enhancePrompt"]);t!==void 0&&g!=null&&w(t,["parameters","enhancePrompt"],g);const x=v(e,["labels"]);return t!==void 0&&x!=null&&w(t,["labels"],x),n}function fZ(e,t){const n={},r=v(t,["model"]);r!=null&&w(n,["_url","model"],rt(e,r));const o=v(t,["source"]);o!=null&&pZ(o,n);const i=v(t,["config"]);return i!=null&&dZ(i,n),n}function hZ(e){const t={},n=v(e,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(o=>Fx(o))),w(t,["generatedImages"],r)}return t}function pZ(e,t){const n={},r=v(e,["prompt"]);t!==void 0&&r!=null&&w(t,["instances[0]","prompt"],r);const o=v(e,["personImage"]);t!==void 0&&o!=null&&w(t,["instances[0]","personImage","image"],Fo(o));const i=v(e,["productImages"]);if(t!==void 0&&i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>uZ(l))),w(t,["instances[0]","productImages"],a)}return n}function mZ(e){const t={},n=v(e,["referenceImage"]);n!=null&&w(t,["referenceImage"],Fo(n));const r=v(e,["referenceId"]);r!=null&&w(t,["referenceId"],r);const o=v(e,["referenceType"]);o!=null&&w(t,["referenceType"],o);const i=v(e,["maskImageConfig"]);i!=null&&w(t,["maskImageConfig"],lZ(i));const a=v(e,["controlImageConfig"]);a!=null&&w(t,["controlImageConfig"],iQ(a));const l=v(e,["styleImageConfig"]);l!=null&&w(t,["styleImageConfig"],l);const u=v(e,["subjectImageConfig"]);return u!=null&&w(t,["subjectImageConfig"],u),t}function WO(e){const t={},n=v(e,["safetyAttributes","categories"]);n!=null&&w(t,["categories"],n);const r=v(e,["safetyAttributes","scores"]);r!=null&&w(t,["scores"],r);const o=v(e,["contentType"]);return o!=null&&w(t,["contentType"],o),t}function JO(e){const t={},n=v(e,["safetyAttributes","categories"]);n!=null&&w(t,["categories"],n);const r=v(e,["safetyAttributes","scores"]);r!=null&&w(t,["scores"],r);const o=v(e,["contentType"]);return o!=null&&w(t,["contentType"],o),t}function gZ(e){const t={},n=v(e,["category"]);if(n!=null&&w(t,["category"],n),v(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=v(e,["threshold"]);return r!=null&&w(t,["threshold"],r),t}function xZ(e){const t={},n=v(e,["image"]);return n!=null&&w(t,["image"],Fo(n)),t}function bZ(e,t){const n={},r=v(e,["mode"]);t!==void 0&&r!=null&&w(t,["parameters","mode"],r);const o=v(e,["maxPredictions"]);t!==void 0&&o!=null&&w(t,["parameters","maxPredictions"],o);const i=v(e,["confidenceThreshold"]);t!==void 0&&i!=null&&w(t,["parameters","confidenceThreshold"],i);const a=v(e,["maskDilation"]);t!==void 0&&a!=null&&w(t,["parameters","maskDilation"],a);const l=v(e,["binaryColorThreshold"]);t!==void 0&&l!=null&&w(t,["parameters","binaryColorThreshold"],l);const u=v(e,["labels"]);return t!==void 0&&u!=null&&w(t,["labels"],u),n}function vZ(e,t){const n={},r=v(t,["model"]);r!=null&&w(n,["_url","model"],rt(e,r));const o=v(t,["source"]);o!=null&&wZ(o,n);const i=v(t,["config"]);return i!=null&&bZ(i,n),n}function yZ(e){const t={},n=v(e,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(o=>KQ(o))),w(t,["generatedMasks"],r)}return t}function wZ(e,t){const n={},r=v(e,["prompt"]);t!==void 0&&r!=null&&w(t,["instances[0]","prompt"],r);const o=v(e,["image"]);t!==void 0&&o!=null&&w(t,["instances[0]","image"],Fo(o));const i=v(e,["scribbleImage"]);return t!==void 0&&i!=null&&w(t,["instances[0]","scribble"],xZ(i)),n}function YO(e){const t={},n=v(e,["languageCode"]);n!=null&&w(t,["languageCode"],n);const r=v(e,["voiceConfig"]);if(r!=null&&w(t,["voiceConfig"],r),v(e,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return t}function CZ(e){const t={},n=v(e,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(p=>p)),w(t,["functionDeclarations"],h)}if(v(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=v(e,["googleSearchRetrieval"]);r!=null&&w(t,["googleSearchRetrieval"],r);const o=v(e,["computerUse"]);o!=null&&w(t,["computerUse"],o);const i=v(e,["fileSearch"]);i!=null&&w(t,["fileSearch"],i);const a=v(e,["codeExecution"]);if(a!=null&&w(t,["codeExecution"],a),v(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const l=v(e,["googleMaps"]);l!=null&&w(t,["googleMaps"],ZQ(l));const u=v(e,["googleSearch"]);u!=null&&w(t,["googleSearch"],eZ(u));const f=v(e,["urlContext"]);return f!=null&&w(t,["urlContext"],f),t}function XO(e){const t={},n=v(e,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(g=>AQ(g))),w(t,["functionDeclarations"],p)}const r=v(e,["retrieval"]);r!=null&&w(t,["retrieval"],r);const o=v(e,["googleSearchRetrieval"]);o!=null&&w(t,["googleSearchRetrieval"],o);const i=v(e,["computerUse"]);if(i!=null&&w(t,["computerUse"],i),v(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=v(e,["codeExecution"]);a!=null&&w(t,["codeExecution"],a);const l=v(e,["enterpriseWebSearch"]);l!=null&&w(t,["enterpriseWebSearch"],l);const u=v(e,["googleMaps"]);u!=null&&w(t,["googleMaps"],u);const f=v(e,["googleSearch"]);f!=null&&w(t,["googleSearch"],f);const h=v(e,["urlContext"]);return h!=null&&w(t,["urlContext"],h),t}function NZ(e){const t={},n=v(e,["baseModel"]);n!=null&&w(t,["baseModel"],n);const r=v(e,["createTime"]);r!=null&&w(t,["createTime"],r);const o=v(e,["updateTime"]);return o!=null&&w(t,["updateTime"],o),t}function SZ(e){const t={},n=v(e,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&w(t,["baseModel"],n);const r=v(e,["createTime"]);r!=null&&w(t,["createTime"],r);const o=v(e,["updateTime"]);return o!=null&&w(t,["updateTime"],o),t}function EZ(e,t){const n={},r=v(e,["displayName"]);t!==void 0&&r!=null&&w(t,["displayName"],r);const o=v(e,["description"]);t!==void 0&&o!=null&&w(t,["description"],o);const i=v(e,["defaultCheckpointId"]);return t!==void 0&&i!=null&&w(t,["defaultCheckpointId"],i),n}function jZ(e,t){const n={},r=v(e,["displayName"]);t!==void 0&&r!=null&&w(t,["displayName"],r);const o=v(e,["description"]);t!==void 0&&o!=null&&w(t,["description"],o);const i=v(e,["defaultCheckpointId"]);return t!==void 0&&i!=null&&w(t,["defaultCheckpointId"],i),n}function AZ(e,t){const n={},r=v(t,["model"]);r!=null&&w(n,["_url","name"],rt(e,r));const o=v(t,["config"]);return o!=null&&EZ(o,n),n}function TZ(e,t){const n={},r=v(t,["model"]);r!=null&&w(n,["_url","model"],rt(e,r));const o=v(t,["config"]);return o!=null&&jZ(o,n),n}function kZ(e,t){const n={},r=v(e,["outputGcsUri"]);t!==void 0&&r!=null&&w(t,["parameters","storageUri"],r);const o=v(e,["safetyFilterLevel"]);t!==void 0&&o!=null&&w(t,["parameters","safetySetting"],o);const i=v(e,["personGeneration"]);t!==void 0&&i!=null&&w(t,["parameters","personGeneration"],i);const a=v(e,["includeRaiReason"]);t!==void 0&&a!=null&&w(t,["parameters","includeRaiReason"],a);const l=v(e,["outputMimeType"]);t!==void 0&&l!=null&&w(t,["parameters","outputOptions","mimeType"],l);const u=v(e,["outputCompressionQuality"]);t!==void 0&&u!=null&&w(t,["parameters","outputOptions","compressionQuality"],u);const f=v(e,["enhanceInputImage"]);t!==void 0&&f!=null&&w(t,["parameters","upscaleConfig","enhanceInputImage"],f);const h=v(e,["imagePreservationFactor"]);t!==void 0&&h!=null&&w(t,["parameters","upscaleConfig","imagePreservationFactor"],h);const p=v(e,["labels"]);t!==void 0&&p!=null&&w(t,["labels"],p);const g=v(e,["numberOfImages"]);t!==void 0&&g!=null&&w(t,["parameters","sampleCount"],g);const x=v(e,["mode"]);return t!==void 0&&x!=null&&w(t,["parameters","mode"],x),n}function MZ(e,t){const n={},r=v(t,["model"]);r!=null&&w(n,["_url","model"],rt(e,r));const o=v(t,["image"]);o!=null&&w(n,["instances[0]","image"],Fo(o));const i=v(t,["upscaleFactor"]);i!=null&&w(n,["parameters","upscaleConfig","upscaleFactor"],i);const a=v(t,["config"]);return a!=null&&kZ(a,n),n}function PZ(e){const t={},n=v(e,["sdkHttpResponse"]);n!=null&&w(t,["sdkHttpResponse"],n);const r=v(e,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(i=>Fx(i))),w(t,["generatedImages"],o)}return t}function RZ(e){const t={},n=v(e,["uri"]);n!=null&&w(t,["uri"],n);const r=v(e,["encodedVideo"]);r!=null&&w(t,["videoBytes"],js(r));const o=v(e,["encoding"]);return o!=null&&w(t,["mimeType"],o),t}function IZ(e){const t={},n=v(e,["gcsUri"]);n!=null&&w(t,["uri"],n);const r=v(e,["bytesBase64Encoded"]);r!=null&&w(t,["videoBytes"],js(r));const o=v(e,["mimeType"]);return o!=null&&w(t,["mimeType"],o),t}function DZ(e){const t={},n=v(e,["image"]);n!=null&&w(t,["_self"],Fo(n));const r=v(e,["maskMode"]);return r!=null&&w(t,["maskMode"],r),t}function _Z(e){const t={},n=v(e,["image"]);n!=null&&w(t,["image"],qx(n));const r=v(e,["referenceType"]);return r!=null&&w(t,["referenceType"],r),t}function OZ(e){const t={},n=v(e,["image"]);n!=null&&w(t,["image"],Fo(n));const r=v(e,["referenceType"]);return r!=null&&w(t,["referenceType"],r),t}function QO(e){const t={},n=v(e,["uri"]);n!=null&&w(t,["uri"],n);const r=v(e,["videoBytes"]);r!=null&&w(t,["encodedVideo"],js(r));const o=v(e,["mimeType"]);return o!=null&&w(t,["encoding"],o),t}function ZO(e){const t={},n=v(e,["uri"]);n!=null&&w(t,["gcsUri"],n);const r=v(e,["videoBytes"]);r!=null&&w(t,["bytesBase64Encoded"],js(r));const o=v(e,["mimeType"]);return o!=null&&w(t,["mimeType"],o),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const LZ="Content-Type",BZ="X-Server-Timeout",UZ="User-Agent",t2="x-goog-api-client",zZ="1.29.0",FZ=`google-genai-sdk/${zZ}`,qZ="v1beta1",HZ="v1beta",QM=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class VZ{constructor(t){var n,r;this.clientOptions=Object.assign(Object.assign({},t),{project:t.project,location:t.location,apiKey:t.apiKey,vertexai:t.vertexai});const o={};this.clientOptions.vertexai?(o.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:qZ,o.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(o.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:HZ,o.baseUrl="https://generativelanguage.googleapis.com/"),o.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=o,t.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(o,t.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var t;return(t=this.clientOptions.vertexai)!==null&&t!==void 0?t:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(t){if(!t||t.baseUrl===void 0||t.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[t.baseUrl.endsWith("/")?t.baseUrl.slice(0,-1):t.baseUrl];return t.apiVersion&&t.apiVersion!==""&&r.push(t.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const t=this.getBaseUrl(),n=new URL(t);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(t){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=t;else throw new Error("HTTP options are not correctly set.")}constructUrl(t,n,r){const o=[this.getRequestUrlInternal(n)];return r&&o.push(this.getBaseResourcePath()),t!==""&&o.push(t),new URL(`${o.join("/")}`)}shouldPrependVertexProjectPath(t){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||t.path.startsWith("projects/")||t.httpMethod==="GET"&&t.path.startsWith("publishers/google/models"))}async request(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const r=this.shouldPrependVertexProjectPath(t),o=this.constructUrl(t.path,n,r);if(t.queryParams)for(const[a,l]of Object.entries(t.queryParams))o.searchParams.append(a,String(l));let i={};if(t.httpMethod==="GET"){if(t.body&&t.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else i.body=t.body;return i=await this.includeExtraHttpOptionsToRequestInit(i,n,o.toString(),t.abortSignal),this.unaryApiCall(o,i,t.httpMethod)}patchHttpOptions(t,n){const r=JSON.parse(JSON.stringify(t));for(const[o,i]of Object.entries(n))typeof i=="object"?r[o]=Object.assign(Object.assign({},r[o]),i):i!==void 0&&(r[o]=i);return r}async requestStream(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const r=this.shouldPrependVertexProjectPath(t),o=this.constructUrl(t.path,n,r);(!o.searchParams.has("alt")||o.searchParams.get("alt")!=="sse")&&o.searchParams.set("alt","sse");let i={};return i.body=t.body,i=await this.includeExtraHttpOptionsToRequestInit(i,n,o.toString(),t.abortSignal),this.streamApiCall(o,i,t.httpMethod)}async includeExtraHttpOptionsToRequestInit(t,n,r,o){if(n&&n.timeout||o){const i=new AbortController,a=i.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const l=setTimeout(()=>i.abort(),n.timeout);l&&typeof l.unref=="function"&&l.unref()}o&&o.addEventListener("abort",()=>{i.abort()}),t.signal=a}return n&&n.extraBody!==null&&$Z(t,n.extraBody),t.headers=await this.getHeadersInternal(n,r),t}async unaryApiCall(t,n,r){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:r})).then(async o=>(await ZM(o),new Yw(o))).catch(o=>{throw o instanceof Error?o:new Error(JSON.stringify(o))})}async streamApiCall(t,n,r){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:r})).then(async o=>(await ZM(o),this.processStreamResponse(o))).catch(o=>{throw o instanceof Error?o:new Error(JSON.stringify(o))})}processStreamResponse(t){var n;return Kc(this,arguments,function*(){const o=(n=t==null?void 0:t.body)===null||n===void 0?void 0:n.getReader(),i=new TextDecoder("utf-8");if(!o)throw new Error("Response body is empty");try{let a="";for(;;){const{done:l,value:u}=yield kt(o.read());if(l){if(a.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const f=i.decode(u,{stream:!0});try{const p=JSON.parse(f);if("error"in p){const g=JSON.parse(JSON.stringify(p.error)),x=g.status,y=g.code,N=`got status: ${x}. ${JSON.stringify(p)}`;if(y>=400&&y<600)throw new Ux({message:N,status:y})}}catch(p){if(p.name==="ApiError")throw p}a+=f;let h=a.match(QM);for(;h;){const p=h[1];try{const g=new Response(p,{headers:t==null?void 0:t.headers,status:t==null?void 0:t.status,statusText:t==null?void 0:t.statusText});yield yield kt(new Yw(g)),a=a.slice(h[0].length),h=a.match(QM)}catch(g){throw new Error(`exception parsing stream chunk ${p}. ${g}`)}}}}finally{o.releaseLock()}})}async apiCall(t,n){return fetch(t,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const t={},n=FZ+" "+this.clientOptions.userAgentExtra;return t[UZ]=n,t[t2]=n,t[LZ]="application/json",t}async getHeadersInternal(t,n){const r=new Headers;if(t&&t.headers){for(const[o,i]of Object.entries(t.headers))r.append(o,i);t.timeout&&t.timeout>0&&r.append(BZ,String(Math.ceil(t.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,n),r}getFileName(t){var n;let r="";return typeof t=="string"&&(r=t.replace(/[/\\]+$/,""),r=(n=r.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),r}async uploadFile(t,n){var r;const o={};n!=null&&(o.mimeType=n.mimeType,o.name=n.name,o.displayName=n.displayName),o.name&&!o.name.startsWith("files/")&&(o.name=`files/${o.name}`);const i=this.clientOptions.uploader,a=await i.stat(t);o.sizeBytes=String(a.size);const l=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:a.type;if(l===void 0||l==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");o.mimeType=l;const u={file:o},f=this.getFileName(t),h=ye("upload/v1beta/files",u._url),p=await this.fetchUploadUrl(h,o.sizeBytes,o.mimeType,f,u,n==null?void 0:n.httpOptions);return i.upload(t,p,this)}async uploadFileToFileSearchStore(t,n,r){var o;const i=this.clientOptions.uploader,a=await i.stat(n),l=String(a.size),u=(o=r==null?void 0:r.mimeType)!==null&&o!==void 0?o:a.type;if(u===void 0||u==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const f=`upload/v1beta/${t}:uploadToFileSearchStore`,h=this.getFileName(n),p={};r!=null&&r.customMetadata&&(p.customMetadata=r.customMetadata),r!=null&&r.chunkingConfig&&(p.chunkingConfig=r.chunkingConfig);const g=await this.fetchUploadUrl(f,l,u,h,p,r==null?void 0:r.httpOptions);return i.uploadToFileSearchStore(n,g,this)}async downloadFile(t){await this.clientOptions.downloader.download(t,this)}async fetchUploadUrl(t,n,r,o,i,a){var l;let u={};a?u=a:u={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${r}`},o?{"X-Goog-Upload-File-Name":o}:{})};const f=await this.request({path:t,body:JSON.stringify(i),httpMethod:"POST",httpOptions:u});if(!f||!(f!=null&&f.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const h=(l=f==null?void 0:f.headers)===null||l===void 0?void 0:l["x-goog-upload-url"];if(h===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return h}}async function ZM(e){var t;if(e===void 0)throw new Error("response is undefined");if(!e.ok){const n=e.status;let r;!((t=e.headers.get("content-type"))===null||t===void 0)&&t.includes("application/json")?r=await e.json():r={error:{message:await e.text(),code:e.status,status:e.statusText}};const o=JSON.stringify(r);throw n>=400&&n<600?new Ux({message:o,status:n}):new Error(o)}}function $Z(e,t){if(!t||Object.keys(t).length===0)return;if(e.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof e.body=="string"&&e.body.length>0)try{const i=JSON.parse(e.body);if(typeof i=="object"&&i!==null&&!Array.isArray(i))n=i;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(i,a){const l=Object.assign({},i);for(const u in a)if(Object.prototype.hasOwnProperty.call(a,u)){const f=a[u],h=l[u];f&&typeof f=="object"&&!Array.isArray(f)&&h&&typeof h=="object"&&!Array.isArray(h)?l[u]=r(h,f):(h&&f&&typeof h!=typeof f&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${u}". Original type: ${typeof h}, New type: ${typeof f}. Overwriting.`),l[u]=f)}return l}const o=r(n,t);e.body=JSON.stringify(o)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const GZ="mcp_used/unknown";let KZ=!1;function eL(e){for(const t of e)if(WZ(t)||typeof t=="object"&&"inputSchema"in t)return!0;return KZ}function tL(e){var t;const n=(t=e[t2])!==null&&t!==void 0?t:"";e[t2]=(n+` ${GZ}`).trimStart()}function WZ(e){return e!==null&&typeof e=="object"&&e instanceof fN}function JZ(e,t=100){return Kc(this,arguments,function*(){let r,o=0;for(;o<t;){const i=yield kt(e.listTools({cursor:r}));for(const a of i.tools)yield yield kt(a),o++;if(!i.nextCursor)break;r=i.nextCursor}})}class fN{constructor(t=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=t,this.config=n}static create(t,n){return new fN(t,n)}async initialize(){var t,n,r,o;if(this.mcpTools.length>0)return;const i={},a=[];for(const h of this.mcpClients)try{for(var l=!0,u=(n=void 0,pf(JZ(h))),f;f=await u.next(),t=f.done,!t;l=!0){o=f.value,l=!1;const p=o;a.push(p);const g=p.name;if(i[g])throw new Error(`Duplicate function name ${g} found in MCP tools. Please ensure function names are unique.`);i[g]=h}}catch(p){n={error:p}}finally{try{!l&&!t&&(r=u.return)&&await r.call(u)}finally{if(n)throw n.error}}this.mcpTools=a,this.functionNameToMcpClient=i}async tool(){return await this.initialize(),eY(this.mcpTools,this.config)}async callTool(t){await this.initialize();const n=[];for(const r of t)if(r.name in this.functionNameToMcpClient){const o=this.functionNameToMcpClient[r.name];let i;this.config.timeout&&(i={timeout:this.config.timeout});const a=await o.callTool({name:r.name,arguments:r.args},void 0,i);n.push({functionResponse:{name:r.name,response:a.isError?{error:a}:a}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function YZ(e,t,n){const r=new GJ;let o;n.data instanceof Blob?o=JSON.parse(await n.data.text()):o=JSON.parse(n.data),Object.assign(r,o),t(r)}class XZ{constructor(t,n,r){this.apiClient=t,this.auth=n,this.webSocketFactory=r}async connect(t){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const o=this.apiClient.getWebsocketBaseUrl(),i=this.apiClient.getApiVersion(),a=eee(this.apiClient.getDefaultHeaders()),l=this.apiClient.getApiKey(),u=`${o}/ws/google.ai.generativelanguage.${i}.GenerativeService.BidiGenerateMusic?key=${l}`;let f=()=>{};const h=new Promise(k=>{f=k}),p=t.callbacks,g=function(){f({})},x=this.apiClient,y={onopen:g,onmessage:k=>{YZ(x,p.onmessage,k)},onerror:(n=p==null?void 0:p.onerror)!==null&&n!==void 0?n:function(k){},onclose:(r=p==null?void 0:p.onclose)!==null&&r!==void 0?r:function(k){}},N=this.webSocketFactory.create(u,ZZ(a),y);N.connect(),await h;const T={setup:{model:rt(this.apiClient,t.model)}};return N.send(JSON.stringify(T)),new QZ(N,this.apiClient)}}class QZ{constructor(t,n){this.conn=t,this.apiClient=n}async setWeightedPrompts(t){if(!t.weightedPrompts||Object.keys(t.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=HX(t);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(t){t.musicGenerationConfig||(t.musicGenerationConfig={});const n=qX(t);this.conn.send(JSON.stringify(n))}sendPlaybackControl(t){const n={playbackControl:t};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(Fc.PLAY)}pause(){this.sendPlaybackControl(Fc.PAUSE)}stop(){this.sendPlaybackControl(Fc.STOP)}resetContext(){this.sendPlaybackControl(Fc.RESET_CONTEXT)}close(){this.conn.close()}}function ZZ(e){const t={};return e.forEach((n,r)=>{t[r]=n}),t}function eee(e){const t=new Headers;for(const[n,r]of Object.entries(e))t.append(n,r);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const tee="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function nee(e,t,n){const r=new $J;let o;n.data instanceof Blob?o=await n.data.text():n.data instanceof ArrayBuffer?o=new TextDecoder().decode(n.data):o=n.data;const i=JSON.parse(o);if(e.isVertexAI()){const a=GX(i);Object.assign(r,a)}else Object.assign(r,i);t(r)}class ree{constructor(t,n,r){this.apiClient=t,this.auth=n,this.webSocketFactory=r,this.music=new XZ(this.apiClient,this.auth,this.webSocketFactory)}async connect(t){var n,r,o,i,a,l;if(t.config&&t.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const u=this.apiClient.getWebsocketBaseUrl(),f=this.apiClient.getApiVersion();let h;const p=this.apiClient.getHeaders();t.config&&t.config.tools&&eL(t.config.tools)&&tL(p);const g=see(p);if(this.apiClient.isVertexAI())h=`${u}/ws/google.cloud.aiplatform.${f}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(g,h);else{const L=this.apiClient.getApiKey();let $="BidiGenerateContent",X="key";L!=null&&L.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),f!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),$="BidiGenerateContentConstrained",X="access_token"),h=`${u}/ws/google.ai.generativelanguage.${f}.GenerativeService.${$}?${X}=${L}`}let x=()=>{};const y=new Promise(L=>{x=L}),N=t.callbacks,C=function(){var L;(L=N==null?void 0:N.onopen)===null||L===void 0||L.call(N),x({})},A=this.apiClient,T={onopen:C,onmessage:L=>{nee(A,N.onmessage,L)},onerror:(n=N==null?void 0:N.onerror)!==null&&n!==void 0?n:function(L){},onclose:(r=N==null?void 0:N.onclose)!==null&&r!==void 0?r:function(L){}},k=this.webSocketFactory.create(h,aee(g),T);k.connect(),await y;let D=rt(this.apiClient,t.model);if(this.apiClient.isVertexAI()&&D.startsWith("publishers/")){const L=this.apiClient.getProject(),$=this.apiClient.getLocation();D=`projects/${L}/locations/${$}/`+D}let R={};this.apiClient.isVertexAI()&&((o=t.config)===null||o===void 0?void 0:o.responseModalities)===void 0&&(t.config===void 0?t.config={responseModalities:[jg.AUDIO]}:t.config.responseModalities=[jg.AUDIO]),!((i=t.config)===null||i===void 0)&&i.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const I=(l=(a=t.config)===null||a===void 0?void 0:a.tools)!==null&&l!==void 0?l:[],P=[];for(const L of I)if(this.isCallableTool(L)){const $=L;P.push(await $.tool())}else P.push(L);P.length>0&&(t.config.tools=P);const B={model:D,config:t.config,callbacks:t.callbacks};return this.apiClient.isVertexAI()?R=FX(this.apiClient,B):R=zX(this.apiClient,B),delete R.config,k.send(JSON.stringify(R)),new iee(k,this.apiClient)}isCallableTool(t){return"callTool"in t&&typeof t.callTool=="function"}}const oee={turnComplete:!0};class iee{constructor(t,n){this.conn=t,this.apiClient=n}tLiveClientContent(t,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=xo(n.turns),t.isVertexAI()||(r=r.map(o=>zx(o)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(t,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const i of r){if(typeof i!="object"||i===null||!("name"in i)||!("response"in i))throw new Error(`Could not parse function response, type '${typeof i}'.`);if(!t.isVertexAI()&&!("id"in i))throw new Error(tee)}return{toolResponse:{functionResponses:r}}}sendClientContent(t){t=Object.assign(Object.assign({},oee),t);const n=this.tLiveClientContent(this.apiClient,t);this.conn.send(JSON.stringify(n))}sendRealtimeInput(t){let n={};this.apiClient.isVertexAI()?n={realtimeInput:$X(t)}:n={realtimeInput:VX(t)},this.conn.send(JSON.stringify(n))}sendToolResponse(t){if(t.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,t);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function aee(e){const t={};return e.forEach((n,r)=>{t[r]=n}),t}function see(e){const t=new Headers;for(const[n,r]of Object.entries(e))t.append(n,r);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const e3=10;function t3(e){var t,n,r;if(!((t=e==null?void 0:e.automaticFunctionCalling)===null||t===void 0)&&t.disable)return!0;let o=!1;for(const a of(n=e==null?void 0:e.tools)!==null&&n!==void 0?n:[])if(Wc(a)){o=!0;break}if(!o)return!0;const i=(r=e==null?void 0:e.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return i&&(i<0||!Number.isInteger(i))||i==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",i),!0):!1}function Wc(e){return"callTool"in e&&typeof e.callTool=="function"}function lee(e){var t,n,r;return(r=(n=(t=e.config)===null||t===void 0?void 0:t.tools)===null||n===void 0?void 0:n.some(o=>Wc(o)))!==null&&r!==void 0?r:!1}function n3(e){var t;const n=[];return!((t=e==null?void 0:e.config)===null||t===void 0)&&t.tools&&e.config.tools.forEach((r,o)=>{if(Wc(r))return;const i=r;i.functionDeclarations&&i.functionDeclarations.length>0&&n.push(o)}),n}function r3(e){var t;return!(!((t=e==null?void 0:e.automaticFunctionCalling)===null||t===void 0)&&t.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class cee extends ca{constructor(t){super(),this.apiClient=t,this.generateContent=async n=>{var r,o,i,a,l;const u=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!lee(n)||t3(n.config))return await this.generateContentInternal(u);const f=n3(n);if(f.length>0){const N=f.map(C=>`tools[${C}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${N}.`)}let h,p;const g=xo(u.contents),x=(i=(o=(r=u.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls)!==null&&i!==void 0?i:e3;let y=0;for(;y<x&&(h=await this.generateContentInternal(u),!(!h.functionCalls||h.functionCalls.length===0));){const N=h.candidates[0].content,C=[];for(const A of(l=(a=n.config)===null||a===void 0?void 0:a.tools)!==null&&l!==void 0?l:[])if(Wc(A)){const k=await A.callTool(h.functionCalls);C.push(...k)}y++,p={role:"user",parts:C},u.contents=xo(u.contents),u.contents.push(N),u.contents.push(p),r3(u.config)&&(g.push(N),g.push(p))}return r3(u.config)&&(h.automaticFunctionCallingHistory=g),h},this.generateContentStream=async n=>{if(this.maybeMoveToResponseJsonSchem(n),t3(n.config)){const o=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(o)}const r=n3(n);if(r.length>0){const o=r.map(i=>`tools[${i}]`).join(", ");throw new Error(`Incompatible tools found at ${o}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var o;let i;const a=[];if(r!=null&&r.generatedImages)for(const u of r.generatedImages)u&&(u!=null&&u.safetyAttributes)&&((o=u==null?void 0:u.safetyAttributes)===null||o===void 0?void 0:o.contentType)==="Positive Prompt"?i=u==null?void 0:u.safetyAttributes:a.push(u);let l;return i?l={generatedImages:a,positivePromptSafetyAttributes:i,sdkHttpResponse:r.sdkHttpResponse}:l={generatedImages:a,sdkHttpResponse:r.sdkHttpResponse},l}),this.list=async n=>{var r;const a={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!a.config.queryBase){if(!((r=a.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");a.config.filter="labels.tune-type:*"}return new zl(ea.PAGED_ITEM_MODELS,l=>this.listInternal(l),await this.listInternal(a),a)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(o=>o.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const o={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(o)},this.generateVideos=async n=>{var r,o,i,a,l,u;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=n.video)===null||r===void 0)&&r.uri&&(!((o=n.video)===null||o===void 0)&&o.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((a=(i=n.source)===null||i===void 0?void 0:i.video)===null||a===void 0)&&a.uri&&(!((u=(l=n.source)===null||l===void 0?void 0:l.video)===null||u===void 0)&&u.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(t){t.config&&t.config.responseSchema&&(t.config.responseJsonSchema||Object.keys(t.config.responseSchema).includes("$schema")&&(t.config.responseJsonSchema=t.config.responseSchema,delete t.config.responseSchema))}async processParamsMaybeAddMcpUsage(t){var n,r,o;const i=(n=t.config)===null||n===void 0?void 0:n.tools;if(!i)return t;const a=await Promise.all(i.map(async u=>Wc(u)?await u.tool():u)),l={model:t.model,contents:t.contents,config:Object.assign(Object.assign({},t.config),{tools:a})};if(l.config.tools=a,t.config&&t.config.tools&&eL(t.config.tools)){const u=(o=(r=t.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&o!==void 0?o:{};let f=Object.assign({},u);Object.keys(f).length===0&&(f=this.apiClient.getDefaultHeaders()),tL(f),l.config.httpOptions=Object.assign(Object.assign({},t.config.httpOptions),{headers:f})}return l}async initAfcToolsMap(t){var n,r,o;const i=new Map;for(const a of(r=(n=t.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(Wc(a)){const l=a,u=await l.tool();for(const f of(o=u.functionDeclarations)!==null&&o!==void 0?o:[]){if(!f.name)throw new Error("Function declaration name is required.");if(i.has(f.name))throw new Error(`Duplicate tool declaration name: ${f.name}`);i.set(f.name,l)}}return i}async processAfcStream(t){var n,r,o;const i=(o=(r=(n=t.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&o!==void 0?o:e3;let a=!1,l=0;const u=await this.initAfcToolsMap(t);return(function(f,h,p){var g,x;return Kc(this,arguments,function*(){for(var y,N,C,A;l<i;){a&&(l++,a=!1);const R=yield kt(f.processParamsMaybeAddMcpUsage(p)),I=yield kt(f.generateContentStreamInternal(R)),P=[],B=[];try{for(var T=!0,k=(N=void 0,pf(I)),D;D=yield kt(k.next()),y=D.done,!y;T=!0){A=D.value,T=!1;const L=A;if(yield yield kt(L),L.candidates&&(!((g=L.candidates[0])===null||g===void 0)&&g.content)){B.push(L.candidates[0].content);for(const $ of(x=L.candidates[0].content.parts)!==null&&x!==void 0?x:[])if(l<i&&$.functionCall){if(!$.functionCall.name)throw new Error("Function call name was not returned by the model.");if(h.has($.functionCall.name)){const X=yield kt(h.get($.functionCall.name).callTool([$.functionCall]));P.push(...X)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${h.keys()}, mising tool: ${$.functionCall.name}`)}}}}catch(L){N={error:L}}finally{try{!T&&!y&&(C=k.return)&&(yield kt(C.call(k)))}finally{if(N)throw N.error}}if(P.length>0){a=!0;const L=new Od;L.candidates=[{content:{role:"user",parts:P}}],yield yield kt(L);const $=[];$.push(...B),$.push({role:"user",parts:P});const X=xo(p.contents).concat($);p.contents=X}else break}})})(this,u,t)}async generateContentInternal(t){var n,r,o,i;let a,l="",u={};if(this.apiClient.isVertexAI()){const f=JM(this.apiClient,t);return l=ye("{model}:generateContent",f._url),u=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),a.then(h=>{const p=XM(h),g=new Od;return Object.assign(g,p),g})}else{const f=WM(this.apiClient,t);return l=ye("{model}:generateContent",f._url),u=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),a.then(h=>{const p=YM(h),g=new Od;return Object.assign(g,p),g})}}async generateContentStreamInternal(t){var n,r,o,i;let a,l="",u={};if(this.apiClient.isVertexAI()){const f=JM(this.apiClient,t);return l=ye("{model}:streamGenerateContent?alt=sse",f._url),u=f._query,delete f._url,delete f._query,a=this.apiClient.requestStream({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}),a.then(function(p){return Kc(this,arguments,function*(){var g,x,y,N;try{for(var C=!0,A=pf(p),T;T=yield kt(A.next()),g=T.done,!g;C=!0){N=T.value,C=!1;const k=N,D=XM(yield kt(k.json()));D.sdkHttpResponse={headers:k.headers};const R=new Od;Object.assign(R,D),yield yield kt(R)}}catch(k){x={error:k}}finally{try{!C&&!g&&(y=A.return)&&(yield kt(y.call(A)))}finally{if(x)throw x.error}}})})}else{const f=WM(this.apiClient,t);return l=ye("{model}:streamGenerateContent?alt=sse",f._url),u=f._query,delete f._url,delete f._query,a=this.apiClient.requestStream({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}),a.then(function(p){return Kc(this,arguments,function*(){var g,x,y,N;try{for(var C=!0,A=pf(p),T;T=yield kt(A.next()),g=T.done,!g;C=!0){N=T.value,C=!1;const k=N,D=YM(yield kt(k.json()));D.sdkHttpResponse={headers:k.headers};const R=new Od;Object.assign(R,D),yield yield kt(R)}}catch(k){x={error:k}}finally{try{!C&&!g&&(y=A.return)&&(yield kt(y.call(A)))}finally{if(x)throw x.error}}})})}}async embedContent(t){var n,r,o,i;let a,l="",u={};if(this.apiClient.isVertexAI()){const f=CQ(this.apiClient,t);return l=ye("{model}:predict",f._url),u=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),a.then(h=>{const p=SQ(h),g=new RM;return Object.assign(g,p),g})}else{const f=wQ(this.apiClient,t);return l=ye("{model}:batchEmbedContents",f._url),u=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),a.then(h=>{const p=NQ(h),g=new RM;return Object.assign(g,p),g})}}async generateImagesInternal(t){var n,r,o,i;let a,l="",u={};if(this.apiClient.isVertexAI()){const f=IQ(this.apiClient,t);return l=ye("{model}:predict",f._url),u=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),a.then(h=>{const p=_Q(h),g=new IM;return Object.assign(g,p),g})}else{const f=RQ(this.apiClient,t);return l=ye("{model}:predict",f._url),u=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),a.then(h=>{const p=DQ(h),g=new IM;return Object.assign(g,p),g})}}async editImageInternal(t){var n,r;let o,i="",a={};if(this.apiClient.isVertexAI()){const l=xQ(this.apiClient,t);return i=ye("{model}:predict",l._url),a=l._query,delete l._url,delete l._query,o=this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:u.headers},h})),o.then(u=>{const f=bQ(u),h=new DJ;return Object.assign(h,f),h})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(t){var n,r;let o,i="",a={};if(this.apiClient.isVertexAI()){const l=MZ(this.apiClient,t);return i=ye("{model}:predict",l._url),a=l._query,delete l._url,delete l._query,o=this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:u.headers},h})),o.then(u=>{const f=PZ(u),h=new _J;return Object.assign(h,f),h})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(t){var n,r;let o,i="",a={};if(this.apiClient.isVertexAI()){const l=fZ(this.apiClient,t);return i=ye("{model}:predict",l._url),a=l._query,delete l._url,delete l._query,o=this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),o.then(u=>{const f=hZ(u),h=new OJ;return Object.assign(h,f),h})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(t){var n,r;let o,i="",a={};if(this.apiClient.isVertexAI()){const l=vZ(this.apiClient,t);return i=ye("{model}:predict",l._url),a=l._query,delete l._url,delete l._query,o=this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),o.then(u=>{const f=yZ(u),h=new LJ;return Object.assign(h,f),h})}else throw new Error("This method is only supported by the Vertex AI.")}async get(t){var n,r,o,i;let a,l="",u={};if(this.apiClient.isVertexAI()){const f=QQ(this.apiClient,t);return l=ye("{name}",f._url),u=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),a.then(h=>e2(h))}else{const f=XQ(this.apiClient,t);return l=ye("{name}",f._url),u=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),a.then(h=>Zw(h))}}async listInternal(t){var n,r,o,i;let a,l="",u={};if(this.apiClient.isVertexAI()){const f=iZ(this.apiClient,t);return l=ye("{models_url}",f._url),u=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),a.then(h=>{const p=sZ(h),g=new DM;return Object.assign(g,p),g})}else{const f=oZ(this.apiClient,t);return l=ye("{models_url}",f._url),u=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),a.then(h=>{const p=aZ(h),g=new DM;return Object.assign(g,p),g})}}async update(t){var n,r,o,i;let a,l="",u={};if(this.apiClient.isVertexAI()){const f=TZ(this.apiClient,t);return l=ye("{model}",f._url),u=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),a.then(h=>e2(h))}else{const f=AZ(this.apiClient,t);return l=ye("{name}",f._url),u=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),a.then(h=>Zw(h))}}async delete(t){var n,r,o,i;let a,l="",u={};if(this.apiClient.isVertexAI()){const f=hQ(this.apiClient,t);return l=ye("{name}",f._url),u=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),a.then(h=>{const p=mQ(h),g=new _M;return Object.assign(g,p),g})}else{const f=fQ(this.apiClient,t);return l=ye("{name}",f._url),u=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),a.then(h=>{const p=pQ(h),g=new _M;return Object.assign(g,p),g})}}async countTokens(t){var n,r,o,i;let a,l="",u={};if(this.apiClient.isVertexAI()){const f=cQ(this.apiClient,t);return l=ye("{model}:countTokens",f._url),u=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),a.then(h=>{const p=dQ(h),g=new OM;return Object.assign(g,p),g})}else{const f=lQ(this.apiClient,t);return l=ye("{model}:countTokens",f._url),u=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),a.then(h=>{const p=uQ(h),g=new OM;return Object.assign(g,p),g})}}async computeTokens(t){var n,r;let o,i="",a={};if(this.apiClient.isVertexAI()){const l=tQ(this.apiClient,t);return i=ye("{model}:computeTokens",l._url),a=l._query,delete l._url,delete l._query,o=this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:u.headers},h})),o.then(u=>{const f=nQ(u),h=new BJ;return Object.assign(h,f),h})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(t){var n,r,o,i;let a,l="",u={};if(this.apiClient.isVertexAI()){const f=FQ(this.apiClient,t);return l=ye("{model}:predictLongRunning",f._url),u=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),a.then(h=>{const p=UQ(h),g=new Ag;return Object.assign(g,p),g})}else{const f=zQ(this.apiClient,t);return l=ye("{model}:predictLongRunning",f._url),u=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),a.then(h=>{const p=BQ(h),g=new Ag;return Object.assign(g,p),g})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class uee extends ca{constructor(t){super(),this.apiClient=t}async getVideosOperation(t){const n=t.operation,r=t.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const o=n.name.split("/operations/")[0];let i;r&&"httpOptions"in r&&(i=r.httpOptions);const a=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:o,config:{httpOptions:i}});return n._fromAPIResponse({apiResponse:a,_isVertexAI:!0})}else{const o=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:o,_isVertexAI:!1})}}async get(t){const n=t.operation,r=t.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const o=n.name.split("/operations/")[0];let i;r&&"httpOptions"in r&&(i=r.httpOptions);const a=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:o,config:{httpOptions:i}});return n._fromAPIResponse({apiResponse:a,_isVertexAI:!0})}else{const o=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:o,_isVertexAI:!1})}}async getVideosOperationInternal(t){var n,r,o,i;let a,l="",u={};if(this.apiClient.isVertexAI()){const f=TJ(t);return l=ye("{operationName}",f._url),u=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),a}else{const f=AJ(t);return l=ye("{operationName}",f._url),u=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),a}}async fetchPredictVideosOperationInternal(t){var n,r;let o,i="",a={};if(this.apiClient.isVertexAI()){const l=yJ(t);return i=ye("{resourceName}:fetchPredictOperation",l._url),a=l._query,delete l._url,delete l._query,o=this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),o}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function dee(e){const t={},n=v(e,["data"]);if(n!=null&&w(t,["data"],n),v(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=v(e,["mimeType"]);return r!=null&&w(t,["mimeType"],r),t}function fee(e){const t={},n=v(e,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(i=>yee(i))),w(t,["parts"],o)}const r=v(e,["role"]);return r!=null&&w(t,["role"],r),t}function hee(e,t,n){const r={},o=v(t,["expireTime"]);n!==void 0&&o!=null&&w(n,["expireTime"],o);const i=v(t,["newSessionExpireTime"]);n!==void 0&&i!=null&&w(n,["newSessionExpireTime"],i);const a=v(t,["uses"]);n!==void 0&&a!=null&&w(n,["uses"],a);const l=v(t,["liveConnectConstraints"]);n!==void 0&&l!=null&&w(n,["bidiGenerateContentSetup"],vee(e,l));const u=v(t,["lockAdditionalFields"]);return n!==void 0&&u!=null&&w(n,["fieldMask"],u),r}function pee(e,t){const n={},r=v(t,["config"]);return r!=null&&w(n,["config"],hee(e,r,n)),n}function mee(e){const t={};if(v(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=v(e,["fileUri"]);n!=null&&w(t,["fileUri"],n);const r=v(e,["mimeType"]);return r!=null&&w(t,["mimeType"],r),t}function gee(e){const t={};if(v(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=v(e,["enableWidget"]);return n!=null&&w(t,["enableWidget"],n),t}function xee(e){const t={};if(v(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(v(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=v(e,["timeRangeFilter"]);return n!=null&&w(t,["timeRangeFilter"],n),t}function bee(e,t){const n={},r=v(e,["generationConfig"]);t!==void 0&&r!=null&&w(t,["setup","generationConfig"],r);const o=v(e,["responseModalities"]);t!==void 0&&o!=null&&w(t,["setup","generationConfig","responseModalities"],o);const i=v(e,["temperature"]);t!==void 0&&i!=null&&w(t,["setup","generationConfig","temperature"],i);const a=v(e,["topP"]);t!==void 0&&a!=null&&w(t,["setup","generationConfig","topP"],a);const l=v(e,["topK"]);t!==void 0&&l!=null&&w(t,["setup","generationConfig","topK"],l);const u=v(e,["maxOutputTokens"]);t!==void 0&&u!=null&&w(t,["setup","generationConfig","maxOutputTokens"],u);const f=v(e,["mediaResolution"]);t!==void 0&&f!=null&&w(t,["setup","generationConfig","mediaResolution"],f);const h=v(e,["seed"]);t!==void 0&&h!=null&&w(t,["setup","generationConfig","seed"],h);const p=v(e,["speechConfig"]);t!==void 0&&p!=null&&w(t,["setup","generationConfig","speechConfig"],dN(p));const g=v(e,["thinkingConfig"]);t!==void 0&&g!=null&&w(t,["setup","generationConfig","thinkingConfig"],g);const x=v(e,["enableAffectiveDialog"]);t!==void 0&&x!=null&&w(t,["setup","generationConfig","enableAffectiveDialog"],x);const y=v(e,["systemInstruction"]);t!==void 0&&y!=null&&w(t,["setup","systemInstruction"],fee(Zn(y)));const N=v(e,["tools"]);if(t!==void 0&&N!=null){let I=vu(N);Array.isArray(I)&&(I=I.map(P=>Cee(bu(P)))),w(t,["setup","tools"],I)}const C=v(e,["sessionResumption"]);t!==void 0&&C!=null&&w(t,["setup","sessionResumption"],wee(C));const A=v(e,["inputAudioTranscription"]);t!==void 0&&A!=null&&w(t,["setup","inputAudioTranscription"],A);const T=v(e,["outputAudioTranscription"]);t!==void 0&&T!=null&&w(t,["setup","outputAudioTranscription"],T);const k=v(e,["realtimeInputConfig"]);t!==void 0&&k!=null&&w(t,["setup","realtimeInputConfig"],k);const D=v(e,["contextWindowCompression"]);t!==void 0&&D!=null&&w(t,["setup","contextWindowCompression"],D);const R=v(e,["proactivity"]);return t!==void 0&&R!=null&&w(t,["setup","proactivity"],R),n}function vee(e,t){const n={},r=v(t,["model"]);r!=null&&w(n,["setup","model"],rt(e,r));const o=v(t,["config"]);return o!=null&&w(n,["config"],bee(o,n)),n}function yee(e){const t={},n=v(e,["functionCall"]);n!=null&&w(t,["functionCall"],n);const r=v(e,["codeExecutionResult"]);r!=null&&w(t,["codeExecutionResult"],r);const o=v(e,["executableCode"]);o!=null&&w(t,["executableCode"],o);const i=v(e,["fileData"]);i!=null&&w(t,["fileData"],mee(i));const a=v(e,["functionResponse"]);a!=null&&w(t,["functionResponse"],a);const l=v(e,["inlineData"]);l!=null&&w(t,["inlineData"],dee(l));const u=v(e,["text"]);u!=null&&w(t,["text"],u);const f=v(e,["thought"]);f!=null&&w(t,["thought"],f);const h=v(e,["thoughtSignature"]);h!=null&&w(t,["thoughtSignature"],h);const p=v(e,["videoMetadata"]);return p!=null&&w(t,["videoMetadata"],p),t}function wee(e){const t={},n=v(e,["handle"]);if(n!=null&&w(t,["handle"],n),v(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function Cee(e){const t={},n=v(e,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(p=>p)),w(t,["functionDeclarations"],h)}if(v(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=v(e,["googleSearchRetrieval"]);r!=null&&w(t,["googleSearchRetrieval"],r);const o=v(e,["computerUse"]);o!=null&&w(t,["computerUse"],o);const i=v(e,["fileSearch"]);i!=null&&w(t,["fileSearch"],i);const a=v(e,["codeExecution"]);if(a!=null&&w(t,["codeExecution"],a),v(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const l=v(e,["googleMaps"]);l!=null&&w(t,["googleMaps"],gee(l));const u=v(e,["googleSearch"]);u!=null&&w(t,["googleSearch"],xee(u));const f=v(e,["urlContext"]);return f!=null&&w(t,["urlContext"],f),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Nee(e){const t=[];for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)){const r=e[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const o=Object.keys(r).map(i=>`${n}.${i}`);t.push(...o)}else t.push(n)}return t.join(",")}function See(e,t){let n=null;const r=e.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const i=r.setup;typeof i=="object"&&i!==null?(e.bidiGenerateContentSetup=i,n=i):delete e.bidiGenerateContentSetup}else r!==void 0&&delete e.bidiGenerateContentSetup;const o=e.fieldMask;if(n){const i=Nee(n);if(Array.isArray(t==null?void 0:t.lockAdditionalFields)&&(t==null?void 0:t.lockAdditionalFields.length)===0)i?e.fieldMask=i:delete e.fieldMask;else if(t!=null&&t.lockAdditionalFields&&t.lockAdditionalFields.length>0&&o!==null&&Array.isArray(o)&&o.length>0){const a=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let l=[];o.length>0&&(l=o.map(f=>a.includes(f)?`generationConfig.${f}`:f));const u=[];i&&u.push(i),l.length>0&&u.push(...l),u.length>0?e.fieldMask=u.join(","):delete e.fieldMask}else delete e.fieldMask}else o!==null&&Array.isArray(o)&&o.length>0?e.fieldMask=o.join(","):delete e.fieldMask;return e}class Eee extends ca{constructor(t){super(),this.apiClient=t}async create(t){var n,r;let o,i="",a={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const l=pee(this.apiClient,t);i=ye("auth_tokens",l._url),a=l._query,delete l.config,delete l._url,delete l._query;const u=See(l,t.config);return o=this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),o.then(f=>f)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function jee(e,t){const n={},r=v(e,["displayName"]);return t!==void 0&&r!=null&&w(t,["displayName"],r),n}function Aee(e){const t={},n=v(e,["config"]);return n!=null&&jee(n,t),t}function Tee(e,t){const n={},r=v(e,["force"]);return t!==void 0&&r!=null&&w(t,["_query","force"],r),n}function kee(e){const t={},n=v(e,["name"]);n!=null&&w(t,["_url","name"],n);const r=v(e,["config"]);return r!=null&&Tee(r,t),t}function Mee(e){const t={},n=v(e,["name"]);return n!=null&&w(t,["_url","name"],n),t}function Pee(e,t){const n={},r=v(e,["customMetadata"]);if(t!==void 0&&r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>a)),w(t,["customMetadata"],i)}const o=v(e,["chunkingConfig"]);return t!==void 0&&o!=null&&w(t,["chunkingConfig"],o),n}function Ree(e){const t={},n=v(e,["name"]);n!=null&&w(t,["name"],n);const r=v(e,["metadata"]);r!=null&&w(t,["metadata"],r);const o=v(e,["done"]);o!=null&&w(t,["done"],o);const i=v(e,["error"]);i!=null&&w(t,["error"],i);const a=v(e,["response"]);return a!=null&&w(t,["response"],Dee(a)),t}function Iee(e){const t={},n=v(e,["fileSearchStoreName"]);n!=null&&w(t,["_url","file_search_store_name"],n);const r=v(e,["fileName"]);r!=null&&w(t,["fileName"],r);const o=v(e,["config"]);return o!=null&&Pee(o,t),t}function Dee(e){const t={},n=v(e,["sdkHttpResponse"]);n!=null&&w(t,["sdkHttpResponse"],n);const r=v(e,["parent"]);r!=null&&w(t,["parent"],r);const o=v(e,["documentName"]);return o!=null&&w(t,["documentName"],o),t}function _ee(e,t){const n={},r=v(e,["pageSize"]);t!==void 0&&r!=null&&w(t,["_query","pageSize"],r);const o=v(e,["pageToken"]);return t!==void 0&&o!=null&&w(t,["_query","pageToken"],o),n}function Oee(e){const t={},n=v(e,["config"]);return n!=null&&_ee(n,t),t}function Lee(e){const t={},n=v(e,["sdkHttpResponse"]);n!=null&&w(t,["sdkHttpResponse"],n);const r=v(e,["nextPageToken"]);r!=null&&w(t,["nextPageToken"],r);const o=v(e,["fileSearchStores"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(a=>a)),w(t,["fileSearchStores"],i)}return t}function Bee(e,t){const n={},r=v(e,["mimeType"]);t!==void 0&&r!=null&&w(t,["mimeType"],r);const o=v(e,["displayName"]);t!==void 0&&o!=null&&w(t,["displayName"],o);const i=v(e,["customMetadata"]);if(t!==void 0&&i!=null){let l=i;Array.isArray(l)&&(l=l.map(u=>u)),w(t,["customMetadata"],l)}const a=v(e,["chunkingConfig"]);return t!==void 0&&a!=null&&w(t,["chunkingConfig"],a),n}function Uee(e){const t={},n=v(e,["fileSearchStoreName"]);n!=null&&w(t,["_url","file_search_store_name"],n);const r=v(e,["config"]);return r!=null&&Bee(r,t),t}function zee(e){const t={},n=v(e,["sdkHttpResponse"]);return n!=null&&w(t,["sdkHttpResponse"],n),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Fee(e,t){const n={},r=v(e,["force"]);return t!==void 0&&r!=null&&w(t,["_query","force"],r),n}function qee(e){const t={},n=v(e,["name"]);n!=null&&w(t,["_url","name"],n);const r=v(e,["config"]);return r!=null&&Fee(r,t),t}function Hee(e){const t={},n=v(e,["name"]);return n!=null&&w(t,["_url","name"],n),t}function Vee(e,t){const n={},r=v(e,["pageSize"]);t!==void 0&&r!=null&&w(t,["_query","pageSize"],r);const o=v(e,["pageToken"]);return t!==void 0&&o!=null&&w(t,["_query","pageToken"],o),n}function $ee(e){const t={},n=v(e,["parent"]);n!=null&&w(t,["_url","parent"],n);const r=v(e,["config"]);return r!=null&&Vee(r,t),t}function Gee(e){const t={},n=v(e,["sdkHttpResponse"]);n!=null&&w(t,["sdkHttpResponse"],n);const r=v(e,["nextPageToken"]);r!=null&&w(t,["nextPageToken"],r);const o=v(e,["documents"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(a=>a)),w(t,["documents"],i)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Kee extends ca{constructor(t){super(),this.apiClient=t,this.list=async n=>new zl(ea.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:n.parent,config:r.config}),await this.listInternal(n),n)}async get(t){var n,r;let o,i="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=Hee(t);return i=ye("{name}",l._url),a=l._query,delete l._url,delete l._query,o=this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),o.then(u=>u)}}async delete(t){var n,r;let o="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=qee(t);o=ye("{name}",a._url),i=a._query,delete a._url,delete a._query,await this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(t){var n,r;let o,i="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=$ee(t);return i=ye("{parent}/documents",l._url),a=l._query,delete l._url,delete l._query,o=this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),o.then(u=>{const f=Gee(u),h=new UJ;return Object.assign(h,f),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Wee extends ca{constructor(t,n=new Kee(t)){super(),this.apiClient=t,this.documents=n,this.list=async(r={})=>new zl(ea.PAGED_ITEM_FILE_SEARCH_STORES,o=>this.listInternal(o),await this.listInternal(r),r)}async uploadToFileSearchStore(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(t.fileSearchStoreName,t.file,t.config)}async create(t){var n,r;let o,i="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=Aee(t);return i=ye("fileSearchStores",l._url),a=l._query,delete l._url,delete l._query,o=this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),o.then(u=>u)}}async get(t){var n,r;let o,i="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=Mee(t);return i=ye("{name}",l._url),a=l._query,delete l._url,delete l._query,o=this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),o.then(u=>u)}}async delete(t){var n,r;let o="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=kee(t);o=ye("{name}",a._url),i=a._query,delete a._url,delete a._query,await this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(t){var n,r;let o,i="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=Oee(t);return i=ye("fileSearchStores",l._url),a=l._query,delete l._url,delete l._query,o=this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),o.then(u=>{const f=Lee(u),h=new zJ;return Object.assign(h,f),h})}}async uploadToFileSearchStoreInternal(t){var n,r;let o,i="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=Uee(t);return i=ye("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",l._url),a=l._query,delete l._url,delete l._query,o=this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),o.then(u=>{const f=zee(u),h=new FJ;return Object.assign(h,f),h})}}async importFile(t){var n,r;let o,i="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=Iee(t);return i=ye("{file_search_store_name}:importFile",l._url),a=l._query,delete l._url,delete l._query,o=this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),o.then(u=>{const f=Ree(u),h=new aN;return Object.assign(h,f),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Jee(e,t){const n={},r=v(e,["name"]);return r!=null&&w(n,["_url","name"],r),n}function Yee(e,t){const n={},r=v(e,["name"]);return r!=null&&w(n,["_url","name"],r),n}function Xee(e,t,n){const r={};if(v(e,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const o=v(e,["tunedModelDisplayName"]);if(t!==void 0&&o!=null&&w(t,["displayName"],o),v(e,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const i=v(e,["epochCount"]);t!==void 0&&i!=null&&w(t,["tuningTask","hyperparameters","epochCount"],i);const a=v(e,["learningRateMultiplier"]);if(a!=null&&w(r,["tuningTask","hyperparameters","learningRateMultiplier"],a),v(e,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(v(e,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(v(e,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const l=v(e,["batchSize"]);t!==void 0&&l!=null&&w(t,["tuningTask","hyperparameters","batchSize"],l);const u=v(e,["learningRate"]);if(t!==void 0&&u!=null&&w(t,["tuningTask","hyperparameters","learningRate"],u),v(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(v(e,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return r}function Qee(e,t,n){const r={};let o=v(n,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const x=v(e,["validationDataset"]);t!==void 0&&x!=null&&w(t,["supervisedTuningSpec"],o3(x))}else if(o==="PREFERENCE_TUNING"){const x=v(e,["validationDataset"]);t!==void 0&&x!=null&&w(t,["preferenceOptimizationSpec"],o3(x))}const i=v(e,["tunedModelDisplayName"]);t!==void 0&&i!=null&&w(t,["tunedModelDisplayName"],i);const a=v(e,["description"]);t!==void 0&&a!=null&&w(t,["description"],a);let l=v(n,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){const x=v(e,["epochCount"]);t!==void 0&&x!=null&&w(t,["supervisedTuningSpec","hyperParameters","epochCount"],x)}else if(l==="PREFERENCE_TUNING"){const x=v(e,["epochCount"]);t!==void 0&&x!=null&&w(t,["preferenceOptimizationSpec","hyperParameters","epochCount"],x)}let u=v(n,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const x=v(e,["learningRateMultiplier"]);t!==void 0&&x!=null&&w(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],x)}else if(u==="PREFERENCE_TUNING"){const x=v(e,["learningRateMultiplier"]);t!==void 0&&x!=null&&w(t,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],x)}let f=v(n,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const x=v(e,["exportLastCheckpointOnly"]);t!==void 0&&x!=null&&w(t,["supervisedTuningSpec","exportLastCheckpointOnly"],x)}else if(f==="PREFERENCE_TUNING"){const x=v(e,["exportLastCheckpointOnly"]);t!==void 0&&x!=null&&w(t,["preferenceOptimizationSpec","exportLastCheckpointOnly"],x)}let h=v(n,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const x=v(e,["adapterSize"]);t!==void 0&&x!=null&&w(t,["supervisedTuningSpec","hyperParameters","adapterSize"],x)}else if(h==="PREFERENCE_TUNING"){const x=v(e,["adapterSize"]);t!==void 0&&x!=null&&w(t,["preferenceOptimizationSpec","hyperParameters","adapterSize"],x)}if(v(e,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(v(e,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const p=v(e,["labels"]);t!==void 0&&p!=null&&w(t,["labels"],p);const g=v(e,["beta"]);return t!==void 0&&g!=null&&w(t,["preferenceOptimizationSpec","hyperParameters","beta"],g),r}function Zee(e,t){const n={},r=v(e,["baseModel"]);r!=null&&w(n,["baseModel"],r);const o=v(e,["preTunedModel"]);o!=null&&w(n,["preTunedModel"],o);const i=v(e,["trainingDataset"]);i!=null&&ute(i);const a=v(e,["config"]);return a!=null&&Xee(a,n),n}function ete(e,t){const n={},r=v(e,["baseModel"]);r!=null&&w(n,["baseModel"],r);const o=v(e,["preTunedModel"]);o!=null&&w(n,["preTunedModel"],o);const i=v(e,["trainingDataset"]);i!=null&&dte(i,n,t);const a=v(e,["config"]);return a!=null&&Qee(a,n,t),n}function tte(e,t){const n={},r=v(e,["name"]);return r!=null&&w(n,["_url","name"],r),n}function nte(e,t){const n={},r=v(e,["name"]);return r!=null&&w(n,["_url","name"],r),n}function rte(e,t,n){const r={},o=v(e,["pageSize"]);t!==void 0&&o!=null&&w(t,["_query","pageSize"],o);const i=v(e,["pageToken"]);t!==void 0&&i!=null&&w(t,["_query","pageToken"],i);const a=v(e,["filter"]);return t!==void 0&&a!=null&&w(t,["_query","filter"],a),r}function ote(e,t,n){const r={},o=v(e,["pageSize"]);t!==void 0&&o!=null&&w(t,["_query","pageSize"],o);const i=v(e,["pageToken"]);t!==void 0&&i!=null&&w(t,["_query","pageToken"],i);const a=v(e,["filter"]);return t!==void 0&&a!=null&&w(t,["_query","filter"],a),r}function ite(e,t){const n={},r=v(e,["config"]);return r!=null&&rte(r,n),n}function ate(e,t){const n={},r=v(e,["config"]);return r!=null&&ote(r,n),n}function ste(e,t){const n={},r=v(e,["sdkHttpResponse"]);r!=null&&w(n,["sdkHttpResponse"],r);const o=v(e,["nextPageToken"]);o!=null&&w(n,["nextPageToken"],o);const i=v(e,["tunedModels"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>nL(l))),w(n,["tuningJobs"],a)}return n}function lte(e,t){const n={},r=v(e,["sdkHttpResponse"]);r!=null&&w(n,["sdkHttpResponse"],r);const o=v(e,["nextPageToken"]);o!=null&&w(n,["nextPageToken"],o);const i=v(e,["tuningJobs"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>n2(l))),w(n,["tuningJobs"],a)}return n}function cte(e,t){const n={},r=v(e,["name"]);r!=null&&w(n,["model"],r);const o=v(e,["name"]);return o!=null&&w(n,["endpoint"],o),n}function ute(e,t){const n={};if(v(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(v(e,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=v(e,["examples"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(i=>i)),w(n,["examples","examples"],o)}return n}function dte(e,t,n){const r={};let o=v(n,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const a=v(e,["gcsUri"]);t!==void 0&&a!=null&&w(t,["supervisedTuningSpec","trainingDatasetUri"],a)}else if(o==="PREFERENCE_TUNING"){const a=v(e,["gcsUri"]);t!==void 0&&a!=null&&w(t,["preferenceOptimizationSpec","trainingDatasetUri"],a)}let i=v(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const a=v(e,["vertexDatasetResource"]);t!==void 0&&a!=null&&w(t,["supervisedTuningSpec","trainingDatasetUri"],a)}else if(i==="PREFERENCE_TUNING"){const a=v(e,["vertexDatasetResource"]);t!==void 0&&a!=null&&w(t,["preferenceOptimizationSpec","trainingDatasetUri"],a)}if(v(e,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function nL(e,t){const n={},r=v(e,["sdkHttpResponse"]);r!=null&&w(n,["sdkHttpResponse"],r);const o=v(e,["name"]);o!=null&&w(n,["name"],o);const i=v(e,["state"]);i!=null&&w(n,["state"],LO(i));const a=v(e,["createTime"]);a!=null&&w(n,["createTime"],a);const l=v(e,["tuningTask","startTime"]);l!=null&&w(n,["startTime"],l);const u=v(e,["tuningTask","completeTime"]);u!=null&&w(n,["endTime"],u);const f=v(e,["updateTime"]);f!=null&&w(n,["updateTime"],f);const h=v(e,["description"]);h!=null&&w(n,["description"],h);const p=v(e,["baseModel"]);p!=null&&w(n,["baseModel"],p);const g=v(e,["_self"]);return g!=null&&w(n,["tunedModel"],cte(g)),n}function n2(e,t){const n={},r=v(e,["sdkHttpResponse"]);r!=null&&w(n,["sdkHttpResponse"],r);const o=v(e,["name"]);o!=null&&w(n,["name"],o);const i=v(e,["state"]);i!=null&&w(n,["state"],LO(i));const a=v(e,["createTime"]);a!=null&&w(n,["createTime"],a);const l=v(e,["startTime"]);l!=null&&w(n,["startTime"],l);const u=v(e,["endTime"]);u!=null&&w(n,["endTime"],u);const f=v(e,["updateTime"]);f!=null&&w(n,["updateTime"],f);const h=v(e,["error"]);h!=null&&w(n,["error"],h);const p=v(e,["description"]);p!=null&&w(n,["description"],p);const g=v(e,["baseModel"]);g!=null&&w(n,["baseModel"],g);const x=v(e,["tunedModel"]);x!=null&&w(n,["tunedModel"],x);const y=v(e,["preTunedModel"]);y!=null&&w(n,["preTunedModel"],y);const N=v(e,["supervisedTuningSpec"]);N!=null&&w(n,["supervisedTuningSpec"],N);const C=v(e,["preferenceOptimizationSpec"]);C!=null&&w(n,["preferenceOptimizationSpec"],C);const A=v(e,["tuningDataStats"]);A!=null&&w(n,["tuningDataStats"],A);const T=v(e,["encryptionSpec"]);T!=null&&w(n,["encryptionSpec"],T);const k=v(e,["partnerModelTuningSpec"]);k!=null&&w(n,["partnerModelTuningSpec"],k);const D=v(e,["customBaseModel"]);D!=null&&w(n,["customBaseModel"],D);const R=v(e,["experiment"]);R!=null&&w(n,["experiment"],R);const I=v(e,["labels"]);I!=null&&w(n,["labels"],I);const P=v(e,["outputUri"]);P!=null&&w(n,["outputUri"],P);const B=v(e,["pipelineJob"]);B!=null&&w(n,["pipelineJob"],B);const L=v(e,["serviceAccount"]);L!=null&&w(n,["serviceAccount"],L);const $=v(e,["tunedModelDisplayName"]);$!=null&&w(n,["tunedModelDisplayName"],$);const X=v(e,["veoTuningSpec"]);return X!=null&&w(n,["veoTuningSpec"],X),n}function fte(e,t){const n={},r=v(e,["sdkHttpResponse"]);r!=null&&w(n,["sdkHttpResponse"],r);const o=v(e,["name"]);o!=null&&w(n,["name"],o);const i=v(e,["metadata"]);i!=null&&w(n,["metadata"],i);const a=v(e,["done"]);a!=null&&w(n,["done"],a);const l=v(e,["error"]);return l!=null&&w(n,["error"],l),n}function o3(e,t){const n={},r=v(e,["gcsUri"]);r!=null&&w(n,["validationDatasetUri"],r);const o=v(e,["vertexDatasetResource"]);return o!=null&&w(n,["validationDatasetUri"],o),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class hte extends ca{constructor(t){super(),this.apiClient=t,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new zl(ea.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.tune=async n=>{var r;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const o={tunedModelName:n.baseModel};!((r=n.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(o.checkpointId=n.config.preTunedModelCheckpointId);const i=Object.assign(Object.assign({},n),{preTunedModel:o});return i.baseModel=void 0,await this.tuneInternal(i)}else{const o=Object.assign({},n);return await this.tuneInternal(o)}else{const o=Object.assign({},n),i=await this.tuneMldevInternal(o);let a="";return i.metadata!==void 0&&i.metadata.tunedModel!==void 0?a=i.metadata.tunedModel:i.name!==void 0&&i.name.includes("/operations/")&&(a=i.name.split("/operations/")[0]),{name:a,state:Jw.JOB_STATE_QUEUED}}}}async getInternal(t){var n,r,o,i;let a,l="",u={};if(this.apiClient.isVertexAI()){const f=nte(t);return l=ye("{name}",f._url),u=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),a.then(h=>n2(h))}else{const f=tte(t);return l=ye("{name}",f._url),u=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),a.then(h=>nL(h))}}async listInternal(t){var n,r,o,i;let a,l="",u={};if(this.apiClient.isVertexAI()){const f=ate(t);return l=ye("tuningJobs",f._url),u=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),a.then(h=>{const p=lte(h),g=new LM;return Object.assign(g,p),g})}else{const f=ite(t);return l=ye("tunedModels",f._url),u=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),a.then(h=>{const p=ste(h),g=new LM;return Object.assign(g,p),g})}}async cancel(t){var n,r,o,i;let a="",l={};if(this.apiClient.isVertexAI()){const u=Yee(t);a=ye("{name}:cancel",u._url),l=u._query,delete u._url,delete u._query,await this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal})}else{const u=Jee(t);a=ye("{name}:cancel",u._url),l=u._query,delete u._url,delete u._query,await this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal})}}async tuneInternal(t){var n,r;let o,i="",a={};if(this.apiClient.isVertexAI()){const l=ete(t,t);return i=ye("tuningJobs",l._url),a=l._query,delete l._url,delete l._query,o=this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:u.headers},h})),o.then(u=>n2(u))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(t){var n,r;let o,i="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=Zee(t);return i=ye("tunedModels",l._url),a=l._query,delete l._url,delete l._query,o=this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:u.headers},h})),o.then(u=>fte(u))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class pte{async download(t,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const mte=1024*1024*8,gte=3,xte=1e3,bte=2,kg="x-goog-upload-status";async function vte(e,t,n){var r;const o=await rL(e,t,n),i=await(o==null?void 0:o.json());if(((r=o==null?void 0:o.headers)===null||r===void 0?void 0:r[kg])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return i.file}async function yte(e,t,n){var r;const o=await rL(e,t,n),i=await(o==null?void 0:o.json());if(((r=o==null?void 0:o.headers)===null||r===void 0?void 0:r[kg])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const a=PO(i),l=new sN;return Object.assign(l,a),l}async function rL(e,t,n){var r,o;let i=0,a=0,l=new Yw(new Response),u="upload";for(i=e.size;a<i;){const f=Math.min(mte,i-a),h=e.slice(a,a+f);a+f>=i&&(u+=", finalize");let p=0,g=xte;for(;p<gte&&(l=await n.request({path:"",body:h,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":u,"X-Goog-Upload-Offset":String(a),"Content-Length":String(f)}}}),!(!((r=l==null?void 0:l.headers)===null||r===void 0)&&r[kg]));)p++,await Cte(g),g=g*bte;if(a+=f,((o=l==null?void 0:l.headers)===null||o===void 0?void 0:o[kg])!=="active")break;if(i<=a)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return l}async function wte(e){return{size:e.size,type:e.type}}function Cte(e){return new Promise(t=>setTimeout(t,e))}class Nte{async upload(t,n,r){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await vte(t,n,r)}async uploadToFileSearchStore(t,n,r){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await yte(t,n,r)}async stat(t){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await wte(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ste{create(t,n,r){return new Ete(t,n,r)}}class Ete{constructor(t,n,r){this.url=t,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(t){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(t)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const i3="x-goog-api-key";class jte{constructor(t){this.apiKey=t}async addAuthHeaders(t,n){if(t.get(i3)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");t.append(i3,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ate="gl-node/";class ou{constructor(t){var n;if(t.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(t.project||t.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=t.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=t.apiKey;const r=bJ(t.httpOptions,t.vertexai,void 0,void 0);r&&(t.httpOptions?t.httpOptions.baseUrl=r:t.httpOptions={baseUrl:r}),this.apiVersion=t.apiVersion;const o=new jte(this.apiKey);this.apiClient=new VZ({auth:o,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:t.httpOptions,userAgentExtra:Ate+"web",uploader:new Nte,downloader:new pte}),this.models=new cee(this.apiClient),this.live=new ree(this.apiClient,o,new Ste),this.batches=new HY(this.apiClient),this.chats=new wX(this.models,this.apiClient),this.caches=new bX(this.apiClient),this.files=new PX(this.apiClient),this.operations=new uee(this.apiClient),this.authTokens=new Eee(this.apiClient),this.tunings=new hte(this.apiClient),this.fileSearchStores=new Wee(this.apiClient)}}const Lo=e=>s.jsxs("svg",{...e,className:`animate-spin ${e.className||""}`,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),Zs=({title:e,children:t,defaultOpen:n=!1})=>{const[r,o]=E.useState(n);return s.jsxs("div",{className:"bg-[rgb(var(--color-brand-dark))] border border-[rgb(var(--color-brand-gray-light))] rounded-lg",children:[s.jsxs("button",{type:"button",onClick:()=>o(!r),className:"w-full flex justify-between items-center p-4 text-left font-semibold text-[rgb(var(--color-brand-text-light))]",children:[s.jsx("span",{children:e}),s.jsx("span",{className:`transform transition-transform duration-200 ${r?"rotate-180":""}`,children:""})]}),r&&s.jsx("div",{className:"p-6 border-t border-[rgb(var(--color-brand-gray-light))]",children:t})]})},Tte=({product:e,collections:t,onSave:n,onCancel:r})=>{var U,V,pe,be,je;const o=!!(e!=null&&e.id)||(e==null?void 0:e.id)===""&&!!e.name,[i,a]=E.useState({name:"",shortDescription:"",description:"",images:[],price:0,compareAtPrice:void 0,costPerItem:void 0,status:"Ativo",sku:"",barcode:"",trackQuantity:!0,inventory:10,continueSelling:!1,requiresShipping:!0,chargeTax:!0,type:"Fsico",collectionId:((U=t[0])==null?void 0:U.id)||null,seoTitle:"",seoDescription:"",urlHandle:"",weight:0,weightUnit:"kg",supplier:"",options:[],variants:[],...e}),[l,u]=E.useState(!1),[f,h]=E.useState(!1),p=E.useRef(null),[g,x]=E.useState({}),y=E.useMemo(()=>(i.options||[]).length>0,[i.options]);E.useEffect(()=>{var Le;if(!y){(Le=i.variants)!=null&&Le.length&&a(Oe=>({...Oe,variants:[]}));return}const O=i.variants||[],F=i.options||[];if(F.length===0||F.every(Oe=>Oe.values.length===0)){O.length>0&&a(Oe=>({...Oe,variants:[]}));return}const te=F.map(Oe=>Oe.values.length>0?Oe.values:[""]),De=((...Oe)=>Oe.reduce((re,Re)=>re.flatMap(Te=>Re.map(de=>[...Te,de])),[[]]))(...te).map((Oe,re)=>{const Re=Array.isArray(Oe)?Oe:[Oe],Te=F.reduce((Ge,Be,et)=>(Re[et]&&(Ge[Be.name]=Re[et]),Ge),{}),de=O.find(Ge=>F.every(Be=>Ge.options[Be.name]===Te[Be.name]));return{id:(de==null?void 0:de.id)||`var-${Date.now()}-${re}`,options:Te,price:(de==null?void 0:de.price)??i.price??0,inventory:(de==null?void 0:de.inventory)??0,sku:(de==null?void 0:de.sku)??""}});JSON.stringify(De)!==JSON.stringify(O)&&a(Oe=>({...Oe,variants:De}))},[i.options,y,i.price]);const N=O=>{a(O?F=>({...F,options:[{id:`opt-${Date.now()}`,name:"Tamanho",values:["P","M","G"]}]}):F=>({...F,options:[],variants:[]}))},C=()=>{a(O=>{var F;return{...O,options:[...O.options||[],{id:`opt-${Date.now()}`,name:`Opo ${(((F=O.options)==null?void 0:F.length)||0)+1}`,values:[]}]}})},A=O=>{a(F=>({...F,options:(F.options||[]).filter((te,fe)=>fe!==O)}))},T=(O,F)=>{a(te=>{const fe=te.options||[],xe=fe[O].name,De=fe.map((Oe,re)=>re===O?{...Oe,name:F}:Oe),Le=(te.variants||[]).map(Oe=>{if(xe in Oe.options){const re={...Oe.options};return re[F]=re[xe],delete re[xe],{...Oe,options:re}}return Oe});return{...te,options:De,variants:Le}})},k=O=>{var te;const F=(te=g[O])==null?void 0:te.trim();F&&(a(fe=>{const xe=[...fe.options||[]];return xe[O]&&!xe[O].values.includes(F)?(xe[O]={...xe[O],values:[...xe[O].values,F]},{...fe,options:xe}):fe}),x(fe=>({...fe,[O]:""})))},D=(O,F)=>{a(te=>{const fe=[...te.options||[]];return fe[O]?(fe[O]={...fe[O],values:fe[O].values.filter(xe=>xe!==F)},{...te,options:fe}):te})},R=(O,F)=>{x(te=>({...te,[O]:F}))},I=(O,F,te)=>{a(fe=>({...fe,variants:(fe.variants||[]).map(xe=>xe.id===O?{...xe,[F]:F==="price"||F==="inventory"?Number(te):te}:xe)}))},P=O=>{const{name:F,value:te}=O.target;a(fe=>({...fe,[F]:te}))},B=(O,F)=>{a(te=>({...te,[O]:F}))},L=O=>{a(F=>({...F,description:O}))},$=O=>{a(F=>({...F,images:[...F.images||[],O]}))},X=O=>{a(F=>{var te;return{...F,images:(te=F.images)==null?void 0:te.filter(fe=>fe!==O)}})},q=O=>{var F;if(O.preventDefault(),!((F=i.name)!=null&&F.trim())){alert("Por favor, insira um nome para o produto.");return}n(i)},W=()=>{var O;(O=p.current)==null||O.requestSubmit()},ie=async()=>{if(!i.name){alert("Por favor, insira um nome para o produto antes de gerar a descrio.");return}u(!0);try{const O=new ou({apiKey:"PLACEHOLDER_API_KEY"}),F=`Voc  um copywriter especialista em e-commerce para produtos de luxo. Com base no nome do produto "${i.name}" e na descrio curta "${i.shortDescription}", escreva uma descrio completa, atraente e sofisticada para o produto. Use formatao rica em HTML como ttulos (h2), listas de marcadores (ul/li) e negrito (strong) para destacar os principais recursos e benefcios. O tone deve ser elegante e persuasivo, focado em qualidade, design e exclusividade.`,te=await O.models.generateContent({model:"gemini-2.5-flash",contents:F});L(te.text??"")}catch(O){console.error("AI Description Generation Error:",O),alert("Ocorreu um erro ao gerar a descrio. Tente novamente.")}finally{u(!1)}},K=async()=>{if(!i.name){alert("Por favor, insira um nome para o produto antes de gerar o SEO.");return}h(!0);try{const F=await new ou({apiKey:"PLACEHOLDER_API_KEY"}).models.generateContent({model:"gemini-2.5-flash",contents:`Baseado no nome do produto "${i.name}" e na descrio curta "${i.shortDescription}", gere um Ttulo SEO e uma Meta Descrio SEO otimizados para mecanismos de busca para um e-commerce de luxo.`,config:{responseMimeType:"application/json",responseSchema:{type:Sn.OBJECT,properties:{seoTitle:{type:Sn.STRING,description:"Um ttulo otimizado para SEO com no mximo 60 caracteres."},seoDescription:{type:Sn.STRING,description:"Uma meta descrio otimizada para SEO com no mximo 160 caracteres."}},required:["seoTitle","seoDescription"]}}}),te=JSON.parse(F.text??"{}");if(te.seoTitle&&te.seoDescription)a(fe=>({...fe,seoTitle:te.seoTitle,seoDescription:te.seoDescription}));else throw new Error("Resposta da IA em formato invlido.")}catch(O){console.error("AI SEO Generation Error:",O),alert("Ocorreu um erro ao gerar o contedo de SEO. Tente novamente.")}finally{h(!1)}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"pb-6 mb-6 flex justify-between items-center border-b border-[rgb(var(--color-brand-gray-light))]",children:[s.jsx("h1",{className:"text-2xl font-bold text-[rgb(var(--color-brand-text-light))]",children:o?"Editar Produto":"Adicionar Produto"}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("button",{type:"button",onClick:r,className:"text-sm font-semibold bg-[rgb(var(--color-brand-gray))] text-[rgb(var(--color-brand-text-light))] py-2 px-4 rounded-md hover:bg-[rgb(var(--color-brand-gray-light))] transition-colors",children:"Descartar"}),s.jsx("button",{type:"button",onClick:W,className:"text-sm font-bold bg-[rgb(var(--color-active-lime))] text-[rgb(var(--color-brand-dark))] py-2 px-4 rounded-md hover:bg-[rgb(var(--color-success))] transition-colors",children:"Salvar"})]})]}),s.jsxs("form",{onSubmit:q,ref:p,className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[s.jsxs("div",{className:"bg-[rgb(var(--color-brand-dark))] border border-[rgb(var(--color-brand-gray-light))] rounded-lg p-6 space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-[rgb(var(--color-brand-text-light))] mb-2",children:"Nome do Produto"}),s.jsx("input",{type:"text",name:"name",id:"name",value:i.name,onChange:P,className:"w-full bg-[rgb(var(--color-brand-gray))] border-2 border-[rgb(var(--color-brand-gray-light))] rounded-md py-2 px-3 text-[rgb(var(--color-brand-text-light))]"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"shortDescription",className:"block text-sm font-medium text-[rgb(var(--color-brand-text-light))] mb-2",children:"Descrio Curta"}),s.jsx("textarea",{name:"shortDescription",id:"shortDescription",value:i.shortDescription,onChange:P,rows:3,className:"w-full bg-[rgb(var(--color-brand-gray))] border-2 border-[rgb(var(--color-brand-gray-light))] rounded-md py-2 px-3 text-[rgb(var(--color-brand-text-light))]"})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsx("label",{className:"block text-sm font-medium text-[rgb(var(--color-brand-text-light))]",children:"Descrio Completa"}),s.jsxs("button",{type:"button",onClick:ie,disabled:l,className:"flex items-center gap-1.5 text-sm font-semibold bg-[rgb(var(--color-brand-gold))]/[.10] text-[rgb(var(--color-brand-gold))] py-1 px-3 rounded-md hover:bg-[rgb(var(--color-brand-gold))]/[.20] transition-colors disabled:opacity-50",children:[l?s.jsx(Lo,{className:"w-4 h-4"}):s.jsx(Eg,{className:"w-4 h-4"}),l?"Gerando...":"Gerar com IA"]})]}),s.jsx(MO,{value:i.description||"",onChange:L})]})]}),s.jsxs("div",{className:"bg-[rgb(var(--color-brand-dark))] border border-[rgb(var(--color-brand-gray-light))] rounded-lg p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-[rgb(var(--color-brand-text-light))] mb-4",children:"Mdia"}),s.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4",children:[(V=i.images)==null?void 0:V.map(O=>s.jsxs("div",{className:"relative group aspect-square",children:[s.jsx("img",{src:O,alt:"preview",className:"w-full h-full object-cover rounded-md"}),s.jsx("div",{className:"absolute inset-0 bg-[rgb(var(--color-brand-dark))]/[.60] opacity-0 group-hover:opacity-100 flex items-center justify-center",children:s.jsx("button",{type:"button",onClick:()=>X(O),className:"p-2 bg-[rgb(var(--color-error))] rounded-full",children:s.jsx(Tn,{className:"w-5 h-5"})})})]},O)),s.jsx(Cr,{currentImage:"",onImageUpload:$,placeholderText:"Adicionar imagem",aspectRatio:"square"})]})]}),s.jsx(Zs,{title:"Preos",defaultOpen:!0,children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"price",className:"block text-sm font-medium text-[rgb(var(--color-brand-text-light))] mb-2",children:"Preo"}),s.jsx("input",{type:"number",name:"price",id:"price",value:i.price,onChange:P,className:"w-full bg-[rgb(var(--color-brand-gray))] border-2 border-[rgb(var(--color-brand-gray-light))] rounded-md py-2 px-3 text-[rgb(var(--color-brand-text-light))]",step:"0.01",min:"0"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"compareAtPrice",className:"block text-sm font-medium text-[rgb(var(--color-brand-text-light))] mb-2",children:"Preo de Comparao (opcional)"}),s.jsx("input",{type:"number",name:"compareAtPrice",id:"compareAtPrice",value:i.compareAtPrice,onChange:P,className:"w-full bg-[rgb(var(--color-brand-gray))] border-2 border-[rgb(var(--color-brand-gray-light))] rounded-md py-2 px-3 text-[rgb(var(--color-brand-text-light))]",step:"0.01",min:"0"}),s.jsx("p",{className:"text-xs text-[rgb(var(--color-brand-text-dim))] mt-1",children:"Defina um preo mais alto para mostrar um desconto."})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"costPerItem",className:"block text-sm font-medium text-[rgb(var(--color-brand-text-light))] mb-2",children:"Custo por Item (opcional)"}),s.jsx("input",{type:"number",name:"costPerItem",id:"costPerItem",value:i.costPerItem,onChange:P,className:"w-full bg-[rgb(var(--color-brand-gray))] border-2 border-[rgb(var(--color-brand-gray-light))] rounded-md py-2 px-3 text-[rgb(var(--color-brand-text-light))]",step:"0.01",min:"0"}),s.jsx("p",{className:"text-xs text-[rgb(var(--color-brand-text-dim))] mt-1",children:"Exibido apenas para voc. Para calcular margem."})]})]})}),s.jsx(Zs,{title:"Estoque",defaultOpen:!0,children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("label",{htmlFor:"trackQuantity",className:"block text-sm font-medium text-[rgb(var(--color-brand-text-light))]",children:"Rastrear quantidade"}),s.jsx(vt,{checked:!!i.trackQuantity,onChange:O=>B("trackQuantity",O),labelId:"trackQuantity"})]}),i.trackQuantity&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"inventory",className:"block text-sm font-medium text-[rgb(var(--color-brand-text-light))] mb-2",children:"Quantidade disponvel"}),s.jsx("input",{type:"number",name:"inventory",id:"inventory",value:i.inventory,onChange:P,className:"w-full bg-[rgb(var(--color-brand-gray))] border-2 border-[rgb(var(--color-brand-gray-light))] rounded-md py-2 px-3 text-[rgb(var(--color-brand-text-light))]",min:"0"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("label",{htmlFor:"continueSelling",className:"block text-sm font-medium text-[rgb(var(--color-brand-text-light))]",children:"Continuar vendendo quando esgotar"}),s.jsx(vt,{checked:!!i.continueSelling,onChange:O=>B("continueSelling",O),labelId:"continueSelling"})]})]})]})}),s.jsx(Zs,{title:"Variaes",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("label",{htmlFor:"hasVariants",className:"block text-sm font-medium text-[rgb(var(--color-brand-text-light))]",children:"Este produto tem mltiplas opes (ex: tamanhos, cores)?"}),s.jsx(vt,{checked:y,onChange:N,labelId:"hasVariants"})]}),y&&s.jsxs("div",{className:"space-y-6",children:[(i.options||[]).map((O,F)=>s.jsxs("div",{className:"p-4 bg-[rgb(var(--color-brand-gray))]/[.50] rounded-lg border border-[rgb(var(--color-brand-gray-light))]",children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsx("label",{className:"text-sm font-medium text-[rgb(var(--color-brand-text-light))]",children:"Nome da Opo"}),s.jsx("button",{type:"button",onClick:()=>A(F),className:"p-1 text-[rgb(var(--color-brand-text-dim))] hover:text-[rgb(var(--color-error))]",children:s.jsx(Tn,{className:"w-4 h-4"})})]}),s.jsx("input",{type:"text",value:O.name,onChange:te=>T(F,te.target.value),className:"w-full bg-[rgb(var(--color-brand-gray))] border-2 border-[rgb(var(--color-brand-gray-light))] rounded-md py-1 px-2 text-[rgb(var(--color-brand-text-light))] text-sm mb-3"}),s.jsx("label",{className:"text-sm font-medium text-[rgb(var(--color-brand-text-light))]",children:"Valores da Opo"}),s.jsx("div",{className:"flex flex-wrap gap-2 my-2 min-h-[2.25rem]",children:O.values.map(te=>s.jsxs("div",{className:"flex items-center gap-1 bg-[rgb(var(--color-brand-gray))] rounded-full px-3 py-1 text-sm",children:[te,s.jsx("button",{type:"button",onClick:()=>D(F,te),className:"text-[rgb(var(--color-brand-text-dim))] hover:text-[rgb(var(--color-brand-text-light))] leading-none -mr-1",children:""})]},te))}),s.jsx("div",{className:"flex gap-2",children:s.jsx("input",{type:"text",value:g[F]||"",onChange:te=>R(F,te.target.value),onKeyDown:te=>{te.key==="Enter"&&(te.preventDefault(),k(F))},placeholder:"Adicionar novo valor e pressionar Enter",className:"flex-grow bg-[rgb(var(--color-brand-gray))] border-2 border-[rgb(var(--color-brand-gray-light))] rounded-md py-1 px-2 text-[rgb(var(--color-brand-text-light))] text-sm"})})]},O.id)),s.jsx("button",{type:"button",onClick:C,className:"text-sm font-semibold text-[rgb(var(--color-brand-gold))] hover:underline",children:"+ Adicionar outra opo"}),(((pe=i.variants)==null?void 0:pe.length)||0)>0&&s.jsxs("div",{className:"mt-6 border-t border-[rgb(var(--color-brand-gray-light))] pt-6",children:[s.jsx("h4",{className:"text-md font-semibold text-[rgb(var(--color-brand-text-light))] mb-2",children:"Variantes"}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm text-left text-[rgb(var(--color-brand-text-dim))]",children:[s.jsx("thead",{className:"text-xs text-[rgb(var(--color-brand-text-dim))] uppercase bg-[rgb(var(--color-brand-dark))]",children:s.jsxs("tr",{children:[(i.options||[]).map(O=>s.jsx("th",{className:"px-4 py-2",children:O.name},O.id)),s.jsx("th",{className:"px-4 py-2",children:"Preo"}),s.jsx("th",{className:"px-4 py-2",children:"Estoque"}),s.jsx("th",{className:"px-4 py-2",children:"SKU"})]})}),s.jsx("tbody",{children:(i.variants||[]).map(O=>s.jsxs("tr",{className:"border-t border-[rgb(var(--color-brand-gray-light))]",children:[Object.entries(O.options).map(([F,te])=>s.jsx("td",{className:"px-4 py-2",children:te},F)),s.jsx("td",{className:"px-4 py-2",children:s.jsx("input",{type:"number",value:O.price,onChange:F=>I(O.id,"price",F.target.value),className:"w-24 bg-[rgb(var(--color-brand-gray))] border-2 border-[rgb(var(--color-brand-gray-light))] rounded-md py-1 px-2 text-[rgb(var(--color-brand-text-light))] text-sm"})}),s.jsx("td",{className:"px-4 py-2",children:s.jsx("input",{type:"number",value:O.inventory,onChange:F=>I(O.id,"inventory",F.target.value),className:"w-24 bg-[rgb(var(--color-brand-gray))] border-2 border-[rgb(var(--color-brand-gray-light))] rounded-md py-1 px-2 text-[rgb(var(--color-brand-text-light))] text-sm"})}),s.jsx("td",{className:"px-4 py-2",children:s.jsx("input",{type:"text",value:O.sku,onChange:F=>I(O.id,"sku",F.target.value),className:"w-24 bg-[rgb(var(--color-brand-gray))] border-2 border-[rgb(var(--color-brand-gray-light))] rounded-md py-1 px-2 text-[rgb(var(--color-brand-text-light))] text-sm"})})]},O.id))})]})})]})]})]})}),s.jsx(Zs,{title:"Envio",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("label",{htmlFor:"requiresShipping",className:"block text-sm font-medium text-[rgb(var(--color-brand-text-light))]",children:"Este produto exige envio?"}),s.jsx(vt,{checked:!!i.requiresShipping,onChange:O=>B("requiresShipping",O),labelId:"requiresShipping"})]}),i.requiresShipping&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"weight",className:"block text-sm font-medium text-[rgb(var(--color-brand-text-light))] mb-2",children:"Peso"}),s.jsx("input",{type:"number",name:"weight",id:"weight",value:i.weight,onChange:P,className:"w-full bg-[rgb(var(--color-brand-gray))] border-2 border-[rgb(var(--color-brand-gray-light))] rounded-md py-2 px-3 text-[rgb(var(--color-brand-text-light))]",step:"0.01",min:"0"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"weightUnit",className:"block text-sm font-medium text-[rgb(var(--color-brand-text-light))] mb-2",children:"Unidade de Peso"}),s.jsxs("select",{name:"weightUnit",id:"weightUnit",value:i.weightUnit,onChange:P,className:"w-full bg-[rgb(var(--color-brand-gray))] border-2 border-[rgb(var(--color-brand-gray-light))] rounded-md py-2 px-3 text-[rgb(var(--color-brand-text-light))]",children:[s.jsx("option",{value:"kg",children:"kg"}),s.jsx("option",{value:"g",children:"g"}),s.jsx("option",{value:"lb",children:"lb"}),s.jsx("option",{value:"oz",children:"oz"})]})]})]})]})})]}),s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"bg-[rgb(var(--color-brand-dark))] border border-[rgb(var(--color-brand-gray-light))] rounded-lg p-6 space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-[rgb(var(--color-brand-text-light))]",children:"Status do Produto"}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"status",className:"block text-sm font-medium text-[rgb(var(--color-brand-text-light))] mb-2",children:"Status"}),s.jsxs("select",{name:"status",id:"status",value:i.status,onChange:P,className:"w-full bg-[rgb(var(--color-brand-gray))] border-2 border-[rgb(var(--color-brand-gray-light))] rounded-md py-2 px-3 text-[rgb(var(--color-brand-text-light))]",children:[s.jsx("option",{value:"Ativo",children:"Ativo"}),s.jsx("option",{value:"Rascunho",children:"Rascunho"})]})]})]}),s.jsxs("div",{className:"bg-[rgb(var(--color-brand-dark))] border border-[rgb(var(--color-brand-gray-light))] rounded-lg p-6 space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-[rgb(var(--color-brand-text-light))]",children:"Organizao do Produto"}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"collectionId",className:"block text-sm font-medium text-[rgb(var(--color-brand-text-light))] mb-2",children:"Coleo"}),s.jsxs("select",{name:"collectionId",id:"collectionId",value:i.collectionId||"",onChange:P,className:"w-full bg-[rgb(var(--color-brand-gray))] border-2 border-[rgb(var(--color-brand-gray-light))] rounded-md py-2 px-3 text-[rgb(var(--color-brand-text-light))]",children:[s.jsx("option",{value:"",children:"Nenhuma"}),t.map(O=>s.jsx("option",{value:O.id,children:O.title},O.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"type",className:"block text-sm font-medium text-[rgb(var(--color-brand-text-light))] mb-2",children:"Tipo de Produto"}),s.jsxs("select",{name:"type",id:"type",value:i.type,onChange:P,className:"w-full bg-[rgb(var(--color-brand-gray))] border-2 border-[rgb(var(--color-brand-gray-light))] rounded-md py-2 px-3 text-[rgb(var(--color-brand-text-light))]",children:[s.jsx("option",{value:"Fsico",children:"Fsico"}),s.jsx("option",{value:"Digital",children:"Digital"}),s.jsx("option",{value:"Dropshipping",children:"Dropshipping"})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"supplier",className:"block text-sm font-medium text-[rgb(var(--color-brand-text-light))] mb-2",children:"Fornecedor (opcional)"}),s.jsx("input",{type:"text",name:"supplier",id:"supplier",value:i.supplier,onChange:P,className:"w-full bg-[rgb(var(--color-brand-gray))] border-2 border-[rgb(var(--color-brand-gray-light))] rounded-md py-2 px-3 text-[rgb(var(--color-brand-text-light))]"})]})]}),s.jsx(Zs,{title:"SEO (Otimizao para Busca)",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("button",{type:"button",onClick:K,disabled:f,className:"w-full flex items-center justify-center gap-1.5 text-sm font-semibold bg-[rgb(var(--color-brand-gold))]/[.10] text-[rgb(var(--color-brand-gold))] py-2 px-3 rounded-md hover:bg-[rgb(var(--color-brand-gold))]/[.20] transition-colors disabled:opacity-50",children:[f?s.jsx(Lo,{className:"w-4 h-4"}):s.jsx(Eg,{className:"w-4 h-4"}),f?"Gerando...":"Gerar SEO com IA"]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"seoTitle",className:"block text-sm font-medium text-[rgb(var(--color-brand-text-light))] mb-2",children:"Ttulo SEO"}),s.jsx("input",{type:"text",name:"seoTitle",id:"seoTitle",value:i.seoTitle,onChange:P,className:"w-full bg-[rgb(var(--color-brand-gray))] border-2 border-[rgb(var(--color-brand-gray-light))] rounded-md py-2 px-3 text-[rgb(var(--color-brand-text-light))]",maxLength:60}),s.jsxs("p",{className:"text-xs text-[rgb(var(--color-brand-text-dim))] mt-1",children:[((be=i.seoTitle)==null?void 0:be.length)||0," de 60 caracteres"]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"seoDescription",className:"block text-sm font-medium text-[rgb(var(--color-brand-text-light))] mb-2",children:"Meta Descrio"}),s.jsx("textarea",{name:"seoDescription",id:"seoDescription",value:i.seoDescription,onChange:P,rows:3,className:"w-full bg-[rgb(var(--color-brand-gray))] border-2 border-[rgb(var(--color-brand-gray-light))] rounded-md py-2 px-3 text-[rgb(var(--color-brand-text-light))]",maxLength:160}),s.jsxs("p",{className:"text-xs text-[rgb(var(--color-brand-text-dim))] mt-1",children:[((je=i.seoDescription)==null?void 0:je.length)||0," de 160 caracteres"]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"urlHandle",className:"block text-sm font-medium text-[rgb(var(--color-brand-text-light))] mb-2",children:"URL Handle"}),s.jsx("input",{type:"text",name:"urlHandle",id:"urlHandle",value:i.urlHandle,onChange:P,className:"w-full bg-[rgb(var(--color-brand-gray))] border-2 border-[rgb(var(--color-brand-gray-light))] rounded-md py-2 px-3 text-[rgb(var(--color-brand-text-light))]"}),s.jsx("p",{className:"text-xs text-[rgb(var(--color-brand-text-dim))] mt-1",children:"Ex: /produtos/nome-do-produto"})]})]})}),s.jsx(Zs,{title:"Informaes Adicionais",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"sku",className:"block text-sm font-medium text-[rgb(var(--color-brand-text-light))] mb-2",children:"SKU (Stock Keeping Unit)"}),s.jsx("input",{type:"text",name:"sku",id:"sku",value:i.sku,onChange:P,className:"w-full bg-[rgb(var(--color-brand-gray))] border-2 border-[rgb(var(--color-brand-gray-light))] rounded-md py-2 px-3 text-[rgb(var(--color-brand-text-light))]"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"barcode",className:"block text-sm font-medium text-[rgb(var(--color-brand-text-light))] mb-2",children:"Cdigo de Barras (ISBN, UPC, GTIN)"}),s.jsx("input",{type:"text",name:"barcode",id:"barcode",value:i.barcode,onChange:P,className:"w-full bg-[rgb(var(--color-brand-gray))] border-2 border-[rgb(var(--color-brand-gray-light))] rounded-md py-2 px-3 text-[rgb(var(--color-brand-text-light))]"})]})]})}),s.jsx(Zs,{title:"Tributao",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("label",{htmlFor:"chargeTax",className:"block text-sm font-medium text-[rgb(var(--color-brand-text-light))]",children:"Cobrar imposto sobre este produto?"}),s.jsx(vt,{checked:!!i.chargeTax,onChange:O=>B("chargeTax",O),labelId:"chargeTax"})]})})]})]})]})},oL=e=>s.jsx("svg",{...e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75v10.5a2.25 2.25 0 01-2.25 2.25h-15a2.25 2.25 0 01-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0019.5 4.5h-15a2.25 2.25 0 00-2.25 2.25m19.5 0v.243a2.25 2.25 0 01-1.07 1.916l-7.5 4.615a2.25 2.25 0 01-2.36 0L3.32 8.91a2.25 2.25 0 01-1.07-1.916V6.75"})}),kte=e=>s.jsx("svg",{...e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 002.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 01-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 00-1.091-.852H4.5A2.25 2.25 0 002.25 4.5v2.25z"})}),hN=e=>s.jsxs("svg",{...e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:[s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 10.5a3 3 0 11-6 0 3 3 0 016 0z"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1115 0z"})]}),kl=e=>s.jsxs("svg",{...e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:[s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m2.25 0H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.75 10.5h4.5m-4.5 3h4.5m-4.5 3h4.5"})]}),Yp=({icon:e,label:t,children:n})=>s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(e,{className:"w-5 h-5 text-[rgb(var(--color-brand-text-dim))] mt-1 flex-shrink-0"}),s.jsxs("div",{className:"flex-grow",children:[s.jsx("p",{className:"text-sm text-[rgb(var(--color-brand-text-dim))]",children:t}),s.jsx("p",{className:"text-[rgb(var(--color-brand-text-light))] font-medium",children:n})]})]}),Mte=({order:e,onClose:t})=>s.jsx("div",{className:"fixed inset-0 bg-[rgb(var(--color-brand-dark))]/[.70] z-50 flex items-center justify-center p-4",onClick:t,"aria-modal":"true",role:"dialog",children:s.jsxs("div",{className:"bg-[rgb(var(--color-brand-dark))] border border-[rgb(var(--color-brand-gray-light))] rounded-lg w-full max-w-lg max-h-[90vh] flex flex-col",onClick:n=>n.stopPropagation(),children:[s.jsxs("header",{className:"flex items-center justify-between p-4 border-b border-[rgb(var(--color-brand-gray-light))] flex-shrink-0",children:[s.jsxs("h2",{className:"text-xl font-bold text-[rgb(var(--color-brand-text-light))] flex items-center gap-2",children:[s.jsx(li,{className:"w-6 h-6 text-[rgb(var(--color-brand-gold))]"}),"Detalhes do Cliente"]}),s.jsx("button",{onClick:t,className:"text-[rgb(var(--color-brand-text-dim))] hover:text-[rgb(var(--color-brand-text-light))]","aria-label":"Fechar",children:s.jsx(ci,{className:"w-6 h-6"})})]}),s.jsxs("main",{className:"p-6 overflow-y-auto space-y-6",children:[s.jsxs("div",{className:"bg-[rgb(var(--color-brand-gray))]/[.50] p-4 rounded-lg space-y-4",children:[s.jsx(Yp,{icon:li,label:"Nome do Cliente",children:e.customerName}),s.jsx(Yp,{icon:oL,label:"E-mail",children:e.customerEmail}),s.jsx(Yp,{icon:kte,label:"Telefone",children:e.customerPhone}),s.jsx(Yp,{icon:kl,label:"CPF",children:e.customerCpf})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold text-[rgb(var(--color-brand-text-light))] mb-2 flex items-center gap-2",children:[s.jsx(hN,{className:"w-5 h-5 text-[rgb(var(--color-brand-gold))]"}),"Endereo de Entrega"]}),s.jsxs("div",{className:"bg-[rgb(var(--color-brand-gray))]/[.50] p-4 rounded-lg space-y-1 text-[rgb(var(--color-brand-text-light))]",children:[s.jsxs("p",{children:[e.shippingAddress.street,", ",e.shippingAddress.number]}),e.shippingAddress.complement&&s.jsx("p",{children:e.shippingAddress.complement}),s.jsx("p",{children:e.shippingAddress.neighborhood}),s.jsxs("p",{children:[e.shippingAddress.city," - ",e.shippingAddress.state]}),s.jsxs("p",{children:["CEP: ",e.shippingAddress.zipCode]})]})]})]}),s.jsx("footer",{className:"p-4 bg-[rgb(var(--color-brand-gray))]/[.50] border-t border-[rgb(var(--color-brand-gray-light))] flex-shrink-0 text-right",children:s.jsx("button",{onClick:t,className:"text-sm font-semibold bg-[rgb(var(--color-brand-gray))] text-[rgb(var(--color-brand-text-light))] py-2 px-4 rounded-md hover:bg-[rgb(var(--color-brand-gray-light))]",children:"Fechar"})})]})}),Pte=({status:e})=>{const t="px-2 py-1 text-xs font-semibold rounded-full inline-flex items-center",n={Pago:"bg-[rgb(var(--color-success))]/[0.20] text-[rgb(var(--color-success))]",Pendente:"bg-[rgb(var(--color-warning))]/[0.20] text-[rgb(var(--color-warning))]",Reembolsado:"bg-[rgb(var(--color-brand-gray-light))]/[0.20] text-[rgb(var(--color-brand-text-dim))]","Parcialmente Pago":"bg-[rgb(var(--color-info))]/[0.20] text-[rgb(var(--color-info))]",Cancelado:"bg-[rgb(var(--color-error))]/[0.20] text-[rgb(var(--color-error))]"};return s.jsx("span",{className:`${t} ${n[e]}`,children:e})},Rte=({status:e})=>{const t="px-2 py-1 text-xs font-semibold rounded-full inline-flex items-center",n={Realizado:"bg-[rgb(var(--color-success))]/[0.20] text-[rgb(var(--color-success))]","No Realizado":"bg-[rgb(var(--color-warning))]/[0.20] text-[rgb(var(--color-warning))]",Parcial:"bg-[rgb(var(--color-info))]/[0.20] text-[rgb(var(--color-info))]"};return s.jsx("span",{className:`${t} ${n[e]}`,children:e})},Ite=({orders:e,onNavigate:t})=>{const[n,r]=E.useState(""),[o,i]=E.useState(null),a=E.useMemo(()=>e.filter(l=>l.id.toLowerCase().includes(n.toLowerCase())||l.customerName.toLowerCase().includes(n.toLowerCase())).sort((l,u)=>new Date(u.date).getTime()-new Date(l.date).getTime()),[e,n]);return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"bg-[rgb(var(--color-brand-dark))] border border-[rgb(var(--color-brand-gray-light))] rounded-lg",children:[s.jsx("div",{className:"p-4 border-b border-[rgb(var(--color-brand-gray-light))]",children:s.jsxs("div",{className:"relative max-w-lg",children:[s.jsx("input",{type:"text",placeholder:"Buscar por N do pedido ou cliente",value:n,onChange:l=>r(l.target.value),className:"w-full bg-[rgb(var(--color-brand-gray))] border-2 border-[rgb(var(--color-brand-gray-light))] rounded-md py-2 pl-10 pr-4 text-[rgb(var(--color-brand-text-light))]"}),s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(zo,{className:"h-5 w-5 text-[rgb(var(--color-brand-text-dim))]"})})]})}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm text-left text-[rgb(var(--color-brand-text-dim))]",children:[s.jsx("thead",{className:"text-xs text-[rgb(var(--color-brand-text-dim))] uppercase bg-[rgb(var(--color-brand-dark))]",children:s.jsxs("tr",{children:[s.jsx("th",{scope:"col",className:"px-6 py-3",children:"Pedido"}),s.jsx("th",{scope:"col",className:"px-6 py-3",children:"Data"}),s.jsx("th",{scope:"col",className:"px-6 py-3",children:"Cliente"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-right",children:"Total"}),s.jsx("th",{scope:"col",className:"px-6 py-3",children:"Pagamento"}),s.jsx("th",{scope:"col",className:"px-6 py-3",children:"Status"})]})}),s.jsx("tbody",{children:a.map(l=>s.jsxs("tr",{className:"border-b border-[rgb(var(--color-brand-gray-light))] hover:bg-[rgb(var(--color-brand-gray))]/[.50] cursor-pointer",onClick:()=>t("orderDetail",l),children:[s.jsx("td",{className:"px-6 py-4 font-medium text-[rgb(var(--color-brand-gold))]",children:l.id}),s.jsx("td",{className:"px-6 py-4",children:new Date(l.date).toLocaleDateString("pt-BR")}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("button",{className:"text-[rgb(var(--color-brand-text-light))] hover:underline",onClick:u=>{u.stopPropagation(),i(l)},children:l.customerName})}),s.jsx("td",{className:"px-6 py-4 text-right",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:l.currency}).format(l.total)}),s.jsx("td",{className:"px-6 py-4",children:s.jsx(Pte,{status:l.paymentStatus})}),s.jsx("td",{className:"px-6 py-4",children:s.jsx(Rte,{status:l.fulfillmentStatus})})]},l.id))})]})})]}),o&&s.jsx(Mte,{order:o,onClose:()=>i(null)})]})},pN=e=>s.jsx("svg",{...e,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:s.jsx("path",{d:"M16.75 13.96c.25.13.42.3.42.51v.12c0 .24-.1.45-.28.6l-1.03.88c-.53.45-1.2.68-1.87.68-.6 0-1.16-.17-1.65-.49-.57-.38-.97-.84-1.2-1.35-.3-.6-.46-1.25-.46-1.95 0-.7.15-1.37.46-1.98s.7-1.12 1.18-1.54c.5-.42 1.05-.73 1.64-.93.52-.17 1.04-.26 1.54-.26.6 0 1.15.12 1.64.35.5.23.9.56 1.2 1 .3.42.5.9.6 1.42.08.5.13 1 .13 1.51 0 .19-.01.38-.03.55zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10c1.73 0 3.36-.44 4.78-1.22l2.96 1.05-1.05-2.96C19.56 15.36 20 13.73 20 12c0-5.52-4.48-10-8-10zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"})}),Dte=({order:e,onUpdateOrder:t,onBack:n})=>{const[r,o]=E.useState(e.trackingCode||""),[i,a]=E.useState(!1),[l,u]=E.useState(e.notes||""),f=(y,N)=>{const C=y==="payment"?{paymentStatus:N}:{fulfillmentStatus:N};t(e.id,C)},h=()=>{t(e.id,{trackingCode:r}),a(!1)},p=()=>{t(e.id,{notes:l}),alert("Observao salva!")},g=`Ol ${e.customerName}, seu pedido ${e.id} foi enviado! O cdigo de rastreamento : ${r}`,x=`https://wa.me/55${e.customerPhone.replace(/\D/g,"")}?text=${encodeURIComponent(g)}`;return s.jsxs("div",{children:[s.jsx("button",{onClick:n,className:"text-sm text-[rgb(var(--color-brand-text-dim))] hover:text-[rgb(var(--color-brand-gold))] mb-6",children:" Voltar para Pedidos"}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[s.jsxs("div",{className:"bg-[rgb(var(--color-brand-dark))] border border-[rgb(var(--color-brand-gray-light))] rounded-lg p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-[rgb(var(--color-brand-text-light))] mb-4",children:"Itens do Pedido"}),s.jsx("div",{className:"divide-y divide-[rgb(var(--color-brand-gray-light))]",children:e.items.map((y,N)=>s.jsxs("div",{className:"flex items-center justify-between py-4",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-16 h-16 bg-[rgb(var(--color-brand-gray))] rounded-md flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-[rgb(var(--color-brand-text-light))]",children:y.productName}),y.sku&&s.jsxs("p",{className:"text-xs text-[rgb(var(--color-brand-text-dim))] font-mono",children:["SKU: ",y.sku]}),y.variantText&&s.jsx("p",{className:"text-sm text-[rgb(var(--color-brand-text-dim))]",children:y.variantText}),s.jsxs("p",{className:"text-sm text-[rgb(var(--color-brand-text-dim))]",children:[new Intl.NumberFormat("pt-BR",{style:"currency",currency:e.currency}).format(y.price)," x ",y.quantity]})]})]}),s.jsx("p",{className:"font-semibold text-[rgb(var(--color-brand-text-light))]",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:e.currency}).format(y.price*y.quantity)})]},N))}),s.jsx("div",{className:"pt-4 mt-4 border-t border-[rgb(var(--color-brand-gray-light))] text-right",children:s.jsxs("p",{className:"text-[rgb(var(--color-brand-text-dim))]",children:["Total: ",s.jsx("span",{className:"text-xl text-[rgb(var(--color-brand-text-light))] font-bold",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:e.currency}).format(e.total)})]})})]}),s.jsxs("div",{className:"bg-[rgb(var(--color-brand-dark))] border border-[rgb(var(--color-brand-gray-light))] rounded-lg p-6",children:[s.jsxs("h3",{className:"text-lg font-semibold text-[rgb(var(--color-brand-text-light))] mb-4 flex items-center gap-2",children:[s.jsx(kl,{className:"w-6 h-6 text-[rgb(var(--color-brand-gold))]"})," Observaes do Pedido"]}),s.jsx("textarea",{value:l,onChange:y=>u(y.target.value),className:"w-full bg-[rgb(var(--color-brand-gray))] border-2 border-[rgb(var(--color-brand-gray-light))] rounded-md py-2 px-3 text-[rgb(var(--color-brand-text-light))]",placeholder:"Adicione observaes internas sobre este pedido...",rows:4}),s.jsx("div",{className:"text-right mt-2",children:s.jsx("button",{onClick:p,disabled:l===(e.notes||""),className:"bg-[rgb(var(--color-brand-gold))] text-[rgb(var(--color-brand-dark))] font-bold py-2 px-4 rounded-md hover:bg-yellow-400 disabled:opacity-50 disabled:cursor-not-allowed",children:"Salvar Observao"})})]})]}),s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"bg-[rgb(var(--color-brand-dark))] border border-[rgb(var(--color-brand-gray-light))] rounded-lg p-6 space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-[rgb(var(--color-brand-text-dim))]",children:"Status do Pagamento"}),s.jsxs("select",{value:e.paymentStatus,onChange:y=>f("payment",y.target.value),className:"w-full mt-1 bg-[rgb(var(--color-brand-gray))] border-2 border-[rgb(var(--color-brand-gray-light))] rounded-md py-2 px-3 text-[rgb(var(--color-brand-text-light))]",children:[s.jsx("option",{children:"Pendente"}),s.jsx("option",{children:"Pago"}),s.jsx("option",{children:"Cancelado"}),s.jsx("option",{children:"Reembolsado"}),s.jsx("option",{children:"Parcialmente Pago"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-[rgb(var(--color-brand-text-dim))]",children:"Status do Pedido"}),s.jsxs("select",{value:e.fulfillmentStatus,onChange:y=>f("fulfillment",y.target.value),className:"w-full mt-1 bg-[rgb(var(--color-brand-gray))] border-2 border-[rgb(var(--color-brand-gray-light))] rounded-md py-2 px-3 text-[rgb(var(--color-brand-text-light))]",children:[s.jsx("option",{children:"No Realizado"}),s.jsx("option",{children:"Realizado"}),s.jsx("option",{children:"Parcial"})]})]})]}),s.jsxs("div",{className:"bg-[rgb(var(--color-brand-dark))] border border-[rgb(var(--color-brand-gray-light))] rounded-lg p-6",children:[s.jsxs("h3",{className:"text-lg font-semibold text-[rgb(var(--color-brand-text-light))] mb-4 flex items-center gap-2",children:[s.jsx(li,{className:"w-6 h-6 text-[rgb(var(--color-brand-gold))]"})," Cliente"]}),s.jsx("p",{className:"font-bold text-[rgb(var(--color-brand-gold))] text-base",children:e.customerName}),s.jsx("p",{className:"text-sm text-[rgb(var(--color-brand-text-dim))]",children:e.customerEmail}),s.jsx("p",{className:"text-sm text-[rgb(var(--color-brand-text-dim))]",children:e.customerPhone}),s.jsxs("p",{className:"text-sm text-[rgb(var(--color-brand-text-dim))] mt-2 flex items-center gap-2",children:[s.jsx(kl,{className:"w-4 h-4 text-[rgb(var(--color-brand-text-dim))]"})," CPF: ",e.customerCpf]})]}),s.jsxs("div",{className:"bg-[rgb(var(--color-brand-dark))] border border-[rgb(var(--color-brand-gray-light))] rounded-lg p-6",children:[s.jsxs("h3",{className:"text-lg font-semibold text-[rgb(var(--color-brand-text-light))] mb-4 flex items-center gap-2",children:[s.jsx(hN,{className:"w-6 h-6 text-[rgb(var(--color-brand-gold))]"})," Endereo de Entrega"]}),s.jsxs("address",{className:"text-sm not-italic text-[rgb(var(--color-brand-text-dim))] space-y-1",children:[s.jsxs("p",{children:[e.shippingAddress.street,", ",e.shippingAddress.number]}),e.shippingAddress.complement&&s.jsx("p",{children:e.shippingAddress.complement}),s.jsx("p",{children:e.shippingAddress.neighborhood}),s.jsxs("p",{children:[e.shippingAddress.city," - ",e.shippingAddress.state]}),s.jsxs("p",{children:["CEP: ",e.shippingAddress.zipCode]})]})]}),s.jsxs("div",{className:"bg-[rgb(var(--color-brand-dark))] border border-[rgb(var(--color-brand-gray-light))] rounded-lg p-6",children:[s.jsxs("h3",{className:"text-lg font-semibold text-[rgb(var(--color-brand-text-light))] mb-4 flex items-center gap-2",children:[s.jsx(wx,{className:"w-6 h-6 text-[rgb(var(--color-brand-gold))]"})," Entrega e Rastreamento"]}),e.shippingMethod&&s.jsxs("div",{className:"mb-4",children:[s.jsx("p",{className:"text-sm text-[rgb(var(--color-brand-text-dim))]",children:"Mtodo de Envio"}),s.jsx("p",{className:"font-semibold text-[rgb(var(--color-brand-text-light))]",children:e.shippingMethod})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm text-[rgb(var(--color-brand-text-dim))]",children:"Cdigo de Rastreio"}),i||!e.trackingCode?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"text",value:r,onChange:y=>o(y.target.value),className:"w-full bg-[rgb(var(--color-brand-gray))] border-2 border-[rgb(var(--color-brand-gray-light))] rounded-md py-2 px-3 text-[rgb(var(--color-brand-text-light))]",placeholder:"Insira o cdigo"}),s.jsx("button",{onClick:h,className:"bg-[rgb(var(--color-brand-gold))] text-[rgb(var(--color-brand-dark))] font-bold py-2 px-4 rounded-md hover:bg-yellow-400",children:"Salvar"}),i&&s.jsx("button",{onClick:()=>a(!1),className:"bg-[rgb(var(--color-brand-gray))] text-[rgb(var(--color-brand-text-light))] font-semibold py-2 px-4 rounded-md",children:"Cancelar"})]}):s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("p",{className:"font-mono text-[rgb(var(--color-brand-text-light))] bg-[rgb(var(--color-brand-gray))] px-3 py-2 rounded-md",children:e.trackingCode}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("a",{href:x,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 text-sm text-[rgb(var(--color-success))] hover:text-[rgb(var(--color-success))]/[.80]",title:"Enviar rastreio por WhatsApp",children:s.jsx(pN,{className:"w-5 h-5"})}),s.jsx("button",{onClick:()=>a(!0),className:"text-sm text-[rgb(var(--color-brand-gold))] hover:underline",children:"Editar"})]})]})]})]})]})]})]})},_te=({coupons:e,onNavigate:t,onCouponDelete:n})=>{const[r,o]=E.useState(""),i=E.useMemo(()=>e.filter(a=>a.code.toLowerCase().includes(r.toLowerCase())),[e,r]);return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[s.jsx("h1",{className:"text-2xl font-bold text-[rgb(var(--color-brand-text-light))]",children:"Cupons de Desconto"}),s.jsxs("button",{onClick:()=>t("addEditCoupon"),className:"flex items-center gap-2 text-sm font-bold bg-[rgb(var(--color-brand-gold))] text-[rgb(var(--color-brand-dark))] py-2 px-4 rounded-md hover:bg-yellow-400 transition-colors",children:[s.jsx(pC,{className:"w-5 h-5"}),"Criar cupom"]})]}),s.jsxs("div",{className:"bg-[rgb(var(--color-brand-dark))] border border-[rgb(var(--color-brand-gray-light))] rounded-lg",children:[s.jsx("div",{className:"p-4 border-b border-[rgb(var(--color-brand-gray-light))]",children:s.jsxs("div",{className:"relative max-w-lg",children:[s.jsx("input",{type:"text",placeholder:"Buscar por cdigo do cupom...",value:r,onChange:a=>o(a.target.value),className:"w-full bg-[rgb(var(--color-brand-gray))] border-2 border-[rgb(var(--color-brand-gray-light))] rounded-md py-2 px-4 text-[rgb(var(--color-brand-text-light))] placeholder-[rgb(var(--color-brand-text-dim))] focus:outline-none focus:border-[rgb(var(--color-brand-gold))]"}),s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(zo,{className:"h-5 w-5 text-[rgb(var(--color-brand-text-dim))]"})})]})}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm text-left text-[rgb(var(--color-brand-text-dim))]",children:[s.jsx("thead",{className:"text-xs text-[rgb(var(--color-brand-text-dim))] uppercase bg-[rgb(var(--color-brand-dark))]",children:s.jsxs("tr",{children:[s.jsx("th",{scope:"col",className:"px-6 py-3",children:"Cdigo"}),s.jsx("th",{scope:"col",className:"px-6 py-3",children:"Tipo"}),s.jsx("th",{scope:"col",className:"px-6 py-3",children:"Valor"}),s.jsx("th",{scope:"col",className:"px-6 py-3",children:"Utilizaes"}),s.jsx("th",{scope:"col",className:"px-6 py-3",children:"Status"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-center",children:"Aes"})]})}),s.jsx("tbody",{children:i.map(a=>s.jsxs("tr",{className:"border-b border-[rgb(var(--color-brand-gray-light))] hover:bg-[rgb(var(--color-brand-gray))]/[.50]",children:[s.jsxs("td",{className:"px-6 py-4",children:[s.jsx("button",{onClick:()=>t("addEditCoupon",a),className:"font-medium text-[rgb(var(--color-brand-gold))] hover:underline",children:a.code}),a.description&&s.jsx("p",{className:"text-xs text-[rgb(var(--color-brand-text-dim))]",children:a.description})]}),s.jsx("td",{className:"px-6 py-4",children:a.type}),s.jsx("td",{className:"px-6 py-4 text-[rgb(var(--color-brand-text-light))]",children:a.type==="Porcentagem"?`${a.value}%`:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(a.value)}),s.jsxs("td",{className:"px-6 py-4",children:[a.usageCount," / ",a.usageLimit??""]}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${a.status==="Ativo"?"bg-green-500/20 text-green-400":"bg-gray-500/20 text-gray-400"}`,children:a.status})}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex items-center justify-center gap-4",children:[s.jsx("button",{onClick:()=>t("addEditCoupon",a),className:"text-[rgb(var(--color-brand-text-dim))] hover:text-[rgb(var(--color-brand-gold))]",title:"Editar",children:s.jsx(Nx,{className:"w-5 h-5"})}),s.jsx("button",{onClick:()=>n(a.id),className:"text-[rgb(var(--color-brand-text-dim))] hover:text-[rgb(var(--color-error))]",title:"Excluir",children:s.jsx(Tn,{className:"w-5 h-5"})})]})})]},a.id))})]})})]})]})},Ote=({coupon:e,onSave:t,onCancel:n})=>{var h,p;const[r,o]=E.useState({code:"",description:"",type:"Porcentagem",value:10,status:"Ativo",usageLimit:null,startDate:new Date().toISOString().split("T")[0],endDate:"",...e}),i=E.useRef(null),a=g=>{const{name:x,value:y,type:N}=g.target,C=N==="checkbox",A=g.target.checked;o(x==="unlimitedUses"?T=>({...T,usageLimit:A?null:T.usageLimit??100}):x==="noEndDate"?T=>({...T,endDate:A?null:T.endDate??""}):T=>({...T,[x]:C?A:y}))},l=()=>{const g=Math.random().toString(36).substring(2,10).toUpperCase();o(x=>({...x,code:g}))},u=g=>{var x;if(g.preventDefault(),!((x=r.code)!=null&&x.trim())){alert("Por favor, insira um cdigo para o cupom.");return}if(r.value===void 0||r.value<=0){alert("O valor do desconto deve ser maior que zero.");return}t(r)},f=()=>{var g;(g=i.current)==null||g.requestSubmit()};return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"pb-6 mb-6 flex justify-end items-center border-b border-gray-800",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("button",{type:"button",onClick:n,className:"text-sm font-semibold bg-gray-700 text-white py-2 px-4 rounded-md hover:bg-gray-600 transition-colors",children:"Descartar"}),s.jsx("button",{type:"button",onClick:f,className:"text-sm font-bold bg-yellow-500 text-black py-2 px-4 rounded-md hover:bg-yellow-400 transition-colors",children:"Salvar Cupom"})]})}),s.jsx("form",{onSubmit:u,ref:i,className:"space-y-8",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[s.jsx("div",{className:"bg-black border border-gray-800 rounded-lg p-6",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"code",className:"block text-sm font-medium text-white mb-2",children:"Cdigo do Cupom"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"text",name:"code",id:"code",value:r.code,onChange:a,className:"w-full bg-gray-800 border-2 border-gray-700 rounded-md py-2 px-3 text-white focus:outline-none focus:border-yellow-500"}),s.jsx("button",{type:"button",onClick:l,className:"text-sm font-semibold bg-gray-700 text-white py-2 px-4 rounded-md hover:bg-gray-600",children:"Gerar"})]})]}),s.jsx("div",{}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-white mb-2",children:"Descrio (opcional)"}),s.jsx("textarea",{name:"description",id:"description",value:r.description,onChange:a,rows:3,className:"w-full bg-gray-800 border-2 border-gray-700 rounded-md py-2 px-3 text-white focus:outline-none focus:border-yellow-500",placeholder:"Para uso interno"})]})]})}),s.jsxs("div",{className:"bg-black border border-gray-800 rounded-lg p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Tipo e Valor"}),s.jsxs("div",{className:"flex gap-8 mb-4",children:[s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"radio",name:"type",value:"Porcentagem",checked:r.type==="Porcentagem",onChange:a,className:"h-4 w-4 bg-gray-700 border-gray-600 text-yellow-500 focus:ring-yellow-600"}),s.jsx("span",{className:"ml-2 text-white",children:"Porcentagem"})]}),s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"radio",name:"type",value:"Valor Fixo",checked:r.type==="Valor Fixo",onChange:a,className:"h-4 w-4 bg-gray-700 border-gray-600 text-yellow-500 focus:ring-yellow-600"}),s.jsx("span",{className:"ml-2 text-white",children:"Valor Fixo"})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"value",className:"block text-sm font-medium text-white mb-2",children:"Valor do Desconto"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"number",name:"value",id:"value",value:r.value,onChange:a,className:"w-full bg-gray-800 border-2 border-gray-700 rounded-md py-2 px-3 text-white pl-8",min:"0",step:"0.01"}),s.jsx("span",{className:"absolute inset-y-0 left-0 pl-3 flex items-center text-gray-400",children:r.type==="Porcentagem"?"%":"R$"})]})]})]}),s.jsxs("div",{className:"bg-black border border-gray-800 rounded-lg p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Limites de Utilizao"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",id:"unlimitedUses",name:"unlimitedUses",checked:r.usageLimit===null,onChange:a,className:"h-4 w-4 rounded bg-gray-700 border-gray-600 text-yellow-500 focus:ring-yellow-600"}),s.jsx("label",{htmlFor:"unlimitedUses",className:"ml-2 block text-sm text-gray-300",children:"Sem limite de utilizaes"})]}),r.usageLimit!==null&&s.jsxs("div",{children:[s.jsx("label",{htmlFor:"usageLimit",className:"block text-sm text-gray-400 mb-1",children:"Nmero total de utilizaes"}),s.jsx("input",{type:"number",name:"usageLimit",id:"usageLimit",value:r.usageLimit??"",onChange:a,className:"w-full bg-gray-800 border-2 border-gray-700 rounded-md py-2 px-3 text-white"})]})]})]})]}),s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"bg-black border border-gray-800 rounded-lg p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Status"}),s.jsxs("select",{name:"status",id:"status",value:r.status,onChange:a,className:"w-full bg-gray-800 border-2 border-gray-700 rounded-md py-2 px-3 text-white",children:[s.jsx("option",{value:"Ativo",children:"Ativo"}),s.jsx("option",{value:"Inativo",children:"Inativo"})]}),s.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Cupons inativos no podem ser usados no checkout."})]}),s.jsxs("div",{className:"bg-black border border-gray-800 rounded-lg p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Perodo de Atividade"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"startDate",className:"block text-sm text-gray-400 mb-1",children:"Data de Incio"}),s.jsx("input",{type:"date",name:"startDate",id:"startDate",value:(h=r.startDate)==null?void 0:h.split("T")[0],onChange:a,className:"w-full bg-gray-800 border-2 border-gray-700 rounded-md py-2 px-3 text-white"})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center mb-1",children:[s.jsx("input",{type:"checkbox",id:"noEndDate",name:"noEndDate",checked:r.endDate===null,onChange:a,className:"h-4 w-4 rounded bg-gray-700 border-gray-600 text-yellow-500 focus:ring-yellow-600"}),s.jsx("label",{htmlFor:"noEndDate",className:"ml-2 block text-sm text-gray-300",children:"Sem data de fim"})]}),r.endDate!==null&&s.jsx("input",{type:"date",name:"endDate",id:"endDate",value:(p=r.endDate)==null?void 0:p.split("T")[0],onChange:a,className:"w-full bg-gray-800 border-2 border-gray-700 rounded-md py-2 px-3 text-white"})]})]})]})]})]})})]})},Xp=({title:e,children:t,defaultOpen:n=!1})=>{const[r,o]=E.useState(n);return s.jsxs("div",{className:"bg-[rgb(var(--color-brand-dark))] border border-[rgb(var(--color-brand-gray-light))] rounded-lg",children:[s.jsxs("button",{onClick:()=>o(!r),className:"w-full flex justify-between items-center p-4 text-left font-semibold text-[rgb(var(--color-brand-text-light))]",children:[s.jsx("span",{children:e}),s.jsx("span",{className:`transform transition-transform duration-200 ${r?"rotate-180":""}`,children:""})]}),r&&s.jsx("div",{className:"p-4 border-t border-[rgb(var(--color-brand-gray-light))]",children:t})]})},Lte=({customization:e,onUpdate:t,onNavigate:n})=>{const[r,o]=E.useState(e),i=E.useRef(null),a=JSON.stringify(r)!==JSON.stringify(e);E.useEffect(()=>{o(e)},[e]),E.useEffect(()=>{var C;(C=i.current)!=null&&C.contentWindow&&i.current.contentWindow.postMessage({type:"LIVE_PREVIEW_UPDATE",payload:r},"*")},[r]);const l=()=>{t(r)},u=()=>{o(e)},f=(C,A)=>{o(T=>({...T,[C]:A}))},h=(C,A)=>{o(T=>({...T,hero:{...T.hero,[C]:A}}))},p=(C,A,T)=>{const k=[...r.carouselBanners];k[C]={...k[C],[A]:T},o(D=>({...D,carouselBanners:k}))},g=()=>{const C={id:`carousel-${Date.now()}`,desktopImage:"",mobileImage:"",link:"#"};o(A=>({...A,carouselBanners:[...A.carouselBanners,C]}))},x=C=>{o(A=>({...A,carouselBanners:A.carouselBanners.filter(T=>T.id!==C)}))},y=(C,A)=>{o(T=>({...T,midPageBanner:{...T.midPageBanner,[C]:A}}))},N=(C,A)=>{o(T=>({...T,footer:{...T.footer,[C]:A}}))};return s.jsxs("div",{className:"flex h-[calc(100vh-5rem)]",children:[s.jsxs("div",{className:"w-96 flex-shrink-0 bg-[rgb(var(--color-brand-dark))] flex flex-col border-r border-[rgb(var(--color-brand-gray-light))]",children:[s.jsxs("header",{className:"p-4 border-b border-[rgb(var(--color-brand-gray-light))] flex-shrink-0",children:[s.jsx("h2",{className:"text-xl font-bold",children:"Editor de Vitrine"}),s.jsx("p",{className:"text-sm text-[rgb(var(--color-brand-text-dim))]",children:"Personalize a aparncia da sua loja."})]}),s.jsxs("main",{className:"flex-grow p-4 overflow-y-auto space-y-4",children:[s.jsx(Xp,{title:"Identidade Visual",defaultOpen:!0,children:s.jsxs("div",{className:"space-y-4",children:[s.jsx(Cr,{currentImage:r.logoUrl,onImageUpload:C=>f("logoUrl",C),placeholderText:"Logo da Loja",aspectRatio:"square"}),s.jsx(Cr,{currentImage:r.faviconUrl,onImageUpload:C=>f("faviconUrl",C),placeholderText:"cone do Site (Favicon)",aspectRatio:"square"})]})}),s.jsx(Xp,{title:"Pgina Inicial: Sees",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-[rgb(var(--color-brand-gold))] mb-2",children:"Banner Principal (Hero)"}),s.jsx("input",{value:r.hero.title,onChange:C=>h("title",C.target.value),placeholder:"Ttulo",className:"w-full bg-[rgb(var(--color-brand-gray))] border border-[rgb(var(--color-brand-gray-light))] rounded-md p-2 text-sm mb-2"}),s.jsx("input",{value:r.hero.subtitle,onChange:C=>h("subtitle",C.target.value),placeholder:"Subttulo",className:"w-full bg-[rgb(var(--color-brand-gray))] border border-[rgb(var(--color-brand-gray-light))] rounded-md p-2 text-sm mb-2"}),s.jsx(Cr,{currentImage:r.hero.desktopImage,onImageUpload:C=>h("desktopImage",C),placeholderText:"Imagem Desktop"})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-[rgb(var(--color-brand-gold))] mb-2",children:"Carrossel de Banners"}),s.jsxs("div",{className:"space-y-2",children:[r.carouselBanners.map((C,A)=>s.jsxs("div",{className:"bg-[rgb(var(--color-brand-gray))] p-2 rounded-md",children:[s.jsxs("div",{className:"flex justify-between items-center mb-1",children:[s.jsxs("p",{className:"text-xs text-[rgb(var(--color-brand-text-dim))]",children:["Banner ",A+1]}),s.jsx("button",{onClick:()=>x(C.id),children:s.jsx(Tn,{className:"w-4 h-4 text-red-500"})})]}),s.jsx(Cr,{currentImage:C.desktopImage,onImageUpload:T=>p(A,"desktopImage",T),placeholderText:"Imagem do Banner"})]},C.id)),s.jsx("button",{onClick:g,className:"text-sm w-full p-2 bg-[rgb(var(--color-brand-gray))] rounded-md hover:bg-[rgb(var(--color-brand-gray-light))]",children:"+ Adicionar Banner"})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-[rgb(var(--color-brand-gold))] mb-2",children:"Banner do Meio da Pgina"}),s.jsx(Cr,{currentImage:r.midPageBanner.desktopImage,onImageUpload:C=>y("desktopImage",C),placeholderText:"Imagem do Banner"})]})]})}),s.jsx(Xp,{title:"Rodap",children:s.jsxs("div",{className:"space-y-4",children:[s.jsx("label",{className:"text-sm text-[rgb(var(--color-brand-text-dim))]",children:"Descrio"}),s.jsx("input",{value:r.footer.description,onChange:C=>N("description",C.target.value),className:"w-full bg-[rgb(var(--color-brand-gray))] border border-[rgb(var(--color-brand-gray-light))] rounded-md p-2 text-sm"}),s.jsx("label",{className:"text-sm text-[rgb(var(--color-brand-text-dim))]",children:"CNPJ"}),s.jsx("input",{value:r.footer.cnpj,onChange:C=>N("cnpj",C.target.value),className:"w-full bg-[rgb(var(--color-brand-gray))] border border-[rgb(var(--color-brand-gray-light))] rounded-md p-2 text-sm"})]})}),s.jsx(Xp,{title:"CSS Personalizado",children:s.jsx("textarea",{value:r.customCss||"",onChange:C=>f("customCss",C.target.value),rows:10,className:"w-full bg-[rgb(var(--color-brand-dark))] border border-[rgb(var(--color-brand-gray-light))] rounded-md p-2 text-sm font-mono"})})]}),s.jsxs("footer",{className:"p-4 border-t border-[rgb(var(--color-brand-gray-light))] flex-shrink-0",children:[a&&s.jsx("p",{className:"text-xs text-center text-[rgb(var(--color-brand-gold))] mb-2",children:"Voc tem alteraes no salvas."}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("button",{onClick:u,disabled:!a,className:"flex-1 text-sm font-semibold bg-[rgb(var(--color-brand-gray))] py-2 px-4 rounded-md disabled:opacity-50",children:"Descartar"}),s.jsx("button",{onClick:l,disabled:!a,className:"flex-1 text-sm font-bold bg-[rgb(var(--color-brand-gold))] text-[rgb(var(--color-brand-dark))] py-2 px-4 rounded-md disabled:opacity-50",children:"Salvar"})]})]})]}),s.jsx("div",{className:"flex-1 bg-black p-4",children:s.jsx("div",{className:"w-full h-full bg-white rounded-lg shadow-inner overflow-hidden",children:s.jsx("iframe",{ref:i,src:window.location.href,title:"Live Preview",className:"w-full h-full border-0"})})})]})},a3=e=>s.jsxs("svg",{...e,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",fill:"currentColor",children:[s.jsx("path",{fill:"#FFC107",d:"M43.611 20.083H42V20H24v8h11.303c-1.649 4.657-6.08 8-11.303 8c-6.627 0-12-5.373-12-12s5.373-12 12-12c3.059 0 5.842 1.154 7.961 3.039l5.657-5.657C34.046 6.053 29.268 4 24 4C12.955 4 4 12.955 4 24s8.955 20 20 20s20-8.955 20-20c0-1.341-.138-2.65-.389-3.917z"}),s.jsx("path",{fill:"#FF3D00",d:"M6.306 14.691l6.571 4.819C14.655 15.108 18.961 12 24 12c3.059 0 5.842 1.154 7.961 3.039l5.657-5.657C34.046 6.053 29.268 4 24 4C16.318 4 9.656 8.337 6.306 14.691z"}),s.jsx("path",{fill:"#4CAF50",d:"M24 44c5.166 0 9.86-1.977 13.409-5.192l-6.19-5.238A11.91 11.91 0 0 1 24 36c-5.222 0-9.653-3.356-11.303-7.918l-6.522 5.025A20.02 20.02 0 0 0 24 44z"}),s.jsx("path",{fill:"#1976D2",d:"M43.611 20.083H42V20H24v8h11.303c-.792 2.237-2.231 4.166-4.087 5.571l6.19 5.238C42.012 36.417 44 30.556 44 24c0-1.341-.138-2.65-.389-3.917z"})]}),Bte=e=>s.jsx("svg",{...e,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:s.jsx("path",{d:"M12.525.02c1.31-.02 2.61-.01 3.91-.02.08 1.53.63 3.09 1.75 4.17 1.12 1.11 2.7 1.62 4.24 1.79v4.03c-1.44-.05-2.89-.35-4.2-.97-.57-.26-1.1-.59-1.62-.93-.01 2.92.01 5.84-.02 8.75-.08 1.4-.54 2.79-1.35 3.94-1.31 1.92-3.58 3.17-5.91 3.21-2.43.03-4.83-1-6.7-2.9-1.85-1.85-2.75-4.23-2.68-6.75.02-1.31.02-2.62 0-3.93.62-.02 1.24-.01 1.87-.01.04 1.4.52 2.83 1.37 3.93.85 1.1 2.11 1.76 3.48 1.76.01 0 .02.01.02.01.2 0 .4-.01.59-.02 1.15-.06 2.23-.62 2.99-1.52.75-.9 1.15-2.02 1.15-3.14-.02-2.89-.02-5.78-.01-8.67-.04-1.28-.58-2.55-1.48-3.55C14.28 2.3 13.43 1.17 12.525.02z"})}),Ute=e=>s.jsx("svg",{...e,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:s.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12c0 4.28 2.81 7.9 6.6 9.35.03-.22.05-.5.08-.72.03-.2.18-1.18.27-1.58.1-.42.6-2.58.6-2.58s-.15-.3-.15-.75c0-.7.42-1.22.95-1.22.45 0 .66.33.66.73 0 .45-.28 1.12-.43 1.75-.12.52.26 1 .78 1 1.35 0 2.38-1.7 2.38-3.9 0-1.95-1.38-3.3-3.25-3.3-2.18 0-3.45 1.62-3.45 3.2 0 .4.15.85.35 1.1.05.08.05.15 0 .23-.08.26-.28.85-.33.95-.03.1-.1.13-.23.05-1.02-.5-1.65-2.05-1.65-3.3 0-2.72 2.2-5.2 6.15-5.2 3.22 0 5.55 2.28 5.55 5 0 3.23-1.88 5.58-4.5 5.58-.9 0-1.75-.48-2.05-1.05 0 0-.45 1.78-.55 2.2-.28 1.1-.98 2.32-1.42 3.12 1.1.32 2.25.5 3.45.5 5.52 0 10-4.48 10-10S17.52 2 12 2z"})}),zte=e=>s.jsx("svg",{...e,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:s.jsx("path",{d:"M11.235 7.633l-3.328 3.328a2.12 2.12 0 11-2.998-2.998l3.328-3.328a2.12 2.12 0 112.998 2.998zm1.53 1.53l-3.328 3.328a2.12 2.12 0 11-2.998-2.998l3.328-3.328a2.12 2.12 0 112.998 2.998zm-1.53 1.531l-3.328 3.328a2.12 2.12 0 11-2.998-2.998l3.328-3.328a2.12 2.12 0 112.998 2.998zm5.33-4.59l3.328-3.328a2.12 2.12 0 10-2.998-2.998l-3.328 3.328a2.12 2.12 0 102.998 2.998zm-1.53 1.53l3.328-3.328a2.12 2.12 0 10-2.998-2.998l-3.328 3.328a2.12 2.12 0 102.998 2.998zm1.53 1.531l3.328-3.328a2.12 2.12 0 10-2.998-2.998l-3.328 3.328a2.12 2.12 0 102.998 2.998z"})}),Fte=e=>s.jsx("svg",{...e,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:s.jsx("path",{d:"M12 2a10 10 0 100 20 10 10 0 000-20zm0 16a6 6 0 110-12 6 6 0 010 12z"})}),qte=e=>s.jsx("svg",{...e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5a3.375 3.375 0 00-3.375-3.375H9.75"})}),Hte=e=>s.jsx("svg",{...e,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:s.jsx("path",{d:"M19.345 1.124c-1.288-.04-2.618.06-3.917.02-.04 1.74-1.74 3.48-3.48 3.48s-3.48-1.74-3.48-3.48c-1.3-.04-2.628-.06-3.917-.02C1.408 1.144 0 4.194 0 7.243c0 2.95 1.487 5.92 4.383 5.92.52 0 1.11-.08 1.583-.16 0 2.308.87 4.542 2.522 6.194 1.652 1.652 3.965 2.522 6.194 2.522s4.542-.87 6.194-2.522c1.652-1.652 2.522-3.886 2.522-6.194-.473.08-1.063.16-1.584.16 2.896 0 4.383-2.97 4.383-5.92 0-3.05-1.407-6.1-4.558-6.12z"})}),Vte=e=>s.jsx("svg",{...e,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:s.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2.05 14.23l-3.4-3.4c-.39-.39-.39-1.02 0-1.41l3.4-3.4c.39-.39 1.02-.39 1.41 0l3.4 3.4c.39.39.39 1.02 0 1.41l-3.4 3.4c-.39.39-1.02.39-1.41 0z"})}),$te=e=>s.jsx("svg",{...e,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:s.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 15c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"})}),Gte=e=>s.jsx("svg",{...e,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:s.jsx("path",{d:"M10.15 11.23L5.43 8.79l6.98-2.61 4.14 1.55-6.4 3.5zm.22-1.95l6.4-3.5L10.37 3.2 4 6.75l6.37 2.55zM4 7.23v9.54l6.18 3.03V10.2L4 7.23zm15.9.1L13.82 4.1v15.6l6.08-2.95V7.33z"})}),Kte=e=>s.jsx("svg",{...e,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:s.jsx("path",{d:"M15.09 13.52c-.63.63-1.49.98-2.38.98-1.12 0-2.14-.54-2.77-1.39-.56-.75-.82-1.68-.74-2.63.1-1.13.67-2.13 1.54-2.77.87-.65 2.01-.9 3.03-.68.96.2 1.83.75 2.45 1.52.62.77.92 1.76.84 2.78-.09 1.25-.7 2.37-1.57 3.19l-3.1 3.1c-.1.1-.26.1-.35 0-.1-.1-.1-.26 0-.35l3.1-3.1c.78-.73 1.3-1.7 1.38-2.82.07-.9-.2-1.78-.76-2.47-.56-.7-1.33-1.18-2.2-1.36-.92-.19-1.91.04-2.68.62-.77.58-1.28 1.48-1.37 2.49-.07.82.16 1.63.66 2.28.56.73 1.45 1.15 2.36 1.15.78 0 1.53-.3 2.12-.88l4.08-4.08c1.09-1.09 1.6-2.5 1.48-3.95-.15-1.71-1.05-3.23-2.44-4.14-1.63-1.06-3.7-.93-5.18.31-1.32 1.1-2 2.68-1.87 4.28.1 1.26.7 2.4 1.59 3.24l.35.35c.1.1.1.26 0 .35-.1.1-.26.1-.35 0l-.35-.35C8.3 12.33 7.78 11.3 7.7 10.1c-.13-1.84.6-3.64 1.93-4.88 1.52-1.42 3.84-1.8 5.76-1.1 1.7.62 3.03 2.13 3.65 3.9.72 2.06.18 4.38-1.3 6.03l-4.08 4.08z"})}),Wte={Facebook:_I,"Google Ads":a3,"Google Analytics":a3,TikTok:Bte,Pinterest:Ute,Kwai:zte,Taboola:Fte,LinkedIn:LI,Twitter:OI,Bing:Gte,Criteo:Vte,Hotjar:Kte,Outbrain:$te,Snapchat:Hte},Jte=({pixel:e,onNavigate:t,onDelete:n,onStatusToggle:r,onDuplicate:o})=>{const i=Wte[e.type];return s.jsxs("div",{className:"bg-black border border-gray-800 rounded-lg p-4 flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(i,{className:`w-8 h-8 flex-shrink-0 ${e.type==="Google Ads"||e.type==="Google Analytics"?"":"text-white"}`}),s.jsxs("div",{children:[s.jsx("button",{onClick:()=>t("addEditMarketingPixel",e),className:"font-bold text-white text-left hover:text-yellow-400",children:e.name}),s.jsxs("div",{className:"flex flex-wrap items-center gap-x-2 text-xs text-gray-400",children:[s.jsxs("span",{className:"font-mono bg-gray-700/50 px-1 rounded",children:["ID: ",e.pixelId]}),e.idLabel&&s.jsxs("span",{className:"font-mono bg-gray-700/50 px-1 rounded",children:["Label: ",e.idLabel]})]})]})]}),s.jsxs("div",{className:"flex items-center gap-4 sm:gap-6 w-full sm:w-auto",children:[s.jsx(vt,{checked:e.status==="Ativo",onChange:()=>r(e.id),labelId:`toggle-pixel-${e.id}`}),s.jsxs("div",{className:"flex items-center gap-3 ml-auto sm:ml-0",children:[s.jsx("button",{onClick:()=>t("addEditMarketingPixel",e),title:"Editar",className:"text-gray-400 hover:text-yellow-400",children:s.jsx(Nx,{className:"w-5 h-5"})}),s.jsx("button",{onClick:()=>o(e.id),title:"Duplicar",className:"text-gray-400 hover:text-white",children:s.jsx(qte,{className:"w-5 h-5"})}),s.jsx("button",{title:"Excluir",onClick:()=>n(e.id),className:"text-gray-400 hover:text-red-400",children:s.jsx(Tn,{className:"w-5 h-5"})})]})]})]})},Yte=({pixels:e,onNavigate:t,onDelete:n,onStatusToggle:r,onDuplicate:o})=>s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[s.jsx("h1",{className:"text-2xl font-bold text-white",children:"Pixels de Marketing"}),s.jsx("button",{onClick:()=>t("addEditMarketingPixel"),className:"font-bold bg-yellow-500 text-black py-2 px-5 rounded-md hover:bg-yellow-400 transition-colors",children:"+ Adicionar Pixel"})]}),s.jsx("div",{className:"space-y-3",children:e.map(i=>s.jsx(Jte,{pixel:i,onNavigate:t,onDelete:n,onStatusToggle:r,onDuplicate:o},i.id))})]}),Xte=({links:e,setLinks:t})=>{const[n,r]=E.useState(""),[o,i]=E.useState(null),a=()=>{if(!n||!n.startsWith("http")){alert("Por favor, insira uma URL vlida.");return}const h={id:`SL-${Date.now()}`,shortUrl:`https://rs.shp/${Math.random().toString(36).substring(2,7)}`,originalUrl:n,clicks:0};t(p=>[h,...p]),r("")},l=h=>{navigator.clipboard.writeText(h.shortUrl),i(h.id),setTimeout(()=>i(null),2e3)},u=h=>{window.confirm("Tem certeza que deseja excluir este link?")&&t(p=>p.filter(g=>g.id!==h))},f=h=>{t(p=>p.map(g=>g.id===h?{...g,clicks:g.clicks+1}:g))};return s.jsxs("div",{className:"space-y-8",children:[s.jsx("div",{children:s.jsxs("h1",{className:"text-2xl font-bold text-[rgb(var(--color-brand-text-light))] flex items-center gap-2",children:[s.jsx(Cx,{className:"w-6 h-6"}),"Encurtador de Link"]})}),s.jsx("div",{className:"bg-[rgb(var(--color-brand-dark))] border border-[rgb(var(--color-brand-gray-light))] rounded-lg p-6",children:s.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch gap-2",children:[s.jsx("input",{type:"url",placeholder:"Cole sua URL longa aqui...",value:n,onChange:h=>r(h.target.value),className:"flex-grow bg-[rgb(var(--color-brand-gray))] border-2 border-[rgb(var(--color-brand-gray-light))] rounded-lg py-3 px-4 text-[rgb(var(--color-brand-text-light))] placeholder-[rgb(var(--color-brand-text-dim))] focus:outline-none focus:border-[rgb(var(--color-brand-gold))]"}),s.jsx("button",{onClick:a,className:"font-bold bg-[rgb(var(--color-brand-gold))] text-[rgb(var(--color-brand-dark))] py-3 px-6 rounded-lg hover:bg-yellow-400",children:"Encurtar"})]})}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h2",{className:"text-lg font-semibold text-[rgb(var(--color-brand-text-light))]",children:"Seus Links Recentes"}),e.map(h=>s.jsxs("div",{className:"bg-[rgb(var(--color-brand-dark))] border border-[rgb(var(--color-brand-gray-light))] rounded-lg p-4 flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("a",{href:h.originalUrl,target:"_blank",rel:"noopener noreferrer",onClick:()=>f(h.id),className:"font-bold text-[rgb(var(--color-brand-gold))] hover:underline",children:h.shortUrl}),s.jsx("p",{className:"text-sm text-[rgb(var(--color-brand-text-dim))] truncate max-w-xs sm:max-w-md",children:h.originalUrl})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm text-[rgb(var(--color-brand-text-dim))]",children:[s.jsx(gC,{className:"w-5 h-5"}),s.jsxs("span",{children:[h.clicks," cliques"]})]}),s.jsxs("button",{onClick:()=>l(h),className:`font-semibold text-sm py-2 px-4 rounded-md flex items-center gap-2 transition-colors ${o===h.id?"bg-[rgb(var(--color-success))]/[.20] text-[rgb(var(--color-success))]":"bg-[rgb(var(--color-brand-gray))] text-[rgb(var(--color-brand-text-light))] hover:bg-[rgb(var(--color-brand-gray-light))]"}`,children:[o===h.id?s.jsx(Qc,{className:"w-5 h-5"}):s.jsx(vs,{className:"w-5 h-5"}),o===h.id?"Copiado!":"Copiar"]}),s.jsx("button",{onClick:()=>u(h.id),className:"text-[rgb(var(--color-brand-text-dim))] hover:text-[rgb(var(--color-error))]",title:"Excluir link",children:s.jsx(Tn,{className:"w-5 h-5"})})]})]},h.id))]})]})},Qte=["Facebook","Google Ads","Google Analytics","TikTok","Pinterest","Kwai","Taboola","LinkedIn","Twitter","Bing","Criteo","Hotjar","Outbrain","Snapchat"],Zte=({pixel:e,onSave:t,onCancel:n})=>{const[r,o]=E.useState({name:"",type:"Facebook",pixelId:"",idLabel:"",status:"Ativo",...e}),i=E.useRef(null),a=f=>{const{name:h,value:p}=f.target;o(g=>({...g,[h]:p}))},l=f=>{var h,p;if(f.preventDefault(),!((h=r.name)!=null&&h.trim())||!((p=r.pixelId)!=null&&p.trim())){alert("Por favor, preencha o nome e o ID do pixel.");return}t(r)},u=()=>{var f;(f=i.current)==null||f.requestSubmit()};return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"pb-6 mb-6 flex justify-end items-center border-b border-[rgb(var(--color-brand-gray-light))]",children:s.jsxs("div",{className:"flex items-center gap-2 sm:gap-4",children:[s.jsx("button",{type:"button",onClick:n,className:"text-sm font-semibold bg-[rgb(var(--color-brand-gray))] text-[rgb(var(--color-brand-text-light))] py-2 px-4 rounded-md hover:bg-[rgb(var(--color-brand-gray-light))] transition-colors",children:"Descartar"}),s.jsx("button",{type:"button",onClick:u,className:"text-sm font-bold bg-[rgb(var(--color-brand-gold))] text-[rgb(var(--color-brand-dark))] py-2 px-4 rounded-md hover:bg-yellow-400 transition-colors",children:"Salvar Pixel"})]})}),s.jsxs("form",{onSubmit:l,ref:i,className:"max-w-2xl mx-auto space-y-8",children:[s.jsxs("div",{className:"bg-[rgb(var(--color-brand-dark))] border border-[rgb(var(--color-brand-gray-light))] rounded-lg p-6 space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-[rgb(var(--color-brand-text-light))] mb-2",children:"Nome da Campanha"}),s.jsx("input",{type:"text",name:"name",id:"name",value:r.name,onChange:a,placeholder:"Ex: Campanha de Lanamento",className:"w-full bg-[rgb(var(--color-brand-gray))] border-2 border-[rgb(var(--color-brand-gray-light))] rounded-md py-2 px-3 text-[rgb(var(--color-brand-text-light))]",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"type",className:"block text-sm font-medium text-[rgb(var(--color-brand-text-light))] mb-2",children:"Plataforma"}),s.jsx("select",{name:"type",id:"type",value:r.type,onChange:a,className:"w-full bg-[rgb(var(--color-brand-gray))] border-2 border-[rgb(var(--color-brand-gray-light))] rounded-md py-2 px-3 text-[rgb(var(--color-brand-text-light))]",children:Qte.map(f=>s.jsx("option",{value:f,children:f},f))})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"pixelId",className:"block text-sm font-medium text-[rgb(var(--color-brand-text-light))] mb-2",children:"ID do Pixel / Tag"}),s.jsx("input",{type:"text",name:"pixelId",id:"pixelId",value:r.pixelId,onChange:a,className:"w-full bg-[rgb(var(--color-brand-gray))] border-2 border-[rgb(var(--color-brand-gray-light))] rounded-md py-2 px-3 text-[rgb(var(--color-brand-text-light))]",required:!0})]}),r.type==="Google Ads"&&s.jsxs("div",{children:[s.jsx("label",{htmlFor:"idLabel",className:"block text-sm font-medium text-[rgb(var(--color-brand-text-light))] mb-2",children:"Rtulo de Converso (Opcional)"}),s.jsx("input",{type:"text",name:"idLabel",id:"idLabel",value:r.idLabel,onChange:a,className:"w-full bg-[rgb(var(--color-brand-gray))] border-2 border-[rgb(var(--color-brand-gray-light))] rounded-md py-2 px-3 text-[rgb(var(--color-brand-text-light))]"})]})]}),s.jsxs("div",{className:"bg-[rgb(var(--color-brand-dark))] border border-[rgb(var(--color-brand-gray-light))] rounded-lg p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-[rgb(var(--color-brand-text-light))] mb-4",children:"Status"}),s.jsxs("select",{name:"status",id:"status",value:r.status,onChange:a,className:"w-full bg-[rgb(var(--color-brand-gray))] border-2 border-[rgb(var(--color-brand-gray-light))] rounded-md py-2 px-3 text-[rgb(var(--color-brand-text-light))]",children:[s.jsx("option",{value:"Ativo",children:"Ativo"}),s.jsx("option",{value:"Inativo",children:"Inativo"})]})]})]})]})},ene=e=>s.jsx("svg",{...e,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:s.jsx("path",{d:"M3 13h8V3H3v10zm0 8h8v-6H3v6zm10 0h8V11h-8v10zm0-18v6h8V3h-8z"})}),tne=e=>s.jsx("svg",{...e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 21v-7.5A.75.75 0 0114.25 12h.01a.75.75 0 01.75.75v7.5m-3.75 0v-7.5a.75.75 0 00-.75-.75h-.01a.75.75 0 00-.75.75v7.5m-3.75 0v-7.5A.75.75 0 016.75 12h.01a.75.75 0 01.75.75v7.5m-3.75 0V12A2.25 2.25 0 015.25 9.75h9.5A2.25 2.25 0 0117.25 12v9.75m-9.75 0h4.5m-13.5-3.375V12a2.25 2.25 0 012.25-2.25h13.5A2.25 2.25 0 0121 12v2.25m-18 0h18M12 6.75h.008v.008H12V6.75z"})}),nne=e=>s.jsx("svg",{...e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.53 16.122a3 3 0 00-5.78 1.128 2.25 2.25 0 01-2.4 2.245 4.5 4.5 0 008.4-2.245c0-.399-.078-.78-.22-1.128zm0 0a15.998 15.998 0 003.388-1.62m-5.043-.025a15.998 15.998 0 011.622-3.385m5.043.025a2.25 2.25 0 01-2.244 2.4l1.128 5.78a3 3 0 001.128 5.78m0 0l3.388-1.62m-5.043-.025a15.998 15.998 0 011.622-3.385m5.043.025a2.25 2.25 0 01-2.244 2.4l1.128 5.78a3 3 0 001.128 5.78m0 0l3.388-1.62m-5.043-.025a15.998 15.998 0 011.622-3.385"})}),rne=e=>s.jsx("svg",{...e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 8.511c.884.284 1.5 1.128 1.5 2.097v4.286c0 1.136-.847 2.1-1.98 2.193l-3.72 3.72a.75.75 0 01-1.06 0l-3.72-3.72C9.347 17.653 8.5 16.689 8.5 15.553V11.25c0-.97.616-1.813 1.5-2.097m6.5 0v3.75m-6.5-3.75v3.75m6.5-3.75h3.75m-13.5 0h3.75m-3.75 0a3.003 3.003 0 00-3 3v6.75a3.003 3.003 0 003 3h9.75a.75.75 0 00.75-.75V19.5m-12-6.75a.75.75 0 01.75-.75h9.75a.75.75 0 01.75.75v9.75a.75.75 0 01-.75.75h-9.75a.75.75 0 01-.75-.75V12.75z"})}),Mg=e=>s.jsx("svg",{...e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09zM18.259 8.715L18 9.75l-.259-1.035a3.375 3.375 0 00-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 002.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 002.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 00-2.456 2.456zM16.898 20.553L16.5 21.75l-.398-1.197a3.375 3.375 0 00-2.456-2.456L12.5 17.25l1.197-.398a3.375 3.375 0 002.456-2.456L16.5 13.5l.398 1.197a3.375 3.375 0 002.456 2.456l1.197.398-1.197.398a3.375 3.375 0 00-2.456 2.456z"})}),one=e=>s.jsxs("svg",{...e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:[s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.324.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 011.37.49l1.296 2.247a1.125 1.125 0 01-.26 1.431l-1.003.827c-.293.24-.438.613-.438.995a6.75 6.75 0 010 1.99c0 .382.145.755.438.995l1.003.827c.424.35.534.954.26 1.431l-1.298 2.247a1.125 1.125 0 01-1.369.49l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.57 6.57 0 01-.22.128c-.333.183-.582.495-.645.87l-.213 1.28c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.02-.398-1.11-.94l-.213-1.281c-.063-.374-.313-.686-.645-.87a6.52 6.52 0 01-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 01-1.369-.49l-1.297-2.247a1.125 1.125 0 01.26-1.431l1.004-.827c.292-.24.437-.613.437-.995a6.75 6.75 0 010-1.99c0-.382-.145-.755-.438-.995l-1.004-.827a1.125 1.125 0 01-.26-1.431l1.297-2.247a1.125 1.125 0 011.37-.49l1.217.456c.355.133.75.072 1.076-.124.072-.044.146-.087.22-.128.332-.183.582-.495.645-.87l.213-1.28z"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),ine=e=>s.jsx("svg",{...e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18.75 19.5l-7.5-7.5 7.5-7.5m-6 15L5.25 12l7.5-7.5"})}),ane=e=>s.jsx("svg",{...e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 6H5.25A2.25 2.25 0 003 8.25v10.5A2.25 2.25 0 005.25 21h10.5A2.25 2.25 0 0018 18.75V10.5m-4.5 0L21 3m0 0h-6.375M21 3v6.375"})}),iL=e=>s.jsx("svg",{...e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 21v-7.5A.75.75 0 0114.25 12h.01a.75.75 0 01.75.75v7.5m-3.75 0v-7.5a.75.75 0 00-.75-.75h-.01a.75.75 0 00-.75.75v7.5m-3.75 0v-7.5A.75.75 0 016.75 12h.01a.75.75 0 01.75.75v7.5m-3.75 0V12A2.25 2.25 0 015.25 9.75h9.5A2.25 2.25 0 0117.25 12v9.75m-9.75 0h4.5m-13.5-3.375V12a2.25 2.25 0 012.25-2.25h13.5A2.25 2.25 0 0121 12v2.25m-18 0h18M12 6.75h.008v.008H12V6.75z"})}),sne=e=>s.jsx("svg",{...e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0013.5 3h-6a2.25 2.25 0 00-2.25 2.25v13.5A2.25 2.25 0 007.5 21h6a2.25 2.25 0 002.25-2.25V15m3 0l3-3m0 0l-3-3m3 3H9"})}),lne=[{main:{icon:ene,label:"Dashboard",view:"consultantStore"}},{main:{icon:Mg,label:"RS Studio",view:"rsStudio"}},{main:{icon:rne,label:"Comunicao",view:"communication"}},{isSeparator:!0,title:"GERENCIAR"},{main:{icon:tne,label:"Minha Loja",view:"manageProducts"},subLinks:[{label:"Produtos",view:"manageProducts"},{label:"Colees",view:"manageCollections"},{label:"Pedidos",view:"manageOrders"},{label:"Cupons",view:"managePromotions"},{label:"Order Bump",view:"manageOrderBump"},{label:"Upsell",view:"manageUpsell"},{label:"Carrinhos Abandonados",view:"manageAbandonedCarts"},{label:"Avaliaes",view:"manageReviews"},{label:"Afiliados",view:"manageAffiliates"}]},{main:{icon:Vf,label:"Wallet Pay",view:"walletPayHub"},subLinks:[{label:"Hub Completo",view:"walletPayHub"},{label:"Viso Geral",view:"walletOverview"},{label:"Extrato e Relatrios",view:"walletReports"},{label:"Transferncias",view:"walletTransfers"},{label:"Cobranas",view:"walletCharges"},{label:"Configuraes",view:"walletSettings"}]},{main:{icon:iL,label:"CDs",view:"manageDistributors"}},{main:{icon:$f,label:"Marketing",view:"virtualOfficePixels"},subLinks:[{label:"Pixels de Marketing",view:"virtualOfficePixels"},{label:"Encurtador de Links",view:"virtualOfficeLinkShortener"}]},{isSeparator:!0,title:"APARNCIA"},{main:{icon:nne,label:"Personalizao",view:"storeEditor"},subLinks:[{label:"Meu Perfil",view:"userProfileEditor"},{label:"Aparncia da Loja",view:"storeEditor"},{label:"Editor do Painel",view:"dashboardEditor"},{label:"Banners do Painel",view:"bannerDashboard"}]},{main:{icon:kl,label:"Contedo e Mdia",view:"manageAnnouncements"},subLinks:[{label:"Comunicados",view:"manageAnnouncements"},{label:"Treinamentos",view:"manageTrainings"},{label:"Materiais de Marketing",view:"manageMarketingAssets"}]},{main:{icon:one,label:"Configuraes",view:"managePayments"},subLinks:[{label:"Plano de Compensao",view:"compensationPlan"},{label:"Pagamentos",view:"managePayments"},{label:"Frete",view:"manageShipping"}]}],cne=({item:e,isCollapsed:t,currentView:n,onNavigate:r})=>{const{main:o,subLinks:i}=e,a=n===o.view||i&&i.some(C=>C.view===n),[l,u]=E.useState(a),[f,h]=E.useState(!1),p=E.useRef(null);E.useEffect(()=>{!a&&!t&&u(!1)},[a,t]),E.useEffect(()=>{const C=A=>{t&&p.current&&!p.current.contains(A.target)&&h(!1)};return document.addEventListener("mousedown",C),()=>document.removeEventListener("mousedown",C)},[t]);const g=()=>{t?i?h(C=>!C):r(o.view):i?u(C=>!C):r(o.view)};return s.jsxs("div",{ref:p,children:[s.jsxs("button",{onClick:g,className:`w-full flex items-center justify-between text-left px-3 rounded-md text-sm font-medium transition-all duration-200 h-11 relative group ${a?"bg-[rgb(var(--color-brand-gold))]/10 text-white":"text-[rgb(var(--color-brand-text-dim))] hover:bg-[rgb(var(--color-brand-gray-light))] hover:text-white"}`,children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(o.icon,{className:`h-6 w-6 flex-shrink-0 transition-colors ${a?"text-[rgb(var(--color-brand-gold))]":""}`}),!t&&s.jsx("span",{className:"truncate",children:o.label})]}),!t&&i&&s.jsx("span",{className:`transform transition-transform text-xs ${l?"rotate-180":""}`,children:""}),a&&s.jsx("div",{className:"absolute left-0 top-1/2 -translate-y-1/2 h-6 w-1 bg-[rgb(var(--color-brand-gold))] rounded-r-full"}),t&&s.jsx("div",{className:"absolute left-full ml-3 px-3 py-1.5 bg-[rgb(var(--color-brand-gray))] text-white text-xs font-bold rounded-md whitespace-nowrap opacity-0 pointer-events-none group-hover:opacity-100 transition-opacity delay-300 z-50",children:o.label})]}),!t&&l&&i&&s.jsx("div",{className:"pl-8 pt-2 space-y-1",children:i.map(C=>s.jsxs("button",{onClick:()=>r(C.view),className:`w-full text-left pl-5 pr-2 py-2 rounded-md text-sm transition-colors relative ${n===C.view?"text-white font-semibold":"text-[rgb(var(--color-brand-text-dim))] hover:bg-[rgb(var(--color-brand-gray-light))]"}`,children:[n===C.view&&s.jsx("div",{className:"absolute left-0 top-1/2 -translate-y-1/2 h-1.5 w-1.5 bg-[rgb(var(--color-brand-gold))] rounded-full"}),C.label]},C.view))}),t&&f&&i&&s.jsx("div",{className:"absolute left-full top-0 ml-2 z-50 w-56 bg-[rgba(30,30,30,0.8)] backdrop-blur-md border border-[rgb(var(--color-brand-gold))]/20 rounded-lg shadow-2xl p-2 animate-fade-in-fast",children:i.map(C=>s.jsx("button",{onClick:()=>r(C.view),className:`w-full text-left px-3 py-2 text-sm rounded-md transition-colors ${n===C.view?"text-[rgb(var(--color-brand-gold))] font-semibold bg-[rgb(var(--color-brand-gray))]":"text-white hover:bg-[rgb(var(--color-brand-gray))]"}`,children:C.label},C.view))})]})},une=({title:e,children:t,currentView:n,onNavigate:r,onLogout:o})=>{const[i,a]=E.useState(!0),[l,u]=E.useState(!1);return s.jsxs("div",{className:"flex h-screen bg-[rgb(var(--color-brand-dark))] text-[rgb(var(--color-brand-text-light))]",children:[s.jsx("style",{children:`
                @keyframes fade-in-fast { from { opacity: 0; transform: scale(0.95); } to { opacity: 1; transform: scale(1); } }
                .animate-fade-in-fast { animation: fade-in-fast 0.15s ease-out forwards; }
            `}),s.jsx("div",{className:`fixed inset-0 bg-black/60 z-30 lg:hidden transition-opacity ${l?"opacity-100":"opacity-0 pointer-events-none"}`,onClick:()=>u(!1)}),s.jsxs("aside",{className:`fixed lg:relative inset-y-0 left-0 z-40 bg-[rgba(18,18,18,0.6)] backdrop-blur-lg flex-shrink-0 p-3 flex flex-col transition-all duration-300
                ${l?"translate-x-0 w-72":"-translate-x-full w-72"}
                ${i&&!l?"w-72":"w-20"} lg:translate-x-0 border-r border-[rgb(var(--color-brand-gold))]/15`,children:[s.jsx("div",{className:"flex items-center justify-center h-16 px-3 mb-6 flex-shrink-0",children:s.jsx("span",{className:`font-display text-[rgb(var(--color-brand-gold))] transition-all duration-300 ${i?"text-3xl":"text-2xl"}`,children:i?"RS Prlipsi":"RS"})}),s.jsx("nav",{className:"flex-grow space-y-1 overflow-y-auto pr-1",children:lne.map((f,h)=>"isSeparator"in f?s.jsx("div",{className:`pt-4 pb-2 px-3 transition-opacity duration-300 ${i?"opacity-100":"opacity-0 h-0 pointer-events-none"}`,children:s.jsx("p",{className:"text-xs font-bold text-[rgb(var(--color-brand-text-dim))] uppercase tracking-wider",children:f.title})},h):s.jsx(cne,{item:f,isCollapsed:!i,currentView:n,onNavigate:r},h))}),s.jsxs("div",{className:"flex-shrink-0 mt-auto pt-4 space-y-2",children:[s.jsxs("button",{onClick:o,className:`w-full flex items-center gap-3 px-3 py-3 rounded-md text-sm font-medium text-[rgb(var(--color-brand-text-dim))] hover:bg-[rgb(var(--color-brand-gray-light))] hover:text-white ${i?"":"justify-center"}`,children:[s.jsx(sne,{className:"h-6 w-6"}),!i||s.jsx("span",{className:"truncate",children:"Sair"})]}),s.jsxs("button",{onClick:()=>a(!i),className:"w-full hidden lg:flex items-center gap-3 px-3 py-3 rounded-md text-sm font-medium text-[rgb(var(--color-brand-text-dim))] hover:bg-[rgb(var(--color-brand-gray-light))] hover:text-white",children:[s.jsx(ine,{className:`h-6 w-6 transition-transform ${i?"":"rotate-180"}`}),!i||s.jsx("span",{className:"truncate",children:"Recolher"})]})]})]}),s.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[s.jsxs("header",{className:"flex-shrink-0 h-20 flex items-center justify-between px-6 bg-[rgb(var(--color-brand-dark))] border-b border-[rgb(var(--color-brand-gray-light))]",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("button",{onClick:()=>u(!0),className:"lg:hidden",children:[" ",s.jsx(DI,{className:"w-6 h-6"})," "]}),s.jsx("h1",{className:"text-xl md:text-2xl font-bold text-white",children:e||"Painel"})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("button",{onClick:()=>r("home"),className:"flex items-center gap-2 text-sm font-semibold bg-[rgb(var(--color-brand-gray))] text-white py-2 px-4 rounded-md hover:bg-[rgb(var(--color-brand-gray-light))]",children:[s.jsx(ane,{className:"w-5 h-5"}),s.jsx("span",{className:"hidden sm:inline",children:"Ver Loja"})]}),s.jsxs("button",{className:"relative text-[rgb(var(--color-brand-text-dim))] hover:text-white",children:[s.jsx(mC,{className:"w-6 h-6"}),s.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white w-3 h-3 rounded-full text-xs"})]}),s.jsx("button",{onClick:()=>r("userProfileEditor"),children:s.jsx(li,{className:"w-8 h-8 p-1 rounded-full bg-[rgb(var(--color-brand-gray))]"})})]})]}),s.jsx("main",{className:"flex-1 overflow-y-auto p-6",children:t})]})]})},dne=({onProductClick:e,products:t,wishlist:n,onToggleWishlist:r})=>{const o=t.filter(i=>i.status==="Ativo"&&i.compareAtPrice&&i.compareAtPrice>i.price).sort((i,a)=>{if(!i.compareAtPrice||!a.compareAtPrice)return 0;const l=(i.compareAtPrice-i.price)/i.compareAtPrice*100;return(a.compareAtPrice-a.price)/a.compareAtPrice*100-l}).slice(0,4);return o.length===0?null:s.jsx("section",{id:"offers",className:"py-16 sm:py-24 bg-gray-900",children:s.jsxs("div",{className:"container mx-auto px-4",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h2",{className:"text-3xl md:text-4xl font-bold font-display text-white",children:"Ofertas Especiais"}),s.jsx("p",{className:"mt-4 max-w-2xl mx-auto text-lg text-gray-400",children:"Aproveite nossos descontos exclusivos por tempo limitado."})]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8",children:o.map(i=>s.jsx(vf,{product:i,onClick:()=>e(i),wishlist:n,onToggleWishlist:r},i.id))})]})})},fne=({banner:e})=>!(e!=null&&e.desktopImage)&&!(e!=null&&e.mobileImage)?null:s.jsx("section",{className:"py-16 sm:py-24 bg-black",children:s.jsx("div",{className:"container mx-auto px-4",children:s.jsx("a",{href:e.link||"#",className:"block rounded-lg overflow-hidden group focus:outline-none focus:ring-4 focus:ring-yellow-500/50",children:s.jsxs("picture",{children:[s.jsx("source",{media:"(min-width: 768px)",srcSet:e.desktopImage}),s.jsx("img",{src:e.mobileImage,alt:"Banner promocional",className:"w-full h-auto object-cover transition-transform duration-300 group-hover:scale-105"})]})})})}),Ui=({value:e,onChange:t,name:n,id:r,placeholder:o})=>{const[i,a]=E.useState(!1);return s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:i?"text":"password",name:n,id:r,value:e,onChange:t,placeholder:o,className:"w-full bg-gray-800 border-2 border-gray-700 rounded-md py-2 px-3 pr-10 text-white focus:outline-none focus:border-yellow-500"}),s.jsx("button",{type:"button",onClick:()=>a(!i),className:"absolute inset-y-0 right-0 px-3 flex items-center text-gray-400 hover:text-yellow-400","aria-label":i?"Esconder":"Mostrar",children:i?s.jsx(Xc,{className:"h-5 w-5"}):s.jsx(bs,{className:"h-5 w-5"})})]})},hne=({settings:e,onSave:t,onNavigate:n})=>{const[r,o]=E.useState(e),[i,a]=E.useState(!1);E.useEffect(()=>{o(e),a(!1)},[e]);const l=g=>{const{name:x,value:y}=g.target,[N,C]=x.split(".");o(A=>({...A,[N]:{...A[N],[C]:y}})),a(!0)},u=(g,x)=>{o(y=>({...y,[g]:{...y[g],enabled:x}})),a(!0)},f=()=>{t(r),a(!1)},h=()=>{o(e),a(!1)},p=["CPF","CNPJ","E-mail","Telefone","Chave Aleatria"];return s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"pb-6 mb-6 flex justify-end items-center border-b border-gray-800",children:s.jsxs("div",{className:"flex items-center gap-4",children:[i&&s.jsx("p",{className:"text-sm text-yellow-400 mr-4",children:"Voc tem alteraes no salvas."}),s.jsx("button",{onClick:h,disabled:!i,className:"text-sm font-semibold bg-gray-700 text-white py-2 px-4 rounded-md hover:bg-gray-600 disabled:opacity-50 disabled:cursor-not-allowed",children:"Descartar"}),s.jsx("button",{onClick:f,disabled:!i,className:"text-sm font-bold bg-yellow-500 text-black py-2 px-4 rounded-md hover:bg-yellow-400 disabled:opacity-50 disabled:cursor-not-allowed",children:"Salvar"})]})}),s.jsxs("div",{className:"max-w-4xl mx-auto space-y-8",children:[s.jsxs("div",{className:"bg-black border border-gray-800 rounded-lg",children:[s.jsxs("div",{className:"p-4 border-b border-gray-800 flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold text-white",children:"Mercado Pago"}),s.jsx(vt,{checked:r.mercadoPago.enabled,onChange:g=>u("mercadoPago",g),labelId:"mp-toggle"})]}),r.mercadoPago.enabled&&s.jsxs("div",{className:"p-6 space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"mp-public-key",className:"block text-sm font-medium text-gray-400 mb-2",children:"Public Key"}),s.jsx(Ui,{id:"mp-public-key",name:"mercadoPago.publicKey",value:r.mercadoPago.publicKey,onChange:l})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"mp-access-token",className:"block text-sm font-medium text-gray-400 mb-2",children:"Access Token"}),s.jsx(Ui,{id:"mp-access-token",name:"mercadoPago.accessToken",value:r.mercadoPago.accessToken,onChange:l})]})]})]}),s.jsxs("div",{className:"bg-black border border-gray-800 rounded-lg",children:[s.jsxs("div",{className:"p-4 border-b border-gray-800 flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold text-white",children:"PagSeguro"}),s.jsx(vt,{checked:r.pagSeguro.enabled,onChange:g=>u("pagSeguro",g),labelId:"ps-toggle"})]}),r.pagSeguro.enabled&&s.jsxs("div",{className:"p-6 space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"ps-email",className:"block text-sm font-medium text-gray-400 mb-2",children:"E-mail"}),s.jsx("input",{type:"email",id:"ps-email",name:"pagSeguro.email",value:r.pagSeguro.email,onChange:l,className:"w-full bg-gray-800 border-2 border-gray-700 rounded-md py-2 px-3 text-white focus:outline-none focus:border-yellow-500"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"ps-token",className:"block text-sm font-medium text-gray-400 mb-2",children:"Token"}),s.jsx(Ui,{id:"ps-token",name:"pagSeguro.token",value:r.pagSeguro.token,onChange:l})]})]})]}),s.jsxs("div",{className:"bg-black border border-gray-800 rounded-lg",children:[s.jsxs("div",{className:"p-4 border-b border-gray-800 flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold text-white",children:"PIX"}),s.jsx(vt,{checked:r.pix.enabled,onChange:g=>u("pix",g),labelId:"pix-toggle"})]}),r.pix.enabled&&s.jsxs("div",{className:"p-6 space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"pix-key-type",className:"block text-sm font-medium text-gray-400 mb-2",children:"Tipo de Chave"}),s.jsx("select",{id:"pix-key-type",name:"pix.pixKeyType",value:r.pix.pixKeyType,onChange:l,className:"w-full bg-gray-800 border-2 border-gray-700 rounded-md py-2 px-3 text-white focus:outline-none focus:border-yellow-500",children:p.map(g=>s.jsx("option",{value:g,children:g},g))})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"pix-key",className:"block text-sm font-medium text-gray-400 mb-2",children:"Chave PIX"}),s.jsx("input",{type:"text",id:"pix-key",name:"pix.pixKey",value:r.pix.pixKey,onChange:l,className:"w-full bg-gray-800 border-2 border-gray-700 rounded-md py-2 px-3 text-white focus:outline-none focus:border-yellow-500"})]})]})]}),s.jsxs("div",{className:"bg-black border border-gray-800 rounded-lg",children:[s.jsxs("div",{className:"p-4 border-b border-gray-800 flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold text-white",children:"AppMax"}),s.jsx(vt,{checked:r.appmax.enabled,onChange:g=>u("appmax",g),labelId:"appmax-toggle"})]}),r.appmax.enabled&&s.jsx("div",{className:"p-6 space-y-4",children:s.jsxs("div",{children:[s.jsx("label",{htmlFor:"appmax-api-key",className:"block text-sm font-medium text-gray-400 mb-2",children:"API Key"}),s.jsx(Ui,{id:"appmax-api-key",name:"appmax.apiKey",value:r.appmax.apiKey,onChange:l})]})})]}),s.jsxs("div",{className:"bg-black border border-gray-800 rounded-lg",children:[s.jsxs("div",{className:"p-4 border-b border-gray-800 flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold text-white",children:"Asaas"}),s.jsx(vt,{checked:r.asaas.enabled,onChange:g=>u("asaas",g),labelId:"asaas-toggle"})]}),r.asaas.enabled&&s.jsx("div",{className:"p-6 space-y-4",children:s.jsxs("div",{children:[s.jsx("label",{htmlFor:"asaas-api-key",className:"block text-sm font-medium text-gray-400 mb-2",children:"API Key"}),s.jsx(Ui,{id:"asaas-api-key",name:"asaas.apiKey",value:r.asaas.apiKey,onChange:l})]})})]}),s.jsxs("div",{className:"bg-black border border-gray-800 rounded-lg",children:[s.jsxs("div",{className:"p-4 border-b border-gray-800 flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold text-white",children:"Pagar.me"}),s.jsx(vt,{checked:r.pagarme.enabled,onChange:g=>u("pagarme",g),labelId:"pagarme-toggle"})]}),r.pagarme.enabled&&s.jsxs("div",{className:"p-6 space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"pagarme-api-key",className:"block text-sm font-medium text-gray-400 mb-2",children:"API Key"}),s.jsx(Ui,{id:"pagarme-api-key",name:"pagarme.apiKey",value:r.pagarme.apiKey,onChange:l})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"pagarme-encryption-key",className:"block text-sm font-medium text-gray-400 mb-2",children:"Encryption Key"}),s.jsx(Ui,{id:"pagarme-encryption-key",name:"pagarme.encryptionKey",value:r.pagarme.encryptionKey,onChange:l})]})]})]}),s.jsxs("div",{className:"bg-black border border-gray-800 rounded-lg",children:[s.jsxs("div",{className:"p-4 border-b border-gray-800 flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold text-white",children:"Stripe"}),s.jsx(vt,{checked:r.stripe.enabled,onChange:g=>u("stripe",g),labelId:"stripe-toggle"})]}),r.stripe.enabled&&s.jsxs("div",{className:"p-6 space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"stripe-publishable-key",className:"block text-sm font-medium text-gray-400 mb-2",children:"Publishable Key"}),s.jsx(Ui,{id:"stripe-publishable-key",name:"stripe.publishableKey",value:r.stripe.publishableKey,onChange:l})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"stripe-secret-key",className:"block text-sm font-medium text-gray-400 mb-2",children:"Secret Key"}),s.jsx(Ui,{id:"stripe-secret-key",name:"stripe.secretKey",value:r.stripe.secretKey,onChange:l})]})]})]})]})]})},el=({value:e,onChange:t,name:n,id:r,placeholder:o})=>{const[i,a]=E.useState(!1);return s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:i?"text":"password",name:n,id:r,value:e,onChange:t,placeholder:o,className:"w-full bg-gray-800 border-2 border-gray-700 rounded-md py-2 px-3 pr-10 text-white focus:outline-none focus:border-yellow-500"}),s.jsx("button",{type:"button",onClick:()=>a(!i),className:"absolute inset-y-0 right-0 px-3 flex items-center text-gray-400 hover:text-yellow-400","aria-label":i?"Esconder":"Mostrar",children:i?s.jsx(Xc,{className:"h-5 w-5"}):s.jsx(bs,{className:"h-5 w-5"})})]})},pne=({settings:e,onSave:t,onNavigate:n})=>{const[r,o]=E.useState(e),[i,a]=E.useState(!1);E.useEffect(()=>{o(e),a(!1)},[e]);const l=p=>{const{name:g,value:x}=p.target,[y,N]=g.split(".");o(C=>({...C,[y]:{...C[y],[N]:x}})),a(!0)},u=(p,g)=>{o(x=>({...x,[p]:{...x[p],enabled:g}})),a(!0)},f=()=>{t(r),a(!1)},h=()=>{o(e),a(!1)};return s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"pb-6 mb-6 flex justify-end items-center border-b border-gray-800",children:s.jsxs("div",{className:"flex items-center gap-4",children:[i&&s.jsx("p",{className:"text-sm text-yellow-400 mr-4",children:"Voc tem alteraes no salvas."}),s.jsx("button",{onClick:h,disabled:!i,className:"text-sm font-semibold bg-gray-700 text-white py-2 px-4 rounded-md hover:bg-gray-600 disabled:opacity-50 disabled:cursor-not-allowed",children:"Descartar"}),s.jsx("button",{onClick:f,disabled:!i,className:"text-sm font-bold bg-yellow-500 text-black py-2 px-4 rounded-md hover:bg-yellow-400 disabled:opacity-50 disabled:cursor-not-allowed",children:"Salvar"})]})}),s.jsxs("div",{className:"max-w-4xl mx-auto space-y-8",children:[s.jsxs("div",{className:"bg-black border border-gray-800 rounded-lg",children:[s.jsxs("div",{className:"p-4 border-b border-gray-800 flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold text-white",children:"Frenet"}),s.jsx(vt,{checked:r.frenet.enabled,onChange:p=>u("frenet",p),labelId:"frenet-toggle"})]}),r.frenet.enabled&&s.jsxs("div",{className:"p-6 space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"frenet-apiKey",className:"block text-sm font-medium text-gray-400 mb-2",children:"API Key"}),s.jsx(el,{id:"frenet-apiKey",name:"frenet.apiKey",value:r.frenet.apiKey,onChange:l})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"frenet-apiSecret",className:"block text-sm font-medium text-gray-400 mb-2",children:"API Secret"}),s.jsx(el,{id:"frenet-apiSecret",name:"frenet.apiSecret",value:r.frenet.apiSecret,onChange:l})]})]})]}),s.jsxs("div",{className:"bg-black border border-gray-800 rounded-lg",children:[s.jsxs("div",{className:"p-4 border-b border-gray-800 flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold text-white",children:"Melhor Envio"}),s.jsx(vt,{checked:r.melhorEnvio.enabled,onChange:p=>u("melhorEnvio",p),labelId:"melhor-envio-toggle"})]}),r.melhorEnvio.enabled&&s.jsx("div",{className:"p-6 space-y-4",children:s.jsxs("div",{children:[s.jsx("label",{htmlFor:"melhor-envio-token",className:"block text-sm font-medium text-gray-400 mb-2",children:"API Token"}),s.jsx(el,{id:"melhor-envio-token",name:"melhorEnvio.apiToken",value:r.melhorEnvio.apiToken,onChange:l})]})})]}),s.jsxs("div",{className:"bg-black border border-gray-800 rounded-lg",children:[s.jsxs("div",{className:"p-4 border-b border-gray-800 flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold text-white",children:"Correios"}),s.jsx(vt,{checked:r.correios.enabled,onChange:p=>u("correios",p),labelId:"correios-toggle"})]}),r.correios.enabled&&s.jsxs("div",{className:"p-6 space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"correios-contrato",className:"block text-sm font-medium text-gray-400 mb-2",children:"Cdigo do Contrato"}),s.jsx("input",{id:"correios-contrato",name:"correios.contrato",value:r.correios.contrato,onChange:l,className:"w-full bg-gray-800 border-2 border-gray-700 rounded-md py-2 px-3 text-white focus:outline-none focus:border-yellow-500"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"correios-senha",className:"block text-sm font-medium text-gray-400 mb-2",children:"Senha"}),s.jsx(el,{id:"correios-senha",name:"correios.senha",value:r.correios.senha,onChange:l})]})]})]}),s.jsxs("div",{className:"bg-black border border-gray-800 rounded-lg",children:[s.jsxs("div",{className:"p-4 border-b border-gray-800 flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold text-white",children:"SuperFrete"}),s.jsx(vt,{checked:r.superFrete.enabled,onChange:p=>u("superFrete",p),labelId:"superfrete-toggle"})]}),r.superFrete.enabled&&s.jsx("div",{className:"p-6 space-y-4",children:s.jsxs("div",{children:[s.jsx("label",{htmlFor:"superfrete-token",className:"block text-sm font-medium text-gray-400 mb-2",children:"API Token"}),s.jsx(el,{id:"superfrete-token",name:"superFrete.apiToken",value:r.superFrete.apiToken,onChange:l})]})})]}),s.jsxs("div",{className:"bg-black border border-gray-800 rounded-lg",children:[s.jsxs("div",{className:"p-4 border-b border-gray-800 flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold text-white",children:"Jadlog"}),s.jsx(vt,{checked:r.jadlog.enabled,onChange:p=>u("jadlog",p),labelId:"jadlog-toggle"})]}),r.jadlog.enabled&&s.jsx("div",{className:"p-6 space-y-4",children:s.jsxs("div",{children:[s.jsx("label",{htmlFor:"jadlog-token",className:"block text-sm font-medium text-gray-400 mb-2",children:"API Token"}),s.jsx(el,{id:"jadlog-token",name:"jadlog.apiToken",value:r.jadlog.apiToken,onChange:l})]})})]}),s.jsxs("div",{className:"bg-black border border-gray-800 rounded-lg",children:[s.jsxs("div",{className:"p-4 border-b border-gray-800 flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold text-white",children:"Loggi"}),s.jsx(vt,{checked:r.loggi.enabled,onChange:p=>u("loggi",p),labelId:"loggi-toggle"})]}),r.loggi.enabled&&s.jsx("div",{className:"p-6 space-y-4",children:s.jsxs("div",{children:[s.jsx("label",{htmlFor:"loggi-apiKey",className:"block text-sm font-medium text-gray-400 mb-2",children:"API Key"}),s.jsx(el,{id:"loggi-apiKey",name:"loggi.apiKey",value:r.loggi.apiKey,onChange:l})]})})]})]})]})},mne=({isOpen:e,onClose:t,cartItems:n,onUpdateQuantity:r,onRemoveItem:o,onNavigate:i})=>{const a=E.useMemo(()=>n&&n.length>0?n.reduce((u,f)=>u+f.price*f.quantity,0):0,[n]),l=()=>{i("checkout")};return e?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"fixed inset-0 bg-black/60 z-[99] animate-fade-in",onClick:t,"aria-hidden":"true"}),s.jsx("div",{className:`fixed top-0 right-0 h-full w-full max-w-lg bg-[rgb(var(--color-brand-dark))] z-[100] transform transition-transform duration-300 ease-in-out ${e?"translate-x-0":"translate-x-full"}`,role:"dialog","aria-modal":"true","aria-labelledby":"cart-heading",children:s.jsxs("div",{className:"flex flex-col h-full",children:[s.jsxs("header",{className:"flex-shrink-0 flex justify-between items-center p-4 border-b border-[rgb(var(--color-brand-gold))]/[.30]",children:[s.jsx("h2",{id:"cart-heading",className:"text-xl font-display text-[rgb(var(--color-brand-gold))]",children:"Seu Carrinho"}),s.jsx("button",{onClick:t,"aria-label":"Fechar carrinho",children:s.jsx(ci,{className:"h-6 w-6 text-[rgb(var(--color-brand-text-dim))] hover:text-[rgb(var(--color-brand-gold))]"})})]}),n.length>0?s.jsxs(s.Fragment,{children:[s.jsx("main",{className:"flex-grow p-4 overflow-y-auto space-y-4",children:n.map(u=>s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("img",{src:u.image,alt:u.name,className:"w-20 h-20 object-cover rounded-md"}),s.jsxs("div",{className:"flex-grow",children:[s.jsx("p",{className:"font-semibold text-[rgb(var(--color-brand-text-light))]",children:u.name}),u.variantText&&s.jsx("p",{className:"text-sm text-[rgb(var(--color-brand-text-dim))]",children:u.variantText}),s.jsx("p",{className:"text-sm text-[rgb(var(--color-brand-gold))]",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(u.price)}),s.jsxs("div",{className:"flex items-center border border-[rgb(var(--color-brand-gray-light))] rounded-full justify-between w-28 mt-2",children:[s.jsx("button",{onClick:()=>r(u.id,u.quantity-1),"aria-label":`Diminuir quantidade de ${u.name}`,className:"px-3 py-1 text-lg text-[rgb(var(--color-brand-text-dim))] hover:text-[rgb(var(--color-brand-text-light))] rounded-l-full",children:"-"}),s.jsx("span",{className:"text-sm font-semibold text-[rgb(var(--color-brand-text-light))]",children:u.quantity}),s.jsx("button",{onClick:()=>r(u.id,u.quantity+1),"aria-label":`Aumentar quantidade de ${u.name}`,className:"px-3 py-1 text-lg text-[rgb(var(--color-brand-text-dim))] hover:text-[rgb(var(--color-brand-text-light))] rounded-r-full",children:"+"})]})]}),s.jsxs("div",{className:"text-right flex flex-col items-end",children:[s.jsx("p",{className:"font-bold text-[rgb(var(--color-brand-text-light))]",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(u.price*u.quantity)}),s.jsx("button",{onClick:()=>o(u.id),className:"text-[rgb(var(--color-brand-text-dim))] hover:text-[rgb(var(--color-error))] mt-2","aria-label":`Remover ${u.name} do carrinho`,children:s.jsx(Tn,{className:"w-5 h-5"})})]})]},u.id))}),s.jsxs("footer",{className:"flex-shrink-0 p-4 border-t border-[rgb(var(--color-brand-gray-light))] space-y-4 bg-[rgb(var(--color-brand-dark))]",children:[s.jsx("div",{className:"space-y-2 text-[rgb(var(--color-brand-text-light))]",children:s.jsxs("div",{className:"flex justify-between font-bold text-xl text-[rgb(var(--color-brand-gold))] border-t border-[rgb(var(--color-brand-gray-light))] pt-2 mt-2",children:[s.jsx("span",{children:"Subtotal:"}),s.jsx("span",{children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(a)})]})}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx("button",{onClick:t,className:"w-full bg-[rgb(var(--color-brand-gray))] text-[rgb(var(--color-brand-text-light))] font-bold py-3 px-4 rounded-md hover:bg-[rgb(var(--color-brand-gray-light))]",children:"Continuar Comprando"}),s.jsx("button",{onClick:l,className:"w-full bg-[rgb(var(--color-brand-gold))] text-[rgb(var(--color-brand-dark))] font-bold py-3 px-4 rounded-md hover:bg-yellow-400",children:"Finalizar Compra"})]})]})]}):s.jsxs("div",{className:"flex-grow flex flex-col items-center justify-center text-center p-4",children:[s.jsx("p",{className:"text-2xl font-bold text-[rgb(var(--color-brand-text-light))]",children:"Seu carrinho est vazio"}),s.jsx("p",{className:"text-[rgb(var(--color-brand-text-dim))] mt-2",children:"Adicione produtos para v-los aqui."}),s.jsx("button",{onClick:t,className:"mt-6 bg-[rgb(var(--color-brand-gold))] text-[rgb(var(--color-brand-dark))] font-bold py-2 px-6 rounded-full hover:bg-yellow-400",children:"Voltar para a Loja"})]})]})}),s.jsx("style",{children:`
                @keyframes fade-in {
                    from { opacity: 0; }
                    to { opacity: 1; }
                }
                .animate-fade-in {
                    animation: fade-in 0.3s ease-out forwards;
                }
            `})]}):null},gne=({cartItems:e,onViewCart:t})=>{const n=e&&e.length>0?e.reduce((o,i)=>o+i.quantity,0):0,r=e&&e.length>0?e.reduce((o,i)=>o+i.price*i.quantity,0):0;return s.jsxs("div",{className:"fixed bottom-0 left-0 right-0 z-40 flex justify-center animate-slide-up",children:[s.jsx("div",{className:"container mx-auto px-4 pb-4",children:s.jsxs("div",{className:"bg-[rgb(var(--color-brand-gray))] border-2 border-[rgb(var(--color-brand-gold))]/[0.30] rounded-lg shadow-lg flex items-center justify-between p-4",children:[s.jsxs("div",{children:[s.jsxs("p",{className:"font-bold text-[rgb(var(--color-brand-text-light))]",children:[n," ",n>1?"Itens":"Item"," no Carrinho"]}),s.jsx("p",{className:"text-[rgb(var(--color-brand-gold))] font-semibold",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(r)})]}),s.jsxs("button",{onClick:t,className:"bg-[rgb(var(--color-brand-gold))] text-[rgb(var(--color-brand-dark))] font-bold py-2 px-6 rounded-full flex items-center gap-2 hover:bg-yellow-400 transition-colors",children:[s.jsx(vx,{className:"w-5 h-5"}),"Ver Pedido"]})]})}),s.jsx("style",{children:`
                @keyframes slide-up {
                    from { transform: translateY(100%); opacity: 0; }
                    to { transform: translateY(0); opacity: 1; }
                }
                .animate-slide-up {
                    animation: slide-up 0.3s ease-out forwards;
                }
            `})]})},s3=e=>s.jsx("svg",{...e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})}),Qp=e=>s.jsx("svg",{...e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 8.25h19.5M2.25 9h19.5m-16.5 5.25h6m-6 2.25h3m-3.75 3h15a2.25 2.25 0 002.25-2.25V6.75A2.25 2.25 0 0019.5 4.5h-15a2.25 2.25 0 00-2.25 2.25v10.5A2.25 2.25 0 004.5 19.5z"})}),Ry=e=>s.jsx("svg",{...e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.25 11.25l.041-.02a.75.75 0 011.063.852l-.708 2.836a.75.75 0 001.063.853l.041-.021M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9-3.75h.008v.008H12V8.25z"})}),l3=e=>s.jsxs("svg",{...e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:[s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 4.5v15a1.5 1.5 0 001.5 1.5h13.5a1.5 1.5 0 001.5-1.5v-15M8.25 4.5h7.5"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 9.75h.008v.008H6V9.75zm3.75 0h.008v.008H9.75V9.75zm3.75 0h.008v.008H13.5V9.75zm3.75 0h.008v.008H17.25V9.75zm-1.5 3.75h.008v.008H15.75v-.008zm-3.75 0h.008v.008H12v-.008zm-3.75 0h.008v.008H8.25v-.008zM6 17.25h.008v.008H6v-.008zm3.75 0h.008v.008H9.75v-.008zm3.75 0h.008v.008H13.5v-.008zm3.75 0h.008v.008H17.25v-.008z"})]}),Iy=e=>s.jsx("svg",{...e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.982 18.725A7.488 7.488 0 0012 15.75a7.488 7.488 0 00-5.982 2.975m11.963 0a9 9 0 10-11.963 0m11.963 0A8.966 8.966 0 0112 21a8.966 8.966 0 01-5.982-2.275M15 9.75a3 3 0 11-6 0 3 3 0 016 0z"})}),xne=({cartItems:e,onBack:t,onFinalizePurchase:n,currentCustomer:r,coupons:o,orderBumpConfig:i,allProducts:a,paymentSettings:l,onUpdateQuantity:u,onRemoveItem:f})=>{const h=E.useMemo(()=>e&&e.length>0?e.reduce((Ee,Ke)=>Ee+Ke.price*Ke.quantity,0):0,[e]),[p,g]=E.useState(1),[x,y]=E.useState({email:(r==null?void 0:r.email)||"",customerName:(r==null?void 0:r.name)||"",customerCpf:"",customerPhone:"",zipCode:"",street:"",number:"",complement:"",neighborhood:"",city:"",state:""}),[N,C]=E.useState({number:"",name:"",expiry:"",cvv:""}),[A,T]=E.useState("unknown"),[k,D]=E.useState(""),[R,I]=E.useState(null),[P,B]=E.useState(0),[L,$]=E.useState(""),[X,q]=E.useState(!1),[W,ie]=E.useState([]),[K,U]=E.useState(null),[V,pe]=E.useState(!1),[be,je]=E.useState("pix"),[O,F]=E.useState(!1),[te,fe]=E.useState(null),[xe,De]=E.useState(!1),[Le,Oe]=E.useState(null),[re,Re]=E.useState(!1),[Te,de]=E.useState(2),[Ge,Be]=E.useState(""),et=E.useMemo(()=>i.enabled?a.find(Ee=>Ee.id===i.productId):null,[i,a]),qt=V&&et?i.offerPrice:0,Hn=(K==null?void 0:K.price)??0,Wt=E.useMemo(()=>{const Ee=e&&e.length>0?e.reduce((it,In)=>it+In.price*In.quantity,0):0,Ke=V&&et?i.offerPrice:0,We=(K==null?void 0:K.price)??0;let lt=0;return R&&(R.type==="Porcentagem"?lt=Ee*(R.value/100):lt=R.value),B(lt),Ee+We-lt+Ke},[e,K,R,V,et,i.offerPrice]),Eo=x.customerName&&x.email&&x.customerCpf&&x.customerPhone,Go=Eo&&K;E.useEffect(()=>{p===3&&be==="pix"&&!te&&l.asaas.enabled&&(async()=>{F(!0);try{const We=await fetch("/api/payment/pix",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({amount:Wt,customerName:x.customerName,customerCpf:x.customerCpf})});if(!We.ok)throw new Error("Falha ao gerar o PIX");const lt=await We.json();fe({qrCodeUrl:lt.encodedImage,copyPaste:lt.payload})}catch(Ke){console.error("Erro ao gerar PIX com Asaas:",Ke),alert("No foi possvel gerar o PIX. Tente novamente.")}finally{F(!1)}})()},[p,be,l.asaas.enabled,Wt,x.customerName,x.customerCpf]);const Rn=Ee=>{const{name:Ke,value:We}=Ee.target;y(lt=>({...lt,[Ke]:We}))},Gl=Ee=>Ee.startsWith("4")?"visa":Ee.match(/^5[1-5]/)?"mastercard":"unknown",Ps=Ee=>{let{name:Ke,value:We}=Ee.target;Ke==="number"&&(We=We.replace(/\D/g,"").slice(0,16),T(Gl(We)),We=We.replace(/(.{4})/g,"$1 ").trim()),Ke==="expiry"&&(We=We.replace(/\D/g,"").slice(0,4),We.length>2&&(We=`${We.slice(0,2)}/${We.slice(2)}`)),Ke==="cvv"&&(We=We.replace(/\D/g,"").slice(0,4)),C(lt=>({...lt,[Ke]:We}))},Vn=async Ee=>{if(Ee)try{const We=await fetch("/api/shipping/calculate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({from:{postal_code:"01001000"},to:{postal_code:Ee},products:e.map(jt=>{const ut=a.find(gi=>gi.id===jt.productId);return{id:jt.productId,width:(ut==null?void 0:ut.width)||0,height:(ut==null?void 0:ut.height)||0,length:(ut==null?void 0:ut.length)||0,weight:(ut==null?void 0:ut.weight)||0,insurance_value:jt.price,quantity:jt.quantity}})})});if(!We.ok)throw new Error("Falha ao calcular o frete");const it=(await We.json()).filter(jt=>{const ut=parseFloat(jt.price),gi=parseInt(jt.delivery_time);return!isNaN(ut)&&ut>0&&!isNaN(gi)&&gi>0}).map(jt=>({id:`${jt.id}-${jt.company.name}`,name:`${jt.name} (${jt.company.name})`,delivery_time:`${jt.delivery_time} dias teis`,price:parseFloat(jt.price)})),ct=[{id:"retirada-local",name:"Retirada Local - Loja RS Prlipsi",delivery_time:"Disponvel em 1 dia til",price:0},...it];ie(ct),ct.length>0&&U(ct[0])}catch(Ke){console.error("Erro ao buscar opes de frete:",Ke);const We=[{id:"sedex-fallback",name:"SEDEX (Erro na API)",delivery_time:"5 dias teis",price:50},{id:"pac-fallback",name:"PAC (Erro na API)",delivery_time:"10 dias teis",price:30},{id:"jadlog-fallback",name:"Jadlog (Erro na API)",delivery_time:"7 dias teis",price:40}];ie(We),U(We[0])}},Kl=async Ee=>{const Ke=Ee.target.value.replace(/\D/g,"");if(Ke.length===8){q(!0),ie([]),U(null);try{const lt=await(await fetch(`https://viacep.com.br/ws/${Ke}/json/`)).json();lt.erro?alert("CEP no encontrado."):(y(it=>({...it,street:lt.logradouro,neighborhood:lt.bairro,city:lt.localidade,state:lt.uf})),Vn(Ke))}catch(We){console.error("Erro ao buscar CEP:",We)}finally{q(!1)}}},ba=()=>{$("");const Ee=o.find(Ke=>Ke.code.toUpperCase()===k.toUpperCase()&&Ke.status==="Ativo");Ee?I(Ee):($("Cupom invlido ou inativo."),B(0),I(null))},Wl=()=>{te&&(navigator.clipboard.writeText(te.copyPaste),De(!0),setTimeout(()=>De(!1),2e3))},mi=async()=>{var We,lt;if(!Go){alert("Por favor, preencha todos os dados e selecione um mtodo de envio.");return}F(!0),await new Promise(it=>setTimeout(it,2e3));let Ee={},Ke="Pendente";try{if(be==="boleto"&&l.asaas.enabled){const jt=await fetch("/api/payment/boleto",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({amount:Wt,customerName:x.customerName,customerCpf:x.customerCpf,address:{street:x.street,number:x.number,complement:x.complement,neighborhood:x.neighborhood,zipCode:x.zipCode}})});if(!jt.ok)throw new Error("Falha ao gerar o boleto.");Ee={boletoUrl:(await jt.json()).boletoUrl},Ke="Pendente"}else if(be==="pix"){const jt=await fetch("/api/payment/pix",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({orderId:`ORD-${Date.now()}`,amount:Wt,buyer:{name:x.customerName,email:x.email,cpf:x.customerCpf}})});if(!jt.ok)throw new Error("Falha ao gerar o PIX. Tente novamente.");const ut=await jt.json();if(!ut.success)throw new Error(ut.error||"Erro ao gerar PIX");fe({qrCodeUrl:`data:image/png;base64,${ut.qr_code_base64}`,copyPaste:ut.qr_code}),Ee={pixQrCodeUrl:`data:image/png;base64,${ut.qr_code_base64}`,pixCopyableCode:ut.qr_code,pixPaymentId:ut.paymentId},Ke="Pendente"}else if(be==="credit-card"&&l.mercadoPago.enabled){if(!N.number||!N.name||!N.expiry||!N.cvv)throw new Error("Preencha todos os dados do carto.");Ke="Pago"}const it=e.map(ct=>({productId:ct.productId,variantId:ct.variantId,productName:ct.name,quantity:ct.quantity,price:ct.price,variantText:ct.variantText}));V&&et&&it.push({productId:et.id,variantId:((lt=(We=et.variants)==null?void 0:We[0])==null?void 0:lt.id)||"default",productName:`${et.name} (Oferta Especial)`,quantity:1,price:i.offerPrice});const In={id:`#${Date.now().toString().slice(-6)}`,date:new Date().toISOString(),customerName:x.customerName,customerEmail:x.email,customerCpf:x.customerCpf,customerPhone:x.customerPhone,shippingAddress:{street:x.street,number:x.number,complement:x.complement,neighborhood:x.neighborhood,city:x.city,state:x.state,zipCode:x.zipCode},items:it,subtotal:h,shippingCost:Hn,discount:P,appliedCoupon:R==null?void 0:R.code,total:Wt,currency:"BRL",paymentStatus:Ke,fulfillmentStatus:"No Realizado",shippingMethod:K.name,...Ee};n(In)}catch(it){alert(`Erro ao processar pagamento: ${it instanceof Error?it.message:String(it)}`),F(!1)}},_u=()=>O?"Processando...":p!==3?"Finalizar Pedido":be==="boleto"?"Gerar Boleto via Asaas":be==="pix"?"Confirmar Pedido e Gerar PIX":"Pagar com Asaas";return s.jsxs("div",{className:"bg-[rgb(var(--color-brand-dark))] text-[rgb(var(--color-brand-text-light))] min-h-screen",children:[s.jsx("header",{className:"bg-[rgb(var(--color-brand-gray))] backdrop-blur-sm border-b border-[rgb(var(--color-brand-gray-light))]",children:s.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 h-20 grid grid-cols-3 items-center",children:[s.jsx("div",{className:"justify-self-start",children:s.jsxs("button",{onClick:t,className:"flex items-center gap-2 text-[rgb(var(--color-brand-text-dim))] hover:text-[rgb(var(--color-brand-gold))]",children:[s.jsx(Nl,{className:"w-5 h-5"}),s.jsx("span",{className:"hidden sm:inline",children:"Voltar"})]})}),s.jsx("div",{className:"justify-self-center",children:s.jsx("span",{className:"text-3xl font-display text-[rgb(var(--color-brand-gold))]",children:"RS Prlipsi"})})]})}),s.jsx("main",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-8 lg:py-12",children:s.jsxs("div",{className:"lg:grid lg:grid-cols-12 lg:gap-12",children:[s.jsx("div",{className:"lg:col-span-7 mb-12 lg:mb-0",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:`bg-[rgb(var(--color-brand-gray))] rounded-lg border-2 ${p===1?"border-[rgb(var(--color-brand-gold))]":"border-[rgb(var(--color-brand-gray-light))]"}`,children:[s.jsxs("button",{className:"w-full flex items-center gap-4 p-4 text-left",onClick:()=>g(1),children:[s.jsx(Iy,{className:`w-8 h-8 ${p===1?"text-[rgb(var(--color-brand-gold))]":"text-[rgb(var(--color-brand-text-dim))]"}`}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-bold font-display",children:"1. Seus Dados"}),p>1&&Eo&&s.jsxs("p",{className:"text-sm text-[rgb(var(--color-brand-text-dim))] truncate",children:[x.customerName," - ",x.email]})]})]}),p===1&&s.jsxs("div",{className:"p-6 border-t border-[rgb(var(--color-brand-gray-light))] space-y-4",children:[s.jsx("input",{type:"text",name:"customerName",value:x.customerName,onChange:Rn,placeholder:"Nome completo *",className:"w-full bg-[rgb(var(--color-brand-dark))] border-2 border-[rgb(var(--color-brand-gray-light))] rounded-md py-3 px-4 focus:outline-none focus:border-[rgb(var(--color-brand-gold))]"}),s.jsx("input",{type:"email",name:"email",value:x.email,onChange:Rn,placeholder:"E-mail *",className:"w-full bg-[rgb(var(--color-brand-dark))] border-2 border-[rgb(var(--color-brand-gray-light))] rounded-md py-3 px-4 focus:outline-none focus:border-[rgb(var(--color-brand-gold))]"}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsx("input",{type:"text",name:"customerCpf",value:x.customerCpf,onChange:Rn,placeholder:"CPF *",className:"w-full bg-[rgb(var(--color-brand-dark))] border-2 border-[rgb(var(--color-brand-gray-light))] rounded-md py-3 px-4 focus:outline-none focus:border-[rgb(var(--color-brand-gold))]"}),s.jsx("input",{type:"tel",name:"customerPhone",value:x.customerPhone,onChange:Rn,placeholder:"Telefone / WhatsApp *",className:"w-full bg-[rgb(var(--color-brand-dark))] border-2 border-[rgb(var(--color-brand-gray-light))] rounded-md py-3 px-4 focus:outline-none focus:border-[rgb(var(--color-brand-gold))]"})]}),s.jsx("button",{onClick:()=>g(2),disabled:!Eo,className:"w-full bg-[rgb(var(--color-brand-gold))] text-[rgb(var(--color-brand-dark))] font-bold py-3 px-4 rounded-md hover:bg-yellow-400 disabled:opacity-50 disabled:cursor-not-allowed",children:"Continuar"})]})]}),s.jsxs("div",{className:`bg-[rgb(var(--color-brand-gray))] rounded-lg border-2 ${p===2?"border-[rgb(var(--color-brand-gold))]":"border-[rgb(var(--color-brand-gray-light))]"} ${Eo?"":"opacity-50"}`,children:[s.jsxs("button",{className:"w-full flex items-center gap-4 p-4 text-left",onClick:()=>Eo&&g(2),disabled:!Eo,children:[s.jsx(wx,{className:`w-8 h-8 ${p===2?"text-[rgb(var(--color-brand-gold))]":"text-[rgb(var(--color-brand-text-dim))]"}`}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-bold font-display",children:"2. Entrega"}),p>2&&K&&s.jsxs("p",{className:"text-sm text-[rgb(var(--color-brand-text-dim))] truncate",children:[K.name," - ",x.street,", ",x.number]})]})]}),p===2&&s.jsxs("div",{className:"p-6 border-t border-[rgb(var(--color-brand-gray-light))] space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-6 gap-4",children:[s.jsxs("div",{className:"relative sm:col-span-2",children:[s.jsx("input",{type:"text",name:"zipCode",value:x.zipCode,onChange:Rn,onBlur:Kl,placeholder:"CEP *",className:"w-full bg-[rgb(var(--color-brand-dark))] border-2 border-[rgb(var(--color-brand-gray-light))] rounded-md py-3 px-4 focus:outline-none focus:border-[rgb(var(--color-brand-gold))]"}),X&&s.jsx(Lo,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-5 h-5 text-[rgb(var(--color-brand-gold))]"})]}),s.jsx("input",{type:"text",name:"street",value:x.street,onChange:Rn,placeholder:"Endereo *",className:"sm:col-span-4 w-full bg-[rgb(var(--color-brand-dark))] border-2 border-[rgb(var(--color-brand-gray-light))] rounded-md py-3 px-4 focus:outline-none focus:border-[rgb(var(--color-brand-gold))]"}),s.jsx("input",{type:"text",name:"number",value:x.number,onChange:Rn,placeholder:"Nmero *",className:"sm:col-span-2 w-full bg-[rgb(var(--color-brand-dark))] border-2 border-[rgb(var(--color-brand-gray-light))] rounded-md py-3 px-4 focus:outline-none focus:border-[rgb(var(--color-brand-gold))]"}),s.jsx("input",{type:"text",name:"complement",value:x.complement,onChange:Rn,placeholder:"Complemento",className:"sm:col-span-4 w-full bg-[rgb(var(--color-brand-dark))] border-2 border-[rgb(var(--color-brand-gray-light))] rounded-md py-3 px-4 focus:outline-none focus:border-[rgb(var(--color-brand-gold))]"}),s.jsx("input",{type:"text",name:"neighborhood",value:x.neighborhood,onChange:Rn,placeholder:"Bairro *",className:"sm:col-span-3 w-full bg-[rgb(var(--color-brand-dark))] border-2 border-[rgb(var(--color-brand-gray-light))] rounded-md py-3 px-4 focus:outline-none focus:border-[rgb(var(--color-brand-gold))]"}),s.jsx("input",{type:"text",name:"city",value:x.city,onChange:Rn,placeholder:"Cidade *",className:"sm:col-span-2 w-full bg-[rgb(var(--color-brand-dark))] border-2 border-[rgb(var(--color-brand-gray-light))] rounded-md py-3 px-4 focus:outline-none focus:border-[rgb(var(--color-brand-gold))]"}),s.jsx("input",{type:"text",name:"state",value:x.state,onChange:Rn,placeholder:"UF *",className:"sm:col-span-1 w-full bg-[rgb(var(--color-brand-dark))] border-2 border-[rgb(var(--color-brand-gray-light))] rounded-md py-3 px-4 focus:outline-none focus:border-[rgb(var(--color-brand-gold))]"})]}),W.length>0&&s.jsx("div",{className:"space-y-3 pt-4",children:W.map(Ee=>s.jsxs("label",{className:`flex items-center justify-between p-3 rounded-lg border-2 cursor-pointer transition-colors ${(K==null?void 0:K.id)===Ee.id?"bg-[rgb(var(--color-brand-gold))]/[.10] border-[rgb(var(--color-brand-gold))]":"bg-[rgb(var(--color-brand-dark))] border-[rgb(var(--color-brand-gray-light))] hover:border-[rgb(var(--color-brand-gray))]"}`,children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{type:"radio",name:"shipping",checked:(K==null?void 0:K.id)===Ee.id,onChange:()=>U(Ee),className:"h-4 w-4 text-[rgb(var(--color-brand-gold))] bg-[rgb(var(--color-brand-gray))] border-[rgb(var(--color-brand-gray-light))] focus:ring-[rgb(var(--color-brand-gold))]"}),s.jsxs("div",{className:"ml-3 text-sm",children:[s.jsx("p",{className:"font-medium",children:Ee.name}),s.jsx("p",{className:"text-[rgb(var(--color-brand-text-dim))]",children:Ee.delivery_time})]})]}),s.jsx("p",{className:"font-semibold",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(Ee.price)})]},Ee.id))}),s.jsx("button",{onClick:()=>g(3),disabled:!Go,className:"w-full bg-[rgb(var(--color-brand-gold))] text-[rgb(var(--color-brand-dark))] font-bold py-3 px-4 rounded-md hover:bg-yellow-400 disabled:opacity-50 disabled:cursor-not-allowed mt-4",children:"Continuar"})]})]}),s.jsxs("div",{className:`bg-[rgb(var(--color-brand-gray))] rounded-lg border-2 ${p===3?"border-[rgb(var(--color-brand-gold))]":"border-[rgb(var(--color-brand-gray-light))]"} ${Go?"":"opacity-50"}`,children:[s.jsxs("button",{className:"w-full flex items-center gap-4 p-4 text-left",onClick:()=>Go&&g(3),disabled:!Go,children:[s.jsx(Qp,{className:`w-8 h-8 ${p===3?"text-[rgb(var(--color-brand-gold))]":"text-[rgb(var(--color-brand-text-dim))]"}`}),s.jsx("h2",{className:"text-lg font-bold font-display",children:"3. Pagamento"})]}),p===3&&s.jsxs("div",{className:"p-6 border-t border-[rgb(var(--color-brand-gray-light))] space-y-6",children:[s.jsxs("div",{className:"bg-gradient-to-br from-[rgb(var(--color-brand-gold))]/10 to-[rgb(var(--color-brand-dark))] p-5 rounded-lg border-2 border-[rgb(var(--color-brand-gold))]/40",children:[s.jsxs("h3",{className:"text-base font-bold text-[rgb(var(--color-brand-gold))] mb-4 flex items-center gap-2",children:[s.jsx(Ry,{className:"w-6 h-6"}),"Escolha sua forma de pagamento"]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"bg-[rgb(var(--color-brand-dark))] p-4 rounded-lg border-2 border-[rgb(var(--color-brand-gray-light))] hover:border-[rgb(var(--color-brand-gold))] hover:scale-105 transition-all cursor-pointer",onClick:()=>je("pix"),children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("span",{className:"text-sm font-bold text-white",children:"PIX"}),s.jsx("img",{src:"https://logopng.com.br/logos/pix-106.svg",alt:"PIX",className:"h-6 w-6"})]}),s.jsx("p",{className:"text-2xl font-bold text-[rgb(var(--color-brand-gold))] mb-1",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(Wt)}),s.jsx("p",{className:"text-xs text-[rgb(var(--color-brand-text-dim))]",children:" Aprovao imediata"})]}),s.jsxs("div",{className:"bg-[rgb(var(--color-brand-dark))] p-4 rounded-lg border-2 border-[rgb(var(--color-brand-gray-light))] hover:border-[rgb(var(--color-brand-gold))] hover:scale-105 transition-all cursor-pointer",onClick:()=>je("saldo"),children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("span",{className:"text-sm font-bold text-white",children:"Saldo"}),s.jsxs("svg",{className:"w-6 h-6 text-[rgb(var(--color-brand-gold))]",fill:"currentColor",viewBox:"0 0 20 20",children:[s.jsx("path",{d:"M4 4a2 2 0 00-2 2v1h16V6a2 2 0 00-2-2H4z"}),s.jsx("path",{fillRule:"evenodd",d:"M18 9H2v5a2 2 0 002 2h12a2 2 0 002-2V9zM4 13a1 1 0 011-1h1a1 1 0 110 2H5a1 1 0 01-1-1zm5-1a1 1 0 100 2h1a1 1 0 100-2H9z",clipRule:"evenodd"})]})]}),s.jsx("p",{className:"text-2xl font-bold text-[rgb(var(--color-brand-gold))] mb-1",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(Wt)}),s.jsx("p",{className:"text-xs text-[rgb(var(--color-brand-text-dim))]",children:" Sem taxas extras"})]}),s.jsxs("div",{className:"bg-[rgb(var(--color-brand-dark))] p-4 rounded-lg border-2 border-[rgb(var(--color-brand-gray-light))] hover:border-[rgb(var(--color-brand-gold))] hover:scale-105 transition-all cursor-pointer",onClick:()=>je("compartilhado"),children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("span",{className:"text-sm font-bold text-white",children:"Compartilhar"}),s.jsx("svg",{className:"w-6 h-6 text-[rgb(var(--color-brand-gold))]",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{d:"M13 6a3 3 0 11-6 0 3 3 0 016 0zM18 8a2 2 0 11-4 0 2 2 0 014 0zM14 15a4 4 0 00-8 0v3h8v-3zM6 8a2 2 0 11-4 0 2 2 0 014 0zM16 18v-3a5.972 5.972 0 00-.75-2.906A3.005 3.005 0 0119 15v3h-3zM4.75 12.094A5.973 5.973 0 004 15v3H1v-3a3 3 0 013.75-2.906z"})})]}),s.jsx("p",{className:"text-2xl font-bold text-[rgb(var(--color-brand-gold))] mb-1",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(Wt/Te)}),s.jsxs("p",{className:"text-xs text-[rgb(var(--color-brand-text-dim))]",children:[" Por pessoa (",Te,"x)"]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2 bg-[rgb(var(--color-brand-dark))] p-1 rounded-lg",children:[l.mercadoPago.enabled&&s.jsxs("button",{onClick:()=>je("credit-card"),className:`py-2 px-3 text-sm font-semibold rounded-md transition-colors flex items-center justify-center gap-2 ${be==="credit-card"?"bg-[rgb(var(--color-brand-gold))] text-black":"hover:bg-[rgb(var(--color-brand-gray-light))]"}`,children:[s.jsx(Qp,{className:"w-5 h-5"})," Carto"]}),l.asaas.enabled&&s.jsxs("button",{onClick:()=>je("pix"),className:`py-2 px-3 text-sm font-semibold rounded-md transition-colors flex items-center justify-center gap-2 ${be==="pix"?"bg-[rgb(var(--color-brand-gold))] text-black":"hover:bg-[rgb(var(--color-brand-gray-light))]"}`,children:[s.jsx("img",{src:"https://logopng.com.br/logos/pix-106.svg",alt:"PIX",className:"h-4"})," Pix"]}),l.mercadoPago.enabled&&s.jsxs("button",{onClick:()=>je("boleto"),className:`py-2 px-3 text-sm font-semibold rounded-md transition-colors flex items-center justify-center gap-2 ${be==="boleto"?"bg-[rgb(var(--color-brand-gold))] text-black":"hover:bg-[rgb(var(--color-brand-gray-light))]"}`,children:[s.jsx(l3,{className:"w-5 h-5"})," Boleto"]}),s.jsxs("button",{onClick:()=>je("saldo"),className:`py-2 px-3 text-sm font-semibold rounded-md transition-colors flex items-center justify-center gap-2 ${be==="saldo"?"bg-[rgb(var(--color-brand-gold))] text-black":"hover:bg-[rgb(var(--color-brand-gray-light))]"}`,children:[s.jsx(Qp,{className:"w-5 h-5"})," Saldo"]}),s.jsxs("button",{onClick:()=>je("compartilhado"),className:`py-2 px-3 text-sm font-semibold rounded-md transition-colors flex items-center justify-center gap-2 ${be==="compartilhado"?"bg-[rgb(var(--color-brand-gold))] text-black":"hover:bg-[rgb(var(--color-brand-gray-light))]"}`,children:[s.jsx(Iy,{className:"w-5 h-5"})," Compartilhado"]})]}),be==="credit-card"&&s.jsxs("div",{className:"space-y-3 pt-2",children:[s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"text",name:"number",value:N.number,onChange:Ps,placeholder:"Nmero do Carto",className:"w-full bg-[rgb(var(--color-brand-dark))] border-2 border-[rgb(var(--color-brand-gray-light))] rounded-md py-3 px-4 pr-12 focus:outline-none focus:border-[rgb(var(--color-brand-gold))]"}),s.jsxs("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:[A==="visa"&&s.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/5/5e/Visa_Inc._logo.svg",alt:"Visa",className:"h-4"}),A==="mastercard"&&s.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/2/2a/Mastercard-logo.svg",alt:"Mastercard",className:"h-5"})]})]}),s.jsx("input",{type:"text",name:"name",value:N.name,onChange:Ps,placeholder:"Nome no Carto",className:"w-full bg-[rgb(var(--color-brand-dark))] border-2 border-[rgb(var(--color-brand-gray-light))] rounded-md py-3 px-4 focus:outline-none focus:border-[rgb(var(--color-brand-gold))]"}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsx("input",{type:"text",name:"expiry",value:N.expiry,onChange:Ps,placeholder:"Validade (MM/AA)",className:"w-full bg-[rgb(var(--color-brand-dark))] border-2 border-[rgb(var(--color-brand-gray-light))] rounded-md py-3 px-4 focus:outline-none focus:border-[rgb(var(--color-brand-gold))]"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"text",name:"cvv",value:N.cvv,onChange:Ps,placeholder:"CVV",className:"w-full bg-[rgb(var(--color-brand-dark))] border-2 border-[rgb(var(--color-brand-gray-light))] rounded-md py-3 px-4 pr-10 focus:outline-none focus:border-[rgb(var(--color-brand-gold))]"}),s.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center group cursor-help",children:s.jsx(Ry,{className:"w-5 h-5 text-[rgb(var(--color-brand-text-dim))]"})})]})]}),s.jsxs("div",{className:"flex items-center justify-center gap-2 pt-2 text-sm text-[rgb(var(--color-brand-text-dim))]",children:[s.jsx(s3,{className:"w-4 h-4"}),s.jsx("span",{children:"Pagamento seguro por"}),s.jsx("span",{className:"font-bold",children:"RS Prlipsi"})]})]}),be==="pix"&&s.jsxs("div",{className:"text-center p-4 bg-[rgb(var(--color-brand-dark))] rounded-lg",children:[s.jsx("p",{className:"font-semibold mb-2",children:"Pagamento via PIX"}),O&&!te?s.jsxs("div",{className:"h-[268px] flex flex-col items-center justify-center",children:[s.jsx(Lo,{className:"w-10 h-10 text-[rgb(var(--color-brand-gold))] mb-2"})," ",s.jsx("p",{children:"Gerando PIX..."})]}):te?s.jsxs(s.Fragment,{children:[s.jsx("img",{src:te.qrCodeUrl,alt:"QR Code PIX",className:"mx-auto bg-white p-2 rounded-md"}),s.jsx("p",{className:"text-sm mt-4 text-[rgb(var(--color-brand-text-dim))]",children:"Aponte a cmera do seu celular para pagar."}),s.jsxs("button",{onClick:Wl,className:"mt-4 w-full bg-[rgb(var(--color-brand-gray-light))] text-[rgb(var(--color-brand-text-light))] font-semibold py-3 px-4 rounded-md hover:bg-gray-600 flex items-center justify-center gap-2",children:[xe?s.jsx(Qc,{className:"w-5 h-5 text-green-400"}):s.jsx(vs,{className:"w-5 h-5"}),xe?"Cdigo Copiado!":"Copiar Cdigo PIX"]})]}):s.jsx("p",{children:"No foi possvel gerar o PIX."})]}),be==="boleto"&&s.jsxs("div",{className:"text-center p-4 bg-[rgb(var(--color-brand-dark))] rounded-lg text-[rgb(var(--color-brand-text-dim))] space-y-3",children:[s.jsx("p",{className:"font-semibold text-white",children:"Boleto Bancrio"}),s.jsx(l3,{className:"w-16 h-16 mx-auto text-[rgb(var(--color-brand-gold))]"}),s.jsx("p",{children:"O boleto ser gerado aps a finalizao da compra e poder ser pago em qualquer banco ou casa lotrica at a data de vencimento."})]}),be==="saldo"&&s.jsxs("div",{className:"text-center p-4 bg-[rgb(var(--color-brand-dark))] rounded-lg text-[rgb(var(--color-brand-text-dim))] space-y-3",children:[s.jsx("p",{className:"font-semibold text-white",children:"Pagar com Saldo RS Prlipsi"}),s.jsx(Qp,{className:"w-16 h-16 mx-auto text-[rgb(var(--color-brand-gold))]"}),s.jsxs("div",{className:"bg-[rgb(var(--color-brand-gray))] p-4 rounded-lg",children:[s.jsx("p",{className:"text-white font-bold text-2xl",children:"R$ 0,00"}),s.jsx("p",{className:"text-sm",children:"Saldo disponvel"})]}),s.jsx("p",{children:"Use seu saldo RS Prlipsi para pagar este pedido. Rpido, seguro e sem taxas!"})]}),be==="compartilhado"&&s.jsxs("div",{className:"p-4 bg-[rgb(var(--color-brand-dark))] rounded-lg text-[rgb(var(--color-brand-text-dim))] space-y-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"font-semibold text-white text-lg",children:"Pedido Compartilhado"}),s.jsx(Iy,{className:"w-16 h-16 mx-auto text-[rgb(var(--color-brand-gold))] my-2"}),s.jsx("p",{className:"text-sm",children:"Divida o pagamento com vrias pessoas! Cada um paga sua parte."})]}),Ge?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"bg-green-500/10 border border-green-500/30 p-4 rounded-lg",children:[s.jsx("p",{className:"text-green-400 font-bold text-center mb-2",children:" Link Gerado com Sucesso!"}),s.jsxs("p",{className:"text-xs text-center text-[rgb(var(--color-brand-text-dim))] mb-3",children:["Compartilhe este link com os ",Te," participantes:"]}),s.jsx("div",{className:"bg-[rgb(var(--color-brand-dark))] p-3 rounded-md border border-[rgb(var(--color-brand-gray-light))] break-all text-sm",children:Ge}),s.jsxs("button",{onClick:()=>{navigator.clipboard.writeText(Ge)},className:"mt-3 w-full bg-[rgb(var(--color-brand-gray-light))] text-white font-semibold py-2 px-4 rounded-md hover:bg-gray-600 flex items-center justify-center gap-2",children:[s.jsx(vs,{className:"w-5 h-5"})," Copiar Link"]})]}),s.jsxs("div",{className:"bg-[rgb(var(--color-brand-gray))] p-4 rounded-lg",children:[s.jsx("p",{className:"text-sm font-semibold text-white mb-2",children:"Cdigo de Compartilhamento:"}),s.jsx("p",{className:"text-3xl font-bold text-[rgb(var(--color-brand-gold))] text-center tracking-wider",children:Le==null?void 0:Le.shareCode}),s.jsx("p",{className:"text-xs text-center text-[rgb(var(--color-brand-text-dim))] mt-2",children:"Os participantes podem usar este cdigo para acessar o pedido"})]}),s.jsxs("div",{className:"bg-blue-500/10 border border-blue-500/30 p-4 rounded-lg text-sm",children:[s.jsx("p",{className:"text-blue-400 font-semibold mb-2",children:" Prximos passos:"}),s.jsxs("ul",{className:"space-y-1 text-[rgb(var(--color-brand-text-dim))]",children:[s.jsx("li",{children:" Compartilhe o link ou cdigo com os participantes"}),s.jsx("li",{children:" Acompanhe o status dos pagamentos em tempo real"}),s.jsx("li",{children:" O pedido ser processado automaticamente quando todos pagarem"})]})]})]}):s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"bg-blue-500/10 border border-blue-500/30 p-4 rounded-lg mb-4",children:[s.jsx("p",{className:"text-blue-400 font-semibold text-sm mb-2",children:" Como funciona o Pedido Unificado:"}),s.jsxs("ul",{className:"text-xs text-[rgb(var(--color-brand-text-dim))] space-y-1",children:[s.jsx("li",{children:" Vrios consultores fazem pedidos individuais"}),s.jsx("li",{children:" Cada um adiciona seu ID ao grupo de unificao"}),s.jsx("li",{children:" Todos os pedidos so consolidados em uma nica entrega"}),s.jsx("li",{children:" Cada consultor paga apenas seu pedido"})]})]}),s.jsxs("div",{className:"bg-[rgb(var(--color-brand-gray))] p-4 rounded-lg",children:[s.jsx("label",{className:"block text-sm font-semibold text-white mb-2",children:"Criar Grupo de Unificao:"}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("button",{onClick:()=>de(Math.max(2,Te-1)),className:"bg-[rgb(var(--color-brand-gray-light))] text-white px-4 py-2 rounded-md hover:bg-gray-600 font-bold text-lg",children:"-"}),s.jsxs("div",{className:"flex-1 text-center",children:[s.jsx("p",{className:"text-3xl font-bold text-[rgb(var(--color-brand-gold))]",children:Te}),s.jsx("p",{className:"text-xs text-[rgb(var(--color-brand-text-dim))]",children:"pessoas"})]}),s.jsx("button",{onClick:()=>de(Math.min(6,Te+1)),className:"bg-[rgb(var(--color-brand-gray-light))] text-white px-4 py-2 rounded-md hover:bg-gray-600 font-bold text-lg",children:"+"})]})]}),s.jsx("div",{className:"bg-gradient-to-r from-[rgb(var(--color-brand-gold))]/20 to-transparent p-4 rounded-lg border border-[rgb(var(--color-brand-gold))]/30",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-[rgb(var(--color-brand-text-dim))]",children:"Valor por pessoa"}),s.jsx("p",{className:"text-2xl font-bold text-[rgb(var(--color-brand-gold))]",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(Wt/Te)})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-xs text-[rgb(var(--color-brand-text-dim))]",children:"Total do pedido"}),s.jsx("p",{className:"text-lg font-semibold text-white",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(Wt)})]})]})}),s.jsxs("div",{className:"bg-[rgb(var(--color-brand-gray))] p-4 rounded-lg text-left space-y-2",children:[s.jsxs("p",{className:"text-xs font-semibold text-white flex items-center gap-2",children:[s.jsx(Ry,{className:"w-4 h-4"}),"Como funciona:"]}),s.jsxs("ul",{className:"text-sm space-y-1.5 text-[rgb(var(--color-brand-text-dim))]",children:[s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-[rgb(var(--color-brand-gold))] font-bold",children:"1."}),s.jsx("span",{children:"Voc gera um link de pagamento compartilhado"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-[rgb(var(--color-brand-gold))] font-bold",children:"2."}),s.jsxs("span",{children:["Envia para os ",Te," participantes"]})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-[rgb(var(--color-brand-gold))] font-bold",children:"3."}),s.jsx("span",{children:"Cada um paga sua parte via PIX, boleto ou saldo"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-[rgb(var(--color-brand-gold))] font-bold",children:"4."}),s.jsx("span",{children:"Entrega em um nico endereo quando atingir 100%"})]})]})]}),s.jsx("button",{onClick:async()=>{Re(!0);try{const Ke=await(await fetch("/api/shared-order/create",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({orderId:`ORD-${Date.now()}`,totalAmount:Wt,items:e,deliveryAddress:x,organizer:{name:x.customerName,email:x.email,cpf:x.customerCpf},maxParticipants:Te})})).json();Ke.success&&(Be(Ke.shareUrl),Oe(Ke))}catch(Ee){console.error("Erro ao criar pedido compartilhado:",Ee)}Re(!1)},disabled:re,className:"w-full bg-[rgb(var(--color-brand-gold))] text-[rgb(var(--color-brand-dark))] font-bold py-3 rounded-md hover:bg-yellow-400 transition-colors flex items-center justify-center gap-2 disabled:bg-[rgb(var(--color-brand-gray-light))] disabled:cursor-not-allowed",children:re?s.jsxs(s.Fragment,{children:[s.jsx(Lo,{className:"w-5 h-5"})," Criando link..."]}):s.jsx(s.Fragment,{children:" Gerar Link Compartilhado"})})]})]}),s.jsxs("button",{onClick:mi,disabled:O,className:"mt-4 w-full bg-[rgb(var(--color-brand-gold))] text-[rgb(var(--color-brand-dark))] font-bold py-3 rounded-md hover:bg-yellow-400 transition-colors flex items-center justify-center gap-2 disabled:bg-[rgb(var(--color-brand-gray-light))] disabled:cursor-not-allowed",children:[O?s.jsx(Lo,{className:"w-5 h-5"}):s.jsx(s3,{className:"w-5 h-5"}),_u()]})]})]})]})}),s.jsx("div",{className:"lg:col-span-5",children:s.jsxs("div",{className:"bg-[rgb(var(--color-brand-gray))] p-6 rounded-lg lg:sticky lg:top-28 self-start border border-[rgb(var(--color-brand-gray-light))]",children:[s.jsx("h2",{className:"text-xl font-bold font-display text-[rgb(var(--color-brand-text-light))] mb-4",children:"Resumo do Pedido"}),s.jsx("div",{className:"space-y-3 max-h-60 overflow-y-auto pr-2 mb-4 border-b border-[rgb(var(--color-brand-gray-light))] pb-4",children:e.map(Ee=>s.jsxs("div",{className:"flex items-start gap-4 py-3",children:[s.jsxs("div",{className:"relative flex-shrink-0",children:[s.jsx("img",{src:Ee.image,alt:Ee.name,className:"w-16 h-16 object-cover rounded-md"}),s.jsx("span",{className:"absolute -top-2 -right-2 bg-[rgb(var(--color-brand-gold))] text-[rgb(var(--color-brand-dark))] text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:Ee.quantity})]}),s.jsxs("div",{className:"flex-grow",children:[s.jsx("p",{className:"font-semibold text-sm leading-tight",children:Ee.name}),Ee.variantText&&s.jsx("p",{className:"text-xs text-[rgb(var(--color-brand-text-dim))]",children:Ee.variantText}),s.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[s.jsxs("div",{className:"flex items-center border border-[rgb(var(--color-brand-gray-light))] rounded-full",children:[s.jsx("button",{onClick:()=>u(Ee.id,Ee.quantity-1),className:"px-3 py-1 text-lg text-[rgb(var(--color-brand-text-dim))] hover:text-[rgb(var(--color-brand-text-light))] rounded-l-full",children:"-"}),s.jsx("span",{className:"px-2 text-sm font-semibold",children:Ee.quantity}),s.jsx("button",{onClick:()=>u(Ee.id,Ee.quantity+1),className:"px-3 py-1 text-lg text-[rgb(var(--color-brand-text-dim))] hover:text-[rgb(var(--color-brand-text-light))] rounded-r-full",children:"+"})]}),s.jsx("button",{onClick:()=>f(Ee.id),className:"text-[rgb(var(--color-brand-text-dim))] hover:text-[rgb(var(--color-error))]",title:"Remover item",children:s.jsx(Tn,{className:"w-4 h-4"})})]})]}),s.jsx("p",{className:"font-semibold text-sm",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(Ee.price*Ee.quantity)})]},Ee.id))}),et&&s.jsx("div",{className:"my-6 p-4 rounded-lg border-2 border-dashed border-[rgb(var(--color-brand-gold))] bg-[rgb(var(--color-brand-gold))]/[.05]",children:s.jsxs("label",{className:"flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:V,onChange:()=>pe(!V),className:"h-5 w-5 rounded bg-[rgb(var(--color-brand-gray))] border-[rgb(var(--color-brand-gray-light))] text-[rgb(var(--color-brand-gold))] focus:ring-[rgb(var(--color-brand-gold))]"}),s.jsxs("div",{className:"ml-3 flex-grow",children:[s.jsx("p",{className:"font-bold text-[rgb(var(--color-brand-gold))] text-sm",children:i.title}),s.jsxs("div",{className:"flex items-baseline gap-2",children:[s.jsx("span",{className:"text-md font-bold text-white",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(i.offerPrice)}),s.jsx("span",{className:"text-xs text-[rgb(var(--color-brand-text-dim))] line-through",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(et.price)})]})]})]})}),s.jsxs("div",{className:"space-y-2 py-4 border-b border-[rgb(var(--color-brand-gray-light))]",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{value:k,onChange:Ee=>D(Ee.target.value),type:"text",placeholder:"Cupom de desconto",className:"flex-grow bg-[rgb(var(--color-brand-dark))] border-2 border-[rgb(var(--color-brand-gray-light))] rounded-md py-2 px-3 text-sm focus:outline-none focus:border-[rgb(var(--color-brand-gold))]"}),s.jsx("button",{onClick:ba,className:"font-semibold bg-[rgb(var(--color-brand-dark))] py-2 px-4 rounded-md hover:bg-[rgb(var(--color-brand-gray-light))]",children:"Aplicar"})]}),L&&s.jsx("p",{className:"text-xs text-[rgb(var(--color-error))] mt-1",children:L}),R&&s.jsxs("p",{className:"text-xs text-[rgb(var(--color-success))] mt-1",children:['Cupom "',R.code,'" aplicado!']})]}),s.jsxs("div",{className:"space-y-2 pt-4",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"Subtotal:"}),s.jsx("span",{children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(h)})]}),V&&et&&s.jsxs("div",{className:"flex justify-between text-sm text-[rgb(var(--color-brand-gold))]",children:[s.jsx("span",{children:"Oferta Especial:"}),s.jsxs("span",{children:["+ ",new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(qt)]})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"Frete:"}),s.jsx("span",{children:K?new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(Hn):"Aguardando CEP"})]}),P>0&&s.jsxs("div",{className:"flex justify-between text-sm text-[rgb(var(--color-success))]",children:[s.jsx("span",{children:"Desconto:"}),s.jsxs("span",{children:["- ",new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(P)]})]}),s.jsxs("div",{className:"flex justify-between font-bold text-xl text-[rgb(var(--color-brand-gold))] border-t border-[rgb(var(--color-brand-gray-light))] pt-2 mt-2",children:[s.jsx("span",{children:"Total:"}),s.jsx("span",{children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(Wt)})]})]})]})})]})})]})},bne=({onRegisterSuccess:e,onBackToHome:t})=>{const[n,r]=E.useState({sponsorId:"RS Prlipsi",nomeCompleto:"",cpfCnpj:"",email:"",telefone:"",cep:"",logradouro:"",numero:"",complemento:"",bairro:"",cidade:"",estado:"",nomeLoja:"",codigoIndicacao:"",senha:"",confirmarSenha:"",termos:!1}),[o,i]=E.useState(!1),[a,l]=E.useState(!1),[u,f]=E.useState(""),h=y=>{const{name:N,value:C,type:A,checked:T}=y.target;r(k=>({...k,[N]:A==="checkbox"?T:C}))},p=y=>{if(y.preventDefault(),f(""),n.senha!==n.confirmarSenha){f("As senhas no coincidem.");return}if(!n.termos){f("Voc deve aceitar os termos e condies.");return}console.log("Dados do formulrio:",n),alert("Cadastro realizado com sucesso! Em breve, nossa equipe da sede entrar em contato para finalizar seu credenciamento."),e()},g=({children:y})=>s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-x-6 gap-y-4",children:y}),x=({name:y,label:N,type:C="text",required:A=!1,fullWidth:T=!1,value:k,onChange:D,children:R})=>s.jsxs("div",{className:T?"sm:col-span-2":"",children:[s.jsx("label",{htmlFor:y,className:"block text-sm font-medium text-gray-300 mb-1",children:N}),s.jsx("input",{type:C,name:y,id:y,required:A,value:k,onChange:D,className:"appearance-none block w-full px-3 py-2 border-2 border-gray-700 bg-gray-800 text-white placeholder-gray-500 rounded-md focus:outline-none focus:ring-yellow-500 focus:border-yellow-500 sm:text-sm"}),R]});return s.jsx("div",{className:"bg-black min-h-screen py-12 px-4",children:s.jsxs("div",{className:"w-full max-w-4xl mx-auto p-8 space-y-8 bg-black border-2 border-yellow-600/30 rounded-lg shadow-2xl",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold text-center font-display text-yellow-400",children:"Cadastro de Lojista"}),s.jsx("p",{className:"mt-2 text-center text-gray-400",children:"Faa parte do nosso marketplace premium."})]}),s.jsxs("form",{className:"mt-8 space-y-8",onSubmit:p,children:[s.jsxs("fieldset",{className:"space-y-4",children:[s.jsx("legend",{className:"text-lg font-semibold text-white mb-4",children:"Patrocinador"}),s.jsx(g,{children:s.jsx(x,{name:"sponsorId",label:"ID ou Nome do Patrocinador",required:!0,value:n.sponsorId,onChange:h,fullWidth:!0,children:s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Seu cadastro deve ser vinculado a um patrocinador. Se no tiver um, mantenha o ID da empresa. O link de indicao preencher este campo automaticamente."})})})]}),s.jsxs("fieldset",{className:"space-y-4 border-t-2 border-gray-800 pt-6",children:[s.jsx("legend",{className:"text-lg font-semibold text-white px-2 -mt-10 bg-black",children:"Dados Pessoais"}),s.jsxs(g,{children:[s.jsx(x,{name:"nomeCompleto",label:"Nome Completo",required:!0,value:n.nomeCompleto,onChange:h,fullWidth:!0}),s.jsx(x,{name:"cpfCnpj",label:"CPF / CNPJ",required:!0,value:n.cpfCnpj,onChange:h}),s.jsx(x,{name:"email",label:"E-mail",type:"email",required:!0,value:n.email,onChange:h}),s.jsx(x,{name:"telefone",label:"Telefone / WhatsApp",type:"tel",required:!0,value:n.telefone,onChange:h})]})]}),s.jsxs("fieldset",{className:"space-y-4 border-t-2 border-gray-800 pt-6",children:[s.jsx("legend",{className:"text-lg font-semibold text-white px-2 -mt-10 bg-black",children:"Endereo"}),s.jsxs(g,{children:[s.jsx(x,{name:"cep",label:"CEP",required:!0,value:n.cep,onChange:h}),s.jsx(x,{name:"logradouro",label:"Logradouro (Rua, Av.)",required:!0,value:n.logradouro,onChange:h}),s.jsx(x,{name:"numero",label:"Nmero",required:!0,value:n.numero,onChange:h}),s.jsx(x,{name:"complemento",label:"Complemento",value:n.complemento,onChange:h}),s.jsx(x,{name:"bairro",label:"Bairro",required:!0,value:n.bairro,onChange:h}),s.jsx(x,{name:"cidade",label:"Cidade",required:!0,value:n.cidade,onChange:h}),s.jsx(x,{name:"estado",label:"Estado (UF)",required:!0,value:n.estado,onChange:h})]})]}),s.jsxs("fieldset",{className:"space-y-4 border-t-2 border-gray-800 pt-6",children:[s.jsx("legend",{className:"text-lg font-semibold text-white px-2 -mt-10 bg-black",children:"Dados da Loja"}),s.jsxs(g,{children:[s.jsx(x,{name:"nomeLoja",label:"Nome da Loja",required:!0,value:n.nomeLoja,onChange:h,fullWidth:!0}),s.jsx(x,{name:"codigoIndicacao",label:"Cdigo de Indicao",required:!0,value:n.codigoIndicacao,onChange:h,fullWidth:!0,children:s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Este cadastro deve ser feito atravs de um indicador da Sede."})})]})]}),s.jsxs("fieldset",{className:"space-y-4 border-t-2 border-gray-800 pt-6",children:[s.jsx("legend",{className:"text-lg font-semibold text-white px-2 -mt-10 bg-black",children:"Dados de Acesso"}),s.jsxs(g,{children:[s.jsxs("div",{className:"relative",children:[s.jsx("label",{htmlFor:"senha",className:"block text-sm font-medium text-gray-300 mb-1",children:"Senha"}),s.jsx("input",{id:"senha",name:"senha",type:o?"text":"password",required:!0,value:n.senha,onChange:h,className:"appearance-none block w-full px-3 py-2 border-2 border-gray-700 bg-gray-800 text-white rounded-md pr-10"}),s.jsx("button",{type:"button",onClick:()=>i(!o),className:"absolute bottom-2 right-3 text-gray-400",children:o?s.jsx(Xc,{className:"h-5 w-5"}):s.jsx(bs,{className:"h-5 w-5"})})]}),s.jsxs("div",{className:"relative",children:[s.jsx("label",{htmlFor:"confirmarSenha",className:"block text-sm font-medium text-gray-300 mb-1",children:"Confirmar Senha"}),s.jsx("input",{id:"confirmarSenha",name:"confirmarSenha",type:a?"text":"password",required:!0,value:n.confirmarSenha,onChange:h,className:"appearance-none block w-full px-3 py-2 border-2 border-gray-700 bg-gray-800 text-white rounded-md pr-10"}),s.jsx("button",{type:"button",onClick:()=>l(!a),className:"absolute bottom-2 right-3 text-gray-400",children:a?s.jsx(Xc,{className:"h-5 w-5"}):s.jsx(bs,{className:"h-5 w-5"})})]})]})]}),u&&s.jsx("p",{className:"text-red-500 text-sm text-center !mt-4",children:u}),s.jsx("div",{className:"pt-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{id:"termos",name:"termos",type:"checkbox",checked:n.termos,onChange:h,className:"h-4 w-4 text-yellow-500 bg-gray-700 border-gray-600 rounded focus:ring-yellow-600"}),s.jsxs("label",{htmlFor:"termos",className:"ml-2 block text-sm text-gray-300",children:["Eu li e aceito os ",s.jsx("a",{href:"#",className:"font-medium text-yellow-500 hover:text-yellow-400",children:"Termos e Condies"})]})]})}),s.jsx("div",{children:s.jsx("button",{type:"submit",className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-md text-black bg-yellow-500 hover:bg-yellow-400 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-900 focus:ring-yellow-500 transition-colors mt-6",children:"Finalizar Cadastro"})})]}),s.jsx("div",{className:"text-center",children:s.jsx("button",{onClick:t,className:"font-medium text-sm text-yellow-500 hover:text-yellow-400",children:"Voltar para a loja"})})]})})},vne=({settings:e,onSave:t,onNavigate:n})=>{const[r,o]=E.useState(e),[i,a]=E.useState(!1);E.useEffect(()=>{o(e)},[e]),E.useEffect(()=>{const N=JSON.stringify(r)!==JSON.stringify(e);a(N)},[r,e]);const l=N=>{const{name:C,value:A}=N.target;o(T=>({...T,[C]:C==="frequency"?A:Number(A)}))},u=(N,C,A)=>{o(T=>({...T,tiers:T.tiers.map(k=>k.id===N?{...k,[C]:C==="name"?A:Number(A)}:k)}))},f=(N,C,A)=>{o(T=>({...T,tiers:T.tiers.map(k=>k.id===N?{...k,[C]:A}:k)}))},h=()=>{const N={id:`tier-${Date.now()}`,name:"Novo Nvel",pointsRequired:r.tiers.length>0?Math.max(...r.tiers.map(C=>C.pointsRequired))+1e3:1e3,reward:r.tiers.length>0?Math.max(...r.tiers.map(C=>C.reward))+100:100,pinImageUrl:"",bannerImageUrl:""};o(C=>({...C,tiers:[...C.tiers,N]}))},p=N=>{o(C=>({...C,tiers:C.tiers.filter(A=>A.id!==N)}))},g=()=>{t(r)},x=()=>{o(e)},y=["Semanal","Mensal","Trimestral","Semestral","Anual"];return s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"pb-6 mb-6 flex justify-end items-center border-b border-gray-800",children:s.jsxs("div",{className:"flex items-center gap-4",children:[i&&s.jsx("p",{className:"text-sm text-yellow-400 mr-4",children:"Voc tem alteraes no salvas."}),s.jsx("button",{onClick:x,disabled:!i,className:"text-sm font-semibold bg-gray-700 text-white py-2 px-4 rounded-md hover:bg-gray-600 disabled:opacity-50 disabled:cursor-not-allowed",children:"Descartar"}),s.jsx("button",{onClick:g,disabled:!i,className:"text-sm font-bold bg-yellow-500 text-black py-2 px-4 rounded-md hover:bg-yellow-400 disabled:opacity-50 disabled:cursor-not-allowed",children:"Salvar"})]})}),s.jsxs("div",{className:"max-w-7xl mx-auto space-y-8",children:[s.jsxs("div",{className:"bg-black border border-gray-800 rounded-lg p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Frequncia da Premiao"}),s.jsx("p",{className:"text-sm text-gray-400 mb-6",children:"Escolha a periodicidade em que os bnus do plano de compensao sero calculados e pagos."}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"frequency",className:"block text-sm font-medium text-gray-300 mb-2",children:"Frequncia de Pagamento"}),s.jsx("select",{id:"frequency",name:"frequency",value:r.frequency,onChange:l,className:"w-full bg-gray-800 border-2 border-gray-700 rounded-md py-2 px-3 text-white focus:outline-none focus:border-yellow-500",children:y.map(N=>s.jsx("option",{value:N,children:N},N))})]})]}),s.jsxs("div",{className:"bg-black border border-gray-800 rounded-lg p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Regras de Pontuao"}),s.jsx("p",{className:"text-sm text-gray-400 mb-6",children:"Defina quantos pontos so gerados por cada R$ 1 vendido em cada modalidade."}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"dropshippingPointsPerBrl",className:"block text-sm font-medium text-gray-300 mb-2 flex items-center gap-2",children:[s.jsx(yx,{className:"w-5 h-5 text-yellow-400"}),"Pontos por R$1 vendido (Dropshipping)"]}),s.jsx("input",{type:"number",id:"dropshippingPointsPerBrl",name:"dropshippingPointsPerBrl",value:r.dropshippingPointsPerBrl,onChange:l,className:"w-full bg-gray-800 border-2 border-gray-700 rounded-md py-2 px-3 text-white focus:outline-none focus:border-yellow-500",step:"0.1"})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"affiliatePointsPerBrl",className:"block text-sm font-medium text-gray-300 mb-2 flex items-center gap-2",children:[s.jsx($f,{className:"w-5 h-5 text-yellow-400"}),"Pontos por R$1 vendido (Afiliados)"]}),s.jsx("input",{type:"number",id:"affiliatePointsPerBrl",name:"affiliatePointsPerBrl",value:r.affiliatePointsPerBrl,onChange:l,className:"w-full bg-gray-800 border-2 border-gray-700 rounded-md py-2 px-3 text-white focus:outline-none focus:border-yellow-500",step:"0.1"})]})]})]}),s.jsxs("div",{className:"bg-black border border-gray-800 rounded-lg",children:[s.jsxs("div",{className:"p-4 border-b border-gray-800 flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold text-white",children:["Nveis de Premiao (",r.frequency,")"]}),s.jsx("p",{className:"text-sm text-gray-400",children:"Crie os nveis de recompensa baseados na pontuao acumulada no perodo."})]}),s.jsx("button",{onClick:h,className:"text-sm font-bold bg-gray-700 text-white py-2 px-4 rounded-md hover:bg-gray-600",children:"+ Adicionar Nvel"})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{className:"text-left text-gray-400",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3",children:"Nome do Nvel"}),s.jsx("th",{className:"px-6 py-3",children:"PIN"}),s.jsx("th",{className:"px-6 py-3",children:"Banner do Prmio"}),s.jsx("th",{className:"px-6 py-3",children:"Pontos Necessrios"}),s.jsx("th",{className:"px-6 py-3",children:"Recompensa (Bnus R$)"}),s.jsx("th",{className:"px-6 py-3 text-right",children:"Aes"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-800",children:r.tiers.map(N=>s.jsxs("tr",{children:[s.jsx("td",{className:"px-6 py-4 align-middle",children:s.jsx("input",{type:"text",value:N.name,onChange:C=>u(N.id,"name",C.target.value),className:"w-full bg-gray-800 border-2 border-gray-700 rounded-md py-1 px-2 text-white"})}),s.jsx("td",{className:"px-6 py-4 align-middle",children:s.jsx("div",{className:"w-24",children:s.jsx(Cr,{currentImage:N.pinImageUrl,onImageUpload:C=>f(N.id,"pinImageUrl",C),placeholderText:"Subir Pin",aspectRatio:"square"})})}),s.jsx("td",{className:"px-6 py-4 align-middle",children:s.jsx("div",{className:"w-40",children:s.jsx(Cr,{currentImage:N.bannerImageUrl,onImageUpload:C=>f(N.id,"bannerImageUrl",C),placeholderText:"Subir Banner",aspectRatio:"video"})})}),s.jsx("td",{className:"px-6 py-4 align-middle",children:s.jsx("input",{type:"number",value:N.pointsRequired,onChange:C=>u(N.id,"pointsRequired",C.target.value),className:"w-full bg-gray-800 border-2 border-gray-700 rounded-md py-1 px-2 text-white"})}),s.jsx("td",{className:"px-6 py-4 align-middle",children:s.jsx("input",{type:"number",value:N.reward,onChange:C=>u(N.id,"reward",C.target.value),className:"w-full bg-gray-800 border-2 border-gray-700 rounded-md py-1 px-2 text-white"})}),s.jsx("td",{className:"px-6 py-4 text-right align-middle",children:s.jsx("button",{onClick:()=>p(N.id),className:"p-2 text-gray-500 hover:text-red-500","aria-label":`Excluir nvel ${N.name}`,children:s.jsx(Tn,{className:"w-5 h-5"})})})]},N.id))})]})})]})]})]})},yne=e=>s.jsxs("svg",{...e,viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",children:[s.jsx("circle",{cx:"9",cy:"6",r:"1.5"}),s.jsx("circle",{cx:"15",cy:"6",r:"1.5"}),s.jsx("circle",{cx:"9",cy:"12",r:"1.5"}),s.jsx("circle",{cx:"15",cy:"12",r:"1.5"}),s.jsx("circle",{cx:"9",cy:"18",r:"1.5"}),s.jsx("circle",{cx:"15",cy:"18",r:"1.5"})]}),wne=({banners:e,onUpdate:t})=>{const[n,r]=E.useState(e),[o,i]=E.useState(null),[a,l]=E.useState(null);E.useEffect(()=>{r(e)},[e]);const u=JSON.stringify(n)!==JSON.stringify(e),f=()=>{t(n)},h=()=>{r(e)},p=(T,k,D)=>{const R=[...n];R[T]={...R[T],[k]:D},r(R)},g=()=>{const T={id:`dash-banner-${Date.now()}`,desktopImage:"",mobileImage:"",link:"#"};r(k=>[...k,T])},x=T=>{r(k=>k.filter(D=>D.id!==T))},y=(T,k)=>{i(k),T.dataTransfer.effectAllowed="move"},N=T=>{T!==o&&l(T)},C=()=>{if(o===null||a===null||o===a)return;const T=[...n],k=T.splice(o,1)[0];T.splice(a,0,k),r(T)},A=()=>{C(),i(null),l(null)};return s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"pb-6 mb-6 flex justify-end items-center border-b border-[rgb(var(--color-brand-gray-light))]",children:s.jsxs("div",{className:"flex items-center gap-4",children:[u&&s.jsx("p",{className:"text-sm text-[rgb(var(--color-brand-gold))]",children:"Voc tem alteraes no salvas."}),s.jsx("button",{onClick:h,disabled:!u,className:"text-sm font-semibold bg-[rgb(var(--color-brand-gray))] text-[rgb(var(--color-brand-text-light))] py-2 px-4 rounded-md hover:bg-[rgb(var(--color-brand-gray-light))] disabled:opacity-50 disabled:cursor-not-allowed",children:"Descartar"}),s.jsx("button",{onClick:f,disabled:!u,className:"text-sm font-bold bg-[rgb(var(--color-brand-gold))] text-[rgb(var(--color-brand-dark))] py-2 px-4 rounded-md hover:bg-yellow-400 disabled:opacity-50 disabled:cursor-not-allowed",children:"Salvar Banners"})]})}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("p",{className:"text-[rgb(var(--color-brand-text-dim))] max-w-2xl",children:"Gerencie os banners que aparecem na pgina inicial do seu painel de administrador. Use este espao para anncios internos, lanamentos e comunicados."}),s.jsx("button",{onClick:g,className:"text-sm font-semibold bg-[rgb(var(--color-brand-gray))] text-[rgb(var(--color-brand-text-light))] py-2 px-4 rounded-md hover:bg-[rgb(var(--color-brand-gray-light))] whitespace-nowrap",children:"+ Adicionar Banner"})]}),s.jsxs("div",{className:"space-y-4",children:[n.map((T,k)=>s.jsxs(bo.Fragment,{children:[a===k&&o!==k&&s.jsx("div",{className:"h-2 my-2 border-2 border-dashed border-[rgb(var(--color-brand-gold))] rounded-lg bg-[rgb(var(--color-brand-gold))]/[.10]"}),s.jsxs("div",{draggable:!0,onDragStart:D=>y(D,k),onDragEnter:()=>N(k),onDragEnd:A,onDragOver:D=>D.preventDefault(),className:`bg-[rgb(var(--color-brand-dark))] border border-[rgb(var(--color-brand-gray-light))] rounded-lg space-y-3 transition-opacity ${o===k?"opacity-50":"opacity-100"}`,children:[s.jsxs("div",{className:"flex justify-between items-center p-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"cursor-grab text-[rgb(var(--color-brand-text-dim))] hover:text-[rgb(var(--color-brand-text-light))]","aria-label":"Arrastar para reordenar",children:s.jsx(yne,{className:"w-5 h-5"})}),s.jsxs("h4",{className:"text-md text-[rgb(var(--color-brand-text-light))] font-semibold",children:["Banner ",k+1]})]}),s.jsx("button",{onClick:()=>x(T.id),className:"p-1 text-[rgb(var(--color-brand-text-dim))] hover:text-[rgb(var(--color-error))]",children:s.jsx(Tn,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:"px-4 pb-4 space-y-3",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:`carouselLink${k}`,className:"block text-sm font-medium text-[rgb(var(--color-brand-text-dim))] mb-1",children:"Link do Banner (opcional)"}),s.jsx("input",{id:`carouselLink${k}`,type:"text",value:T.link,onChange:D=>p(k,"link",D.target.value),className:"w-full bg-[rgb(var(--color-brand-gray))] border-2 border-[rgb(var(--color-brand-gray-light))] rounded-md py-2 px-3 text-[rgb(var(--color-brand-text-light))]"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx(Cr,{currentImage:T.desktopImage,onImageUpload:D=>p(k,"desktopImage",D),placeholderText:"Imagem para Desktop (1200x400 recomendado)"}),s.jsx(Cr,{currentImage:T.mobileImage,onImageUpload:D=>p(k,"mobileImage",D),placeholderText:"Imagem para Celular (400x300 recomendado)"})]})]})]})]},T.id)),n.length===0&&s.jsx("p",{className:"text-center text-[rgb(var(--color-brand-text-dim))] py-8",children:"Nenhum banner encontrado. Adicione um para comear."})]})]})]})},Hx=e=>s.jsx("svg",{...e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})}),Cne=e=>s.jsxs("svg",{...e,viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",children:[s.jsx("circle",{cx:"9",cy:"6",r:"1.5"}),s.jsx("circle",{cx:"15",cy:"6",r:"1.5"}),s.jsx("circle",{cx:"9",cy:"12",r:"1.5"}),s.jsx("circle",{cx:"15",cy:"12",r:"1.5"}),s.jsx("circle",{cx:"9",cy:"18",r:"1.5"}),s.jsx("circle",{cx:"15",cy:"18",r:"1.5"})]}),Nne={AffiliateIcon:{component:fC,name:"Afiliado"},DistributionIcon:{component:yx,name:"Dropshipping"},TruckIcon:{component:wx,name:"Logstica"},GlobalIcon:{component:UI,name:"Global"},StarOutlineIcon:{component:zI,name:"Estrela"},TrophyIcon:{component:FI,name:"Trofu"},WalletIcon:{component:Vf,name:"Carteira"},OrdersIcon:{component:hC,name:"Pedidos"},ProductsIcon:{component:qI,name:"Produtos"},AnalyticsIcon:{component:HI,name:"Analytics"},TagIcon:{component:pC,name:"Tag/Promoo"},MegaphoneIcon:{component:$f,name:"Marketing"},LinkChainIcon:{component:Cx,name:"Link"},UserIcon:{component:li,name:"Usurio"},BellIcon:{component:mC,name:"Notificao"},ShoppingBagIcon:{component:VI,name:"Loja"}},Dy={userInfo:"Carto de Usurio",referralLinks:"Links de Indicao e Afiliado",qualificationProgress:"Barra de Qualificao/Progresso",adminBanner:"Banner do Painel",bonusCards:"Cartes de Bnus",incentivesProgram:"Programa de Incentivos",networkActivity:"Atividade da Rede",shortcut:"Atalho Rpido",performanceChart:"Grfico de Desempenho"},Sne=[{key:"cycleBonus",label:"Bnus Ciclo Global"},{key:"topSigmeBonus",label:"Bnus Top Sigme"},{key:"careerPlanBonus",label:"Bnus Plano de Carreira"},{key:"affiliateBonus",label:"Bnus Venda Afiliado"},{key:"dropshipBonus",label:"Bnus Dropship"},{key:"logisticsBonus",label:"Bnus de Logstica"},{key:"custom",label:"Nenhum (Valor Manual)"}],Ene={id:"ID do Usurio",graduation:"Graduao",accountStatus:"Status da Conta",monthlyActivity:"Atividade Mensal",category:"Categoria",referralLink:"Link de Indicao",affiliateLink:"Link de Afiliado"},jne=({settings:e,onUpdate:t})=>{const[n,r]=E.useState(e),[o,i]=E.useState(!1),[a,l]=E.useState(null),[u,f]=E.useState(null);E.useEffect(()=>{r(e)},[e]);const h=JSON.stringify(n)!==JSON.stringify(e),p=()=>t(n),g=()=>r(e),x=(I,P)=>{const B={id:`comp-${Date.now()}`,type:I,column:P,enabled:!0,title:Dy[I],...I==="userInfo"&&{visibleFields:{id:!0,graduation:!0,accountStatus:!0,monthlyActivity:!0,category:!0,referralLink:!0,affiliateLink:!0}},...I==="qualificationProgress"&&{value:50,max:100,startLabel:"Incio",endLabel:"Meta"},...I==="shortcut"&&{url:"#",icon:"LinkChainIcon"}};r(L=>({...L,components:[...L.components,B]})),i(!1)},y=(I,P,B)=>{r(L=>({...L,components:L.components.map($=>$.id===I?{...$,[P]:B}:$)}))},N=(I,P,B)=>{r(L=>({...L,components:L.components.map($=>$.id===I?{...$,visibleFields:{...$.visibleFields,[P]:B}}:$)}))},C=(I,P,B)=>{r(L=>({...L,cards:L.cards.map($=>$.id===I?{...$,[P]:B}:$)}))},A=[{type:"userInfo",column:"left"},{type:"referralLinks",column:"left"},{type:"qualificationProgress",column:"left"},{type:"adminBanner",column:"right"},{type:"bonusCards",column:"right"},{type:"incentivesProgram",column:"right"},{type:"networkActivity",column:"right"},{type:"shortcut",column:"right"},{type:"performanceChart",column:"right"}],T=n.components.filter(I=>I.column==="left"),k=n.components.filter(I=>I.column==="right"),D=(I,P)=>{if(!a)return;const B=a.col,L=a.index,$=[...T],X=[...k];let q;B==="left"?q=$.splice(L,1)[0]:q=X.splice(L,1)[0],q.column=I,I==="left"?$.splice(P,0,q):X.splice(P,0,q),r(W=>({...W,components:[...$,...X]}))},R=(I,P,B)=>s.jsxs("div",{draggable:!0,onDragStart:L=>{L.dataTransfer.effectAllowed="move",l({col:P,index:B})},onDragEnd:()=>{l(null),f(null)},onDragOver:L=>{L.preventDefault(),((u==null?void 0:u.index)!==B||u.col!==P)&&f({col:P,index:B})},onDrop:L=>{L.preventDefault(),D(P,B)},className:`bg-black border border-gray-800 rounded-lg p-4 space-y-3 transition-opacity ${(a==null?void 0:a.index)===B&&(a==null?void 0:a.col)===P?"opacity-30":""}`,children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Cne,{className:"w-5 h-5 text-gray-500 cursor-grab"}),s.jsx("h4",{className:"font-semibold text-white",children:Dy[I.type]})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(vt,{checked:I.enabled,onChange:L=>y(I.id,"enabled",L),labelId:`toggle-${I.id}`}),s.jsx("button",{onClick:()=>r(L=>({...L,components:L.components.filter($=>$.id!==I.id)})),className:"text-gray-500 hover:text-red-500",children:s.jsx(Tn,{className:"w-5 h-5"})})]})]}),I.title!==void 0&&I.type!=="userInfo"&&I.type!=="referralLinks"&&s.jsx("input",{type:"text",value:I.title,onChange:L=>y(I.id,"title",L.target.value),placeholder:"Ttulo do Componente",className:"w-full text-sm bg-gray-800 border-2 border-gray-700 rounded-md py-1 px-2 text-white"}),I.type==="userInfo"&&I.visibleFields&&s.jsx("div",{className:"grid grid-cols-2 gap-2 border-t border-gray-700 pt-3",children:Object.entries(Ene).map(([L,$])=>s.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-300",children:[s.jsx("input",{type:"checkbox",checked:I.visibleFields[L],onChange:X=>N(I.id,L,X.target.checked),className:"h-4 w-4 rounded bg-gray-700 border-gray-600 text-yellow-500 focus:ring-yellow-600"}),$]},L))})]},I.id);return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"pb-6 mb-6 flex justify-between items-center border-b border-gray-800",children:[s.jsx("h1",{className:"text-2xl font-bold text-white",children:"Editor do Painel"}),s.jsxs("div",{className:"flex items-center gap-4",children:[h&&s.jsx("p",{className:"text-sm text-yellow-400",children:"Voc tem alteraes no salvas."}),s.jsx("button",{onClick:g,disabled:!h,className:"text-sm font-semibold bg-gray-700 text-white py-2 px-4 rounded-md hover:bg-gray-600 disabled:opacity-50",children:"Descartar"}),s.jsx("button",{onClick:p,disabled:!h,className:"text-sm font-bold bg-yellow-500 text-black py-2 px-4 rounded-md hover:bg-yellow-400 disabled:opacity-50",children:"Salvar Layout"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-1 space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-white px-2",children:"Coluna Esquerda"}),T.map((I,P)=>R(I,"left",P))]}),s.jsxs("div",{className:"lg:col-span-2 space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-white px-2",children:"Coluna Direita"}),k.map((I,P)=>R(I,"right",P))]})]}),s.jsxs("div",{className:"relative",children:[s.jsxs("button",{onClick:()=>i(!o),className:"w-full flex items-center justify-center gap-2 text-sm font-semibold bg-gray-800 text-white py-3 px-4 rounded-lg border-2 border-dashed border-gray-700 hover:border-yellow-500 hover:text-yellow-400",children:[s.jsx(Hx,{className:"w-5 h-5"})," Adicionar Componente"]}),o&&s.jsx("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 w-72 bg-black border border-gray-700 rounded-lg shadow-lg z-10 p-2",children:A.map(I=>s.jsxs("button",{onClick:()=>x(I.type,I.column),className:"w-full text-left px-3 py-2 text-sm text-gray-300 hover:bg-gray-800 rounded-md",children:[Dy[I.type]," ",s.jsxs("span",{className:"text-xs text-gray-500",children:["(",I.column==="left"?"Esquerda":"Direita",")"]})]},I.type))})]}),s.jsxs("div",{className:"bg-black border border-gray-800 rounded-lg p-6 space-y-3",children:[s.jsx("h3",{className:"text-lg font-semibold text-white",children:"Cartes de Bnus"}),n.cards.map(I=>s.jsxs("div",{className:"grid grid-cols-3 gap-3 items-center",children:[s.jsx("input",{type:"text",value:I.title,onChange:P=>C(I.id,"title",P.target.value),placeholder:"Ttulo do Carto",className:"col-span-1 w-full text-sm bg-gray-800 border-2 border-gray-700 rounded-md py-1 px-2 text-white"}),s.jsx("select",{value:I.dataKey,onChange:P=>C(I.id,"dataKey",P.target.value),className:"col-span-1 w-full text-sm bg-gray-800 border-2 border-gray-700 rounded-md py-1 px-2 text-white",children:Sne.map(P=>s.jsx("option",{value:P.key,children:P.label},P.key))}),s.jsx("select",{value:I.icon,onChange:P=>C(I.id,"icon",P.target.value),className:"col-span-1 w-full text-sm bg-gray-800 border-2 border-gray-700 rounded-md py-1 px-2 text-white",children:Object.entries(Nne).map(([P,{name:B}])=>s.jsx("option",{value:P,children:B},P))})]},I.id))]})]})},Ane=({collections:e,onNavigate:t,onCollectionDelete:n})=>{const[r,o]=E.useState(""),i=E.useMemo(()=>e.filter(a=>a.title.toLowerCase().includes(r.toLowerCase())),[e,r]);return s.jsxs("div",{className:"bg-black border border-gray-800 rounded-lg",children:[s.jsx("div",{className:"p-4 border-b border-gray-800",children:s.jsxs("div",{className:"relative max-w-lg",children:[s.jsx("input",{type:"text",placeholder:"Buscar colees...",value:r,onChange:a=>o(a.target.value),className:"w-full bg-gray-800 border-2 border-gray-700 rounded-md py-2 px-10 text-white"}),s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(zo,{className:"h-5 w-5 text-gray-400"})})]})}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm text-left text-gray-400",children:[s.jsx("thead",{className:"text-xs text-gray-400 uppercase bg-black",children:s.jsxs("tr",{children:[s.jsx("th",{scope:"col",className:"px-6 py-3",children:"Coleo"}),s.jsx("th",{scope:"col",className:"px-6 py-3",children:"Produtos"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-right",children:"Aes"})]})}),s.jsx("tbody",{children:i.map(a=>s.jsxs("tr",{className:"border-b border-gray-800 hover:bg-gray-800/50",children:[s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("img",{src:a.imageUrl,alt:a.title,className:"w-16 h-10 object-cover rounded-md bg-gray-700"}),s.jsxs("div",{children:[s.jsx("button",{onClick:()=>t("addEditCollection",a),className:"font-medium text-white hover:text-yellow-400",children:a.title}),s.jsx("p",{className:"text-xs text-gray-500",children:a.description})]})]})}),s.jsx("td",{className:"px-6 py-4",children:0}),s.jsx("td",{className:"px-6 py-4 text-right",children:s.jsxs("div",{className:"flex items-center justify-end gap-4",children:[s.jsx("button",{onClick:()=>t("addEditCollection",a),className:"text-gray-400 hover:text-yellow-400",children:s.jsx(Nx,{className:"w-5 h-5"})}),s.jsx("button",{onClick:()=>n(a.id),className:"text-gray-400 hover:text-red-500",children:s.jsx(Tn,{className:"w-5 h-5"})})]})})]},a.id))})]})})]})},Tne=({collection:e,products:t,onSave:n,onCancel:r,onNavigate:o})=>{const i=!!e,[a,l]=E.useState({title:"",description:"",imageUrl:"",productIds:[],...e}),u=E.useRef(null),[f,h]=E.useState(""),p=C=>{const{name:A,value:T}=C.target;l(k=>({...k,[A]:T}))},g=C=>{l(A=>{const T=A.productIds||[];return T.includes(C)?{...A,productIds:T.filter(k=>k!==C)}:{...A,productIds:[...T,C]}})},x=C=>{if(C.preventDefault(),!a.title){alert("A coleo precisa de um ttulo.");return}n(a)},y=()=>{var C;(C=u.current)==null||C.requestSubmit()},N=t.filter(C=>C.name.toLowerCase().includes(f.toLowerCase()));return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"pb-6 mb-6 flex justify-between items-center border-b border-gray-800",children:[s.jsx("h1",{className:"text-2xl font-bold text-white",children:i?"Editar Coleo":"Criar Coleo"}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("button",{type:"button",onClick:r,className:"text-sm font-semibold bg-gray-700 text-white py-2 px-4 rounded-md hover:bg-gray-600",children:"Descartar"}),s.jsx("button",{type:"button",onClick:y,className:"text-sm font-bold bg-yellow-500 text-black py-2 px-4 rounded-md hover:bg-yellow-400",children:"Salvar"})]})]}),s.jsxs("form",{onSubmit:x,ref:u,className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[s.jsxs("div",{className:"bg-black border border-gray-800 rounded-lg p-6 space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-white mb-2",children:"Ttulo"}),s.jsx("input",{type:"text",name:"title",id:"title",value:a.title,onChange:p,className:"w-full bg-gray-800 border-2 border-gray-700 rounded-md py-2 px-3 text-white"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-white mb-2",children:"Descrio"}),s.jsx("textarea",{name:"description",id:"description",value:a.description,onChange:p,rows:4,className:"w-full bg-gray-800 border-2 border-gray-700 rounded-md py-2 px-3 text-white"})]})]}),s.jsxs("div",{className:"bg-black border border-gray-800 rounded-lg p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Produtos na Coleo"}),s.jsx("input",{type:"text",placeholder:"Buscar produtos para adicionar...",value:f,onChange:C=>h(C.target.value),className:"w-full bg-gray-800 border-2 border-gray-700 rounded-md py-2 px-3 text-white mb-4"}),s.jsx("div",{className:"max-h-96 overflow-y-auto space-y-2 pr-2",children:N.map(C=>{var A;return s.jsxs("label",{className:"flex items-center p-2 bg-gray-800/50 rounded-md cursor-pointer hover:bg-gray-800",children:[s.jsx("input",{type:"checkbox",checked:(A=a.productIds)==null?void 0:A.includes(C.id),onChange:()=>g(C.id),className:"h-4 w-4 rounded bg-gray-700 border-gray-600 text-yellow-500 focus:ring-yellow-600"}),s.jsx("img",{src:C.images[0],alt:C.name,className:"w-10 h-10 object-cover rounded-md ml-4"}),s.jsx("span",{className:"ml-3 text-sm text-white",children:C.name})]},C.id)})})]})]}),s.jsx("div",{className:"space-y-8",children:s.jsxs("div",{className:"bg-black border border-gray-800 rounded-lg p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Imagem da Coleo"}),s.jsx(Cr,{currentImage:a.imageUrl||"",onImageUpload:C=>l(A=>({...A,imageUrl:C})),placeholderText:"Imagem da Coleo"})]})})]})]})},kne=({collection:e,products:t,onProductClick:n,onBack:r,wishlist:o,onToggleWishlist:i})=>{const[a,l]=E.useState("default"),u=t.filter(h=>e.productIds.includes(h.id)),f=E.useMemo(()=>{const h=[...u];switch(a){case"price-asc":h.sort((p,g)=>p.price-g.price);break;case"price-desc":h.sort((p,g)=>g.price-p.price);break;case"name-asc":h.sort((p,g)=>p.name.localeCompare(g.name));break}return h},[u,a]);return s.jsxs("div",{className:"bg-[rgb(var(--color-brand-dark))]",children:[s.jsxs("div",{className:"relative h-64 md:h-80 flex items-center justify-center text-center bg-cover bg-center",style:{backgroundImage:`url(${e.imageUrl})`},children:[s.jsx("div",{className:"absolute inset-0 bg-[rgb(var(--color-brand-dark))]/[.70]"}),s.jsxs("div",{className:"relative z-10 px-4",children:[s.jsx("h1",{className:"text-4xl md:text-6xl font-bold font-display text-[rgb(var(--color-brand-text-light))] drop-shadow-lg",children:e.title}),s.jsx("p",{className:"mt-4 max-w-2xl mx-auto text-lg md:text-xl text-[rgb(var(--color-brand-text-dim))]",children:e.description})]})]}),s.jsx("section",{className:"py-16 sm:py-24",children:s.jsxs("div",{className:"container mx-auto px-4",children:[s.jsxs("div",{className:"flex justify-between items-center mb-8",children:[s.jsx("button",{onClick:r,className:"text-sm text-[rgb(var(--color-brand-text-dim))] hover:text-[rgb(var(--color-brand-gold))]",children:" Voltar"}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"sort-order",className:"sr-only",children:"Ordenar por"}),s.jsxs("select",{id:"sort-order",value:a,onChange:h=>l(h.target.value),className:"bg-[rgb(var(--color-brand-gray))] border-2 border-[rgb(var(--color-brand-gray-light))] rounded-md py-2 px-3 text-[rgb(var(--color-brand-text-light))] text-sm focus:outline-none focus:border-[rgb(var(--color-brand-gold))]",children:[s.jsx("option",{value:"default",children:"Padro"}),s.jsx("option",{value:"price-asc",children:"Preo: Menor para Maior"}),s.jsx("option",{value:"price-desc",children:"Preo: Maior para Menor"}),s.jsx("option",{value:"name-asc",children:"Nome: A-Z"})]})]})]}),f.length>0?s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8",children:f.map(h=>s.jsx(vf,{product:h,onClick:()=>n(h),wishlist:o,onToggleWishlist:i},h.id))}):s.jsx("p",{className:"text-center text-[rgb(var(--color-brand-text-dim))]",children:"Nenhum produto encontrado nesta coleo."})]})})]})},Mne=({customers:e,onLoginSuccess:t,onBackToHome:n,onNavigateToRegister:r,onNavigateToForgotPassword:o})=>{const[i,a]=E.useState("rsprolipsioficial@gmail.com"),[l,u]=E.useState("Yannis784512@"),[f,h]=E.useState(""),[p,g]=E.useState(!1),x=y=>{y.preventDefault(),h("");const N=e.find(C=>C.email.toLowerCase()===i.toLowerCase());N&&N.passwordHash===l?t(N):h("E-mail ou senha invlidos.")};return s.jsx("div",{className:"flex items-center justify-center min-h-screen bg-black py-12",children:s.jsxs("div",{className:"w-full max-w-md p-8 space-y-8 bg-black border-2 border-yellow-600/30 rounded-lg shadow-2xl",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold text-center font-display text-yellow-400",children:"Login"}),s.jsx("p",{className:"mt-2 text-center text-gray-400",children:"Acesse sua conta para ver seus pedidos."})]}),s.jsxs("form",{className:"mt-8 space-y-6",onSubmit:x,children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email-address",className:"sr-only",children:"E-mail"}),s.jsx("input",{id:"email-address",name:"email",type:"email",autoComplete:"email",required:!0,value:i,onChange:y=>a(y.target.value),className:"appearance-none relative block w-full px-3 py-3 border-2 border-slate-700 bg-slate-800 text-white placeholder-gray-400 rounded-md focus:outline-none focus:ring-amber-500 focus:border-amber-500 sm:text-sm",placeholder:"E-mail"})]}),s.jsxs("div",{className:"relative",children:[s.jsx("label",{htmlFor:"password",className:"sr-only",children:"Senha"}),s.jsx("input",{id:"password",name:"password",type:p?"text":"password",autoComplete:"current-password",required:!0,value:l,onChange:y=>u(y.target.value),className:"appearance-none relative block w-full px-3 py-3 border-2 border-slate-700 bg-slate-800 text-white placeholder-gray-400 rounded-md focus:outline-none focus:ring-amber-500 focus:border-amber-500 sm:text-sm pr-10",placeholder:"Senha"}),s.jsx("button",{type:"button",onClick:()=>g(!p),className:"absolute inset-y-0 right-0 px-3 flex items-center text-gray-400 hover:text-yellow-400","aria-label":p?"Esconder senha":"Mostrar senha",children:p?s.jsx(Xc,{className:"h-5 w-5"}):s.jsx(bs,{className:"h-5 w-5"})})]})]}),f&&s.jsx("p",{className:"text-red-500 text-sm text-center !mt-4",children:f}),s.jsx("div",{className:"text-right",children:s.jsx("button",{onClick:o,type:"button",className:"text-sm font-medium text-yellow-500 hover:text-yellow-400",children:"Esqueceu sua senha?"})}),s.jsx("div",{children:s.jsx("button",{type:"submit",className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-bold rounded-md text-black bg-amber-500 hover:bg-amber-400 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-900 focus:ring-amber-500 transition-colors mt-2",children:"Entrar"})})]}),s.jsxs("div",{className:"text-center space-y-2",children:[s.jsxs("p",{className:"text-sm text-gray-400",children:["No tem uma conta?"," ",s.jsx("button",{onClick:r,className:"font-medium text-yellow-500 hover:text-yellow-400",children:"Cadastre-se"})]}),s.jsx("button",{onClick:n,className:"font-medium text-sm text-yellow-500 hover:text-yellow-400",children:"Voltar para a loja"})]})]})})},Pne=({onRegister:e,onBackToHome:t,onNavigateToLogin:n,existingCustomers:r})=>{const[o,i]=E.useState({name:"",email:"",password:"",confirmPassword:""}),[a,l]=E.useState(""),[u,f]=E.useState(!1),[h,p]=E.useState(!1),g=y=>{const{name:N,value:C}=y.target;i(A=>({...A,[N]:C}))},x=y=>{if(y.preventDefault(),l(""),!o.name.trim()||!o.email.trim()||!o.password){l("Por favor, preencha todos os campos.");return}if(o.password!==o.confirmPassword){l("As senhas no coincidem.");return}if(r.some(N=>N.email.toLowerCase()===o.email.toLowerCase())){l("Este e-mail j est em uso.");return}e({name:o.name,email:o.email,passwordHash:o.password})};return s.jsx("div",{className:"flex items-center justify-center min-h-screen bg-black py-12",children:s.jsxs("div",{className:"w-full max-w-md p-8 space-y-8 bg-black border-2 border-yellow-600/30 rounded-lg shadow-2xl",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold text-center font-display text-yellow-400",children:"Criar Conta"}),s.jsx("p",{className:"mt-2 text-center text-gray-400",children:"Crie sua conta para uma experincia de compra mais rpida."})]}),s.jsxs("form",{className:"mt-8 space-y-6",onSubmit:x,children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"name",className:"sr-only",children:"Nome Completo"}),s.jsx("input",{id:"name",name:"name",type:"text",required:!0,value:o.name,onChange:g,className:"appearance-none relative block w-full px-3 py-3 border-2 border-slate-700 bg-slate-800 text-white placeholder-gray-400 rounded-md focus:outline-none focus:ring-amber-500 focus:border-amber-500 sm:text-sm",placeholder:"Nome Completo"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email-address",className:"sr-only",children:"E-mail"}),s.jsx("input",{id:"email-address",name:"email",type:"email",autoComplete:"email",required:!0,value:o.email,onChange:g,className:"appearance-none relative block w-full px-3 py-3 border-2 border-slate-700 bg-slate-800 text-white placeholder-gray-400 rounded-md focus:outline-none focus:ring-amber-500 focus:border-amber-500 sm:text-sm",placeholder:"E-mail"})]}),s.jsxs("div",{className:"relative",children:[s.jsx("label",{htmlFor:"password",className:"sr-only",children:"Senha"}),s.jsx("input",{id:"password",name:"password",type:u?"text":"password",required:!0,value:o.password,onChange:g,className:"appearance-none relative block w-full px-3 py-3 border-2 border-slate-700 bg-slate-800 text-white placeholder-gray-400 rounded-md focus:outline-none focus:ring-amber-500 focus:border-amber-500 sm:text-sm pr-10",placeholder:"Senha"}),s.jsx("button",{type:"button",onClick:()=>f(!u),className:"absolute inset-y-0 right-0 px-3 flex items-center text-gray-400",children:s.jsx(bs,{className:"h-5 w-5"})})]}),s.jsxs("div",{className:"relative",children:[s.jsx("label",{htmlFor:"confirmPassword",className:"sr-only",children:"Confirmar Senha"}),s.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:h?"text":"password",required:!0,value:o.confirmPassword,onChange:g,className:"appearance-none relative block w-full px-3 py-3 border-2 border-slate-700 bg-slate-800 text-white placeholder-gray-400 rounded-md focus:outline-none focus:ring-amber-500 focus:border-amber-500 sm:text-sm pr-10",placeholder:"Confirmar Senha"}),s.jsx("button",{type:"button",onClick:()=>p(!h),className:"absolute inset-y-0 right-0 px-3 flex items-center text-gray-400",children:s.jsx(bs,{className:"h-5 w-5"})})]})]}),a&&s.jsx("p",{className:"text-red-500 text-sm text-center !mt-4",children:a}),s.jsx("div",{children:s.jsx("button",{type:"submit",className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-bold rounded-md text-black bg-amber-500 hover:bg-amber-400 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-900 focus:ring-amber-500 transition-colors mt-6",children:"Cadastrar"})})]}),s.jsxs("div",{className:"text-center space-y-2",children:[s.jsxs("p",{className:"text-sm text-gray-400",children:["J tem uma conta?"," ",s.jsx("button",{onClick:n,className:"font-medium text-yellow-500 hover:text-yellow-400",children:"Entrar"})]}),s.jsx("button",{onClick:t,className:"font-medium text-sm text-yellow-500 hover:text-yellow-400",children:"Voltar para a loja"})]})]})})},Rne=({status:e})=>{const t="px-2 py-1 text-xs font-semibold rounded-full inline-flex items-center",n={Pago:"bg-green-500/20 text-green-300",Pendente:"bg-yellow-500/20 text-yellow-300",Reembolsado:"bg-gray-500/20 text-gray-300","Parcialmente Pago":"bg-cyan-500/20 text-cyan-300",Cancelado:"bg-red-500/20 text-red-300"};return s.jsx("span",{className:`${t} ${n[e]}`,children:e})},Ine=({status:e})=>{const t="px-2 py-1 text-xs font-semibold rounded-full inline-flex items-center",n={Realizado:"bg-green-500/20 text-green-300","No Realizado":"bg-orange-500/20 text-orange-300",Parcial:"bg-purple-500/20 text-purple-300"};return s.jsx("span",{className:`${t} ${n[e]}`,children:e})},Dne=({customer:e,orders:t,onNavigate:n})=>{const r=t.filter(u=>u.customerId===e.id).sort((u,f)=>new Date(f.date).getTime()-new Date(u.date).getTime()),[o,i]=E.useState("orders"),a=()=>s.jsxs("div",{className:"bg-gray-900 p-6 rounded-lg",children:[s.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Histrico de Pedidos"}),r.length>0?s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm text-left text-gray-400",children:[s.jsx("thead",{className:"text-xs text-gray-400 uppercase bg-black/30",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-3",children:"Pedido"}),s.jsx("th",{className:"px-4 py-3",children:"Data"}),s.jsx("th",{className:"px-4 py-3 text-right",children:"Total"}),s.jsx("th",{className:"px-4 py-3",children:"Pagamento"}),s.jsx("th",{className:"px-4 py-3",children:"Status"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-800",children:r.map(u=>s.jsxs("tr",{className:"hover:bg-gray-800/50",children:[s.jsx("td",{className:"px-4 py-3 font-medium text-yellow-400",children:u.id}),s.jsx("td",{className:"px-4 py-3",children:new Date(u.date).toLocaleDateString("pt-BR")}),s.jsx("td",{className:"px-4 py-3 text-right",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(u.total)}),s.jsx("td",{className:"px-4 py-3",children:s.jsx(Rne,{status:u.paymentStatus})}),s.jsx("td",{className:"px-4 py-3",children:s.jsx(Ine,{status:u.fulfillmentStatus})})]},u.id))})]})}):s.jsx("p",{children:"Voc ainda no fez nenhum pedido."})]}),l=()=>s.jsxs("div",{className:"bg-gray-900 p-6 rounded-lg",children:[s.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Meus Dados"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm text-gray-400",children:"Nome Completo"}),s.jsx("p",{className:"text-white p-2 bg-gray-800 rounded-md mt-1",children:e.name})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm text-gray-400",children:"E-mail"}),s.jsx("p",{className:"text-white p-2 bg-gray-800 rounded-md mt-1",children:e.email})]}),s.jsx("button",{className:"text-sm font-semibold bg-gray-700 text-white py-2 px-4 rounded-md hover:bg-gray-600",children:"Alterar Senha"})]})]});return s.jsxs("div",{className:"container mx-auto px-4 py-12",children:[s.jsx("h1",{className:"text-3xl md:text-4xl font-bold font-display text-white mb-8",children:"Minha Conta"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[s.jsx("aside",{className:"md:col-span-1",children:s.jsxs("div",{className:"bg-gray-900 p-4 rounded-lg sticky top-24",children:[s.jsxs("div",{className:"text-center mb-4",children:[s.jsx(li,{className:"w-16 h-16 mx-auto text-yellow-400 bg-gray-800 p-3 rounded-full"}),s.jsx("h2",{className:"mt-2 text-xl font-bold text-white truncate",children:e.name}),s.jsx("p",{className:"text-sm text-gray-400 truncate",children:e.email})]}),s.jsxs("nav",{className:"space-y-2",children:[s.jsxs("button",{onClick:()=>i("orders"),className:`w-full flex items-center gap-3 text-left p-3 rounded-lg font-semibold transition-colors ${o==="orders"?"bg-yellow-500/10 text-yellow-400":"text-gray-300 hover:bg-gray-800"}`,children:[s.jsx(hC,{className:"w-5 h-5"}),"Histrico de Pedidos"]}),s.jsxs("button",{onClick:()=>i("profile"),className:`w-full flex items-center gap-3 text-left p-3 rounded-lg font-semibold transition-colors ${o==="profile"?"bg-yellow-500/10 text-yellow-400":"text-gray-300 hover:bg-gray-800"}`,children:[s.jsx(li,{className:"w-5 h-5"}),"Meus Dados"]})]})]})}),s.jsxs("main",{className:"md:col-span-3",children:[o==="orders"&&a(),o==="profile"&&l()]})]})]})},_ne=({onProductClick:e,products:t,orders:n,wishlist:r,onToggleWishlist:o})=>{const i=new Map;n.forEach(u=>{u.paymentStatus==="Pago"&&u.items.forEach(f=>{i.set(f.productId,(i.get(f.productId)||0)+f.quantity)})});const l=Array.from(i.entries()).sort((u,f)=>f[1]-u[1]).map(u=>u[0]).map(u=>t.find(f=>f.id===u&&f.status==="Ativo")).filter(u=>!!u).slice(0,4);if(l.length===0){const u=[...t].filter(f=>f.status==="Ativo").sort((f,h)=>h.reviewCount-f.reviewCount).slice(0,4);return u.length===0?null:s.jsx("section",{id:"bestsellers",className:"py-16 sm:py-24 bg-black",children:s.jsxs("div",{className:"container mx-auto px-4",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h2",{className:"text-3xl md:text-4xl font-bold font-display text-white",children:"Populares"}),s.jsx("p",{className:"mt-4 max-w-2xl mx-auto text-lg text-gray-400",children:"Conhea os favoritos dos nossos clientes e as tendncias do momento."})]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8",children:u.map(f=>s.jsx(vf,{product:f,onClick:()=>e(f),wishlist:r,onToggleWishlist:o},f.id))})]})})}return s.jsx("section",{id:"bestsellers",className:"py-16 sm:py-24 bg-black",children:s.jsxs("div",{className:"container mx-auto px-4",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h2",{className:"text-3xl md:text-4xl font-bold font-display text-white",children:"Mais Vendidos"}),s.jsx("p",{className:"mt-4 max-w-2xl mx-auto text-lg text-gray-400",children:"Conhea os favoritos dos nossos clientes e as tendncias do momento."})]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8",children:l.map(u=>s.jsx(vf,{product:u,onClick:()=>e(u),wishlist:r,onToggleWishlist:o},u.id))})]})})},One=({collection:e,onClick:t})=>s.jsxs("div",{onClick:t,className:"relative aspect-video sm:aspect-[4/3] rounded-lg overflow-hidden group cursor-pointer border-2 border-transparent hover:border-[rgb(var(--color-brand-gold))] focus-within:border-[rgb(var(--color-brand-gold))] transition-all duration-300 shadow-lg",role:"button",tabIndex:0,onKeyPress:n=>n.key==="Enter"&&t(),children:[s.jsx("img",{src:e.imageUrl,alt:e.title,className:"w-full h-full object-cover transition-transform duration-500 ease-in-out group-hover:scale-110"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/40 to-transparent"}),s.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-6",children:[s.jsx("h3",{className:"text-2xl font-bold font-display text-white transition-colors duration-300 group-hover:text-[rgb(var(--color-brand-gold))]",children:e.title}),s.jsx("p",{className:"text-sm text-[rgb(var(--color-brand-text-dim))] mt-1 line-clamp-2",children:e.description})]})]}),Lne=({collections:e,onNavigate:t})=>!e||e.length===0?null:s.jsx("section",{id:"featured-collections",className:"py-16 sm:py-24 bg-[rgb(var(--color-brand-gray))]",children:s.jsxs("div",{className:"container mx-auto px-4",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h2",{className:"text-3xl md:text-4xl font-bold font-display text-[rgb(var(--color-brand-text-light))]",children:"Explore Nossas Colees"}),s.jsx("p",{className:"mt-4 max-w-2xl mx-auto text-lg text-[rgb(var(--color-brand-text-dim))]",children:"Descubra selees de produtos curadas para o seu estilo de vida."})]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8",children:e.map(n=>s.jsx(One,{collection:n,onClick:()=>t("collectionView",n)},n.id))})]})}),Bne=({links:e,onNavigate:t})=>{const[n,r]=E.useState(""),o=E.useMemo(()=>e.filter(i=>i.name&&i.name.toLowerCase().includes(n.toLowerCase())||i.email&&i.email.toLowerCase().includes(n.toLowerCase())),[e,n]);return s.jsxs("div",{className:"bg-[rgb(var(--color-brand-dark))] border border-[rgb(var(--color-brand-gray-light))] rounded-lg",children:[s.jsx("div",{className:"p-4 border-b border-[rgb(var(--color-brand-gray-light))]",children:s.jsxs("div",{className:"relative max-w-lg",children:[s.jsx("input",{type:"text",placeholder:"Buscar por nome ou e-mail do afiliado...",value:n,onChange:i=>r(i.target.value),className:"w-full bg-[rgb(var(--color-brand-gray))] border-2 border-[rgb(var(--color-brand-gray-light))] rounded-md py-2 pl-10 pr-4 text-[rgb(var(--color-brand-text-light))] placeholder-[rgb(var(--color-brand-text-dim))] focus:outline-none focus:border-[rgb(var(--color-brand-gold))]"}),s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(zo,{className:"h-5 w-5 text-[rgb(var(--color-brand-text-dim))]"})})]})}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm text-left text-[rgb(var(--color-brand-text-dim))]",children:[s.jsx("thead",{className:"text-xs text-[rgb(var(--color-brand-text-dim))] uppercase bg-[rgb(var(--color-brand-dark))]",children:s.jsxs("tr",{children:[s.jsx("th",{scope:"col",className:"px-6 py-3",children:"Afiliado"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-center",children:"Comisso"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-right",children:"Vendas Totais"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-right",children:"Ganhos Totais"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-right",children:"Saldo a Pagar"})]})}),s.jsx("tbody",{children:o.map(i=>{const a=i.totalEarnings-i.paidOut;return s.jsxs("tr",{className:"border-b border-[rgb(var(--color-brand-gray-light))] hover:bg-[rgb(var(--color-brand-gray))]/[.50]",children:[s.jsxs("td",{className:"px-6 py-4",children:[s.jsx("p",{className:"font-medium text-[rgb(var(--color-brand-text-light))]",children:i.name}),s.jsx("p",{className:"text-xs text-[rgb(var(--color-brand-text-dim))]",children:i.email})]}),s.jsxs("td",{className:"px-6 py-4 text-center text-lg font-bold text-[rgb(var(--color-brand-text-light))]",children:[i.commissionRate,"%"]}),s.jsx("td",{className:"px-6 py-4 text-right",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(i.totalSales)}),s.jsx("td",{className:"px-6 py-4 text-right text-[rgb(var(--color-success))]",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(i.totalEarnings)}),s.jsx("td",{className:"px-6 py-4 text-right text-[rgb(var(--color-brand-gold))] font-bold",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(a)})]},i.id)})})]})})]})},Une=e=>s.jsx("svg",{...e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5m-13.5-9L12 3m0 0l4.5 4.5M12 3v13.5"})}),zne=e=>e.flatMap(t=>t.items.map(n=>({...n,orderId:t.id,date:t.date,customerName:t.customerName,paymentStatus:t.paymentStatus}))).sort((t,n)=>new Date(n.date).getTime()-new Date(t.date).getTime()),Fne=({orders:e,onNavigate:t})=>{const[n,r]=E.useState(""),o=E.useMemo(()=>zne(e),[e]),i=E.useMemo(()=>o.filter(l=>l.productName.toLowerCase().includes(n.toLowerCase())||l.orderId.toLowerCase().includes(n.toLowerCase())||l.sku&&l.sku.toLowerCase().includes(n.toLowerCase())),[o,n]),a=()=>{const l=["Produto","Data","Pedido","Qtd.","Preo Unit.","Total"],u=i.map(g=>[`"${g.productName.replace(/"/g,'""')}"`,new Date(g.date).toLocaleDateString("pt-BR"),g.orderId,g.quantity,g.price,g.price*g.quantity]);let f="data:text/csv;charset=utf-8,"+l.join(",")+`
`+u.map(g=>g.join(",")).join(`
`);const h=encodeURI(f),p=document.createElement("a");p.setAttribute("href",h),p.setAttribute("download","relatorio_de_vendas.csv"),document.body.appendChild(p),p.click(),document.body.removeChild(p)};return s.jsxs("div",{className:"bg-black border border-gray-800 rounded-lg",children:[s.jsxs("div",{className:"p-4 border-b border-gray-800",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h2",{className:"text-xl font-bold text-white",children:"Relatrio de Vendas de Produtos"}),s.jsxs("button",{onClick:a,className:"flex items-center gap-2 text-sm font-semibold bg-gray-700 text-white py-2 px-4 rounded-md hover:bg-gray-600",children:[s.jsx(Une,{className:"w-5 h-5"}),"Exportar para CSV"]})]}),s.jsxs("div",{className:"relative max-w-lg",children:[s.jsx("input",{type:"text",placeholder:"Buscar por produto, pedido ou SKU",value:n,onChange:l=>r(l.target.value),className:"w-full bg-gray-800 border-2 border-gray-700 rounded-md py-2 pl-10 pr-4"}),s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(zo,{className:"h-5 w-5 text-gray-400"})})]})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm text-left text-gray-400",children:[s.jsx("thead",{className:"text-xs text-gray-400 uppercase bg-black",children:s.jsxs("tr",{children:[s.jsx("th",{scope:"col",className:"px-6 py-3",children:"Produto"}),s.jsx("th",{scope:"col",className:"px-6 py-3",children:"Data"}),s.jsx("th",{scope:"col",className:"px-6 py-3",children:"Pedido"}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-center",children:"Qtd."}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-right",children:"Preo Unit."}),s.jsx("th",{scope:"col",className:"px-6 py-3 text-right",children:"Total"})]})}),s.jsx("tbody",{children:i.map((l,u)=>{const f=e.find(h=>h.id===l.orderId);return s.jsxs("tr",{className:"border-b border-gray-800 hover:bg-gray-800/50",children:[s.jsxs("td",{className:"px-6 py-4",children:[s.jsx("p",{className:"font-medium text-white",children:l.productName}),s.jsx("p",{className:"text-xs text-gray-500 font-mono",children:l.sku||"N/A"})]}),s.jsx("td",{className:"px-6 py-4",children:new Date(l.date).toLocaleDateString("pt-BR")}),s.jsx("td",{className:"px-6 py-4 font-mono",children:s.jsx("button",{onClick:()=>f&&t("orderDetail",f),className:"text-yellow-400 hover:underline disabled:text-gray-500 disabled:no-underline",disabled:!f,children:l.orderId})}),s.jsx("td",{className:"px-6 py-4 text-center",children:l.quantity}),s.jsx("td",{className:"px-6 py-4 text-right",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(l.price)}),s.jsx("td",{className:"px-6 py-4 text-right font-semibold text-white",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(l.price*l.quantity)})]},`${l.orderId}-${l.productId}-${u}`)})})]})})]})},aL=e=>s.jsx("svg",{...e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 19.5l15-15m0 0H8.25m11.25 0v11.25"})}),qne=e=>s.jsx("svg",{...e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 4.5l-15 15m0 0h11.25m-11.25 0V8.25"})}),mN=e=>s.jsx("svg",{...e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 11-18 0 9 9 0 0118 0z"})}),_y=({title:e,value:t,icon:n,onClick:r})=>s.jsx("button",{onClick:r,className:"bg-black border border-gray-800 rounded-lg p-6 text-left w-full hover:bg-gray-800/50 hover:border-yellow-600/50 transition-all duration-200 disabled:cursor-default disabled:hover:bg-black disabled:hover:border-gray-800",disabled:!r,children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(n,{className:"w-8 h-8 text-yellow-400"}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-gray-400",children:e}),s.jsx("p",{className:"text-2xl font-bold text-white",children:t})]})]})}),Hne=({charges:e=[],walletSettings:t,onNavigate:n})=>{const a=[{id:"sale-1",type:"Venda",amount:459.9,date:"08/11/2024",description:"Pedido #ORD-001",order:null},{id:"sale-2",type:"Venda",amount:1250,date:"07/11/2024",description:"Pedido #ORD-002",order:null},{id:"transfer-1",type:"Transferncia",amount:-2500,date:"06/11/2024",description:"PIX para Banco X",order:null}].sort((l,u)=>new Date(u.date).getTime()-new Date(l.date).getTime());return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsx(_y,{title:"Saldo Disponvel",value:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(13120.38),icon:Vf,onClick:()=>n("walletTransfers")}),s.jsx(_y,{title:"Total de Vendas (Pago)",value:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(15432.8),icon:gC,onClick:()=>n("walletReports")}),s.jsx(_y,{title:"Transferncias Pendentes",value:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(1250.75),icon:mN,onClick:()=>n("walletTransfers")})]}),s.jsxs("div",{className:"bg-black border border-gray-800 rounded-lg p-6",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-white",children:"Transaes Recentes"}),s.jsx("button",{onClick:()=>n("walletReports"),className:"text-sm font-semibold text-yellow-400 hover:underline",children:"Ver Extrato Completo"})]}),s.jsx("div",{className:"space-y-2",children:a.map(l=>s.jsxs("button",{onClick:()=>l.order&&n("orderDetail",l.order),disabled:!l.order,className:"w-full flex items-center justify-between p-3 bg-gray-800/50 rounded-md text-left hover:bg-gray-800 transition-colors disabled:cursor-default disabled:hover:bg-gray-800/50",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[l.amount>0?s.jsx(qne,{className:"w-6 h-6 text-green-400 bg-green-500/10 p-1 rounded-full"}):s.jsx(aL,{className:"w-6 h-6 text-red-400 bg-red-500/10 p-1 rounded-full"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-white",children:l.type}),s.jsx("p",{className:"text-xs text-gray-500",children:l.description})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:`font-semibold ${l.amount>0?"text-green-400":"text-red-400"}`,children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(l.amount)}),s.jsx("p",{className:"text-xs text-gray-500",children:l.date})]})]},l.id))})]})]})},Vne=[{id:"TR-001",date:"2024-07-27T10:00:00Z",amount:2500,status:"Concluda",destination:"PIX: a1b2...cdef"},{id:"TR-002",date:"2024-07-20T15:30:00Z",amount:1850.5,status:"Concluda",destination:"PIX: a1b2...cdef"},{id:"TR-003",date:"2024-07-29T09:00:00Z",amount:1250.75,status:"Pendente",destination:"PIX: a1b2...cdef"}].sort((e,t)=>new Date(t.date).getTime()-new Date(e.date).getTime()),Oy=({title:e,value:t,icon:n})=>s.jsx("div",{className:"bg-black border border-gray-800 rounded-lg p-6",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(n,{className:"w-8 h-8 text-yellow-400"}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-gray-400",children:e}),s.jsx("p",{className:"text-2xl font-bold text-white",children:t})]})]})}),$ne=({orders:e,products:t,onNavigate:n})=>{const r=E.useMemo(()=>e.filter(l=>l.paymentStatus==="Pago").flatMap(l=>l.items.map((u,f)=>{const h=t.find(y=>y.id===u.productId),p=(h==null?void 0:h.type)==="Dropshipping",g=p?.15:.1,x=p?"Comisso Dropshipping":"Bnus Afiliado";return{id:`${l.id}-item-${f}`,type:x,date:l.date,orderId:l.id,productName:u.productName,customerName:l.customerName,amount:u.price*u.quantity*g,order:l}})).sort((l,u)=>new Date(u.date).getTime()-new Date(l.date).getTime()),[e,t]),o=r.filter(l=>l.type==="Comisso Dropshipping").reduce((l,u)=>l+u.amount,0),i=r.filter(l=>l.type==="Bnus Afiliado").reduce((l,u)=>l+u.amount,0),a=o+i;return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsx(Oy,{title:"Saldo Acumulado Total",value:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(a),icon:Vf}),s.jsx(Oy,{title:"Saldo Dropshipping",value:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(o),icon:yx}),s.jsx(Oy,{title:"Bnus de Afiliado",value:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(i),icon:fC})]}),s.jsxs("div",{className:"bg-black border border-gray-800 rounded-lg",children:[s.jsx("h3",{className:"text-lg font-semibold text-white p-4 border-b border-gray-800",children:"Origem dos Saldos"}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm text-left text-gray-400",children:[s.jsx("thead",{className:"text-xs text-gray-400 uppercase bg-black",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3",children:"Data"}),s.jsx("th",{className:"px-6 py-3",children:"Tipo"}),s.jsx("th",{className:"px-6 py-3",children:"Origem (Produto / Pedido)"}),s.jsx("th",{className:"px-6 py-3",children:"Cliente"}),s.jsx("th",{className:"px-6 py-3 text-right",children:"Valor da Comisso"})]})}),s.jsx("tbody",{children:r.map(l=>s.jsxs("tr",{className:"border-b border-gray-800 hover:bg-gray-800/50",children:[s.jsx("td",{className:"px-6 py-4",children:new Date(l.date).toLocaleDateString("pt-BR")}),s.jsx("td",{className:"px-6 py-4",children:l.type}),s.jsxs("td",{className:"px-6 py-4",children:[s.jsx("p",{className:"font-medium text-white",children:l.productName}),s.jsx("button",{onClick:()=>n("orderDetail",l.order),className:"text-xs text-yellow-400 hover:underline",children:l.orderId})]}),s.jsx("td",{className:"px-6 py-4",children:l.customerName}),s.jsx("td",{className:"px-6 py-4 text-right font-semibold text-green-400",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(l.amount)})]},l.id))})]})})]})]})},Gne=({onNavigate:e,paymentSettings:t})=>{const[n,r]=E.useState(""),[o,i]=E.useState(""),a=E.useMemo(()=>{const u=[];return t.pix.enabled&&t.pix.pixKey&&u.push({label:`PIX (${t.pix.pixKeyType}): ${t.pix.pixKey}`,value:t.pix.pixKey}),t.pagSeguro.enabled&&t.pagSeguro.email&&u.push({label:`PagSeguro (E-mail): ${t.pagSeguro.email}`,value:t.pagSeguro.email}),u},[t]);E.useEffect(()=>{a.length>0&&!o&&i(a[0].value)},[a,o]);const l=()=>{if(!n||Number(n)<=0){alert("Por favor, insira um valor vlido para a transferncia.");return}if(!o){alert("Por favor, selecione uma chave de destino.");return}alert(`Solicitao de transferncia de ${new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(Number(n))} para "${o}" enviada com sucesso!`),r("")};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-black border border-gray-800 rounded-lg p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Solicitar Transferncia"}),s.jsxs("div",{className:"space-y-4",children:[a.length>0?s.jsxs("div",{children:[s.jsx("label",{htmlFor:"destination",className:"block text-sm font-medium text-gray-400 mb-2",children:"Chave de Destino"}),s.jsx("select",{id:"destination",value:o,onChange:u=>i(u.target.value),className:"w-full bg-gray-800 border-2 border-gray-700 rounded-md py-2 px-3 text-white focus:outline-none focus:border-yellow-500",children:a.map(u=>s.jsx("option",{value:u.value,children:u.label},u.value))})]}):s.jsxs("div",{className:"text-center p-4 bg-gray-800/50 rounded-md border border-dashed border-gray-700",children:[s.jsx("p",{className:"text-gray-400",children:"Nenhuma chave de transferncia configurada."}),s.jsx("button",{onClick:()=>e("walletSettings"),className:"text-sm font-semibold text-yellow-500 hover:underline mt-2",children:"Configurar chaves de pagamento"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"amount",className:"block text-sm font-medium text-gray-400 mb-2",children:"Valor"}),s.jsx("input",{type:"number",id:"amount",value:n,onChange:u=>r(u.target.value),placeholder:"R$ 0,00",className:"w-full bg-gray-800 border-2 border-gray-700 rounded-md py-2 px-3 text-white",disabled:a.length===0})]}),s.jsx("div",{className:"text-right",children:s.jsx("button",{onClick:l,className:"font-bold bg-yellow-500 text-black py-2 px-6 rounded-md hover:bg-yellow-400 disabled:opacity-50 disabled:cursor-not-allowed",disabled:a.length===0,children:"Solicitar"})})]})]}),s.jsxs("div",{className:"bg-black border border-gray-800 rounded-lg",children:[s.jsx("h3",{className:"text-lg font-semibold text-white p-4 border-b border-gray-800",children:"Histrico de Transferncias"}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm text-left text-gray-400",children:[s.jsx("thead",{className:"text-xs text-gray-400 uppercase bg-black",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3",children:"Data"}),s.jsx("th",{className:"px-6 py-3",children:"Destino"}),s.jsx("th",{className:"px-6 py-3",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-right",children:"Valor"})]})}),s.jsx("tbody",{children:Vne.map(u=>s.jsxs("tr",{className:"border-b border-gray-800",children:[s.jsx("td",{className:"px-6 py-4",children:new Date(u.date).toLocaleString("pt-BR")}),s.jsx("td",{className:"px-6 py-4 font-mono",children:u.destination}),s.jsx("td",{className:"px-6 py-4",children:u.status}),s.jsx("td",{className:"px-6 py-4 text-right font-semibold text-red-400",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(u.amount)})]},u.id))})]})})]})]})},Kne=({orders:e,products:t,onNavigate:n,paymentSettings:r})=>{const[o,i]=E.useState("balances");return s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{children:s.jsx("div",{className:"border-b border-gray-800",children:s.jsxs("nav",{className:"-mb-px flex space-x-6",children:[s.jsx("button",{onClick:()=>i("balances"),className:`py-4 px-1 border-b-2 font-medium text-sm ${o==="balances"?"border-yellow-400 text-yellow-400":"border-transparent text-gray-400 hover:text-gray-200 hover:border-gray-600"}`,children:"Saldos"}),s.jsx("button",{onClick:()=>i("transfers"),className:`py-4 px-1 border-b-2 font-medium text-sm ${o==="transfers"?"border-yellow-400 text-yellow-400":"border-transparent text-gray-400 hover:text-gray-200 hover:border-gray-600"}`,children:"Transferncias"})]})})}),o==="balances"&&s.jsx($ne,{orders:e,products:t,onNavigate:n}),o==="transfers"&&s.jsx(Gne,{onNavigate:n,paymentSettings:r})]})},Fl=e=>s.jsx("svg",{...e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),Pg=e=>s.jsx("svg",{...e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.75 9.75l4.5 4.5m0-4.5l-4.5 4.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),Wne=({charge:e,onClose:t})=>s.jsx("div",{className:"fixed inset-0 bg-black/70 z-50 flex items-center justify-center p-4",onClick:t,children:s.jsxs("div",{className:"bg-black border border-gray-800 rounded-lg w-full max-w-2xl max-h-[90vh] flex flex-col",onClick:n=>n.stopPropagation(),children:[s.jsxs("header",{className:"flex items-center justify-between p-4 border-b border-gray-800",children:[s.jsx("h2",{className:"text-xl font-bold text-white",children:"Detalhes da Cobrana"}),s.jsx("button",{onClick:t,children:s.jsx(ci,{className:"w-6 h-6 text-gray-400 hover:text-white"})})]}),s.jsxs("main",{className:"p-6 overflow-y-auto space-y-6",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold text-white mb-2 flex items-center gap-2",children:[s.jsx(li,{className:"w-5 h-5 text-yellow-400"})," Cliente"]}),s.jsxs("div",{className:"bg-gray-800/50 p-4 rounded-lg space-y-2",children:[s.jsxs("p",{children:[s.jsx("span",{className:"text-gray-400",children:"Nome:"})," ",e.customerName]}),s.jsxs("p",{children:[s.jsx("span",{className:"text-gray-400",children:"Email:"})," ",e.customerEmail]}),s.jsxs("p",{children:[s.jsx("span",{className:"text-gray-400",children:"CPF/CNPJ:"})," ",e.customerCpf]}),e.customerPhone&&s.jsxs("p",{children:[s.jsx("span",{className:"text-gray-400",children:"Telefone:"})," ",e.customerPhone]})]})]}),e.customerAddress&&s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold text-white mb-2 flex items-center gap-2",children:[s.jsx(hN,{className:"w-5 h-5 text-yellow-400"})," Endereo"]}),s.jsxs("div",{className:"bg-gray-800/50 p-4 rounded-lg space-y-1 text-sm",children:[s.jsxs("p",{children:[e.customerAddress.street,", ",e.customerAddress.number]}),s.jsxs("p",{children:[e.customerAddress.neighborhood,", ",e.customerAddress.city," - ",e.customerAddress.state]}),s.jsxs("p",{children:["CEP: ",e.customerAddress.zipCode]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Itens"}),s.jsxs("div",{className:"divide-y divide-gray-800 border border-gray-800 rounded-lg",children:[e.items.map(n=>s.jsxs("div",{className:"flex justify-between items-center p-3",children:[s.jsxs("p",{children:[n.description," (x",n.quantity,")"]}),s.jsx("p",{children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(n.price*n.quantity)})]},n.id)),s.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-900/50",children:[s.jsx("p",{children:"Frete"}),s.jsx("p",{children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e.shipping)})]})]})]}),s.jsx("div",{children:s.jsxs("div",{className:"flex justify-between items-center text-xl font-bold p-3 bg-gray-800/50 rounded-lg",children:[s.jsx("span",{className:"text-yellow-400",children:"TOTAL"}),s.jsx("span",{className:"text-yellow-400",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e.total)})]})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Link de Pagamento"}),s.jsxs("div",{className:"bg-gray-800 border-2 border-dashed border-gray-700 rounded-lg p-4 space-y-4",children:[s.jsx("p",{className:"text-yellow-400 font-mono break-all",children:e.paymentLink}),s.jsxs("div",{className:"flex justify-center flex-wrap gap-4",children:[s.jsxs("a",{href:e.paymentLink,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-sm font-semibold bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-500",children:[s.jsx(aL,{className:"w-5 h-5"})," Abrir Link"]}),s.jsxs("button",{onClick:()=>navigator.clipboard.writeText(e.paymentLink),className:"flex items-center gap-2 text-sm font-semibold bg-gray-700 text-white py-2 px-4 rounded-md hover:bg-gray-600",children:[s.jsx(vs,{className:"w-5 h-5"})," Copiar Link"]}),s.jsxs("a",{href:`https://wa.me/?text=Ol, ${e.customerName}! Aqui est o link para o pagamento da sua cobrana: ${e.paymentLink}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-sm font-semibold bg-green-600 text-white py-2 px-4 rounded-md hover:bg-green-500",children:[s.jsx(pN,{className:"w-5 h-5"})," Enviar via WhatsApp"]})]})]})]})]})]})}),Jne=({products:e,onClose:t,onSave:n})=>{const[r,o]=E.useState(""),[i,a]=E.useState(""),[l,u]=E.useState(""),[f,h]=E.useState(""),[p,g]=E.useState({}),[x,y]=E.useState([]),[N,C]=E.useState(0),[A,T]=E.useState(""),[k,D]=E.useState(""),[R,I]=E.useState(null),P=E.useMemo(()=>k?e.filter(K=>K.name.toLowerCase().includes(k.toLowerCase())).slice(0,5):[],[k,e]),B=K=>{y(U=>[...U,{id:K.id,description:K.name,quantity:1,price:K.price}]),D("")},L=()=>{y(K=>[...K,{id:`custom-${Date.now()}`,description:"Item Personalizado",quantity:1,price:0}])},$=(K,U,V)=>{const pe=[...x];pe[K][U]=V,y(pe)},X=K=>{y(U=>U.filter((V,pe)=>pe!==K))},q=(K,U)=>{g(V=>({...V,[K]:U}))},W=E.useMemo(()=>x.reduce((K,U)=>K+U.price*U.quantity,0)+N,[x,N]),ie=()=>{if(!r||!i||x.length===0){alert("Por favor, preencha as informaes do cliente e adicione pelo menos um item.");return}const K={customerName:r,customerEmail:i,customerCpf:l,customerPhone:f,customerAddress:p,items:x,shipping:N,total:W,status:"Pendente",createdAt:new Date().toISOString(),dueDate:A},U=n(K);I(U)};return R?s.jsx("div",{className:"fixed inset-0 bg-black/70 z-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-black border border-gray-800 rounded-lg w-full max-w-lg text-center p-8",onClick:K=>K.stopPropagation(),children:[s.jsx(Fl,{className:"w-16 h-16 text-green-500 mx-auto mb-4"}),s.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Cobrana Criada!"}),s.jsx("p",{className:"text-gray-400 mb-6",children:"Compartilhe o link de pagamento com seu cliente."}),s.jsxs("div",{className:"bg-gray-800 border-2 border-dashed border-gray-700 rounded-lg p-4 space-y-4",children:[s.jsx("p",{className:"text-yellow-400 font-mono break-all",children:R.paymentLink}),s.jsxs("div",{className:"flex justify-center gap-4",children:[s.jsxs("button",{onClick:()=>navigator.clipboard.writeText(R.paymentLink),className:"flex items-center gap-2 text-sm font-semibold bg-gray-700 text-white py-2 px-4 rounded-md hover:bg-gray-600",children:[s.jsx(vs,{className:"w-5 h-5"})," Copiar Link"]}),s.jsxs("a",{href:`https://wa.me/?text=Ol, ${R.customerName}! Aqui est o link para o pagamento da sua cobrana: ${R.paymentLink}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-sm font-semibold bg-green-600 text-white py-2 px-4 rounded-md hover:bg-green-500",children:[s.jsx(pN,{className:"w-5 h-5"})," Enviar via WhatsApp"]})]})]}),s.jsx("button",{onClick:t,className:"mt-8 text-sm font-bold bg-yellow-500 text-black py-2 px-6 rounded-md hover:bg-yellow-400",children:"Fechar"})]})}):s.jsx("div",{className:"fixed inset-0 bg-black/70 z-50 flex items-center justify-center p-4",onClick:t,children:s.jsxs("div",{className:"bg-black border border-gray-800 rounded-lg w-full max-w-3xl max-h-[90vh] flex flex-col",onClick:K=>K.stopPropagation(),children:[s.jsxs("header",{className:"flex items-center justify-between p-4 border-b border-gray-800",children:[s.jsx("h2",{className:"text-xl font-bold text-white",children:"Criar Nova Cobrana"}),s.jsx("button",{onClick:t,children:s.jsx(ci,{className:"w-6 h-6 text-gray-400 hover:text-white"})})]}),s.jsxs("main",{className:"p-6 overflow-y-auto space-y-6",children:[s.jsxs("div",{className:"bg-gray-900/50 p-4 rounded-lg space-y-4",children:[s.jsx("h3",{className:"font-semibold text-white",children:"Informaes do Cliente"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx("input",{value:r,onChange:K=>o(K.target.value),placeholder:"Nome do Cliente *",className:"w-full bg-gray-800 border-2 border-gray-700 rounded-md py-2 px-3 text-white"}),s.jsx("input",{value:i,onChange:K=>a(K.target.value),type:"email",placeholder:"E-mail do Cliente *",className:"w-full bg-gray-800 border-2 border-gray-700 rounded-md py-2 px-3 text-white"}),s.jsx("input",{value:l,onChange:K=>u(K.target.value),placeholder:"CPF/CNPJ do Cliente",className:"w-full bg-gray-800 border-2 border-gray-700 rounded-md py-2 px-3 text-white"}),s.jsx("input",{value:f,onChange:K=>h(K.target.value),type:"tel",placeholder:"WhatsApp / Telefone",className:"w-full bg-gray-800 border-2 border-gray-700 rounded-md py-2 px-3 text-white"})]}),s.jsxs("details",{className:"pt-2",children:[s.jsx("summary",{className:"cursor-pointer text-sm font-semibold text-yellow-400",children:"Adicionar Endereo"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-6 gap-4 mt-4",children:[s.jsx("input",{onChange:K=>q("zipCode",K.target.value),placeholder:"CEP",className:"md:col-span-2 w-full bg-gray-800 border-2 border-gray-700 rounded-md py-2 px-3 text-white"}),s.jsx("input",{onChange:K=>q("street",K.target.value),placeholder:"Rua / Logradouro",className:"md:col-span-4 w-full bg-gray-800 border-2 border-gray-700 rounded-md py-2 px-3 text-white"}),s.jsx("input",{onChange:K=>q("number",K.target.value),placeholder:"Nmero",className:"md:col-span-2 w-full bg-gray-800 border-2 border-gray-700 rounded-md py-2 px-3 text-white"}),s.jsx("input",{onChange:K=>q("complement",K.target.value),placeholder:"Complemento",className:"md:col-span-4 w-full bg-gray-800 border-2 border-gray-700 rounded-md py-2 px-3 text-white"}),s.jsx("input",{onChange:K=>q("neighborhood",K.target.value),placeholder:"Bairro",className:"md:col-span-3 w-full bg-gray-800 border-2 border-gray-700 rounded-md py-2 px-3 text-white"}),s.jsx("input",{onChange:K=>q("city",K.target.value),placeholder:"Cidade",className:"md:col-span-2 w-full bg-gray-800 border-2 border-gray-700 rounded-md py-2 px-3 text-white"}),s.jsx("input",{onChange:K=>q("state",K.target.value),placeholder:"UF",className:"w-full bg-gray-800 border-2 border-gray-700 rounded-md py-2 px-3 text-white"})]})]})]}),s.jsxs("div",{className:"bg-gray-900/50 p-4 rounded-lg space-y-4",children:[s.jsx("h3",{className:"font-semibold text-white",children:"Itens da Cobrana"}),s.jsx("div",{className:"space-y-2",children:x.map((K,U)=>s.jsxs("div",{className:"flex items-center gap-2 bg-gray-800 p-2 rounded-md",children:[s.jsx("input",{value:K.description,onChange:V=>$(U,"description",V.target.value),placeholder:"Descrio",className:"flex-grow bg-gray-700 border border-gray-600 rounded-md py-1 px-2 text-white text-sm",disabled:!!e.find(V=>V.id===K.id)}),s.jsx("input",{value:K.quantity,onChange:V=>$(U,"quantity",Number(V.target.value)),type:"number",placeholder:"Qtd",className:"w-16 bg-gray-700 border border-gray-600 rounded-md py-1 px-2 text-white text-sm"}),s.jsx("input",{value:K.price,onChange:V=>$(U,"price",Number(V.target.value)),type:"number",placeholder:"Preo",className:"w-24 bg-gray-700 border border-gray-600 rounded-md py-1 px-2 text-white text-sm"}),s.jsx("button",{onClick:()=>X(U),className:"p-1 text-gray-400 hover:text-red-500",children:s.jsx(Tn,{className:"w-4 h-4"})})]},K.id))}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{value:k,onChange:K=>D(K.target.value),placeholder:"Buscar produto...",className:"w-full bg-gray-800 border-2 border-gray-700 rounded-md py-2 px-3 text-white"}),P.length>0&&s.jsx("div",{className:"absolute top-full left-0 w-full bg-gray-800 border border-gray-700 rounded-b-md shadow-lg z-10",children:P.map(K=>s.jsx("button",{onClick:()=>B(K),className:"block w-full text-left px-3 py-2 text-sm text-gray-300 hover:bg-gray-700",children:K.name},K.id))})]}),s.jsx("button",{onClick:L,className:"text-sm font-semibold text-yellow-400 hover:underline",children:"+ Adicionar item personalizado"})]}),s.jsxs("div",{className:"bg-gray-900/50 p-4 rounded-lg grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Frete"}),s.jsx("input",{value:N,onChange:K=>C(Number(K.target.value)),type:"number",placeholder:"R$ 0,00",className:"w-full bg-gray-800 border-2 border-gray-700 rounded-md py-2 px-3 text-white"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Data de Vencimento"}),s.jsx("input",{value:A,onChange:K=>T(K.target.value),type:"date",className:"w-full bg-gray-800 border-2 border-gray-700 rounded-md py-2 px-3 text-white"})]})]})]}),s.jsxs("footer",{className:"p-4 bg-black border-t border-gray-800 flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-400",children:"Total:"}),s.jsx("p",{className:"text-2xl font-bold text-yellow-400",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(W)})]}),s.jsx("button",{onClick:ie,className:"font-bold bg-yellow-500 text-black py-3 px-6 rounded-md hover:bg-yellow-400",children:"Criar Cobrana"})]})]})})},Yne=({charges:e,products:t,onSave:n})=>{const[r,o]=E.useState(!1),[i,a]=E.useState("all"),[l,u]=E.useState(null),f=E.useMemo(()=>i==="all"?e:e.filter(p=>p.status===i),[e,i]),h=({status:p})=>{const g={Pendente:{icon:mN,color:"yellow"},Pago:{icon:Fl,color:"green"},Vencido:{icon:Pg,color:"red"},Cancelado:{icon:Pg,color:"gray"}},{icon:x,color:y}=g[p],N={yellow:"bg-yellow-500/10 text-yellow-400",green:"bg-green-500/10 text-green-400",red:"bg-red-500/10 text-red-400",gray:"bg-gray-500/10 text-gray-400"};return s.jsxs("span",{className:`inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium rounded-full ${N[y]}`,children:[s.jsx(x,{className:"w-3.5 h-3.5"}),p]})};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h2",{className:"text-xl font-bold text-white",children:"Gerenciar Cobranas"}),s.jsxs("button",{onClick:()=>o(!0),className:"flex items-center gap-2 text-sm font-bold bg-yellow-500 text-black py-2 px-4 rounded-md hover:bg-yellow-400",children:[s.jsx(Hx,{className:"w-5 h-5"})," Criar Cobrana"]})]}),s.jsxs("div",{className:"bg-black border border-gray-800 rounded-lg",children:[s.jsx("div",{className:"p-4 border-b border-gray-800 flex gap-2",children:["all","Pendente","Pago","Vencido","Cancelado"].map(p=>s.jsx("button",{onClick:()=>a(p),className:`px-3 py-1 text-sm rounded-full ${i===p?"bg-yellow-500 text-black font-semibold":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,children:p==="all"?"Todas":p},p))}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm text-left text-gray-400",children:[s.jsx("thead",{className:"text-xs text-gray-400 uppercase bg-black",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3",children:"Cliente"}),s.jsx("th",{className:"px-6 py-3",children:"Data"}),s.jsx("th",{className:"px-6 py-3",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-right",children:"Valor"}),s.jsx("th",{className:"px-6 py-3 text-center",children:"Aes"})]})}),s.jsx("tbody",{children:f.map(p=>s.jsxs("tr",{className:"border-b border-gray-800 hover:bg-gray-800/50 cursor-pointer",onClick:()=>u(p),children:[s.jsxs("td",{className:"px-6 py-4",children:[s.jsx("p",{className:"font-medium text-white",children:p.customerName}),s.jsx("p",{className:"text-xs text-gray-500",children:p.customerEmail})]}),s.jsxs("td",{className:"px-6 py-4",children:[s.jsx("p",{children:new Date(p.createdAt).toLocaleDateString("pt-BR")}),s.jsxs("p",{className:"text-xs text-gray-500",children:["Venc: ",new Date(p.dueDate).toLocaleDateString("pt-BR")]})]}),s.jsx("td",{className:"px-6 py-4",children:s.jsx(h,{status:p.status})}),s.jsx("td",{className:"px-6 py-4 text-right font-semibold text-white",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(p.total)}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx("button",{title:"Copiar link de pagamento",onClick:g=>{g.stopPropagation(),navigator.clipboard.writeText(p.paymentLink),alert("Link copiado!")},className:"p-1 text-gray-400 hover:text-yellow-400",children:s.jsx(kO,{className:"w-5 h-5"})})})]},p.id))})]})})]}),r&&s.jsx(Jne,{products:t,onClose:()=>o(!1),onSave:n}),l&&s.jsx(Wne,{charge:l,onClose:()=>u(null)})]})},Xne=({settings:e,onSave:t,paymentSettings:n,onNavigate:r})=>{const[o,i]=E.useState(e),a=JSON.stringify(o)!==JSON.stringify(e);E.useEffect(()=>{i(e)},[e]);const l=(x,y,N)=>{i(C=>({...C,[x]:{...C[x],[y]:N}}))},u=x=>{const{name:y,value:N}=x.target,[C,A]=y.split(".");i(T=>({...T,[C]:{...T[C],[A]:A==="frequency"?N:Number(N)}}))},f=()=>t(o),h=()=>i(e),p=["Dirio","Semanal","Mensal"],g=["Domingo","Segunda-feira","Tera-feira","Quarta-feira","Quinta-feira","Sexta-feira","Sbado"];return s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"pb-6 mb-6 flex justify-end items-center border-b border-gray-800",children:s.jsxs("div",{className:"flex items-center gap-4",children:[a&&s.jsx("p",{className:"text-sm text-yellow-400",children:"Voc tem alteraes no salvas."}),s.jsx("button",{onClick:h,disabled:!a,className:"text-sm font-semibold bg-gray-700 text-white py-2 px-4 rounded-md hover:bg-gray-600 disabled:opacity-50",children:"Descartar"}),s.jsx("button",{onClick:f,disabled:!a,className:"text-sm font-bold bg-yellow-500 text-black py-2 px-4 rounded-md hover:bg-yellow-400 disabled:opacity-50",children:"Salvar Configuraes"})]})}),s.jsxs("div",{className:"max-w-4xl mx-auto space-y-8",children:[s.jsxs("div",{className:"bg-black border border-gray-800 rounded-lg p-6 space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-white",children:"Mtodos de Recebimento"}),s.jsx("p",{className:"text-sm text-gray-400",children:"Esta  a chave PIX para onde suas transferncias sero enviadas. Voc pode gerenci-la nas configuraes de pagamento da loja."}),n.pix.enabled&&n.pix.pixKey?s.jsxs("div",{className:"bg-gray-800/50 p-4 rounded-lg flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm font-medium text-gray-300",children:["Chave PIX Ativa (",n.pix.pixKeyType,")"]}),s.jsx("p",{className:"font-mono text-white",children:n.pix.pixKey})]}),s.jsx("button",{onClick:()=>r("managePayments"),className:"text-sm font-semibold bg-gray-700 text-white py-2 px-4 rounded-md hover:bg-gray-600",children:"Gerenciar"})]}):s.jsxs("div",{className:"text-center p-4 bg-gray-800/50 rounded-md border border-dashed border-gray-700",children:[s.jsx("p",{className:"text-gray-400",children:"Nenhuma chave PIX configurada."}),s.jsx("button",{onClick:()=>r("managePayments"),className:"text-sm font-semibold text-yellow-500 hover:underline mt-2",children:"Configurar Chave PIX"})]})]}),s.jsxs("div",{className:"bg-black border border-gray-800 rounded-lg",children:[s.jsxs("div",{className:"p-4 border-b border-gray-800 flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold text-white",children:"Transferncias Automticas"}),s.jsx(vt,{checked:o.automaticTransfers.enabled,onChange:x=>l("automaticTransfers","enabled",x),labelId:"auto-transfer-toggle"})]}),o.automaticTransfers.enabled&&s.jsxs("div",{className:"p-6 space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"frequency",className:"block text-sm font-medium text-gray-400 mb-2",children:"Frequncia"}),s.jsx("select",{id:"frequency",name:"automaticTransfers.frequency",value:o.automaticTransfers.frequency,onChange:u,className:"w-full bg-gray-800 border-2 border-gray-700 rounded-md py-2 px-3 text-white",children:p.map(x=>s.jsx("option",{value:x,children:x},x))})]}),o.automaticTransfers.frequency==="Semanal"&&s.jsxs("div",{children:[s.jsx("label",{htmlFor:"dayOfWeek",className:"block text-sm font-medium text-gray-400 mb-2",children:"Dia da Semana"}),s.jsx("select",{id:"dayOfWeek",name:"automaticTransfers.dayOfWeek",value:o.automaticTransfers.dayOfWeek,onChange:u,className:"w-full bg-gray-800 border-2 border-gray-700 rounded-md py-2 px-3 text-white",children:g.map((x,y)=>s.jsx("option",{value:y,children:x},y))})]}),o.automaticTransfers.frequency==="Mensal"&&s.jsxs("div",{children:[s.jsx("label",{htmlFor:"dayOfMonth",className:"block text-sm font-medium text-gray-400 mb-2",children:"Dia do Ms"}),s.jsx("input",{type:"number",id:"dayOfMonth",name:"automaticTransfers.dayOfMonth",value:o.automaticTransfers.dayOfMonth,onChange:u,min:"1",max:"31",className:"w-full bg-gray-800 border-2 border-gray-700 rounded-md py-2 px-3 text-white"})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"minimumAmount",className:"block text-sm font-medium text-gray-400 mb-2",children:"Valor Mnimo para Transferncia"}),s.jsx("input",{type:"number",id:"minimumAmount",name:"automaticTransfers.minimumAmount",value:o.automaticTransfers.minimumAmount,placeholder:"R$ 100,00",className:"w-full bg-gray-800 border-2 border-gray-700 rounded-md py-2 px-3 text-white"})]})]})]}),s.jsxs("div",{className:"bg-black border border-gray-800 rounded-lg p-6 space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-white",children:"Notificaes por E-mail"}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("label",{htmlFor:"notif-commission",className:"text-sm text-gray-300",children:"Receber e-mail ao ganhar nova comisso"}),s.jsx(vt,{checked:o.notifications.onNewCommission,onChange:x=>l("notifications","onNewCommission",x),labelId:"notif-commission"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("label",{htmlFor:"notif-success",className:"text-sm text-gray-300",children:"Receber e-mail quando uma transferncia for concluda"}),s.jsx(vt,{checked:o.notifications.onTransferSuccess,onChange:x=>l("notifications","onTransferSuccess",x),labelId:"notif-success"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("label",{htmlFor:"notif-fail",className:"text-sm text-gray-300",children:"Receber e-mail se uma transferncia falhar"}),s.jsx(vt,{checked:o.notifications.onTransferFail,onChange:x=>l("notifications","onTransferFail",x),labelId:"notif-fail"})]})]}),s.jsxs("div",{className:"bg-black border border-gray-800 rounded-lg p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Segurana"}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"2fa-toggle",className:"text-sm text-white font-medium",children:"Autenticao de Dois Fatores (2FA)"}),s.jsx("p",{className:"text-xs text-gray-400",children:"Exigir um cdigo de verificao para todas as transferncias."})]}),s.jsx(vt,{checked:o.security.twoFactorAuth,onChange:x=>l("security","twoFactorAuth",x),labelId:"2fa-toggle"})]})]})]})]})};/**
 * react-router v7.9.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var c3="popstate";function Qne(e={}){function t(o,i){let{pathname:a="/",search:l="",hash:u=""}=ql(o.location.hash.substring(1));return!a.startsWith("/")&&!a.startsWith(".")&&(a="/"+a),r2("",{pathname:a,search:l,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(o,i){let a=o.document.querySelector("base"),l="";if(a&&a.getAttribute("href")){let u=o.location.href,f=u.indexOf("#");l=f===-1?u:u.slice(0,f)}return l+"#"+(typeof i=="string"?i:Rf(i))}function r(o,i){vo(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(i)})`)}return ere(t,n,r,e)}function _t(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function vo(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Zne(){return Math.random().toString(36).substring(2,10)}function u3(e,t){return{usr:e.state,key:e.key,idx:t}}function r2(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?ql(t):t,state:n,key:t&&t.key||r||Zne()}}function Rf({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function ql(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function ere(e,t,n,r={}){let{window:o=document.defaultView,v5Compat:i=!1}=r,a=o.history,l="POP",u=null,f=h();f==null&&(f=0,a.replaceState({...a.state,idx:f},""));function h(){return(a.state||{idx:null}).idx}function p(){l="POP";let C=h(),A=C==null?null:C-f;f=C,u&&u({action:l,location:N.location,delta:A})}function g(C,A){l="PUSH";let T=r2(N.location,C,A);n&&n(T,C),f=h()+1;let k=u3(T,f),D=N.createHref(T);try{a.pushState(k,"",D)}catch(R){if(R instanceof DOMException&&R.name==="DataCloneError")throw R;o.location.assign(D)}i&&u&&u({action:l,location:N.location,delta:1})}function x(C,A){l="REPLACE";let T=r2(N.location,C,A);n&&n(T,C),f=h();let k=u3(T,f),D=N.createHref(T);a.replaceState(k,"",D),i&&u&&u({action:l,location:N.location,delta:0})}function y(C){return tre(C)}let N={get action(){return l},get location(){return e(o,a)},listen(C){if(u)throw new Error("A history only accepts one active listener");return o.addEventListener(c3,p),u=C,()=>{o.removeEventListener(c3,p),u=null}},createHref(C){return t(o,C)},createURL:y,encodeLocation(C){let A=y(C);return{pathname:A.pathname,search:A.search,hash:A.hash}},push:g,replace:x,go(C){return a.go(C)}};return N}function tre(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),_t(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:Rf(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function sL(e,t,n="/"){return nre(e,t,n,!1)}function nre(e,t,n,r){let o=typeof t=="string"?ql(t):t,i=ta(o.pathname||"/",n);if(i==null)return null;let a=lL(e);rre(a);let l=null;for(let u=0;l==null&&u<a.length;++u){let f=pre(i);l=fre(a[u],f,r)}return l}function lL(e,t=[],n=[],r="",o=!1){let i=(a,l,u=o,f)=>{let h={relativePath:f===void 0?a.path||"":f,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};if(h.relativePath.startsWith("/")){if(!h.relativePath.startsWith(r)&&u)return;_t(h.relativePath.startsWith(r),`Absolute route path "${h.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(r.length)}let p=Xi([r,h.relativePath]),g=n.concat(h);a.children&&a.children.length>0&&(_t(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),lL(a.children,t,g,p,u)),!(a.path==null&&!a.index)&&t.push({path:p,score:ure(p,a.index),routesMeta:g})};return e.forEach((a,l)=>{var u;if(a.path===""||!((u=a.path)!=null&&u.includes("?")))i(a,l);else for(let f of cL(a.path))i(a,l,!0,f)}),t}function cL(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,o=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return o?[i,""]:[i];let a=cL(r.join("/")),l=[];return l.push(...a.map(u=>u===""?i:[i,u].join("/"))),o&&l.push(...a),l.map(u=>e.startsWith("/")&&u===""?"/":u)}function rre(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:dre(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var ore=/^:[\w-]+$/,ire=3,are=2,sre=1,lre=10,cre=-2,d3=e=>e==="*";function ure(e,t){let n=e.split("/"),r=n.length;return n.some(d3)&&(r+=cre),t&&(r+=are),n.filter(o=>!d3(o)).reduce((o,i)=>o+(ore.test(i)?ire:i===""?sre:lre),r)}function dre(e,t){return e.length===t.length&&e.slice(0,-1).every((r,o)=>r===t[o])?e[e.length-1]-t[t.length-1]:0}function fre(e,t,n=!1){let{routesMeta:r}=e,o={},i="/",a=[];for(let l=0;l<r.length;++l){let u=r[l],f=l===r.length-1,h=i==="/"?t:t.slice(i.length)||"/",p=Rg({path:u.relativePath,caseSensitive:u.caseSensitive,end:f},h),g=u.route;if(!p&&f&&n&&!r[r.length-1].route.index&&(p=Rg({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},h)),!p)return null;Object.assign(o,p.params),a.push({params:o,pathname:Xi([i,p.pathname]),pathnameBase:bre(Xi([i,p.pathnameBase])),route:g}),p.pathnameBase!=="/"&&(i=Xi([i,p.pathnameBase]))}return a}function Rg(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=hre(e.path,e.caseSensitive,e.end),o=t.match(n);if(!o)return null;let i=o[0],a=i.replace(/(.)\/+$/,"$1"),l=o.slice(1);return{params:r.reduce((f,{paramName:h,isOptional:p},g)=>{if(h==="*"){let y=l[g]||"";a=i.slice(0,i.length-y.length).replace(/(.)\/+$/,"$1")}const x=l[g];return p&&!x?f[h]=void 0:f[h]=(x||"").replace(/%2F/g,"/"),f},{}),pathname:i,pathnameBase:a,pattern:e}}function hre(e,t=!1,n=!0){vo(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,u)=>(r.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),o+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":e!==""&&e!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),r]}function pre(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return vo(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function ta(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function mre(e,t="/"){let{pathname:n,search:r="",hash:o=""}=typeof e=="string"?ql(e):e;return{pathname:n?n.startsWith("/")?n:gre(n,t):t,search:vre(r),hash:yre(o)}}function gre(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Ly(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function xre(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function gN(e){let t=xre(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function xN(e,t,n,r=!1){let o;typeof e=="string"?o=ql(e):(o={...e},_t(!o.pathname||!o.pathname.includes("?"),Ly("?","pathname","search",o)),_t(!o.pathname||!o.pathname.includes("#"),Ly("#","pathname","hash",o)),_t(!o.search||!o.search.includes("#"),Ly("#","search","hash",o)));let i=e===""||o.pathname==="",a=i?"/":o.pathname,l;if(a==null)l=n;else{let p=t.length-1;if(!r&&a.startsWith("..")){let g=a.split("/");for(;g[0]==="..";)g.shift(),p-=1;o.pathname=g.join("/")}l=p>=0?t[p]:"/"}let u=mre(o,l),f=a&&a!=="/"&&a.endsWith("/"),h=(i||a===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(f||h)&&(u.pathname+="/"),u}var Xi=e=>e.join("/").replace(/\/\/+/g,"/"),bre=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),vre=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,yre=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function wre(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var uL=["POST","PUT","PATCH","DELETE"];new Set(uL);var Cre=["GET",...uL];new Set(Cre);var wu=E.createContext(null);wu.displayName="DataRouter";var Vx=E.createContext(null);Vx.displayName="DataRouterState";E.createContext(!1);var dL=E.createContext({isTransitioning:!1});dL.displayName="ViewTransition";var Nre=E.createContext(new Map);Nre.displayName="Fetchers";var Sre=E.createContext(null);Sre.displayName="Await";var qo=E.createContext(null);qo.displayName="Navigation";var Yf=E.createContext(null);Yf.displayName="Location";var Ho=E.createContext({outlet:null,matches:[],isDataRoute:!1});Ho.displayName="Route";var bN=E.createContext(null);bN.displayName="RouteError";function Ere(e,{relative:t}={}){_t(Cu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=E.useContext(qo),{hash:o,pathname:i,search:a}=Xf(e,{relative:t}),l=i;return n!=="/"&&(l=i==="/"?n:Xi([n,i])),r.createHref({pathname:l,search:a,hash:o})}function Cu(){return E.useContext(Yf)!=null}function pi(){return _t(Cu(),"useLocation() may be used only in the context of a <Router> component."),E.useContext(Yf).location}var fL="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function hL(e){E.useContext(qo).static||E.useLayoutEffect(e)}function vN(){let{isDataRoute:e}=E.useContext(Ho);return e?zre():jre()}function jre(){_t(Cu(),"useNavigate() may be used only in the context of a <Router> component.");let e=E.useContext(wu),{basename:t,navigator:n}=E.useContext(qo),{matches:r}=E.useContext(Ho),{pathname:o}=pi(),i=JSON.stringify(gN(r)),a=E.useRef(!1);return hL(()=>{a.current=!0}),E.useCallback((u,f={})=>{if(vo(a.current,fL),!a.current)return;if(typeof u=="number"){n.go(u);return}let h=xN(u,JSON.parse(i),o,f.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:Xi([t,h.pathname])),(f.replace?n.replace:n.push)(h,f.state,f)},[t,n,i,o,e])}var Are=E.createContext(null);function Tre(e){let t=E.useContext(Ho).outlet;return E.useMemo(()=>t&&E.createElement(Are.Provider,{value:e},t),[t,e])}function Xf(e,{relative:t}={}){let{matches:n}=E.useContext(Ho),{pathname:r}=pi(),o=JSON.stringify(gN(n));return E.useMemo(()=>xN(e,JSON.parse(o),r,t==="path"),[e,o,r,t])}function kre(e,t){return pL(e,t)}function pL(e,t,n,r,o){var T;_t(Cu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=E.useContext(qo),{matches:a}=E.useContext(Ho),l=a[a.length-1],u=l?l.params:{},f=l?l.pathname:"/",h=l?l.pathnameBase:"/",p=l&&l.route;{let k=p&&p.path||"";mL(f,!p||k.endsWith("*")||k.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${k}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${k}"> to <Route path="${k==="/"?"*":`${k}/*`}">.`)}let g=pi(),x;if(t){let k=typeof t=="string"?ql(t):t;_t(h==="/"||((T=k.pathname)==null?void 0:T.startsWith(h)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${k.pathname}" was given in the \`location\` prop.`),x=k}else x=g;let y=x.pathname||"/",N=y;if(h!=="/"){let k=h.replace(/^\//,"").split("/");N="/"+y.replace(/^\//,"").split("/").slice(k.length).join("/")}let C=sL(e,{pathname:N});vo(p||C!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),vo(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let A=Dre(C&&C.map(k=>Object.assign({},k,{params:Object.assign({},u,k.params),pathname:Xi([h,i.encodeLocation?i.encodeLocation(k.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?h:Xi([h,i.encodeLocation?i.encodeLocation(k.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:k.pathnameBase])})),a,n,r,o);return t&&A?E.createElement(Yf.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},A):A}function Mre(){let e=Ure(),t=wre(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},i={padding:"2px 4px",backgroundColor:r},a=null;return console.error("Error handled by React Router default ErrorBoundary:",e),a=E.createElement(E.Fragment,null,E.createElement("p",null," Hey developer "),E.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",E.createElement("code",{style:i},"ErrorBoundary")," or"," ",E.createElement("code",{style:i},"errorElement")," prop on your route.")),E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},t),n?E.createElement("pre",{style:o},n):null,a)}var Pre=E.createElement(Mre,null),Rre=class extends E.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?E.createElement(Ho.Provider,{value:this.props.routeContext},E.createElement(bN.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Ire({routeContext:e,match:t,children:n}){let r=E.useContext(wu);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),E.createElement(Ho.Provider,{value:e},n)}function Dre(e,t=[],n=null,r=null,o=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let i=e,a=n==null?void 0:n.errors;if(a!=null){let f=i.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);_t(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),i=i.slice(0,Math.min(i.length,f+1))}let l=!1,u=-1;if(n)for(let f=0;f<i.length;f++){let h=i[f];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=f),h.route.id){let{loaderData:p,errors:g}=n,x=h.route.loader&&!p.hasOwnProperty(h.route.id)&&(!g||g[h.route.id]===void 0);if(h.route.lazy||x){l=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((f,h,p)=>{let g,x=!1,y=null,N=null;n&&(g=a&&h.route.id?a[h.route.id]:void 0,y=h.route.errorElement||Pre,l&&(u<0&&p===0?(mL("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,N=null):u===p&&(x=!0,N=h.route.hydrateFallbackElement||null)));let C=t.concat(i.slice(0,p+1)),A=()=>{let T;return g?T=y:x?T=N:h.route.Component?T=E.createElement(h.route.Component,null):h.route.element?T=h.route.element:T=f,E.createElement(Ire,{match:h,routeContext:{outlet:f,matches:C,isDataRoute:n!=null},children:T})};return n&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?E.createElement(Rre,{location:n.location,revalidation:n.revalidation,component:y,error:g,children:A(),routeContext:{outlet:null,matches:C,isDataRoute:!0},unstable_onError:r}):A()},null)}function yN(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function _re(e){let t=E.useContext(wu);return _t(t,yN(e)),t}function Ore(e){let t=E.useContext(Vx);return _t(t,yN(e)),t}function Lre(e){let t=E.useContext(Ho);return _t(t,yN(e)),t}function wN(e){let t=Lre(e),n=t.matches[t.matches.length-1];return _t(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function Bre(){return wN("useRouteId")}function Ure(){var r;let e=E.useContext(bN),t=Ore("useRouteError"),n=wN("useRouteError");return e!==void 0?e:(r=t.errors)==null?void 0:r[n]}function zre(){let{router:e}=_re("useNavigate"),t=wN("useNavigate"),n=E.useRef(!1);return hL(()=>{n.current=!0}),E.useCallback(async(o,i={})=>{vo(n.current,fL),n.current&&(typeof o=="number"?e.navigate(o):await e.navigate(o,{fromRouteId:t,...i}))},[e,t])}var f3={};function mL(e,t,n){!t&&!f3[e]&&(f3[e]=!0,vo(!1,n))}E.memo(Fre);function Fre({routes:e,future:t,state:n,unstable_onError:r}){return pL(e,void 0,n,r,t)}function Ld({to:e,replace:t,state:n,relative:r}){_t(Cu(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=E.useContext(qo);vo(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=E.useContext(Ho),{pathname:a}=pi(),l=vN(),u=xN(e,gN(i),a,r==="path"),f=JSON.stringify(u);return E.useEffect(()=>{l(JSON.parse(f),{replace:t,state:n,relative:r})},[l,f,r,t,n]),null}function gL(e){return Tre(e.context)}function sn(e){_t(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function qre({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:o,static:i=!1}){_t(!Cu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=e.replace(/^\/*/,"/"),l=E.useMemo(()=>({basename:a,navigator:o,static:i,future:{}}),[a,o,i]);typeof n=="string"&&(n=ql(n));let{pathname:u="/",search:f="",hash:h="",state:p=null,key:g="default"}=n,x=E.useMemo(()=>{let y=ta(u,a);return y==null?null:{location:{pathname:y,search:f,hash:h,state:p,key:g},navigationType:r}},[a,u,f,h,p,g,r]);return vo(x!=null,`<Router basename="${a}"> is not able to match the URL "${u}${f}${h}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:E.createElement(qo.Provider,{value:l},E.createElement(Yf.Provider,{children:t,value:x}))}function Hre({children:e,location:t}){return kre(o2(e),t)}function o2(e,t=[]){let n=[];return E.Children.forEach(e,(r,o)=>{if(!E.isValidElement(r))return;let i=[...t,o];if(r.type===E.Fragment){n.push.apply(n,o2(r.props.children,i));return}_t(r.type===sn,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),_t(!r.props.index||!r.props.children,"An index route cannot have child routes.");let a={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=o2(r.props.children,i)),n.push(a)}),n}var Tm="get",km="application/x-www-form-urlencoded";function $x(e){return e!=null&&typeof e.tagName=="string"}function Vre(e){return $x(e)&&e.tagName.toLowerCase()==="button"}function $re(e){return $x(e)&&e.tagName.toLowerCase()==="form"}function Gre(e){return $x(e)&&e.tagName.toLowerCase()==="input"}function Kre(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Wre(e,t){return e.button===0&&(!t||t==="_self")&&!Kre(e)}var Zp=null;function Jre(){if(Zp===null)try{new FormData(document.createElement("form"),0),Zp=!1}catch{Zp=!0}return Zp}var Yre=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function By(e){return e!=null&&!Yre.has(e)?(vo(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${km}"`),null):e}function Xre(e,t){let n,r,o,i,a;if($re(e)){let l=e.getAttribute("action");r=l?ta(l,t):null,n=e.getAttribute("method")||Tm,o=By(e.getAttribute("enctype"))||km,i=new FormData(e)}else if(Vre(e)||Gre(e)&&(e.type==="submit"||e.type==="image")){let l=e.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=e.getAttribute("formaction")||l.getAttribute("action");if(r=u?ta(u,t):null,n=e.getAttribute("formmethod")||l.getAttribute("method")||Tm,o=By(e.getAttribute("formenctype"))||By(l.getAttribute("enctype"))||km,i=new FormData(l,e),!Jre()){let{name:f,type:h,value:p}=e;if(h==="image"){let g=f?`${f}.`:"";i.append(`${g}x`,"0"),i.append(`${g}y`,"0")}else f&&i.append(f,p)}}else{if($x(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Tm,r=null,o=km,a=e}return i&&o==="text/plain"&&(a=i,i=void 0),{action:r,method:n.toLowerCase(),encType:o,formData:i,body:a}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function CN(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Qre(e,t,n){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname=`_root.${n}`:t&&ta(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function Zre(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function eoe(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function toe(e,t,n){let r=await Promise.all(e.map(async o=>{let i=t.routes[o.route.id];if(i){let a=await Zre(i,n);return a.links?a.links():[]}return[]}));return ioe(r.flat(1).filter(eoe).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function h3(e,t,n,r,o,i){let a=(u,f)=>n[f]?u.route.id!==n[f].route.id:!0,l=(u,f)=>{var h;return n[f].pathname!==u.pathname||((h=n[f].route.path)==null?void 0:h.endsWith("*"))&&n[f].params["*"]!==u.params["*"]};return i==="assets"?t.filter((u,f)=>a(u,f)||l(u,f)):i==="data"?t.filter((u,f)=>{var p;let h=r.routes[u.route.id];if(!h||!h.hasLoader)return!1;if(a(u,f)||l(u,f))return!0;if(u.route.shouldRevalidate){let g=u.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((p=n[0])==null?void 0:p.params)||{},nextUrl:new URL(e,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function noe(e,t,{includeHydrateFallback:n}={}){return roe(e.map(r=>{let o=t.routes[r.route.id];if(!o)return[];let i=[o.module];return o.clientActionModule&&(i=i.concat(o.clientActionModule)),o.clientLoaderModule&&(i=i.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(i=i.concat(o.hydrateFallbackModule)),o.imports&&(i=i.concat(o.imports)),i}).flat(1))}function roe(e){return[...new Set(e)]}function ooe(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function ioe(e,t){let n=new Set;return new Set(t),e.reduce((r,o)=>{let i=JSON.stringify(ooe(o));return n.has(i)||(n.add(i),r.push({key:i,link:o})),r},[])}function xL(){let e=E.useContext(wu);return CN(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function aoe(){let e=E.useContext(Vx);return CN(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var NN=E.createContext(void 0);NN.displayName="FrameworkContext";function bL(){let e=E.useContext(NN);return CN(e,"You must render this element inside a <HydratedRouter> element"),e}function soe(e,t){let n=E.useContext(NN),[r,o]=E.useState(!1),[i,a]=E.useState(!1),{onFocus:l,onBlur:u,onMouseEnter:f,onMouseLeave:h,onTouchStart:p}=t,g=E.useRef(null);E.useEffect(()=>{if(e==="render"&&a(!0),e==="viewport"){let N=A=>{A.forEach(T=>{a(T.isIntersecting)})},C=new IntersectionObserver(N,{threshold:.5});return g.current&&C.observe(g.current),()=>{C.disconnect()}}},[e]),E.useEffect(()=>{if(r){let N=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(N)}}},[r]);let x=()=>{o(!0)},y=()=>{o(!1),a(!1)};return n?e!=="intent"?[i,g,{}]:[i,g,{onFocus:Bd(l,x),onBlur:Bd(u,y),onMouseEnter:Bd(f,x),onMouseLeave:Bd(h,y),onTouchStart:Bd(p,x)}]:[!1,g,{}]}function Bd(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function loe({page:e,...t}){let{router:n}=xL(),r=E.useMemo(()=>sL(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?E.createElement(uoe,{page:e,matches:r,...t}):null}function coe(e){let{manifest:t,routeModules:n}=bL(),[r,o]=E.useState([]);return E.useEffect(()=>{let i=!1;return toe(e,t,n).then(a=>{i||o(a)}),()=>{i=!0}},[e,t,n]),r}function uoe({page:e,matches:t,...n}){let r=pi(),{manifest:o,routeModules:i}=bL(),{basename:a}=xL(),{loaderData:l,matches:u}=aoe(),f=E.useMemo(()=>h3(e,t,u,o,r,"data"),[e,t,u,o,r]),h=E.useMemo(()=>h3(e,t,u,o,r,"assets"),[e,t,u,o,r]),p=E.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let y=new Set,N=!1;if(t.forEach(A=>{var k;let T=o.routes[A.route.id];!T||!T.hasLoader||(!f.some(D=>D.route.id===A.route.id)&&A.route.id in l&&((k=i[A.route.id])!=null&&k.shouldRevalidate)||T.hasClientLoader?N=!0:y.add(A.route.id))}),y.size===0)return[];let C=Qre(e,a,"data");return N&&y.size>0&&C.searchParams.set("_routes",t.filter(A=>y.has(A.route.id)).map(A=>A.route.id).join(",")),[C.pathname+C.search]},[a,l,r,o,f,t,e,i]),g=E.useMemo(()=>noe(h,o),[h,o]),x=coe(h);return E.createElement(E.Fragment,null,p.map(y=>E.createElement("link",{key:y,rel:"prefetch",as:"fetch",href:y,...n})),g.map(y=>E.createElement("link",{key:y,rel:"modulepreload",href:y,...n})),x.map(({key:y,link:N})=>E.createElement("link",{key:y,nonce:n.nonce,...N})))}function doe(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var vL=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{vL&&(window.__reactRouterVersion="7.9.5")}catch{}function foe({basename:e,children:t,window:n}){let r=E.useRef();r.current==null&&(r.current=Qne({window:n,v5Compat:!0}));let o=r.current,[i,a]=E.useState({action:o.action,location:o.location}),l=E.useCallback(u=>{E.startTransition(()=>a(u))},[a]);return E.useLayoutEffect(()=>o.listen(l),[o,l]),E.createElement(qre,{basename:e,children:t,location:i.location,navigationType:i.action,navigator:o})}var yL=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,qc=E.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:o,reloadDocument:i,replace:a,state:l,target:u,to:f,preventScrollReset:h,viewTransition:p,...g},x){let{basename:y}=E.useContext(qo),N=typeof f=="string"&&yL.test(f),C,A=!1;if(typeof f=="string"&&N&&(C=f,vL))try{let L=new URL(window.location.href),$=f.startsWith("//")?new URL(L.protocol+f):new URL(f),X=ta($.pathname,y);$.origin===L.origin&&X!=null?f=X+$.search+$.hash:A=!0}catch{vo(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let T=Ere(f,{relative:o}),[k,D,R]=soe(r,g),I=moe(f,{replace:a,state:l,target:u,preventScrollReset:h,relative:o,viewTransition:p});function P(L){t&&t(L),L.defaultPrevented||I(L)}let B=E.createElement("a",{...g,...R,href:C||T,onClick:A||i?t:P,ref:doe(x,D),target:u,"data-discover":!N&&n==="render"?"true":void 0});return k&&!N?E.createElement(E.Fragment,null,B,E.createElement(loe,{page:T})):B});qc.displayName="Link";var Gx=E.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:o=!1,style:i,to:a,viewTransition:l,children:u,...f},h){let p=Xf(a,{relative:f.relative}),g=pi(),x=E.useContext(Vx),{navigator:y,basename:N}=E.useContext(qo),C=x!=null&&yoe(p)&&l===!0,A=y.encodeLocation?y.encodeLocation(p).pathname:p.pathname,T=g.pathname,k=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;n||(T=T.toLowerCase(),k=k?k.toLowerCase():null,A=A.toLowerCase()),k&&N&&(k=ta(k,N)||k);const D=A!=="/"&&A.endsWith("/")?A.length-1:A.length;let R=T===A||!o&&T.startsWith(A)&&T.charAt(D)==="/",I=k!=null&&(k===A||!o&&k.startsWith(A)&&k.charAt(A.length)==="/"),P={isActive:R,isPending:I,isTransitioning:C},B=R?t:void 0,L;typeof r=="function"?L=r(P):L=[r,R?"active":null,I?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let $=typeof i=="function"?i(P):i;return E.createElement(qc,{...f,"aria-current":B,className:L,ref:h,style:$,to:a,viewTransition:l},typeof u=="function"?u(P):u)});Gx.displayName="NavLink";var hoe=E.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:o,state:i,method:a=Tm,action:l,onSubmit:u,relative:f,preventScrollReset:h,viewTransition:p,...g},x)=>{let y=boe(),N=voe(l,{relative:f}),C=a.toLowerCase()==="get"?"get":"post",A=typeof l=="string"&&yL.test(l),T=k=>{if(u&&u(k),k.defaultPrevented)return;k.preventDefault();let D=k.nativeEvent.submitter,R=(D==null?void 0:D.getAttribute("formmethod"))||a;y(D||k.currentTarget,{fetcherKey:t,method:R,navigate:n,replace:o,state:i,relative:f,preventScrollReset:h,viewTransition:p})};return E.createElement("form",{ref:x,method:C,action:N,onSubmit:r?u:T,...g,"data-discover":!A&&e==="render"?"true":void 0})});hoe.displayName="Form";function poe(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function wL(e){let t=E.useContext(wu);return _t(t,poe(e)),t}function moe(e,{target:t,replace:n,state:r,preventScrollReset:o,relative:i,viewTransition:a}={}){let l=vN(),u=pi(),f=Xf(e,{relative:i});return E.useCallback(h=>{if(Wre(h,t)){h.preventDefault();let p=n!==void 0?n:Rf(u)===Rf(f);l(e,{replace:p,state:r,preventScrollReset:o,relative:i,viewTransition:a})}},[u,l,f,n,r,t,e,o,i,a])}var goe=0,xoe=()=>`__${String(++goe)}__`;function boe(){let{router:e}=wL("useSubmit"),{basename:t}=E.useContext(qo),n=Bre();return E.useCallback(async(r,o={})=>{let{action:i,method:a,encType:l,formData:u,body:f}=Xre(r,t);if(o.navigate===!1){let h=o.fetcherKey||xoe();await e.fetch(h,n,o.action||i,{preventScrollReset:o.preventScrollReset,formData:u,body:f,formMethod:o.method||a,formEncType:o.encType||l,flushSync:o.flushSync})}else await e.navigate(o.action||i,{preventScrollReset:o.preventScrollReset,formData:u,body:f,formMethod:o.method||a,formEncType:o.encType||l,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[e,t,n])}function voe(e,{relative:t}={}){let{basename:n}=E.useContext(qo),r=E.useContext(Ho);_t(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),i={...Xf(e||".",{relative:t})},a=pi();if(e==null){i.search=a.search;let l=new URLSearchParams(i.search),u=l.getAll("index");if(u.some(h=>h==="")){l.delete("index"),u.filter(p=>p).forEach(p=>l.append("index",p));let h=l.toString();i.search=h?`?${h}`:""}}return(!e||e===".")&&o.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(i.pathname=i.pathname==="/"?n:Xi([n,i.pathname])),Rf(i)}function yoe(e,{relative:t}={}){let n=E.useContext(dL);_t(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=wL("useViewTransitionState"),o=Xf(e,{relative:t});if(!n.isTransitioning)return!1;let i=ta(n.currentLocation.pathname,r)||n.currentLocation.pathname,a=ta(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Rg(o.pathname,a)!=null||Rg(o.pathname,i)!=null}var Zt=(e=>(e.COMMISSION_SHOP="commission_shop",e.COMMISSION_REFERRAL="commission_referral",e.BONUS="bonus",e.PURCHASE="purchase",e.WITHDRAWAL="withdrawal",e.TRANSFER="transfer",e.FEES="fees",e.ADJUSTMENT="adjustment",e.CHARGEBACK="chargeback",e.PAYMENT_RECEIVED="payment_received",e))(Zt||{}),qi=(e=>(e.POSTED="posted",e.HELD="held",e.REVERSED="reversed",e.PENDING="pending",e.PAID="paid",e.FAILED="failed",e))(qi||{});const woe=({className:e="w-6 h-6"})=>s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[s.jsx("rect",{width:"7",height:"9",x:"3",y:"3",rx:"1"}),s.jsx("rect",{width:"7",height:"5",x:"14",y:"3",rx:"1"}),s.jsx("rect",{width:"7",height:"9",x:"14",y:"12",rx:"1"}),s.jsx("rect",{width:"7",height:"5",x:"3",y:"16",rx:"1"})]}),Coe=({className:e="w-6 h-6"})=>s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[s.jsx("path",{d:"M12 3v18"}),s.jsx("path",{d:"m19 12-7 7-7-7"})]}),CL=({className:e="w-6 h-6"})=>s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[s.jsx("line",{x1:"12",x2:"12",y1:"2",y2:"22"}),s.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),Noe=({className:e="w-6 h-6"})=>s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[s.jsx("rect",{width:"20",height:"14",x:"2",y:"5",rx:"2"}),s.jsx("line",{x1:"2",x2:"22",y1:"10",y2:"10"})]}),Soe=({className:e="w-6 h-6"})=>s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[s.jsx("path",{d:"M3 3v18h18"}),s.jsx("path",{d:"m19 9-5 5-4-4-3 3"})]}),Eoe=({className:e="w-6 h-6"})=>s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[s.jsx("path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 0 2l-.15.08a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.38a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1 0-2l.15-.08a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"}),s.jsx("circle",{cx:"12",cy:"12",r:"3"})]}),NL=({className:e="w-6 h-6"})=>s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[s.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"}),s.jsx("circle",{cx:"9",cy:"7",r:"4"}),s.jsx("path",{d:"M22 21v-2a4 4 0 0 0-3-3.87"}),s.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),joe=({className:e="w-6 h-6"})=>s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[s.jsx("path",{d:"M20 12V8H6a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h12v4"}),s.jsx("path",{d:"M4 6v12a2 2 0 0 0 2 2h14v-4"}),s.jsx("path",{d:"M18 12a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2c0-1.1-.9-2-2-2Z"})]}),SL=({className:e="w-6 h-6"})=>s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[s.jsx("polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17"}),s.jsx("polyline",{points:"16 7 22 7 22 13"})]}),Aoe=({className:e="w-6 h-6"})=>s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[s.jsx("polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7"}),s.jsx("polyline",{points:"16 17 22 17 22 11"})]}),i2=({className:e="w-6 h-6"})=>s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[s.jsx("path",{d:"M12 3L9.27 7.11L5 8.35L8.24 11.4L7.34 15.64L12 13.26L16.66 15.64L15.76 11.4L19 8.35L14.73 7.11L12 3Z"}),s.jsx("path",{d:"M5 3L2.27 7.11L-2 8.35L1.24 11.4L0.34 15.64L5 13.26L9.66 15.64L8.76 11.4L12 8.35L7.73 7.11L5 3Z",transform:"translate(10, 8) scale(0.5)"})]}),Toe=({className:e="w-6 h-6"})=>s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[s.jsx("path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-2Z"}),s.jsx("path",{d:"M3 6h18"}),s.jsx("path",{d:"M16 10a4 4 0 0 1-8 0"})]}),a2={[Zt.COMMISSION_SHOP]:"Comisso Loja",[Zt.COMMISSION_REFERRAL]:"Comisso Indicao",[Zt.BONUS]:"Bnus",[Zt.PURCHASE]:"Compra",[Zt.WITHDRAWAL]:"Saque",[Zt.TRANSFER]:"Transferncia",[Zt.FEES]:"Taxa",[Zt.ADJUSTMENT]:"Ajuste Manual",[Zt.CHARGEBACK]:"Estorno",[Zt.PAYMENT_RECEIVED]:"Pagamento Recebido"},Ro=[],Gi={id:"",name:"",email:"",phone:"",smartCertificate:"",currentPin:"",currentCycles:0,nextPin:"",nextPinCycles:0,address:{street:"",number:"",complement:"",neighborhood:"",city:"",state:"",cep:""},bank:{name:"",agency:"",account:""}},em={careerPlan:[{pin:"Bronze",cycles:5,lines:0,vmec:"",reward:13.5},{pin:"Prata",cycles:15,lines:1,vmec:"100%",reward:40.5},{pin:"Ouro",cycles:70,lines:1,vmec:"100%",reward:189},{pin:"Safira",cycles:150,lines:2,vmec:"60/40",reward:405},{pin:"Esmeralda",cycles:300,lines:2,vmec:"60/40",reward:810},{pin:"Topzio",cycles:500,lines:2,vmec:"60/40",reward:1350},{pin:"Rubi",cycles:750,lines:3,vmec:"50/30/20",reward:2025},{pin:"Diamante",cycles:1500,lines:3,vmec:"50/30/20",reward:4050},{pin:"Duplo Diamante",cycles:3e3,lines:4,vmec:"40/30/20/10",reward:18450},{pin:"Triplo Diamante",cycles:5e3,lines:5,vmec:"35/25/20/10/10",reward:36450},{pin:"Diamante Red",cycles:15e3,lines:6,vmec:"30/20/18/12/10/10/1",reward:67500},{pin:"Diamante Blue",cycles:25e3,lines:6,vmec:"30/20/18/12/10/10/1",reward:105300},{pin:"Diamante Black",cycles:5e4,lines:6,vmec:"30/20/18/12/10/10/1",reward:135e3}]},s2=[],koe=[],Rc=[],mf={cadastro:`https://rs.wallet/register?sponsor=${Gi.id||""}`,loja:`https://rs.wallet/shop/${Gi.id||""}`,produtos:"https://rs.wallet/products"},Moe=[{id:"model_1",title:"Convite para a Equipe",imageUrl:"https://picsum.photos/400/201",contentText:`Ol! 

Estou construindo uma equipe de sucesso com a RS Prlipsi e gostaria de convidar voc para fazer parte.

 uma oportunidade incrvel de crescimento pessoal e financeiro. Quer saber mais?

Cadastre-se pelo meu link: {{link_cadastro}}`},{id:"model_2",title:"Conhea Nossos Produtos",imageUrl:"https://picsum.photos/400/202",contentText:`Cuide da sua sade com os melhores produtos! 

A RS Prlipsi tem uma linha completa para o seu bem-estar.

Confira todos os produtos em minha loja virtual: {{link_loja}}

#saude #bemestar #prolipsi`},{id:"model_3",title:"Oportunidade de Renda Extra",imageUrl:"https://picsum.photos/400/203",contentText:`Buscando uma forma de complementar sua renda?

Com a RS Prlipsi, voc pode empreender e alcanar seus objetivos.

Fale comigo para saber como comear ou acesse: {{link_cadastro}}`}],Poe=[],Roe=[],da=({isOpen:e,onClose:t,title:n,children:r})=>(E.useEffect(()=>{const o=i=>{i.key==="Escape"&&t()};return window.addEventListener("keydown",o),()=>{window.removeEventListener("keydown",o)}},[t]),e?s.jsxs("div",{className:"fixed inset-0 bg-black/70 z-50 flex items-center justify-center p-4 animate-fade-in",onClick:t,children:[s.jsxs("div",{className:"bg-card rounded-2xl border border-border shadow-custom-lg w-full max-w-md m-4 transform animate-scale-up flex flex-col",onClick:o=>o.stopPropagation(),style:{maxHeight:"90vh"},children:[s.jsxs("div",{className:"flex-shrink-0 flex items-center justify-between p-6 border-b border-border",children:[s.jsx("h3",{className:"text-xl font-bold text-text-title",children:n}),s.jsx("button",{onClick:t,className:"p-1 rounded-full text-text-body hover:bg-surface hover:text-gold transition-colors","aria-label":"Fechar modal",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),s.jsx("div",{className:"p-6 overflow-y-auto",children:r})]}),s.jsx("style",{children:`
        @keyframes fade-in {
          from { opacity: 0; }
          to { opacity: 1; }
        }
        .animate-fade-in {
          animation: fade-in 0.3s ease-out forwards;
        }
        @keyframes scale-up {
          from { opacity: 0; transform: scale(0.95); }
          to { opacity: 1; transform: scale(1); }
        }
        .animate-scale-up {
          animation: scale-up 0.3s ease-out forwards;
        }
      `})]}):null),Kx=({isOpen:e,onClose:t,featureName:n})=>s.jsx(da,{isOpen:e,onClose:t,title:n||"Funcionalidade em Breve",children:s.jsxs("div",{className:"text-center p-4",children:[s.jsx("div",{className:"p-4 bg-surface rounded-full text-gold mb-6 inline-block",children:s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("path",{d:"M21.5 12c0-5.25-4.25-9.5-9.5-9.5S2.5 6.75 2.5 12s4.25 9.5 9.5 9.5"}),s.jsx("path",{d:"M12 8v4l2 2"}),s.jsx("path",{d:"m16 22-4-4"})]})}),s.jsxs("p",{className:"text-lg text-text-body",children:["Esta funcionalidade ",n?s.jsx("span",{className:"font-bold text-gold",children:`"${n}"`}):""," est em desenvolvimento e ser lanada em breve."]}),s.jsx("button",{onClick:t,className:"mt-8 w-full sm:w-auto text-center py-2 px-8 bg-gold text-base text-card hover:bg-gold-hover font-semibold rounded-lg transition-colors",children:"Entendido"})]})}),Ioe=[{title:"GERAL",items:[{to:"/app/dashboard",icon:woe,label:"Dashboard"},{to:"/app/reports",icon:Soe,label:"Relatrios"}]},{title:"RS WALLET PAY",items:[{to:"/app/transactions",icon:Coe,label:"Extrato"},{to:"/app/payments",icon:CL,label:"Pagamentos"},{to:"/app/cards",icon:Noe,label:"Cartes"}]},{title:"VENDAS",items:[{to:"/app/sales",icon:Toe,label:"Clientes & Vendas"}]},{title:"REDE & MARKETING",items:[{to:"/app/network",icon:NL,label:"Minha Rede"},{to:"/app/marketing",icon:i2,label:"Marketing"}]}],p3=({to:e,icon:t,label:n,onClick:r})=>s.jsxs(Gx,{to:e,onClick:r,className:({isActive:o})=>`flex items-center p-3 my-1 rounded-lg transition-colors duration-200 ${o?"bg-gold/10 text-gold":"text-text-body hover:bg-surface hover:text-text-title"}`,children:[s.jsx(t,{className:"w-5 h-5"}),s.jsx("span",{className:"ml-4 font-medium",children:n})]}),Doe=({icon:e,label:t,subItems:n,onClick:r})=>{const{pathname:o}=pi(),i=n.some(f=>o.startsWith(f.to)),[a,l]=E.useState(i),u=f=>{f.preventDefault(),l(!a)};return s.jsxs(s.Fragment,{children:[s.jsxs("a",{href:"#",onClick:u,className:`flex items-center justify-between p-3 my-1 rounded-lg transition-colors duration-200 ${i?"bg-gold/10 text-gold":"text-text-body hover:bg-surface hover:text-text-title"}`,children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(e,{className:"w-5 h-5"}),s.jsx("span",{className:"ml-4 font-medium",children:t})]}),s.jsx("svg",{className:`w-4 h-4 transition-transform duration-200 ${a?"rotate-90":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5l7 7-7 7"})})]}),a&&s.jsx("ul",{className:"pl-8 border-l border-border ml-5 py-1",children:n.map(f=>s.jsx("li",{children:s.jsx(Gx,{to:f.to,onClick:r,className:({isActive:h})=>`flex items-center py-2 px-3 my-1 text-sm rounded-md transition-colors ${h?"text-gold font-semibold":"text-text-body hover:bg-surface hover:text-text-title"}`,children:f.label})},f.to))})]})},_oe=({isSidebarOpen:e,setSidebarOpen:t})=>{const[n,r]=E.useState(!1);return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:`fixed inset-0 bg-black/60 z-30 lg:hidden ${e?"block":"hidden"}`,onClick:()=>t(!1)}),s.jsxs("aside",{className:`fixed top-0 left-0 h-full w-64 bg-card text-text-body flex flex-col z-40
                    transform transition-transform duration-300 ease-in-out
                    lg:static lg:translate-x-0 ${e?"translate-x-0":"-translate-x-full"}`,children:[s.jsx("div",{className:"flex items-center justify-center h-20 border-b border-border",children:s.jsx("h1",{className:"text-2xl font-bold text-gold",children:"RS WalletPay"})}),s.jsx("nav",{className:"flex-1 px-4 py-4 overflow-y-auto",children:Ioe.map(o=>s.jsxs("div",{className:"mb-4",children:[s.jsx("h2",{className:"px-3 py-2 text-xs font-bold uppercase text-text-soft tracking-wider",children:o.title}),s.jsx("ul",{children:o.items.map(i=>s.jsx("li",{children:i.subItems?s.jsx(Doe,{icon:i.icon,label:i.label,subItems:i.subItems,onClick:()=>t(!1)}):s.jsx(p3,{to:i.to,icon:i.icon,label:i.label,onClick:()=>t(!1)})},i.label))})]},o.title))}),s.jsxs("div",{className:"p-4 border-t border-border",children:[s.jsx(p3,{to:"/app/settings",icon:Eoe,label:"Configuraes",onClick:()=>t(!1)}),s.jsxs("button",{onClick:()=>r(!0),className:"w-full text-left flex items-center p-3 mt-1 rounded-lg hover:bg-surface hover:text-gold transition-colors text-text-body",children:[s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),s.jsx("polyline",{points:"16 17 21 12 16 7"}),s.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),s.jsx("span",{className:"ml-4 font-medium",children:"Sair"})]})]})]}),s.jsx(Kx,{isOpen:n,onClose:()=>r(!1),featureName:"Sair"})]})},Ooe=({onMenuClick:e})=>{const t=pi(),n=vN(),r=t.pathname.split("/").filter(g=>g&&g!=="app")[0],o=r?r.charAt(0).toUpperCase()+r.slice(1):"Dashboard",[i,a]=E.useState(!1),[l,u]=E.useState(null),f=E.useRef(null);E.useEffect(()=>{const g=x=>{f.current&&!f.current.contains(x.target)&&a(!1)};return document.addEventListener("mousedown",g),()=>document.removeEventListener("mousedown",g)},[]);const h=g=>{a(!1),n(g)},p=g=>{u(g),a(!1)};return s.jsxs(s.Fragment,{children:[s.jsxs("header",{className:"flex-shrink-0 bg-card border-b border-border h-20 flex items-center justify-between px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("button",{onClick:e,className:"lg:hidden text-text-body hover:text-text-title mr-4","aria-label":"Open sidebar",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),s.jsx("h2",{className:"text-xl font-semibold text-text-title",children:o})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"hidden md:block relative",children:[s.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3",children:s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-text-body",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("circle",{cx:"11",cy:"11",r:"8"}),s.jsx("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"})]})}),s.jsx("input",{type:"text",placeholder:"Buscar...",className:"w-full pl-10 pr-4 py-2 rounded-lg bg-surface border border-border focus:outline-none focus:ring-2 focus:ring-gold/25 focus:border-transparent transition-all"})]}),s.jsxs("div",{className:"relative",ref:f,children:[s.jsx("button",{onClick:()=>a(!i),className:"w-10 h-10 rounded-full overflow-hidden border-2 border-transparent hover:border-gold transition",children:s.jsx("img",{src:"https://picsum.photos/100/100",alt:"Avatar",className:"w-full h-full object-cover"})}),i&&s.jsx("div",{className:"origin-top-right absolute right-0 mt-2 w-48 rounded-lg shadow-lg bg-card border border-border ring-1 ring-black ring-opacity-5 z-20",children:s.jsxs("div",{className:"py-1",children:[s.jsxs("button",{onClick:()=>h("/app/dashboard"),className:"w-full text-left flex items-center gap-3 px-4 py-2 text-sm text-text-body hover:bg-surface hover:text-text-title transition-colors",children:[s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),s.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),"Ver Perfil"]}),s.jsxs("button",{onClick:()=>h("/app/settings"),className:"w-full text-left flex items-center gap-3 px-4 py-2 text-sm text-text-body hover:bg-surface hover:text-text-title transition-colors",children:[s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 0 2l-.15.08a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.38a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1 0-2l.15-.08a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"}),s.jsx("circle",{cx:"12",cy:"12",r:"3"})]}),"Configuraes"]}),s.jsxs("button",{onClick:()=>p("Sair"),className:"w-full text-left flex items-center gap-3 px-4 py-2 text-sm text-text-body hover:bg-surface hover:text-text-title transition-colors",children:[s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),s.jsx("polyline",{points:"16 17 21 12 16 7"}),s.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),"Sair"]})]})})]})]})]}),s.jsx(Kx,{isOpen:!!l,onClose:()=>u(null),featureName:l||""})]})},Loe=()=>{const[e,t]=E.useState(!1);return s.jsxs("div",{className:"flex h-screen bg-base text-text-body",children:[s.jsx(_oe,{isSidebarOpen:e,setSidebarOpen:t}),s.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[s.jsx(Ooe,{onMenuClick:()=>t(!0)}),s.jsx("main",{className:"flex-1 overflow-x-hidden overflow-y-auto bg-base p-4 sm:p-6 lg:p-8",children:s.jsx(gL,{})})]})]})};function EL(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(n=EL(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function st(){for(var e,t,n=0,r="",o=arguments.length;n<o;n++)(e=arguments[n])&&(t=EL(e))&&(r&&(r+=" "),r+=t);return r}var Boe=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function SN(e){if(typeof e!="string")return!1;var t=Boe;return t.includes(e)}var Uoe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function jL(e){if(typeof e!="string")return!1;var t=Uoe;return t.includes(e)}function AL(e){return typeof e=="string"&&e.startsWith("data-")}function yo(e){var t=Object.entries(e).filter(n=>{var[r]=n;return jL(r)||AL(r)});return Object.fromEntries(t)}function iu(e){if(e==null)return null;if(E.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return yo(t)}return typeof e=="object"&&!Array.isArray(e)?yo(e):null}function ur(e){var t=Object.entries(e).filter(n=>{var[r]=n;return jL(r)||AL(r)||SN(r)});return Object.fromEntries(t)}function zoe(e){return e==null?null:E.isValidElement(e)?ur(e.props):typeof e=="object"&&!Array.isArray(e)?ur(e):null}var Foe=["children","width","height","viewBox","className","style","title","desc"];function l2(){return l2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l2.apply(null,arguments)}function qoe(e,t){if(e==null)return{};var n,r,o=Hoe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function Hoe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var EN=E.forwardRef((e,t)=>{var{children:n,width:r,height:o,viewBox:i,className:a,style:l,title:u,desc:f}=e,h=qoe(e,Foe),p=i||{width:r,height:o,x:0,y:0},g=st("recharts-surface",a);return E.createElement("svg",l2({},ur(h),{className:g,width:r,height:o,style:l,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height),ref:t}),E.createElement("title",null,u),E.createElement("desc",null,f),n)}),Voe=["children","className"];function c2(){return c2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c2.apply(null,arguments)}function $oe(e,t){if(e==null)return{};var n,r,o=Goe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function Goe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var $r=E.forwardRef((e,t)=>{var{children:n,className:r}=e,o=$oe(e,Voe),i=st("recharts-layer",r);return E.createElement("g",c2({className:i},ur(o),{ref:t}),n)}),TL=E.createContext(null),Koe=()=>E.useContext(TL);function Et(e){return function(){return e}}const kL=Math.cos,Ig=Math.sin,Vo=Math.sqrt,Dg=Math.PI,Wx=2*Dg,u2=Math.PI,d2=2*u2,tl=1e-6,Woe=d2-tl;function ML(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function Joe(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return ML;const n=10**t;return function(r){this._+=r[0];for(let o=1,i=r.length;o<i;++o)this._+=Math.round(arguments[o]*n)/n+r[o]}}class Yoe{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?ML:Joe(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,o){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+o}`}bezierCurveTo(t,n,r,o,i,a){this._append`C${+t},${+n},${+r},${+o},${this._x1=+i},${this._y1=+a}`}arcTo(t,n,r,o,i){if(t=+t,n=+n,r=+r,o=+o,i=+i,i<0)throw new Error(`negative radius: ${i}`);let a=this._x1,l=this._y1,u=r-t,f=o-n,h=a-t,p=l-n,g=h*h+p*p;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(g>tl)if(!(Math.abs(p*u-f*h)>tl)||!i)this._append`L${this._x1=t},${this._y1=n}`;else{let x=r-a,y=o-l,N=u*u+f*f,C=x*x+y*y,A=Math.sqrt(N),T=Math.sqrt(g),k=i*Math.tan((u2-Math.acos((N+g-C)/(2*A*T)))/2),D=k/T,R=k/A;Math.abs(D-1)>tl&&this._append`L${t+D*h},${n+D*p}`,this._append`A${i},${i},0,0,${+(p*x>h*y)},${this._x1=t+R*u},${this._y1=n+R*f}`}}arc(t,n,r,o,i,a){if(t=+t,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let l=r*Math.cos(o),u=r*Math.sin(o),f=t+l,h=n+u,p=1^a,g=a?o-i:i-o;this._x1===null?this._append`M${f},${h}`:(Math.abs(this._x1-f)>tl||Math.abs(this._y1-h)>tl)&&this._append`L${f},${h}`,r&&(g<0&&(g=g%d2+d2),g>Woe?this._append`A${r},${r},0,1,${p},${t-l},${n-u}A${r},${r},0,1,${p},${this._x1=f},${this._y1=h}`:g>tl&&this._append`A${r},${r},0,${+(g>=u2)},${p},${this._x1=t+r*Math.cos(i)},${this._y1=n+r*Math.sin(i)}`)}rect(t,n,r,o){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+o}h${-r}Z`}toString(){return this._}}function jN(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new Yoe(t)}function AN(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function PL(e){this._context=e}PL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Jx(e){return new PL(e)}function RL(e){return e[0]}function IL(e){return e[1]}function DL(e,t){var n=Et(!0),r=null,o=Jx,i=null,a=jN(l);e=typeof e=="function"?e:e===void 0?RL:Et(e),t=typeof t=="function"?t:t===void 0?IL:Et(t);function l(u){var f,h=(u=AN(u)).length,p,g=!1,x;for(r==null&&(i=o(x=a())),f=0;f<=h;++f)!(f<h&&n(p=u[f],f,u))===g&&((g=!g)?i.lineStart():i.lineEnd()),g&&i.point(+e(p,f,u),+t(p,f,u));if(x)return i=null,x+""||null}return l.x=function(u){return arguments.length?(e=typeof u=="function"?u:Et(+u),l):e},l.y=function(u){return arguments.length?(t=typeof u=="function"?u:Et(+u),l):t},l.defined=function(u){return arguments.length?(n=typeof u=="function"?u:Et(!!u),l):n},l.curve=function(u){return arguments.length?(o=u,r!=null&&(i=o(r)),l):o},l.context=function(u){return arguments.length?(u==null?r=i=null:i=o(r=u),l):r},l}function tm(e,t,n){var r=null,o=Et(!0),i=null,a=Jx,l=null,u=jN(f);e=typeof e=="function"?e:e===void 0?RL:Et(+e),t=typeof t=="function"?t:Et(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?IL:Et(+n);function f(p){var g,x,y,N=(p=AN(p)).length,C,A=!1,T,k=new Array(N),D=new Array(N);for(i==null&&(l=a(T=u())),g=0;g<=N;++g){if(!(g<N&&o(C=p[g],g,p))===A)if(A=!A)x=g,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),y=g-1;y>=x;--y)l.point(k[y],D[y]);l.lineEnd(),l.areaEnd()}A&&(k[g]=+e(C,g,p),D[g]=+t(C,g,p),l.point(r?+r(C,g,p):k[g],n?+n(C,g,p):D[g]))}if(T)return l=null,T+""||null}function h(){return DL().defined(o).curve(a).context(i)}return f.x=function(p){return arguments.length?(e=typeof p=="function"?p:Et(+p),r=null,f):e},f.x0=function(p){return arguments.length?(e=typeof p=="function"?p:Et(+p),f):e},f.x1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:Et(+p),f):r},f.y=function(p){return arguments.length?(t=typeof p=="function"?p:Et(+p),n=null,f):t},f.y0=function(p){return arguments.length?(t=typeof p=="function"?p:Et(+p),f):t},f.y1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:Et(+p),f):n},f.lineX0=f.lineY0=function(){return h().x(e).y(t)},f.lineY1=function(){return h().x(e).y(n)},f.lineX1=function(){return h().x(r).y(t)},f.defined=function(p){return arguments.length?(o=typeof p=="function"?p:Et(!!p),f):o},f.curve=function(p){return arguments.length?(a=p,i!=null&&(l=a(i)),f):a},f.context=function(p){return arguments.length?(p==null?i=l=null:l=a(i=p),f):i},f}class _L{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function Xoe(e){return new _L(e,!0)}function Qoe(e){return new _L(e,!1)}const TN={draw(e,t){const n=Vo(t/Dg);e.moveTo(n,0),e.arc(0,0,n,0,Wx)}},Zoe={draw(e,t){const n=Vo(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},OL=Vo(1/3),eie=OL*2,tie={draw(e,t){const n=Vo(t/eie),r=n*OL;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},nie={draw(e,t){const n=Vo(t),r=-n/2;e.rect(r,r,n,n)}},rie=.8908130915292852,LL=Ig(Dg/10)/Ig(7*Dg/10),oie=Ig(Wx/10)*LL,iie=-kL(Wx/10)*LL,aie={draw(e,t){const n=Vo(t*rie),r=oie*n,o=iie*n;e.moveTo(0,-n),e.lineTo(r,o);for(let i=1;i<5;++i){const a=Wx*i/5,l=kL(a),u=Ig(a);e.lineTo(u*n,-l*n),e.lineTo(l*r-u*o,u*r+l*o)}e.closePath()}},Uy=Vo(3),sie={draw(e,t){const n=-Vo(t/(Uy*3));e.moveTo(0,n*2),e.lineTo(-Uy*n,-n),e.lineTo(Uy*n,-n),e.closePath()}},io=-.5,ao=Vo(3)/2,f2=1/Vo(12),lie=(f2/2+1)*3,cie={draw(e,t){const n=Vo(t/lie),r=n/2,o=n*f2,i=r,a=n*f2+n,l=-i,u=a;e.moveTo(r,o),e.lineTo(i,a),e.lineTo(l,u),e.lineTo(io*r-ao*o,ao*r+io*o),e.lineTo(io*i-ao*a,ao*i+io*a),e.lineTo(io*l-ao*u,ao*l+io*u),e.lineTo(io*r+ao*o,io*o-ao*r),e.lineTo(io*i+ao*a,io*a-ao*i),e.lineTo(io*l+ao*u,io*u-ao*l),e.closePath()}};function uie(e,t){let n=null,r=jN(o);e=typeof e=="function"?e:Et(e||TN),t=typeof t=="function"?t:Et(t===void 0?64:+t);function o(){let i;if(n||(n=i=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),i)return n=null,i+""||null}return o.type=function(i){return arguments.length?(e=typeof i=="function"?i:Et(i),o):e},o.size=function(i){return arguments.length?(t=typeof i=="function"?i:Et(+i),o):t},o.context=function(i){return arguments.length?(n=i??null,o):n},o}function _g(){}function Og(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function BL(e){this._context=e}BL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Og(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Og(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function die(e){return new BL(e)}function UL(e){this._context=e}UL.prototype={areaStart:_g,areaEnd:_g,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Og(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function fie(e){return new UL(e)}function zL(e){this._context=e}zL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Og(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function hie(e){return new zL(e)}function FL(e){this._context=e}FL.prototype={areaStart:_g,areaEnd:_g,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function pie(e){return new FL(e)}function m3(e){return e<0?-1:1}function g3(e,t,n){var r=e._x1-e._x0,o=t-e._x1,i=(e._y1-e._y0)/(r||o<0&&-0),a=(n-e._y1)/(o||r<0&&-0),l=(i*o+a*r)/(r+o);return(m3(i)+m3(a))*Math.min(Math.abs(i),Math.abs(a),.5*Math.abs(l))||0}function x3(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function zy(e,t,n){var r=e._x0,o=e._y0,i=e._x1,a=e._y1,l=(i-r)/3;e._context.bezierCurveTo(r+l,o+l*t,i-l,a-l*n,i,a)}function Lg(e){this._context=e}Lg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:zy(this,this._t0,x3(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,zy(this,x3(this,n=g3(this,e,t)),n);break;default:zy(this,this._t0,n=g3(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function qL(e){this._context=new HL(e)}(qL.prototype=Object.create(Lg.prototype)).point=function(e,t){Lg.prototype.point.call(this,t,e)};function HL(e){this._context=e}HL.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,o,i){this._context.bezierCurveTo(t,e,r,n,i,o)}};function mie(e){return new Lg(e)}function gie(e){return new qL(e)}function VL(e){this._context=e}VL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=b3(e),o=b3(t),i=0,a=1;a<n;++i,++a)this._context.bezierCurveTo(r[0][i],o[0][i],r[1][i],o[1][i],e[a],t[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function b3(e){var t,n=e.length-1,r,o=new Array(n),i=new Array(n),a=new Array(n);for(o[0]=0,i[0]=2,a[0]=e[0]+2*e[1],t=1;t<n-1;++t)o[t]=1,i[t]=4,a[t]=4*e[t]+2*e[t+1];for(o[n-1]=2,i[n-1]=7,a[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=o[t]/i[t-1],i[t]-=r,a[t]-=r*a[t-1];for(o[n-1]=a[n-1]/i[n-1],t=n-2;t>=0;--t)o[t]=(a[t]-o[t+1])/i[t];for(i[n-1]=(e[n]+o[n-1])/2,t=0;t<n-1;++t)i[t]=2*e[t+1]-o[t+1];return[o,i]}function xie(e){return new VL(e)}function Yx(e,t){this._context=e,this._t=t}Yx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function bie(e){return new Yx(e,.5)}function vie(e){return new Yx(e,0)}function yie(e){return new Yx(e,1)}function au(e,t){if((a=e.length)>1)for(var n=1,r,o,i=e[t[0]],a,l=i.length;n<a;++n)for(o=i,i=e[t[n]],r=0;r<l;++r)i[r][1]+=i[r][0]=isNaN(o[r][1])?o[r][0]:o[r][1]}function h2(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function wie(e,t){return e[t]}function Cie(e){const t=[];return t.key=e,t}function Nie(){var e=Et([]),t=h2,n=au,r=wie;function o(i){var a=Array.from(e.apply(this,arguments),Cie),l,u=a.length,f=-1,h;for(const p of i)for(l=0,++f;l<u;++l)(a[l][f]=[0,+r(p,a[l].key,f,i)]).data=p;for(l=0,h=AN(t(a));l<u;++l)a[h[l]].index=l;return n(a,h),a}return o.keys=function(i){return arguments.length?(e=typeof i=="function"?i:Et(Array.from(i)),o):e},o.value=function(i){return arguments.length?(r=typeof i=="function"?i:Et(+i),o):r},o.order=function(i){return arguments.length?(t=i==null?h2:typeof i=="function"?i:Et(Array.from(i)),o):t},o.offset=function(i){return arguments.length?(n=i??au,o):n},o}function Sie(e,t){if((r=e.length)>0){for(var n,r,o=0,i=e[0].length,a;o<i;++o){for(a=n=0;n<r;++n)a+=e[n][o][1]||0;if(a)for(n=0;n<r;++n)e[n][o][1]/=a}au(e,t)}}function Eie(e,t){if((o=e.length)>0){for(var n=0,r=e[t[0]],o,i=r.length;n<i;++n){for(var a=0,l=0;a<o;++a)l+=e[a][n][1]||0;r[n][1]+=r[n][0]=-l/2}au(e,t)}}function jie(e,t){if(!(!((a=e.length)>0)||!((i=(o=e[t[0]]).length)>0))){for(var n=0,r=1,o,i,a;r<i;++r){for(var l=0,u=0,f=0;l<a;++l){for(var h=e[t[l]],p=h[r][1]||0,g=h[r-1][1]||0,x=(p-g)/2,y=0;y<l;++y){var N=e[t[y]],C=N[r][1]||0,A=N[r-1][1]||0;x+=C-A}u+=p,f+=x*p}o[r-1][1]+=o[r-1][0]=n,u&&(n-=f/u)}o[r-1][1]+=o[r-1][0]=n,au(e,t)}}var Fy={},qy={},v3;function Aie(){return v3||(v3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==="__proto__"}e.isUnsafeProperty=t})(qy)),qy}var Hy={},y3;function $L(){return y3||(y3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}e.isDeepKey=t})(Hy)),Hy}var Vy={},w3;function kN(){return w3||(w3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}e.toKey=t})(Vy)),Vy}var $y={},Gy={},C3;function Tie(){return C3||(C3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(t).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}e.toString=t})(Gy)),Gy}var N3;function MN(){return N3||(N3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Tie(),n=kN();function r(o){if(Array.isArray(o))return o.map(n.toKey);if(typeof o=="symbol")return[o];o=t.toString(o);const i=[],a=o.length;if(a===0)return i;let l=0,u="",f="",h=!1;for(o.charCodeAt(0)===46&&(i.push(""),l++);l<a;){const p=o[l];f?p==="\\"&&l+1<a?(l++,u+=o[l]):p===f?f="":u+=p:h?p==='"'||p==="'"?f=p:p==="]"?(h=!1,i.push(u),u=""):u+=p:p==="["?(h=!0,u&&(i.push(u),u="")):p==="."?u&&(i.push(u),u=""):u+=p,l++}return u&&i.push(u),i}e.toPath=r})($y)),$y}var S3;function PN(){return S3||(S3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Aie(),n=$L(),r=kN(),o=MN();function i(l,u,f){if(l==null)return f;switch(typeof u){case"string":{if(t.isUnsafeProperty(u))return f;const h=l[u];return h===void 0?n.isDeepKey(u)?i(l,o.toPath(u),f):f:h}case"number":case"symbol":{typeof u=="number"&&(u=r.toKey(u));const h=l[u];return h===void 0?f:h}default:{if(Array.isArray(u))return a(l,u,f);if(Object.is(u==null?void 0:u.valueOf(),-0)?u="-0":u=String(u),t.isUnsafeProperty(u))return f;const h=l[u];return h===void 0?f:h}}}function a(l,u,f){if(u.length===0)return f;let h=l;for(let p=0;p<u.length;p++){if(h==null||t.isUnsafeProperty(u[p]))return f;h=h[u[p]]}return h===void 0?f:h}e.get=i})(Fy)),Fy}var Ky,E3;function kie(){return E3||(E3=1,Ky=PN().get),Ky}var Mie=kie();const Ml=No(Mie);var er=e=>e===0?0:e>0?1:-1,Uo=e=>typeof e=="number"&&e!=+e,na=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,Ie=e=>(typeof e=="number"||e instanceof Number)&&!Uo(e),fi=e=>Ie(e)||typeof e=="string",Pie=0,If=e=>{var t=++Pie;return"".concat(e||"").concat(t)},Hr=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ie(t)&&typeof t!="string")return r;var i;if(na(t)){if(n==null)return r;var a=t.indexOf("%");i=n*parseFloat(t.slice(0,a))/100}else i=+t;return Uo(i)&&(i=r),o&&n!=null&&i>n&&(i=n),i},GL=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++)if(!n[e[r]])n[e[r]]=!0;else return!0;return!1};function Yn(e,t,n){return Ie(e)&&Ie(t)?e+n*(t-e):t}function KL(e,t,n){if(!(!e||!e.length))return e.find(r=>r&&(typeof t=="function"?t(r):Ml(r,t))===n)}var gn=e=>e===null||typeof e>"u",Qf=e=>gn(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),Rie=["type","size","sizeType"];function p2(){return p2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p2.apply(null,arguments)}function j3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function A3(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?j3(Object(n),!0).forEach(function(r){Iie(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Iie(e,t,n){return(t=Die(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Die(e){var t=_ie(e,"string");return typeof t=="symbol"?t:t+""}function _ie(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Oie(e,t){if(e==null)return{};var n,r,o=Lie(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function Lie(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var WL={symbolCircle:TN,symbolCross:Zoe,symbolDiamond:tie,symbolSquare:nie,symbolStar:aie,symbolTriangle:sie,symbolWye:cie},Bie=Math.PI/180,Uie=e=>{var t="symbol".concat(Qf(e));return WL[t]||TN},zie=(e,t,n)=>{if(t==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var r=18*Bie;return 1.25*e*e*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},Fie=(e,t)=>{WL["symbol".concat(Qf(e))]=t},RN=e=>{var{type:t="circle",size:n=64,sizeType:r="area"}=e,o=Oie(e,Rie),i=A3(A3({},o),{},{type:t,size:n,sizeType:r}),a="circle";typeof t=="string"&&(a=t);var l=()=>{var g=Uie(a),x=uie().type(g).size(zie(n,r,a)),y=x();if(y!==null)return y},{className:u,cx:f,cy:h}=i,p=ur(i);return f===+f&&h===+h&&n===+n?E.createElement("path",p2({},p,{className:st("recharts-symbols",u),transform:"translate(".concat(f,", ").concat(h,")"),d:l()})):null};RN.registerSymbol=Fie;var IN=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(E.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(o=>{SN(o)&&(r[o]=(i=>n[o](n,i)))}),r},qie=(e,t,n)=>r=>(e(t,n,r),null),DN=(e,t,n)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var r=null;return Object.keys(e).forEach(o=>{var i=e[o];SN(o)&&typeof i=="function"&&(r||(r={}),r[o]=qie(i,t,n))}),r};function m2(){return m2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},m2.apply(null,arguments)}function T3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function Hie(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?T3(Object(n),!0).forEach(function(r){_N(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function _N(e,t,n){return(t=Vie(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vie(e){var t=$ie(e,"string");return typeof t=="symbol"?t:t+""}function $ie(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var so=32;class ON extends E.PureComponent{renderIcon(t,n){var{inactiveColor:r}=this.props,o=so/2,i=so/6,a=so/3,l=t.inactive?r:t.color,u=n??t.type;if(u==="none")return null;if(u==="plainline")return E.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:t.payload.strokeDasharray,x1:0,y1:o,x2:so,y2:o,className:"recharts-legend-icon"});if(u==="line")return E.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(o,"h").concat(a,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(2*a,",").concat(o,`
            H`).concat(so,"M").concat(2*a,",").concat(o,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(a,",").concat(o),className:"recharts-legend-icon"});if(u==="rect")return E.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(so/8,"h").concat(so,"v").concat(so*3/4,"h").concat(-so,"z"),className:"recharts-legend-icon"});if(E.isValidElement(t.legendIcon)){var f=Hie({},t);return delete f.legendIcon,E.cloneElement(t.legendIcon,f)}return E.createElement(RN,{fill:l,cx:o,cy:o,size:so,sizeType:"diameter",type:u})}renderItems(){var{payload:t,iconSize:n,layout:r,formatter:o,inactiveColor:i,iconType:a}=this.props,l={x:0,y:0,width:so,height:so},u={display:r==="horizontal"?"inline-block":"block",marginRight:10},f={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((h,p)=>{var g=h.formatter||o,x=st({"recharts-legend-item":!0,["legend-item-".concat(p)]:!0,inactive:h.inactive});if(h.type==="none")return null;var y=h.inactive?i:h.color,N=g?g(h.value,h,p):h.value;return E.createElement("li",m2({className:x,style:u,key:"legend-item-".concat(p)},DN(this.props,h,p)),E.createElement(EN,{width:n,height:n,viewBox:l,style:f,"aria-label":"".concat(N," legend icon")},this.renderIcon(h,a)),E.createElement("span",{className:"recharts-legend-item-text",style:{color:y}},N))})}render(){var{payload:t,layout:n,align:r}=this.props;if(!t||!t.length)return null;var o={padding:0,margin:0,textAlign:n==="horizontal"?r:"left"};return E.createElement("ul",{className:"recharts-default-legend",style:o},this.renderItems())}}_N(ON,"displayName","Legend");_N(ON,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var Wy={},Jy={},k3;function Gie(){return k3||(k3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){const o=new Map;for(let i=0;i<n.length;i++){const a=n[i],l=r(a);o.has(l)||o.set(l,a)}return Array.from(o.values())}e.uniqBy=t})(Jy)),Jy}var Yy={},M3;function JL(){return M3||(M3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n}e.identity=t})(Yy)),Yy}var Xy={},Qy={},Zy={},P3;function Kie(){return P3||(P3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Number.isSafeInteger(n)&&n>=0}e.isLength=t})(Zy)),Zy}var R3;function LN(){return R3||(R3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Kie();function n(r){return r!=null&&typeof r!="function"&&t.isLength(r.length)}e.isArrayLike=n})(Qy)),Qy}var e1={},I3;function Wie(){return I3||(I3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="object"&&n!==null}e.isObjectLike=t})(e1)),e1}var D3;function Jie(){return D3||(D3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=LN(),n=Wie();function r(o){return n.isObjectLike(o)&&t.isArrayLike(o)}e.isArrayLikeObject=r})(Xy)),Xy}var t1={},n1={},_3;function Yie(){return _3||(_3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=PN();function n(r){return function(o){return t.get(o,r)}}e.property=n})(n1)),n1}var r1={},o1={},i1={},a1={},O3;function YL(){return O3||(O3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n!==null&&(typeof n=="object"||typeof n=="function")}e.isObject=t})(a1)),a1}var s1={},L3;function XL(){return L3||(L3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null||typeof n!="object"&&typeof n!="function"}e.isPrimitive=t})(s1)),s1}var l1={},B3;function QL(){return B3||(B3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}e.eq=t})(l1)),l1}var U3;function Xie(){return U3||(U3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=YL(),n=XL(),r=QL();function o(h,p,g){return typeof g!="function"?o(h,p,()=>{}):i(h,p,function x(y,N,C,A,T,k){const D=g(y,N,C,A,T,k);return D!==void 0?!!D:i(y,N,x,k)},new Map)}function i(h,p,g,x){if(p===h)return!0;switch(typeof p){case"object":return a(h,p,g,x);case"function":return Object.keys(p).length>0?i(h,{...p},g,x):r.eq(h,p);default:return t.isObject(h)?typeof p=="string"?p==="":!0:r.eq(h,p)}}function a(h,p,g,x){if(p==null)return!0;if(Array.isArray(p))return u(h,p,g,x);if(p instanceof Map)return l(h,p,g,x);if(p instanceof Set)return f(h,p,g,x);const y=Object.keys(p);if(h==null)return y.length===0;if(y.length===0)return!0;if(x!=null&&x.has(p))return x.get(p)===h;x==null||x.set(p,h);try{for(let N=0;N<y.length;N++){const C=y[N];if(!n.isPrimitive(h)&&!(C in h)||p[C]===void 0&&h[C]!==void 0||p[C]===null&&h[C]!==null||!g(h[C],p[C],C,h,p,x))return!1}return!0}finally{x==null||x.delete(p)}}function l(h,p,g,x){if(p.size===0)return!0;if(!(h instanceof Map))return!1;for(const[y,N]of p.entries()){const C=h.get(y);if(g(C,N,y,h,p,x)===!1)return!1}return!0}function u(h,p,g,x){if(p.length===0)return!0;if(!Array.isArray(h))return!1;const y=new Set;for(let N=0;N<p.length;N++){const C=p[N];let A=!1;for(let T=0;T<h.length;T++){if(y.has(T))continue;const k=h[T];let D=!1;if(g(k,C,N,h,p,x)&&(D=!0),D){y.add(T),A=!0;break}}if(!A)return!1}return!0}function f(h,p,g,x){return p.size===0?!0:h instanceof Set?u([...h],[...p],g,x):!1}e.isMatchWith=o,e.isSetMatch=f})(i1)),i1}var z3;function ZL(){return z3||(z3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Xie();function n(r,o){return t.isMatchWith(r,o,()=>{})}e.isMatch=n})(o1)),o1}var c1={},u1={},d1={},F3;function Qie(){return F3||(F3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}e.getSymbols=t})(d1)),d1}var f1={},q3;function e6(){return q3||(q3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}e.getTag=t})(f1)),f1}var h1={},H3;function t6(){return H3||(H3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",n="[object String]",r="[object Number]",o="[object Boolean]",i="[object Arguments]",a="[object Symbol]",l="[object Date]",u="[object Map]",f="[object Set]",h="[object Array]",p="[object Function]",g="[object ArrayBuffer]",x="[object Object]",y="[object Error]",N="[object DataView]",C="[object Uint8Array]",A="[object Uint8ClampedArray]",T="[object Uint16Array]",k="[object Uint32Array]",D="[object BigUint64Array]",R="[object Int8Array]",I="[object Int16Array]",P="[object Int32Array]",B="[object BigInt64Array]",L="[object Float32Array]",$="[object Float64Array]";e.argumentsTag=i,e.arrayBufferTag=g,e.arrayTag=h,e.bigInt64ArrayTag=B,e.bigUint64ArrayTag=D,e.booleanTag=o,e.dataViewTag=N,e.dateTag=l,e.errorTag=y,e.float32ArrayTag=L,e.float64ArrayTag=$,e.functionTag=p,e.int16ArrayTag=I,e.int32ArrayTag=P,e.int8ArrayTag=R,e.mapTag=u,e.numberTag=r,e.objectTag=x,e.regexpTag=t,e.setTag=f,e.stringTag=n,e.symbolTag=a,e.uint16ArrayTag=T,e.uint32ArrayTag=k,e.uint8ArrayTag=C,e.uint8ClampedArrayTag=A})(h1)),h1}var p1={},V3;function Zie(){return V3||(V3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}e.isTypedArray=t})(p1)),p1}var $3;function n6(){return $3||($3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Qie(),n=e6(),r=t6(),o=XL(),i=Zie();function a(h,p){return l(h,void 0,h,new Map,p)}function l(h,p,g,x=new Map,y=void 0){const N=y==null?void 0:y(h,p,g,x);if(N!==void 0)return N;if(o.isPrimitive(h))return h;if(x.has(h))return x.get(h);if(Array.isArray(h)){const C=new Array(h.length);x.set(h,C);for(let A=0;A<h.length;A++)C[A]=l(h[A],A,g,x,y);return Object.hasOwn(h,"index")&&(C.index=h.index),Object.hasOwn(h,"input")&&(C.input=h.input),C}if(h instanceof Date)return new Date(h.getTime());if(h instanceof RegExp){const C=new RegExp(h.source,h.flags);return C.lastIndex=h.lastIndex,C}if(h instanceof Map){const C=new Map;x.set(h,C);for(const[A,T]of h)C.set(A,l(T,A,g,x,y));return C}if(h instanceof Set){const C=new Set;x.set(h,C);for(const A of h)C.add(l(A,void 0,g,x,y));return C}if(typeof Buffer<"u"&&Buffer.isBuffer(h))return h.subarray();if(i.isTypedArray(h)){const C=new(Object.getPrototypeOf(h)).constructor(h.length);x.set(h,C);for(let A=0;A<h.length;A++)C[A]=l(h[A],A,g,x,y);return C}if(h instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&h instanceof SharedArrayBuffer)return h.slice(0);if(h instanceof DataView){const C=new DataView(h.buffer.slice(0),h.byteOffset,h.byteLength);return x.set(h,C),u(C,h,g,x,y),C}if(typeof File<"u"&&h instanceof File){const C=new File([h],h.name,{type:h.type});return x.set(h,C),u(C,h,g,x,y),C}if(typeof Blob<"u"&&h instanceof Blob){const C=new Blob([h],{type:h.type});return x.set(h,C),u(C,h,g,x,y),C}if(h instanceof Error){const C=new h.constructor;return x.set(h,C),C.message=h.message,C.name=h.name,C.stack=h.stack,C.cause=h.cause,u(C,h,g,x,y),C}if(h instanceof Boolean){const C=new Boolean(h.valueOf());return x.set(h,C),u(C,h,g,x,y),C}if(h instanceof Number){const C=new Number(h.valueOf());return x.set(h,C),u(C,h,g,x,y),C}if(h instanceof String){const C=new String(h.valueOf());return x.set(h,C),u(C,h,g,x,y),C}if(typeof h=="object"&&f(h)){const C=Object.create(Object.getPrototypeOf(h));return x.set(h,C),u(C,h,g,x,y),C}return h}function u(h,p,g=h,x,y){const N=[...Object.keys(p),...t.getSymbols(p)];for(let C=0;C<N.length;C++){const A=N[C],T=Object.getOwnPropertyDescriptor(h,A);(T==null||T.writable)&&(h[A]=l(p[A],A,g,x,y))}}function f(h){switch(n.getTag(h)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=a,e.cloneDeepWithImpl=l,e.copyProperties=u})(u1)),u1}var G3;function eae(){return G3||(G3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=n6();function n(r){return t.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}e.cloneDeep=n})(c1)),c1}var K3;function tae(){return K3||(K3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ZL(),n=eae();function r(o){return o=n.cloneDeep(o),i=>t.isMatch(i,o)}e.matches=r})(r1)),r1}var m1={},g1={},x1={},W3;function nae(){return W3||(W3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=n6(),n=t6();function r(o,i){return t.cloneDeepWith(o,(a,l,u,f)=>{const h=i==null?void 0:i(a,l,u,f);if(h!==void 0)return h;if(typeof o=="object")switch(Object.prototype.toString.call(o)){case n.numberTag:case n.stringTag:case n.booleanTag:{const p=new o.constructor(o==null?void 0:o.valueOf());return t.copyProperties(p,o),p}case n.argumentsTag:{const p={};return t.copyProperties(p,o),p.length=o.length,p[Symbol.iterator]=o[Symbol.iterator],p}default:return}})}e.cloneDeepWith=r})(x1)),x1}var J3;function rae(){return J3||(J3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=nae();function n(r){return t.cloneDeepWith(r)}e.cloneDeep=n})(g1)),g1}var b1={},v1={},Y3;function r6(){return Y3||(Y3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function n(r,o=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<o;case"symbol":return!1;case"string":return t.test(r)}}e.isIndex=n})(v1)),v1}var y1={},X3;function oae(){return X3||(X3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=e6();function n(r){return r!==null&&typeof r=="object"&&t.getTag(r)==="[object Arguments]"}e.isArguments=n})(y1)),y1}var Q3;function iae(){return Q3||(Q3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$L(),n=r6(),r=oae(),o=MN();function i(a,l){let u;if(Array.isArray(l)?u=l:typeof l=="string"&&t.isDeepKey(l)&&(a==null?void 0:a[l])==null?u=o.toPath(l):u=[l],u.length===0)return!1;let f=a;for(let h=0;h<u.length;h++){const p=u[h];if((f==null||!Object.hasOwn(f,p))&&!((Array.isArray(f)||r.isArguments(f))&&n.isIndex(p)&&p<f.length))return!1;f=f[p]}return!0}e.has=i})(b1)),b1}var Z3;function aae(){return Z3||(Z3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ZL(),n=kN(),r=rae(),o=PN(),i=iae();function a(l,u){switch(typeof l){case"object":{Object.is(l==null?void 0:l.valueOf(),-0)&&(l="-0");break}case"number":{l=n.toKey(l);break}}return u=r.cloneDeep(u),function(f){const h=o.get(f,l);return h===void 0?i.has(f,l):u===void 0?h===void 0:t.isMatch(h,u)}}e.matchesProperty=a})(m1)),m1}var e4;function sae(){return e4||(e4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=JL(),n=Yie(),r=tae(),o=aae();function i(a){if(a==null)return t.identity;switch(typeof a){case"function":return a;case"object":return Array.isArray(a)&&a.length===2?o.matchesProperty(a[0],a[1]):r.matches(a);case"string":case"symbol":case"number":return n.property(a)}}e.iteratee=i})(t1)),t1}var t4;function lae(){return t4||(t4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Gie(),n=JL(),r=Jie(),o=sae();function i(a,l=n.identity){return r.isArrayLikeObject(a)?t.uniqBy(Array.from(a),o.iteratee(l)):[]}e.uniqBy=i})(Wy)),Wy}var w1,n4;function cae(){return n4||(n4=1,w1=lae().uniqBy),w1}var uae=cae();const r4=No(uae);function o6(e,t,n){return t===!0?r4(e,n):typeof t=="function"?r4(e,t):e}var BN=E.createContext(null),dae=e=>e,Ot=()=>{var e=E.useContext(BN);return e?e.store.dispatch:dae},Mm=()=>{},fae=()=>Mm,hae=(e,t)=>e===t;function Ae(e){var t=E.useContext(BN);return Q_.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:fae,t?t.store.getState:Mm,t?t.store.getState:Mm,t?e:Mm,hae)}function pae(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function mae(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function gae(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var o4=e=>Array.isArray(e)?e:[e];function xae(e){const t=Array.isArray(e[0])?e[0]:e;return gae(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function bae(e,t){const n=[],{length:r}=e;for(let o=0;o<r;o++)n.push(e[o].apply(null,t));return n}var vae=class{constructor(e){this.value=e}deref(){return this.value}},yae=typeof WeakRef<"u"?WeakRef:vae,wae=0,i4=1;function nm(){return{s:wae,v:void 0,o:null,p:null}}function i6(e,t={}){let n=nm();const{resultEqualityCheck:r}=t;let o,i=0;function a(){var p;let l=n;const{length:u}=arguments;for(let g=0,x=u;g<x;g++){const y=arguments[g];if(typeof y=="function"||typeof y=="object"&&y!==null){let N=l.o;N===null&&(l.o=N=new WeakMap);const C=N.get(y);C===void 0?(l=nm(),N.set(y,l)):l=C}else{let N=l.p;N===null&&(l.p=N=new Map);const C=N.get(y);C===void 0?(l=nm(),N.set(y,l)):l=C}}const f=l;let h;if(l.s===i4)h=l.v;else if(h=e.apply(null,arguments),i++,r){const g=((p=o==null?void 0:o.deref)==null?void 0:p.call(o))??o;g!=null&&r(g,h)&&(h=g,i!==0&&i--),o=typeof h=="object"&&h!==null||typeof h=="function"?new yae(h):h}return f.s=i4,f.v=h,h}return a.clearCache=()=>{n=nm(),a.resetResultsCount()},a.resultsCount=()=>i,a.resetResultsCount=()=>{i=0},a}function Cae(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...o)=>{let i=0,a=0,l,u={},f=o.pop();typeof f=="object"&&(u=f,f=o.pop()),pae(f,`createSelector expects an output function after the inputs, but received: [${typeof f}]`);const h={...n,...u},{memoize:p,memoizeOptions:g=[],argsMemoize:x=i6,argsMemoizeOptions:y=[]}=h,N=o4(g),C=o4(y),A=xae(o),T=p(function(){return i++,f.apply(null,arguments)},...N),k=x(function(){a++;const R=bae(A,arguments);return l=T.apply(null,R),l},...C);return Object.assign(k,{resultFunc:f,memoizedResultFunc:T,dependencies:A,dependencyRecomputations:()=>a,resetDependencyRecomputations:()=>{a=0},lastResult:()=>l,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:p,argsMemoize:x})};return Object.assign(r,{withTypes:()=>r}),r}var Z=Cae(i6),Nae=Object.assign((e,t=Z)=>{mae(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(i=>e[i]);return t(r,(...i)=>i.reduce((a,l,u)=>(a[n[u]]=l,a),{}))},{withTypes:()=>Nae}),C1={},N1={},S1={},a4;function Sae(){return a4||(a4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,o,i)=>{if(r!==o){const a=t(r),l=t(o);if(a===l&&a===0){if(r<o)return i==="desc"?1:-1;if(r>o)return i==="desc"?-1:1}return i==="desc"?l-a:a-l}return 0};e.compareValues=n})(S1)),S1}var E1={},j1={},s4;function a6(){return s4||(s4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"||n instanceof Symbol}e.isSymbol=t})(j1)),j1}var l4;function Eae(){return l4||(l4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=a6(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function o(i,a){return Array.isArray(i)?!1:typeof i=="number"||typeof i=="boolean"||i==null||t.isSymbol(i)?!0:typeof i=="string"&&(r.test(i)||!n.test(i))||a!=null&&Object.hasOwn(a,i)}e.isKey=o})(E1)),E1}var c4;function jae(){return c4||(c4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Sae(),n=Eae(),r=MN();function o(i,a,l,u){if(i==null)return[];l=u?void 0:l,Array.isArray(i)||(i=Object.values(i)),Array.isArray(a)||(a=a==null?[null]:[a]),a.length===0&&(a=[null]),Array.isArray(l)||(l=l==null?[]:[l]),l=l.map(x=>String(x));const f=(x,y)=>{let N=x;for(let C=0;C<y.length&&N!=null;++C)N=N[y[C]];return N},h=(x,y)=>y==null||x==null?y:typeof x=="object"&&"key"in x?Object.hasOwn(y,x.key)?y[x.key]:f(y,x.path):typeof x=="function"?x(y):Array.isArray(x)?f(y,x):typeof y=="object"?y[x]:y,p=a.map(x=>(Array.isArray(x)&&x.length===1&&(x=x[0]),x==null||typeof x=="function"||Array.isArray(x)||n.isKey(x)?x:{key:x,path:r.toPath(x)}));return i.map(x=>({original:x,criteria:p.map(y=>h(y,x))})).slice().sort((x,y)=>{for(let N=0;N<p.length;N++){const C=t.compareValues(x.criteria[N],y.criteria[N],l[N]);if(C!==0)return C}return 0}).map(x=>x.original)}e.orderBy=o})(N1)),N1}var A1={},u4;function Aae(){return u4||(u4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r=1){const o=[],i=Math.floor(r),a=(l,u)=>{for(let f=0;f<l.length;f++){const h=l[f];Array.isArray(h)&&u<i?a(h,u+1):o.push(h)}};return a(n,0),o}e.flatten=t})(A1)),A1}var T1={},d4;function s6(){return d4||(d4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=r6(),n=LN(),r=YL(),o=QL();function i(a,l,u){return r.isObject(u)&&(typeof l=="number"&&n.isArrayLike(u)&&t.isIndex(l)&&l<u.length||typeof l=="string"&&l in u)?o.eq(u[l],a):!1}e.isIterateeCall=i})(T1)),T1}var f4;function Tae(){return f4||(f4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=jae(),n=Aae(),r=s6();function o(i,...a){const l=a.length;return l>1&&r.isIterateeCall(i,a[0],a[1])?a=[]:l>2&&r.isIterateeCall(a[0],a[1],a[2])&&(a=[a[0]]),t.orderBy(i,n.flatten(a),["asc"])}e.sortBy=o})(C1)),C1}var k1,h4;function kae(){return h4||(h4=1,k1=Tae().sortBy),k1}var Mae=kae();const Xx=No(Mae);var l6=e=>e.legend.settings,Pae=e=>e.legend.size,Rae=e=>e.legend.payload,Iae=Z([Rae,l6],(e,t)=>{var{itemSorter:n}=t,r=e.flat(1);return n?Xx(r,n):r});function Dae(){return Ae(Iae)}var rm=1;function c6(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,n]=E.useState({height:0,left:0,top:0,width:0}),r=E.useCallback(o=>{if(o!=null){var i=o.getBoundingClientRect(),a={height:i.height,left:i.left,top:i.top,width:i.width};(Math.abs(a.height-t.height)>rm||Math.abs(a.left-t.left)>rm||Math.abs(a.top-t.top)>rm||Math.abs(a.width-t.width)>rm)&&n({height:a.height,left:a.left,top:a.top,width:a.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,r]}function Bn(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var _ae=typeof Symbol=="function"&&Symbol.observable||"@@observable",p4=_ae,M1=()=>Math.random().toString(36).substring(7).split("").join("."),Oae={INIT:`@@redux/INIT${M1()}`,REPLACE:`@@redux/REPLACE${M1()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${M1()}`},Bg=Oae;function UN(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function u6(e,t,n){if(typeof e!="function")throw new Error(Bn(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Bn(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Bn(1));return n(u6)(e,t)}let r=e,o=t,i=new Map,a=i,l=0,u=!1;function f(){a===i&&(a=new Map,i.forEach((C,A)=>{a.set(A,C)}))}function h(){if(u)throw new Error(Bn(3));return o}function p(C){if(typeof C!="function")throw new Error(Bn(4));if(u)throw new Error(Bn(5));let A=!0;f();const T=l++;return a.set(T,C),function(){if(A){if(u)throw new Error(Bn(6));A=!1,f(),a.delete(T),i=null}}}function g(C){if(!UN(C))throw new Error(Bn(7));if(typeof C.type>"u")throw new Error(Bn(8));if(typeof C.type!="string")throw new Error(Bn(17));if(u)throw new Error(Bn(9));try{u=!0,o=r(o,C)}finally{u=!1}return(i=a).forEach(T=>{T()}),C}function x(C){if(typeof C!="function")throw new Error(Bn(10));r=C,g({type:Bg.REPLACE})}function y(){const C=p;return{subscribe(A){if(typeof A!="object"||A===null)throw new Error(Bn(11));function T(){const D=A;D.next&&D.next(h())}return T(),{unsubscribe:C(T)}},[p4](){return this}}}return g({type:Bg.INIT}),{dispatch:g,subscribe:p,getState:h,replaceReducer:x,[p4]:y}}function Lae(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:Bg.INIT})>"u")throw new Error(Bn(12));if(typeof n(void 0,{type:Bg.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Bn(13))})}function d6(e){const t=Object.keys(e),n={};for(let i=0;i<t.length;i++){const a=t[i];typeof e[a]=="function"&&(n[a]=e[a])}const r=Object.keys(n);let o;try{Lae(n)}catch(i){o=i}return function(a={},l){if(o)throw o;let u=!1;const f={};for(let h=0;h<r.length;h++){const p=r[h],g=n[p],x=a[p],y=g(x,l);if(typeof y>"u")throw l&&l.type,new Error(Bn(14));f[p]=y,u=u||y!==x}return u=u||r.length!==Object.keys(a).length,u?f:a}}function Ug(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function Bae(...e){return t=>(n,r)=>{const o=t(n,r);let i=()=>{throw new Error(Bn(15))};const a={getState:o.getState,dispatch:(u,...f)=>i(u,...f)},l=e.map(u=>u(a));return i=Ug(...l)(o.dispatch),{...o,dispatch:i}}}function f6(e){return UN(e)&&"type"in e&&typeof e.type=="string"}var h6=Symbol.for("immer-nothing"),m4=Symbol.for("immer-draftable"),Gr=Symbol.for("immer-state");function Do(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Df=Object.getPrototypeOf;function Pl(e){return!!e&&!!e[Gr]}function ra(e){var t;return e?p6(e)||Array.isArray(e)||!!e[m4]||!!((t=e.constructor)!=null&&t[m4])||Zf(e)||Zx(e):!1}var Uae=Object.prototype.constructor.toString(),g4=new WeakMap;function p6(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=g4.get(n);return r===void 0&&(r=Function.toString.call(n),g4.set(n,r)),r===Uae}function zg(e,t,n=!0){Qx(e)===0?(n?Reflect.ownKeys(e):Object.keys(e)).forEach(o=>{t(o,e[o],e)}):e.forEach((r,o)=>t(o,r,e))}function Qx(e){const t=e[Gr];return t?t.type_:Array.isArray(e)?1:Zf(e)?2:Zx(e)?3:0}function g2(e,t){return Qx(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function m6(e,t,n){const r=Qx(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function zae(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Zf(e){return e instanceof Map}function Zx(e){return e instanceof Set}function nl(e){return e.copy_||e.base_}function x2(e,t){if(Zf(e))return new Map(e);if(Zx(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=p6(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[Gr];let o=Reflect.ownKeys(r);for(let i=0;i<o.length;i++){const a=o[i],l=r[a];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(r[a]={configurable:!0,writable:!0,enumerable:l.enumerable,value:e[a]})}return Object.create(Df(e),r)}else{const r=Df(e);if(r!==null&&n)return{...e};const o=Object.create(r);return Object.assign(o,e)}}function zN(e,t=!1){return e0(e)||Pl(e)||!ra(e)||(Qx(e)>1&&Object.defineProperties(e,{set:om,add:om,clear:om,delete:om}),Object.freeze(e),t&&Object.values(e).forEach(n=>zN(n,!0))),e}function Fae(){Do(2)}var om={value:Fae};function e0(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var qae={};function Rl(e){const t=qae[e];return t||Do(0,e),t}var _f;function g6(){return _f}function Hae(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function x4(e,t){t&&(Rl("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function b2(e){v2(e),e.drafts_.forEach(Vae),e.drafts_=null}function v2(e){e===_f&&(_f=e.parent_)}function b4(e){return _f=Hae(_f,e)}function Vae(e){const t=e[Gr];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function v4(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[Gr].modified_&&(b2(t),Do(4)),ra(e)&&(e=Fg(t,e),t.parent_||qg(t,e)),t.patches_&&Rl("Patches").generateReplacementPatches_(n[Gr].base_,e,t.patches_,t.inversePatches_)):e=Fg(t,n,[]),b2(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==h6?e:void 0}function Fg(e,t,n){if(e0(t))return t;const r=e.immer_.shouldUseStrictIteration(),o=t[Gr];if(!o)return zg(t,(i,a)=>y4(e,o,t,i,a,n),r),t;if(o.scope_!==e)return t;if(!o.modified_)return qg(e,o.base_,!0),o.base_;if(!o.finalized_){o.finalized_=!0,o.scope_.unfinalizedDrafts_--;const i=o.copy_;let a=i,l=!1;o.type_===3&&(a=new Set(i),i.clear(),l=!0),zg(a,(u,f)=>y4(e,o,i,u,f,n,l),r),qg(e,i,!1),n&&e.patches_&&Rl("Patches").generatePatches_(o,n,e.patches_,e.inversePatches_)}return o.copy_}function y4(e,t,n,r,o,i,a){if(o==null||typeof o!="object"&&!a)return;const l=e0(o);if(!(l&&!a)){if(Pl(o)){const u=i&&t&&t.type_!==3&&!g2(t.assigned_,r)?i.concat(r):void 0,f=Fg(e,o,u);if(m6(n,r,f),Pl(f))e.canAutoFreeze_=!1;else return}else a&&n.add(o);if(ra(o)&&!l){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[r]===o&&l)return;Fg(e,o),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&(Zf(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&qg(e,o)}}}function qg(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&zN(t,n)}function $ae(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:g6(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let o=r,i=FN;n&&(o=[r],i=Of);const{revoke:a,proxy:l}=Proxy.revocable(o,i);return r.draft_=l,r.revoke_=a,l}var FN={get(e,t){if(t===Gr)return e;const n=nl(e);if(!g2(n,t))return Gae(e,n,t);const r=n[t];return e.finalized_||!ra(r)?r:r===P1(e.base_,t)?(R1(e),e.copy_[t]=w2(r,e)):r},has(e,t){return t in nl(e)},ownKeys(e){return Reflect.ownKeys(nl(e))},set(e,t,n){const r=x6(nl(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const o=P1(nl(e),t),i=o==null?void 0:o[Gr];if(i&&i.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(zae(n,o)&&(n!==void 0||g2(e.base_,t)))return!0;R1(e),y2(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return P1(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,R1(e),y2(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=nl(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){Do(11)},getPrototypeOf(e){return Df(e.base_)},setPrototypeOf(){Do(12)}},Of={};zg(FN,(e,t)=>{Of[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Of.deleteProperty=function(e,t){return Of.set.call(this,e,t,void 0)};Of.set=function(e,t,n){return FN.set.call(this,e[0],t,n,e[0])};function P1(e,t){const n=e[Gr];return(n?nl(n):e)[t]}function Gae(e,t,n){var o;const r=x6(t,n);return r?"value"in r?r.value:(o=r.get)==null?void 0:o.call(e.draft_):void 0}function x6(e,t){if(!(t in e))return;let n=Df(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Df(n)}}function y2(e){e.modified_||(e.modified_=!0,e.parent_&&y2(e.parent_))}function R1(e){e.copy_||(e.copy_=x2(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var Kae=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const i=n;n=t;const a=this;return function(u=i,...f){return a.produce(u,h=>n.call(this,h,...f))}}typeof n!="function"&&Do(6),r!==void 0&&typeof r!="function"&&Do(7);let o;if(ra(t)){const i=b4(this),a=w2(t,void 0);let l=!0;try{o=n(a),l=!1}finally{l?b2(i):v2(i)}return x4(i,r),v4(o,i)}else if(!t||typeof t!="object"){if(o=n(t),o===void 0&&(o=t),o===h6&&(o=void 0),this.autoFreeze_&&zN(o,!0),r){const i=[],a=[];Rl("Patches").generateReplacementPatches_(t,o,i,a),r(i,a)}return o}else Do(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(a,...l)=>this.produceWithPatches(a,u=>t(u,...l));let r,o;return[this.produce(t,n,(a,l)=>{r=a,o=l}),r,o]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){ra(e)||Do(8),Pl(e)&&(e=Qi(e));const t=b4(this),n=w2(e,void 0);return n[Gr].isManual_=!0,v2(t),n}finishDraft(e,t){const n=e&&e[Gr];(!n||!n.isManual_)&&Do(9);const{scope_:r}=n;return x4(r,t),v4(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const o=t[n];if(o.path.length===0&&o.op==="replace"){e=o.value;break}}n>-1&&(t=t.slice(n+1));const r=Rl("Patches").applyPatches_;return Pl(e)?r(e,t):this.produce(e,o=>r(o,t))}};function w2(e,t){const n=Zf(e)?Rl("MapSet").proxyMap_(e,t):Zx(e)?Rl("MapSet").proxySet_(e,t):$ae(e,t);return(t?t.scope_:g6()).drafts_.push(n),n}function Qi(e){return Pl(e)||Do(10,e),b6(e)}function b6(e){if(!ra(e)||e0(e))return e;const t=e[Gr];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=x2(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=x2(e,!0);return zg(n,(o,i)=>{m6(n,o,b6(i))},r),t&&(t.finalized_=!1),n}var C2=new Kae,v6=C2.produce,Wae=C2.setUseStrictIteration.bind(C2);function y6(e){return({dispatch:n,getState:r})=>o=>i=>typeof i=="function"?i(n,r,e):o(i)}var Jae=y6(),Yae=y6,Xae=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Ug:Ug.apply(null,arguments)};function wo(e,t){function n(...r){if(t){let o=t(...r);if(!o)throw new Error(Vr(0));return{type:e,payload:o.payload,..."meta"in o&&{meta:o.meta},..."error"in o&&{error:o.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>f6(r)&&r.type===e,n}var w6=class ef extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,ef.prototype)}static get[Symbol.species](){return ef}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new ef(...t[0].concat(this)):new ef(...t.concat(this))}};function w4(e){return ra(e)?v6(e,()=>{}):e}function im(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function Qae(e){return typeof e=="boolean"}var Zae=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:o=!0,actionCreatorCheck:i=!0}=t??{};let a=new w6;return n&&(Qae(n)?a.push(Jae):a.push(Yae(n.extraArgument))),a},C6="RTK_autoBatch",or=()=>e=>({payload:e,meta:{[C6]:!0}}),C4=e=>t=>{setTimeout(t,e)},N6=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let o=!0,i=!1,a=!1;const l=new Set,u=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:C4(10):e.type==="callback"?e.queueNotification:C4(e.timeout),f=()=>{a=!1,i&&(i=!1,l.forEach(h=>h()))};return Object.assign({},r,{subscribe(h){const p=()=>o&&h(),g=r.subscribe(p);return l.add(h),()=>{g(),l.delete(h)}},dispatch(h){var p;try{return o=!((p=h==null?void 0:h.meta)!=null&&p[C6]),i=!o,i&&(a||(a=!0,u(f))),r.dispatch(h)}finally{o=!0}}})},ese=e=>function(n){const{autoBatch:r=!0}=n??{};let o=new w6(e);return r&&o.push(N6(typeof r=="object"?r:void 0)),o};function tse(e){const t=Zae(),{reducer:n=void 0,middleware:r,devTools:o=!0,preloadedState:i=void 0,enhancers:a=void 0}=e||{};let l;if(typeof n=="function")l=n;else if(UN(n))l=d6(n);else throw new Error(Vr(1));let u;typeof r=="function"?u=r(t):u=t();let f=Ug;o&&(f=Xae({trace:!1,...typeof o=="object"&&o}));const h=Bae(...u),p=ese(h);let g=typeof a=="function"?a(p):p();const x=f(...g);return u6(l,i,x)}function S6(e){const t={},n=[];let r;const o={addCase(i,a){const l=typeof i=="string"?i:i.type;if(!l)throw new Error(Vr(28));if(l in t)throw new Error(Vr(29));return t[l]=a,o},addAsyncThunk(i,a){return a.pending&&(t[i.pending.type]=a.pending),a.rejected&&(t[i.rejected.type]=a.rejected),a.fulfilled&&(t[i.fulfilled.type]=a.fulfilled),a.settled&&n.push({matcher:i.settled,reducer:a.settled}),o},addMatcher(i,a){return n.push({matcher:i,reducer:a}),o},addDefaultCase(i){return r=i,o}};return e(o),[t,n,r]}Wae(!1);function nse(e){return typeof e=="function"}function rse(e,t){let[n,r,o]=S6(t),i;if(nse(e))i=()=>w4(e());else{const l=w4(e);i=()=>l}function a(l=i(),u){let f=[n[u.type],...r.filter(({matcher:h})=>h(u)).map(({reducer:h})=>h)];return f.filter(h=>!!h).length===0&&(f=[o]),f.reduce((h,p)=>{if(p)if(Pl(h)){const x=p(h,u);return x===void 0?h:x}else{if(ra(h))return v6(h,g=>p(g,u));{const g=p(h,u);if(g===void 0){if(h===null)return h;throw Error("A case reducer on a non-draftable value must not return undefined")}return g}}return h},l)}return a.getInitialState=i,a}var ose="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",ise=(e=21)=>{let t="",n=e;for(;n--;)t+=ose[Math.random()*64|0];return t},ase=Symbol.for("rtk-slice-createasyncthunk");function sse(e,t){return`${e}/${t}`}function lse({creators:e}={}){var n;const t=(n=e==null?void 0:e.asyncThunk)==null?void 0:n[ase];return function(o){const{name:i,reducerPath:a=i}=o;if(!i)throw new Error(Vr(11));const l=(typeof o.reducers=="function"?o.reducers(use()):o.reducers)||{},u=Object.keys(l),f={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},h={addCase(D,R){const I=typeof D=="string"?D:D.type;if(!I)throw new Error(Vr(12));if(I in f.sliceCaseReducersByType)throw new Error(Vr(13));return f.sliceCaseReducersByType[I]=R,h},addMatcher(D,R){return f.sliceMatchers.push({matcher:D,reducer:R}),h},exposeAction(D,R){return f.actionCreators[D]=R,h},exposeCaseReducer(D,R){return f.sliceCaseReducersByName[D]=R,h}};u.forEach(D=>{const R=l[D],I={reducerName:D,type:sse(i,D),createNotation:typeof o.reducers=="function"};fse(R)?pse(I,R,h,t):dse(I,R,h)});function p(){const[D={},R=[],I=void 0]=typeof o.extraReducers=="function"?S6(o.extraReducers):[o.extraReducers],P={...D,...f.sliceCaseReducersByType};return rse(o.initialState,B=>{for(let L in P)B.addCase(L,P[L]);for(let L of f.sliceMatchers)B.addMatcher(L.matcher,L.reducer);for(let L of R)B.addMatcher(L.matcher,L.reducer);I&&B.addDefaultCase(I)})}const g=D=>D,x=new Map,y=new WeakMap;let N;function C(D,R){return N||(N=p()),N(D,R)}function A(){return N||(N=p()),N.getInitialState()}function T(D,R=!1){function I(B){let L=B[D];return typeof L>"u"&&R&&(L=im(y,I,A)),L}function P(B=g){const L=im(x,R,()=>new WeakMap);return im(L,B,()=>{const $={};for(const[X,q]of Object.entries(o.selectors??{}))$[X]=cse(q,B,()=>im(y,B,A),R);return $})}return{reducerPath:D,getSelectors:P,get selectors(){return P(I)},selectSlice:I}}const k={name:i,reducer:C,actions:f.actionCreators,caseReducers:f.sliceCaseReducersByName,getInitialState:A,...T(a),injectInto(D,{reducerPath:R,...I}={}){const P=R??a;return D.inject({reducerPath:P,reducer:C},I),{...k,...T(P,!0)}}};return k}}function cse(e,t,n,r){function o(i,...a){let l=t(i);return typeof l>"u"&&r&&(l=n()),e(l,...a)}return o.unwrapped=e,o}var Kr=lse();function use(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function dse({type:e,reducerName:t,createNotation:n},r,o){let i,a;if("reducer"in r){if(n&&!hse(r))throw new Error(Vr(17));i=r.reducer,a=r.prepare}else i=r;o.addCase(e,i).exposeCaseReducer(t,i).exposeAction(t,a?wo(e,a):wo(e))}function fse(e){return e._reducerDefinitionType==="asyncThunk"}function hse(e){return e._reducerDefinitionType==="reducerWithPrepare"}function pse({type:e,reducerName:t},n,r,o){if(!o)throw new Error(Vr(18));const{payloadCreator:i,fulfilled:a,pending:l,rejected:u,settled:f,options:h}=n,p=o(e,i,h);r.exposeAction(t,p),a&&r.addCase(p.fulfilled,a),l&&r.addCase(p.pending,l),u&&r.addCase(p.rejected,u),f&&r.addMatcher(p.settled,f),r.exposeCaseReducer(t,{fulfilled:a||am,pending:l||am,rejected:u||am,settled:f||am})}function am(){}var mse="task",E6="listener",j6="completed",qN="cancelled",gse=`task-${qN}`,xse=`task-${j6}`,N2=`${E6}-${qN}`,bse=`${E6}-${j6}`,t0=class{constructor(e){Vv(this,"name","TaskAbortError");Vv(this,"message");this.code=e,this.message=`${mse} ${qN} (reason: ${e})`}},HN=(e,t)=>{if(typeof e!="function")throw new TypeError(Vr(32))},Hg=()=>{},A6=(e,t=Hg)=>(e.catch(t),e),T6=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),bl=(e,t)=>{const n=e.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},vl=e=>{if(e.aborted){const{reason:t}=e;throw new t0(t)}};function k6(e,t){let n=Hg;return new Promise((r,o)=>{const i=()=>o(new t0(e.reason));if(e.aborted){i();return}n=T6(e,i),t.finally(()=>n()).then(r,o)}).finally(()=>{n=Hg})}var vse=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof t0?"cancelled":"rejected",error:n}}finally{t==null||t()}},Vg=e=>t=>A6(k6(e,t).then(n=>(vl(e),n))),M6=e=>{const t=Vg(e);return n=>t(new Promise(r=>setTimeout(r,n)))},{assign:Jc}=Object,N4={},n0="listenerMiddleware",yse=(e,t)=>{const n=r=>T6(e,()=>bl(r,e.reason));return(r,o)=>{HN(r);const i=new AbortController;n(i);const a=vse(async()=>{vl(e),vl(i.signal);const l=await r({pause:Vg(i.signal),delay:M6(i.signal),signal:i.signal});return vl(i.signal),l},()=>bl(i,xse));return o!=null&&o.autoJoin&&t.push(a.catch(Hg)),{result:Vg(e)(a),cancel(){bl(i,gse)}}}},wse=(e,t)=>{const n=async(r,o)=>{vl(t);let i=()=>{};const l=[new Promise((u,f)=>{let h=e({predicate:r,effect:(p,g)=>{g.unsubscribe(),u([p,g.getState(),g.getOriginalState()])}});i=()=>{h(),f()}})];o!=null&&l.push(new Promise(u=>setTimeout(u,o,null)));try{const u=await k6(t,Promise.race(l));return vl(t),u}finally{i()}};return(r,o)=>A6(n(r,o))},P6=e=>{let{type:t,actionCreator:n,matcher:r,predicate:o,effect:i}=e;if(t)o=wo(t).match;else if(n)t=n.type,o=n.match;else if(r)o=r;else if(!o)throw new Error(Vr(21));return HN(i),{predicate:o,type:t,effect:i}},R6=Jc(e=>{const{type:t,predicate:n,effect:r}=P6(e);return{id:ise(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(Vr(22))}}},{withTypes:()=>R6}),S4=(e,t)=>{const{type:n,effect:r,predicate:o}=P6(t);return Array.from(e.values()).find(i=>(typeof n=="string"?i.type===n:i.predicate===o)&&i.effect===r)},S2=e=>{e.pending.forEach(t=>{bl(t,N2)})},Cse=(e,t)=>()=>{for(const n of t.keys())S2(n);e.clear()},E4=(e,t,n)=>{try{e(t,n)}catch(r){setTimeout(()=>{throw r},0)}},I6=Jc(wo(`${n0}/add`),{withTypes:()=>I6}),Nse=wo(`${n0}/removeAll`),D6=Jc(wo(`${n0}/remove`),{withTypes:()=>D6}),Sse=(...e)=>{console.error(`${n0}/error`,...e)},eh=(e={})=>{const t=new Map,n=new Map,r=x=>{const y=n.get(x)??0;n.set(x,y+1)},o=x=>{const y=n.get(x)??1;y===1?n.delete(x):n.set(x,y-1)},{extra:i,onError:a=Sse}=e;HN(a);const l=x=>(x.unsubscribe=()=>t.delete(x.id),t.set(x.id,x),y=>{x.unsubscribe(),y!=null&&y.cancelActive&&S2(x)}),u=x=>{const y=S4(t,x)??R6(x);return l(y)};Jc(u,{withTypes:()=>u});const f=x=>{const y=S4(t,x);return y&&(y.unsubscribe(),x.cancelActive&&S2(y)),!!y};Jc(f,{withTypes:()=>f});const h=async(x,y,N,C)=>{const A=new AbortController,T=wse(u,A.signal),k=[];try{x.pending.add(A),r(x),await Promise.resolve(x.effect(y,Jc({},N,{getOriginalState:C,condition:(D,R)=>T(D,R).then(Boolean),take:T,delay:M6(A.signal),pause:Vg(A.signal),extra:i,signal:A.signal,fork:yse(A.signal,k),unsubscribe:x.unsubscribe,subscribe:()=>{t.set(x.id,x)},cancelActiveListeners:()=>{x.pending.forEach((D,R,I)=>{D!==A&&(bl(D,N2),I.delete(D))})},cancel:()=>{bl(A,N2),x.pending.delete(A)},throwIfCancelled:()=>{vl(A.signal)}})))}catch(D){D instanceof t0||E4(a,D,{raisedBy:"effect"})}finally{await Promise.all(k),bl(A,bse),o(x),x.pending.delete(A)}},p=Cse(t,n);return{middleware:x=>y=>N=>{if(!f6(N))return y(N);if(I6.match(N))return u(N.payload);if(Nse.match(N)){p();return}if(D6.match(N))return f(N.payload);let C=x.getState();const A=()=>{if(C===N4)throw new Error(Vr(23));return C};let T;try{if(T=y(N),t.size>0){const k=x.getState(),D=Array.from(t.values());for(const R of D){let I=!1;try{I=R.predicate(N,k,C)}catch(P){I=!1,E4(a,P,{raisedBy:"predicate"})}I&&h(R,N,x,A)}}}finally{C=N4}return T},startListening:u,stopListening:f,clearListeners:p}};function Vr(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Ese={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},_6=Kr({name:"chartLayout",initialState:Ese,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var n,r,o,i;e.margin.top=(n=t.payload.top)!==null&&n!==void 0?n:0,e.margin.right=(r=t.payload.right)!==null&&r!==void 0?r:0,e.margin.bottom=(o=t.payload.bottom)!==null&&o!==void 0?o:0,e.margin.left=(i=t.payload.left)!==null&&i!==void 0?i:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:jse,setLayout:Ase,setChartSize:Tse,setScale:kse}=_6.actions,Mse=_6.reducer;function j4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function A4(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?j4(Object(n),!0).forEach(function(r){Pse(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Pse(e,t,n){return(t=Rse(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Rse(e){var t=Ise(e,"string");return typeof t=="symbol"?t:t+""}function Ise(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $g=Math.PI/180,Dse=e=>e*180/Math.PI,cn=(e,t,n,r)=>({x:e+Math.cos(-$g*r)*n,y:t+Math.sin(-$g*r)*n}),O6=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},_se=(e,t)=>{var{x:n,y:r}=e,{x:o,y:i}=t;return Math.sqrt((n-o)**2+(r-i)**2)},Ose=(e,t)=>{var{x:n,y:r}=e,{cx:o,cy:i}=t,a=_se({x:n,y:r},{x:o,y:i});if(a<=0)return{radius:a,angle:0};var l=(n-o)/a,u=Math.acos(l);return r>i&&(u=2*Math.PI-u),{radius:a,angle:Dse(u),angleInRadian:u}},Lse=e=>{var{startAngle:t,endAngle:n}=e,r=Math.floor(t/360),o=Math.floor(n/360),i=Math.min(r,o);return{startAngle:t-i*360,endAngle:n-i*360}},Bse=(e,t)=>{var{startAngle:n,endAngle:r}=t,o=Math.floor(n/360),i=Math.floor(r/360),a=Math.min(o,i);return e+a*360},Use=(e,t)=>{var{x:n,y:r}=e,{radius:o,angle:i}=Ose({x:n,y:r},t),{innerRadius:a,outerRadius:l}=t;if(o<a||o>l||o===0)return null;var{startAngle:u,endAngle:f}=Lse(t),h=i,p;if(u<=f){for(;h>f;)h-=360;for(;h<u;)h+=360;p=h>=u&&h<=f}else{for(;h>u;)h-=360;for(;h<f;)h+=360;p=h>=f&&h<=u}return p?A4(A4({},t),{},{radius:o,angle:Bse(h,t)}):null};function L6(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function T4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function fo(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?T4(Object(n),!0).forEach(function(r){zse(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function zse(e,t,n){return(t=Fse(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fse(e){var t=qse(e,"string");return typeof t=="symbol"?t:t+""}function qse(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ut(e,t,n){return gn(e)||gn(t)?n:fi(t)?Ml(e,t,n):typeof t=="function"?t(e):n}var Hse=(e,t,n,r,o)=>{var i,a=-1,l=(i=t==null?void 0:t.length)!==null&&i!==void 0?i:0;if(l<=1||e==null)return 0;if(r==="angleAxis"&&o!=null&&Math.abs(Math.abs(o[1]-o[0])-360)<=1e-6)for(var u=0;u<l;u++){var f=u>0?n[u-1].coordinate:n[l-1].coordinate,h=n[u].coordinate,p=u>=l-1?n[0].coordinate:n[u+1].coordinate,g=void 0;if(er(h-f)!==er(p-h)){var x=[];if(er(p-h)===er(o[1]-o[0])){g=p;var y=h+o[1]-o[0];x[0]=Math.min(y,(y+f)/2),x[1]=Math.max(y,(y+f)/2)}else{g=f;var N=p+o[1]-o[0];x[0]=Math.min(h,(N+h)/2),x[1]=Math.max(h,(N+h)/2)}var C=[Math.min(h,(g+h)/2),Math.max(h,(g+h)/2)];if(e>C[0]&&e<=C[1]||e>=x[0]&&e<=x[1]){({index:a}=n[u]);break}}else{var A=Math.min(f,p),T=Math.max(f,p);if(e>(A+h)/2&&e<=(T+h)/2){({index:a}=n[u]);break}}}else if(t){for(var k=0;k<l;k++)if(k===0&&e<=(t[k].coordinate+t[k+1].coordinate)/2||k>0&&k<l-1&&e>(t[k].coordinate+t[k-1].coordinate)/2&&e<=(t[k].coordinate+t[k+1].coordinate)/2||k===l-1&&e>(t[k].coordinate+t[k-1].coordinate)/2){({index:a}=t[k]);break}}return a},Vse=(e,t,n)=>{if(t&&n){var{width:r,height:o}=n,{align:i,verticalAlign:a,layout:l}=t;if((l==="vertical"||l==="horizontal"&&a==="middle")&&i!=="center"&&Ie(e[i]))return fo(fo({},e),{},{[i]:e[i]+(r||0)});if((l==="horizontal"||l==="vertical"&&i==="center")&&a!=="middle"&&Ie(e[a]))return fo(fo({},e),{},{[a]:e[a]+(o||0)})}return e},As=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",B6=(e,t,n,r)=>{if(r)return e.map(l=>l.coordinate);var o,i,a=e.map(l=>(l.coordinate===t&&(o=!0),l.coordinate===n&&(i=!0),l.coordinate));return o||a.push(t),i||a.push(n),a},U6=(e,t,n)=>{if(!e)return null;var{duplicateDomain:r,type:o,range:i,scale:a,realScaleType:l,isCategorical:u,categoricalDomain:f,tickCount:h,ticks:p,niceTicks:g,axisType:x}=e;if(!a)return null;var y=l==="scaleBand"&&a.bandwidth?a.bandwidth()/2:2,N=o==="category"&&a.bandwidth?a.bandwidth()/y:0;if(N=x==="angleAxis"&&i&&i.length>=2?er(i[0]-i[1])*2*N:N,p||g){var C=(p||g||[]).map((A,T)=>{var k=r?r.indexOf(A):A;return{coordinate:a(k)+N,value:A,offset:N,index:T}});return C.filter(A=>!Uo(A.coordinate))}return u&&f?f.map((A,T)=>({coordinate:a(A)+N,value:A,index:T,offset:N})):a.ticks&&h!=null?a.ticks(h).map((A,T)=>({coordinate:a(A)+N,value:A,offset:N,index:T})):a.domain().map((A,T)=>({coordinate:a(A)+N,value:r?r[A]:A,index:T,offset:N}))},k4=1e-4,$se=e=>{var t=e.domain();if(!(!t||t.length<=2)){var n=t.length,r=e.range(),o=Math.min(r[0],r[1])-k4,i=Math.max(r[0],r[1])+k4,a=e(t[0]),l=e(t[n-1]);(a<o||a>i||l<o||l>i)&&e.domain([t[0],t[n-1]])}},Gse=e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var o=0,i=0,a=0;a<t;++a){var l=Uo(e[a][n][1])?e[a][n][0]:e[a][n][1];l>=0?(e[a][n][0]=o,e[a][n][1]=o+l,o=e[a][n][1]):(e[a][n][0]=i,e[a][n][1]=i+l,i=e[a][n][1])}},Kse=e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var o=0,i=0;i<t;++i){var a=Uo(e[i][n][1])?e[i][n][0]:e[i][n][1];a>=0?(e[i][n][0]=o,e[i][n][1]=o+a,o=e[i][n][1]):(e[i][n][0]=0,e[i][n][1]=0)}},Wse={sign:Gse,expand:Sie,none:au,silhouette:Eie,wiggle:jie,positive:Kse},Jse=(e,t,n)=>{var r=Wse[n],o=Nie().keys(t).value((i,a)=>+Ut(i,a,0)).order(h2).offset(r);return o(e)};function M4(e){var{axis:t,ticks:n,bandSize:r,entry:o,index:i,dataKey:a}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!gn(o[t.dataKey])){var l=KL(n,"value",o[t.dataKey]);if(l)return l.coordinate+r/2}return n[i]?n[i].coordinate+r/2:null}var u=Ut(o,gn(a)?t.dataKey:a);return gn(u)?null:t.scale(u)}var Yse=e=>{var t=e.flat(2).filter(Ie);return[Math.min(...t),Math.max(...t)]},Xse=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],Qse=(e,t,n)=>{if(e!=null)return Xse(Object.keys(e).reduce((r,o)=>{var i=e[o],{stackedData:a}=i,l=a.reduce((u,f)=>{var h=L6(f,t,n),p=Yse(h);return[Math.min(u[0],p[0]),Math.max(u[1],p[1])]},[1/0,-1/0]);return[Math.min(l[0],r[0]),Math.max(l[1],r[1])]},[1/0,-1/0]))},P4=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,R4=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,E2=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var o=Xx(t,h=>h.coordinate),i=1/0,a=1,l=o.length;a<l;a++){var u=o[a],f=o[a-1];i=Math.min((u.coordinate||0)-(f.coordinate||0),i)}return i===1/0?0:i}return n?void 0:0};function I4(e){var{tooltipEntrySettings:t,dataKey:n,payload:r,value:o,name:i}=e;return fo(fo({},t),{},{dataKey:n,payload:r,value:o,name:i})}function r0(e,t){if(e)return String(e);if(typeof t=="string")return t}function Zse(e,t,n,r,o){if(n==="horizontal"||n==="vertical"){var i=e>=o.left&&e<=o.left+o.width&&t>=o.top&&t<=o.top+o.height;return i?{x:e,y:t}:null}return r?Use({x:e,y:t},r):null}var ele=(e,t,n,r)=>{var o=t.find(f=>f&&f.index===n);if(o){if(e==="horizontal")return{x:o.coordinate,y:r.y};if(e==="vertical")return{x:r.x,y:o.coordinate};if(e==="centric"){var i=o.coordinate,{radius:a}=r;return fo(fo(fo({},r),cn(r.cx,r.cy,a,i)),{},{angle:i,radius:a})}var l=o.coordinate,{angle:u}=r;return fo(fo(fo({},r),cn(r.cx,r.cy,l,u)),{},{angle:u,radius:l})}return{x:0,y:0}},tle=(e,t)=>t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius,fa=e=>e.layout.width,ha=e=>e.layout.height,nle=e=>e.layout.scale,z6=e=>e.layout.margin,o0=Z(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),i0=Z(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),F6="data-recharts-item-index",q6="data-recharts-item-data-key",th=60;function D4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function sm(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?D4(Object(n),!0).forEach(function(r){rle(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function rle(e,t,n){return(t=ole(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ole(e){var t=ile(e,"string");return typeof t=="symbol"?t:t+""}function ile(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ale=e=>e.brush.height;function sle(e){var t=i0(e);return t.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var o=typeof r.width=="number"?r.width:th;return n+o}return n},0)}function lle(e){var t=i0(e);return t.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var o=typeof r.width=="number"?r.width:th;return n+o}return n},0)}function cle(e){var t=o0(e);return t.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function ule(e){var t=o0(e);return t.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var Mn=Z([fa,ha,z6,ale,sle,lle,cle,ule,l6,Pae],(e,t,n,r,o,i,a,l,u,f)=>{var h={left:(n.left||0)+o,right:(n.right||0)+i},p={top:(n.top||0)+a,bottom:(n.bottom||0)+l},g=sm(sm({},p),h),x=g.bottom;g.bottom+=r,g=Vse(g,u,f);var y=e-g.left-g.right,N=t-g.top-g.bottom;return sm(sm({brushBottom:x},g),{},{width:Math.max(y,0),height:Math.max(N,0)})}),dle=Z(Mn,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),H6=Z(fa,ha,(e,t)=>({x:0,y:0,width:e,height:t})),fle=E.createContext(null),Wr=()=>E.useContext(fle)!=null,a0=e=>e.brush,s0=Z([a0,Mn,z6],(e,t,n)=>({height:e.height,x:Ie(e.x)?e.x:t.left,y:Ie(e.y)?e.y:t.top+t.height+t.brushBottom-((n==null?void 0:n.bottom)||0),width:Ie(e.width)?e.width:t.width})),I1={},D1={},_1={},_4;function hle(){return _4||(_4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r,{signal:o,edges:i}={}){let a,l=null;const u=i!=null&&i.includes("leading"),f=i==null||i.includes("trailing"),h=()=>{l!==null&&(n.apply(a,l),a=void 0,l=null)},p=()=>{f&&h(),N()};let g=null;const x=()=>{g!=null&&clearTimeout(g),g=setTimeout(()=>{g=null,p()},r)},y=()=>{g!==null&&(clearTimeout(g),g=null)},N=()=>{y(),a=void 0,l=null},C=()=>{h()},A=function(...T){if(o!=null&&o.aborted)return;a=this,l=T;const k=g==null;x(),u&&k&&h()};return A.schedule=x,A.cancel=N,A.flush=C,o==null||o.addEventListener("abort",N,{once:!0}),A}e.debounce=t})(_1)),_1}var O4;function ple(){return O4||(O4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=hle();function n(r,o=0,i={}){typeof i!="object"&&(i={});const{leading:a=!1,trailing:l=!0,maxWait:u}=i,f=Array(2);a&&(f[0]="leading"),l&&(f[1]="trailing");let h,p=null;const g=t.debounce(function(...N){h=r.apply(this,N),p=null},o,{edges:f}),x=function(...N){return u!=null&&(p===null&&(p=Date.now()),Date.now()-p>=u)?(h=r.apply(this,N),p=Date.now(),g.cancel(),g.schedule(),h):(g.apply(this,N),h)},y=()=>(g.flush(),h);return x.cancel=g.cancel,x.flush=y,x}e.debounce=n})(D1)),D1}var L4;function mle(){return L4||(L4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ple();function n(r,o=0,i={}){const{leading:a=!0,trailing:l=!0}=i;return t.debounce(r,o,{leading:a,maxWait:o,trailing:l})}e.throttle=n})(I1)),I1}var O1,B4;function gle(){return B4||(B4=1,O1=mle().throttle),O1}var xle=gle();const ble=No(xle);var Gg=function(t,n){for(var r=arguments.length,o=new Array(r>2?r-2:0),i=2;i<r;i++)o[i-2]=arguments[i]},V6=(e,t,n)=>{var{width:r="100%",height:o="100%",aspect:i,maxHeight:a}=n,l=na(r)?e:Number(r),u=na(o)?t:Number(o);return i&&i>0&&(l?u=l/i:u&&(l=u*i),a&&u>a&&(u=a)),{calculatedWidth:l,calculatedHeight:u}},vle={width:0,height:0,overflow:"visible"},yle={width:0,overflowX:"visible"},wle={height:0,overflowY:"visible"},Cle={},Nle=e=>{var{width:t,height:n}=e,r=na(t),o=na(n);return r&&o?vle:r?yle:o?wle:Cle};function Sle(e){var{width:t,height:n,aspect:r}=e,o=t,i=n;return o===void 0&&i===void 0?(o="100%",i="100%"):o===void 0?o=r&&r>0?void 0:"100%":i===void 0&&(i=r&&r>0?void 0:"100%"),{width:o,height:i}}function Ar(e){return Number.isFinite(e)}function su(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function j2(){return j2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},j2.apply(null,arguments)}function U4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function z4(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?U4(Object(n),!0).forEach(function(r){Ele(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ele(e,t,n){return(t=jle(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jle(e){var t=Ale(e,"string");return typeof t=="symbol"?t:t+""}function Ale(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $6=E.createContext({width:-1,height:-1});function G6(e){var{children:t,width:n,height:r}=e,o=E.useMemo(()=>({width:n,height:r}),[n,r]);return n<=0||r<=0?null:E.createElement($6.Provider,{value:o},t)}var VN=()=>E.useContext($6),Tle=E.forwardRef((e,t)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:o,height:i,minWidth:a=0,minHeight:l,maxHeight:u,children:f,debounce:h=0,id:p,className:g,onResize:x,style:y={}}=e,N=E.useRef(null),C=E.useRef();C.current=x,E.useImperativeHandle(t,()=>N.current);var[A,T]=E.useState({containerWidth:r.width,containerHeight:r.height}),k=E.useCallback((B,L)=>{T($=>{var X=Math.round(B),q=Math.round(L);return $.containerWidth===X&&$.containerHeight===q?$:{containerWidth:X,containerHeight:q}})},[]);E.useEffect(()=>{var B=q=>{var W,{width:ie,height:K}=q[0].contentRect;k(ie,K),(W=C.current)===null||W===void 0||W.call(C,ie,K)};h>0&&(B=ble(B,h,{trailing:!0,leading:!1}));var L=new ResizeObserver(B),{width:$,height:X}=N.current.getBoundingClientRect();return k($,X),L.observe(N.current),()=>{L.disconnect()}},[k,h]);var{containerWidth:D,containerHeight:R}=A;Gg(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:I,calculatedHeight:P}=V6(D,R,{width:o,height:i,aspect:n,maxHeight:u});return Gg(I>0||P>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,I,P,o,i,a,l,n),E.createElement("div",{id:p?"".concat(p):void 0,className:st("recharts-responsive-container",g),style:z4(z4({},y),{},{width:o,height:i,minWidth:a,minHeight:l,maxHeight:u}),ref:N},E.createElement("div",{style:Nle({width:o,height:i})},E.createElement(G6,{width:I,height:P},f)))}),K6=E.forwardRef((e,t)=>{var n=VN();if(su(n.width)&&su(n.height))return e.children;var{width:r,height:o}=Sle({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:i,calculatedHeight:a}=V6(void 0,void 0,{width:r,height:o,aspect:e.aspect,maxHeight:e.maxHeight});return Ie(i)&&Ie(a)?E.createElement(G6,{width:i,height:a},e.children):E.createElement(Tle,j2({},e,{width:r,height:o,ref:t}))}),l0=()=>{var e,t=Wr(),n=Ae(dle),r=Ae(s0),o=(e=Ae(a0))===null||e===void 0?void 0:e.padding;return!t||!r||!o?n:{width:r.width-o.left-o.right,height:r.height-o.top-o.bottom,x:o.left,y:o.top}},kle={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},W6=()=>{var e;return(e=Ae(Mn))!==null&&e!==void 0?e:kle},$N=()=>Ae(fa),GN=()=>Ae(ha),Mle=()=>Ae(e=>e.layout.margin),yt=e=>e.layout.layoutType,KN=()=>Ae(yt),c0=e=>{var t=Ot(),n=Wr(),{width:r,height:o}=e,i=VN(),a=r,l=o;return i&&(a=i.width>0?i.width:r,l=i.height>0?i.height:o),E.useEffect(()=>{!n&&su(a)&&su(l)&&t(Tse({width:a,height:l}))},[t,n,a,l]),null},Ple={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},J6=Kr({name:"legend",initialState:Ple,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:or()},removeLegendPayload:{reducer(e,t){var n=Qi(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)},prepare:or()}}}),{setLegendSize:F4,setLegendSettings:Rle,addLegendPayload:Y6,removeLegendPayload:X6}=J6.actions,Ile=J6.reducer,Dle=["contextPayload"];function A2(){return A2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},A2.apply(null,arguments)}function q4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function lu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?q4(Object(n),!0).forEach(function(r){WN(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function WN(e,t,n){return(t=_le(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _le(e){var t=Ole(e,"string");return typeof t=="symbol"?t:t+""}function Ole(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Lle(e,t){if(e==null)return{};var n,r,o=Ble(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function Ble(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Ule(e){return e.value}function zle(e){var{contextPayload:t}=e,n=Lle(e,Dle),r=o6(t,e.payloadUniqBy,Ule),o=lu(lu({},n),{},{payload:r});return E.isValidElement(e.content)?E.cloneElement(e.content,o):typeof e.content=="function"?E.createElement(e.content,o):E.createElement(ON,o)}function Fle(e,t,n,r,o,i){var{layout:a,align:l,verticalAlign:u}=t,f,h;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(l==="center"&&a==="vertical"?f={left:((r||0)-i.width)/2}:f=l==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(u==="middle"?h={top:((o||0)-i.height)/2}:h=u==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),lu(lu({},f),h)}function qle(e){var t=Ot();return E.useEffect(()=>{t(Rle(e))},[t,e]),null}function Hle(e){var t=Ot();return E.useEffect(()=>(t(F4(e)),()=>{t(F4({width:0,height:0}))}),[t,e]),null}function Vle(e){var t=Dae(),n=Koe(),r=Mle(),{width:o,height:i,wrapperStyle:a,portal:l}=e,[u,f]=c6([t]),h=$N(),p=GN();if(h==null||p==null)return null;var g=h-(r.left||0)-(r.right||0),x=nh.getWidthOrHeight(e.layout,i,o,g),y=l?a:lu(lu({position:"absolute",width:(x==null?void 0:x.width)||o||"auto",height:(x==null?void 0:x.height)||i||"auto"},Fle(a,e,r,h,p,u)),a),N=l??n;if(N==null)return null;var C=E.createElement("div",{className:"recharts-legend-wrapper",style:y,ref:f},E.createElement(qle,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),E.createElement(Hle,{width:u.width,height:u.height}),E.createElement(zle,A2({},e,x,{margin:r,chartWidth:h,chartHeight:p,contextPayload:t})));return xC.createPortal(C,N)}class nh extends E.PureComponent{static getWidthOrHeight(t,n,r,o){return t==="vertical"&&Ie(n)?{height:n}:t==="horizontal"?{width:r||o}:null}render(){return E.createElement(Vle,this.props)}}WN(nh,"displayName","Legend");WN(nh,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function T2(){return T2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},T2.apply(null,arguments)}function H4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function L1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?H4(Object(n),!0).forEach(function(r){$le(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $le(e,t,n){return(t=Gle(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Gle(e){var t=Kle(e,"string");return typeof t=="symbol"?t:t+""}function Kle(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Wle(e){return Array.isArray(e)&&fi(e[0])&&fi(e[1])?e.join(" ~ "):e}var Jle=e=>{var{separator:t=" : ",contentStyle:n={},itemStyle:r={},labelStyle:o={},payload:i,formatter:a,itemSorter:l,wrapperClassName:u,labelClassName:f,label:h,labelFormatter:p,accessibilityLayer:g=!1}=e,x=()=>{if(i&&i.length){var R={padding:0,margin:0},I=(l?Xx(i,l):i).map((P,B)=>{if(P.type==="none")return null;var L=P.formatter||a||Wle,{value:$,name:X}=P,q=$,W=X;if(L){var ie=L($,X,P,B,i);if(Array.isArray(ie))[q,W]=ie;else if(ie!=null)q=ie;else return null}var K=L1({display:"block",paddingTop:4,paddingBottom:4,color:P.color||"#000"},r);return E.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(B),style:K},fi(W)?E.createElement("span",{className:"recharts-tooltip-item-name"},W):null,fi(W)?E.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,E.createElement("span",{className:"recharts-tooltip-item-value"},q),E.createElement("span",{className:"recharts-tooltip-item-unit"},P.unit||""))});return E.createElement("ul",{className:"recharts-tooltip-item-list",style:R},I)}return null},y=L1({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),N=L1({margin:0},o),C=!gn(h),A=C?h:"",T=st("recharts-default-tooltip",u),k=st("recharts-tooltip-label",f);C&&p&&i!==void 0&&i!==null&&(A=p(h,i));var D=g?{role:"status","aria-live":"assertive"}:{};return E.createElement("div",T2({className:T,style:y},D),E.createElement("p",{className:k,style:N},E.isValidElement(A)?A:"".concat(A)),x())},Ud="recharts-tooltip-wrapper",Yle={visibility:"hidden"};function Xle(e){var{coordinate:t,translateX:n,translateY:r}=e;return st(Ud,{["".concat(Ud,"-right")]:Ie(n)&&t&&Ie(t.x)&&n>=t.x,["".concat(Ud,"-left")]:Ie(n)&&t&&Ie(t.x)&&n<t.x,["".concat(Ud,"-bottom")]:Ie(r)&&t&&Ie(t.y)&&r>=t.y,["".concat(Ud,"-top")]:Ie(r)&&t&&Ie(t.y)&&r<t.y})}function V4(e){var{allowEscapeViewBox:t,coordinate:n,key:r,offsetTopLeft:o,position:i,reverseDirection:a,tooltipDimension:l,viewBox:u,viewBoxDimension:f}=e;if(i&&Ie(i[r]))return i[r];var h=n[r]-l-(o>0?o:0),p=n[r]+o;if(t[r])return a[r]?h:p;var g=u[r];if(g==null)return 0;if(a[r]){var x=h,y=g;return x<y?Math.max(p,g):Math.max(h,g)}if(f==null)return 0;var N=p+l,C=g+f;return N>C?Math.max(h,g):Math.max(p,g)}function Qle(e){var{translateX:t,translateY:n,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function Zle(e){var{allowEscapeViewBox:t,coordinate:n,offsetTopLeft:r,position:o,reverseDirection:i,tooltipBox:a,useTranslate3d:l,viewBox:u}=e,f,h,p;return a.height>0&&a.width>0&&n?(h=V4({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:o,reverseDirection:i,tooltipDimension:a.width,viewBox:u,viewBoxDimension:u.width}),p=V4({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:o,reverseDirection:i,tooltipDimension:a.height,viewBox:u,viewBoxDimension:u.height}),f=Qle({translateX:h,translateY:p,useTranslate3d:l})):f=Yle,{cssProperties:f,cssClasses:Xle({translateX:h,translateY:p,coordinate:n})}}function $4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function lm(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$4(Object(n),!0).forEach(function(r){k2(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function k2(e,t,n){return(t=ece(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ece(e){var t=tce(e,"string");return typeof t=="symbol"?t:t+""}function tce(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class nce extends E.PureComponent{constructor(){super(...arguments),k2(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),k2(this,"handleKeyDown",t=>{if(t.key==="Escape"){var n,r,o,i;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(o=(i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==null&&o!==void 0?o:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,n;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:n,animationDuration:r,animationEasing:o,children:i,coordinate:a,hasPayload:l,isAnimationActive:u,offset:f,position:h,reverseDirection:p,useTranslate3d:g,viewBox:x,wrapperStyle:y,lastBoundingBox:N,innerRef:C,hasPortalFromProps:A}=this.props,{cssClasses:T,cssProperties:k}=Zle({allowEscapeViewBox:n,coordinate:a,offsetTopLeft:f,position:h,reverseDirection:p,tooltipBox:{height:N.height,width:N.width},useTranslate3d:g,viewBox:x}),D=A?{}:lm(lm({transition:u&&t?"transform ".concat(r,"ms ").concat(o):void 0},k),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&l?"visible":"hidden",position:"absolute",top:0,left:0}),R=lm(lm({},D),{},{visibility:!this.state.dismissed&&t&&l?"visible":"hidden"},y);return E.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:T,style:R,ref:C},i)}}var rce=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Hl={devToolsEnabled:!1,isSsr:rce()},Q6=()=>Ae(e=>e.rootProps.accessibilityLayer);function M2(){return M2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},M2.apply(null,arguments)}function G4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function K4(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?G4(Object(n),!0).forEach(function(r){oce(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function oce(e,t,n){return(t=ice(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ice(e){var t=ace(e,"string");return typeof t=="symbol"?t:t+""}function ace(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var W4={curveBasisClosed:fie,curveBasisOpen:hie,curveBasis:die,curveBumpX:Xoe,curveBumpY:Qoe,curveLinearClosed:pie,curveLinear:Jx,curveMonotoneX:mie,curveMonotoneY:gie,curveNatural:xie,curveStep:bie,curveStepAfter:yie,curveStepBefore:vie},cm=e=>Ar(e.x)&&Ar(e.y),zd=e=>e.x,Fd=e=>e.y,sce=(e,t)=>{if(typeof e=="function")return e;var n="curve".concat(Qf(e));return(n==="curveMonotone"||n==="curveBump")&&t?W4["".concat(n).concat(t==="vertical"?"Y":"X")]:W4[n]||Jx},lce=e=>{var{type:t="linear",points:n=[],baseLine:r,layout:o,connectNulls:i=!1}=e,a=sce(t,o),l=i?n.filter(cm):n,u;if(Array.isArray(r)){var f=i?r.filter(p=>cm(p)):r,h=l.map((p,g)=>K4(K4({},p),{},{base:f[g]}));return o==="vertical"?u=tm().y(Fd).x1(zd).x0(p=>p.base.x):u=tm().x(zd).y1(Fd).y0(p=>p.base.y),u.defined(cm).curve(a),u(h)}return o==="vertical"&&Ie(r)?u=tm().y(Fd).x1(zd).x0(r):Ie(r)?u=tm().x(zd).y1(Fd).y0(r):u=DL().x(zd).y(Fd),u.defined(cm).curve(a),u(l)},JN=e=>{var{className:t,points:n,path:r,pathRef:o}=e;if((!n||!n.length)&&!r)return null;var i=n&&n.length?lce(e):r;return E.createElement("path",M2({},yo(e),IN(e),{className:st("recharts-curve",t),d:i===null?void 0:i,ref:o}))},cce=["x","y","top","left","width","height","className"];function P2(){return P2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},P2.apply(null,arguments)}function J4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function uce(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?J4(Object(n),!0).forEach(function(r){dce(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function dce(e,t,n){return(t=fce(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fce(e){var t=hce(e,"string");return typeof t=="symbol"?t:t+""}function hce(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pce(e,t){if(e==null)return{};var n,r,o=mce(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function mce(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var gce=(e,t,n,r,o,i)=>"M".concat(e,",").concat(o,"v").concat(r,"M").concat(i,",").concat(t,"h").concat(n),xce=e=>{var{x:t=0,y:n=0,top:r=0,left:o=0,width:i=0,height:a=0,className:l}=e,u=pce(e,cce),f=uce({x:t,y:n,top:r,left:o,width:i,height:a},u);return!Ie(t)||!Ie(n)||!Ie(i)||!Ie(a)||!Ie(r)||!Ie(o)?null:E.createElement("path",P2({},ur(f),{className:st("recharts-cross",l),d:gce(t,n,i,a,r,o)}))};function bce(e,t,n,r){var o=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-o:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-o,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function Y4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function vce(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Y4(Object(n),!0).forEach(function(r){yce(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function yce(e,t,n){return(t=wce(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wce(e){var t=Cce(e,"string");return typeof t=="symbol"?t:t+""}function Cce(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nr(e,t){var n=vce({},e),r=t,o=Object.keys(t),i=o.reduce((a,l)=>(a[l]===void 0&&r[l]!==void 0&&(a[l]=r[l]),a),n);return i}function Nce(){}function Sce(e){return e!=null}function X4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function Q4(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?X4(Object(n),!0).forEach(function(r){Ece(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):X4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ece(e,t,n){return(t=jce(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jce(e){var t=Ace(e,"string");return typeof t=="symbol"?t:t+""}function Ace(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Tce=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),Z6=(e,t,n)=>e.map(r=>"".concat(Tce(r)," ").concat(t,"ms ").concat(n)).join(","),kce=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((n,r)=>n.filter(o=>r.includes(o))),Lf=(e,t)=>Object.keys(t).reduce((n,r)=>Q4(Q4({},n),{},{[r]:e(r,t[r])}),{});function Z4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function zn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Z4(Object(n),!0).forEach(function(r){Mce(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Mce(e,t,n){return(t=Pce(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pce(e){var t=Rce(e,"string");return typeof t=="symbol"?t:t+""}function Rce(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Kg=(e,t,n)=>e+(t-e)*n,R2=e=>{var{from:t,to:n}=e;return t!==n},e8=(e,t,n)=>{var r=Lf((o,i)=>{if(R2(i)){var[a,l]=e(i.from,i.to,i.velocity);return zn(zn({},i),{},{from:a,velocity:l})}return i},t);return n<1?Lf((o,i)=>R2(i)?zn(zn({},i),{},{velocity:Kg(i.velocity,r[o].velocity,n),from:Kg(i.from,r[o].from,n)}):i,t):e8(e,r,n-1)};function Ice(e,t,n,r,o,i){var a,l=r.reduce((g,x)=>zn(zn({},g),{},{[x]:{from:e[x],velocity:0,to:t[x]}}),{}),u=()=>Lf((g,x)=>x.from,l),f=()=>!Object.values(l).filter(R2).length,h=null,p=g=>{a||(a=g);var x=g-a,y=x/n.dt;l=e8(n,l,y),o(zn(zn(zn({},e),t),u())),a=g,f()||(h=i.setTimeout(p))};return()=>(h=i.setTimeout(p),()=>{h()})}function Dce(e,t,n,r,o,i,a){var l=null,u=o.reduce((p,g)=>zn(zn({},p),{},{[g]:[e[g],t[g]]}),{}),f,h=p=>{f||(f=p);var g=(p-f)/r,x=Lf((N,C)=>Kg(...C,n(g)),u);if(i(zn(zn(zn({},e),t),x)),g<1)l=a.setTimeout(h);else{var y=Lf((N,C)=>Kg(...C,n(1)),u);i(zn(zn(zn({},e),t),y))}};return()=>(l=a.setTimeout(h),()=>{l()})}const _ce=(e,t,n,r,o,i)=>{var a=kce(e,t);return n.isStepper===!0?Ice(e,t,n,a,o,i):Dce(e,t,n,r,a,o,i)};var Wg=1e-4,t8=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],n8=(e,t)=>e.map((n,r)=>n*t**r).reduce((n,r)=>n+r),eP=(e,t)=>n=>{var r=t8(e,t);return n8(r,n)},Oce=(e,t)=>n=>{var r=t8(e,t),o=[...r.map((i,a)=>i*a).slice(1),0];return n8(o,n)},tP=function(){for(var t,n,r,o,i=arguments.length,a=new Array(i),l=0;l<i;l++)a[l]=arguments[l];if(a.length===1)switch(a[0]){case"linear":[t,r,n,o]=[0,0,1,1];break;case"ease":[t,r,n,o]=[.25,.1,.25,1];break;case"ease-in":[t,r,n,o]=[.42,0,1,1];break;case"ease-out":[t,r,n,o]=[.42,0,.58,1];break;case"ease-in-out":[t,r,n,o]=[0,0,.58,1];break;default:{var u=a[0].split("(");u[0]==="cubic-bezier"&&u[1].split(")")[0].split(",").length===4&&([t,r,n,o]=u[1].split(")")[0].split(",").map(y=>parseFloat(y)))}}else a.length===4&&([t,r,n,o]=a);var f=eP(t,n),h=eP(r,o),p=Oce(t,n),g=y=>y>1?1:y<0?0:y,x=y=>{for(var N=y>1?1:y,C=N,A=0;A<8;++A){var T=f(C)-N,k=p(C);if(Math.abs(T-N)<Wg||k<Wg)return h(C);C=g(C-T/k)}return h(C)};return x.isStepper=!1,x},Lce=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:o=17}=t,i=(a,l,u)=>{var f=-(a-l)*n,h=u*r,p=u+(f-h)*o/1e3,g=u*o/1e3+a;return Math.abs(g-l)<Wg&&Math.abs(p)<Wg?[l,0]:[g,p]};return i.isStepper=!0,i.dt=o,i},Bce=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return tP(e);case"spring":return Lce();default:if(e.split("(")[0]==="cubic-bezier")return tP(e)}return typeof e=="function"?e:null};function Uce(e){var t,n=()=>null,r=!1,o=null,i=a=>{if(!r){if(Array.isArray(a)){if(!a.length)return;var l=a,[u,...f]=l;if(typeof u=="number"){o=e.setTimeout(i.bind(null,f),u);return}i(u),o=e.setTimeout(i.bind(null,f));return}typeof a=="string"&&(t=a,n(t)),typeof a=="object"&&(t=a,n(t)),typeof a=="function"&&a()}};return{stop:()=>{r=!0},start:a=>{r=!1,o&&(o(),o=null),i(a)},subscribe:a=>(n=a,()=>{n=()=>null}),getTimeoutController:()=>e}}class zce{setTimeout(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),o=null,i=a=>{a-r>=n?t(a):typeof requestAnimationFrame=="function"&&(o=requestAnimationFrame(i))};return o=requestAnimationFrame(i),()=>{cancelAnimationFrame(o)}}}function Fce(){return Uce(new zce)}var qce=E.createContext(Fce);function Hce(e,t){var n=E.useContext(qce);return E.useMemo(()=>t??n(e),[e,t,n])}var Vce={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},nP={t:0},B1={t:1};function u0(e){var t=nr(e,Vce),{isActive:n,canBegin:r,duration:o,easing:i,begin:a,onAnimationEnd:l,onAnimationStart:u,children:f}=t,h=Hce(t.animationId,t.animationManager),[p,g]=E.useState(n?nP:B1),x=E.useRef(null);return E.useEffect(()=>{n||g(B1)},[n]),E.useEffect(()=>{if(!n||!r)return Nce;var y=_ce(nP,B1,Bce(i),o,g,h.getTimeoutController()),N=()=>{x.current=y()};return h.start([u,a,N,o,l]),()=>{h.stop(),x.current&&x.current(),l()}},[n,r,o,i,a,u,l,h]),f(p.t)}function d0(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=E.useRef(If(t)),r=E.useRef(e);return r.current!==e&&(n.current=If(t),r.current=e),n.current}var $ce=["radius"],Gce=["radius"];function rP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function oP(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rP(Object(n),!0).forEach(function(r){Kce(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Kce(e,t,n){return(t=Wce(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Wce(e){var t=Jce(e,"string");return typeof t=="symbol"?t:t+""}function Jce(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Jg(){return Jg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Jg.apply(null,arguments)}function iP(e,t){if(e==null)return{};var n,r,o=Yce(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function Yce(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var aP=(e,t,n,r,o)=>{var i=Math.min(Math.abs(n)/2,Math.abs(r)/2),a=r>=0?1:-1,l=n>=0?1:-1,u=r>=0&&n>=0||r<0&&n<0?1:0,f;if(i>0&&o instanceof Array){for(var h=[0,0,0,0],p=0,g=4;p<g;p++)h[p]=o[p]>i?i:o[p];f="M".concat(e,",").concat(t+a*h[0]),h[0]>0&&(f+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(u,",").concat(e+l*h[0],",").concat(t)),f+="L ".concat(e+n-l*h[1],",").concat(t),h[1]>0&&(f+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(u,`,
        `).concat(e+n,",").concat(t+a*h[1])),f+="L ".concat(e+n,",").concat(t+r-a*h[2]),h[2]>0&&(f+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(u,`,
        `).concat(e+n-l*h[2],",").concat(t+r)),f+="L ".concat(e+l*h[3],",").concat(t+r),h[3]>0&&(f+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(t+r-a*h[3])),f+="Z"}else if(i>0&&o===+o&&o>0){var x=Math.min(i,o);f="M ".concat(e,",").concat(t+a*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(e+l*x,",").concat(t,`
            L `).concat(e+n-l*x,",").concat(t,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(e+n,",").concat(t+a*x,`
            L `).concat(e+n,",").concat(t+r-a*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(e+n-l*x,",").concat(t+r,`
            L `).concat(e+l*x,",").concat(t+r,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(e,",").concat(t+r-a*x," Z")}else f="M ".concat(e,",").concat(t," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return f},Xce={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},r8=e=>{var t=nr(e,Xce),n=E.useRef(null),[r,o]=E.useState(-1);E.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var V=n.current.getTotalLength();V&&o(V)}catch{}},[]);var{x:i,y:a,width:l,height:u,radius:f,className:h}=t,{animationEasing:p,animationDuration:g,animationBegin:x,isAnimationActive:y,isUpdateAnimationActive:N}=t,C=E.useRef(l),A=E.useRef(u),T=E.useRef(i),k=E.useRef(a),D=E.useMemo(()=>({x:i,y:a,width:l,height:u,radius:f}),[i,a,l,u,f]),R=d0(D,"rectangle-");if(i!==+i||a!==+a||l!==+l||u!==+u||l===0||u===0)return null;var I=st("recharts-rectangle",h);if(!N){var P=ur(t),{radius:B}=P,L=iP(P,$ce);return E.createElement("path",Jg({},L,{radius:typeof f=="number"?f:void 0,className:I,d:aP(i,a,l,u,f)}))}var $=C.current,X=A.current,q=T.current,W=k.current,ie="0px ".concat(r===-1?1:r,"px"),K="".concat(r,"px 0px"),U=Z6(["strokeDasharray"],g,typeof p=="string"?p:void 0);return E.createElement(u0,{animationId:R,key:R,canBegin:r>0,duration:g,easing:p,isActive:N,begin:x},V=>{var pe=Yn($,l,V),be=Yn(X,u,V),je=Yn(q,i,V),O=Yn(W,a,V);n.current&&(C.current=pe,A.current=be,T.current=je,k.current=O);var F;y?V>0?F={transition:U,strokeDasharray:K}:F={strokeDasharray:ie}:F={strokeDasharray:K};var te=ur(t),{radius:fe}=te,xe=iP(te,Gce);return E.createElement("path",Jg({},xe,{radius:typeof f=="number"?f:void 0,className:I,d:aP(je,O,pe,be,f),ref:n,style:oP(oP({},F),t.style)}))})};function o8(e){var{cx:t,cy:n,radius:r,startAngle:o,endAngle:i}=e,a=cn(t,n,r,o),l=cn(t,n,r,i);return{points:[a,l],cx:t,cy:n,radius:r,startAngle:o,endAngle:i}}function I2(){return I2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},I2.apply(null,arguments)}var Qce=(e,t)=>{var n=er(t-e),r=Math.min(Math.abs(t-e),359.999);return n*r},um=e=>{var{cx:t,cy:n,radius:r,angle:o,sign:i,isExternal:a,cornerRadius:l,cornerIsExternal:u}=e,f=l*(a?1:-1)+r,h=Math.asin(l/f)/$g,p=u?o:o+i*h,g=cn(t,n,f,p),x=cn(t,n,r,p),y=u?o-i*h:o,N=cn(t,n,f*Math.cos(h*$g),y);return{center:g,circleTangency:x,lineTangency:N,theta:h}},i8=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:o,startAngle:i,endAngle:a}=e,l=Qce(i,a),u=i+l,f=cn(t,n,o,i),h=cn(t,n,o,u),p="M ".concat(f.x,",").concat(f.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(i>u),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(r>0){var g=cn(t,n,r,i),x=cn(t,n,r,u);p+="L ".concat(x.x,",").concat(x.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(i<=u),`,
            `).concat(g.x,",").concat(g.y," Z")}else p+="L ".concat(t,",").concat(n," Z");return p},Zce=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:o,cornerRadius:i,forceCornerRadius:a,cornerIsExternal:l,startAngle:u,endAngle:f}=e,h=er(f-u),{circleTangency:p,lineTangency:g,theta:x}=um({cx:t,cy:n,radius:o,angle:u,sign:h,cornerRadius:i,cornerIsExternal:l}),{circleTangency:y,lineTangency:N,theta:C}=um({cx:t,cy:n,radius:o,angle:f,sign:-h,cornerRadius:i,cornerIsExternal:l}),A=l?Math.abs(u-f):Math.abs(u-f)-x-C;if(A<0)return a?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(i,",").concat(i,",0,0,1,").concat(i*2,`,0
        a`).concat(i,",").concat(i,",0,0,1,").concat(-i*2,`,0
      `):i8({cx:t,cy:n,innerRadius:r,outerRadius:o,startAngle:u,endAngle:f});var T="M ".concat(g.x,",").concat(g.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(h<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(A>180),",").concat(+(h<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(h<0),",").concat(N.x,",").concat(N.y,`
  `);if(r>0){var{circleTangency:k,lineTangency:D,theta:R}=um({cx:t,cy:n,radius:r,angle:u,sign:h,isExternal:!0,cornerRadius:i,cornerIsExternal:l}),{circleTangency:I,lineTangency:P,theta:B}=um({cx:t,cy:n,radius:r,angle:f,sign:-h,isExternal:!0,cornerRadius:i,cornerIsExternal:l}),L=l?Math.abs(u-f):Math.abs(u-f)-R-B;if(L<0&&i===0)return"".concat(T,"L").concat(t,",").concat(n,"Z");T+="L".concat(P.x,",").concat(P.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(h<0),",").concat(I.x,",").concat(I.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(L>180),",").concat(+(h>0),",").concat(k.x,",").concat(k.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(h<0),",").concat(D.x,",").concat(D.y,"Z")}else T+="L".concat(t,",").concat(n,"Z");return T},eue={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},a8=e=>{var t=nr(e,eue),{cx:n,cy:r,innerRadius:o,outerRadius:i,cornerRadius:a,forceCornerRadius:l,cornerIsExternal:u,startAngle:f,endAngle:h,className:p}=t;if(i<o||f===h)return null;var g=st("recharts-sector",p),x=i-o,y=Hr(a,x,0,!0),N;return y>0&&Math.abs(f-h)<360?N=Zce({cx:n,cy:r,innerRadius:o,outerRadius:i,cornerRadius:Math.min(y,x/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:f,endAngle:h}):N=i8({cx:n,cy:r,innerRadius:o,outerRadius:i,startAngle:f,endAngle:h}),E.createElement("path",I2({},ur(t),{className:g,d:N}))};function tue(e,t,n){var r,o,i,a;if(e==="horizontal")r=t.x,i=r,o=n.top,a=n.top+n.height;else if(e==="vertical")o=t.y,a=o,r=n.left,i=n.left+n.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var{cx:l,cy:u,innerRadius:f,outerRadius:h,angle:p}=t,g=cn(l,u,f,p),x=cn(l,u,h,p);r=g.x,o=g.y,i=x.x,a=x.y}else return o8(t);return[{x:r,y:o},{x:i,y:a}]}var U1={},z1={},F1={},sP;function nue(){return sP||(sP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=a6();function n(r){return t.isSymbol(r)?NaN:Number(r)}e.toNumber=n})(F1)),F1}var lP;function rue(){return lP||(lP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=nue();function n(r){return r?(r=t.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}e.toFinite=n})(z1)),z1}var cP;function oue(){return cP||(cP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=s6(),n=rue();function r(o,i,a){a&&typeof a!="number"&&t.isIterateeCall(o,i,a)&&(i=a=void 0),o=n.toFinite(o),i===void 0?(i=o,o=0):i=n.toFinite(i),a=a===void 0?o<i?1:-1:n.toFinite(a);const l=Math.max(Math.ceil((i-o)/(a||1)),0),u=new Array(l);for(let f=0;f<l;f++)u[f]=o,o+=a;return u}e.range=r})(U1)),U1}var q1,uP;function iue(){return uP||(uP=1,q1=oue().range),q1}var aue=iue();const s8=No(aue);function xs(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function sue(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function YN(e){let t,n,r;e.length!==2?(t=xs,n=(l,u)=>xs(e(l),u),r=(l,u)=>e(l)-u):(t=e===xs||e===sue?e:lue,n=e,r=e);function o(l,u,f=0,h=l.length){if(f<h){if(t(u,u)!==0)return h;do{const p=f+h>>>1;n(l[p],u)<0?f=p+1:h=p}while(f<h)}return f}function i(l,u,f=0,h=l.length){if(f<h){if(t(u,u)!==0)return h;do{const p=f+h>>>1;n(l[p],u)<=0?f=p+1:h=p}while(f<h)}return f}function a(l,u,f=0,h=l.length){const p=o(l,u,f,h-1);return p>f&&r(l[p-1],u)>-r(l[p],u)?p-1:p}return{left:o,center:a,right:i}}function lue(){return 0}function l8(e){return e===null?NaN:+e}function*cue(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const uue=YN(xs),rh=uue.right;YN(l8).center;class dP extends Map{constructor(t,n=hue){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,o]of t)this.set(r,o)}get(t){return super.get(fP(this,t))}has(t){return super.has(fP(this,t))}set(t,n){return super.set(due(this,t),n)}delete(t){return super.delete(fue(this,t))}}function fP({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function due({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function fue({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function hue(e){return e!==null&&typeof e=="object"?e.valueOf():e}function pue(e=xs){if(e===xs)return c8;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function c8(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const mue=Math.sqrt(50),gue=Math.sqrt(10),xue=Math.sqrt(2);function Yg(e,t,n){const r=(t-e)/Math.max(0,n),o=Math.floor(Math.log10(r)),i=r/Math.pow(10,o),a=i>=mue?10:i>=gue?5:i>=xue?2:1;let l,u,f;return o<0?(f=Math.pow(10,-o)/a,l=Math.round(e*f),u=Math.round(t*f),l/f<e&&++l,u/f>t&&--u,f=-f):(f=Math.pow(10,o)*a,l=Math.round(e/f),u=Math.round(t/f),l*f<e&&++l,u*f>t&&--u),u<l&&.5<=n&&n<2?Yg(e,t,n*2):[l,u,f]}function D2(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[o,i,a]=r?Yg(t,e,n):Yg(e,t,n);if(!(i>=o))return[];const l=i-o+1,u=new Array(l);if(r)if(a<0)for(let f=0;f<l;++f)u[f]=(i-f)/-a;else for(let f=0;f<l;++f)u[f]=(i-f)*a;else if(a<0)for(let f=0;f<l;++f)u[f]=(o+f)/-a;else for(let f=0;f<l;++f)u[f]=(o+f)*a;return u}function _2(e,t,n){return t=+t,e=+e,n=+n,Yg(e,t,n)[2]}function O2(e,t,n){t=+t,e=+e,n=+n;const r=t<e,o=r?_2(t,e,n):_2(e,t,n);return(r?-1:1)*(o<0?1/-o:o)}function hP(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function pP(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function u8(e,t,n=0,r=1/0,o){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(o=o===void 0?c8:pue(o);r>n;){if(r-n>600){const u=r-n+1,f=t-n+1,h=Math.log(u),p=.5*Math.exp(2*h/3),g=.5*Math.sqrt(h*p*(u-p)/u)*(f-u/2<0?-1:1),x=Math.max(n,Math.floor(t-f*p/u+g)),y=Math.min(r,Math.floor(t+(u-f)*p/u+g));u8(e,t,x,y,o)}const i=e[t];let a=n,l=r;for(qd(e,n,t),o(e[r],i)>0&&qd(e,n,r);a<l;){for(qd(e,a,l),++a,--l;o(e[a],i)<0;)++a;for(;o(e[l],i)>0;)--l}o(e[n],i)===0?qd(e,n,l):(++l,qd(e,l,r)),l<=t&&(n=l+1),t<=l&&(r=l-1)}return e}function qd(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function bue(e,t,n){if(e=Float64Array.from(cue(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return pP(e);if(t>=1)return hP(e);var r,o=(r-1)*t,i=Math.floor(o),a=hP(u8(e,i).subarray(0,i+1)),l=pP(e.subarray(i+1));return a+(l-a)*(o-i)}}function vue(e,t,n=l8){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,o=(r-1)*t,i=Math.floor(o),a=+n(e[i],i,e),l=+n(e[i+1],i+1,e);return a+(l-a)*(o-i)}}function yue(e,t,n){e=+e,t=+t,n=(o=arguments.length)<2?(t=e,e=0,1):o<3?1:+n;for(var r=-1,o=Math.max(0,Math.ceil((t-e)/n))|0,i=new Array(o);++r<o;)i[r]=e+r*n;return i}function So(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function pa(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const L2=Symbol("implicit");function XN(){var e=new dP,t=[],n=[],r=L2;function o(i){let a=e.get(i);if(a===void 0){if(r!==L2)return r;e.set(i,a=t.push(i)-1)}return n[a%n.length]}return o.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new dP;for(const a of i)e.has(a)||e.set(a,t.push(a)-1);return o},o.range=function(i){return arguments.length?(n=Array.from(i),o):n.slice()},o.unknown=function(i){return arguments.length?(r=i,o):r},o.copy=function(){return XN(t,n).unknown(r)},So.apply(o,arguments),o}function QN(){var e=XN().unknown(void 0),t=e.domain,n=e.range,r=0,o=1,i,a,l=!1,u=0,f=0,h=.5;delete e.unknown;function p(){var g=t().length,x=o<r,y=x?o:r,N=x?r:o;i=(N-y)/Math.max(1,g-u+f*2),l&&(i=Math.floor(i)),y+=(N-y-i*(g-u))*h,a=i*(1-u),l&&(y=Math.round(y),a=Math.round(a));var C=yue(g).map(function(A){return y+i*A});return n(x?C.reverse():C)}return e.domain=function(g){return arguments.length?(t(g),p()):t()},e.range=function(g){return arguments.length?([r,o]=g,r=+r,o=+o,p()):[r,o]},e.rangeRound=function(g){return[r,o]=g,r=+r,o=+o,l=!0,p()},e.bandwidth=function(){return a},e.step=function(){return i},e.round=function(g){return arguments.length?(l=!!g,p()):l},e.padding=function(g){return arguments.length?(u=Math.min(1,f=+g),p()):u},e.paddingInner=function(g){return arguments.length?(u=Math.min(1,g),p()):u},e.paddingOuter=function(g){return arguments.length?(f=+g,p()):f},e.align=function(g){return arguments.length?(h=Math.max(0,Math.min(1,g)),p()):h},e.copy=function(){return QN(t(),[r,o]).round(l).paddingInner(u).paddingOuter(f).align(h)},So.apply(p(),arguments)}function d8(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return d8(t())},e}function wue(){return d8(QN.apply(null,arguments).paddingInner(1))}function ZN(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function f8(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function oh(){}var Bf=.7,Xg=1/Bf,Yc="\\s*([+-]?\\d+)\\s*",Uf="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",si="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Cue=/^#([0-9a-f]{3,8})$/,Nue=new RegExp(`^rgb\\(${Yc},${Yc},${Yc}\\)$`),Sue=new RegExp(`^rgb\\(${si},${si},${si}\\)$`),Eue=new RegExp(`^rgba\\(${Yc},${Yc},${Yc},${Uf}\\)$`),jue=new RegExp(`^rgba\\(${si},${si},${si},${Uf}\\)$`),Aue=new RegExp(`^hsl\\(${Uf},${si},${si}\\)$`),Tue=new RegExp(`^hsla\\(${Uf},${si},${si},${Uf}\\)$`),mP={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ZN(oh,zf,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:gP,formatHex:gP,formatHex8:kue,formatHsl:Mue,formatRgb:xP,toString:xP});function gP(){return this.rgb().formatHex()}function kue(){return this.rgb().formatHex8()}function Mue(){return h8(this).formatHsl()}function xP(){return this.rgb().formatRgb()}function zf(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Cue.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?bP(t):n===3?new Nr(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?dm(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?dm(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Nue.exec(e))?new Nr(t[1],t[2],t[3],1):(t=Sue.exec(e))?new Nr(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Eue.exec(e))?dm(t[1],t[2],t[3],t[4]):(t=jue.exec(e))?dm(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Aue.exec(e))?wP(t[1],t[2]/100,t[3]/100,1):(t=Tue.exec(e))?wP(t[1],t[2]/100,t[3]/100,t[4]):mP.hasOwnProperty(e)?bP(mP[e]):e==="transparent"?new Nr(NaN,NaN,NaN,0):null}function bP(e){return new Nr(e>>16&255,e>>8&255,e&255,1)}function dm(e,t,n,r){return r<=0&&(e=t=n=NaN),new Nr(e,t,n,r)}function Pue(e){return e instanceof oh||(e=zf(e)),e?(e=e.rgb(),new Nr(e.r,e.g,e.b,e.opacity)):new Nr}function B2(e,t,n,r){return arguments.length===1?Pue(e):new Nr(e,t,n,r??1)}function Nr(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}ZN(Nr,B2,f8(oh,{brighter(e){return e=e==null?Xg:Math.pow(Xg,e),new Nr(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Bf:Math.pow(Bf,e),new Nr(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Nr(yl(this.r),yl(this.g),yl(this.b),Qg(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:vP,formatHex:vP,formatHex8:Rue,formatRgb:yP,toString:yP}));function vP(){return`#${cl(this.r)}${cl(this.g)}${cl(this.b)}`}function Rue(){return`#${cl(this.r)}${cl(this.g)}${cl(this.b)}${cl((isNaN(this.opacity)?1:this.opacity)*255)}`}function yP(){const e=Qg(this.opacity);return`${e===1?"rgb(":"rgba("}${yl(this.r)}, ${yl(this.g)}, ${yl(this.b)}${e===1?")":`, ${e})`}`}function Qg(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function yl(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function cl(e){return e=yl(e),(e<16?"0":"")+e.toString(16)}function wP(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new _o(e,t,n,r)}function h8(e){if(e instanceof _o)return new _o(e.h,e.s,e.l,e.opacity);if(e instanceof oh||(e=zf(e)),!e)return new _o;if(e instanceof _o)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,o=Math.min(t,n,r),i=Math.max(t,n,r),a=NaN,l=i-o,u=(i+o)/2;return l?(t===i?a=(n-r)/l+(n<r)*6:n===i?a=(r-t)/l+2:a=(t-n)/l+4,l/=u<.5?i+o:2-i-o,a*=60):l=u>0&&u<1?0:a,new _o(a,l,u,e.opacity)}function Iue(e,t,n,r){return arguments.length===1?h8(e):new _o(e,t,n,r??1)}function _o(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}ZN(_o,Iue,f8(oh,{brighter(e){return e=e==null?Xg:Math.pow(Xg,e),new _o(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Bf:Math.pow(Bf,e),new _o(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,o=2*n-r;return new Nr(H1(e>=240?e-240:e+120,o,r),H1(e,o,r),H1(e<120?e+240:e-120,o,r),this.opacity)},clamp(){return new _o(CP(this.h),fm(this.s),fm(this.l),Qg(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Qg(this.opacity);return`${e===1?"hsl(":"hsla("}${CP(this.h)}, ${fm(this.s)*100}%, ${fm(this.l)*100}%${e===1?")":`, ${e})`}`}}));function CP(e){return e=(e||0)%360,e<0?e+360:e}function fm(e){return Math.max(0,Math.min(1,e||0))}function H1(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const eS=e=>()=>e;function Due(e,t){return function(n){return e+n*t}}function _ue(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function Oue(e){return(e=+e)==1?p8:function(t,n){return n-t?_ue(t,n,e):eS(isNaN(t)?n:t)}}function p8(e,t){var n=t-e;return n?Due(e,n):eS(isNaN(e)?t:e)}const NP=(function e(t){var n=Oue(t);function r(o,i){var a=n((o=B2(o)).r,(i=B2(i)).r),l=n(o.g,i.g),u=n(o.b,i.b),f=p8(o.opacity,i.opacity);return function(h){return o.r=a(h),o.g=l(h),o.b=u(h),o.opacity=f(h),o+""}}return r.gamma=e,r})(1);function Lue(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),o;return function(i){for(o=0;o<n;++o)r[o]=e[o]*(1-i)+t[o]*i;return r}}function Bue(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Uue(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,o=new Array(r),i=new Array(n),a;for(a=0;a<r;++a)o[a]=Nu(e[a],t[a]);for(;a<n;++a)i[a]=t[a];return function(l){for(a=0;a<r;++a)i[a]=o[a](l);return i}}function zue(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Zg(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Fue(e,t){var n={},r={},o;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(o in t)o in e?n[o]=Nu(e[o],t[o]):r[o]=t[o];return function(i){for(o in n)r[o]=n[o](i);return r}}var U2=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,V1=new RegExp(U2.source,"g");function que(e){return function(){return e}}function Hue(e){return function(t){return e(t)+""}}function Vue(e,t){var n=U2.lastIndex=V1.lastIndex=0,r,o,i,a=-1,l=[],u=[];for(e=e+"",t=t+"";(r=U2.exec(e))&&(o=V1.exec(t));)(i=o.index)>n&&(i=t.slice(n,i),l[a]?l[a]+=i:l[++a]=i),(r=r[0])===(o=o[0])?l[a]?l[a]+=o:l[++a]=o:(l[++a]=null,u.push({i:a,x:Zg(r,o)})),n=V1.lastIndex;return n<t.length&&(i=t.slice(n),l[a]?l[a]+=i:l[++a]=i),l.length<2?u[0]?Hue(u[0].x):que(t):(t=u.length,function(f){for(var h=0,p;h<t;++h)l[(p=u[h]).i]=p.x(f);return l.join("")})}function Nu(e,t){var n=typeof t,r;return t==null||n==="boolean"?eS(t):(n==="number"?Zg:n==="string"?(r=zf(t))?(t=r,NP):Vue:t instanceof zf?NP:t instanceof Date?zue:Bue(t)?Lue:Array.isArray(t)?Uue:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Fue:Zg)(e,t)}function tS(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function $ue(e,t){t===void 0&&(t=e,e=Nu);for(var n=0,r=t.length-1,o=t[0],i=new Array(r<0?0:r);n<r;)i[n]=e(o,o=t[++n]);return function(a){var l=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return i[l](a-l)}}function Gue(e){return function(){return e}}function ex(e){return+e}var SP=[0,1];function ar(e){return e}function z2(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:Gue(isNaN(t)?NaN:.5)}function Kue(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function Wue(e,t,n){var r=e[0],o=e[1],i=t[0],a=t[1];return o<r?(r=z2(o,r),i=n(a,i)):(r=z2(r,o),i=n(i,a)),function(l){return i(r(l))}}function Jue(e,t,n){var r=Math.min(e.length,t.length)-1,o=new Array(r),i=new Array(r),a=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<r;)o[a]=z2(e[a],e[a+1]),i[a]=n(t[a],t[a+1]);return function(l){var u=rh(e,l,1,r)-1;return i[u](o[u](l))}}function ih(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function f0(){var e=SP,t=SP,n=Nu,r,o,i,a=ar,l,u,f;function h(){var g=Math.min(e.length,t.length);return a!==ar&&(a=Kue(e[0],e[g-1])),l=g>2?Jue:Wue,u=f=null,p}function p(g){return g==null||isNaN(g=+g)?i:(u||(u=l(e.map(r),t,n)))(r(a(g)))}return p.invert=function(g){return a(o((f||(f=l(t,e.map(r),Zg)))(g)))},p.domain=function(g){return arguments.length?(e=Array.from(g,ex),h()):e.slice()},p.range=function(g){return arguments.length?(t=Array.from(g),h()):t.slice()},p.rangeRound=function(g){return t=Array.from(g),n=tS,h()},p.clamp=function(g){return arguments.length?(a=g?!0:ar,h()):a!==ar},p.interpolate=function(g){return arguments.length?(n=g,h()):n},p.unknown=function(g){return arguments.length?(i=g,p):i},function(g,x){return r=g,o=x,h()}}function nS(){return f0()(ar,ar)}function Yue(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function tx(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function cu(e){return e=tx(Math.abs(e)),e?e[1]:NaN}function Xue(e,t){return function(n,r){for(var o=n.length,i=[],a=0,l=e[0],u=0;o>0&&l>0&&(u+l+1>r&&(l=Math.max(1,r-u)),i.push(n.substring(o-=l,o+l)),!((u+=l+1)>r));)l=e[a=(a+1)%e.length];return i.reverse().join(t)}}function Que(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var Zue=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ff(e){if(!(t=Zue.exec(e)))throw new Error("invalid format: "+e);var t;return new rS({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Ff.prototype=rS.prototype;function rS(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}rS.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function ede(e){e:for(var t=e.length,n=1,r=-1,o;n<t;++n)switch(e[n]){case".":r=o=n;break;case"0":r===0&&(r=n),o=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(o+1):e}var m8;function tde(e,t){var n=tx(e,t);if(!n)return e+"";var r=n[0],o=n[1],i=o-(m8=Math.max(-8,Math.min(8,Math.floor(o/3)))*3)+1,a=r.length;return i===a?r:i>a?r+new Array(i-a+1).join("0"):i>0?r.slice(0,i)+"."+r.slice(i):"0."+new Array(1-i).join("0")+tx(e,Math.max(0,t+i-1))[0]}function EP(e,t){var n=tx(e,t);if(!n)return e+"";var r=n[0],o=n[1];return o<0?"0."+new Array(-o).join("0")+r:r.length>o+1?r.slice(0,o+1)+"."+r.slice(o+1):r+new Array(o-r.length+2).join("0")}const jP={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Yue,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>EP(e*100,t),r:EP,s:tde,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function AP(e){return e}var TP=Array.prototype.map,kP=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function nde(e){var t=e.grouping===void 0||e.thousands===void 0?AP:Xue(TP.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",o=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?AP:Que(TP.call(e.numerals,String)),a=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",u=e.nan===void 0?"NaN":e.nan+"";function f(p){p=Ff(p);var g=p.fill,x=p.align,y=p.sign,N=p.symbol,C=p.zero,A=p.width,T=p.comma,k=p.precision,D=p.trim,R=p.type;R==="n"?(T=!0,R="g"):jP[R]||(k===void 0&&(k=12),D=!0,R="g"),(C||g==="0"&&x==="=")&&(C=!0,g="0",x="=");var I=N==="$"?n:N==="#"&&/[boxX]/.test(R)?"0"+R.toLowerCase():"",P=N==="$"?r:/[%p]/.test(R)?a:"",B=jP[R],L=/[defgprs%]/.test(R);k=k===void 0?6:/[gprs]/.test(R)?Math.max(1,Math.min(21,k)):Math.max(0,Math.min(20,k));function $(X){var q=I,W=P,ie,K,U;if(R==="c")W=B(X)+W,X="";else{X=+X;var V=X<0||1/X<0;if(X=isNaN(X)?u:B(Math.abs(X),k),D&&(X=ede(X)),V&&+X==0&&y!=="+"&&(V=!1),q=(V?y==="("?y:l:y==="-"||y==="("?"":y)+q,W=(R==="s"?kP[8+m8/3]:"")+W+(V&&y==="("?")":""),L){for(ie=-1,K=X.length;++ie<K;)if(U=X.charCodeAt(ie),48>U||U>57){W=(U===46?o+X.slice(ie+1):X.slice(ie))+W,X=X.slice(0,ie);break}}}T&&!C&&(X=t(X,1/0));var pe=q.length+X.length+W.length,be=pe<A?new Array(A-pe+1).join(g):"";switch(T&&C&&(X=t(be+X,be.length?A-W.length:1/0),be=""),x){case"<":X=q+X+W+be;break;case"=":X=q+be+X+W;break;case"^":X=be.slice(0,pe=be.length>>1)+q+X+W+be.slice(pe);break;default:X=be+q+X+W;break}return i(X)}return $.toString=function(){return p+""},$}function h(p,g){var x=f((p=Ff(p),p.type="f",p)),y=Math.max(-8,Math.min(8,Math.floor(cu(g)/3)))*3,N=Math.pow(10,-y),C=kP[8+y/3];return function(A){return x(N*A)+C}}return{format:f,formatPrefix:h}}var hm,oS,g8;rde({thousands:",",grouping:[3],currency:["$",""]});function rde(e){return hm=nde(e),oS=hm.format,g8=hm.formatPrefix,hm}function ode(e){return Math.max(0,-cu(Math.abs(e)))}function ide(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(cu(t)/3)))*3-cu(Math.abs(e)))}function ade(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,cu(t)-cu(e))+1}function x8(e,t,n,r){var o=O2(e,t,n),i;switch(r=Ff(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(i=ide(o,a))&&(r.precision=i),g8(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(i=ade(o,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=i-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(i=ode(o))&&(r.precision=i-(r.type==="%")*2);break}}return oS(r)}function Ts(e){var t=e.domain;return e.ticks=function(n){var r=t();return D2(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var o=t();return x8(o[0],o[o.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),o=0,i=r.length-1,a=r[o],l=r[i],u,f,h=10;for(l<a&&(f=a,a=l,l=f,f=o,o=i,i=f);h-- >0;){if(f=_2(a,l,n),f===u)return r[o]=a,r[i]=l,t(r);if(f>0)a=Math.floor(a/f)*f,l=Math.ceil(l/f)*f;else if(f<0)a=Math.ceil(a*f)/f,l=Math.floor(l*f)/f;else break;u=f}return e},e}function b8(){var e=nS();return e.copy=function(){return ih(e,b8())},So.apply(e,arguments),Ts(e)}function v8(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,ex),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return v8(e).unknown(t)},e=arguments.length?Array.from(e,ex):[0,1],Ts(n)}function y8(e,t){e=e.slice();var n=0,r=e.length-1,o=e[n],i=e[r],a;return i<o&&(a=n,n=r,r=a,a=o,o=i,i=a),e[n]=t.floor(o),e[r]=t.ceil(i),e}function MP(e){return Math.log(e)}function PP(e){return Math.exp(e)}function sde(e){return-Math.log(-e)}function lde(e){return-Math.exp(-e)}function cde(e){return isFinite(e)?+("1e"+e):e<0?0:e}function ude(e){return e===10?cde:e===Math.E?Math.exp:t=>Math.pow(e,t)}function dde(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function RP(e){return(t,n)=>-e(-t,n)}function iS(e){const t=e(MP,PP),n=t.domain;let r=10,o,i;function a(){return o=dde(r),i=ude(r),n()[0]<0?(o=RP(o),i=RP(i),e(sde,lde)):e(MP,PP),t}return t.base=function(l){return arguments.length?(r=+l,a()):r},t.domain=function(l){return arguments.length?(n(l),a()):n()},t.ticks=l=>{const u=n();let f=u[0],h=u[u.length-1];const p=h<f;p&&([f,h]=[h,f]);let g=o(f),x=o(h),y,N;const C=l==null?10:+l;let A=[];if(!(r%1)&&x-g<C){if(g=Math.floor(g),x=Math.ceil(x),f>0){for(;g<=x;++g)for(y=1;y<r;++y)if(N=g<0?y/i(-g):y*i(g),!(N<f)){if(N>h)break;A.push(N)}}else for(;g<=x;++g)for(y=r-1;y>=1;--y)if(N=g>0?y/i(-g):y*i(g),!(N<f)){if(N>h)break;A.push(N)}A.length*2<C&&(A=D2(f,h,C))}else A=D2(g,x,Math.min(x-g,C)).map(i);return p?A.reverse():A},t.tickFormat=(l,u)=>{if(l==null&&(l=10),u==null&&(u=r===10?"s":","),typeof u!="function"&&(!(r%1)&&(u=Ff(u)).precision==null&&(u.trim=!0),u=oS(u)),l===1/0)return u;const f=Math.max(1,r*l/t.ticks().length);return h=>{let p=h/i(Math.round(o(h)));return p*r<r-.5&&(p*=r),p<=f?u(h):""}},t.nice=()=>n(y8(n(),{floor:l=>i(Math.floor(o(l))),ceil:l=>i(Math.ceil(o(l)))})),t}function w8(){const e=iS(f0()).domain([1,10]);return e.copy=()=>ih(e,w8()).base(e.base()),So.apply(e,arguments),e}function IP(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function DP(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function aS(e){var t=1,n=e(IP(t),DP(t));return n.constant=function(r){return arguments.length?e(IP(t=+r),DP(t)):t},Ts(n)}function C8(){var e=aS(f0());return e.copy=function(){return ih(e,C8()).constant(e.constant())},So.apply(e,arguments)}function _P(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function fde(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function hde(e){return e<0?-e*e:e*e}function sS(e){var t=e(ar,ar),n=1;function r(){return n===1?e(ar,ar):n===.5?e(fde,hde):e(_P(n),_P(1/n))}return t.exponent=function(o){return arguments.length?(n=+o,r()):n},Ts(t)}function lS(){var e=sS(f0());return e.copy=function(){return ih(e,lS()).exponent(e.exponent())},So.apply(e,arguments),e}function pde(){return lS.apply(null,arguments).exponent(.5)}function OP(e){return Math.sign(e)*e*e}function mde(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function N8(){var e=nS(),t=[0,1],n=!1,r;function o(i){var a=mde(e(i));return isNaN(a)?r:n?Math.round(a):a}return o.invert=function(i){return e.invert(OP(i))},o.domain=function(i){return arguments.length?(e.domain(i),o):e.domain()},o.range=function(i){return arguments.length?(e.range((t=Array.from(i,ex)).map(OP)),o):t.slice()},o.rangeRound=function(i){return o.range(i).round(!0)},o.round=function(i){return arguments.length?(n=!!i,o):n},o.clamp=function(i){return arguments.length?(e.clamp(i),o):e.clamp()},o.unknown=function(i){return arguments.length?(r=i,o):r},o.copy=function(){return N8(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},So.apply(o,arguments),Ts(o)}function S8(){var e=[],t=[],n=[],r;function o(){var a=0,l=Math.max(1,t.length);for(n=new Array(l-1);++a<l;)n[a-1]=vue(e,a/l);return i}function i(a){return a==null||isNaN(a=+a)?r:t[rh(n,a)]}return i.invertExtent=function(a){var l=t.indexOf(a);return l<0?[NaN,NaN]:[l>0?n[l-1]:e[0],l<n.length?n[l]:e[e.length-1]]},i.domain=function(a){if(!arguments.length)return e.slice();e=[];for(let l of a)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(xs),o()},i.range=function(a){return arguments.length?(t=Array.from(a),o()):t.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.quantiles=function(){return n.slice()},i.copy=function(){return S8().domain(e).range(t).unknown(r)},So.apply(i,arguments)}function E8(){var e=0,t=1,n=1,r=[.5],o=[0,1],i;function a(u){return u!=null&&u<=u?o[rh(r,u,0,n)]:i}function l(){var u=-1;for(r=new Array(n);++u<n;)r[u]=((u+1)*t-(u-n)*e)/(n+1);return a}return a.domain=function(u){return arguments.length?([e,t]=u,e=+e,t=+t,l()):[e,t]},a.range=function(u){return arguments.length?(n=(o=Array.from(u)).length-1,l()):o.slice()},a.invertExtent=function(u){var f=o.indexOf(u);return f<0?[NaN,NaN]:f<1?[e,r[0]]:f>=n?[r[n-1],t]:[r[f-1],r[f]]},a.unknown=function(u){return arguments.length&&(i=u),a},a.thresholds=function(){return r.slice()},a.copy=function(){return E8().domain([e,t]).range(o).unknown(i)},So.apply(Ts(a),arguments)}function j8(){var e=[.5],t=[0,1],n,r=1;function o(i){return i!=null&&i<=i?t[rh(e,i,0,r)]:n}return o.domain=function(i){return arguments.length?(e=Array.from(i),r=Math.min(e.length,t.length-1),o):e.slice()},o.range=function(i){return arguments.length?(t=Array.from(i),r=Math.min(e.length,t.length-1),o):t.slice()},o.invertExtent=function(i){var a=t.indexOf(i);return[e[a-1],e[a]]},o.unknown=function(i){return arguments.length?(n=i,o):n},o.copy=function(){return j8().domain(e).range(t).unknown(n)},So.apply(o,arguments)}const $1=new Date,G1=new Date;function xn(e,t,n,r){function o(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return o.floor=i=>(e(i=new Date(+i)),i),o.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),o.round=i=>{const a=o(i),l=o.ceil(i);return i-a<l-i?a:l},o.offset=(i,a)=>(t(i=new Date(+i),a==null?1:Math.floor(a)),i),o.range=(i,a,l)=>{const u=[];if(i=o.ceil(i),l=l==null?1:Math.floor(l),!(i<a)||!(l>0))return u;let f;do u.push(f=new Date(+i)),t(i,l),e(i);while(f<i&&i<a);return u},o.filter=i=>xn(a=>{if(a>=a)for(;e(a),!i(a);)a.setTime(a-1)},(a,l)=>{if(a>=a)if(l<0)for(;++l<=0;)for(;t(a,-1),!i(a););else for(;--l>=0;)for(;t(a,1),!i(a););}),n&&(o.count=(i,a)=>($1.setTime(+i),G1.setTime(+a),e($1),e(G1),Math.floor(n($1,G1))),o.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?o.filter(r?a=>r(a)%i===0:a=>o.count(0,a)%i===0):o)),o}const nx=xn(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);nx.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?xn(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):nx);nx.range;const Ki=1e3,po=Ki*60,Wi=po*60,oa=Wi*24,cS=oa*7,LP=oa*30,K1=oa*365,ul=xn(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Ki)},(e,t)=>(t-e)/Ki,e=>e.getUTCSeconds());ul.range;const uS=xn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ki)},(e,t)=>{e.setTime(+e+t*po)},(e,t)=>(t-e)/po,e=>e.getMinutes());uS.range;const dS=xn(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*po)},(e,t)=>(t-e)/po,e=>e.getUTCMinutes());dS.range;const fS=xn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ki-e.getMinutes()*po)},(e,t)=>{e.setTime(+e+t*Wi)},(e,t)=>(t-e)/Wi,e=>e.getHours());fS.range;const hS=xn(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Wi)},(e,t)=>(t-e)/Wi,e=>e.getUTCHours());hS.range;const ah=xn(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*po)/oa,e=>e.getDate()-1);ah.range;const h0=xn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/oa,e=>e.getUTCDate()-1);h0.range;const A8=xn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/oa,e=>Math.floor(e/oa));A8.range;function Vl(e){return xn(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*po)/cS)}const p0=Vl(0),rx=Vl(1),gde=Vl(2),xde=Vl(3),uu=Vl(4),bde=Vl(5),vde=Vl(6);p0.range;rx.range;gde.range;xde.range;uu.range;bde.range;vde.range;function $l(e){return xn(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/cS)}const m0=$l(0),ox=$l(1),yde=$l(2),wde=$l(3),du=$l(4),Cde=$l(5),Nde=$l(6);m0.range;ox.range;yde.range;wde.range;du.range;Cde.range;Nde.range;const pS=xn(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());pS.range;const mS=xn(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());mS.range;const ia=xn(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());ia.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:xn(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});ia.range;const aa=xn(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());aa.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:xn(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});aa.range;function T8(e,t,n,r,o,i){const a=[[ul,1,Ki],[ul,5,5*Ki],[ul,15,15*Ki],[ul,30,30*Ki],[i,1,po],[i,5,5*po],[i,15,15*po],[i,30,30*po],[o,1,Wi],[o,3,3*Wi],[o,6,6*Wi],[o,12,12*Wi],[r,1,oa],[r,2,2*oa],[n,1,cS],[t,1,LP],[t,3,3*LP],[e,1,K1]];function l(f,h,p){const g=h<f;g&&([f,h]=[h,f]);const x=p&&typeof p.range=="function"?p:u(f,h,p),y=x?x.range(f,+h+1):[];return g?y.reverse():y}function u(f,h,p){const g=Math.abs(h-f)/p,x=YN(([,,C])=>C).right(a,g);if(x===a.length)return e.every(O2(f/K1,h/K1,p));if(x===0)return nx.every(Math.max(O2(f,h,p),1));const[y,N]=a[g/a[x-1][2]<a[x][2]/g?x-1:x];return y.every(N)}return[l,u]}const[Sde,Ede]=T8(aa,mS,m0,A8,hS,dS),[jde,Ade]=T8(ia,pS,p0,ah,fS,uS);function W1(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function J1(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Hd(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function Tde(e){var t=e.dateTime,n=e.date,r=e.time,o=e.periods,i=e.days,a=e.shortDays,l=e.months,u=e.shortMonths,f=Vd(o),h=$d(o),p=Vd(i),g=$d(i),x=Vd(a),y=$d(a),N=Vd(l),C=$d(l),A=Vd(u),T=$d(u),k={a:V,A:pe,b:be,B:je,c:null,d:HP,e:HP,f:Xde,g:sfe,G:cfe,H:Wde,I:Jde,j:Yde,L:k8,m:Qde,M:Zde,p:O,q:F,Q:GP,s:KP,S:efe,u:tfe,U:nfe,V:rfe,w:ofe,W:ife,x:null,X:null,y:afe,Y:lfe,Z:ufe,"%":$P},D={a:te,A:fe,b:xe,B:De,c:null,d:VP,e:VP,f:pfe,g:Sfe,G:jfe,H:dfe,I:ffe,j:hfe,L:P8,m:mfe,M:gfe,p:Le,q:Oe,Q:GP,s:KP,S:xfe,u:bfe,U:vfe,V:yfe,w:wfe,W:Cfe,x:null,X:null,y:Nfe,Y:Efe,Z:Afe,"%":$P},R={a:$,A:X,b:q,B:W,c:ie,d:FP,e:FP,f:Vde,g:zP,G:UP,H:qP,I:qP,j:zde,L:Hde,m:Ude,M:Fde,p:L,q:Bde,Q:Gde,s:Kde,S:qde,u:Ide,U:Dde,V:_de,w:Rde,W:Ode,x:K,X:U,y:zP,Y:UP,Z:Lde,"%":$de};k.x=I(n,k),k.X=I(r,k),k.c=I(t,k),D.x=I(n,D),D.X=I(r,D),D.c=I(t,D);function I(re,Re){return function(Te){var de=[],Ge=-1,Be=0,et=re.length,qt,Hn,Wt;for(Te instanceof Date||(Te=new Date(+Te));++Ge<et;)re.charCodeAt(Ge)===37&&(de.push(re.slice(Be,Ge)),(Hn=BP[qt=re.charAt(++Ge)])!=null?qt=re.charAt(++Ge):Hn=qt==="e"?" ":"0",(Wt=Re[qt])&&(qt=Wt(Te,Hn)),de.push(qt),Be=Ge+1);return de.push(re.slice(Be,Ge)),de.join("")}}function P(re,Re){return function(Te){var de=Hd(1900,void 0,1),Ge=B(de,re,Te+="",0),Be,et;if(Ge!=Te.length)return null;if("Q"in de)return new Date(de.Q);if("s"in de)return new Date(de.s*1e3+("L"in de?de.L:0));if(Re&&!("Z"in de)&&(de.Z=0),"p"in de&&(de.H=de.H%12+de.p*12),de.m===void 0&&(de.m="q"in de?de.q:0),"V"in de){if(de.V<1||de.V>53)return null;"w"in de||(de.w=1),"Z"in de?(Be=J1(Hd(de.y,0,1)),et=Be.getUTCDay(),Be=et>4||et===0?ox.ceil(Be):ox(Be),Be=h0.offset(Be,(de.V-1)*7),de.y=Be.getUTCFullYear(),de.m=Be.getUTCMonth(),de.d=Be.getUTCDate()+(de.w+6)%7):(Be=W1(Hd(de.y,0,1)),et=Be.getDay(),Be=et>4||et===0?rx.ceil(Be):rx(Be),Be=ah.offset(Be,(de.V-1)*7),de.y=Be.getFullYear(),de.m=Be.getMonth(),de.d=Be.getDate()+(de.w+6)%7)}else("W"in de||"U"in de)&&("w"in de||(de.w="u"in de?de.u%7:"W"in de?1:0),et="Z"in de?J1(Hd(de.y,0,1)).getUTCDay():W1(Hd(de.y,0,1)).getDay(),de.m=0,de.d="W"in de?(de.w+6)%7+de.W*7-(et+5)%7:de.w+de.U*7-(et+6)%7);return"Z"in de?(de.H+=de.Z/100|0,de.M+=de.Z%100,J1(de)):W1(de)}}function B(re,Re,Te,de){for(var Ge=0,Be=Re.length,et=Te.length,qt,Hn;Ge<Be;){if(de>=et)return-1;if(qt=Re.charCodeAt(Ge++),qt===37){if(qt=Re.charAt(Ge++),Hn=R[qt in BP?Re.charAt(Ge++):qt],!Hn||(de=Hn(re,Te,de))<0)return-1}else if(qt!=Te.charCodeAt(de++))return-1}return de}function L(re,Re,Te){var de=f.exec(Re.slice(Te));return de?(re.p=h.get(de[0].toLowerCase()),Te+de[0].length):-1}function $(re,Re,Te){var de=x.exec(Re.slice(Te));return de?(re.w=y.get(de[0].toLowerCase()),Te+de[0].length):-1}function X(re,Re,Te){var de=p.exec(Re.slice(Te));return de?(re.w=g.get(de[0].toLowerCase()),Te+de[0].length):-1}function q(re,Re,Te){var de=A.exec(Re.slice(Te));return de?(re.m=T.get(de[0].toLowerCase()),Te+de[0].length):-1}function W(re,Re,Te){var de=N.exec(Re.slice(Te));return de?(re.m=C.get(de[0].toLowerCase()),Te+de[0].length):-1}function ie(re,Re,Te){return B(re,t,Re,Te)}function K(re,Re,Te){return B(re,n,Re,Te)}function U(re,Re,Te){return B(re,r,Re,Te)}function V(re){return a[re.getDay()]}function pe(re){return i[re.getDay()]}function be(re){return u[re.getMonth()]}function je(re){return l[re.getMonth()]}function O(re){return o[+(re.getHours()>=12)]}function F(re){return 1+~~(re.getMonth()/3)}function te(re){return a[re.getUTCDay()]}function fe(re){return i[re.getUTCDay()]}function xe(re){return u[re.getUTCMonth()]}function De(re){return l[re.getUTCMonth()]}function Le(re){return o[+(re.getUTCHours()>=12)]}function Oe(re){return 1+~~(re.getUTCMonth()/3)}return{format:function(re){var Re=I(re+="",k);return Re.toString=function(){return re},Re},parse:function(re){var Re=P(re+="",!1);return Re.toString=function(){return re},Re},utcFormat:function(re){var Re=I(re+="",D);return Re.toString=function(){return re},Re},utcParse:function(re){var Re=P(re+="",!0);return Re.toString=function(){return re},Re}}}var BP={"-":"",_:" ",0:"0"},Pn=/^\s*\d+/,kde=/^%/,Mde=/[\\^$*+?|[\]().{}]/g;function ot(e,t,n){var r=e<0?"-":"",o=(r?-e:e)+"",i=o.length;return r+(i<n?new Array(n-i+1).join(t)+o:o)}function Pde(e){return e.replace(Mde,"\\$&")}function Vd(e){return new RegExp("^(?:"+e.map(Pde).join("|")+")","i")}function $d(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function Rde(e,t,n){var r=Pn.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function Ide(e,t,n){var r=Pn.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function Dde(e,t,n){var r=Pn.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function _de(e,t,n){var r=Pn.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function Ode(e,t,n){var r=Pn.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function UP(e,t,n){var r=Pn.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function zP(e,t,n){var r=Pn.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Lde(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Bde(e,t,n){var r=Pn.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function Ude(e,t,n){var r=Pn.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function FP(e,t,n){var r=Pn.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function zde(e,t,n){var r=Pn.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function qP(e,t,n){var r=Pn.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function Fde(e,t,n){var r=Pn.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function qde(e,t,n){var r=Pn.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function Hde(e,t,n){var r=Pn.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function Vde(e,t,n){var r=Pn.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function $de(e,t,n){var r=kde.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function Gde(e,t,n){var r=Pn.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function Kde(e,t,n){var r=Pn.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function HP(e,t){return ot(e.getDate(),t,2)}function Wde(e,t){return ot(e.getHours(),t,2)}function Jde(e,t){return ot(e.getHours()%12||12,t,2)}function Yde(e,t){return ot(1+ah.count(ia(e),e),t,3)}function k8(e,t){return ot(e.getMilliseconds(),t,3)}function Xde(e,t){return k8(e,t)+"000"}function Qde(e,t){return ot(e.getMonth()+1,t,2)}function Zde(e,t){return ot(e.getMinutes(),t,2)}function efe(e,t){return ot(e.getSeconds(),t,2)}function tfe(e){var t=e.getDay();return t===0?7:t}function nfe(e,t){return ot(p0.count(ia(e)-1,e),t,2)}function M8(e){var t=e.getDay();return t>=4||t===0?uu(e):uu.ceil(e)}function rfe(e,t){return e=M8(e),ot(uu.count(ia(e),e)+(ia(e).getDay()===4),t,2)}function ofe(e){return e.getDay()}function ife(e,t){return ot(rx.count(ia(e)-1,e),t,2)}function afe(e,t){return ot(e.getFullYear()%100,t,2)}function sfe(e,t){return e=M8(e),ot(e.getFullYear()%100,t,2)}function lfe(e,t){return ot(e.getFullYear()%1e4,t,4)}function cfe(e,t){var n=e.getDay();return e=n>=4||n===0?uu(e):uu.ceil(e),ot(e.getFullYear()%1e4,t,4)}function ufe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+ot(t/60|0,"0",2)+ot(t%60,"0",2)}function VP(e,t){return ot(e.getUTCDate(),t,2)}function dfe(e,t){return ot(e.getUTCHours(),t,2)}function ffe(e,t){return ot(e.getUTCHours()%12||12,t,2)}function hfe(e,t){return ot(1+h0.count(aa(e),e),t,3)}function P8(e,t){return ot(e.getUTCMilliseconds(),t,3)}function pfe(e,t){return P8(e,t)+"000"}function mfe(e,t){return ot(e.getUTCMonth()+1,t,2)}function gfe(e,t){return ot(e.getUTCMinutes(),t,2)}function xfe(e,t){return ot(e.getUTCSeconds(),t,2)}function bfe(e){var t=e.getUTCDay();return t===0?7:t}function vfe(e,t){return ot(m0.count(aa(e)-1,e),t,2)}function R8(e){var t=e.getUTCDay();return t>=4||t===0?du(e):du.ceil(e)}function yfe(e,t){return e=R8(e),ot(du.count(aa(e),e)+(aa(e).getUTCDay()===4),t,2)}function wfe(e){return e.getUTCDay()}function Cfe(e,t){return ot(ox.count(aa(e)-1,e),t,2)}function Nfe(e,t){return ot(e.getUTCFullYear()%100,t,2)}function Sfe(e,t){return e=R8(e),ot(e.getUTCFullYear()%100,t,2)}function Efe(e,t){return ot(e.getUTCFullYear()%1e4,t,4)}function jfe(e,t){var n=e.getUTCDay();return e=n>=4||n===0?du(e):du.ceil(e),ot(e.getUTCFullYear()%1e4,t,4)}function Afe(){return"+0000"}function $P(){return"%"}function GP(e){return+e}function KP(e){return Math.floor(+e/1e3)}var Ic,I8,D8;Tfe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Tfe(e){return Ic=Tde(e),I8=Ic.format,Ic.parse,D8=Ic.utcFormat,Ic.utcParse,Ic}function kfe(e){return new Date(e)}function Mfe(e){return e instanceof Date?+e:+new Date(+e)}function gS(e,t,n,r,o,i,a,l,u,f){var h=nS(),p=h.invert,g=h.domain,x=f(".%L"),y=f(":%S"),N=f("%I:%M"),C=f("%I %p"),A=f("%a %d"),T=f("%b %d"),k=f("%B"),D=f("%Y");function R(I){return(u(I)<I?x:l(I)<I?y:a(I)<I?N:i(I)<I?C:r(I)<I?o(I)<I?A:T:n(I)<I?k:D)(I)}return h.invert=function(I){return new Date(p(I))},h.domain=function(I){return arguments.length?g(Array.from(I,Mfe)):g().map(kfe)},h.ticks=function(I){var P=g();return e(P[0],P[P.length-1],I??10)},h.tickFormat=function(I,P){return P==null?R:f(P)},h.nice=function(I){var P=g();return(!I||typeof I.range!="function")&&(I=t(P[0],P[P.length-1],I??10)),I?g(y8(P,I)):h},h.copy=function(){return ih(h,gS(e,t,n,r,o,i,a,l,u,f))},h}function Pfe(){return So.apply(gS(jde,Ade,ia,pS,p0,ah,fS,uS,ul,I8).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Rfe(){return So.apply(gS(Sde,Ede,aa,mS,m0,h0,hS,dS,ul,D8).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function g0(){var e=0,t=1,n,r,o,i,a=ar,l=!1,u;function f(p){return p==null||isNaN(p=+p)?u:a(o===0?.5:(p=(i(p)-n)*o,l?Math.max(0,Math.min(1,p)):p))}f.domain=function(p){return arguments.length?([e,t]=p,n=i(e=+e),r=i(t=+t),o=n===r?0:1/(r-n),f):[e,t]},f.clamp=function(p){return arguments.length?(l=!!p,f):l},f.interpolator=function(p){return arguments.length?(a=p,f):a};function h(p){return function(g){var x,y;return arguments.length?([x,y]=g,a=p(x,y),f):[a(0),a(1)]}}return f.range=h(Nu),f.rangeRound=h(tS),f.unknown=function(p){return arguments.length?(u=p,f):u},function(p){return i=p,n=p(e),r=p(t),o=n===r?0:1/(r-n),f}}function ks(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function _8(){var e=Ts(g0()(ar));return e.copy=function(){return ks(e,_8())},pa.apply(e,arguments)}function O8(){var e=iS(g0()).domain([1,10]);return e.copy=function(){return ks(e,O8()).base(e.base())},pa.apply(e,arguments)}function L8(){var e=aS(g0());return e.copy=function(){return ks(e,L8()).constant(e.constant())},pa.apply(e,arguments)}function xS(){var e=sS(g0());return e.copy=function(){return ks(e,xS()).exponent(e.exponent())},pa.apply(e,arguments)}function Ife(){return xS.apply(null,arguments).exponent(.5)}function B8(){var e=[],t=ar;function n(r){if(r!=null&&!isNaN(r=+r))return t((rh(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let o of r)o!=null&&!isNaN(o=+o)&&e.push(o);return e.sort(xs),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,o)=>t(o/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(o,i)=>bue(e,i/r))},n.copy=function(){return B8(t).domain(e)},pa.apply(n,arguments)}function x0(){var e=0,t=.5,n=1,r=1,o,i,a,l,u,f=ar,h,p=!1,g;function x(N){return isNaN(N=+N)?g:(N=.5+((N=+h(N))-i)*(r*N<r*i?l:u),f(p?Math.max(0,Math.min(1,N)):N))}x.domain=function(N){return arguments.length?([e,t,n]=N,o=h(e=+e),i=h(t=+t),a=h(n=+n),l=o===i?0:.5/(i-o),u=i===a?0:.5/(a-i),r=i<o?-1:1,x):[e,t,n]},x.clamp=function(N){return arguments.length?(p=!!N,x):p},x.interpolator=function(N){return arguments.length?(f=N,x):f};function y(N){return function(C){var A,T,k;return arguments.length?([A,T,k]=C,f=$ue(N,[A,T,k]),x):[f(0),f(.5),f(1)]}}return x.range=y(Nu),x.rangeRound=y(tS),x.unknown=function(N){return arguments.length?(g=N,x):g},function(N){return h=N,o=N(e),i=N(t),a=N(n),l=o===i?0:.5/(i-o),u=i===a?0:.5/(a-i),r=i<o?-1:1,x}}function U8(){var e=Ts(x0()(ar));return e.copy=function(){return ks(e,U8())},pa.apply(e,arguments)}function z8(){var e=iS(x0()).domain([.1,1,10]);return e.copy=function(){return ks(e,z8()).base(e.base())},pa.apply(e,arguments)}function F8(){var e=aS(x0());return e.copy=function(){return ks(e,F8()).constant(e.constant())},pa.apply(e,arguments)}function bS(){var e=sS(x0());return e.copy=function(){return ks(e,bS()).exponent(e.exponent())},pa.apply(e,arguments)}function Dfe(){return bS.apply(null,arguments).exponent(.5)}const tf=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:QN,scaleDiverging:U8,scaleDivergingLog:z8,scaleDivergingPow:bS,scaleDivergingSqrt:Dfe,scaleDivergingSymlog:F8,scaleIdentity:v8,scaleImplicit:L2,scaleLinear:b8,scaleLog:w8,scaleOrdinal:XN,scalePoint:wue,scalePow:lS,scaleQuantile:S8,scaleQuantize:E8,scaleRadial:N8,scaleSequential:_8,scaleSequentialLog:O8,scaleSequentialPow:xS,scaleSequentialQuantile:B8,scaleSequentialSqrt:Ife,scaleSequentialSymlog:L8,scaleSqrt:pde,scaleSymlog:C8,scaleThreshold:j8,scaleTime:Pfe,scaleUtc:Rfe,tickFormat:x8},Symbol.toStringTag,{value:"Module"}));var Ms=e=>e.chartData,vS=Z([Ms],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),yS=(e,t,n,r)=>r?vS(e):Ms(e);function Il(e){if(Array.isArray(e)&&e.length===2){var[t,n]=e;if(Ar(t)&&Ar(n))return!0}return!1}function WP(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function q8(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[n,r]=e,o,i;if(Ar(n))o=n;else if(typeof n=="function")return;if(Ar(r))i=r;else if(typeof r=="function")return;var a=[o,i];if(Il(a))return a}}function _fe(e,t,n){if(!(!n&&t==null)){if(typeof e=="function"&&t!=null)try{var r=e(t,n);if(Il(r))return WP(r,t,n)}catch{}if(Array.isArray(e)&&e.length===2){var[o,i]=e,a,l;if(o==="auto")t!=null&&(a=Math.min(...t));else if(Ie(o))a=o;else if(typeof o=="function")try{t!=null&&(a=o(t==null?void 0:t[0]))}catch{}else if(typeof o=="string"&&P4.test(o)){var u=P4.exec(o);if(u==null||t==null)a=void 0;else{var f=+u[1];a=t[0]-f}}else a=t==null?void 0:t[0];if(i==="auto")t!=null&&(l=Math.max(...t));else if(Ie(i))l=i;else if(typeof i=="function")try{t!=null&&(l=i(t==null?void 0:t[1]))}catch{}else if(typeof i=="string"&&R4.test(i)){var h=R4.exec(i);if(h==null||t==null)l=void 0;else{var p=+h[1];l=t[1]+p}}else l=t==null?void 0:t[1];var g=[a,l];if(Il(g))return t==null?g:WP(g,t,n)}}}var Su=1e9,Ofe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},CS,Dt=!0,Co="[DecimalError] ",wl=Co+"Invalid argument: ",wS=Co+"Exponent out of range: ",Eu=Math.floor,rl=Math.pow,Lfe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Fr,Nn=1e7,Pt=7,H8=9007199254740991,ix=Eu(H8/Pt),Ce={};Ce.absoluteValue=Ce.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Ce.comparedTo=Ce.cmp=function(e){var t,n,r,o,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(r=i.d.length,o=e.d.length,t=0,n=r<o?r:o;t<n;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return r===o?0:r>o^i.s<0?1:-1};Ce.decimalPlaces=Ce.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*Pt;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};Ce.dividedBy=Ce.div=function(e){return Zi(this,new this.constructor(e))};Ce.dividedToIntegerBy=Ce.idiv=function(e){var t=this,n=t.constructor;return Nt(Zi(t,new n(e),0,1),n.precision)};Ce.equals=Ce.eq=function(e){return!this.cmp(e)};Ce.exponent=function(){return un(this)};Ce.greaterThan=Ce.gt=function(e){return this.cmp(e)>0};Ce.greaterThanOrEqualTo=Ce.gte=function(e){return this.cmp(e)>=0};Ce.isInteger=Ce.isint=function(){return this.e>this.d.length-2};Ce.isNegative=Ce.isneg=function(){return this.s<0};Ce.isPositive=Ce.ispos=function(){return this.s>0};Ce.isZero=function(){return this.s===0};Ce.lessThan=Ce.lt=function(e){return this.cmp(e)<0};Ce.lessThanOrEqualTo=Ce.lte=function(e){return this.cmp(e)<1};Ce.logarithm=Ce.log=function(e){var t,n=this,r=n.constructor,o=r.precision,i=o+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(Fr))throw Error(Co+"NaN");if(n.s<1)throw Error(Co+(n.s?"NaN":"-Infinity"));return n.eq(Fr)?new r(0):(Dt=!1,t=Zi(qf(n,i),qf(e,i),i),Dt=!0,Nt(t,o))};Ce.minus=Ce.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?G8(t,e):V8(t,(e.s=-e.s,e))};Ce.modulo=Ce.mod=function(e){var t,n=this,r=n.constructor,o=r.precision;if(e=new r(e),!e.s)throw Error(Co+"NaN");return n.s?(Dt=!1,t=Zi(n,e,0,1).times(e),Dt=!0,n.minus(t)):Nt(new r(n),o)};Ce.naturalExponential=Ce.exp=function(){return $8(this)};Ce.naturalLogarithm=Ce.ln=function(){return qf(this)};Ce.negated=Ce.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Ce.plus=Ce.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?V8(t,e):G8(t,(e.s=-e.s,e))};Ce.precision=Ce.sd=function(e){var t,n,r,o=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(wl+e);if(t=un(o)+1,r=o.d.length-1,n=r*Pt+1,r=o.d[r],r){for(;r%10==0;r/=10)n--;for(r=o.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};Ce.squareRoot=Ce.sqrt=function(){var e,t,n,r,o,i,a,l=this,u=l.constructor;if(l.s<1){if(!l.s)return new u(0);throw Error(Co+"NaN")}for(e=un(l),Dt=!1,o=Math.sqrt(+l),o==0||o==1/0?(t=ai(l.d),(t.length+e)%2==0&&(t+="0"),o=Math.sqrt(t),e=Eu((e+1)/2)-(e<0||e%2),o==1/0?t="5e"+e:(t=o.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new u(t)):r=new u(o.toString()),n=u.precision,o=a=n+3;;)if(i=r,r=i.plus(Zi(l,i,a+2)).times(.5),ai(i.d).slice(0,a)===(t=ai(r.d)).slice(0,a)){if(t=t.slice(a-3,a+1),o==a&&t=="4999"){if(Nt(i,n+1,0),i.times(i).eq(l)){r=i;break}}else if(t!="9999")break;a+=4}return Dt=!0,Nt(r,n)};Ce.times=Ce.mul=function(e){var t,n,r,o,i,a,l,u,f,h=this,p=h.constructor,g=h.d,x=(e=new p(e)).d;if(!h.s||!e.s)return new p(0);for(e.s*=h.s,n=h.e+e.e,u=g.length,f=x.length,u<f&&(i=g,g=x,x=i,a=u,u=f,f=a),i=[],a=u+f,r=a;r--;)i.push(0);for(r=f;--r>=0;){for(t=0,o=u+r;o>r;)l=i[o]+x[r]*g[o-r-1]+t,i[o--]=l%Nn|0,t=l/Nn|0;i[o]=(i[o]+t)%Nn|0}for(;!i[--a];)i.pop();return t?++n:i.shift(),e.d=i,e.e=n,Dt?Nt(e,p.precision):e};Ce.toDecimalPlaces=Ce.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(hi(e,0,Su),t===void 0?t=r.rounding:hi(t,0,8),Nt(n,e+un(n)+1,t))};Ce.toExponential=function(e,t){var n,r=this,o=r.constructor;return e===void 0?n=Dl(r,!0):(hi(e,0,Su),t===void 0?t=o.rounding:hi(t,0,8),r=Nt(new o(r),e+1,t),n=Dl(r,!0,e+1)),n};Ce.toFixed=function(e,t){var n,r,o=this,i=o.constructor;return e===void 0?Dl(o):(hi(e,0,Su),t===void 0?t=i.rounding:hi(t,0,8),r=Nt(new i(o),e+un(o)+1,t),n=Dl(r.abs(),!1,e+un(r)+1),o.isneg()&&!o.isZero()?"-"+n:n)};Ce.toInteger=Ce.toint=function(){var e=this,t=e.constructor;return Nt(new t(e),un(e)+1,t.rounding)};Ce.toNumber=function(){return+this};Ce.toPower=Ce.pow=function(e){var t,n,r,o,i,a,l=this,u=l.constructor,f=12,h=+(e=new u(e));if(!e.s)return new u(Fr);if(l=new u(l),!l.s){if(e.s<1)throw Error(Co+"Infinity");return l}if(l.eq(Fr))return l;if(r=u.precision,e.eq(Fr))return Nt(l,r);if(t=e.e,n=e.d.length-1,a=t>=n,i=l.s,a){if((n=h<0?-h:h)<=H8){for(o=new u(Fr),t=Math.ceil(r/Pt+4),Dt=!1;n%2&&(o=o.times(l),YP(o.d,t)),n=Eu(n/2),n!==0;)l=l.times(l),YP(l.d,t);return Dt=!0,e.s<0?new u(Fr).div(o):Nt(o,r)}}else if(i<0)throw Error(Co+"NaN");return i=i<0&&e.d[Math.max(t,n)]&1?-1:1,l.s=1,Dt=!1,o=e.times(qf(l,r+f)),Dt=!0,o=$8(o),o.s=i,o};Ce.toPrecision=function(e,t){var n,r,o=this,i=o.constructor;return e===void 0?(n=un(o),r=Dl(o,n<=i.toExpNeg||n>=i.toExpPos)):(hi(e,1,Su),t===void 0?t=i.rounding:hi(t,0,8),o=Nt(new i(o),e,t),n=un(o),r=Dl(o,e<=n||n<=i.toExpNeg,e)),r};Ce.toSignificantDigits=Ce.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(hi(e,1,Su),t===void 0?t=r.rounding:hi(t,0,8)),Nt(new r(n),e,t)};Ce.toString=Ce.valueOf=Ce.val=Ce.toJSON=Ce[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=un(e),n=e.constructor;return Dl(e,t<=n.toExpNeg||t>=n.toExpPos)};function V8(e,t){var n,r,o,i,a,l,u,f,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s||(t=new h(e)),Dt?Nt(t,p):t;if(u=e.d,f=t.d,a=e.e,o=t.e,u=u.slice(),i=a-o,i){for(i<0?(r=u,i=-i,l=f.length):(r=f,o=a,l=u.length),a=Math.ceil(p/Pt),l=a>l?a+1:l+1,i>l&&(i=l,r.length=1),r.reverse();i--;)r.push(0);r.reverse()}for(l=u.length,i=f.length,l-i<0&&(i=l,r=f,f=u,u=r),n=0;i;)n=(u[--i]=u[i]+f[i]+n)/Nn|0,u[i]%=Nn;for(n&&(u.unshift(n),++o),l=u.length;u[--l]==0;)u.pop();return t.d=u,t.e=o,Dt?Nt(t,p):t}function hi(e,t,n){if(e!==~~e||e<t||e>n)throw Error(wl+e)}function ai(e){var t,n,r,o=e.length-1,i="",a=e[0];if(o>0){for(i+=a,t=1;t<o;t++)r=e[t]+"",n=Pt-r.length,n&&(i+=is(n)),i+=r;a=e[t],r=a+"",n=Pt-r.length,n&&(i+=is(n))}else if(a===0)return"0";for(;a%10===0;)a/=10;return i+a}var Zi=(function(){function e(r,o){var i,a=0,l=r.length;for(r=r.slice();l--;)i=r[l]*o+a,r[l]=i%Nn|0,a=i/Nn|0;return a&&r.unshift(a),r}function t(r,o,i,a){var l,u;if(i!=a)u=i>a?1:-1;else for(l=u=0;l<i;l++)if(r[l]!=o[l]){u=r[l]>o[l]?1:-1;break}return u}function n(r,o,i){for(var a=0;i--;)r[i]-=a,a=r[i]<o[i]?1:0,r[i]=a*Nn+r[i]-o[i];for(;!r[0]&&r.length>1;)r.shift()}return function(r,o,i,a){var l,u,f,h,p,g,x,y,N,C,A,T,k,D,R,I,P,B,L=r.constructor,$=r.s==o.s?1:-1,X=r.d,q=o.d;if(!r.s)return new L(r);if(!o.s)throw Error(Co+"Division by zero");for(u=r.e-o.e,P=q.length,R=X.length,x=new L($),y=x.d=[],f=0;q[f]==(X[f]||0);)++f;if(q[f]>(X[f]||0)&&--u,i==null?T=i=L.precision:a?T=i+(un(r)-un(o))+1:T=i,T<0)return new L(0);if(T=T/Pt+2|0,f=0,P==1)for(h=0,q=q[0],T++;(f<R||h)&&T--;f++)k=h*Nn+(X[f]||0),y[f]=k/q|0,h=k%q|0;else{for(h=Nn/(q[0]+1)|0,h>1&&(q=e(q,h),X=e(X,h),P=q.length,R=X.length),D=P,N=X.slice(0,P),C=N.length;C<P;)N[C++]=0;B=q.slice(),B.unshift(0),I=q[0],q[1]>=Nn/2&&++I;do h=0,l=t(q,N,P,C),l<0?(A=N[0],P!=C&&(A=A*Nn+(N[1]||0)),h=A/I|0,h>1?(h>=Nn&&(h=Nn-1),p=e(q,h),g=p.length,C=N.length,l=t(p,N,g,C),l==1&&(h--,n(p,P<g?B:q,g))):(h==0&&(l=h=1),p=q.slice()),g=p.length,g<C&&p.unshift(0),n(N,p,C),l==-1&&(C=N.length,l=t(q,N,P,C),l<1&&(h++,n(N,P<C?B:q,C))),C=N.length):l===0&&(h++,N=[0]),y[f++]=h,l&&N[0]?N[C++]=X[D]||0:(N=[X[D]],C=1);while((D++<R||N[0]!==void 0)&&T--)}return y[0]||y.shift(),x.e=u,Nt(x,a?i+un(x)+1:i)}})();function $8(e,t){var n,r,o,i,a,l,u=0,f=0,h=e.constructor,p=h.precision;if(un(e)>16)throw Error(wS+un(e));if(!e.s)return new h(Fr);for(Dt=!1,l=p,a=new h(.03125);e.abs().gte(.1);)e=e.times(a),f+=5;for(r=Math.log(rl(2,f))/Math.LN10*2+5|0,l+=r,n=o=i=new h(Fr),h.precision=l;;){if(o=Nt(o.times(e),l),n=n.times(++u),a=i.plus(Zi(o,n,l)),ai(a.d).slice(0,l)===ai(i.d).slice(0,l)){for(;f--;)i=Nt(i.times(i),l);return h.precision=p,t==null?(Dt=!0,Nt(i,p)):i}i=a}}function un(e){for(var t=e.e*Pt,n=e.d[0];n>=10;n/=10)t++;return t}function Y1(e,t,n){if(t>e.LN10.sd())throw Dt=!0,n&&(e.precision=n),Error(Co+"LN10 precision limit exceeded");return Nt(new e(e.LN10),t)}function is(e){for(var t="";e--;)t+="0";return t}function qf(e,t){var n,r,o,i,a,l,u,f,h,p=1,g=10,x=e,y=x.d,N=x.constructor,C=N.precision;if(x.s<1)throw Error(Co+(x.s?"NaN":"-Infinity"));if(x.eq(Fr))return new N(0);if(t==null?(Dt=!1,f=C):f=t,x.eq(10))return t==null&&(Dt=!0),Y1(N,f);if(f+=g,N.precision=f,n=ai(y),r=n.charAt(0),i=un(x),Math.abs(i)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)x=x.times(e),n=ai(x.d),r=n.charAt(0),p++;i=un(x),r>1?(x=new N("0."+n),i++):x=new N(r+"."+n.slice(1))}else return u=Y1(N,f+2,C).times(i+""),x=qf(new N(r+"."+n.slice(1)),f-g).plus(u),N.precision=C,t==null?(Dt=!0,Nt(x,C)):x;for(l=a=x=Zi(x.minus(Fr),x.plus(Fr),f),h=Nt(x.times(x),f),o=3;;){if(a=Nt(a.times(h),f),u=l.plus(Zi(a,new N(o),f)),ai(u.d).slice(0,f)===ai(l.d).slice(0,f))return l=l.times(2),i!==0&&(l=l.plus(Y1(N,f+2,C).times(i+""))),l=Zi(l,new N(p),f),N.precision=C,t==null?(Dt=!0,Nt(l,C)):l;l=u,o+=2}}function JP(e,t){var n,r,o;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(o=t.length;t.charCodeAt(o-1)===48;)--o;if(t=t.slice(r,o),t){if(o-=r,n=n-r-1,e.e=Eu(n/Pt),e.d=[],r=(n+1)%Pt,n<0&&(r+=Pt),r<o){for(r&&e.d.push(+t.slice(0,r)),o-=Pt;r<o;)e.d.push(+t.slice(r,r+=Pt));t=t.slice(r),r=Pt-t.length}else r-=o;for(;r--;)t+="0";if(e.d.push(+t),Dt&&(e.e>ix||e.e<-ix))throw Error(wS+n)}else e.s=0,e.e=0,e.d=[0];return e}function Nt(e,t,n){var r,o,i,a,l,u,f,h,p=e.d;for(a=1,i=p[0];i>=10;i/=10)a++;if(r=t-a,r<0)r+=Pt,o=t,f=p[h=0];else{if(h=Math.ceil((r+1)/Pt),i=p.length,h>=i)return e;for(f=i=p[h],a=1;i>=10;i/=10)a++;r%=Pt,o=r-Pt+a}if(n!==void 0&&(i=rl(10,a-o-1),l=f/i%10|0,u=t<0||p[h+1]!==void 0||f%i,u=n<4?(l||u)&&(n==0||n==(e.s<0?3:2)):l>5||l==5&&(n==4||u||n==6&&(r>0?o>0?f/rl(10,a-o):0:p[h-1])%10&1||n==(e.s<0?8:7))),t<1||!p[0])return u?(i=un(e),p.length=1,t=t-i-1,p[0]=rl(10,(Pt-t%Pt)%Pt),e.e=Eu(-t/Pt)||0):(p.length=1,p[0]=e.e=e.s=0),e;if(r==0?(p.length=h,i=1,h--):(p.length=h+1,i=rl(10,Pt-r),p[h]=o>0?(f/rl(10,a-o)%rl(10,o)|0)*i:0),u)for(;;)if(h==0){(p[0]+=i)==Nn&&(p[0]=1,++e.e);break}else{if(p[h]+=i,p[h]!=Nn)break;p[h--]=0,i=1}for(r=p.length;p[--r]===0;)p.pop();if(Dt&&(e.e>ix||e.e<-ix))throw Error(wS+un(e));return e}function G8(e,t){var n,r,o,i,a,l,u,f,h,p,g=e.constructor,x=g.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new g(e),Dt?Nt(t,x):t;if(u=e.d,p=t.d,r=t.e,f=e.e,u=u.slice(),a=f-r,a){for(h=a<0,h?(n=u,a=-a,l=p.length):(n=p,r=f,l=u.length),o=Math.max(Math.ceil(x/Pt),l)+2,a>o&&(a=o,n.length=1),n.reverse(),o=a;o--;)n.push(0);n.reverse()}else{for(o=u.length,l=p.length,h=o<l,h&&(l=o),o=0;o<l;o++)if(u[o]!=p[o]){h=u[o]<p[o];break}a=0}for(h&&(n=u,u=p,p=n,t.s=-t.s),l=u.length,o=p.length-l;o>0;--o)u[l++]=0;for(o=p.length;o>a;){if(u[--o]<p[o]){for(i=o;i&&u[--i]===0;)u[i]=Nn-1;--u[i],u[o]+=Nn}u[o]-=p[o]}for(;u[--l]===0;)u.pop();for(;u[0]===0;u.shift())--r;return u[0]?(t.d=u,t.e=r,Dt?Nt(t,x):t):new g(0)}function Dl(e,t,n){var r,o=un(e),i=ai(e.d),a=i.length;return t?(n&&(r=n-a)>0?i=i.charAt(0)+"."+i.slice(1)+is(r):a>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(o<0?"e":"e+")+o):o<0?(i="0."+is(-o-1)+i,n&&(r=n-a)>0&&(i+=is(r))):o>=a?(i+=is(o+1-a),n&&(r=n-o-1)>0&&(i=i+"."+is(r))):((r=o+1)<a&&(i=i.slice(0,r)+"."+i.slice(r)),n&&(r=n-a)>0&&(o+1===a&&(i+="."),i+=is(r))),e.s<0?"-"+i:i}function YP(e,t){if(e.length>t)return e.length=t,!0}function K8(e){var t,n,r;function o(i){var a=this;if(!(a instanceof o))return new o(i);if(a.constructor=o,i instanceof o){a.s=i.s,a.e=i.e,a.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(wl+i);if(i>0)a.s=1;else if(i<0)i=-i,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(i===~~i&&i<1e7){a.e=0,a.d=[i];return}return JP(a,i.toString())}else if(typeof i!="string")throw Error(wl+i);if(i.charCodeAt(0)===45?(i=i.slice(1),a.s=-1):a.s=1,Lfe.test(i))JP(a,i);else throw Error(wl+i)}if(o.prototype=Ce,o.ROUND_UP=0,o.ROUND_DOWN=1,o.ROUND_CEIL=2,o.ROUND_FLOOR=3,o.ROUND_HALF_UP=4,o.ROUND_HALF_DOWN=5,o.ROUND_HALF_EVEN=6,o.ROUND_HALF_CEIL=7,o.ROUND_HALF_FLOOR=8,o.clone=K8,o.config=o.set=Bfe,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return o.config(e),o}function Bfe(e){if(!e||typeof e!="object")throw Error(Co+"Object expected");var t,n,r,o=["precision",1,Su,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<o.length;t+=3)if((r=e[n=o[t]])!==void 0)if(Eu(r)===r&&r>=o[t+1]&&r<=o[t+2])this[n]=r;else throw Error(wl+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(wl+n+": "+r);return this}var CS=K8(Ofe);Fr=new CS(1);const pt=CS;var Ufe=e=>e,W8={},J8=e=>e===W8,XP=e=>function t(){return arguments.length===0||arguments.length===1&&J8(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},Y8=(e,t)=>e===1?t:XP(function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];var i=r.filter(a=>a!==W8).length;return i>=e?t(...r):Y8(e-i,XP(function(){for(var a=arguments.length,l=new Array(a),u=0;u<a;u++)l[u]=arguments[u];var f=r.map(h=>J8(h)?l.shift():h);return t(...f,...l)}))}),b0=e=>Y8(e.length,e),F2=(e,t)=>{for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},zfe=b0((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(n=>t[n]).map(e)),Ffe=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return Ufe;var o=n.reverse(),i=o[0],a=o.slice(1);return function(){return a.reduce((l,u)=>u(l),i(...arguments))}},q2=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),X8=e=>{var t=null,n=null;return function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return t&&o.every((a,l)=>{var u;return a===((u=t)===null||u===void 0?void 0:u[l])})||(t=o,n=e(...o)),n}};function Q8(e){var t;return e===0?t=1:t=Math.floor(new pt(e).abs().log(10).toNumber())+1,t}function Z8(e,t,n){for(var r=new pt(e),o=0,i=[];r.lt(t)&&o<1e5;)i.push(r.toNumber()),r=r.add(n),o++;return i}b0((e,t,n)=>{var r=+e,o=+t;return r+n*(o-r)});b0((e,t,n)=>{var r=t-+e;return r=r||1/0,(n-e)/r});b0((e,t,n)=>{var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))});var eB=e=>{var[t,n]=e,[r,o]=[t,n];return t>n&&([r,o]=[n,t]),[r,o]},tB=(e,t,n)=>{if(e.lte(0))return new pt(0);var r=Q8(e.toNumber()),o=new pt(10).pow(r),i=e.div(o),a=r!==1?.05:.1,l=new pt(Math.ceil(i.div(a).toNumber())).add(n).mul(a),u=l.mul(o);return t?new pt(u.toNumber()):new pt(Math.ceil(u.toNumber()))},qfe=(e,t,n)=>{var r=new pt(1),o=new pt(e);if(!o.isint()&&n){var i=Math.abs(e);i<1?(r=new pt(10).pow(Q8(e)-1),o=new pt(Math.floor(o.div(r).toNumber())).mul(r)):i>1&&(o=new pt(Math.floor(e)))}else e===0?o=new pt(Math.floor((t-1)/2)):n||(o=new pt(Math.floor(e)));var a=Math.floor((t-1)/2),l=Ffe(zfe(u=>o.add(new pt(u-a).mul(r)).toNumber()),F2);return l(0,t)},nB=function(t,n,r,o){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-t)/(r-1)))return{step:new pt(0),tickMin:new pt(0),tickMax:new pt(0)};var a=tB(new pt(n).sub(t).div(r-1),o,i),l;t<=0&&n>=0?l=new pt(0):(l=new pt(t).add(n).div(2),l=l.sub(new pt(l).mod(a)));var u=Math.ceil(l.sub(t).div(a).toNumber()),f=Math.ceil(new pt(n).sub(l).div(a).toNumber()),h=u+f+1;return h>r?nB(t,n,r,o,i+1):(h<r&&(f=n>0?f+(r-h):f,u=n>0?u:u+(r-h)),{step:a,tickMin:l.sub(new pt(u).mul(a)),tickMax:l.add(new pt(f).mul(a))})};function Hfe(e){var[t,n]=e,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=Math.max(r,2),[a,l]=eB([t,n]);if(a===-1/0||l===1/0){var u=l===1/0?[a,...F2(0,r-1).map(()=>1/0)]:[...F2(0,r-1).map(()=>-1/0),l];return t>n?q2(u):u}if(a===l)return qfe(a,r,o);var{step:f,tickMin:h,tickMax:p}=nB(a,l,i,o,0),g=Z8(h,p.add(new pt(.1).mul(f)),f);return t>n?q2(g):g}function Vfe(e,t){var[n,r]=e,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[i,a]=eB([n,r]);if(i===-1/0||a===1/0)return[n,r];if(i===a)return[i];var l=Math.max(t,2),u=tB(new pt(a).sub(i).div(l-1),o,0),f=[...Z8(new pt(i),new pt(a),u),a];return o===!1&&(f=f.map(h=>Math.round(h))),n>r?q2(f):f}var $fe=X8(Hfe),Gfe=X8(Vfe),Kfe=e=>e.rootProps.barCategoryGap,sh=e=>e.rootProps.stackOffset,NS=e=>e.options.chartName,SS=e=>e.rootProps.syncId,rB=e=>e.rootProps.syncMethod,ES=e=>e.options.eventEmitter,Hi={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Br={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},v0=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},Wfe={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Hi.angleAxisId,includeHidden:!1,name:void 0,reversed:Hi.reversed,scale:Hi.scale,tick:Hi.tick,tickCount:void 0,ticks:void 0,type:Hi.type,unit:void 0},Jfe={allowDataOverflow:Br.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Br.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Br.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Br.scale,tick:Br.tick,tickCount:Br.tickCount,ticks:void 0,type:Br.type,unit:void 0},Yfe={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Hi.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Hi.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Hi.scale,tick:Hi.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},Xfe={allowDataOverflow:Br.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Br.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Br.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Br.scale,tick:Br.tick,tickCount:Br.tickCount,ticks:void 0,type:"category",unit:void 0},jS=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?Yfe:Wfe,AS=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?Xfe:Jfe,y0=e=>e.polarOptions,TS=Z([fa,ha,Mn],O6),oB=Z([y0,TS],(e,t)=>{if(e!=null)return Hr(e.innerRadius,t,0)}),iB=Z([y0,TS],(e,t)=>{if(e!=null)return Hr(e.outerRadius,t,t*.8)}),Qfe=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]},aB=Z([y0],Qfe);Z([jS,aB],v0);var sB=Z([TS,oB,iB],(e,t,n)=>{if(!(e==null||t==null||n==null))return[t,n]});Z([AS,sB],v0);var lB=Z([yt,y0,oB,iB,fa,ha],(e,t,n,r,o,i)=>{if(!(e!=="centric"&&e!=="radial"||t==null||n==null||r==null)){var{cx:a,cy:l,startAngle:u,endAngle:f}=t;return{cx:Hr(a,o,o/2),cy:Hr(l,i,i/2),innerRadius:n,outerRadius:r,startAngle:u,endAngle:f,clockWise:!1}}}),Lt=(e,t)=>t,lh=(e,t,n)=>n;function cB(e){return e==null?void 0:e.id}var bn=e=>{var t=yt(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},ju=e=>e.tooltip.settings.axisId,vn=e=>{var t=bn(e),n=ju(e);return ch(e,t,n)},uB=Z([vn],e=>e==null?void 0:e.dataKey);function dB(e,t,n){var{chartData:r=[]}=t,{allowDuplicatedCategory:o,dataKey:i}=n,a=new Map;return e.forEach(l=>{var u,f=(u=l.data)!==null&&u!==void 0?u:r;if(!(f==null||f.length===0)){var h=cB(l);f.forEach((p,g)=>{var x=i==null||o?g:String(Ut(p,i,null)),y=Ut(p,l.dataKey,0),N;a.has(x)?N=a.get(x):N={},Object.assign(N,{[h]:y}),a.set(x,N)})}}),Array.from(a.values())}function kS(e){return e.stackId!=null&&e.dataKey!=null}var w0=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function C0(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function QP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function ax(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?QP(Object(n),!0).forEach(function(r){Zfe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Zfe(e,t,n){return(t=ehe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ehe(e){var t=the(e,"string");return typeof t=="symbol"?t:t+""}function the(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var H2=[0,"auto"],Or={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},fB=(e,t)=>e.cartesianAxis.xAxis[t],ma=(e,t)=>{var n=fB(e,t);return n??Or},Lr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:H2,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:th},hB=(e,t)=>e.cartesianAxis.yAxis[t],ga=(e,t)=>{var n=hB(e,t);return n??Lr},nhe={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},MS=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return n??nhe},Ft=(e,t,n)=>{switch(t){case"xAxis":return ma(e,n);case"yAxis":return ga(e,n);case"zAxis":return MS(e,n);case"angleAxis":return jS(e,n);case"radiusAxis":return AS(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},rhe=(e,t,n)=>{switch(t){case"xAxis":return ma(e,n);case"yAxis":return ga(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},ch=(e,t,n)=>{switch(t){case"xAxis":return ma(e,n);case"yAxis":return ga(e,n);case"angleAxis":return jS(e,n);case"radiusAxis":return AS(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},pB=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function PS(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var mB=e=>e.graphicalItems.cartesianItems,ohe=Z([Lt,lh],PS),RS=(e,t,n)=>e.filter(n).filter(r=>(t==null?void 0:t.includeHidden)===!0?!0:!r.hide),uh=Z([mB,Ft,ohe],RS,{memoizeOptions:{resultEqualityCheck:C0}}),gB=Z([uh],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(kS)),xB=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),ihe=Z([uh],xB),IS=e=>e.map(t=>t.data).filter(Boolean).flat(1),ahe=Z([uh],IS,{memoizeOptions:{resultEqualityCheck:C0}}),DS=(e,t)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:o}=t;return e.length>0?e:n.slice(r,o+1)},_S=Z([ahe,yS],DS),OS=(e,t,n)=>(t==null?void 0:t.dataKey)!=null?e.map(r=>({value:Ut(r,t.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>e.map(o=>({value:Ut(o,r)}))):e.map(r=>({value:r})),N0=Z([_S,Ft,uh],OS);function bB(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Pm(e){if(fi(e)||e instanceof Date){var t=Number(e);if(Ar(t))return t}}function ZP(e){if(Array.isArray(e)){var t=[Pm(e[0]),Pm(e[1])];return Il(t)?t:void 0}var n=Pm(e);if(n!=null)return[n,n]}function Au(e){return e.map(Pm).filter(Sce)}function she(e,t,n){return!n||typeof t!="number"||Uo(t)?[]:n.length?Au(n.flatMap(r=>{var o=Ut(e,r.dataKey),i,a;if(Array.isArray(o)?[i,a]=o:i=a=o,!(!Ar(i)||!Ar(a)))return[t-i,t+a]})):[]}var lhe=Z([gB,yS,vn],dB),vB=(e,t,n)=>{var r={},o=t.reduce((i,a)=>(a.stackId==null||(i[a.stackId]==null&&(i[a.stackId]=[]),i[a.stackId].push(a)),i),r);return Object.fromEntries(Object.entries(o).map(i=>{var[a,l]=i,u=l.map(cB);return[a,{stackedData:Jse(e,u,n),graphicalItems:l}]}))},che=Z([lhe,gB,sh],vB),yB=(e,t,n,r)=>{var{dataStartIndex:o,dataEndIndex:i}=t;if(r==null&&n!=="zAxis"){var a=Qse(e,o,i);if(!(a!=null&&a[0]===0&&a[1]===0))return a}},uhe=Z([Ft],e=>e.allowDataOverflow),LS=e=>{var t;if(e==null||!("domain"in e))return H2;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var n=Au(e.ticks);return[Math.min(...n),Math.max(...n)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:H2},BS=Z([Ft],LS),US=Z([BS,uhe],q8),dhe=Z([che,Ms,Lt,US],yB,{memoizeOptions:{resultEqualityCheck:w0}}),S0=e=>e.errorBars,fhe=(e,t,n)=>e.flatMap(r=>t[r.id]).filter(Boolean).filter(r=>bB(n,r)),sx=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var o=n.filter(Boolean);if(o.length!==0){var i=o.flat(),a=Math.min(...i),l=Math.max(...i);return[a,l]}},zS=(e,t,n,r,o)=>{var i,a;if(n.length>0&&e.forEach(l=>{n.forEach(u=>{var f,h,p=(f=r[u.id])===null||f===void 0?void 0:f.filter(A=>bB(o,A)),g=Ut(l,(h=t.dataKey)!==null&&h!==void 0?h:u.dataKey),x=she(l,g,p);if(x.length>=2){var y=Math.min(...x),N=Math.max(...x);(i==null||y<i)&&(i=y),(a==null||N>a)&&(a=N)}var C=ZP(g);C!=null&&(i=i==null?C[0]:Math.min(i,C[0]),a=a==null?C[1]:Math.max(a,C[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(l=>{var u=ZP(Ut(l,t.dataKey));u!=null&&(i=i==null?u[0]:Math.min(i,u[0]),a=a==null?u[1]:Math.max(a,u[1]))}),Ar(i)&&Ar(a))return[i,a]},hhe=Z([_S,Ft,ihe,S0,Lt],zS,{memoizeOptions:{resultEqualityCheck:w0}});function phe(e){var{value:t}=e;if(fi(t)||t instanceof Date)return t}var mhe=(e,t,n)=>{var r=e.map(phe).filter(o=>o!=null);return n&&(t.dataKey==null||t.allowDuplicatedCategory&&GL(r))?s8(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))},wB=e=>e.referenceElements.dots,Tu=(e,t,n)=>e.filter(r=>r.ifOverflow==="extendDomain").filter(r=>t==="xAxis"?r.xAxisId===n:r.yAxisId===n),ghe=Z([wB,Lt,lh],Tu),CB=e=>e.referenceElements.areas,xhe=Z([CB,Lt,lh],Tu),NB=e=>e.referenceElements.lines,bhe=Z([NB,Lt,lh],Tu),SB=(e,t)=>{var n=Au(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},vhe=Z(ghe,Lt,SB),EB=(e,t)=>{var n=Au(e.flatMap(r=>[t==="xAxis"?r.x1:r.y1,t==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},yhe=Z([xhe,Lt],EB),jB=(e,t)=>{var n=Au(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},whe=Z(bhe,Lt,jB),Che=Z(vhe,whe,yhe,(e,t,n)=>sx(e,n,t)),FS=(e,t,n,r,o,i,a,l)=>{if(n!=null)return n;var u=a==="vertical"&&l==="xAxis"||a==="horizontal"&&l==="yAxis",f=u?sx(r,i,o):sx(i,o);return _fe(t,f,e.allowDataOverflow)},Nhe=Z([Ft,BS,US,dhe,hhe,Che,yt,Lt],FS,{memoizeOptions:{resultEqualityCheck:w0}}),She=[0,1],qS=(e,t,n,r,o,i,a)=>{if(!((e==null||n==null||n.length===0)&&a===void 0)){var{dataKey:l,type:u}=e,f=As(t,i);return f&&l==null?s8(0,n.length):u==="category"?mhe(r,e,f):o==="expand"?She:a}},HS=Z([Ft,yt,_S,N0,sh,Lt,Nhe],qS),AB=(e,t,n,r,o)=>{if(e!=null){var{scale:i,type:a}=e;if(i==="auto")return t==="radial"&&o==="radiusAxis"?"band":t==="radial"&&o==="angleAxis"?"linear":a==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":a==="category"?"band":"linear";if(typeof i=="string"){var l="scale".concat(Qf(i));return l in tf?l:"point"}}},ku=Z([Ft,yt,pB,NS,Lt],AB);function Ehe(e){if(e!=null){if(e in tf)return tf[e]();var t="scale".concat(Qf(e));if(t in tf)return tf[t]()}}function VS(e,t,n,r){if(!(n==null||r==null)){if(typeof e.scale=="function")return e.scale.copy().domain(n).range(r);var o=Ehe(t);if(o!=null){var i=o.domain(n).range(r);return $se(i),i}}}var $S=(e,t,n)=>{var r=LS(t);if(!(n!=="auto"&&n!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&Il(e))return $fe(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Il(e))return Gfe(e,t.tickCount,t.allowDecimals)}},GS=Z([HS,ch,ku],$S),KS=(e,t,n,r)=>{if(r!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&Il(t)&&Array.isArray(n)&&n.length>0){var o=t[0],i=n[0],a=t[1],l=n[n.length-1];return[Math.min(o,i),Math.max(a,l)]}return t},jhe=Z([Ft,HS,GS,Lt],KS),Ahe=Z(N0,Ft,(e,t)=>{if(!(!t||t.type!=="number")){var n=1/0,r=Array.from(Au(e.map(l=>l.value))).sort((l,u)=>l-u);if(r.length<2)return 1/0;var o=r[r.length-1]-r[0];if(o===0)return 1/0;for(var i=0;i<r.length-1;i++){var a=r[i+1]-r[i];n=Math.min(n,a)}return n/o}}),TB=Z(Ahe,yt,Kfe,Mn,(e,t,n,r)=>r,(e,t,n,r,o)=>{if(!Ar(e))return 0;var i=t==="vertical"?r.height:r.width;if(o==="gap")return e*i/2;if(o==="no-gap"){var a=Hr(n,e*i),l=e*i/2;return l-a-(l-a)/i*a}return 0}),The=(e,t)=>{var n=ma(e,t);return n==null||typeof n.padding!="string"?0:TB(e,"xAxis",t,n.padding)},khe=(e,t)=>{var n=ga(e,t);return n==null||typeof n.padding!="string"?0:TB(e,"yAxis",t,n.padding)},Mhe=Z(ma,The,(e,t)=>{var n,r;if(e==null)return{left:0,right:0};var{padding:o}=e;return typeof o=="string"?{left:t,right:t}:{left:((n=o.left)!==null&&n!==void 0?n:0)+t,right:((r=o.right)!==null&&r!==void 0?r:0)+t}}),Phe=Z(ga,khe,(e,t)=>{var n,r;if(e==null)return{top:0,bottom:0};var{padding:o}=e;return typeof o=="string"?{top:t,bottom:t}:{top:((n=o.top)!==null&&n!==void 0?n:0)+t,bottom:((r=o.bottom)!==null&&r!==void 0?r:0)+t}}),Rhe=Z([Mn,Mhe,s0,a0,(e,t,n)=>n],(e,t,n,r,o)=>{var{padding:i}=r;return o?[i.left,n.width-i.right]:[e.left+t.left,e.left+e.width-t.right]}),Ihe=Z([Mn,yt,Phe,s0,a0,(e,t,n)=>n],(e,t,n,r,o,i)=>{var{padding:a}=o;return i?[r.height-a.bottom,a.top]:t==="horizontal"?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),dh=(e,t,n,r)=>{var o;switch(t){case"xAxis":return Rhe(e,n,r);case"yAxis":return Ihe(e,n,r);case"zAxis":return(o=MS(e,n))===null||o===void 0?void 0:o.range;case"angleAxis":return aB(e);case"radiusAxis":return sB(e,n);default:return}},kB=Z([Ft,dh],v0),Mu=Z([Ft,ku,jhe,kB],VS);Z([uh,S0,Lt],fhe);function MB(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var E0=(e,t)=>t,j0=(e,t,n)=>n,Dhe=Z(o0,E0,j0,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(MB)),_he=Z(i0,E0,j0,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(MB)),PB=(e,t)=>({width:e.width,height:t.height}),Ohe=(e,t)=>{var n=typeof t.width=="number"?t.width:th;return{width:n,height:e.height}},Lhe=Z(Mn,ma,PB),Bhe=(e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}},Uhe=(e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}},zhe=Z(ha,Mn,Dhe,E0,j0,(e,t,n,r,o)=>{var i={},a;return n.forEach(l=>{var u=PB(t,l);a==null&&(a=Bhe(t,r,e));var f=r==="top"&&!o||r==="bottom"&&o;i[l.id]=a-Number(f)*u.height,a+=(f?-1:1)*u.height}),i}),Fhe=Z(fa,Mn,_he,E0,j0,(e,t,n,r,o)=>{var i={},a;return n.forEach(l=>{var u=Ohe(t,l);a==null&&(a=Uhe(t,r,e));var f=r==="left"&&!o||r==="right"&&o;i[l.id]=a-Number(f)*u.width,a+=(f?-1:1)*u.width}),i}),qhe=(e,t)=>{var n=ma(e,t);if(n!=null)return zhe(e,n.orientation,n.mirror)},Hhe=Z([Mn,ma,qhe,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var o=n==null?void 0:n[r];return o==null?{x:e.left,y:0}:{x:e.left,y:o}}}),Vhe=(e,t)=>{var n=ga(e,t);if(n!=null)return Fhe(e,n.orientation,n.mirror)},$he=Z([Mn,ga,Vhe,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var o=n==null?void 0:n[r];return o==null?{x:0,y:e.top}:{x:o,y:e.top}}}),Ghe=Z(Mn,ga,(e,t)=>{var n=typeof t.width=="number"?t.width:th;return{width:n,height:e.height}}),RB=(e,t,n,r)=>{if(n!=null){var{allowDuplicatedCategory:o,type:i,dataKey:a}=n,l=As(e,r),u=t.map(f=>f.value);if(a&&l&&i==="category"&&o&&GL(u))return u}},WS=Z([yt,N0,Ft,Lt],RB),IB=(e,t,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:o,scale:i}=n,a=As(e,r);if(a&&(o==="number"||i!=="auto"))return t.map(l=>l.value)}},JS=Z([yt,N0,ch,Lt],IB),eR=Z([yt,rhe,ku,Mu,WS,JS,dh,GS,Lt],(e,t,n,r,o,i,a,l,u)=>{if(t==null)return null;var f=As(e,u);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:u,categoricalDomain:i,duplicateDomain:o,isCategorical:f,niceTicks:l,range:a,realScaleType:n,scale:r}}),Khe=(e,t,n,r,o,i,a,l,u)=>{if(!(t==null||r==null)){var f=As(e,u),{type:h,ticks:p,tickCount:g}=t,x=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,y=h==="category"&&r.bandwidth?r.bandwidth()/x:0;y=u==="angleAxis"&&i!=null&&i.length>=2?er(i[0]-i[1])*2*y:y;var N=p||o;if(N){var C=N.map((A,T)=>{var k=a?a.indexOf(A):A;return{index:T,coordinate:r(k)+y,value:A,offset:y}});return C.filter(A=>!Uo(A.coordinate))}return f&&l?l.map((A,T)=>({coordinate:r(A)+y,value:A,index:T,offset:y})):r.ticks?r.ticks(g).map(A=>({coordinate:r(A)+y,value:A,offset:y})):r.domain().map((A,T)=>({coordinate:r(A)+y,value:a?a[A]:A,index:T,offset:y}))}},DB=Z([yt,ch,ku,Mu,GS,dh,WS,JS,Lt],Khe),Whe=(e,t,n,r,o,i,a)=>{if(!(t==null||n==null||r==null||r[0]===r[1])){var l=As(e,a),{tickCount:u}=t,f=0;return f=a==="angleAxis"&&(r==null?void 0:r.length)>=2?er(r[0]-r[1])*2*f:f,l&&i?i.map((h,p)=>({coordinate:n(h)+f,value:h,index:p,offset:f})):n.ticks?n.ticks(u).map(h=>({coordinate:n(h)+f,value:h,offset:f})):n.domain().map((h,p)=>({coordinate:n(h)+f,value:o?o[h]:h,index:p,offset:f}))}},_B=Z([yt,ch,Mu,dh,WS,JS,Lt],Whe),OB=Z(Ft,Mu,(e,t)=>{if(!(e==null||t==null))return ax(ax({},e),{},{scale:t})}),Jhe=Z([Ft,ku,HS,kB],VS);Z((e,t,n)=>MS(e,n),Jhe,(e,t)=>{if(!(e==null||t==null))return ax(ax({},e),{},{scale:t})});var Yhe=Z([yt,o0,i0],(e,t,n)=>{switch(e){case"horizontal":return t.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),LB=e=>e.options.defaultTooltipEventType,BB=e=>e.options.validateTooltipEventTypes;function UB(e,t,n){if(e==null)return t;var r=e?"axis":"item";return n==null?t:n.includes(r)?r:t}function YS(e,t){var n=LB(e),r=BB(e);return UB(t,n,r)}function Xhe(e){return Ae(t=>YS(t,e))}var zB=(e,t)=>{var n,r=Number(t);if(!(Uo(r)||t==null))return r>=0?e==null||(n=e[r])===null||n===void 0?void 0:n.value:void 0},Qhe=e=>e.tooltip.settings,cs={active:!1,index:null,dataKey:void 0,coordinate:void 0},Zhe={itemInteraction:{click:cs,hover:cs},axisInteraction:{click:cs,hover:cs},keyboardInteraction:cs,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},FB=Kr({name:"tooltip",initialState:Zhe,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:or()},removeTooltipEntrySettings:{reducer(e,t){var n=Qi(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},prepare:or()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:epe,removeTooltipEntrySettings:tpe,setTooltipSettingsState:npe,setActiveMouseOverItemIndex:qB,mouseLeaveItem:rpe,mouseLeaveChart:HB,setActiveClickItemIndex:ope,setMouseOverAxisIndex:VB,setMouseClickAxisIndex:ipe,setSyncInteraction:V2,setKeyboardInteraction:$2}=FB.actions,ape=FB.reducer;function tR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function pm(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?tR(Object(n),!0).forEach(function(r){spe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function spe(e,t,n){return(t=lpe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lpe(e){var t=cpe(e,"string");return typeof t=="symbol"?t:t+""}function cpe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function upe(e,t,n){return t==="axis"?n==="click"?e.axisInteraction.click:e.axisInteraction.hover:n==="click"?e.itemInteraction.click:e.itemInteraction.hover}function dpe(e){return e.index!=null}var $B=(e,t,n,r)=>{if(t==null)return cs;var o=upe(e,t,n);if(o==null)return cs;if(o.active)return o;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var i=e.settings.active===!0;if(dpe(o)){if(i)return pm(pm({},o),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r};return pm(pm({},cs),{},{coordinate:o.coordinate})},XS=(e,t)=>{var n=e==null?void 0:e.index;if(n==null)return null;var r=Number(n);if(!Ar(r))return n;var o=0,i=1/0;return t.length>0&&(i=t.length-1),String(Math.max(o,Math.min(r,i)))},GB=(e,t,n,r,o,i,a,l)=>{if(!(i==null||l==null)){var u=a[0],f=u==null?void 0:l(u.positions,i);if(f!=null)return f;var h=o==null?void 0:o[Number(i)];if(h)switch(n){case"horizontal":return{x:h.coordinate,y:(r.top+t)/2};default:return{x:(r.left+e)/2,y:h.coordinate}}}},KB=(e,t,n,r)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var o;return n==="hover"?o=e.itemInteraction.hover.dataKey:o=e.itemInteraction.click.dataKey,o==null&&r!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(i=>{var a;return((a=i.settings)===null||a===void 0?void 0:a.dataKey)===o})},fh=e=>e.options.tooltipPayloadSearcher,Pu=e=>e.tooltip;function nR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function rR(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?nR(Object(n),!0).forEach(function(r){fpe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function fpe(e,t,n){return(t=hpe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hpe(e){var t=ppe(e,"string");return typeof t=="symbol"?t:t+""}function ppe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mpe(e,t){return e??t}var WB=(e,t,n,r,o,i,a)=>{if(!(t==null||i==null)){var{chartData:l,computedData:u,dataStartIndex:f,dataEndIndex:h}=n,p=[];return e.reduce((g,x)=>{var y,{dataDefinedOnItem:N,settings:C}=x,A=mpe(N,l),T=Array.isArray(A)?L6(A,f,h):A,k=(y=C==null?void 0:C.dataKey)!==null&&y!==void 0?y:r,D=C==null?void 0:C.nameKey,R;if(r&&Array.isArray(T)&&!Array.isArray(T[0])&&a==="axis"?R=KL(T,r,o):R=i(T,t,u,D),Array.isArray(R))R.forEach(P=>{var B=rR(rR({},C),{},{name:P.name,unit:P.unit,color:void 0,fill:void 0});g.push(I4({tooltipEntrySettings:B,dataKey:P.dataKey,payload:P.payload,value:Ut(P.payload,P.dataKey),name:P.name}))});else{var I;g.push(I4({tooltipEntrySettings:C,dataKey:k,payload:R,value:Ut(R,k),name:(I=Ut(R,D))!==null&&I!==void 0?I:C==null?void 0:C.name}))}return g},p)}},QS=Z([vn,yt,pB,NS,bn],AB),gpe=Z([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),xpe=Z([bn,ju],PS),hh=Z([gpe,vn,xpe],RS,{memoizeOptions:{resultEqualityCheck:C0}}),bpe=Z([hh],e=>e.filter(kS)),vpe=Z([hh],IS,{memoizeOptions:{resultEqualityCheck:C0}}),Ru=Z([vpe,Ms],DS),ype=Z([bpe,Ms,vn],dB),ZS=Z([Ru,vn,hh],OS),JB=Z([vn],LS),wpe=Z([vn],e=>e.allowDataOverflow),YB=Z([JB,wpe],q8),Cpe=Z([hh],e=>e.filter(kS)),Npe=Z([ype,Cpe,sh],vB),Spe=Z([Npe,Ms,bn,YB],yB),Epe=Z([hh],xB),jpe=Z([Ru,vn,Epe,S0,bn],zS,{memoizeOptions:{resultEqualityCheck:w0}}),Ape=Z([wB,bn,ju],Tu),Tpe=Z([Ape,bn],SB),kpe=Z([CB,bn,ju],Tu),Mpe=Z([kpe,bn],EB),Ppe=Z([NB,bn,ju],Tu),Rpe=Z([Ppe,bn],jB),Ipe=Z([Tpe,Rpe,Mpe],sx),Dpe=Z([vn,JB,YB,Spe,jpe,Ipe,yt,bn],FS),XB=Z([vn,yt,Ru,ZS,sh,bn,Dpe],qS),_pe=Z([XB,vn,QS],$S),Ope=Z([vn,XB,_pe,bn],KS),QB=e=>{var t=bn(e),n=ju(e),r=!1;return dh(e,t,n,r)},ZB=Z([vn,QB],v0),e7=Z([vn,QS,Ope,ZB],VS),Lpe=Z([yt,ZS,vn,bn],RB),Bpe=Z([yt,ZS,vn,bn],IB),Upe=(e,t,n,r,o,i,a,l)=>{if(t){var{type:u}=t,f=As(e,l);if(r){var h=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,p=u==="category"&&r.bandwidth?r.bandwidth()/h:0;return p=l==="angleAxis"&&o!=null&&(o==null?void 0:o.length)>=2?er(o[0]-o[1])*2*p:p,f&&a?a.map((g,x)=>({coordinate:r(g)+p,value:g,index:x,offset:p})):r.domain().map((g,x)=>({coordinate:r(g)+p,value:i?i[g]:g,index:x,offset:p}))}}},xa=Z([yt,vn,QS,e7,QB,Lpe,Bpe,bn],Upe),eE=Z([LB,BB,Qhe],(e,t,n)=>UB(n.shared,e,t)),t7=e=>e.tooltip.settings.trigger,tE=e=>e.tooltip.settings.defaultIndex,A0=Z([Pu,eE,t7,tE],$B),fu=Z([A0,Ru],XS),n7=Z([xa,fu],zB),zpe=Z([A0],e=>{if(e)return e.dataKey}),r7=Z([Pu,eE,t7,tE],KB),Fpe=Z([fa,ha,yt,Mn,xa,tE,r7,fh],GB),qpe=Z([A0,Fpe],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),Hpe=Z([A0],e=>e.active),Vpe=Z([r7,fu,Ms,uB,n7,fh,eE],WB),$pe=Z([Vpe],e=>{if(e!=null){var t=e.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(t))}});function oR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function iR(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?oR(Object(n),!0).forEach(function(r){Gpe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Gpe(e,t,n){return(t=Kpe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Kpe(e){var t=Wpe(e,"string");return typeof t=="symbol"?t:t+""}function Wpe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Jpe=()=>Ae(vn),Ype=()=>{var e=Jpe(),t=Ae(xa),n=Ae(e7);return E2(iR(iR({},e),{},{scale:n}),t)},Xpe=()=>Ae(NS),nE=(e,t)=>t,o7=(e,t,n)=>n,rE=(e,t,n,r)=>r,Qpe=Z(xa,e=>Xx(e,t=>t.coordinate)),oE=Z([Pu,nE,o7,rE],$B),i7=Z([oE,Ru],XS),Zpe=(e,t,n)=>{if(t!=null){var r=Pu(e);return t==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},a7=Z([Pu,nE,o7,rE],KB),lx=Z([fa,ha,yt,Mn,xa,rE,a7,fh],GB),eme=Z([oE,lx],(e,t)=>{var n;return(n=e.coordinate)!==null&&n!==void 0?n:t}),s7=Z(xa,i7,zB),tme=Z([a7,i7,Ms,uB,s7,fh,nE],WB),nme=Z([oE],e=>({isActive:e.active,activeIndex:e.index})),rme=(e,t,n,r,o,i,a,l)=>{if(!(!e||!t||!r||!o||!i)){var u=Zse(e.chartX,e.chartY,t,n,l);if(u){var f=tle(u,t),h=Hse(f,a,i,r,o),p=ele(t,i,h,u);return{activeIndex:String(h),activeCoordinate:p}}}};function G2(){return G2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},G2.apply(null,arguments)}function aR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function mm(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?aR(Object(n),!0).forEach(function(r){ome(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ome(e,t,n){return(t=ime(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ime(e){var t=ame(e,"string");return typeof t=="symbol"?t:t+""}function ame(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sme(e){var{coordinate:t,payload:n,index:r,offset:o,tooltipAxisBandSize:i,layout:a,cursor:l,tooltipEventType:u,chartName:f}=e,h=t,p=n,g=r;if(!l||!h||f!=="ScatterChart"&&u!=="axis")return null;var x,y;if(f==="ScatterChart")x=h,y=xce;else if(f==="BarChart")x=bce(a,h,o,i),y=r8;else if(a==="radial"){var{cx:N,cy:C,radius:A,startAngle:T,endAngle:k}=o8(h);x={cx:N,cy:C,startAngle:T,endAngle:k,innerRadius:A,outerRadius:A},y=a8}else x={points:tue(a,h,o)},y=JN;var D=typeof l=="object"&&"className"in l?l.className:void 0,R=mm(mm(mm(mm({stroke:"#ccc",pointerEvents:"none"},o),x),iu(l)),{},{payload:p,payloadIndex:g,className:st("recharts-tooltip-cursor",D)});return E.isValidElement(l)?E.cloneElement(l,R):E.createElement(y,R)}function lme(e){var t=Ype(),n=W6(),r=KN(),o=Xpe();return E.createElement(sme,G2({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:n,layout:r,tooltipAxisBandSize:t,chartName:o}))}var l7=E.createContext(null),cme=()=>E.useContext(l7),X1={exports:{}},sR;function ume(){return sR||(sR=1,(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function o(u,f,h){this.fn=u,this.context=f,this.once=h||!1}function i(u,f,h,p,g){if(typeof h!="function")throw new TypeError("The listener must be a function");var x=new o(h,p||u,g),y=n?n+f:f;return u._events[y]?u._events[y].fn?u._events[y]=[u._events[y],x]:u._events[y].push(x):(u._events[y]=x,u._eventsCount++),u}function a(u,f){--u._eventsCount===0?u._events=new r:delete u._events[f]}function l(){this._events=new r,this._eventsCount=0}l.prototype.eventNames=function(){var f=[],h,p;if(this._eventsCount===0)return f;for(p in h=this._events)t.call(h,p)&&f.push(n?p.slice(1):p);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(h)):f},l.prototype.listeners=function(f){var h=n?n+f:f,p=this._events[h];if(!p)return[];if(p.fn)return[p.fn];for(var g=0,x=p.length,y=new Array(x);g<x;g++)y[g]=p[g].fn;return y},l.prototype.listenerCount=function(f){var h=n?n+f:f,p=this._events[h];return p?p.fn?1:p.length:0},l.prototype.emit=function(f,h,p,g,x,y){var N=n?n+f:f;if(!this._events[N])return!1;var C=this._events[N],A=arguments.length,T,k;if(C.fn){switch(C.once&&this.removeListener(f,C.fn,void 0,!0),A){case 1:return C.fn.call(C.context),!0;case 2:return C.fn.call(C.context,h),!0;case 3:return C.fn.call(C.context,h,p),!0;case 4:return C.fn.call(C.context,h,p,g),!0;case 5:return C.fn.call(C.context,h,p,g,x),!0;case 6:return C.fn.call(C.context,h,p,g,x,y),!0}for(k=1,T=new Array(A-1);k<A;k++)T[k-1]=arguments[k];C.fn.apply(C.context,T)}else{var D=C.length,R;for(k=0;k<D;k++)switch(C[k].once&&this.removeListener(f,C[k].fn,void 0,!0),A){case 1:C[k].fn.call(C[k].context);break;case 2:C[k].fn.call(C[k].context,h);break;case 3:C[k].fn.call(C[k].context,h,p);break;case 4:C[k].fn.call(C[k].context,h,p,g);break;default:if(!T)for(R=1,T=new Array(A-1);R<A;R++)T[R-1]=arguments[R];C[k].fn.apply(C[k].context,T)}}return!0},l.prototype.on=function(f,h,p){return i(this,f,h,p,!1)},l.prototype.once=function(f,h,p){return i(this,f,h,p,!0)},l.prototype.removeListener=function(f,h,p,g){var x=n?n+f:f;if(!this._events[x])return this;if(!h)return a(this,x),this;var y=this._events[x];if(y.fn)y.fn===h&&(!g||y.once)&&(!p||y.context===p)&&a(this,x);else{for(var N=0,C=[],A=y.length;N<A;N++)(y[N].fn!==h||g&&!y[N].once||p&&y[N].context!==p)&&C.push(y[N]);C.length?this._events[x]=C.length===1?C[0]:C:a(this,x)}return this},l.prototype.removeAllListeners=function(f){var h;return f?(h=n?n+f:f,this._events[h]&&a(this,h)):(this._events=new r,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,e.exports=l})(X1)),X1.exports}var dme=ume();const fme=No(dme);var Hf=new fme,K2="recharts.syncEvent.tooltip",lR="recharts.syncEvent.brush";function c7(e,t){if(t){var n=Number.parseInt(t,10);if(!Uo(n))return e==null?void 0:e[n]}}var hme={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},u7=Kr({name:"options",initialState:hme,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),pme=u7.reducer,{createEventEmitter:mme}=u7.actions;function gme(e){return e.tooltip.syncInteraction}var xme={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},d7=Kr({name:"chartData",initialState:xme,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:r}=t.payload;n!=null&&(e.dataStartIndex=n),r!=null&&(e.dataEndIndex=r)}}}),{setChartData:cR,setDataStartEndIndexes:bme,setComputedData:cCe}=d7.actions,vme=d7.reducer,yme=["x","y"];function uR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function Dc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?uR(Object(n),!0).forEach(function(r){wme(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function wme(e,t,n){return(t=Cme(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Cme(e){var t=Nme(e,"string");return typeof t=="symbol"?t:t+""}function Nme(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Sme(e,t){if(e==null)return{};var n,r,o=Eme(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function Eme(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var f7=()=>{};function jme(){var e=Ae(SS),t=Ae(ES),n=Ot(),r=Ae(rB),o=Ae(xa),i=KN(),a=l0(),l=Ae(u=>u.rootProps.className);E.useEffect(()=>{if(e==null)return f7;var u=(f,h,p)=>{if(t!==p&&e===f){if(r==="index"){var g;if(a&&h!==null&&h!==void 0&&(g=h.payload)!==null&&g!==void 0&&g.coordinate&&h.payload.sourceViewBox){var x=h.payload.coordinate,{x:y,y:N}=x,C=Sme(x,yme),{x:A,y:T,width:k,height:D}=h.payload.sourceViewBox,R=Dc(Dc({},C),{},{x:a.x+(k?(y-A)/k:0)*a.width,y:a.y+(D?(N-T)/D:0)*a.height});n(Dc(Dc({},h),{},{payload:Dc(Dc({},h.payload),{},{coordinate:R})}))}else n(h);return}if(o!=null){var I;if(typeof r=="function"){var P={activeTooltipIndex:h.payload.index==null?void 0:Number(h.payload.index),isTooltipActive:h.payload.active,activeIndex:h.payload.index==null?void 0:Number(h.payload.index),activeLabel:h.payload.label,activeDataKey:h.payload.dataKey,activeCoordinate:h.payload.coordinate},B=r(o,P);I=o[B]}else r==="value"&&(I=o.find(U=>String(U.value)===h.payload.label));var{coordinate:L}=h.payload;if(I==null||h.payload.active===!1||L==null||a==null){n(V2({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0}));return}var{x:$,y:X}=L,q=Math.min($,a.x+a.width),W=Math.min(X,a.y+a.height),ie={x:i==="horizontal"?I.coordinate:q,y:i==="horizontal"?W:I.coordinate},K=V2({active:h.payload.active,coordinate:ie,dataKey:h.payload.dataKey,index:String(I.index),label:h.payload.label,sourceViewBox:h.payload.sourceViewBox});n(K)}}};return Hf.on(K2,u),()=>{Hf.off(K2,u)}},[l,n,t,e,r,o,i,a])}function Ame(){var e=Ae(SS),t=Ae(ES),n=Ot();E.useEffect(()=>{if(e==null)return f7;var r=(o,i,a)=>{t!==a&&e===o&&n(bme(i))};return Hf.on(lR,r),()=>{Hf.off(lR,r)}},[n,t,e])}function Tme(){var e=Ot();E.useEffect(()=>{e(mme())},[e]),jme(),Ame()}function kme(e,t,n,r,o,i){var a=Ae(x=>Zpe(x,e,t)),l=Ae(ES),u=Ae(SS),f=Ae(rB),h=Ae(gme),p=h==null?void 0:h.active,g=l0();E.useEffect(()=>{if(!p&&u!=null&&l!=null){var x=V2({active:i,coordinate:n,dataKey:a,index:o,label:typeof r=="number"?String(r):r,sourceViewBox:g});Hf.emit(K2,u,x,l)}},[p,n,a,o,r,l,u,f,i,g])}function dR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function fR(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dR(Object(n),!0).forEach(function(r){Mme(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Mme(e,t,n){return(t=Pme(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pme(e){var t=Rme(e,"string");return typeof t=="symbol"?t:t+""}function Rme(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ime(e){return e.dataKey}function Dme(e,t){return E.isValidElement(e)?E.cloneElement(e,t):typeof e=="function"?E.createElement(e,t):E.createElement(Jle,t)}var hR=[],_me={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!Hl.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function h7(e){var t=nr(e,_me),{active:n,allowEscapeViewBox:r,animationDuration:o,animationEasing:i,content:a,filterNull:l,isAnimationActive:u,offset:f,payloadUniqBy:h,position:p,reverseDirection:g,useTranslate3d:x,wrapperStyle:y,cursor:N,shared:C,trigger:A,defaultIndex:T,portal:k,axisId:D}=t,R=Ot(),I=typeof T=="number"?String(T):T;E.useEffect(()=>{R(npe({shared:C,trigger:A,axisId:D,active:n,defaultIndex:I}))},[R,C,A,D,n,I]);var P=l0(),B=Q6(),L=Xhe(C),{activeIndex:$,isActive:X}=Ae(xe=>nme(xe,L,A,I)),q=Ae(xe=>tme(xe,L,A,I)),W=Ae(xe=>s7(xe,L,A,I)),ie=Ae(xe=>eme(xe,L,A,I)),K=q,U=cme(),V=n??X,[pe,be]=c6([K,V]),je=L==="axis"?W:void 0;kme(L,A,ie,je,$,V);var O=k??U;if(O==null)return null;var F=K??hR;V||(F=hR),l&&F.length&&(F=o6(K.filter(xe=>xe.value!=null&&(xe.hide!==!0||t.includeHidden)),h,Ime));var te=F.length>0,fe=E.createElement(nce,{allowEscapeViewBox:r,animationDuration:o,animationEasing:i,isAnimationActive:u,active:V,coordinate:ie,hasPayload:te,offset:f,position:p,reverseDirection:g,useTranslate3d:x,viewBox:P,wrapperStyle:y,lastBoundingBox:pe,innerRef:be,hasPortalFromProps:!!k},Dme(a,fR(fR({},t),{},{payload:F,label:je,active:V,coordinate:ie,accessibilityLayer:B})));return E.createElement(E.Fragment,null,xC.createPortal(fe,O),V&&E.createElement(lme,{cursor:N,tooltipEventType:L,coordinate:ie,payload:K,index:$}))}var T0=e=>null;T0.displayName="Cell";function Ome(e,t,n){return(t=Lme(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Lme(e){var t=Bme(e,"string");return typeof t=="symbol"?t:t+""}function Bme(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Ume{constructor(t){Ome(this,"cache",new Map),this.maxSize=t}get(t){var n=this.cache.get(t);return n!==void 0&&(this.cache.delete(t),this.cache.set(t,n)),n}set(t,n){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;this.cache.delete(r)}this.cache.set(t,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function pR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function zme(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pR(Object(n),!0).forEach(function(r){Fme(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Fme(e,t,n){return(t=qme(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qme(e){var t=Hme(e,"string");return typeof t=="symbol"?t:t+""}function Hme(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Vme={cacheSize:2e3,enableCache:!0},p7=zme({},Vme),mR=new Ume(p7.cacheSize),$me={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},gR="recharts_measurement_span";function Gme(e,t){var n=t.fontSize||"",r=t.fontFamily||"",o=t.fontWeight||"",i=t.fontStyle||"",a=t.letterSpacing||"",l=t.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(r,"|").concat(o,"|").concat(i,"|").concat(a,"|").concat(l)}var xR=(e,t)=>{try{var n=document.getElementById(gR);n||(n=document.createElement("span"),n.setAttribute("id",gR),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,$me,t),n.textContent="".concat(e);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},gf=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Hl.isSsr)return{width:0,height:0};if(!p7.enableCache)return xR(t,n);var r=Gme(t,n),o=mR.get(r);if(o)return o;var i=xR(t,n);return mR.set(r,i),i},bR=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,vR=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Kme=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Wme=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,m7={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Jme=Object.keys(m7),Hc="NaN";function Yme(e,t){return e*m7[t]}class yr{static parse(t){var n,[,r,o]=(n=Wme.exec(t))!==null&&n!==void 0?n:[];return new yr(parseFloat(r),o??"")}constructor(t,n){this.num=t,this.unit=n,this.num=t,this.unit=n,Uo(t)&&(this.unit=""),n!==""&&!Kme.test(n)&&(this.num=NaN,this.unit=""),Jme.includes(n)&&(this.num=Yme(t,n),this.unit="px")}add(t){return this.unit!==t.unit?new yr(NaN,""):new yr(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new yr(NaN,""):new yr(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new yr(NaN,""):new yr(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new yr(NaN,""):new yr(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Uo(this.num)}}function g7(e){if(e.includes(Hc))return Hc;for(var t=e;t.includes("*")||t.includes("/");){var n,[,r,o,i]=(n=bR.exec(t))!==null&&n!==void 0?n:[],a=yr.parse(r??""),l=yr.parse(i??""),u=o==="*"?a.multiply(l):a.divide(l);if(u.isNaN())return Hc;t=t.replace(bR,u.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,[,h,p,g]=(f=vR.exec(t))!==null&&f!==void 0?f:[],x=yr.parse(h??""),y=yr.parse(g??""),N=p==="+"?x.add(y):x.subtract(y);if(N.isNaN())return Hc;t=t.replace(vR,N.toString())}return t}var yR=/\(([^()]*)\)/;function Xme(e){for(var t=e,n;(n=yR.exec(t))!=null;){var[,r]=n;t=t.replace(yR,g7(r))}return t}function Qme(e){var t=e.replace(/\s+/g,"");return t=Xme(t),t=g7(t),t}function Zme(e){try{return Qme(e)}catch{return Hc}}function Q1(e){var t=Zme(e.slice(5,-1));return t===Hc?"":t}var ege=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],tge=["dx","dy","angle","className","breakAll"];function W2(){return W2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},W2.apply(null,arguments)}function wR(e,t){if(e==null)return{};var n,r,o=nge(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function nge(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var x7=/[ \f\n\r\t\v\u2028\u2029]+/,b7=e=>{var{children:t,breakAll:n,style:r}=e;try{var o=[];gn(t)||(n?o=t.toString().split(""):o=t.toString().split(x7));var i=o.map(l=>({word:l,width:gf(l,r).width})),a=n?0:gf("",r).width;return{wordsWithComputedWidth:i,spaceWidth:a}}catch{return null}},rge=(e,t,n,r,o)=>{var{maxLines:i,children:a,style:l,breakAll:u}=e,f=Ie(i),h=a,p=function(){var X=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return X.reduce((q,W)=>{var{word:ie,width:K}=W,U=q[q.length-1];if(U&&(r==null||o||U.width+K+n<Number(r)))U.words.push(ie),U.width+=K+n;else{var V={words:[ie],width:K};q.push(V)}return q},[])},g=p(t),x=$=>$.reduce((X,q)=>X.width>q.width?X:q);if(!f||o)return g;var y=g.length>i||x(g).width>Number(r);if(!y)return g;for(var N="",C=$=>{var X=h.slice(0,$),q=b7({breakAll:u,style:l,children:X+N}).wordsWithComputedWidth,W=p(q),ie=W.length>i||x(W).width>Number(r);return[ie,W]},A=0,T=h.length-1,k=0,D;A<=T&&k<=h.length-1;){var R=Math.floor((A+T)/2),I=R-1,[P,B]=C(I),[L]=C(R);if(!P&&!L&&(A=R+1),P&&L&&(T=R-1),!P&&L){D=B;break}k++}return D||g},CR=e=>{var t=gn(e)?[]:e.toString().split(x7);return[{words:t}]},oge=e=>{var{width:t,scaleToFit:n,children:r,style:o,breakAll:i,maxLines:a}=e;if((t||n)&&!Hl.isSsr){var l,u,f=b7({breakAll:i,children:r,style:o});if(f){var{wordsWithComputedWidth:h,spaceWidth:p}=f;l=h,u=p}else return CR(r);return rge({breakAll:i,children:r,maxLines:a,style:o},l,u,t,n)}return CR(r)},NR="#808080",k0=E.forwardRef((e,t)=>{var{x:n=0,y:r=0,lineHeight:o="1em",capHeight:i="0.71em",scaleToFit:a=!1,textAnchor:l="start",verticalAnchor:u="end",fill:f=NR}=e,h=wR(e,ege),p=E.useMemo(()=>oge({breakAll:h.breakAll,children:h.children,maxLines:h.maxLines,scaleToFit:a,style:h.style,width:h.width}),[h.breakAll,h.children,h.maxLines,a,h.style,h.width]),{dx:g,dy:x,angle:y,className:N,breakAll:C}=h,A=wR(h,tge);if(!fi(n)||!fi(r)||p.length===0)return null;var T=n+(Ie(g)?g:0),k=r+(Ie(x)?x:0),D;switch(u){case"start":D=Q1("calc(".concat(i,")"));break;case"middle":D=Q1("calc(".concat((p.length-1)/2," * -").concat(o," + (").concat(i," / 2))"));break;default:D=Q1("calc(".concat(p.length-1," * -").concat(o,")"));break}var R=[];if(a){var I=p[0].width,{width:P}=h;R.push("scale(".concat(Ie(P)?P/I:1,")"))}return y&&R.push("rotate(".concat(y,", ").concat(T,", ").concat(k,")")),R.length&&(A.transform=R.join(" ")),E.createElement("text",W2({},ur(A),{ref:t,x:T,y:k,className:st("recharts-text",N),textAnchor:l,fill:f.includes("url")?NR:f}),p.map((B,L)=>{var $=B.words.join(C?"":" ");return E.createElement("tspan",{x:T,dy:L===0?D:o,key:"".concat($,"-").concat(L)},$)}))});k0.displayName="Text";var ige=["labelRef"];function age(e,t){if(e==null)return{};var n,r,o=sge(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function sge(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function SR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function Qt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?SR(Object(n),!0).forEach(function(r){lge(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):SR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function lge(e,t,n){return(t=cge(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cge(e){var t=uge(e,"string");return typeof t=="symbol"?t:t+""}function uge(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Vi(){return Vi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vi.apply(null,arguments)}var v7=E.createContext(null),dge=e=>{var{x:t,y:n,width:r,height:o,children:i}=e,a=E.useMemo(()=>({x:t,y:n,width:r,height:o}),[t,n,r,o]);return E.createElement(v7.Provider,{value:a},i)},y7=()=>{var e=E.useContext(v7),t=l0();return e||t},fge=E.createContext(null),hge=()=>{var e=E.useContext(fge),t=Ae(lB);return e||t},pge=e=>{var{value:t,formatter:n}=e,r=gn(e.children)?t:e.children;return typeof n=="function"?n(r):r},iE=e=>e!=null&&typeof e=="function",mge=(e,t)=>{var n=er(t-e),r=Math.min(Math.abs(t-e),360);return n*r},gge=(e,t,n,r,o)=>{var{offset:i,className:a}=e,{cx:l,cy:u,innerRadius:f,outerRadius:h,startAngle:p,endAngle:g,clockWise:x}=o,y=(f+h)/2,N=mge(p,g),C=N>=0?1:-1,A,T;switch(t){case"insideStart":A=p+C*i,T=x;break;case"insideEnd":A=g-C*i,T=!x;break;case"end":A=g+C*i,T=x;break;default:throw new Error("Unsupported position ".concat(t))}T=N<=0?T:!T;var k=cn(l,u,y,A),D=cn(l,u,y,A+(T?1:-1)*359),R="M".concat(k.x,",").concat(k.y,`
    A`).concat(y,",").concat(y,",0,1,").concat(T?0:1,`,
    `).concat(D.x,",").concat(D.y),I=gn(e.id)?If("recharts-radial-line-"):e.id;return E.createElement("text",Vi({},r,{dominantBaseline:"central",className:st("recharts-radial-bar-label",a)}),E.createElement("defs",null,E.createElement("path",{id:I,d:R})),E.createElement("textPath",{xlinkHref:"#".concat(I)},n))},xge=(e,t,n)=>{var{cx:r,cy:o,innerRadius:i,outerRadius:a,startAngle:l,endAngle:u}=e,f=(l+u)/2;if(n==="outside"){var{x:h,y:p}=cn(r,o,a+t,f);return{x:h,y:p,textAnchor:h>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:o,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:o,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:o,textAnchor:"middle",verticalAnchor:"end"};var g=(i+a)/2,{x,y}=cn(r,o,g,f);return{x,y,textAnchor:"middle",verticalAnchor:"middle"}},w7=e=>"cx"in e&&Ie(e.cx),bge=(e,t)=>{var{parentViewBox:n,offset:r,position:o}=e,i;n!=null&&!w7(n)&&(i=n);var{x:a,y:l,width:u,height:f}=t,h=f>=0?1:-1,p=h*r,g=h>0?"end":"start",x=h>0?"start":"end",y=u>=0?1:-1,N=y*r,C=y>0?"end":"start",A=y>0?"start":"end";if(o==="top"){var T={x:a+u/2,y:l-h*r,textAnchor:"middle",verticalAnchor:g};return Qt(Qt({},T),i?{height:Math.max(l-i.y,0),width:u}:{})}if(o==="bottom"){var k={x:a+u/2,y:l+f+p,textAnchor:"middle",verticalAnchor:x};return Qt(Qt({},k),i?{height:Math.max(i.y+i.height-(l+f),0),width:u}:{})}if(o==="left"){var D={x:a-N,y:l+f/2,textAnchor:C,verticalAnchor:"middle"};return Qt(Qt({},D),i?{width:Math.max(D.x-i.x,0),height:f}:{})}if(o==="right"){var R={x:a+u+N,y:l+f/2,textAnchor:A,verticalAnchor:"middle"};return Qt(Qt({},R),i?{width:Math.max(i.x+i.width-R.x,0),height:f}:{})}var I=i?{width:u,height:f}:{};return o==="insideLeft"?Qt({x:a+N,y:l+f/2,textAnchor:A,verticalAnchor:"middle"},I):o==="insideRight"?Qt({x:a+u-N,y:l+f/2,textAnchor:C,verticalAnchor:"middle"},I):o==="insideTop"?Qt({x:a+u/2,y:l+p,textAnchor:"middle",verticalAnchor:x},I):o==="insideBottom"?Qt({x:a+u/2,y:l+f-p,textAnchor:"middle",verticalAnchor:g},I):o==="insideTopLeft"?Qt({x:a+N,y:l+p,textAnchor:A,verticalAnchor:x},I):o==="insideTopRight"?Qt({x:a+u-N,y:l+p,textAnchor:C,verticalAnchor:x},I):o==="insideBottomLeft"?Qt({x:a+N,y:l+f-p,textAnchor:A,verticalAnchor:g},I):o==="insideBottomRight"?Qt({x:a+u-N,y:l+f-p,textAnchor:C,verticalAnchor:g},I):o&&typeof o=="object"&&(Ie(o.x)||na(o.x))&&(Ie(o.y)||na(o.y))?Qt({x:a+Hr(o.x,u),y:l+Hr(o.y,f),textAnchor:"end",verticalAnchor:"end"},I):Qt({x:a+u/2,y:l+f/2,textAnchor:"middle",verticalAnchor:"middle"},I)},vge={offset:5};function as(e){var t=nr(e,vge),{viewBox:n,position:r,value:o,children:i,content:a,className:l="",textBreakAll:u,labelRef:f}=t,h=hge(),p=y7(),g=r==="center"?p:h??p,x=n||g;if(!x||gn(o)&&gn(i)&&!E.isValidElement(a)&&typeof a!="function")return null;var y=Qt(Qt({},t),{},{viewBox:x});if(E.isValidElement(a)){var{labelRef:N}=y,C=age(y,ige);return E.cloneElement(a,C)}var A;if(typeof a=="function"){if(A=E.createElement(a,y),E.isValidElement(A))return A}else A=pge(t);var T=w7(x),k=ur(t);if(T&&(r==="insideStart"||r==="insideEnd"||r==="end"))return gge(t,r,A,k,x);var D=T?xge(x,t.offset,t.position):bge(t,x);return E.createElement(k0,Vi({ref:f,className:st("recharts-label",l)},k,D,{breakAll:u}),A)}as.displayName="Label";var yge=(e,t,n)=>{if(!e)return null;var r={viewBox:t,labelRef:n};return e===!0?E.createElement(as,Vi({key:"label-implicit"},r)):fi(e)?E.createElement(as,Vi({key:"label-implicit",value:e},r)):E.isValidElement(e)?e.type===as?E.cloneElement(e,Qt({key:"label-implicit"},r)):E.createElement(as,Vi({key:"label-implicit",content:e},r)):iE(e)?E.createElement(as,Vi({key:"label-implicit",content:e},r)):e&&typeof e=="object"?E.createElement(as,Vi({},e,{key:"label-implicit"},r)):null};function wge(e){var{label:t,labelRef:n}=e,r=y7();return yge(t,r,n)||null}var Z1={},ew={},ER;function Cge(){return ER||(ER=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n[n.length-1]}e.last=t})(ew)),ew}var tw={},jR;function Nge(){return jR||(jR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Array.isArray(n)?n:Array.from(n)}e.toArray=t})(tw)),tw}var AR;function Sge(){return AR||(AR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Cge(),n=Nge(),r=LN();function o(i){if(r.isArrayLike(i))return t.last(n.toArray(i))}e.last=o})(Z1)),Z1}var nw,TR;function Ege(){return TR||(TR=1,nw=Sge().last),nw}var jge=Ege();const Age=No(jge);var Tge=["valueAccessor"],kge=["dataKey","clockWise","id","textBreakAll"];function cx(){return cx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cx.apply(null,arguments)}function kR(e,t){if(e==null)return{};var n,r,o=Mge(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function Mge(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Pge=e=>Array.isArray(e.value)?Age(e.value):e.value,C7=E.createContext(void 0),Rge=C7.Provider,N7=E.createContext(void 0),Ige=N7.Provider;function Dge(){return E.useContext(C7)}function _ge(){return E.useContext(N7)}function Rm(e){var{valueAccessor:t=Pge}=e,n=kR(e,Tge),{dataKey:r,clockWise:o,id:i,textBreakAll:a}=n,l=kR(n,kge),u=Dge(),f=_ge(),h=u||f;return!h||!h.length?null:E.createElement($r,{className:"recharts-label-list"},h.map((p,g)=>{var x,y=gn(r)?t(p,g):Ut(p&&p.payload,r),N=gn(i)?{}:{id:"".concat(i,"-").concat(g)};return E.createElement(as,cx({key:"label-".concat(g)},ur(p),l,N,{fill:(x=n.fill)!==null&&x!==void 0?x:p.fill,parentViewBox:p.parentViewBox,value:y,textBreakAll:a,viewBox:p.viewBox,index:g}))}))}Rm.displayName="LabelList";function S7(e){var{label:t}=e;return t?t===!0?E.createElement(Rm,{key:"labelList-implicit"}):E.isValidElement(t)||iE(t)?E.createElement(Rm,{key:"labelList-implicit",content:t}):typeof t=="object"?E.createElement(Rm,cx({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function J2(){return J2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},J2.apply(null,arguments)}var E7=e=>{var{cx:t,cy:n,r,className:o}=e,i=st("recharts-dot",o);return t===+t&&n===+n&&r===+r?E.createElement("circle",J2({},yo(e),IN(e),{className:i,cx:t,cy:n,r})):null},j7=e=>e.graphicalItems.polarItems,Oge=Z([Lt,lh],PS),M0=Z([j7,Ft,Oge],RS),Lge=Z([M0],IS),P0=Z([Lge,vS],DS),Bge=Z([P0,Ft,M0],OS);Z([P0,Ft,M0],(e,t,n)=>n.length>0?e.flatMap(r=>n.flatMap(o=>{var i,a=Ut(r,(i=t.dataKey)!==null&&i!==void 0?i:o.dataKey);return{value:a,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(r=>({value:Ut(r,t.dataKey),errorDomain:[]})):e.map(r=>({value:r,errorDomain:[]})));var MR=()=>{},Uge=Z([P0,Ft,M0,S0,Lt],zS),zge=Z([Ft,BS,US,MR,Uge,MR,yt,Lt],FS),A7=Z([Ft,yt,P0,Bge,sh,Lt,zge],qS),Fge=Z([A7,Ft,ku],$S);Z([Ft,A7,Fge,Lt],KS);var qge={radiusAxis:{},angleAxis:{}},T7=Kr({name:"polarAxis",initialState:qge,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:uCe,removeRadiusAxis:dCe,addAngleAxis:fCe,removeAngleAxis:hCe}=T7.actions,Hge=T7.reducer;function PR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function RR(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?PR(Object(n),!0).forEach(function(r){Vge(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):PR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Vge(e,t,n){return(t=$ge(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $ge(e){var t=Gge(e,"string");return typeof t=="symbol"?t:t+""}function Gge(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Kge=(e,t)=>t,aE=Z([j7,Kge],(e,t)=>e.filter(n=>n.type==="pie").find(n=>n.id===t)),Wge=[],sE=(e,t,n)=>(n==null?void 0:n.length)===0?Wge:n,k7=Z([vS,aE,sE],(e,t,n)=>{var{chartData:r}=e;if(t!=null){var o;if((t==null?void 0:t.data)!=null&&t.data.length>0?o=t.data:o=r,(!o||!o.length)&&n!=null&&(o=n.map(i=>RR(RR({},t.presentationProps),i.props))),o!=null)return o}}),Jge=Z([k7,aE,sE],(e,t,n)=>{if(!(e==null||t==null))return e.map((r,o)=>{var i,a=Ut(r,t.nameKey,t.name),l;return n!=null&&(i=n[o])!==null&&i!==void 0&&(i=i.props)!==null&&i!==void 0&&i.fill?l=n[o].props.fill:typeof r=="object"&&r!=null&&"fill"in r?l=r.fill:l=t.fill,{value:r0(a,t.dataKey),color:l,payload:r,type:t.legendType}})}),Yge=Z([k7,aE,sE,Mn],(e,t,n,r)=>{if(!(t==null||e==null))return n0e({offset:r,pieSettings:t,displayedData:e,cells:n})}),rw={exports:{}},bt={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IR;function Xge(){if(IR)return bt;IR=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),a=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.for("react.view_transition"),x=Symbol.for("react.client.reference");function y(N){if(typeof N=="object"&&N!==null){var C=N.$$typeof;switch(C){case e:switch(N=N.type,N){case n:case o:case r:case u:case f:case g:return N;default:switch(N=N&&N.$$typeof,N){case a:case l:case p:case h:return N;case i:return N;default:return C}}case t:return C}}}return bt.ContextConsumer=i,bt.ContextProvider=a,bt.Element=e,bt.ForwardRef=l,bt.Fragment=n,bt.Lazy=p,bt.Memo=h,bt.Portal=t,bt.Profiler=o,bt.StrictMode=r,bt.Suspense=u,bt.SuspenseList=f,bt.isContextConsumer=function(N){return y(N)===i},bt.isContextProvider=function(N){return y(N)===a},bt.isElement=function(N){return typeof N=="object"&&N!==null&&N.$$typeof===e},bt.isForwardRef=function(N){return y(N)===l},bt.isFragment=function(N){return y(N)===n},bt.isLazy=function(N){return y(N)===p},bt.isMemo=function(N){return y(N)===h},bt.isPortal=function(N){return y(N)===t},bt.isProfiler=function(N){return y(N)===o},bt.isStrictMode=function(N){return y(N)===r},bt.isSuspense=function(N){return y(N)===u},bt.isSuspenseList=function(N){return y(N)===f},bt.isValidElementType=function(N){return typeof N=="string"||typeof N=="function"||N===n||N===o||N===r||N===u||N===f||typeof N=="object"&&N!==null&&(N.$$typeof===p||N.$$typeof===h||N.$$typeof===a||N.$$typeof===i||N.$$typeof===l||N.$$typeof===x||N.getModuleId!==void 0)},bt.typeOf=y,bt}var DR;function Qge(){return DR||(DR=1,rw.exports=Xge()),rw.exports}var Zge=Qge(),_R=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",OR=null,ow=null,M7=e=>{if(e===OR&&Array.isArray(ow))return ow;var t=[];return E.Children.forEach(e,n=>{gn(n)||(Zge.isFragment(n)?t=t.concat(M7(n.props.children)):t.push(n))}),ow=t,OR=e,t};function P7(e,t){var n=[],r=[];return Array.isArray(t)?r=t.map(o=>_R(o)):r=[_R(t)],M7(e).forEach(o=>{var i=Ml(o,"type.displayName")||Ml(o,"type.name");r.indexOf(i)!==-1&&n.push(o)}),n}var R7=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,iw={},LR;function exe(){return LR||(LR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var o;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const i=n[Symbol.toStringTag];return i==null||!((o=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&o.writable)?!1:n.toString()===`[object ${i}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}e.isPlainObject=t})(iw)),iw}var aw,BR;function txe(){return BR||(BR=1,aw=exe().isPlainObject),aw}var nxe=txe();const rxe=No(nxe);function UR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function zR(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?UR(Object(n),!0).forEach(function(r){oxe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):UR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function oxe(e,t,n){return(t=ixe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ixe(e){var t=axe(e,"string");return typeof t=="symbol"?t:t+""}function axe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ux(){return ux=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ux.apply(null,arguments)}var FR=(e,t,n,r,o)=>{var i=n-r,a;return a="M ".concat(e,",").concat(t),a+="L ".concat(e+n,",").concat(t),a+="L ".concat(e+n-i/2,",").concat(t+o),a+="L ".concat(e+n-i/2-r,",").concat(t+o),a+="L ".concat(e,",").concat(t," Z"),a},sxe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},lxe=e=>{var t=nr(e,sxe),{x:n,y:r,upperWidth:o,lowerWidth:i,height:a,className:l}=t,{animationEasing:u,animationDuration:f,animationBegin:h,isUpdateAnimationActive:p}=t,g=E.useRef(null),[x,y]=E.useState(-1),N=E.useRef(o),C=E.useRef(i),A=E.useRef(a),T=E.useRef(n),k=E.useRef(r),D=d0(e,"trapezoid-");if(E.useEffect(()=>{if(g.current&&g.current.getTotalLength)try{var ie=g.current.getTotalLength();ie&&y(ie)}catch{}},[]),n!==+n||r!==+r||o!==+o||i!==+i||a!==+a||o===0&&i===0||a===0)return null;var R=st("recharts-trapezoid",l);if(!p)return E.createElement("g",null,E.createElement("path",ux({},ur(t),{className:R,d:FR(n,r,o,i,a)})));var I=N.current,P=C.current,B=A.current,L=T.current,$=k.current,X="0px ".concat(x===-1?1:x,"px"),q="".concat(x,"px 0px"),W=Z6(["strokeDasharray"],f,u);return E.createElement(u0,{animationId:D,key:D,canBegin:x>0,duration:f,easing:u,isActive:p,begin:h},ie=>{var K=Yn(I,o,ie),U=Yn(P,i,ie),V=Yn(B,a,ie),pe=Yn(L,n,ie),be=Yn($,r,ie);g.current&&(N.current=K,C.current=U,A.current=V,T.current=pe,k.current=be);var je=ie>0?{transition:W,strokeDasharray:q}:{strokeDasharray:X};return E.createElement("path",ux({},ur(t),{className:R,d:FR(pe,be,K,U,V),ref:g,style:zR(zR({},je),t.style)}))})},cxe=["option","shapeType","propTransformer","activeClassName","isActive"];function uxe(e,t){if(e==null)return{};var n,r,o=dxe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function dxe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function qR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function dx(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?qR(Object(n),!0).forEach(function(r){fxe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function fxe(e,t,n){return(t=hxe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hxe(e){var t=pxe(e,"string");return typeof t=="symbol"?t:t+""}function pxe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mxe(e,t){return dx(dx({},t),e)}function gxe(e,t){return e==="symbols"}function HR(e){var{shapeType:t,elementProps:n}=e;switch(t){case"rectangle":return E.createElement(r8,n);case"trapezoid":return E.createElement(lxe,n);case"sector":return E.createElement(a8,n);case"symbols":if(gxe(t))return E.createElement(RN,n);break;default:return null}}function xxe(e){return E.isValidElement(e)?e.props:e}function bxe(e){var{option:t,shapeType:n,propTransformer:r=mxe,activeClassName:o="recharts-active-shape",isActive:i}=e,a=uxe(e,cxe),l;if(E.isValidElement(t))l=E.cloneElement(t,dx(dx({},a),xxe(t)));else if(typeof t=="function")l=t(a);else if(rxe(t)&&typeof t!="boolean"){var u=r(t,a);l=E.createElement(HR,{shapeType:n,elementProps:u})}else{var f=a;l=E.createElement(HR,{shapeType:n,elementProps:f})}return i?E.createElement($r,{className:o},l):l}var vxe=(e,t)=>{var n=Ot();return(r,o)=>i=>{e==null||e(r,o,i),n(qB({activeIndex:String(o),activeDataKey:t,activeCoordinate:r.tooltipPosition}))}},yxe=e=>{var t=Ot();return(n,r)=>o=>{e==null||e(n,r,o),t(rpe())}},wxe=(e,t)=>{var n=Ot();return(r,o)=>i=>{e==null||e(r,o,i),n(ope({activeIndex:String(o),activeDataKey:t,activeCoordinate:r.tooltipPosition}))}};function I7(e){var{fn:t,args:n}=e,r=Ot(),o=Wr();return E.useLayoutEffect(()=>{if(!o){var i=t(n);return r(epe(i)),()=>{r(tpe(i))}}},[t,n,r,o]),null}var D7=()=>{};function Cxe(e){var{legendPayload:t}=e,n=Ot(),r=Wr();return E.useLayoutEffect(()=>r?D7:(n(Y6(t)),()=>{n(X6(t))}),[n,r,t]),null}function Nxe(e){var{legendPayload:t}=e,n=Ot(),r=Ae(yt);return E.useLayoutEffect(()=>r!=="centric"&&r!=="radial"?D7:(n(Y6(t)),()=>{n(X6(t))}),[n,r,t]),null}var sw,Sxe=()=>{var[e]=E.useState(()=>If("uid-"));return e},Exe=(sw=eF.useId)!==null&&sw!==void 0?sw:Sxe;function jxe(e,t){var n=Exe();return t||(e?"".concat(e,"-").concat(n):n)}var Axe=E.createContext(void 0),_7=e=>{var{id:t,type:n,children:r}=e,o=jxe("recharts-".concat(n),t);return E.createElement(Axe.Provider,{value:o},r(o))},Txe={cartesianItems:[],polarItems:[]},O7=Kr({name:"graphicalItems",initialState:Txe,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:or()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:n,next:r}=t.payload,o=Qi(e).cartesianItems.indexOf(n);o>-1&&(e.cartesianItems[o]=r)},prepare:or()},removeCartesianGraphicalItem:{reducer(e,t){var n=Qi(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},prepare:or()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:or()},removePolarGraphicalItem:{reducer(e,t){var n=Qi(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)},prepare:or()}}}),{addCartesianGraphicalItem:kxe,replaceCartesianGraphicalItem:Mxe,removeCartesianGraphicalItem:Pxe,addPolarGraphicalItem:Rxe,removePolarGraphicalItem:Ixe}=O7.actions,Dxe=O7.reducer;function _xe(e){var t=Ot(),n=E.useRef(null);return E.useLayoutEffect(()=>{n.current===null?t(kxe(e)):n.current!==e&&t(Mxe({prev:n.current,next:e})),n.current=e},[t,e]),E.useLayoutEffect(()=>()=>{n.current&&(t(Pxe(n.current)),n.current=null)},[t]),null}function Oxe(e){var t=Ot();return E.useLayoutEffect(()=>(t(Rxe(e)),()=>{t(Ixe(e))}),[t,e]),null}var Lxe=["onMouseEnter","onClick","onMouseLeave"],Bxe=["id"],Uxe=["id"];function lE(e,t){if(e==null)return{};var n,r,o=zxe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function zxe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function VR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function It(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?VR(Object(n),!0).forEach(function(r){Fxe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Fxe(e,t,n){return(t=qxe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qxe(e){var t=Hxe(e,"string");return typeof t=="symbol"?t:t+""}function Hxe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ns(){return Ns=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ns.apply(null,arguments)}function Vxe(e){var t=E.useMemo(()=>P7(e.children,T0),[e.children]),n=Ae(r=>Jge(r,e.id,t));return n==null?null:E.createElement(Nxe,{legendPayload:n})}function $xe(e){var{dataKey:t,nameKey:n,sectors:r,stroke:o,strokeWidth:i,fill:a,name:l,hide:u,tooltipType:f}=e;return{dataDefinedOnItem:r.map(h=>h.tooltipPayload),positions:r.map(h=>h.tooltipPosition),settings:{stroke:o,strokeWidth:i,fill:a,dataKey:t,nameKey:n,name:r0(l,t),hide:u,type:f,color:a,unit:""}}}var Gxe=(e,t)=>e>t?"start":e<t?"end":"middle",Kxe=(e,t,n)=>Hr(typeof t=="function"?t(e):t,n,n*.8),Wxe=(e,t,n)=>{var{top:r,left:o,width:i,height:a}=t,l=O6(i,a),u=o+Hr(e.cx,i,i/2),f=r+Hr(e.cy,a,a/2),h=Hr(e.innerRadius,l,0),p=Kxe(n,e.outerRadius,l),g=e.maxRadius||Math.sqrt(i*i+a*a)/2;return{cx:u,cy:f,innerRadius:h,outerRadius:p,maxRadius:g}},Jxe=(e,t)=>{var n=er(t-e),r=Math.min(Math.abs(t-e),360);return n*r};function Yxe(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var Xxe=(e,t)=>{if(E.isValidElement(e))return E.cloneElement(e,t);if(typeof e=="function")return e(t);var n=st("recharts-pie-label-line",typeof e!="boolean"?e.className:"");return E.createElement(JN,Ns({},t,{type:"linear",className:n}))},Qxe=(e,t,n)=>{if(E.isValidElement(e))return E.cloneElement(e,t);var r=n;if(typeof e=="function"&&(r=e(t),E.isValidElement(r)))return r;var o=st("recharts-pie-label-text",Yxe(e));return E.createElement(k0,Ns({},t,{alignmentBaseline:"middle",className:o}),r)};function Zxe(e){var{sectors:t,props:n,showLabels:r}=e,{label:o,labelLine:i,dataKey:a}=n;if(!r||!o||!t)return null;var l=yo(n),u=iu(o),f=iu(i),h=typeof o=="object"&&"offsetRadius"in o&&typeof o.offsetRadius=="number"&&o.offsetRadius||20,p=t.map((g,x)=>{var y=(g.startAngle+g.endAngle)/2,N=cn(g.cx,g.cy,g.outerRadius+h,y),C=It(It(It(It({},l),g),{},{stroke:"none"},u),{},{index:x,textAnchor:Gxe(N.x,g.cx)},N),A=It(It(It(It({},l),g),{},{fill:"none",stroke:g.fill},f),{},{index:x,points:[cn(g.cx,g.cy,g.outerRadius,y),N],key:"line"});return E.createElement($r,{key:"label-".concat(g.startAngle,"-").concat(g.endAngle,"-").concat(g.midAngle,"-").concat(x)},i&&Xxe(i,A),Qxe(o,C,Ut(g,a)))});return E.createElement($r,{className:"recharts-pie-labels"},p)}function e0e(e){var{sectors:t,props:n,showLabels:r}=e,{label:o}=n;return typeof o=="object"&&o!=null&&"position"in o?E.createElement(S7,{label:o}):E.createElement(Zxe,{sectors:t,props:n,showLabels:r})}function t0e(e){var{sectors:t,activeShape:n,inactiveShape:r,allOtherPieProps:o}=e,i=Ae(fu),{onMouseEnter:a,onClick:l,onMouseLeave:u}=o,f=lE(o,Lxe),h=vxe(a,o.dataKey),p=yxe(u),g=wxe(l,o.dataKey);return t==null||t.length===0?null:E.createElement(E.Fragment,null,t.map((x,y)=>{if((x==null?void 0:x.startAngle)===0&&(x==null?void 0:x.endAngle)===0&&t.length!==1)return null;var N=n&&String(y)===i,C=i?r:null,A=N?n:C,T=It(It({},x),{},{stroke:x.stroke,tabIndex:-1,[F6]:y,[q6]:o.dataKey});return E.createElement($r,Ns({key:"sector-".concat(x==null?void 0:x.startAngle,"-").concat(x==null?void 0:x.endAngle,"-").concat(x.midAngle,"-").concat(y),tabIndex:-1,className:"recharts-pie-sector"},DN(f,x,y),{onMouseEnter:h(x,y),onMouseLeave:p(x,y),onClick:g(x,y)}),E.createElement(bxe,Ns({option:A,isActive:N,shapeType:"sector"},T)))}))}function n0e(e){var t,{pieSettings:n,displayedData:r,cells:o,offset:i}=e,{cornerRadius:a,startAngle:l,endAngle:u,dataKey:f,nameKey:h,tooltipType:p}=n,g=Math.abs(n.minAngle),x=Jxe(l,u),y=Math.abs(x),N=r.length<=1?0:(t=n.paddingAngle)!==null&&t!==void 0?t:0,C=r.filter(I=>Ut(I,f,0)!==0).length,A=(y>=360?C:C-1)*N,T=y-C*g-A,k=r.reduce((I,P)=>{var B=Ut(P,f,0);return I+(Ie(B)?B:0)},0),D;if(k>0){var R;D=r.map((I,P)=>{var B=Ut(I,f,0),L=Ut(I,h,P),$=Wxe(n,i,I),X=(Ie(B)?B:0)/k,q,W=It(It({},I),o&&o[P]&&o[P].props);P?q=R.endAngle+er(x)*N*(B!==0?1:0):q=l;var ie=q+er(x)*((B!==0?g:0)+X*T),K=(q+ie)/2,U=($.innerRadius+$.outerRadius)/2,V=[{name:L,value:B,payload:W,dataKey:f,type:p}],pe=cn($.cx,$.cy,U,K);return R=It(It(It(It({},n.presentationProps),{},{percent:X,cornerRadius:a,name:L,tooltipPayload:V,midAngle:K,middleRadius:U,tooltipPosition:pe},W),$),{},{value:B,startAngle:q,endAngle:ie,payload:W,paddingAngle:er(x)*N}),R})}return D}function r0e(e){var{showLabels:t,sectors:n,children:r}=e,o=E.useMemo(()=>!t||!n?[]:n.map(i=>({value:i.value,payload:i.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:i.cx,cy:i.cy,innerRadius:i.innerRadius,outerRadius:i.outerRadius,startAngle:i.startAngle,endAngle:i.endAngle,clockWise:!1},fill:i.fill})),[n,t]);return E.createElement(Ige,{value:t?o:void 0},r)}function o0e(e){var{props:t,previousSectorsRef:n}=e,{sectors:r,isAnimationActive:o,animationBegin:i,animationDuration:a,animationEasing:l,activeShape:u,inactiveShape:f,onAnimationStart:h,onAnimationEnd:p}=t,g=d0(t,"recharts-pie-"),x=n.current,[y,N]=E.useState(!1),C=E.useCallback(()=>{typeof p=="function"&&p(),N(!1)},[p]),A=E.useCallback(()=>{typeof h=="function"&&h(),N(!0)},[h]);return E.createElement(r0e,{showLabels:!y,sectors:r},E.createElement(u0,{animationId:g,begin:i,duration:a,isActive:o,easing:l,onAnimationStart:A,onAnimationEnd:C,key:g},T=>{var k=[],D=r&&r[0],R=D==null?void 0:D.startAngle;return r==null||r.forEach((I,P)=>{var B=x&&x[P],L=P>0?Ml(I,"paddingAngle",0):0;if(B){var $=Yn(B.endAngle-B.startAngle,I.endAngle-I.startAngle,T),X=It(It({},I),{},{startAngle:R+L,endAngle:R+$+L});k.push(X),R=X.endAngle}else{var{endAngle:q,startAngle:W}=I,ie=Yn(0,q-W,T),K=It(It({},I),{},{startAngle:R+L,endAngle:R+ie+L});k.push(K),R=K.endAngle}}),n.current=k,E.createElement($r,null,E.createElement(t0e,{sectors:k,activeShape:u,inactiveShape:f,allOtherPieProps:t}))}),E.createElement(e0e,{showLabels:!y,sectors:r,props:t}),t.children)}var i0e={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!Hl.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function a0e(e){var{id:t}=e,n=lE(e,Bxe),{hide:r,className:o,rootTabIndex:i}=e,a=E.useMemo(()=>P7(e.children,T0),[e.children]),l=Ae(h=>Yge(h,t,a)),u=E.useRef(null),f=st("recharts-pie",o);return r||l==null?(u.current=null,E.createElement($r,{tabIndex:i,className:f})):E.createElement(E.Fragment,null,E.createElement(I7,{fn:$xe,args:It(It({},e),{},{sectors:l})}),E.createElement($r,{tabIndex:i,className:f},E.createElement(o0e,{props:It(It({},n),{},{sectors:l}),previousSectorsRef:u})))}function L7(e){var t=nr(e,i0e),{id:n}=t,r=lE(t,Uxe),o=yo(r);return E.createElement(_7,{id:n,type:"pie"},i=>E.createElement(E.Fragment,null,E.createElement(Oxe,{type:"pie",id:i,data:r.data,dataKey:r.dataKey,hide:r.hide,angleAxisId:0,radiusAxisId:0,name:r.name,nameKey:r.nameKey,tooltipType:r.tooltipType,legendType:r.legendType,fill:r.fill,cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,paddingAngle:r.paddingAngle,minAngle:r.minAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius,cornerRadius:r.cornerRadius,presentationProps:o,maxRadius:t.maxRadius}),E.createElement(Vxe,Ns({},r,{id:i})),E.createElement(a0e,Ns({},r,{id:i}))))}L7.displayName="Pie";function $R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function GR(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$R(Object(n),!0).forEach(function(r){s0e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$R(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function s0e(e,t,n){return(t=l0e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l0e(e){var t=c0e(e,"string");return typeof t=="symbol"?t:t+""}function c0e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var u0e={xAxis:{},yAxis:{},zAxis:{}},B7=Kr({name:"cartesianAxis",initialState:u0e,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:or()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:or()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:or()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:or()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:or()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:or()},updateYAxisWidth(e,t){var{id:n,width:r}=t.payload,o=e.yAxis[n];if(o){var i=o.widthHistory||[];if(i.length===3&&i[0]===i[2]&&r===i[1]&&r!==o.width&&Math.abs(r-i[0])<=1)return;var a=[...i,r].slice(-3);e.yAxis[n]=GR(GR({},e.yAxis[n]),{},{width:r,widthHistory:a})}}}}),{addXAxis:d0e,removeXAxis:f0e,addYAxis:h0e,removeYAxis:p0e,addZAxis:pCe,removeZAxis:mCe,updateYAxisWidth:m0e}=B7.actions,g0e=B7.reducer,x0e=Z([Mn],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),b0e=Z([x0e,fa,ha],(e,t,n)=>{if(!(!e||t==null||n==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),cE=()=>Ae(b0e),v0e=()=>Ae($pe);function KR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function WR(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?KR(Object(n),!0).forEach(function(r){y0e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function y0e(e,t,n){return(t=w0e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w0e(e){var t=C0e(e,"string");return typeof t=="symbol"?t:t+""}function C0e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var N0e=e=>{var{point:t,childIndex:n,mainColor:r,activeDot:o,dataKey:i}=e;if(o===!1||t.x==null||t.y==null)return null;var a=WR(WR({index:n,dataKey:i,cx:t.x,cy:t.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},iu(o)),IN(o)),l;return E.isValidElement(o)?l=E.cloneElement(o,a):typeof o=="function"?l=o(a):l=E.createElement(E7,a),E.createElement($r,{className:"recharts-active-dot"},l)};function S0e(e){var{points:t,mainColor:n,activeDot:r,itemDataKey:o}=e,i=Ae(fu),a=v0e();if(t==null||a==null)return null;var l=t.find(u=>a.includes(u.payload));return gn(l)?null:N0e({point:l,childIndex:Number(i),mainColor:n,dataKey:o,activeDot:r})}var E0e={},U7=Kr({name:"errorBars",initialState:E0e,reducers:{addErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]||(e[n]=[]),e[n].push(r)},replaceErrorBar:(e,t)=>{var{itemId:n,prev:r,next:o}=t.payload;e[n]&&(e[n]=e[n].map(i=>i.dataKey===r.dataKey&&i.direction===r.direction?o:i))},removeErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]&&(e[n]=e[n].filter(o=>o.dataKey!==r.dataKey||o.direction!==r.direction))}}}),{addErrorBar:gCe,replaceErrorBar:xCe,removeErrorBar:bCe}=U7.actions,j0e=U7.reducer,A0e=["children"];function T0e(e,t){if(e==null)return{};var n,r,o=k0e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function k0e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var M0e={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},P0e=E.createContext(M0e);function R0e(e){var{children:t}=e,n=T0e(e,A0e);return E.createElement(P0e.Provider,{value:n},t)}function z7(e,t){var n,r,o=Ae(f=>ma(f,e)),i=Ae(f=>ga(f,t)),a=(n=o==null?void 0:o.allowDataOverflow)!==null&&n!==void 0?n:Or.allowDataOverflow,l=(r=i==null?void 0:i.allowDataOverflow)!==null&&r!==void 0?r:Lr.allowDataOverflow,u=a||l;return{needClip:u,needClipX:a,needClipY:l}}function I0e(e){var{xAxisId:t,yAxisId:n,clipPathId:r}=e,o=cE(),{needClipX:i,needClipY:a,needClip:l}=z7(t,n);if(!l)return null;var{x:u,y:f,width:h,height:p}=o;return E.createElement("clipPath",{id:"clipPath-".concat(r)},E.createElement("rect",{x:i?u:u-h/2,y:a?f:f-p/2,width:i?h:h*2,height:a?p:p*2}))}var F7=e=>{var{chartData:t}=e,n=Ot(),r=Wr();return E.useEffect(()=>r?()=>{}:(n(cR(t)),()=>{n(cR(void 0))}),[t,n,r]),null},JR={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},q7=Kr({name:"brush",initialState:JR,reducers:{setBrushSettings(e,t){return t.payload==null?JR:t.payload}}}),{setBrushSettings:vCe}=q7.actions,D0e=q7.reducer;function _0e(e,t,n){return(t=O0e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function O0e(e){var t=L0e(e,"string");return typeof t=="symbol"?t:t+""}function L0e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class uE{static create(t){return new uE(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(r)switch(r){case"start":return this.scale(t);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+o}case"end":{var i=this.bandwidth?this.bandwidth():0;return this.scale(t)+i}default:return this.scale(t)}if(n){var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+a}return this.scale(t)}}isInRange(t){var n=this.range(),r=n[0],o=n[n.length-1];return r<=o?t>=r&&t<=o:t>=o&&t<=r}}_0e(uE,"EPS",1e-4);function B0e(e){return(e%180+180)%180}var U0e=function(t){var{width:n,height:r}=t,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=B0e(o),a=i*Math.PI/180,l=Math.atan(r/n),u=a>l&&a<Math.PI-l?r/Math.sin(a):n/Math.cos(a);return Math.abs(u)},z0e={dots:[],areas:[],lines:[]},H7=Kr({name:"referenceElements",initialState:z0e,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=Qi(e).dots.findIndex(r=>r===t.payload);n!==-1&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=Qi(e).areas.findIndex(r=>r===t.payload);n!==-1&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=Qi(e).lines.findIndex(r=>r===t.payload);n!==-1&&e.lines.splice(n,1)}}}),{addDot:yCe,removeDot:wCe,addArea:CCe,removeArea:NCe,addLine:SCe,removeLine:ECe}=H7.actions,F0e=H7.reducer,q0e=E.createContext(void 0),H0e=e=>{var{children:t}=e,[n]=E.useState("".concat(If("recharts"),"-clip")),r=cE();if(r==null)return null;var{x:o,y:i,width:a,height:l}=r;return E.createElement(q0e.Provider,{value:n},E.createElement("defs",null,E.createElement("clipPath",{id:n},E.createElement("rect",{x:o,y:i,height:l,width:a}))),t)};function hu(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}function V7(e,t,n){if(t<1)return[];if(t===1&&n===void 0)return e;for(var r=[],o=0;o<e.length;o+=t)r.push(e[o]);return r}function V0e(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return U0e(r,n)}function $0e(e,t,n){var r=n==="width",{x:o,y:i,width:a,height:l}=e;return t===1?{start:r?o:i,end:r?o+a:i+l}:{start:r?o+a:i+l,end:r?o:i}}function fx(e,t,n,r,o){if(e*t<e*r||e*t>e*o)return!1;var i=n();return e*(t-e*i/2-r)>=0&&e*(t+e*i/2-o)<=0}function G0e(e,t){return V7(e,t+1)}function K0e(e,t,n,r,o){for(var i=(r||[]).slice(),{start:a,end:l}=t,u=0,f=1,h=a,p=function(){var y=r==null?void 0:r[u];if(y===void 0)return{v:V7(r,f)};var N=u,C,A=()=>(C===void 0&&(C=n(y,N)),C),T=y.coordinate,k=u===0||fx(e,T,A,h,l);k||(u=0,h=a,f+=1),k&&(h=T+e*(A()/2+o),u+=f)},g;f<=i.length;)if(g=p(),g)return g.v;return[]}function YR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function Wn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?YR(Object(n),!0).forEach(function(r){W0e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function W0e(e,t,n){return(t=J0e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function J0e(e){var t=Y0e(e,"string");return typeof t=="symbol"?t:t+""}function Y0e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function X0e(e,t,n,r,o){for(var i=(r||[]).slice(),a=i.length,{start:l}=t,{end:u}=t,f=function(g){var x=i[g],y,N=()=>(y===void 0&&(y=n(x,g)),y);if(g===a-1){var C=e*(x.coordinate+e*N()/2-u);i[g]=x=Wn(Wn({},x),{},{tickCoord:C>0?x.coordinate-C*e:x.coordinate})}else i[g]=x=Wn(Wn({},x),{},{tickCoord:x.coordinate});var A=fx(e,x.tickCoord,N,l,u);A&&(u=x.tickCoord-e*(N()/2+o),i[g]=Wn(Wn({},x),{},{isShow:!0}))},h=a-1;h>=0;h--)f(h);return i}function Q0e(e,t,n,r,o,i){var a=(r||[]).slice(),l=a.length,{start:u,end:f}=t;if(i){var h=r[l-1],p=n(h,l-1),g=e*(h.coordinate+e*p/2-f);a[l-1]=h=Wn(Wn({},h),{},{tickCoord:g>0?h.coordinate-g*e:h.coordinate});var x=fx(e,h.tickCoord,()=>p,u,f);x&&(f=h.tickCoord-e*(p/2+o),a[l-1]=Wn(Wn({},h),{},{isShow:!0}))}for(var y=i?l-1:l,N=function(T){var k=a[T],D,R=()=>(D===void 0&&(D=n(k,T)),D);if(T===0){var I=e*(k.coordinate-e*R()/2-u);a[T]=k=Wn(Wn({},k),{},{tickCoord:I<0?k.coordinate-I*e:k.coordinate})}else a[T]=k=Wn(Wn({},k),{},{tickCoord:k.coordinate});var P=fx(e,k.tickCoord,R,u,f);P&&(u=k.tickCoord+e*(R()/2+o),a[T]=Wn(Wn({},k),{},{isShow:!0}))},C=0;C<y;C++)N(C);return a}function dE(e,t,n){var{tick:r,ticks:o,viewBox:i,minTickGap:a,orientation:l,interval:u,tickFormatter:f,unit:h,angle:p}=e;if(!o||!o.length||!r)return[];if(Ie(u)||Hl.isSsr){var g;return(g=G0e(o,Ie(u)?u:0))!==null&&g!==void 0?g:[]}var x=[],y=l==="top"||l==="bottom"?"width":"height",N=h&&y==="width"?gf(h,{fontSize:t,letterSpacing:n}):{width:0,height:0},C=(k,D)=>{var R=typeof f=="function"?f(k.value,D):k.value;return y==="width"?V0e(gf(R,{fontSize:t,letterSpacing:n}),N,p):gf(R,{fontSize:t,letterSpacing:n})[y]},A=o.length>=2?er(o[1].coordinate-o[0].coordinate):1,T=$0e(i,A,y);return u==="equidistantPreserveStart"?K0e(A,T,C,o,a):(u==="preserveStart"||u==="preserveStartEnd"?x=Q0e(A,T,C,o,a,u==="preserveStartEnd"):x=X0e(A,T,C,o,a),x.filter(k=>k.isShow))}var Z0e=e=>{var{ticks:t,label:n,labelGapWithTick:r=5,tickSize:o=0,tickMargin:i=0}=e,a=0;if(t){Array.from(t).forEach(h=>{if(h){var p=h.getBoundingClientRect();p.width>a&&(a=p.width)}});var l=n?n.getBoundingClientRect().width:0,u=o+i,f=a+u+l+(n?r:0);return Math.round(f)}return 0},ebe=["axisLine","width","height","className","hide","ticks"],tbe=["viewBox"],nbe=["viewBox"];function Y2(e,t){if(e==null)return{};var n,r,o=rbe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function rbe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function _l(){return _l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_l.apply(null,arguments)}function XR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function mn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?XR(Object(n),!0).forEach(function(r){obe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):XR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function obe(e,t,n){return(t=ibe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ibe(e){var t=abe(e,"string");return typeof t=="symbol"?t:t+""}function abe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fE={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"};function sbe(e){var{x:t,y:n,width:r,height:o,orientation:i,mirror:a,axisLine:l,otherSvgProps:u}=e;if(!l)return null;var f=mn(mn(mn({},u),yo(l)),{},{fill:"none"});if(i==="top"||i==="bottom"){var h=+(i==="top"&&!a||i==="bottom"&&a);f=mn(mn({},f),{},{x1:t,y1:n+h*o,x2:t+r,y2:n+h*o})}else{var p=+(i==="left"&&!a||i==="right"&&a);f=mn(mn({},f),{},{x1:t+p*r,y1:n,x2:t+p*r,y2:n+o})}return E.createElement("line",_l({},f,{className:st("recharts-cartesian-axis-line",Ml(l,"className"))}))}function lbe(e,t,n,r,o,i,a,l,u){var f,h,p,g,x,y,N=l?-1:1,C=e.tickSize||a,A=Ie(e.tickCoord)?e.tickCoord:e.coordinate;switch(i){case"top":f=h=e.coordinate,g=n+ +!l*o,p=g-N*C,y=p-N*u,x=A;break;case"left":p=g=e.coordinate,h=t+ +!l*r,f=h-N*C,x=f-N*u,y=A;break;case"right":p=g=e.coordinate,h=t+ +l*r,f=h+N*C,x=f+N*u,y=A;break;default:f=h=e.coordinate,g=n+ +l*o,p=g+N*C,y=p+N*u,x=A;break}return{line:{x1:f,y1:p,x2:h,y2:g},tick:{x,y}}}function cbe(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function ube(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function dbe(e){var{option:t,tickProps:n,value:r}=e,o,i=st(n.className,"recharts-cartesian-axis-tick-value");if(E.isValidElement(t))o=E.cloneElement(t,mn(mn({},n),{},{className:i}));else if(typeof t=="function")o=t(mn(mn({},n),{},{className:i}));else{var a="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(a=st(a,t==null?void 0:t.className)),o=E.createElement(k0,_l({},n,{className:a}),r)}return o}function fbe(e){var{ticks:t=[],tick:n,tickLine:r,stroke:o,tickFormatter:i,unit:a,padding:l,tickTextProps:u,orientation:f,mirror:h,x:p,y:g,width:x,height:y,tickSize:N,tickMargin:C,fontSize:A,letterSpacing:T,getTicksConfig:k,events:D}=e,R=dE(mn(mn({},k),{},{ticks:t}),A,T),I=cbe(f,h),P=ube(f,h),B=yo(k),L=iu(n),$={};typeof r=="object"&&($=r);var X=mn(mn({},B),{},{fill:"none"},$),q=R.map((W,ie)=>{var{line:K,tick:U}=lbe(W,p,g,x,y,f,N,h,C),V=mn(mn(mn(mn({textAnchor:I,verticalAnchor:P},B),{},{stroke:"none",fill:o},L),U),{},{index:ie,payload:W,visibleTicksCount:R.length,tickFormatter:i,padding:l},u);return E.createElement($r,_l({className:"recharts-cartesian-axis-tick",key:"tick-".concat(W.value,"-").concat(W.coordinate,"-").concat(W.tickCoord)},DN(D,W,ie)),r&&E.createElement("line",_l({},X,K,{className:st("recharts-cartesian-axis-tick-line",Ml(r,"className"))})),n&&E.createElement(dbe,{option:n,tickProps:V,value:"".concat(typeof i=="function"?i(W.value,ie):W.value).concat(a||"")}))});return q.length>0?E.createElement("g",{className:"recharts-cartesian-axis-ticks"},q):null}var hbe=E.forwardRef((e,t)=>{var{axisLine:n,width:r,height:o,className:i,hide:a,ticks:l}=e,u=Y2(e,ebe),[f,h]=E.useState(""),[p,g]=E.useState(""),x=E.useRef(null);E.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var N;return Z0e({ticks:x.current,label:(N=e.labelRef)===null||N===void 0?void 0:N.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var y=E.useCallback(N=>{if(N){var C=N.getElementsByClassName("recharts-cartesian-axis-tick-value");x.current=C;var A=C[0];if(A){var T=window.getComputedStyle(A),k=T.fontSize,D=T.letterSpacing;(k!==f||D!==p)&&(h(k),g(D))}}},[f,p]);return a||r!=null&&r<=0||o!=null&&o<=0?null:E.createElement($r,{className:st("recharts-cartesian-axis",i),ref:y},E.createElement(sbe,{x:e.x,y:e.y,width:r,height:o,orientation:e.orientation,mirror:e.mirror,axisLine:n,otherSvgProps:yo(e)}),E.createElement(fbe,{ticks:l,tick:e.tick,tickLine:e.tickLine,stroke:e.stroke,tickFormatter:e.tickFormatter,unit:e.unit,padding:e.padding,tickTextProps:e.tickTextProps,orientation:e.orientation,mirror:e.mirror,x:e.x,y:e.y,width:e.width,height:e.height,tickSize:e.tickSize,tickMargin:e.tickMargin,fontSize:f,letterSpacing:p,getTicksConfig:e,events:u}),E.createElement(dge,{x:e.x,y:e.y,width:e.width,height:e.height},E.createElement(wge,{label:e.label,labelRef:e.labelRef}),e.children))}),pbe=E.memo(hbe,(e,t)=>{var{viewBox:n}=e,r=Y2(e,tbe),{viewBox:o}=t,i=Y2(t,nbe);return hu(n,o)&&hu(r,i)}),hE=E.forwardRef((e,t)=>{var n=nr(e,fE);return E.createElement(pbe,_l({},n,{ref:t}))});hE.displayName="CartesianAxis";var mbe=["x1","y1","x2","y2","key"],gbe=["offset"],xbe=["xAxisId","yAxisId"],bbe=["xAxisId","yAxisId"];function QR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function Jn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?QR(Object(n),!0).forEach(function(r){vbe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function vbe(e,t,n){return(t=ybe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ybe(e){var t=wbe(e,"string");return typeof t=="symbol"?t:t+""}function wbe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dl(){return dl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},dl.apply(null,arguments)}function hx(e,t){if(e==null)return{};var n,r,o=Cbe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function Cbe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Nbe=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:n,x:r,y:o,width:i,height:a,ry:l}=e;return E.createElement("rect",{x:r,y:o,ry:l,width:i,height:a,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function $7(e,t){var n;if(E.isValidElement(e))n=E.cloneElement(e,t);else if(typeof e=="function")n=e(t);else{var{x1:r,y1:o,x2:i,y2:a,key:l}=t,u=hx(t,mbe),f=yo(u),{offset:h}=f,p=hx(f,gbe);n=E.createElement("line",dl({},p,{x1:r,y1:o,x2:i,y2:a,fill:"none",key:l}))}return n}function Sbe(e){var{x:t,width:n,horizontal:r=!0,horizontalPoints:o}=e;if(!r||!o||!o.length)return null;var{xAxisId:i,yAxisId:a}=e,l=hx(e,xbe),u=o.map((f,h)=>{var p=Jn(Jn({},l),{},{x1:t,y1:f,x2:t+n,y2:f,key:"line-".concat(h),index:h});return $7(r,p)});return E.createElement("g",{className:"recharts-cartesian-grid-horizontal"},u)}function Ebe(e){var{y:t,height:n,vertical:r=!0,verticalPoints:o}=e;if(!r||!o||!o.length)return null;var{xAxisId:i,yAxisId:a}=e,l=hx(e,bbe),u=o.map((f,h)=>{var p=Jn(Jn({},l),{},{x1:f,y1:t,x2:f,y2:t+n,key:"line-".concat(h),index:h});return $7(r,p)});return E.createElement("g",{className:"recharts-cartesian-grid-vertical"},u)}function jbe(e){var{horizontalFill:t,fillOpacity:n,x:r,y:o,width:i,height:a,horizontalPoints:l,horizontal:u=!0}=e;if(!u||!t||!t.length)return null;var f=l.map(p=>Math.round(p+o-o)).sort((p,g)=>p-g);o!==f[0]&&f.unshift(0);var h=f.map((p,g)=>{var x=!f[g+1],y=x?o+a-p:f[g+1]-p;if(y<=0)return null;var N=g%t.length;return E.createElement("rect",{key:"react-".concat(g),y:p,x:r,height:y,width:i,stroke:"none",fill:t[N],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return E.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function Abe(e){var{vertical:t=!0,verticalFill:n,fillOpacity:r,x:o,y:i,width:a,height:l,verticalPoints:u}=e;if(!t||!n||!n.length)return null;var f=u.map(p=>Math.round(p+o-o)).sort((p,g)=>p-g);o!==f[0]&&f.unshift(0);var h=f.map((p,g)=>{var x=!f[g+1],y=x?o+a-p:f[g+1]-p;if(y<=0)return null;var N=g%n.length;return E.createElement("rect",{key:"react-".concat(g),x:p,y:i,width:y,height:l,stroke:"none",fill:n[N],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return E.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var Tbe=(e,t)=>{var{xAxis:n,width:r,height:o,offset:i}=e;return B6(dE(Jn(Jn(Jn({},fE),n),{},{ticks:U6(n),viewBox:{x:0,y:0,width:r,height:o}})),i.left,i.left+i.width,t)},kbe=(e,t)=>{var{yAxis:n,width:r,height:o,offset:i}=e;return B6(dE(Jn(Jn(Jn({},fE),n),{},{ticks:U6(n),viewBox:{x:0,y:0,width:r,height:o}})),i.top,i.top+i.height,t)},Mbe={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function G7(e){var t=$N(),n=GN(),r=W6(),o=Jn(Jn({},nr(e,Mbe)),{},{x:Ie(e.x)?e.x:r.left,y:Ie(e.y)?e.y:r.top,width:Ie(e.width)?e.width:r.width,height:Ie(e.height)?e.height:r.height}),{xAxisId:i,yAxisId:a,x:l,y:u,width:f,height:h,syncWithTicks:p,horizontalValues:g,verticalValues:x}=o,y=Wr(),N=Ae(L=>eR(L,"xAxis",i,y)),C=Ae(L=>eR(L,"yAxis",a,y));if(!Ie(f)||f<=0||!Ie(h)||h<=0||!Ie(l)||l!==+l||!Ie(u)||u!==+u)return null;var A=o.verticalCoordinatesGenerator||Tbe,T=o.horizontalCoordinatesGenerator||kbe,{horizontalPoints:k,verticalPoints:D}=o;if((!k||!k.length)&&typeof T=="function"){var R=g&&g.length,I=T({yAxis:C?Jn(Jn({},C),{},{ticks:R?g:C.ticks}):void 0,width:t,height:n,offset:r},R?!0:p);Gg(Array.isArray(I),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof I,"]")),Array.isArray(I)&&(k=I)}if((!D||!D.length)&&typeof A=="function"){var P=x&&x.length,B=A({xAxis:N?Jn(Jn({},N),{},{ticks:P?x:N.ticks}):void 0,width:t,height:n,offset:r},P?!0:p);Gg(Array.isArray(B),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof B,"]")),Array.isArray(B)&&(D=B)}return E.createElement("g",{className:"recharts-cartesian-grid"},E.createElement(Nbe,{fill:o.fill,fillOpacity:o.fillOpacity,x:o.x,y:o.y,width:o.width,height:o.height,ry:o.ry}),E.createElement(jbe,dl({},o,{horizontalPoints:k})),E.createElement(Abe,dl({},o,{verticalPoints:D})),E.createElement(Sbe,dl({},o,{offset:r,horizontalPoints:k,xAxis:N,yAxis:C})),E.createElement(Ebe,dl({},o,{offset:r,verticalPoints:D,xAxis:N,yAxis:C})))}G7.displayName="CartesianGrid";var K7=(e,t,n,r)=>OB(e,"xAxis",t,r),W7=(e,t,n,r)=>_B(e,"xAxis",t,r),J7=(e,t,n,r)=>OB(e,"yAxis",n,r),Y7=(e,t,n,r)=>_B(e,"yAxis",n,r),Pbe=Z([yt,K7,J7,W7,Y7],(e,t,n,r,o)=>As(e,"xAxis")?E2(t,r,!1):E2(n,o,!1)),Rbe=(e,t,n,r,o)=>o;function Ibe(e){return e.type==="line"}var Dbe=Z([mB,Rbe],(e,t)=>e.filter(Ibe).find(n=>n.id===t)),_be=Z([yt,K7,J7,W7,Y7,Dbe,Pbe,yS],(e,t,n,r,o,i,a,l)=>{var{chartData:u,dataStartIndex:f,dataEndIndex:h}=l;if(!(i==null||t==null||n==null||r==null||o==null||r.length===0||o.length===0||a==null)){var{dataKey:p,data:g}=i,x;if(g!=null&&g.length>0?x=g:x=u==null?void 0:u.slice(f,h+1),x!=null)return ove({layout:e,xAxis:t,yAxis:n,xAxisTicks:r,yAxisTicks:o,dataKey:p,bandSize:a,displayedData:x})}});function Obe(e){var t=iu(e),n=3,r=2;if(t!=null){var{r:o,strokeWidth:i}=t,a=Number(o),l=Number(i);return(Number.isNaN(a)||a<0)&&(a=n),(Number.isNaN(l)||l<0)&&(l=r),{r:a,strokeWidth:l}}return{r:n,strokeWidth:r}}var Lbe=["id"],Bbe=["type","layout","connectNulls","needClip"],Ube=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function ZR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function Ur(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ZR(Object(n),!0).forEach(function(r){zbe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function zbe(e,t,n){return(t=Fbe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fbe(e){var t=qbe(e,"string");return typeof t=="symbol"?t:t+""}function qbe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pE(e,t){if(e==null)return{};var n,r,o=Hbe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function Hbe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Ol(){return Ol=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ol.apply(null,arguments)}var Vbe=e=>{var{dataKey:t,name:n,stroke:r,legendType:o,hide:i}=e;return[{inactive:i,dataKey:t,type:o,color:r,value:r0(n,t),payload:e}]};function $be(e){var{dataKey:t,data:n,stroke:r,strokeWidth:o,fill:i,name:a,hide:l,unit:u}=e;return{dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:o,fill:i,dataKey:t,nameKey:void 0,name:r0(a,t),hide:l,type:e.tooltipType,color:e.stroke,unit:u}}}var X7=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function Gbe(e,t){for(var n=e.length%2!==0?[...e,0]:e,r=[],o=0;o<t;++o)r=[...r,...n];return r}var Kbe=(e,t,n)=>{var r=n.reduce((p,g)=>p+g);if(!r)return X7(t,e);for(var o=Math.floor(e/r),i=e%r,a=t-e,l=[],u=0,f=0;u<n.length;f+=n[u],++u)if(f+n[u]>i){l=[...n.slice(0,u),i-f];break}var h=l.length%2===0?[0,a]:[a];return[...Gbe(n,o),...l,...h].map(p=>"".concat(p,"px")).join(", ")};function Wbe(e,t){var n;if(E.isValidElement(e))n=E.cloneElement(e,t);else if(typeof e=="function")n=e(t);else{var r=st("recharts-line-dot",typeof e!="boolean"?e.className:"");n=E.createElement(E7,Ol({},t,{className:r}))}return n}function Jbe(e,t){return e==null?!1:t?!0:e.length===1}function Ybe(e){var{clipPathId:t,points:n,props:r}=e,{dot:o,dataKey:i,needClip:a}=r;if(!Jbe(n,o))return null;var{id:l}=r,u=pE(r,Lbe),f=R7(o),h=yo(u),p=zoe(o),g=n.map((y,N)=>{var C=Ur(Ur(Ur({key:"dot-".concat(N),r:3},h),p),{},{index:N,cx:y.x,cy:y.y,dataKey:i,value:y.value,payload:y.payload,points:n});return Wbe(o,C)}),x={clipPath:a?"url(#clipPath-".concat(f?"":"dots-").concat(t,")"):void 0};return E.createElement($r,Ol({className:"recharts-line-dots",key:"dots"},x),g)}function Xbe(e){var{showLabels:t,children:n,points:r}=e,o=E.useMemo(()=>r==null?void 0:r.map(i=>{var a={x:i.x,y:i.y,width:0,height:0};return Ur(Ur({},a),{},{value:i.value,payload:i.payload,viewBox:a,parentViewBox:void 0,fill:void 0})}),[r]);return E.createElement(Rge,{value:t?o:null},n)}function eI(e){var{clipPathId:t,pathRef:n,points:r,strokeDasharray:o,props:i}=e,{type:a,layout:l,connectNulls:u,needClip:f}=i,h=pE(i,Bbe),p=Ur(Ur({},ur(h)),{},{fill:"none",className:"recharts-line-curve",clipPath:f?"url(#clipPath-".concat(t,")"):void 0,points:r,type:a,layout:l,connectNulls:u,strokeDasharray:o??i.strokeDasharray});return E.createElement(E.Fragment,null,(r==null?void 0:r.length)>1&&E.createElement(JN,Ol({},p,{pathRef:n})),E.createElement(Ybe,{points:r,clipPathId:t,props:i}))}function Qbe(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function Zbe(e){var{clipPathId:t,props:n,pathRef:r,previousPointsRef:o,longestAnimatedLengthRef:i}=e,{points:a,strokeDasharray:l,isAnimationActive:u,animationBegin:f,animationDuration:h,animationEasing:p,animateNewValues:g,width:x,height:y,onAnimationEnd:N,onAnimationStart:C}=n,A=o.current,T=d0(n,"recharts-line-"),[k,D]=E.useState(!1),R=!k,I=E.useCallback(()=>{typeof N=="function"&&N(),D(!1)},[N]),P=E.useCallback(()=>{typeof C=="function"&&C(),D(!0)},[C]),B=Qbe(r.current),L=i.current;return E.createElement(Xbe,{points:a,showLabels:R},n.children,E.createElement(u0,{animationId:T,begin:f,duration:h,isActive:u,easing:p,onAnimationEnd:I,onAnimationStart:P,key:T},$=>{var X=Yn(L,B+L,$),q=Math.min(X,B),W;if(u)if(l){var ie="".concat(l).split(/[,\s]+/gim).map(V=>parseFloat(V));W=Kbe(q,B,ie)}else W=X7(B,q);else W=l==null?void 0:String(l);if(A){var K=A.length/a.length,U=$===1?a:a.map((V,pe)=>{var be=Math.floor(pe*K);if(A[be]){var je=A[be];return Ur(Ur({},V),{},{x:Yn(je.x,V.x,$),y:Yn(je.y,V.y,$)})}return g?Ur(Ur({},V),{},{x:Yn(x*2,V.x,$),y:Yn(y/2,V.y,$)}):Ur(Ur({},V),{},{x:V.x,y:V.y})});return o.current=U,E.createElement(eI,{props:n,points:U,clipPathId:t,pathRef:r,strokeDasharray:W})}return $>0&&B>0&&(o.current=a,i.current=q),E.createElement(eI,{props:n,points:a,clipPathId:t,pathRef:r,strokeDasharray:W})}),E.createElement(S7,{label:n.label}))}function eve(e){var{clipPathId:t,props:n}=e,r=E.useRef(null),o=E.useRef(0),i=E.useRef(null);return E.createElement(Zbe,{props:n,clipPathId:t,previousPointsRef:r,longestAnimatedLengthRef:o,pathRef:i})}var tve=(e,t)=>({x:e.x,y:e.y,value:e.value,errorVal:Ut(e.payload,t)});class nve extends E.Component{render(){var{hide:t,dot:n,points:r,className:o,xAxisId:i,yAxisId:a,top:l,left:u,width:f,height:h,id:p,needClip:g}=this.props;if(t)return null;var x=st("recharts-line",o),y=p,{r:N,strokeWidth:C}=Obe(n),A=R7(n),T=N*2+C;return E.createElement(E.Fragment,null,E.createElement($r,{className:x},g&&E.createElement("defs",null,E.createElement(I0e,{clipPathId:y,xAxisId:i,yAxisId:a}),!A&&E.createElement("clipPath",{id:"clipPath-dots-".concat(y)},E.createElement("rect",{x:u-T/2,y:l-T/2,width:f+T,height:h+T}))),E.createElement(R0e,{xAxisId:i,yAxisId:a,data:r,dataPointFormatter:tve,errorBarOffset:0},E.createElement(eve,{props:this.props,clipPathId:y}))),E.createElement(S0e,{activeDot:this.props.activeDot,points:r,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var Q7={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!Hl.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function rve(e){var t=nr(e,Q7),{activeDot:n,animateNewValues:r,animationBegin:o,animationDuration:i,animationEasing:a,connectNulls:l,dot:u,hide:f,isAnimationActive:h,label:p,legendType:g,xAxisId:x,yAxisId:y,id:N}=t,C=pE(t,Ube),{needClip:A}=z7(x,y),T=cE(),k=KN(),D=Wr(),R=Ae($=>_be($,x,y,D,N));if(k!=="horizontal"&&k!=="vertical"||R==null||T==null)return null;var{height:I,width:P,x:B,y:L}=T;return E.createElement(nve,Ol({},C,{id:N,connectNulls:l,dot:u,activeDot:n,animateNewValues:r,animationBegin:o,animationDuration:i,animationEasing:a,isAnimationActive:h,hide:f,label:p,legendType:g,xAxisId:x,yAxisId:y,points:R,layout:k,height:I,width:P,left:B,top:L,needClip:A}))}function ove(e){var{layout:t,xAxis:n,yAxis:r,xAxisTicks:o,yAxisTicks:i,dataKey:a,bandSize:l,displayedData:u}=e;return u.map((f,h)=>{var p=Ut(f,a);if(t==="horizontal"){var g=M4({axis:n,ticks:o,bandSize:l,entry:f,index:h}),x=gn(p)?null:r.scale(p);return{x:g,y:x,value:p,payload:f}}var y=gn(p)?null:n.scale(p),N=M4({axis:r,ticks:i,bandSize:l,entry:f,index:h});return y==null||N==null?null:{x:y,y:N,value:p,payload:f}}).filter(Boolean)}function ive(e){var t=nr(e,Q7),n=Wr();return E.createElement(_7,{id:t.id,type:"line"},r=>E.createElement(E.Fragment,null,E.createElement(Cxe,{legendPayload:Vbe(t)}),E.createElement(I7,{fn:$be,args:t}),E.createElement(_xe,{type:"line",id:r,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:n}),E.createElement(rve,Ol({},t,{id:r}))))}var X2=E.memo(ive);X2.displayName="Line";var ave=["dangerouslySetInnerHTML","ticks"],sve=["id"],lve=["domain"],cve=["domain"];function Q2(){return Q2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Q2.apply(null,arguments)}function px(e,t){if(e==null)return{};var n,r,o=uve(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function uve(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function dve(e){var t=Ot();return E.useLayoutEffect(()=>(t(d0e(e)),()=>{t(f0e(e))}),[e,t]),null}var fve=e=>{var{xAxisId:t,className:n}=e,r=Ae(H6),o=Wr(),i="xAxis",a=Ae(C=>Mu(C,i,t,o)),l=Ae(C=>DB(C,i,t,o)),u=Ae(C=>Lhe(C,t)),f=Ae(C=>Hhe(C,t)),h=Ae(C=>fB(C,t));if(u==null||f==null||h==null)return null;var{dangerouslySetInnerHTML:p,ticks:g}=e,x=px(e,ave),{id:y}=h,N=px(h,sve);return E.createElement(hE,Q2({},x,N,{scale:a,x:f.x,y:f.y,width:u.width,height:u.height,className:st("recharts-".concat(i," ").concat(i),n),viewBox:r,ticks:l}))},hve={allowDataOverflow:Or.allowDataOverflow,allowDecimals:Or.allowDecimals,allowDuplicatedCategory:Or.allowDuplicatedCategory,height:Or.height,hide:!1,mirror:Or.mirror,orientation:Or.orientation,padding:Or.padding,reversed:Or.reversed,scale:Or.scale,tickCount:Or.tickCount,type:Or.type,xAxisId:0},pve=e=>{var t,n,r,o,i,a=nr(e,hve);return E.createElement(E.Fragment,null,E.createElement(dve,{interval:(t=a.interval)!==null&&t!==void 0?t:"preserveEnd",id:a.xAxisId,scale:a.scale,type:a.type,padding:a.padding,allowDataOverflow:a.allowDataOverflow,domain:a.domain,dataKey:a.dataKey,allowDuplicatedCategory:a.allowDuplicatedCategory,allowDecimals:a.allowDecimals,tickCount:a.tickCount,includeHidden:(n=a.includeHidden)!==null&&n!==void 0?n:!1,reversed:a.reversed,ticks:a.ticks,height:a.height,orientation:a.orientation,mirror:a.mirror,hide:a.hide,unit:a.unit,name:a.name,angle:(r=a.angle)!==null&&r!==void 0?r:0,minTickGap:(o=a.minTickGap)!==null&&o!==void 0?o:5,tick:(i=a.tick)!==null&&i!==void 0?i:!0,tickFormatter:a.tickFormatter}),E.createElement(fve,a))},mve=(e,t)=>{var{domain:n}=e,r=px(e,lve),{domain:o}=t,i=px(t,cve);return hu(r,i)?Array.isArray(n)&&n.length===2&&Array.isArray(o)&&o.length===2?n[0]===o[0]&&n[1]===o[1]:hu({domain:n},{domain:o}):!1},Z7=E.memo(pve,mve);Z7.displayName="XAxis";var gve=["dangerouslySetInnerHTML","ticks"],xve=["id"],bve=["domain"],vve=["domain"];function Z2(){return Z2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Z2.apply(null,arguments)}function mx(e,t){if(e==null)return{};var n,r,o=yve(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function yve(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function wve(e){var t=Ot();return E.useLayoutEffect(()=>(t(h0e(e)),()=>{t(p0e(e))}),[e,t]),null}var Cve=e=>{var{yAxisId:t,className:n,width:r,label:o}=e,i=E.useRef(null),a=E.useRef(null),l=Ae(H6),u=Wr(),f=Ot(),h="yAxis",p=Ae(R=>Mu(R,h,t,u)),g=Ae(R=>Ghe(R,t)),x=Ae(R=>$he(R,t)),y=Ae(R=>DB(R,h,t,u)),N=Ae(R=>hB(R,t));if(E.useLayoutEffect(()=>{if(!(r!=="auto"||!g||iE(o)||E.isValidElement(o)||N==null)){var R=i.current;if(R){var I=R.getCalculatedWidth();Math.round(g.width)!==Math.round(I)&&f(m0e({id:t,width:I}))}}},[y,g,f,o,t,r,N]),g==null||x==null||N==null)return null;var{dangerouslySetInnerHTML:C,ticks:A}=e,T=mx(e,gve),{id:k}=N,D=mx(N,xve);return E.createElement(hE,Z2({},T,D,{ref:i,labelRef:a,scale:p,x:x.x,y:x.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:g.width,height:g.height,className:st("recharts-".concat(h," ").concat(h),n),viewBox:l,ticks:y}))},Nve={allowDataOverflow:Lr.allowDataOverflow,allowDecimals:Lr.allowDecimals,allowDuplicatedCategory:Lr.allowDuplicatedCategory,hide:!1,mirror:Lr.mirror,orientation:Lr.orientation,padding:Lr.padding,reversed:Lr.reversed,scale:Lr.scale,tickCount:Lr.tickCount,type:Lr.type,width:Lr.width,yAxisId:0},Sve=e=>{var t,n,r,o,i,a=nr(e,Nve);return E.createElement(E.Fragment,null,E.createElement(wve,{interval:(t=a.interval)!==null&&t!==void 0?t:"preserveEnd",id:a.yAxisId,scale:a.scale,type:a.type,domain:a.domain,allowDataOverflow:a.allowDataOverflow,dataKey:a.dataKey,allowDuplicatedCategory:a.allowDuplicatedCategory,allowDecimals:a.allowDecimals,tickCount:a.tickCount,padding:a.padding,includeHidden:(n=a.includeHidden)!==null&&n!==void 0?n:!1,reversed:a.reversed,ticks:a.ticks,width:a.width,orientation:a.orientation,mirror:a.mirror,hide:a.hide,unit:a.unit,name:a.name,angle:(r=a.angle)!==null&&r!==void 0?r:0,minTickGap:(o=a.minTickGap)!==null&&o!==void 0?o:5,tick:(i=a.tick)!==null&&i!==void 0?i:!0,tickFormatter:a.tickFormatter}),E.createElement(Cve,a))},Eve=(e,t)=>{var{domain:n}=e,r=mx(e,bve),{domain:o}=t,i=mx(t,vve);return hu(r,i)?Array.isArray(n)&&n.length===2&&Array.isArray(o)&&o.length===2?n[0]===o[0]&&n[1]===o[1]:hu({domain:n},{domain:o}):!1},eU=E.memo(Sve,Eve);eU.displayName="YAxis";var lw={exports:{}},cw={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tI;function jve(){if(tI)return cw;tI=1;var e=gu();function t(u,f){return u===f&&(u!==0||1/u===1/f)||u!==u&&f!==f}var n=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,o=e.useRef,i=e.useEffect,a=e.useMemo,l=e.useDebugValue;return cw.useSyncExternalStoreWithSelector=function(u,f,h,p,g){var x=o(null);if(x.current===null){var y={hasValue:!1,value:null};x.current=y}else y=x.current;x=a(function(){function C(R){if(!A){if(A=!0,T=R,R=p(R),g!==void 0&&y.hasValue){var I=y.value;if(g(I,R))return k=I}return k=R}if(I=k,n(T,R))return I;var P=p(R);return g!==void 0&&g(I,P)?(T=R,I):(T=R,k=P)}var A=!1,T,k,D=h===void 0?null:h;return[function(){return C(f())},D===null?void 0:function(){return C(D())}]},[f,h,p,g]);var N=r(u,x[0],x[1]);return i(function(){y.hasValue=!0,y.value=N},[N]),l(N),N},cw}var nI;function Ave(){return nI||(nI=1,lw.exports=jve()),lw.exports}Ave();function Tve(e){e()}function kve(){let e=null,t=null;return{clear(){e=null,t=null},notify(){Tve(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const o=t={callback:n,next:null,prev:t};return o.prev?o.prev.next=o:e=o,function(){!r||e===null||(r=!1,o.next?o.next.prev=o.prev:t=o.prev,o.prev?o.prev.next=o.next:e=o.next)}}}}var rI={notify(){},get:()=>[]};function Mve(e,t){let n,r=rI,o=0,i=!1;function a(N){h();const C=r.subscribe(N);let A=!1;return()=>{A||(A=!0,C(),p())}}function l(){r.notify()}function u(){y.onStateChange&&y.onStateChange()}function f(){return i}function h(){o++,n||(n=e.subscribe(u),r=kve())}function p(){o--,n&&o===0&&(n(),n=void 0,r.clear(),r=rI)}function g(){i||(i=!0,h())}function x(){i&&(i=!1,p())}const y={addNestedSub:a,notifyNestedSubs:l,handleChangeWrapper:u,isSubscribed:f,trySubscribe:g,tryUnsubscribe:x,getListeners:()=>r};return y}var Pve=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Rve=Pve(),Ive=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Dve=Ive(),_ve=()=>Rve||Dve?E.useLayoutEffect:E.useEffect,Ove=_ve(),uw=Symbol.for("react-redux-context"),dw=typeof globalThis<"u"?globalThis:{};function Lve(){if(!E.createContext)return{};const e=dw[uw]??(dw[uw]=new Map);let t=e.get(E.createContext);return t||(t=E.createContext(null),e.set(E.createContext,t)),t}var Bve=Lve();function Uve(e){const{children:t,context:n,serverState:r,store:o}=e,i=E.useMemo(()=>{const u=Mve(o);return{store:o,subscription:u,getServerState:r?()=>r:void 0}},[o,r]),a=E.useMemo(()=>o.getState(),[o]);Ove(()=>{const{subscription:u}=i;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),a!==o.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[i,a]);const l=n||Bve;return E.createElement(l.Provider,{value:i},t)}var zve=Uve,Fve=(e,t)=>t,mE=Z([Fve,yt,lB,bn,ZB,xa,Qpe,Mn],rme),gE=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/r)}},tU=wo("mouseClick"),nU=eh();nU.startListening({actionCreator:tU,effect:(e,t)=>{var n=e.payload,r=mE(t.getState(),gE(n));(r==null?void 0:r.activeIndex)!=null&&t.dispatch(ipe({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var eC=wo("mouseMove"),rU=eh();rU.startListening({actionCreator:eC,effect:(e,t)=>{var n=e.payload,r=t.getState(),o=YS(r,r.tooltip.settings.shared),i=mE(r,gE(n));o==="axis"&&((i==null?void 0:i.activeIndex)!=null?t.dispatch(VB({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate})):t.dispatch(HB()))}});var oI={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},oU=Kr({name:"rootProps",initialState:oI,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(n=t.payload.barGap)!==null&&n!==void 0?n:oI.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),qve=oU.reducer,{updateOptions:Hve}=oU.actions,iU=Kr({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:Vve}=iU.actions,$ve=iU.reducer,aU=wo("keyDown"),sU=wo("focus"),xE=eh();xE.startListening({actionCreator:aU,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:o}=n.tooltip,i=e.payload;if(!(i!=="ArrowRight"&&i!=="ArrowLeft"&&i!=="Enter")){var a=Number(XS(o,Ru(n))),l=xa(n);if(i==="Enter"){var u=lx(n,"axis","hover",String(o.index));t.dispatch($2({active:!o.active,activeIndex:o.index,activeDataKey:o.dataKey,activeCoordinate:u}));return}var f=Yhe(n),h=f==="left-to-right"?1:-1,p=i==="ArrowRight"?1:-1,g=a+p*h;if(!(l==null||g>=l.length||g<0)){var x=lx(n,"axis","hover",String(g));t.dispatch($2({active:!0,activeIndex:g.toString(),activeDataKey:void 0,activeCoordinate:x}))}}}}});xE.startListening({actionCreator:sU,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:o}=n.tooltip;if(!o.active&&o.index==null){var i="0",a=lx(n,"axis","hover",String(i));t.dispatch($2({activeDataKey:void 0,active:!0,activeIndex:i,activeCoordinate:a}))}}}});var lo=wo("externalEvent"),lU=eh();lU.startListening({actionCreator:lo,effect:(e,t)=>{if(e.payload.handler!=null){var n=t.getState(),r={activeCoordinate:qpe(n),activeDataKey:zpe(n),activeIndex:fu(n),activeLabel:n7(n),activeTooltipIndex:fu(n),isTooltipActive:Hpe(n)};e.payload.handler(r,e.payload.reactEvent)}}});var Gve=Z([Pu],e=>e.tooltipItemPayloads),Kve=Z([Gve,fh,(e,t,n)=>t,(e,t,n)=>n],(e,t,n,r)=>{var o=e.find(l=>l.settings.dataKey===r);if(o!=null){var{positions:i}=o;if(i!=null){var a=t(i,n);return a}}}),cU=wo("touchMove"),uU=eh();uU.startListening({actionCreator:cU,effect:(e,t)=>{var n=e.payload,r=t.getState(),o=YS(r,r.tooltip.settings.shared);if(o==="axis"){var i=mE(r,gE({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));(i==null?void 0:i.activeIndex)!=null&&t.dispatch(VB({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate}))}else if(o==="item"){var a,l=n.touches[0],u=document.elementFromPoint(l.clientX,l.clientY);if(!u||!u.getAttribute)return;var f=u.getAttribute(F6),h=(a=u.getAttribute(q6))!==null&&a!==void 0?a:void 0,p=Kve(t.getState(),f,h);t.dispatch(qB({activeDataKey:h,activeIndex:f,activeCoordinate:p}))}}});var Wve=d6({brush:D0e,cartesianAxis:g0e,chartData:vme,errorBars:j0e,graphicalItems:Dxe,layout:Mse,legend:Ile,options:pme,polarAxis:Hge,polarOptions:$ve,referenceElements:F0e,rootProps:qve,tooltip:ape}),Jve=function(t){return tse({reducer:Wve,preloadedState:t,middleware:n=>n({serializableCheck:!1}).concat([nU.middleware,rU.middleware,xE.middleware,lU.middleware,uU.middleware]),enhancers:n=>{var r=n;return typeof n=="function"&&(r=n()),r.concat(N6({type:"raf"}))},devTools:Hl.devToolsEnabled})};function dU(e){var{preloadedState:t,children:n,reduxStoreName:r}=e,o=Wr(),i=E.useRef(null);if(o)return n;i.current==null&&(i.current=Jve(t));var a=BN;return E.createElement(zve,{context:a,store:i.current},n)}function fU(e){var{layout:t,margin:n}=e,r=Ot(),o=Wr();return E.useEffect(()=>{o||(r(Ase(t)),r(jse(n)))},[r,o,t,n]),null}function hU(e){var t=Ot();return E.useEffect(()=>{t(Hve(e))},[t,e]),null}var Yve=["children"];function Xve(e,t){if(e==null)return{};var n,r,o=Qve(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function Qve(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function gx(){return gx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gx.apply(null,arguments)}var Zve={width:"100%",height:"100%",display:"block"},eye=E.forwardRef((e,t)=>{var n=$N(),r=GN(),o=Q6();if(!su(n)||!su(r))return null;var{children:i,otherAttributes:a,title:l,desc:u}=e,f,h;return typeof a.tabIndex=="number"?f=a.tabIndex:f=o?0:void 0,typeof a.role=="string"?h=a.role:h=o?"application":void 0,E.createElement(EN,gx({},a,{title:l,desc:u,role:h,tabIndex:f,width:n,height:r,style:Zve,ref:t}),i)}),tye=e=>{var{children:t}=e,n=Ae(s0);if(!n)return null;var{width:r,height:o,y:i,x:a}=n;return E.createElement(EN,{width:r,height:o,x:a,y:i},t)},iI=E.forwardRef((e,t)=>{var{children:n}=e,r=Xve(e,Yve),o=Wr();return o?E.createElement(tye,null,n):E.createElement(eye,gx({ref:t},r),n)});function nye(){var e=Ot(),[t,n]=E.useState(null),r=Ae(nle);return E.useEffect(()=>{if(t!=null){var o=t.getBoundingClientRect(),i=o.width/t.offsetWidth;Ar(i)&&i!==r&&e(kse(i))}},[t,e,r]),n}function aI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function rye(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?aI(Object(n),!0).forEach(function(r){oye(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function oye(e,t,n){return(t=iye(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function iye(e){var t=aye(e,"string");return typeof t=="symbol"?t:t+""}function aye(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ll(){return Ll=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ll.apply(null,arguments)}var sye=()=>(Tme(),null);function xx(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var lye=E.forwardRef((e,t)=>{var n,r,o=E.useRef(null),[i,a]=E.useState({containerWidth:xx((n=e.style)===null||n===void 0?void 0:n.width),containerHeight:xx((r=e.style)===null||r===void 0?void 0:r.height)}),l=E.useCallback((f,h)=>{a(p=>{var g=Math.round(f),x=Math.round(h);return p.containerWidth===g&&p.containerHeight===x?p:{containerWidth:g,containerHeight:x}})},[]),u=E.useCallback(f=>{if(typeof t=="function"&&t(f),f!=null){var{width:h,height:p}=f.getBoundingClientRect();l(h,p);var g=y=>{var{width:N,height:C}=y[0].contentRect;l(N,C)},x=new ResizeObserver(g);x.observe(f),o.current=x}},[t,l]);return E.useEffect(()=>()=>{var f=o.current;f!=null&&f.disconnect()},[l]),E.createElement(E.Fragment,null,E.createElement(c0,{width:i.containerWidth,height:i.containerHeight}),E.createElement("div",Ll({ref:u},e)))}),cye=E.forwardRef((e,t)=>{var{width:n,height:r}=e,[o,i]=E.useState({containerWidth:xx(n),containerHeight:xx(r)}),a=E.useCallback((u,f)=>{i(h=>{var p=Math.round(u),g=Math.round(f);return h.containerWidth===p&&h.containerHeight===g?h:{containerWidth:p,containerHeight:g}})},[]),l=E.useCallback(u=>{if(typeof t=="function"&&t(u),u!=null){var{width:f,height:h}=u.getBoundingClientRect();a(f,h)}},[t,a]);return E.createElement(E.Fragment,null,E.createElement(c0,{width:o.containerWidth,height:o.containerHeight}),E.createElement("div",Ll({ref:l},e)))}),uye=E.forwardRef((e,t)=>{var{width:n,height:r}=e;return E.createElement(E.Fragment,null,E.createElement(c0,{width:n,height:r}),E.createElement("div",Ll({ref:t},e)))}),dye=E.forwardRef((e,t)=>{var{width:n,height:r}=e;return na(n)||na(r)?E.createElement(cye,Ll({},e,{ref:t})):E.createElement(uye,Ll({},e,{ref:t}))});function fye(e){return e===!0?lye:dye}var hye=E.forwardRef((e,t)=>{var{children:n,className:r,height:o,onClick:i,onContextMenu:a,onDoubleClick:l,onMouseDown:u,onMouseEnter:f,onMouseLeave:h,onMouseMove:p,onMouseUp:g,onTouchEnd:x,onTouchMove:y,onTouchStart:N,style:C,width:A,responsive:T,dispatchTouchEvents:k=!0}=e,D=E.useRef(null),R=Ot(),[I,P]=E.useState(null),[B,L]=E.useState(null),$=nye(),X=VN(),q=(X==null?void 0:X.width)>0?X.width:A,W=(X==null?void 0:X.height)>0?X.height:o,ie=E.useCallback(re=>{$(re),typeof t=="function"&&t(re),P(re),L(re),re!=null&&(D.current=re)},[$,t,P,L]),K=E.useCallback(re=>{R(tU(re)),R(lo({handler:i,reactEvent:re}))},[R,i]),U=E.useCallback(re=>{R(eC(re)),R(lo({handler:f,reactEvent:re}))},[R,f]),V=E.useCallback(re=>{R(HB()),R(lo({handler:h,reactEvent:re}))},[R,h]),pe=E.useCallback(re=>{R(eC(re)),R(lo({handler:p,reactEvent:re}))},[R,p]),be=E.useCallback(()=>{R(sU())},[R]),je=E.useCallback(re=>{R(aU(re.key))},[R]),O=E.useCallback(re=>{R(lo({handler:a,reactEvent:re}))},[R,a]),F=E.useCallback(re=>{R(lo({handler:l,reactEvent:re}))},[R,l]),te=E.useCallback(re=>{R(lo({handler:u,reactEvent:re}))},[R,u]),fe=E.useCallback(re=>{R(lo({handler:g,reactEvent:re}))},[R,g]),xe=E.useCallback(re=>{R(lo({handler:N,reactEvent:re}))},[R,N]),De=E.useCallback(re=>{k&&R(cU(re)),R(lo({handler:y,reactEvent:re}))},[R,k,y]),Le=E.useCallback(re=>{R(lo({handler:x,reactEvent:re}))},[R,x]),Oe=fye(T);return E.createElement(l7.Provider,{value:I},E.createElement(TL.Provider,{value:B},E.createElement(Oe,{width:q??(C==null?void 0:C.width),height:W??(C==null?void 0:C.height),className:st("recharts-wrapper",r),style:rye({position:"relative",cursor:"default",width:q,height:W},C),onClick:K,onContextMenu:O,onDoubleClick:F,onFocus:be,onKeyDown:je,onMouseDown:te,onMouseEnter:U,onMouseLeave:V,onMouseMove:pe,onMouseUp:fe,onTouchEnd:Le,onTouchMove:De,onTouchStart:xe,ref:ie},E.createElement(sye,null),n)))}),pye=["width","height","responsive","children","className","style","compact","title","desc"];function mye(e,t){if(e==null)return{};var n,r,o=gye(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function gye(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var pU=E.forwardRef((e,t)=>{var{width:n,height:r,responsive:o,children:i,className:a,style:l,compact:u,title:f,desc:h}=e,p=mye(e,pye),g=yo(p);return u?E.createElement(E.Fragment,null,E.createElement(c0,{width:n,height:r}),E.createElement(iI,{otherAttributes:g,title:f,desc:h},i)):E.createElement(hye,{className:a,style:l,width:n,height:r,responsive:o,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},E.createElement(iI,{otherAttributes:g,title:f,desc:h,ref:t},E.createElement(H0e,null,i)))});function tC(){return tC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tC.apply(null,arguments)}var xye={top:5,right:5,bottom:5,left:5},bye={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:xye,reverseStackOrder:!1,syncMethod:"index",responsive:!1},vye=E.forwardRef(function(t,n){var r,o=nr(t.categoricalChartProps,bye),{chartName:i,defaultTooltipEventType:a,validateTooltipEventTypes:l,tooltipPayloadSearcher:u,categoricalChartProps:f}=t,h={chartName:i,defaultTooltipEventType:a,validateTooltipEventTypes:l,tooltipPayloadSearcher:u,eventEmitter:void 0};return E.createElement(dU,{preloadedState:{options:h},reduxStoreName:(r=f.id)!==null&&r!==void 0?r:i},E.createElement(F7,{chartData:f.data}),E.createElement(fU,{layout:o.layout,margin:o.margin}),E.createElement(hU,{accessibilityLayer:o.accessibilityLayer,barCategoryGap:o.barCategoryGap,maxBarSize:o.maxBarSize,stackOffset:o.stackOffset,barGap:o.barGap,barSize:o.barSize,syncId:o.syncId,syncMethod:o.syncMethod,className:o.className}),E.createElement(pU,tC({},o,{ref:n})))}),yye=["axis"],wye=E.forwardRef((e,t)=>E.createElement(vye,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:yye,tooltipPayloadSearcher:c7,categoricalChartProps:e,ref:t}));function Cye(e){var t=Ot();return E.useEffect(()=>{t(Vve(e))},[t,e]),null}var Nye=["layout"];function nC(){return nC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nC.apply(null,arguments)}function Sye(e,t){if(e==null)return{};var n,r,o=Eye(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function Eye(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var jye={top:5,right:5,bottom:5,left:5},Aye={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:jye,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1},Tye=E.forwardRef(function(t,n){var r,o=nr(t.categoricalChartProps,Aye),{layout:i}=o,a=Sye(o,Nye),{chartName:l,defaultTooltipEventType:u,validateTooltipEventTypes:f,tooltipPayloadSearcher:h}=t,p={chartName:l,defaultTooltipEventType:u,validateTooltipEventTypes:f,tooltipPayloadSearcher:h,eventEmitter:void 0};return E.createElement(dU,{preloadedState:{options:p},reduxStoreName:(r=o.id)!==null&&r!==void 0?r:l},E.createElement(F7,{chartData:o.data}),E.createElement(fU,{layout:i,margin:o.margin}),E.createElement(hU,{accessibilityLayer:o.accessibilityLayer,barCategoryGap:o.barCategoryGap,maxBarSize:o.maxBarSize,stackOffset:o.stackOffset,barGap:o.barGap,barSize:o.barSize,syncId:o.syncId,syncMethod:o.syncMethod,className:o.className}),E.createElement(Cye,{cx:o.cx,cy:o.cy,startAngle:o.startAngle,endAngle:o.endAngle,innerRadius:o.innerRadius,outerRadius:o.outerRadius}),E.createElement(pU,nC({},a,{ref:n})))}),kye=["item"],Mye={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},Pye=E.forwardRef((e,t)=>{var n=nr(e,Mye);return E.createElement(Tye,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:kye,tooltipPayloadSearcher:c7,categoricalChartProps:n,ref:t})});const Rye=[{name:"D-6",creditos:4e3,debitos:2400},{name:"D-5",creditos:3e3,debitos:1398},{name:"D-4",creditos:2e3,debitos:9800},{name:"D-3",creditos:2780,debitos:3908},{name:"D-2",creditos:1890,debitos:4800},{name:"D-1",creditos:2390,debitos:3800},{name:"Hoje",creditos:3490,debitos:4300}],rC=[{name:"Comisses",value:45670},{name:"Bnus de Rede",value:32100},{name:"Vendas Diretas",value:18540},{name:"Outros",value:5890}],sI=["#FFD700","#EAC100","#D4AC0D","#B8950C"],oC=e=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e),Iye=({active:e,payload:t,label:n})=>e&&t&&t.length?s.jsxs("div",{className:"bg-card border border-border p-3 rounded-lg shadow-lg",children:[s.jsx("p",{className:"font-semibold text-text-title",children:n}),s.jsx("p",{style:{color:"#38C793"},children:`Crditos: ${oC(t[0].value)}`}),s.jsx("p",{style:{color:"#EF5A5A"},children:`Dbitos: ${oC(t[1].value)}`})]}):null,Dye=({active:e,payload:t})=>{if(e&&t&&t.length){const n=t[0],r=rC.reduce((i,a)=>i+a.value,0),o=(n.value/r*100).toFixed(2);return s.jsx("div",{className:"bg-card border border-border p-3 rounded-lg shadow-lg",children:s.jsx("p",{className:"font-semibold text-text-title",children:`${n.name}: ${oC(n.value/100)} (${o}%)`})})}return null},_ye=()=>s.jsxs("div",{className:"bg-card p-6 rounded-2xl border border-border h-96",children:[s.jsx("h3",{className:"text-lg font-semibold text-text-title mb-4",children:"Evoluo de Fluxo de Caixa"}),s.jsx(K6,{width:"100%",height:"90%",children:s.jsxs(wye,{data:Rye,margin:{top:5,right:20,left:-10,bottom:5},children:[s.jsx(G7,{strokeDasharray:"3 3",stroke:"#2A303B"}),s.jsx(Z7,{dataKey:"name",stroke:"#B7C0CD",fontSize:12,tickLine:!1,axisLine:!1}),s.jsx(eU,{stroke:"#B7C0CD",fontSize:12,tickLine:!1,axisLine:!1,tickFormatter:e=>`R$${Number(e)/1e3}k`}),s.jsx(h7,{content:s.jsx(Iye,{})}),s.jsx(nh,{wrapperStyle:{fontSize:"14px"}}),s.jsx(X2,{type:"monotone",dataKey:"creditos",stroke:"#38C793",strokeWidth:2,dot:{r:4,fill:"#38C793"},activeDot:{r:6}}),s.jsx(X2,{type:"monotone",dataKey:"debitos",stroke:"#EF5A5A",strokeWidth:2,dot:{r:4,fill:"#EF5A5A"},activeDot:{r:6}})]})})]}),Oye=()=>s.jsxs("div",{className:"bg-card p-6 rounded-2xl border border-border h-96",children:[s.jsx("h3",{className:"text-lg font-semibold text-text-title mb-4",children:"Receitas por Origem (Ms)"}),s.jsx(K6,{width:"100%",height:"90%",children:s.jsxs(Pye,{children:[s.jsx(L7,{data:rC,cx:"50%",cy:"50%",labelLine:!1,outerRadius:100,fill:"#8884d8",dataKey:"value",nameKey:"name",children:rC.map((e,t)=>s.jsx(T0,{fill:sI[t%sI.length]},`cell-${t}`))}),s.jsx(h7,{content:s.jsx(Dye,{})}),s.jsx(nh,{iconSize:10,wrapperStyle:{fontSize:"14px"}})]})})]}),Lye={[qi.POSTED]:{text:"Postado",color:"neutral"},[qi.PAID]:{text:"Pago",color:"success"},[qi.PENDING]:{text:"Pendente",color:"warning"},[qi.HELD]:{text:"Retido",color:"warning"},[qi.REVERSED]:{text:"Revertido",color:"danger"},[qi.FAILED]:{text:"Falhou",color:"danger"}},Bye={success:"bg-success/10 text-success border-success/20",warning:"bg-warning/10 text-warning border-warning/20",danger:"bg-danger/10 text-danger border-danger/20",info:"bg-info/10 text-info border-info/20",neutral:"bg-border/20 text-text-body border-border/40"},pu=({status:e})=>{const t=Lye[e]||{text:e,color:"neutral"};return s.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-semibold border ${Bye[t.color]}`,children:t.text})},gm=({title:e,value:t,icon:n})=>s.jsx("div",{className:"bg-card p-6 rounded-2xl border border-border shadow-custom-lg group-hover:shadow-gold/10 group-hover:border-gold focus-within:ring-2 focus-within:ring-gold/25 transition-all duration-250 h-full",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-sm font-medium text-text-body",children:e}),s.jsx("span",{className:"text-2xl lg:text-3xl font-bold text-text-title mt-1",children:t})]}),s.jsx("div",{className:"p-3 bg-surface rounded-full text-text-body group-hover:text-gold transition-colors duration-250",children:n})]})});function mU(e,t){return function(){return e.apply(t,arguments)}}const{toString:Uye}=Object.prototype,{getPrototypeOf:bE}=Object,{iterator:R0,toStringTag:gU}=Symbol,I0=(e=>t=>{const n=Uye.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),$o=e=>(e=e.toLowerCase(),t=>I0(t)===e),D0=e=>t=>typeof t===e,{isArray:Iu}=Array,mu=D0("undefined");function ph(e){return e!==null&&!mu(e)&&e.constructor!==null&&!mu(e.constructor)&&Er(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const xU=$o("ArrayBuffer");function zye(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&xU(e.buffer),t}const Fye=D0("string"),Er=D0("function"),bU=D0("number"),mh=e=>e!==null&&typeof e=="object",qye=e=>e===!0||e===!1,Im=e=>{if(I0(e)!=="object")return!1;const t=bE(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(gU in e)&&!(R0 in e)},Hye=e=>{if(!mh(e)||ph(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},Vye=$o("Date"),$ye=$o("File"),Gye=$o("Blob"),Kye=$o("FileList"),Wye=e=>mh(e)&&Er(e.pipe),Jye=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Er(e.append)&&((t=I0(e))==="formdata"||t==="object"&&Er(e.toString)&&e.toString()==="[object FormData]"))},Yye=$o("URLSearchParams"),[Xye,Qye,Zye,e1e]=["ReadableStream","Request","Response","Headers"].map($o),t1e=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function gh(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,o;if(typeof e!="object"&&(e=[e]),Iu(e))for(r=0,o=e.length;r<o;r++)t.call(null,e[r],r,e);else{if(ph(e))return;const i=n?Object.getOwnPropertyNames(e):Object.keys(e),a=i.length;let l;for(r=0;r<a;r++)l=i[r],t.call(null,e[l],l,e)}}function vU(e,t){if(ph(e))return null;t=t.toLowerCase();const n=Object.keys(e);let r=n.length,o;for(;r-- >0;)if(o=n[r],t===o.toLowerCase())return o;return null}const fl=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,yU=e=>!mu(e)&&e!==fl;function iC(){const{caseless:e,skipUndefined:t}=yU(this)&&this||{},n={},r=(o,i)=>{const a=e&&vU(n,i)||i;Im(n[a])&&Im(o)?n[a]=iC(n[a],o):Im(o)?n[a]=iC({},o):Iu(o)?n[a]=o.slice():(!t||!mu(o))&&(n[a]=o)};for(let o=0,i=arguments.length;o<i;o++)arguments[o]&&gh(arguments[o],r);return n}const n1e=(e,t,n,{allOwnKeys:r}={})=>(gh(t,(o,i)=>{n&&Er(o)?e[i]=mU(o,n):e[i]=o},{allOwnKeys:r}),e),r1e=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),o1e=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},i1e=(e,t,n,r)=>{let o,i,a;const l={};if(t=t||{},e==null)return t;do{for(o=Object.getOwnPropertyNames(e),i=o.length;i-- >0;)a=o[i],(!r||r(a,e,t))&&!l[a]&&(t[a]=e[a],l[a]=!0);e=n!==!1&&bE(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},a1e=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},s1e=e=>{if(!e)return null;if(Iu(e))return e;let t=e.length;if(!bU(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},l1e=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&bE(Uint8Array)),c1e=(e,t)=>{const r=(e&&e[R0]).call(e);let o;for(;(o=r.next())&&!o.done;){const i=o.value;t.call(e,i[0],i[1])}},u1e=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},d1e=$o("HTMLFormElement"),f1e=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,o){return r.toUpperCase()+o}),lI=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),h1e=$o("RegExp"),wU=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};gh(n,(o,i)=>{let a;(a=t(o,i,e))!==!1&&(r[i]=a||o)}),Object.defineProperties(e,r)},p1e=e=>{wU(e,(t,n)=>{if(Er(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(Er(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},m1e=(e,t)=>{const n={},r=o=>{o.forEach(i=>{n[i]=!0})};return Iu(e)?r(e):r(String(e).split(t)),n},g1e=()=>{},x1e=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function b1e(e){return!!(e&&Er(e.append)&&e[gU]==="FormData"&&e[R0])}const v1e=e=>{const t=new Array(10),n=(r,o)=>{if(mh(r)){if(t.indexOf(r)>=0)return;if(ph(r))return r;if(!("toJSON"in r)){t[o]=r;const i=Iu(r)?[]:{};return gh(r,(a,l)=>{const u=n(a,o+1);!mu(u)&&(i[l]=u)}),t[o]=void 0,i}}return r};return n(e,0)},y1e=$o("AsyncFunction"),w1e=e=>e&&(mh(e)||Er(e))&&Er(e.then)&&Er(e.catch),CU=((e,t)=>e?setImmediate:t?((n,r)=>(fl.addEventListener("message",({source:o,data:i})=>{o===fl&&i===n&&r.length&&r.shift()()},!1),o=>{r.push(o),fl.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Er(fl.postMessage)),C1e=typeof queueMicrotask<"u"?queueMicrotask.bind(fl):typeof process<"u"&&process.nextTick||CU,N1e=e=>e!=null&&Er(e[R0]),ee={isArray:Iu,isArrayBuffer:xU,isBuffer:ph,isFormData:Jye,isArrayBufferView:zye,isString:Fye,isNumber:bU,isBoolean:qye,isObject:mh,isPlainObject:Im,isEmptyObject:Hye,isReadableStream:Xye,isRequest:Qye,isResponse:Zye,isHeaders:e1e,isUndefined:mu,isDate:Vye,isFile:$ye,isBlob:Gye,isRegExp:h1e,isFunction:Er,isStream:Wye,isURLSearchParams:Yye,isTypedArray:l1e,isFileList:Kye,forEach:gh,merge:iC,extend:n1e,trim:t1e,stripBOM:r1e,inherits:o1e,toFlatObject:i1e,kindOf:I0,kindOfTest:$o,endsWith:a1e,toArray:s1e,forEachEntry:c1e,matchAll:u1e,isHTMLForm:d1e,hasOwnProperty:lI,hasOwnProp:lI,reduceDescriptors:wU,freezeMethods:p1e,toObjectSet:m1e,toCamelCase:f1e,noop:g1e,toFiniteNumber:x1e,findKey:vU,global:fl,isContextDefined:yU,isSpecCompliantForm:b1e,toJSONObject:v1e,isAsyncFn:y1e,isThenable:w1e,setImmediate:CU,asap:C1e,isIterable:N1e};function qe(e,t,n,r,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),o&&(this.response=o,this.status=o.status?o.status:null)}ee.inherits(qe,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ee.toJSONObject(this.config),code:this.code,status:this.status}}});const NU=qe.prototype,SU={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{SU[e]={value:e}});Object.defineProperties(qe,SU);Object.defineProperty(NU,"isAxiosError",{value:!0});qe.from=(e,t,n,r,o,i)=>{const a=Object.create(NU);ee.toFlatObject(e,a,function(h){return h!==Error.prototype},f=>f!=="isAxiosError");const l=e&&e.message?e.message:"Error",u=t==null&&e?e.code:t;return qe.call(a,l,u,n,r,o),e&&a.cause==null&&Object.defineProperty(a,"cause",{value:e,configurable:!0}),a.name=e&&e.name||"Error",i&&Object.assign(a,i),a};const S1e=null;function aC(e){return ee.isPlainObject(e)||ee.isArray(e)}function EU(e){return ee.endsWith(e,"[]")?e.slice(0,-2):e}function cI(e,t,n){return e?e.concat(t).map(function(o,i){return o=EU(o),!n&&i?"["+o+"]":o}).join(n?".":""):t}function E1e(e){return ee.isArray(e)&&!e.some(aC)}const j1e=ee.toFlatObject(ee,{},null,function(t){return/^is[A-Z]/.test(t)});function _0(e,t,n){if(!ee.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=ee.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(N,C){return!ee.isUndefined(C[N])});const r=n.metaTokens,o=n.visitor||h,i=n.dots,a=n.indexes,u=(n.Blob||typeof Blob<"u"&&Blob)&&ee.isSpecCompliantForm(t);if(!ee.isFunction(o))throw new TypeError("visitor must be a function");function f(y){if(y===null)return"";if(ee.isDate(y))return y.toISOString();if(ee.isBoolean(y))return y.toString();if(!u&&ee.isBlob(y))throw new qe("Blob is not supported. Use a Buffer instead.");return ee.isArrayBuffer(y)||ee.isTypedArray(y)?u&&typeof Blob=="function"?new Blob([y]):Buffer.from(y):y}function h(y,N,C){let A=y;if(y&&!C&&typeof y=="object"){if(ee.endsWith(N,"{}"))N=r?N:N.slice(0,-2),y=JSON.stringify(y);else if(ee.isArray(y)&&E1e(y)||(ee.isFileList(y)||ee.endsWith(N,"[]"))&&(A=ee.toArray(y)))return N=EU(N),A.forEach(function(k,D){!(ee.isUndefined(k)||k===null)&&t.append(a===!0?cI([N],D,i):a===null?N:N+"[]",f(k))}),!1}return aC(y)?!0:(t.append(cI(C,N,i),f(y)),!1)}const p=[],g=Object.assign(j1e,{defaultVisitor:h,convertValue:f,isVisitable:aC});function x(y,N){if(!ee.isUndefined(y)){if(p.indexOf(y)!==-1)throw Error("Circular reference detected in "+N.join("."));p.push(y),ee.forEach(y,function(A,T){(!(ee.isUndefined(A)||A===null)&&o.call(t,A,ee.isString(T)?T.trim():T,N,g))===!0&&x(A,N?N.concat(T):[T])}),p.pop()}}if(!ee.isObject(e))throw new TypeError("data must be an object");return x(e),t}function uI(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function vE(e,t){this._pairs=[],e&&_0(e,this,t)}const jU=vE.prototype;jU.append=function(t,n){this._pairs.push([t,n])};jU.toString=function(t){const n=t?function(r){return t.call(this,r,uI)}:uI;return this._pairs.map(function(o){return n(o[0])+"="+n(o[1])},"").join("&")};function A1e(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function AU(e,t,n){if(!t)return e;const r=n&&n.encode||A1e;ee.isFunction(n)&&(n={serialize:n});const o=n&&n.serialize;let i;if(o?i=o(t,n):i=ee.isURLSearchParams(t)?t.toString():new vE(t,n).toString(r),i){const a=e.indexOf("#");a!==-1&&(e=e.slice(0,a)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class dI{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){ee.forEach(this.handlers,function(r){r!==null&&t(r)})}}const TU={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},T1e=typeof URLSearchParams<"u"?URLSearchParams:vE,k1e=typeof FormData<"u"?FormData:null,M1e=typeof Blob<"u"?Blob:null,P1e={isBrowser:!0,classes:{URLSearchParams:T1e,FormData:k1e,Blob:M1e},protocols:["http","https","file","blob","url","data"]},yE=typeof window<"u"&&typeof document<"u",sC=typeof navigator=="object"&&navigator||void 0,R1e=yE&&(!sC||["ReactNative","NativeScript","NS"].indexOf(sC.product)<0),I1e=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",D1e=yE&&window.location.href||"http://localhost",_1e=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:yE,hasStandardBrowserEnv:R1e,hasStandardBrowserWebWorkerEnv:I1e,navigator:sC,origin:D1e},Symbol.toStringTag,{value:"Module"})),Xn={..._1e,...P1e};function O1e(e,t){return _0(e,new Xn.classes.URLSearchParams,{visitor:function(n,r,o,i){return Xn.isNode&&ee.isBuffer(n)?(this.append(r,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...t})}function L1e(e){return ee.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function B1e(e){const t={},n=Object.keys(e);let r;const o=n.length;let i;for(r=0;r<o;r++)i=n[r],t[i]=e[i];return t}function kU(e){function t(n,r,o,i){let a=n[i++];if(a==="__proto__")return!0;const l=Number.isFinite(+a),u=i>=n.length;return a=!a&&ee.isArray(o)?o.length:a,u?(ee.hasOwnProp(o,a)?o[a]=[o[a],r]:o[a]=r,!l):((!o[a]||!ee.isObject(o[a]))&&(o[a]=[]),t(n,r,o[a],i)&&ee.isArray(o[a])&&(o[a]=B1e(o[a])),!l)}if(ee.isFormData(e)&&ee.isFunction(e.entries)){const n={};return ee.forEachEntry(e,(r,o)=>{t(L1e(r),o,n,0)}),n}return null}function U1e(e,t,n){if(ee.isString(e))try{return(t||JSON.parse)(e),ee.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const xh={transitional:TU,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",o=r.indexOf("application/json")>-1,i=ee.isObject(t);if(i&&ee.isHTMLForm(t)&&(t=new FormData(t)),ee.isFormData(t))return o?JSON.stringify(kU(t)):t;if(ee.isArrayBuffer(t)||ee.isBuffer(t)||ee.isStream(t)||ee.isFile(t)||ee.isBlob(t)||ee.isReadableStream(t))return t;if(ee.isArrayBufferView(t))return t.buffer;if(ee.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return O1e(t,this.formSerializer).toString();if((l=ee.isFileList(t))||r.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return _0(l?{"files[]":t}:t,u&&new u,this.formSerializer)}}return i||o?(n.setContentType("application/json",!1),U1e(t)):t}],transformResponse:[function(t){const n=this.transitional||xh.transitional,r=n&&n.forcedJSONParsing,o=this.responseType==="json";if(ee.isResponse(t)||ee.isReadableStream(t))return t;if(t&&ee.isString(t)&&(r&&!this.responseType||o)){const a=!(n&&n.silentJSONParsing)&&o;try{return JSON.parse(t,this.parseReviver)}catch(l){if(a)throw l.name==="SyntaxError"?qe.from(l,qe.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Xn.classes.FormData,Blob:Xn.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ee.forEach(["delete","get","head","post","put","patch"],e=>{xh.headers[e]={}});const z1e=ee.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),F1e=e=>{const t={};let n,r,o;return e&&e.split(`
`).forEach(function(a){o=a.indexOf(":"),n=a.substring(0,o).trim().toLowerCase(),r=a.substring(o+1).trim(),!(!n||t[n]&&z1e[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},fI=Symbol("internals");function Gd(e){return e&&String(e).trim().toLowerCase()}function Dm(e){return e===!1||e==null?e:ee.isArray(e)?e.map(Dm):String(e)}function q1e(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const H1e=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function fw(e,t,n,r,o){if(ee.isFunction(r))return r.call(this,t,n);if(o&&(t=n),!!ee.isString(t)){if(ee.isString(r))return t.indexOf(r)!==-1;if(ee.isRegExp(r))return r.test(t)}}function V1e(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function $1e(e,t){const n=ee.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(o,i,a){return this[r].call(this,t,o,i,a)},configurable:!0})})}let jr=class{constructor(t){t&&this.set(t)}set(t,n,r){const o=this;function i(l,u,f){const h=Gd(u);if(!h)throw new Error("header name must be a non-empty string");const p=ee.findKey(o,h);(!p||o[p]===void 0||f===!0||f===void 0&&o[p]!==!1)&&(o[p||u]=Dm(l))}const a=(l,u)=>ee.forEach(l,(f,h)=>i(f,h,u));if(ee.isPlainObject(t)||t instanceof this.constructor)a(t,n);else if(ee.isString(t)&&(t=t.trim())&&!H1e(t))a(F1e(t),n);else if(ee.isObject(t)&&ee.isIterable(t)){let l={},u,f;for(const h of t){if(!ee.isArray(h))throw TypeError("Object iterator must return a key-value pair");l[f=h[0]]=(u=l[f])?ee.isArray(u)?[...u,h[1]]:[u,h[1]]:h[1]}a(l,n)}else t!=null&&i(n,t,r);return this}get(t,n){if(t=Gd(t),t){const r=ee.findKey(this,t);if(r){const o=this[r];if(!n)return o;if(n===!0)return q1e(o);if(ee.isFunction(n))return n.call(this,o,r);if(ee.isRegExp(n))return n.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=Gd(t),t){const r=ee.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||fw(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let o=!1;function i(a){if(a=Gd(a),a){const l=ee.findKey(r,a);l&&(!n||fw(r,r[l],l,n))&&(delete r[l],o=!0)}}return ee.isArray(t)?t.forEach(i):i(t),o}clear(t){const n=Object.keys(this);let r=n.length,o=!1;for(;r--;){const i=n[r];(!t||fw(this,this[i],i,t,!0))&&(delete this[i],o=!0)}return o}normalize(t){const n=this,r={};return ee.forEach(this,(o,i)=>{const a=ee.findKey(r,i);if(a){n[a]=Dm(o),delete n[i];return}const l=t?V1e(i):String(i).trim();l!==i&&delete n[i],n[l]=Dm(o),r[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return ee.forEach(this,(r,o)=>{r!=null&&r!==!1&&(n[o]=t&&ee.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(o=>r.set(o)),r}static accessor(t){const r=(this[fI]=this[fI]={accessors:{}}).accessors,o=this.prototype;function i(a){const l=Gd(a);r[l]||($1e(o,a),r[l]=!0)}return ee.isArray(t)?t.forEach(i):i(t),this}};jr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ee.reduceDescriptors(jr.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});ee.freezeMethods(jr);function hw(e,t){const n=this||xh,r=t||n,o=jr.from(r.headers);let i=r.data;return ee.forEach(e,function(l){i=l.call(n,i,o.normalize(),t?t.status:void 0)}),o.normalize(),i}function MU(e){return!!(e&&e.__CANCEL__)}function Du(e,t,n){qe.call(this,e??"canceled",qe.ERR_CANCELED,t,n),this.name="CanceledError"}ee.inherits(Du,qe,{__CANCEL__:!0});function PU(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new qe("Request failed with status code "+n.status,[qe.ERR_BAD_REQUEST,qe.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function G1e(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function K1e(e,t){e=e||10;const n=new Array(e),r=new Array(e);let o=0,i=0,a;return t=t!==void 0?t:1e3,function(u){const f=Date.now(),h=r[i];a||(a=f),n[o]=u,r[o]=f;let p=i,g=0;for(;p!==o;)g+=n[p++],p=p%e;if(o=(o+1)%e,o===i&&(i=(i+1)%e),f-a<t)return;const x=h&&f-h;return x?Math.round(g*1e3/x):void 0}}function W1e(e,t){let n=0,r=1e3/t,o,i;const a=(f,h=Date.now())=>{n=h,o=null,i&&(clearTimeout(i),i=null),e(...f)};return[(...f)=>{const h=Date.now(),p=h-n;p>=r?a(f,h):(o=f,i||(i=setTimeout(()=>{i=null,a(o)},r-p)))},()=>o&&a(o)]}const bx=(e,t,n=3)=>{let r=0;const o=K1e(50,250);return W1e(i=>{const a=i.loaded,l=i.lengthComputable?i.total:void 0,u=a-r,f=o(u),h=a<=l;r=a;const p={loaded:a,total:l,progress:l?a/l:void 0,bytes:u,rate:f||void 0,estimated:f&&l&&h?(l-a)/f:void 0,event:i,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(p)},n)},hI=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},pI=e=>(...t)=>ee.asap(()=>e(...t)),J1e=Xn.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,Xn.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(Xn.origin),Xn.navigator&&/(msie|trident)/i.test(Xn.navigator.userAgent)):()=>!0,Y1e=Xn.hasStandardBrowserEnv?{write(e,t,n,r,o,i,a){if(typeof document>"u")return;const l=[`${e}=${encodeURIComponent(t)}`];ee.isNumber(n)&&l.push(`expires=${new Date(n).toUTCString()}`),ee.isString(r)&&l.push(`path=${r}`),ee.isString(o)&&l.push(`domain=${o}`),i===!0&&l.push("secure"),ee.isString(a)&&l.push(`SameSite=${a}`),document.cookie=l.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function X1e(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function Q1e(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function RU(e,t,n){let r=!X1e(t);return e&&(r||n==!1)?Q1e(e,t):t}const mI=e=>e instanceof jr?{...e}:e;function Bl(e,t){t=t||{};const n={};function r(f,h,p,g){return ee.isPlainObject(f)&&ee.isPlainObject(h)?ee.merge.call({caseless:g},f,h):ee.isPlainObject(h)?ee.merge({},h):ee.isArray(h)?h.slice():h}function o(f,h,p,g){if(ee.isUndefined(h)){if(!ee.isUndefined(f))return r(void 0,f,p,g)}else return r(f,h,p,g)}function i(f,h){if(!ee.isUndefined(h))return r(void 0,h)}function a(f,h){if(ee.isUndefined(h)){if(!ee.isUndefined(f))return r(void 0,f)}else return r(void 0,h)}function l(f,h,p){if(p in t)return r(f,h);if(p in e)return r(void 0,f)}const u={url:i,method:i,data:i,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:l,headers:(f,h,p)=>o(mI(f),mI(h),p,!0)};return ee.forEach(Object.keys({...e,...t}),function(h){const p=u[h]||o,g=p(e[h],t[h],h);ee.isUndefined(g)&&p!==l||(n[h]=g)}),n}const IU=e=>{const t=Bl({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:o,xsrfCookieName:i,headers:a,auth:l}=t;if(t.headers=a=jr.from(a),t.url=AU(RU(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&a.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),ee.isFormData(n)){if(Xn.hasStandardBrowserEnv||Xn.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if(ee.isFunction(n.getHeaders)){const u=n.getHeaders(),f=["content-type","content-length"];Object.entries(u).forEach(([h,p])=>{f.includes(h.toLowerCase())&&a.set(h,p)})}}if(Xn.hasStandardBrowserEnv&&(r&&ee.isFunction(r)&&(r=r(t)),r||r!==!1&&J1e(t.url))){const u=o&&i&&Y1e.read(i);u&&a.set(o,u)}return t},Z1e=typeof XMLHttpRequest<"u",ewe=Z1e&&function(e){return new Promise(function(n,r){const o=IU(e);let i=o.data;const a=jr.from(o.headers).normalize();let{responseType:l,onUploadProgress:u,onDownloadProgress:f}=o,h,p,g,x,y;function N(){x&&x(),y&&y(),o.cancelToken&&o.cancelToken.unsubscribe(h),o.signal&&o.signal.removeEventListener("abort",h)}let C=new XMLHttpRequest;C.open(o.method.toUpperCase(),o.url,!0),C.timeout=o.timeout;function A(){if(!C)return;const k=jr.from("getAllResponseHeaders"in C&&C.getAllResponseHeaders()),R={data:!l||l==="text"||l==="json"?C.responseText:C.response,status:C.status,statusText:C.statusText,headers:k,config:e,request:C};PU(function(P){n(P),N()},function(P){r(P),N()},R),C=null}"onloadend"in C?C.onloadend=A:C.onreadystatechange=function(){!C||C.readyState!==4||C.status===0&&!(C.responseURL&&C.responseURL.indexOf("file:")===0)||setTimeout(A)},C.onabort=function(){C&&(r(new qe("Request aborted",qe.ECONNABORTED,e,C)),C=null)},C.onerror=function(D){const R=D&&D.message?D.message:"Network Error",I=new qe(R,qe.ERR_NETWORK,e,C);I.event=D||null,r(I),C=null},C.ontimeout=function(){let D=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const R=o.transitional||TU;o.timeoutErrorMessage&&(D=o.timeoutErrorMessage),r(new qe(D,R.clarifyTimeoutError?qe.ETIMEDOUT:qe.ECONNABORTED,e,C)),C=null},i===void 0&&a.setContentType(null),"setRequestHeader"in C&&ee.forEach(a.toJSON(),function(D,R){C.setRequestHeader(R,D)}),ee.isUndefined(o.withCredentials)||(C.withCredentials=!!o.withCredentials),l&&l!=="json"&&(C.responseType=o.responseType),f&&([g,y]=bx(f,!0),C.addEventListener("progress",g)),u&&C.upload&&([p,x]=bx(u),C.upload.addEventListener("progress",p),C.upload.addEventListener("loadend",x)),(o.cancelToken||o.signal)&&(h=k=>{C&&(r(!k||k.type?new Du(null,e,C):k),C.abort(),C=null)},o.cancelToken&&o.cancelToken.subscribe(h),o.signal&&(o.signal.aborted?h():o.signal.addEventListener("abort",h)));const T=G1e(o.url);if(T&&Xn.protocols.indexOf(T)===-1){r(new qe("Unsupported protocol "+T+":",qe.ERR_BAD_REQUEST,e));return}C.send(i||null)})},twe=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r=new AbortController,o;const i=function(f){if(!o){o=!0,l();const h=f instanceof Error?f:this.reason;r.abort(h instanceof qe?h:new Du(h instanceof Error?h.message:h))}};let a=t&&setTimeout(()=>{a=null,i(new qe(`timeout ${t} of ms exceeded`,qe.ETIMEDOUT))},t);const l=()=>{e&&(a&&clearTimeout(a),a=null,e.forEach(f=>{f.unsubscribe?f.unsubscribe(i):f.removeEventListener("abort",i)}),e=null)};e.forEach(f=>f.addEventListener("abort",i));const{signal:u}=r;return u.unsubscribe=()=>ee.asap(l),u}},nwe=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let r=0,o;for(;r<n;)o=r+t,yield e.slice(r,o),r=o},rwe=async function*(e,t){for await(const n of owe(e))yield*nwe(n,t)},owe=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:r}=await t.read();if(n)break;yield r}}finally{await t.cancel()}},gI=(e,t,n,r)=>{const o=rwe(e,t);let i=0,a,l=u=>{a||(a=!0,r&&r(u))};return new ReadableStream({async pull(u){try{const{done:f,value:h}=await o.next();if(f){l(),u.close();return}let p=h.byteLength;if(n){let g=i+=p;n(g)}u.enqueue(new Uint8Array(h))}catch(f){throw l(f),f}},cancel(u){return l(u),o.return()}},{highWaterMark:2})},xI=64*1024,{isFunction:xm}=ee,iwe=(({Request:e,Response:t})=>({Request:e,Response:t}))(ee.global),{ReadableStream:bI,TextEncoder:vI}=ee.global,yI=(e,...t)=>{try{return!!e(...t)}catch{return!1}},awe=e=>{e=ee.merge.call({skipUndefined:!0},iwe,e);const{fetch:t,Request:n,Response:r}=e,o=t?xm(t):typeof fetch=="function",i=xm(n),a=xm(r);if(!o)return!1;const l=o&&xm(bI),u=o&&(typeof vI=="function"?(y=>N=>y.encode(N))(new vI):async y=>new Uint8Array(await new n(y).arrayBuffer())),f=i&&l&&yI(()=>{let y=!1;const N=new n(Xn.origin,{body:new bI,method:"POST",get duplex(){return y=!0,"half"}}).headers.has("Content-Type");return y&&!N}),h=a&&l&&yI(()=>ee.isReadableStream(new r("").body)),p={stream:h&&(y=>y.body)};o&&["text","arrayBuffer","blob","formData","stream"].forEach(y=>{!p[y]&&(p[y]=(N,C)=>{let A=N&&N[y];if(A)return A.call(N);throw new qe(`Response type '${y}' is not supported`,qe.ERR_NOT_SUPPORT,C)})});const g=async y=>{if(y==null)return 0;if(ee.isBlob(y))return y.size;if(ee.isSpecCompliantForm(y))return(await new n(Xn.origin,{method:"POST",body:y}).arrayBuffer()).byteLength;if(ee.isArrayBufferView(y)||ee.isArrayBuffer(y))return y.byteLength;if(ee.isURLSearchParams(y)&&(y=y+""),ee.isString(y))return(await u(y)).byteLength},x=async(y,N)=>{const C=ee.toFiniteNumber(y.getContentLength());return C??g(N)};return async y=>{let{url:N,method:C,data:A,signal:T,cancelToken:k,timeout:D,onDownloadProgress:R,onUploadProgress:I,responseType:P,headers:B,withCredentials:L="same-origin",fetchOptions:$}=IU(y),X=t||fetch;P=P?(P+"").toLowerCase():"text";let q=twe([T,k&&k.toAbortSignal()],D),W=null;const ie=q&&q.unsubscribe&&(()=>{q.unsubscribe()});let K;try{if(I&&f&&C!=="get"&&C!=="head"&&(K=await x(B,A))!==0){let O=new n(N,{method:"POST",body:A,duplex:"half"}),F;if(ee.isFormData(A)&&(F=O.headers.get("content-type"))&&B.setContentType(F),O.body){const[te,fe]=hI(K,bx(pI(I)));A=gI(O.body,xI,te,fe)}}ee.isString(L)||(L=L?"include":"omit");const U=i&&"credentials"in n.prototype,V={...$,signal:q,method:C.toUpperCase(),headers:B.normalize().toJSON(),body:A,duplex:"half",credentials:U?L:void 0};W=i&&new n(N,V);let pe=await(i?X(W,$):X(N,V));const be=h&&(P==="stream"||P==="response");if(h&&(R||be&&ie)){const O={};["status","statusText","headers"].forEach(xe=>{O[xe]=pe[xe]});const F=ee.toFiniteNumber(pe.headers.get("content-length")),[te,fe]=R&&hI(F,bx(pI(R),!0))||[];pe=new r(gI(pe.body,xI,te,()=>{fe&&fe(),ie&&ie()}),O)}P=P||"text";let je=await p[ee.findKey(p,P)||"text"](pe,y);return!be&&ie&&ie(),await new Promise((O,F)=>{PU(O,F,{data:je,headers:jr.from(pe.headers),status:pe.status,statusText:pe.statusText,config:y,request:W})})}catch(U){throw ie&&ie(),U&&U.name==="TypeError"&&/Load failed|fetch/i.test(U.message)?Object.assign(new qe("Network Error",qe.ERR_NETWORK,y,W),{cause:U.cause||U}):qe.from(U,U&&U.code,y,W)}}},swe=new Map,DU=e=>{let t=e&&e.env||{};const{fetch:n,Request:r,Response:o}=t,i=[r,o,n];let a=i.length,l=a,u,f,h=swe;for(;l--;)u=i[l],f=h.get(u),f===void 0&&h.set(u,f=l?new Map:awe(t)),h=f;return f};DU();const wE={http:S1e,xhr:ewe,fetch:{get:DU}};ee.forEach(wE,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const wI=e=>`- ${e}`,lwe=e=>ee.isFunction(e)||e===null||e===!1;function cwe(e,t){e=ee.isArray(e)?e:[e];const{length:n}=e;let r,o;const i={};for(let a=0;a<n;a++){r=e[a];let l;if(o=r,!lwe(r)&&(o=wE[(l=String(r)).toLowerCase()],o===void 0))throw new qe(`Unknown adapter '${l}'`);if(o&&(ee.isFunction(o)||(o=o.get(t))))break;i[l||"#"+a]=o}if(!o){const a=Object.entries(i).map(([u,f])=>`adapter ${u} `+(f===!1?"is not supported by the environment":"is not available in the build"));let l=n?a.length>1?`since :
`+a.map(wI).join(`
`):" "+wI(a[0]):"as no adapter specified";throw new qe("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return o}const _U={getAdapter:cwe,adapters:wE};function pw(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Du(null,e)}function CI(e){return pw(e),e.headers=jr.from(e.headers),e.data=hw.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),_U.getAdapter(e.adapter||xh.adapter,e)(e).then(function(r){return pw(e),r.data=hw.call(e,e.transformResponse,r),r.headers=jr.from(r.headers),r},function(r){return MU(r)||(pw(e),r&&r.response&&(r.response.data=hw.call(e,e.transformResponse,r.response),r.response.headers=jr.from(r.response.headers))),Promise.reject(r)})}const OU="1.13.2",O0={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{O0[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const NI={};O0.transitional=function(t,n,r){function o(i,a){return"[Axios v"+OU+"] Transitional option '"+i+"'"+a+(r?". "+r:"")}return(i,a,l)=>{if(t===!1)throw new qe(o(a," has been removed"+(n?" in "+n:"")),qe.ERR_DEPRECATED);return n&&!NI[a]&&(NI[a]=!0,console.warn(o(a," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(i,a,l):!0}};O0.spelling=function(t){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function uwe(e,t,n){if(typeof e!="object")throw new qe("options must be an object",qe.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let o=r.length;for(;o-- >0;){const i=r[o],a=t[i];if(a){const l=e[i],u=l===void 0||a(l,i,e);if(u!==!0)throw new qe("option "+i+" must be "+u,qe.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new qe("Unknown option "+i,qe.ERR_BAD_OPTION)}}const _m={assertOptions:uwe,validators:O0},ti=_m.validators;let Cl=class{constructor(t){this.defaults=t||{},this.interceptors={request:new dI,response:new dI}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let o={};Error.captureStackTrace?Error.captureStackTrace(o):o=new Error;const i=o.stack?o.stack.replace(/^.+\n/,""):"";try{r.stack?i&&!String(r.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+i):r.stack=i}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=Bl(this.defaults,n);const{transitional:r,paramsSerializer:o,headers:i}=n;r!==void 0&&_m.assertOptions(r,{silentJSONParsing:ti.transitional(ti.boolean),forcedJSONParsing:ti.transitional(ti.boolean),clarifyTimeoutError:ti.transitional(ti.boolean)},!1),o!=null&&(ee.isFunction(o)?n.paramsSerializer={serialize:o}:_m.assertOptions(o,{encode:ti.function,serialize:ti.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),_m.assertOptions(n,{baseUrl:ti.spelling("baseURL"),withXsrfToken:ti.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let a=i&&ee.merge(i.common,i[n.method]);i&&ee.forEach(["delete","get","head","post","put","patch","common"],y=>{delete i[y]}),n.headers=jr.concat(a,i);const l=[];let u=!0;this.interceptors.request.forEach(function(N){typeof N.runWhen=="function"&&N.runWhen(n)===!1||(u=u&&N.synchronous,l.unshift(N.fulfilled,N.rejected))});const f=[];this.interceptors.response.forEach(function(N){f.push(N.fulfilled,N.rejected)});let h,p=0,g;if(!u){const y=[CI.bind(this),void 0];for(y.unshift(...l),y.push(...f),g=y.length,h=Promise.resolve(n);p<g;)h=h.then(y[p++],y[p++]);return h}g=l.length;let x=n;for(;p<g;){const y=l[p++],N=l[p++];try{x=y(x)}catch(C){N.call(this,C);break}}try{h=CI.call(this,x)}catch(y){return Promise.reject(y)}for(p=0,g=f.length;p<g;)h=h.then(f[p++],f[p++]);return h}getUri(t){t=Bl(this.defaults,t);const n=RU(t.baseURL,t.url,t.allowAbsoluteUrls);return AU(n,t.params,t.paramsSerializer)}};ee.forEach(["delete","get","head","options"],function(t){Cl.prototype[t]=function(n,r){return this.request(Bl(r||{},{method:t,url:n,data:(r||{}).data}))}});ee.forEach(["post","put","patch"],function(t){function n(r){return function(i,a,l){return this.request(Bl(l||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:a}))}}Cl.prototype[t]=n(),Cl.prototype[t+"Form"]=n(!0)});let dwe=class LU{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const r=this;this.promise.then(o=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](o);r._listeners=null}),this.promise.then=o=>{let i;const a=new Promise(l=>{r.subscribe(l),i=l}).then(o);return a.cancel=function(){r.unsubscribe(i)},a},t(function(i,a,l){r.reason||(r.reason=new Du(i,a,l),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new LU(function(o){t=o}),cancel:t}}};function fwe(e){return function(n){return e.apply(null,n)}}function hwe(e){return ee.isObject(e)&&e.isAxiosError===!0}const lC={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(lC).forEach(([e,t])=>{lC[t]=e});function BU(e){const t=new Cl(e),n=mU(Cl.prototype.request,t);return ee.extend(n,Cl.prototype,t,{allOwnKeys:!0}),ee.extend(n,t,null,{allOwnKeys:!0}),n.create=function(o){return BU(Bl(e,o))},n}const en=BU(xh);en.Axios=Cl;en.CanceledError=Du;en.CancelToken=dwe;en.isCancel=MU;en.VERSION=OU;en.toFormData=_0;en.AxiosError=qe;en.Cancel=en.CanceledError;en.all=function(t){return Promise.all(t)};en.spread=fwe;en.isAxiosError=hwe;en.mergeConfig=Bl;en.AxiosHeaders=jr;en.formToJSON=e=>kU(ee.isHTMLForm(e)?new FormData(e):e);en.getAdapter=_U.getAdapter;en.HttpStatusCode=lC;en.default=en;const{Axios:TCe,AxiosError:kCe,CanceledError:MCe,isCancel:PCe,CancelToken:RCe,VERSION:ICe,all:DCe,Cancel:_Ce,isAxiosError:OCe,spread:LCe,toFormData:BCe,AxiosHeaders:UCe,HttpStatusCode:zCe,formToJSON:FCe,getAdapter:qCe,mergeConfig:HCe}=en,pwe="http://localhost:3000/api",pn=en.create({baseURL:pwe,timeout:3e4,headers:{"Content-Type":"application/json"}});pn.interceptors.request.use(e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e));pn.interceptors.response.use(e=>e,e=>{var t;return((t=e.response)==null?void 0:t.status)===401&&(localStorage.removeItem("token"),window.location.href="/#/login"),Promise.reject(e)});const ii={getBalance:e=>pn.get(`/wallet/balance/${e}`),getTransactions:(e,t)=>pn.get(`/wallet/transactions/${e}`,{params:t}),getStatement:(e,t,n)=>pn.get(`/wallet/statement/${e}`,{params:{start_date:t,end_date:n}}),requestWithdraw:e=>pn.post("/wallet/withdraw",e),getWithdrawals:e=>pn.get(`/wallet/withdrawals/${e}`),transfer:e=>pn.post("/wallet/transfer",e),createPixKey:e=>pn.post("/wallet/pix/create",e),listPixKeys:e=>pn.get(`/wallet/pix/list/${e}`),deletePixKey:e=>pn.delete(`/wallet/pix/${e}`),createDeposit:e=>pn.post("/wallet/deposit",e)},cC={getNetwork:e=>pn.get(`/sigma/network/${e}`),getMatrix:e=>pn.get(`/sigma/matrix/${e}`),getDownlines:e=>pn.get(`/sigma/downlines/${e}`),getCycles:e=>pn.get(`/sigma/cycles/${e}`),getCycleStatus:e=>pn.get(`/sigma/cycle/status/${e}`),getDepthBonus:e=>pn.get(`/sigma/depth/${e}`),getStats:e=>pn.get(`/sigma/stats/${e}`)},Om=e=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e/100),mwe=({item:e})=>s.jsxs("div",{className:"flex items-center justify-between py-4",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${e.amount>0?"bg-success/10":"bg-danger/10"}`,children:e.amount>0?s.jsx(SL,{className:"w-5 h-5 text-success"}):s.jsx(Aoe,{className:"w-5 h-5 text-danger"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"font-semibold text-text-title",children:e.description}),s.jsx("p",{className:"text-sm text-text-body",children:new Date(e.occurredAt).toLocaleDateString("pt-BR",{day:"2-digit",month:"short"})})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:`font-bold ${e.amount>0?"text-success":"text-danger"}`,children:Om(e.amount)}),s.jsx(pu,{status:e.state})]})]}),gwe=()=>{const[t,n]=E.useState([]),[r,o]=E.useState(1),[i,a]=E.useState(!0),[l,u]=E.useState(!1),[f,h]=E.useState(!0),p=E.useRef(null),[g,x]=E.useState({balance:0,monthlyIncome:0,newNetworkMembers:0,salesVolume:0}),y=E.useMemo(()=>{var k;if(g.balance>0||!f)return g;const A=((k=Ro[0])==null?void 0:k.balanceAfter)||0,T=Ro.filter(D=>D.amount>0&&new Date(D.occurredAt).getMonth()===new Date().getMonth()).reduce((D,R)=>D+R.amount,0);return{balance:A,monthlyIncome:T,newNetworkMembers:0,salesVolume:0}},[g,f]);E.useEffect(()=>{(async()=>{var T,k,D;try{h(!0);const R=localStorage.getItem("userId")||"demo-user",[I,P,B]=await Promise.all([ii.getBalance(R).catch(()=>null),ii.getTransactions(R,{limit:5}).catch(()=>null),cC.getStats(R).catch(()=>null)]);if((T=I==null?void 0:I.data)!=null&&T.success){const L=I.data.balance.available*100;x($=>({...$,balance:L}))}if((k=P==null?void 0:P.data)!=null&&k.success)n(P.data.transactions),a(P.data.transactions.length>=5);else{const L=Ro.filter($=>$.state!=="pending");n(L.slice(0,5)),a(L.length>5)}(D=B==null?void 0:B.data)!=null&&D.success&&x(L=>({...L,newNetworkMembers:B.data.stats.new_members_month||0,salesVolume:(B.data.stats.volume_month||0)*100})),h(!1)}catch(R){console.error("Erro ao carregar dashboard:",R),h(!1);const I=Ro.filter(P=>P.state!=="pending");n(I.slice(0,5)),a(I.length>5)}})()},[]);const N=()=>{l||!i||(u(!0),setTimeout(()=>{const A=r+1,k=Ro.filter(D=>D.state!=="pending").slice(0,A*5);n(k),o(A),a(k.length<Ro.length),u(!1)},500))},C=()=>{if(p.current){const{scrollTop:A,scrollHeight:T,clientHeight:k}=p.current;A+k>=T-5&&N()}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-6",children:[s.jsx(qc,{to:"/app/transactions",className:"group",children:s.jsx(gm,{title:"Saldo Atual",value:Om(y.balance),icon:s.jsx(joe,{className:"w-6 h-6"})})}),s.jsx(qc,{to:"/app/reports",className:"group",children:s.jsx(gm,{title:"Ganhos no Ms",value:Om(y.monthlyIncome),icon:s.jsx(SL,{className:"w-6 h-6"})})}),s.jsx(qc,{to:"/app/network",className:"group",children:s.jsx(gm,{title:"Novos na Rede (Ms)",value:"+0",icon:s.jsx(NL,{className:"w-6 h-6"})})}),s.jsx(qc,{to:"/app/payments",className:"group",children:s.jsx(gm,{title:"Volume de Vendas (Ms)",value:Om(y.salesVolume),icon:s.jsx(CL,{className:"w-6 h-6"})})})]}),s.jsx(_ye,{}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-6",children:[s.jsx("div",{className:"lg:col-span-2",children:s.jsx(Oye,{})}),s.jsxs("div",{className:"lg:col-span-3 bg-card p-6 rounded-2xl border border-border flex flex-col h-96",children:[s.jsx("h3",{className:"text-lg font-semibold text-text-title mb-4 shrink-0",children:"Atividade Recente"}),s.jsxs("div",{ref:p,onScroll:C,className:"flex-1 overflow-y-auto pr-2",children:[s.jsx("div",{className:"divide-y divide-border",children:t.map(A=>s.jsx(mwe,{item:A},A.seq))}),l&&s.jsx("p",{className:"text-center py-4 text-sm text-text-soft",children:"Carregando..."}),!i&&t.length>0&&s.jsx("p",{className:"text-center py-4 text-sm text-text-soft",children:"Fim das transaes"}),t.length===0&&s.jsx("p",{className:"text-center py-4 text-sm text-text-soft",children:"Nenhuma atividade recente."})]})]})]})]})},UU=e=>{const{columns:t,data:n,onRowClick:r}=e;return s.jsxs("div",{className:"bg-card rounded-2xl border border-border overflow-hidden",children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-left",children:[s.jsx("thead",{className:"bg-surface text-xs text-text-body uppercase tracking-wider sticky top-0",children:s.jsx("tr",{children:t.map(o=>s.jsx("th",{className:"px-6 py-4 font-semibold",children:o.header},String(o.accessor)))})}),s.jsx("tbody",{className:"divide-y divide-border",children:n.map((o,i)=>s.jsx("tr",{onClick:()=>r&&r(o),className:`transition-colors hover:bg-surface/50 ${i%2!==0?"bg-white/[.02]":""} ${r?"cursor-pointer":""}`,children:t.map(a=>s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.render?a.render(o):s.jsx("span",{className:"text-sm text-text-body",children:String(o[a.accessor])})},`${o.seq}-${String(a.accessor)}`))},o.seq))})]})}),n.length===0&&s.jsx("div",{className:"text-center py-12 text-text-body",children:s.jsx("p",{children:"Nenhum registro encontrado."})})]})},bm=e=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e/100),Za=({label:e,value:t})=>s.jsxs("div",{className:"flex justify-between py-2 border-b border-border/50 text-sm items-center",children:[s.jsx("span",{className:"text-text-soft capitalize",children:e}),s.jsx("span",{className:"font-semibold text-text-title text-right",children:t||"N/A"})]}),xwe=()=>{const[e,t]=E.useState(""),[n,r]=E.useState(""),[o,i]=E.useState(""),[a,l]=E.useState(""),[u,f]=E.useState(null),[h,p]=E.useState(null),[g,x]=E.useState(!1),[y,N]=E.useState([]);E.useEffect(()=>{(async()=>{var B;try{x(!0);const L=localStorage.getItem("userId")||"demo-user",$=await ii.getTransactions(L);(B=$==null?void 0:$.data)!=null&&B.success&&N($.data.transactions)}catch(L){console.error("Erro ao carregar transaes:",L)}finally{x(!1)}})()},[]);const C=P=>f(P),A=()=>f(null),T=()=>{t(""),r(""),i(""),l("")},k=E.useMemo(()=>[{header:"Data",accessor:"occurredAt",render:P=>s.jsxs("div",{className:"text-sm",children:[s.jsx("p",{className:"text-text-title font-medium",children:new Date(P.occurredAt).toLocaleDateString("pt-BR")}),s.jsx("p",{className:"text-text-body",children:new Date(P.occurredAt).toLocaleTimeString("pt-BR")})]})},{header:"Descrio",accessor:"description",render:P=>{var L;let B=`Ref: ${P.refId}`;if((P.type===Zt.COMMISSION_SHOP||P.type===Zt.COMMISSION_REFERRAL)&&P.details){const $=[];P.details.produto&&$.push(`Produto: ${P.details.produto}`),P.details.cliente&&$.push(`Cliente: ${P.details.cliente}`),$.length>0&&(B=$.join(" | "))}else P.type===Zt.TRANSFER&&((L=P.details)!=null&&L.destinatario)&&(B=`Destinatrio: ${P.details.destinatario}`);return s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-text-title",children:P.description}),s.jsx("p",{className:"text-xs text-text-body",children:B})]})}},{header:"Tipo",accessor:"type",render:P=>s.jsx("span",{className:"text-sm text-text-body",children:a2[P.type]})},{header:"Valor",accessor:"amount",render:P=>s.jsx("span",{className:`font-semibold ${P.amount>0?"text-success":"text-danger"}`,children:bm(P.amount)})},{header:"Status",accessor:"state",render:P=>s.jsx(pu,{status:P.state})}],[]),D=Ro.filter(P=>{var K,U;const B=e.toLowerCase(),L=B?P.description.toLowerCase().includes(B)||P.refId.toLowerCase().includes(B)||(((K=P.details)==null?void 0:K.destinatario)||"").toLowerCase().includes(B)||(((U=P.details)==null?void 0:U.cliente)||"").toLowerCase().includes(B):!0,$=a?P.type===a:!0,X=new Date(P.occurredAt),q=n?new Date(`${n}T00:00:00`):null,W=o?new Date(`${o}T23:59:59`):null,ie=(!q||X>=q)&&(!W||X<=W);return L&&$&&ie}),R=()=>{if(!u)return null;const P=u.details||{},B=u.type===Zt.WITHDRAWAL&&u.state===qi.PENDING;return s.jsxs("div",{children:[s.jsxs("div",{className:"space-y-3",children:[B&&s.jsxs("div",{className:"bg-warning/10 border border-warning/20 text-warning text-sm rounded-lg p-4 mb-4 text-center",children:[s.jsx("p",{className:"font-bold",children:"Solicitao de Saque em Processamento"}),s.jsx("p",{className:"mt-1",children:"Esta solicitao ainda no foi paga. O valor ser creditado na chave PIX informada assim que a transao for concluda."})]}),s.jsx(Za,{label:"Descrio",value:u.description}),s.jsx(Za,{label:"Data da Solicitao",value:new Date(u.occurredAt).toLocaleString("pt-BR")}),s.jsx(Za,{label:"Valor",value:bm(u.amount)}),u.fee>0&&s.jsx(Za,{label:"Taxa",value:bm(u.fee)}),u.fee>0&&s.jsx(Za,{label:"Lquido",value:bm(u.amount-u.fee)}),s.jsx(Za,{label:"Status",value:s.jsx(pu,{status:u.state})}),s.jsx(Za,{label:"Referncia",value:u.refId}),Object.keys(P).length>0&&s.jsx("hr",{className:"border-border/50 my-3"}),Object.keys(P).length>0&&s.jsx("h4",{className:"font-bold text-text-title mb-2",children:"Detalhes Adicionais"}),Object.entries(P).map(([L,$])=>s.jsx(Za,{label:L,value:$},L))]}),s.jsxs("div",{className:"mt-6 flex flex-col sm:flex-row gap-2",children:[s.jsx("button",{onClick:()=>p(`Comprovante ${u.refId}`),className:"flex-1 text-center py-2 px-4 bg-surface text-text-body hover:bg-border border border-border font-semibold rounded-lg transition-colors",children:"Ver Comprovante"}),s.jsx("button",{onClick:()=>p(`Suporte para ${u.refId}`),className:"flex-1 text-center py-2 px-4 bg-surface text-text-body hover:bg-border border border-border font-semibold rounded-lg transition-colors",children:"Relatar Problema"})]})]})},I="w-full px-3 py-2 rounded-lg bg-surface border border-border focus:outline-none focus:ring-2 focus:ring-gold/25 focus:border-transparent transition-all";return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-text-title",children:"Extrato de Transaes"}),s.jsx("p",{className:"text-text-body mt-1",children:"Veja o histrico completo de movimentaes da sua conta."})]}),s.jsxs("div",{className:"bg-card p-4 rounded-2xl border border-border space-y-4",children:[s.jsxs("div",{className:"flex flex-wrap items-end gap-4",children:[s.jsxs("div",{className:"flex-grow",style:{minWidth:"250px"},children:[s.jsx("label",{className:"text-xs text-text-soft mb-1 block",children:"Buscar"}),s.jsxs("div",{className:"relative",children:[s.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3",children:s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-text-body",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("circle",{cx:"11",cy:"11",r:"8"}),s.jsx("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"})]})}),s.jsx("input",{type:"text",placeholder:"Descrio, Ref ID, nome...",className:`${I} pl-10`,value:e,onChange:P=>t(P.target.value)})]})]}),s.jsxs("div",{className:"flex-grow",style:{minWidth:"180px"},children:[s.jsx("label",{className:"text-xs text-text-soft mb-1 block",children:"Tipo"}),s.jsxs("select",{className:I,value:a,onChange:P=>l(P.target.value),children:[s.jsx("option",{value:"",children:"Todos os Tipos"}),Object.entries(a2).map(([P,B])=>s.jsx("option",{value:P,children:B},P))]})]}),s.jsxs("div",{className:"flex-grow",style:{minWidth:"130px"},children:[s.jsx("label",{className:"text-xs text-text-soft mb-1 block",children:"De"}),s.jsx("input",{type:"date",className:I,value:n,onChange:P=>r(P.target.value)})]}),s.jsxs("div",{className:"flex-grow",style:{minWidth:"130px"},children:[s.jsx("label",{className:"text-xs text-text-soft mb-1 block",children:"At"}),s.jsx("input",{type:"date",className:I,value:o,onChange:P=>i(P.target.value)})]})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx("button",{onClick:T,className:"px-4 py-2 text-sm font-semibold rounded-lg bg-surface text-text-body hover:bg-border border border-border transition-colors",children:"Limpar Filtros"}),s.jsx("button",{onClick:()=>p("Exportar Extrato"),className:"px-4 py-2 text-sm font-semibold rounded-lg bg-surface text-text-body hover:bg-border border border-border transition-colors",children:"Exportar"})]})]}),s.jsx(UU,{columns:k,data:D,onRowClick:C}),s.jsx(da,{isOpen:!!u,onClose:A,title:"Detalhes da Transao",children:R()}),s.jsx(Kx,{isOpen:!!h,onClose:()=>p(null),featureName:h||""})]})},Uc=e=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e),mw=({title:e,value:t,description:n})=>s.jsxs("div",{className:"bg-card p-6 rounded-2xl border border-border",children:[s.jsx("p",{className:"text-sm text-text-soft",children:e}),s.jsx("p",{className:"text-3xl font-bold text-text-title mt-1",children:t}),s.jsx("p",{className:"text-xs text-text-body mt-2",children:n})]}),bwe=({label:e,active:t,onClick:n})=>s.jsx("button",{onClick:n,className:`whitespace-nowrap py-4 px-4 border-b-2 font-medium text-sm transition-colors
            ${t?"border-gold text-gold":"border-transparent text-text-soft hover:text-text-body hover:border-border"}`,children:e}),vwe=({earningsData:e})=>{const[t,n]=E.useState(""),r=E.useMemo(()=>{const i=e.filter(g=>{if(!t.trim())return!0;const x=t.toLowerCase();return g.description.toLowerCase().includes(x)||g.refId.toLowerCase().includes(x)}).filter(g=>g.amount>0&&(g.type===Zt.BONUS||g.type.startsWith("commission"))),a=i.filter(g=>g.type===Zt.BONUS),l=i.filter(g=>g.type.startsWith("commission")),u=i.reduce((g,x)=>g+x.amount,0),f=a.reduce((g,x)=>g+x.amount,0),h=l.reduce((g,x)=>g+x.amount,0),p=i.reduce((g,x)=>{const y=a2[x.type]||x.type;return g[y]?new Date(x.occurredAt)>new Date(g[y].latestDate)&&(g[y].latestDate=x.occurredAt):g[y]={count:0,total:0,latestDate:x.occurredAt},g[y].count+=1,g[y].total+=x.amount,g},{});return{totalEarnings:Uc(u/100),totalBonuses:Uc(f/100),totalCommissions:Uc(h/100),breakdown:Object.keys(p).map(g=>({type:g,...p[g]})).sort((g,x)=>x.total-g.total)}},[e,t]);return s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"bg-card p-4 rounded-2xl border border-border",children:s.jsxs("div",{className:"relative",children:[s.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3",children:s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-text-body",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("circle",{cx:"11",cy:"11",r:"8"}),s.jsx("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"})]})}),s.jsx("input",{type:"text",placeholder:"Filtrar ganhos por descrio ou Ref ID...",className:"w-full sm:w-96 pl-10 pr-4 py-2 rounded-lg bg-surface border border-border focus:outline-none focus:ring-2 focus:ring-gold/25 focus:border-transparent transition-all",value:t,onChange:o=>n(o.target.value)})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[s.jsx(mw,{title:"Ganhos Totais",value:r.totalEarnings,description:"Soma de todos os bnus e comisses."}),s.jsx(mw,{title:"Total em Bnus",value:r.totalBonuses,description:"Ganhos de bnus de ciclo, profundidade, etc."}),s.jsx(mw,{title:"Total em Comisses",value:r.totalCommissions,description:"Ganhos de comisses por vendas e indicaes."})]}),s.jsxs("div",{className:"bg-card rounded-2xl border border-border overflow-hidden",children:[s.jsxs("div",{className:"p-6",children:[s.jsx("h3",{className:"text-lg font-bold text-text-title",children:"Detalhamento de Ganhos"}),s.jsx("p",{className:"text-sm text-text-soft mt-1",children:"Ganhos detalhados por tipo de transao no perodo."})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-left",children:[s.jsx("thead",{className:"bg-surface text-xs text-text-body uppercase tracking-wider",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-4 font-semibold",children:"Tipo de Ganho"}),s.jsx("th",{className:"px-6 py-4 font-semibold text-center",children:"N de Transaes"}),s.jsx("th",{className:"px-6 py-4 font-semibold text-right",children:"Valor Total"})]})}),s.jsx("tbody",{className:"divide-y divide-border",children:r.breakdown.length>0?r.breakdown.map(o=>s.jsxs("tr",{className:"hover:bg-surface/50",children:[s.jsx("td",{className:"px-6 py-4 font-medium text-text-title",children:o.type}),s.jsx("td",{className:"px-6 py-4 text-center text-text-body",children:o.count}),s.jsx("td",{className:"px-6 py-4 text-right font-semibold text-success",children:Uc(o.total/100)})]},o.type)):s.jsx("tr",{children:s.jsx("td",{colSpan:3,className:"text-center py-12 text-text-body",children:"Nenhum ganho encontrado para o perodo selecionado."})})})]})})]}),s.jsxs("div",{className:"bg-card rounded-2xl border border-border overflow-hidden",children:[s.jsxs("div",{className:"p-6",children:[s.jsx("h3",{className:"text-lg font-bold text-text-title",children:"Anlise por Tipo de Ganho"}),s.jsx("p",{className:"text-sm text-text-soft mt-1",children:"Mtricas adicionais para cada categoria de ganho."})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-left",children:[s.jsx("thead",{className:"bg-surface text-xs text-text-body uppercase tracking-wider",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-4 font-semibold",children:"Tipo de Ganho"}),s.jsx("th",{className:"px-6 py-4 font-semibold",children:"ltima Transao"}),s.jsx("th",{className:"px-6 py-4 font-semibold text-right",children:"Valor Mdio"}),s.jsx("th",{className:"px-6 py-4 font-semibold text-center",children:"Total de Transaes"})]})}),s.jsx("tbody",{className:"divide-y divide-border",children:r.breakdown.length>0?r.breakdown.map(o=>s.jsxs("tr",{className:"hover:bg-surface/50",children:[s.jsx("td",{className:"px-6 py-4 font-medium text-text-title",children:o.type}),s.jsx("td",{className:"px-6 py-4 text-text-body",children:new Date(o.latestDate).toLocaleDateString("pt-BR")}),s.jsx("td",{className:"px-6 py-4 text-right font-semibold text-info",children:Uc(o.total/o.count/100)}),s.jsx("td",{className:"px-6 py-4 text-center text-text-body",children:o.count})]},o.type)):s.jsx("tr",{children:s.jsx("td",{colSpan:4,className:"text-center py-12 text-text-body",children:"Nenhum dado para analisar no perodo selecionado."})})})]})})]})]})},ywe=()=>{const{achievedPins:e,nextPin:t}=E.useMemo(()=>{const n=em.careerPlan.findIndex(i=>i.pin===Gi.currentPin);if(n===-1)return{achievedPins:[],nextPin:em.careerPlan[0]};const r=em.careerPlan.slice(0,n+1),o=em.careerPlan[n+1]||null;return{achievedPins:r,nextPin:o}},[]);return s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"bg-card rounded-2xl border border-border p-4 text-center text-sm text-info bg-info/5",children:"Nota: O progresso de carreira exibe dados cumulativos de toda a sua jornada e no  afetado pelo filtro de data."}),s.jsxs("div",{className:"bg-card rounded-2xl border border-border overflow-hidden",children:[s.jsxs("div",{className:"p-6",children:[s.jsx("h3",{className:"text-lg font-bold text-text-title",children:"PINs Alcanados"}),s.jsx("p",{className:"text-sm text-text-soft mt-1",children:"Seu histrico de conquistas no plano de carreira."})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-left",children:[s.jsx("thead",{className:"bg-surface text-xs text-text-body uppercase tracking-wider",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-4 font-semibold",children:"PIN"}),s.jsx("th",{className:"px-6 py-4 font-semibold",children:"Ciclos Necessrios"}),s.jsx("th",{className:"px-6 py-4 font-semibold text-right",children:"Recompensa Ganhada"}),s.jsx("th",{className:"px-6 py-4 font-semibold text-center",children:"Status"})]})}),s.jsx("tbody",{className:"divide-y divide-border",children:e.map(n=>s.jsxs("tr",{className:"hover:bg-surface/50",children:[s.jsx("td",{className:"px-6 py-4 font-medium text-gold",children:n.pin}),s.jsx("td",{className:"px-6 py-4 text-text-body",children:n.cycles}),s.jsx("td",{className:"px-6 py-4 text-right font-semibold text-success",children:Uc(n.reward)}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-semibold bg-success/10 text-success border border-success/20",children:"Alcanado"})})]},n.pin))})]})})]}),t&&s.jsxs("div",{className:"bg-card rounded-2xl border border-border p-6",children:[s.jsxs("h3",{className:"text-lg font-bold text-text-title",children:["Prximo Nvel: ",s.jsx("span",{className:"text-gold",children:t.pin})]}),s.jsxs("p",{className:"text-sm text-text-soft mt-1",children:["Faltam ",s.jsx("span",{className:"font-bold text-text-title",children:t.cycles-Gi.currentCycles})," ciclos para sua prxima graduao."]}),s.jsxs("div",{className:"mt-4",children:[s.jsxs("div",{className:"flex justify-between items-center mb-1",children:[s.jsx("span",{className:"text-sm font-medium text-text-body",children:"Progresso"}),s.jsxs("span",{className:"text-sm font-bold text-gold",children:[Gi.currentCycles," / ",t.cycles]})]}),s.jsx("div",{className:"w-full bg-surface rounded-full h-2.5",children:s.jsx("div",{className:"bg-gold h-2.5 rounded-full",style:{width:`${Gi.currentCycles/t.cycles*100}%`}})})]})]})]})},wwe=()=>{var f;const[e,t]=E.useState("summary"),[n,r]=E.useState(""),[o,i]=E.useState(""),a=E.useMemo(()=>Ro.filter(h=>{const p=new Date(h.occurredAt);if(n){const g=new Date(n);if(g.setHours(0,0,0,0),p<g)return!1}if(o){const g=new Date(o);if(g.setHours(23,59,59,999),p>g)return!1}return!0}),[n,o]),l=()=>{r(""),i("")},u=[{id:"summary",label:"Resumo de Ganhos",component:s.jsx(vwe,{earningsData:a})},{id:"progress",label:"Progresso de Carreira",component:s.jsx(ywe,{})}];return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-text-title",children:"Relatrios de Desempenho"}),s.jsx("p",{className:"text-text-body mt-1",children:"Acompanhe seus ganhos e seu progresso de carreira."})]}),s.jsxs("div",{className:"bg-card p-4 rounded-2xl border border-border flex flex-col sm:flex-row items-center gap-4",children:[s.jsxs("div",{className:"flex-1 w-full sm:w-auto",children:[s.jsx("label",{htmlFor:"start-date",className:"text-xs text-text-soft mb-1 block",children:"Data de Incio"}),s.jsx("input",{type:"date",id:"start-date",value:n,onChange:h=>r(h.target.value),className:"w-full px-3 py-2 rounded-lg bg-surface border border-border focus:outline-none focus:ring-2 focus:ring-gold/25"})]}),s.jsxs("div",{className:"flex-1 w-full sm:w-auto",children:[s.jsx("label",{htmlFor:"end-date",className:"text-xs text-text-soft mb-1 block",children:"Data de Fim"}),s.jsx("input",{type:"date",id:"end-date",value:o,onChange:h=>i(h.target.value),className:"w-full px-3 py-2 rounded-lg bg-surface border border-border focus:outline-none focus:ring-2 focus:ring-gold/25"})]}),s.jsx("div",{className:"self-end",children:s.jsx("button",{onClick:l,className:"px-4 py-2 text-sm font-semibold rounded-lg bg-surface text-text-body hover:bg-border border border-border transition-colors h-full",children:"Limpar"})})]}),s.jsx("div",{className:"border-b border-border",children:s.jsx("nav",{className:"flex flex-wrap -mb-px","aria-label":"Tabs",children:u.map(h=>s.jsx(bwe,{label:h.label,active:e===h.id,onClick:()=>t(h.id)},h.id))})}),s.jsx("div",{className:"mt-6",children:(f=u.find(h=>h.id===e))==null?void 0:f.component})]})},Kd=({label:e,value:t})=>s.jsxs("div",{className:"flex justify-between py-3 border-b border-border/50 text-sm items-center",children:[s.jsx("span",{className:"text-text-soft capitalize",children:e}),s.jsx("span",{className:"font-semibold text-text-title text-right",children:t||"N/A"})]}),Cwe=({consultant:e,onDetailsClick:t})=>s.jsxs("div",{className:"bg-card p-5 rounded-2xl border border-border shadow-custom-lg transition-all duration-300 hover:border-gold hover:shadow-gold/10 flex flex-col text-center items-center",children:[s.jsx("img",{src:e.avatarUrl,alt:e.name,className:"w-20 h-20 rounded-full border-4 border-surface mb-4"}),s.jsx("h3",{className:"font-bold text-text-title text-lg",children:e.name}),s.jsxs("p",{className:"text-sm text-text-soft mb-2",children:["ID: ",e.id]}),s.jsx("div",{className:"my-2 inline-flex items-center px-3 py-1 rounded-full text-xs font-semibold bg-gold/10 text-gold border border-gold/20",children:e.pin}),s.jsxs("div",{className:"flex items-center text-sm mt-2",children:[s.jsx("span",{className:`w-2.5 h-2.5 rounded-full mr-2 ${e.status==="active"?"bg-success":"bg-text-soft/50"}`}),e.status==="active"?"Ativo":"Inativo"]}),s.jsx("button",{onClick:t,className:"mt-4 w-full px-4 py-2 text-sm font-semibold rounded-lg bg-surface text-text-body hover:bg-gold hover:text-base border border-border hover:border-gold transition-colors",children:"Ver Detalhes"})]}),Nwe=()=>{const[e,t]=E.useState(""),[n,r]=E.useState(null),[o,i]=E.useState(!1),[a,l]=E.useState([]),[u,f]=E.useState(null);E.useEffect(()=>{(async()=>{var y,N;try{i(!0);const C=localStorage.getItem("userId")||"demo-user",[A,T]=await Promise.all([cC.getDownlines(C).catch(()=>null),cC.getStats(C).catch(()=>null)]);(y=A==null?void 0:A.data)!=null&&y.success&&l(A.data.downlines),(N=T==null?void 0:T.data)!=null&&N.success&&f(T.data.stats)}catch(C){console.error("Erro ao carregar rede:",C)}finally{i(!1)}})()},[]);const h=E.useMemo(()=>e.trim()?s2.filter(x=>x.name.toLowerCase().includes(e.toLowerCase())||x.id.toLowerCase().includes(e.toLowerCase())):s2,[e]),p=()=>r(null),g=()=>n?s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex flex-col items-center pb-4 mb-2 border-b border-border/50",children:[s.jsx("img",{src:n.avatarUrl,alt:n.name,className:"w-24 h-24 rounded-full border-4 border-surface mb-4"}),s.jsx("h3",{className:"font-bold text-text-title text-xl",children:n.name}),s.jsxs("p",{className:"text-sm text-text-soft",children:["ID: ",n.id]})]}),s.jsx(Kd,{label:"PIN",value:n.pin}),s.jsx(Kd,{label:"Status",value:s.jsxs("div",{className:"flex items-center justify-end",children:[s.jsx("span",{className:`w-2.5 h-2.5 rounded-full mr-2 ${n.status==="active"?"bg-success":"bg-text-soft/50"}`}),n.status==="active"?"Ativo":"Inativo"]})}),s.jsx(Kd,{label:"Email",value:"email@exemplo.com"}),s.jsx(Kd,{label:"Telefone",value:"(99) 99999-9999"}),s.jsx(Kd,{label:"Membro Desde",value:"12/08/2023"})]}):null;return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-card p-4 rounded-2xl border border-border flex flex-col sm:flex-row items-center justify-between gap-4",children:[s.jsx("h2",{className:"text-xl font-semibold text-text-title",children:"Minha Rede"}),s.jsxs("div",{className:"relative w-full sm:w-auto",children:[s.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3",children:s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-text-body",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("circle",{cx:"11",cy:"11",r:"8"}),s.jsx("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"})]})}),s.jsx("input",{type:"text",placeholder:"Buscar por nome ou ID...",className:"w-full sm:w-80 pl-10 pr-4 py-2 rounded-lg bg-surface border border-border focus:outline-none focus:ring-2 focus:ring-gold/25 focus:border-transparent transition-all",value:e,onChange:x=>t(x.target.value)})]})]}),h.length>0?s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:h.map(x=>s.jsx(Cwe,{consultant:x,onDetailsClick:()=>r(x)},x.id))}):s.jsx("div",{className:"text-center py-12 text-text-body bg-card rounded-2xl border border-border",children:s.jsx("p",{children:"Nenhum consultor encontrado."})}),s.jsx(da,{isOpen:!!n,onClose:p,title:"Detalhes do Consultor",children:g()})]})},xf=({title:e,description:t,children:n,footer:r})=>s.jsxs("div",{className:"bg-card rounded-2xl border border-border shadow-custom-lg",children:[s.jsxs("div",{className:"p-6 border-b border-border",children:[s.jsx("h3",{className:"text-lg font-bold text-text-title",children:e}),s.jsx("p",{className:"text-sm text-text-soft mt-1",children:t})]}),s.jsx("div",{className:"p-6",children:n}),r&&s.jsx("div",{className:"p-6 bg-surface/50 rounded-b-2xl border-t border-border text-right",children:r})]}),vr=({name:e,label:t,value:n,onChange:r,type:o="text",placeholder:i,required:a=!1,disabled:l=!1,onBlur:u})=>s.jsxs("div",{children:[s.jsx("label",{htmlFor:e,className:"block text-sm font-medium text-text-body mb-2",children:t}),s.jsx("input",{type:o,id:e,name:e,value:n,onChange:r,onBlur:u,placeholder:i,required:a,disabled:l,className:"w-full px-4 py-3 rounded-lg bg-surface border border-border focus:outline-none focus:ring-2 focus:ring-gold/25 focus:border-transparent transition-all disabled:opacity-50"})]}),vm=({label:e,enabled:t,onChange:n})=>s.jsxs("div",{className:"flex items-center justify-between py-3",children:[s.jsx("span",{className:"text-sm text-text-body",children:e}),s.jsx("button",{onClick:()=>n(!t),className:`relative inline-flex items-center h-6 rounded-full w-11 transition-colors ${t?"bg-gold":"bg-surface"}`,children:s.jsx("span",{className:`inline-block w-4 h-4 transform bg-card rounded-full transition-transform ${t?"translate-x-6":"translate-x-1"}`})})]}),Swe=()=>{const[e,t]=E.useState(Gi),[n,r]=E.useState(null),[o,i]=E.useState(!1),a=E.useRef(null),l=(h,p)=>{const{name:g,value:x}=h.target;t(p==="address"?y=>({...y,address:{...y.address,[g]:x}}):y=>({...y,[g]:x}))},u=async h=>{const p=h.target.value.replace(/\D/g,"");if(p.length===8){i(!0);try{const g=await fetch(`https://viacep.com.br/ws/${p}/json/`);if(!g.ok)throw new Error("CEP no encontrado");const x=await g.json();if(x.erro)throw new Error("CEP invlido");t(y=>({...y,address:{...y.address,street:x.logradouro,neighborhood:x.bairro,city:x.localidade,state:x.uf}}))}catch(g){console.error("Erro ao buscar CEP:",g),alert("No foi possvel encontrar o CEP informado. Verifique e tente novamente.")}finally{i(!1)}}},f=h=>{var g;const p=(g=h.target.files)==null?void 0:g[0];if(p){const x=new FileReader;x.onloadend=()=>r(x.result),x.readAsDataURL(p)}};return s.jsxs("div",{className:"space-y-6",children:[s.jsx(xf,{title:"Foto de Perfil",description:"Atualize sua foto de perfil. Recomendamos uma imagem com no mnimo 200x200 pixels.",footer:s.jsx("button",{className:"px-4 py-2 text-sm font-semibold rounded-lg bg-gold text-card hover:bg-gold-hover transition-colors",children:"Salvar Foto"}),children:s.jsxs("div",{className:"flex items-center gap-6",children:[s.jsx("img",{src:n||"https://picsum.photos/100/100",alt:"Avatar",className:"w-24 h-24 rounded-full border-4 border-surface object-cover"}),s.jsx("input",{type:"file",ref:a,onChange:f,accept:"image/*",className:"hidden"}),s.jsx("button",{onClick:()=>{var h;return(h=a.current)==null?void 0:h.click()},className:"px-4 py-2 text-sm font-semibold rounded-lg bg-surface text-text-body hover:bg-border border border-border transition-colors",children:"Alterar Foto"})]})}),s.jsx(xf,{title:"Informaes Pessoais",description:"Edite suas informaes de contato e identificao.",footer:s.jsx("button",{className:"px-4 py-2 text-sm font-semibold rounded-lg bg-gold text-card hover:bg-gold-hover transition-colors",children:"Salvar Informaes"}),children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsx(vr,{name:"name",label:"Nome Completo",value:e.name,onChange:l}),s.jsx(vr,{name:"email",label:"E-mail",type:"email",value:e.email,onChange:l}),s.jsx(vr,{name:"phone",label:"WhatsApp",type:"tel",value:e.phone,onChange:l}),s.jsx(vr,{name:"smartCertificate",label:"Certificado Inteligente",value:e.smartCertificate,onChange:l,placeholder:"Seu nmero do certificado"})]})}),s.jsx(xf,{title:"Endereo",description:"Mantenha seu endereo de correspondncia atualizado.",footer:s.jsx("button",{className:"px-4 py-2 text-sm font-semibold rounded-lg bg-gold text-card hover:bg-gold-hover transition-colors",children:"Salvar Endereo"}),children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsx("div",{className:"md:col-span-1",children:s.jsx(vr,{name:"cep",label:"CEP",value:e.address.cep,onChange:h=>l(h,"address"),onBlur:u})}),s.jsx("div",{className:"md:col-span-2",children:s.jsx(vr,{name:"street",label:"Logradouro",value:e.address.street,onChange:h=>l(h,"address"),disabled:o})}),s.jsx(vr,{name:"number",label:"Nmero",value:e.address.number,onChange:h=>l(h,"address")}),s.jsx(vr,{name:"complement",label:"Complemento",value:e.address.complement,onChange:h=>l(h,"address")}),s.jsx(vr,{name:"neighborhood",label:"Bairro",value:e.address.neighborhood,onChange:h=>l(h,"address"),disabled:o}),s.jsx(vr,{name:"city",label:"Cidade",value:e.address.city,onChange:h=>l(h,"address"),disabled:o}),s.jsx(vr,{name:"state",label:"Estado",value:e.address.state,onChange:h=>l(h,"address"),disabled:o})]})})]})},Ewe=()=>s.jsx(xf,{title:"Alterar Senha",description:"Para sua segurana, escolha uma senha forte que voc no use em outro lugar.",footer:s.jsx("button",{className:"px-4 py-2 text-sm font-semibold rounded-lg bg-gold text-card hover:bg-gold-hover transition-colors",children:"Alterar Senha"}),children:s.jsxs("div",{className:"space-y-4 max-w-md",children:[s.jsx(vr,{name:"currentPassword",label:"Senha Atual",type:"password",value:"",onChange:()=>{}}),s.jsx(vr,{name:"newPassword",label:"Nova Senha",type:"password",value:"",onChange:()=>{}}),s.jsx(vr,{name:"confirmPassword",label:"Confirmar Nova Senha",type:"password",value:"",onChange:()=>{}})]})}),jwe=()=>{const[e,t]=E.useState({commissions:!0,network:!0,summary:!1,promotions:!0}),n=r=>{t(o=>({...o,[r]:!o[r]}))};return s.jsx(xf,{title:"Preferncias de Notificao",description:"Escolha como voc quer ser notificado sobre as atividades da sua conta.",footer:s.jsx("button",{className:"px-4 py-2 text-sm font-semibold rounded-lg bg-gold text-card hover:bg-gold-hover transition-colors",children:"Salvar Preferncias"}),children:s.jsxs("div",{className:"divide-y divide-border",children:[s.jsx(vm,{label:"Receber e-mail sobre novas comisses",enabled:e.commissions,onChange:()=>n("commissions")}),s.jsx(vm,{label:"Receber alerta sobre atividade da rede",enabled:e.network,onChange:()=>n("network")}),s.jsx(vm,{label:"Receber e-mail com resumo semanal",enabled:e.summary,onChange:()=>n("summary")}),s.jsx(vm,{label:"Receber novidades e promoes por e-mail",enabled:e.promotions,onChange:()=>n("promotions")})]})})},Awe=()=>{const[e,t]=E.useState("profile"),n=[{id:"profile",label:"Perfil"},{id:"security",label:"Segurana"},{id:"notifications",label:"Notificaes"}],r=()=>{switch(e){case"profile":return s.jsx(Swe,{});case"security":return s.jsx(Ewe,{});case"notifications":return s.jsx(jwe,{});default:return null}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-text-title",children:"Configuraes"}),s.jsx("p",{className:"text-text-body mt-1",children:"Gerencie seu perfil, configuraes de segurana e preferncias."})]}),s.jsx("div",{className:"border-b border-border",children:s.jsx("nav",{className:"flex flex-wrap -mb-px","aria-label":"Tabs",children:n.map(o=>s.jsx("button",{onClick:()=>t(o.id),className:`whitespace-nowrap py-4 px-4 border-b-2 font-medium text-sm transition-colors
                                ${e===o.id?"border-gold text-gold":"border-transparent text-text-soft hover:text-text-body hover:border-border"}`,children:o.label},o.id))})}),s.jsx("div",{children:r()})]})},Wd=e=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e/100),zU=({className:e="w-6 h-6"})=>s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[s.jsx("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),s.jsx("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"})]}),Twe=({className:e="w-6 h-6"})=>s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[s.jsx("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),s.jsx("path",{d:"M7 11V7a5 5 0 0 1 9.9-1"})]}),SI=({className:e="w-6 h-6"})=>s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[s.jsx("path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"}),s.jsx("circle",{cx:"12",cy:"12",r:"3"})]}),kwe=({className:e="w-6 h-6"})=>s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[s.jsx("path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24"}),s.jsx("path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68"}),s.jsx("path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61"}),s.jsx("line",{x1:"2",y1:"2",x2:"22",y2:"22"})]}),Mwe=({className:e="w-6 h-6"})=>s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[s.jsx("line",{x1:"4",y1:"21",x2:"4",y2:"14"}),s.jsx("line",{x1:"4",y1:"10",x2:"4",y2:"3"}),s.jsx("line",{x1:"12",y1:"21",x2:"12",y2:"12"}),s.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"3"}),s.jsx("line",{x1:"20",y1:"21",x2:"20",y2:"16"}),s.jsx("line",{x1:"20",y1:"12",x2:"20",y2:"3"}),s.jsx("line",{x1:"2",y1:"14",x2:"6",y2:"14"}),s.jsx("line",{x1:"10",y1:"8",x2:"14",y2:"8"}),s.jsx("line",{x1:"18",y1:"16",x2:"22",y2:"16"})]}),Pwe=({className:e="w-6 h-6"})=>s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[s.jsx("line",{x1:"8",y1:"6",x2:"21",y2:"6"}),s.jsx("line",{x1:"8",y1:"12",x2:"21",y2:"12"}),s.jsx("line",{x1:"8",y1:"18",x2:"21",y2:"18"}),s.jsx("line",{x1:"3",y1:"6",x2:"3.01",y2:"6"}),s.jsx("line",{x1:"3",y1:"12",x2:"3.01",y2:"12"}),s.jsx("line",{x1:"3",y1:"18",x2:"3.01",y2:"18"})]}),Rwe=({className:e="w-10 h-10"})=>s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[s.jsx("rect",{x:"3",y:"6",width:"6",height:"8",rx:"1"}),s.jsx("path",{d:"M12 6h5a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1h-5Z"}),s.jsx("path",{d:"M3 10h6"}),s.jsx("path",{d:"M12 10h6"}),s.jsx("path",{d:"M15 6v8"})]}),Iwe=({isBlocked:e})=>s.jsxs("div",{className:"w-full max-w-sm mx-auto aspect-[1.586] bg-gradient-to-br from-card to-surface rounded-2xl p-6 flex flex-col justify-between text-white shadow-custom-lg relative overflow-hidden transition-all duration-300",children:[s.jsx("div",{className:"absolute -top-10 -right-10 w-40 h-40 bg-gold/5 rounded-full"}),s.jsx("div",{className:"absolute -bottom-16 -left-12 w-48 h-48 bg-gold/5 rounded-full"}),e&&s.jsx("div",{className:"absolute inset-0 bg-black/70 flex items-center justify-center z-20 backdrop-blur-sm",children:s.jsxs("div",{className:"text-center",children:[s.jsx(zU,{className:"w-10 h-10 mx-auto text-danger"}),s.jsx("p",{className:"text-2xl font-bold text-danger mt-2 tracking-widest",children:"BLOQUEADO"})]})}),s.jsxs("div",{className:"flex justify-between items-start z-10",children:[s.jsx("h3",{className:"font-bold text-xl text-gold",children:"RS WalletPay"}),s.jsx(Rwe,{className:"text-gold/50"})]}),s.jsx("div",{className:"z-10",children:s.jsx("p",{className:"text-2xl font-mono tracking-widest",children:"**** **** **** 1234"})}),s.jsxs("div",{className:"flex justify-between items-end z-10",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs uppercase text-text-soft",children:"Titular"}),s.jsx("p",{className:"font-semibold",children:Gi.name.toUpperCase()}),s.jsxs("p",{className:"text-xs text-text-soft",children:["ID: ",Gi.id]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs uppercase text-text-soft",children:"Validade"}),s.jsx("p",{className:"font-semibold",children:"12/28"})]})]})]}),ym=({icon:e,label:t,onClick:n,disabled:r})=>s.jsxs("button",{onClick:n,disabled:r,className:"flex flex-col items-center justify-center gap-2 p-4 bg-card rounded-2xl border border-border hover:bg-surface hover:border-gold transition-all duration-200 text-center disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:bg-card disabled:hover:border-border",children:[s.jsx("div",{className:`p-3 bg-surface rounded-full transition-colors ${r?"text-text-soft":"text-gold"}`,children:e}),s.jsx("span",{className:"text-sm font-semibold text-text-body",children:t})]}),Dwe=()=>{const[e,t]=E.useState(!1),[n,r]=E.useState({type:null}),[o,i]=E.useState(!1),[a,l]=E.useState({transaction:0,daily:0,monthly:0}),u="",f=E.useMemo(()=>Ro.filter(C=>C.type===Zt.PURCHASE),[]),h=E.useMemo(()=>f.slice(0,5),[f]),p=()=>{r({type:null}),i(!1)},g=()=>{t(!e),p()},x=(C,A)=>{const T=parseInt(A.replace(/\D/g,""),10)||0;l(k=>({...k,[C]:T}))},y=()=>{switch(n.type){case"blockConfirm":return e?"Desbloquear Carto":"Bloquear Carto";case"viewPin":return"Senha do Carto";case"limits":return"Gerenciar Limites";case"statement":return"Extrato do Carto";default:return""}},N=()=>{switch(n.type){case"blockConfirm":return s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-text-body mb-6",children:e?"Voc tem certeza que deseja desbloquear seu carto? Ele poder ser usado para compras novamente.":"Ao bloquear, seu carto no poder ser usado para novas compras at que seja desbloqueado."}),s.jsxs("div",{className:"flex gap-4",children:[s.jsx("button",{onClick:p,className:"w-full py-2 px-4 bg-surface text-text-body hover:bg-border rounded-lg transition-colors",children:"Cancelar"}),s.jsx("button",{onClick:g,className:`w-full py-2 px-4 text-card font-semibold rounded-lg transition-colors ${e?"bg-success hover:bg-success/80":"bg-danger hover:bg-danger/80"}`,children:e?"Sim, Desbloquear":"Sim, Bloquear"})]})]});case"viewPin":return s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-text-body mb-6",children:"Esta  a senha de 4 dgitos para suas compras presenciais. Mantenha-a segura."}),s.jsxs("div",{className:"bg-surface p-4 rounded-lg flex items-center justify-center gap-4",children:[s.jsx("p",{className:"text-4xl font-bold font-mono tracking-[0.5em] text-text-title",children:o?u:"****"}),s.jsx("button",{onClick:()=>i(!o),className:"p-2 text-text-body hover:text-gold transition-colors",children:o?s.jsx(kwe,{className:"w-6 h-6"}):s.jsx(SI,{className:"w-6 h-6"})})]}),s.jsx("button",{onClick:p,className:"mt-6 w-full py-3 px-4 bg-gold text-card font-semibold rounded-lg hover:bg-gold-hover transition-colors",children:"Entendido"})]});case"limits":return s.jsxs("div",{children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-text-body",children:"Limite por transao"}),s.jsx("input",{type:"text",value:Wd(a.transaction),onChange:C=>x("transaction",C.target.value),className:"w-full mt-1 px-4 py-3 rounded-lg bg-surface border border-border focus:outline-none focus:ring-2 focus:ring-gold/25"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-text-body",children:"Limite dirio"}),s.jsx("input",{type:"text",value:Wd(a.daily),onChange:C=>x("daily",C.target.value),className:"w-full mt-1 px-4 py-3 rounded-lg bg-surface border border-border focus:outline-none focus:ring-2 focus:ring-gold/25"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-text-body",children:"Limite mensal"}),s.jsx("input",{type:"text",value:Wd(a.monthly),onChange:C=>x("monthly",C.target.value),className:"w-full mt-1 px-4 py-3 rounded-lg bg-surface border border-border focus:outline-none focus:ring-2 focus:ring-gold/25"})]})]}),s.jsx("button",{onClick:p,className:"mt-6 w-full py-3 px-4 bg-gold text-card font-semibold rounded-lg hover:bg-gold-hover transition-colors",children:"Salvar Limites"})]});case"statement":return s.jsx("div",{children:s.jsx("div",{className:"space-y-2",children:f.length>0?f.map(C=>s.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg hover:bg-surface",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-text-title",children:C.description}),s.jsx("p",{className:"text-sm text-text-soft",children:new Date(C.occurredAt).toLocaleString("pt-BR")})]}),s.jsx("p",{className:"font-bold text-danger",children:Wd(C.amount)})]},C.seq)):s.jsx("p",{className:"text-text-soft text-center py-8",children:"Nenhuma transao com carto encontrada."})})});default:return null}};return s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-text-title",children:"Meus Cartes"}),s.jsx("p",{className:"text-text-body mt-1",children:"Gerencie seu carto fsico e virtual."})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 items-start",children:[s.jsxs("div",{className:"space-y-6",children:[s.jsx(Iwe,{isBlocked:e}),s.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4",children:[s.jsx(ym,{icon:e?s.jsx(Twe,{className:"w-5 h-5"}):s.jsx(zU,{className:"w-5 h-5"}),label:e?"Desbloquear":"Bloquear",onClick:()=>r({type:"blockConfirm"})}),s.jsx(ym,{icon:s.jsx(SI,{className:"w-5 h-5"}),label:"Ver Senha",onClick:()=>r({type:"viewPin"}),disabled:e}),s.jsx(ym,{icon:s.jsx(Mwe,{className:"w-5 h-5"}),label:"Limites",onClick:()=>r({type:"limits"}),disabled:e}),s.jsx(ym,{icon:s.jsx(Pwe,{className:"w-5 h-5"}),label:"Extrato",onClick:()=>r({type:"statement"})})]})]}),s.jsxs("div",{className:"bg-card p-6 rounded-2xl border border-border",children:[s.jsx("h3",{className:"text-lg font-bold text-text-title mb-4",children:"Atividade Recente do Carto"}),s.jsx("div",{className:"space-y-2",children:h.length>0?h.map(C=>s.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg hover:bg-surface",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-text-title",children:C.description}),s.jsx("p",{className:"text-sm text-text-soft",children:new Date(C.occurredAt).toLocaleDateString("pt-BR")})]}),s.jsx("p",{className:"font-bold text-danger",children:Wd(C.amount)})]},C.seq)):s.jsx("p",{className:"text-text-soft text-center py-8",children:"Nenhuma transao com carto encontrada."})})]})]}),s.jsx(da,{isOpen:!!n.type,onClose:p,title:y(),children:N()})]})},FU=({className:e="w-4 h-4"})=>s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[s.jsx("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}),s.jsx("path",{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"})]}),qU=({className:e="w-4 h-4"})=>s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:s.jsx("polyline",{points:"20 6 9 17 4 12"})}),EI=({label:e,active:t,onClick:n})=>s.jsx("button",{onClick:n,className:`whitespace-nowrap py-4 px-4 border-b-2 font-medium text-sm transition-colors
            ${t?"border-gold text-gold":"border-transparent text-text-soft hover:text-text-body hover:border-border"}`,children:e}),_we=()=>{const[e,t]=E.useState("recrutar"),[n,r]=E.useState(""),[o,i]=E.useState("entusiasmado"),[a,l]=E.useState(""),[u,f]=E.useState(!1),[h,p]=E.useState(null),[g,x]=E.useState(null),[y,N]=E.useState(!1),C=async T=>{T.preventDefault(),f(!0),x(null),p(null);try{const k=new genai.GoogleGenAI({apiKey:"PLACEHOLDER_API_KEY"}),R=`
                Voc  um especialista em marketing digital para a empresa RS Prlipsi, que vende produtos de bem-estar.
                Crie um texto de post para redes sociais com o seguinte objetivo: "${{recrutar:"Recrutar novos consultores para a equipe (Marketing Multinvel)",promover:"Promover um produto nas redes sociais (Marketing Digital)",afiliado:"Divulgar um produto como afiliado (Marketing de Afiliado)"}[e]}".
                
                Detalhes da campanha:
                - Produto em foco: "${n||"Linha completa de produtos RS Prlipsi"}"
                - Tom de voz: "${o}"
                - Pblico-alvo: "${a||"Pblico geral interessado em sade e bem-estar"}"

                Instrues:
                - O texto deve ser envolvente, persuasivo e claro.
                - Inclua 3 a 5 hashtags relevantes ao final.
                - Se o objetivo for recrutar ou promover, use o placeholder '{{link_cadastro}}' para o link de cadastro.
                - Se o objetivo for divulgar como afiliado, use o placeholder '{{link_loja}}' para o link da loja.
                - Formate o texto com pargrafos para facilitar a leitura.
            `;let P=(await k.models.generateContent({model:"gemini-2.5-flash",contents:R})).text;P=P.replace(/{{link_cadastro}}/g,mf.cadastro).replace(/{{link_loja}}/g,mf.loja),p(P)}catch(k){console.error(k),x("No foi possvel gerar o contedo. Tente novamente mais tarde.")}finally{f(!1)}},A=()=>{h&&(navigator.clipboard.writeText(h),N(!0),setTimeout(()=>N(!1),2e3))};return s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-card p-6 rounded-2xl border border-border space-y-4",children:[s.jsx("h3",{className:"text-xl font-bold text-text-title",children:"Defina sua Estratgia"}),s.jsx("p",{className:"text-sm text-text-soft",children:"Preencha os campos abaixo para que a IA crie o texto perfeito para sua postagem."}),s.jsxs("form",{onSubmit:C,className:"space-y-4 pt-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"objective",className:"block text-sm font-medium text-text-body mb-2",children:"Objetivo da Campanha"}),s.jsxs("select",{id:"objective",value:e,onChange:T=>t(T.target.value),className:"w-full px-4 py-3 rounded-lg bg-surface border border-border focus:outline-none focus:ring-2 focus:ring-gold/25",children:[s.jsx("option",{value:"recrutar",children:"Recrutar para Rede (M. Multinvel)"}),s.jsx("option",{value:"promover",children:"Promover nas Redes Sociais (M. Digital)"}),s.jsx("option",{value:"afiliado",children:"Divulgar como Afiliado (M. de Afiliado)"})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"product",className:"block text-sm font-medium text-text-body mb-2",children:"Produto em Foco (Opcional)"}),s.jsx("input",{type:"text",id:"product",value:n,onChange:T=>r(T.target.value),placeholder:"Ex: Kit Prlipsi Essencial",className:"w-full px-4 py-3 rounded-lg bg-surface border border-border focus:outline-none focus:ring-2 focus:ring-gold/25"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"tone",className:"block text-sm font-medium text-text-body mb-2",children:"Tom de Voz"}),s.jsxs("select",{id:"tone",value:o,onChange:T=>i(T.target.value),className:"w-full px-4 py-3 rounded-lg bg-surface border border-border focus:outline-none focus:ring-2 focus:ring-gold/25",children:[s.jsx("option",{value:"entusiasmado",children:"Entusiasmado"}),s.jsx("option",{value:"profissional",children:"Profissional"}),s.jsx("option",{value:"inspirador",children:"Inspirador"}),s.jsx("option",{value:"informativo",children:"Informativo"})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"audience",className:"block text-sm font-medium text-text-body mb-2",children:"Pblico-Alvo (Opcional)"}),s.jsx("input",{type:"text",id:"audience",value:a,onChange:T=>l(T.target.value),placeholder:"Ex: Mes jovens, empreendedores",className:"w-full px-4 py-3 rounded-lg bg-surface border border-border focus:outline-none focus:ring-2 focus:ring-gold/25"})]}),s.jsx("button",{type:"submit",disabled:u,className:"w-full flex items-center justify-center text-center py-3 px-6 bg-gold text-base text-card hover:bg-gold-hover font-semibold rounded-lg transition-colors duration-200 disabled:opacity-50",children:u?s.jsxs(s.Fragment,{children:[s.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Gerando..."]}):s.jsxs(s.Fragment,{children:[s.jsx(i2,{className:"w-5 h-5 mr-2"}),"Gerar Contedo com IA"]})})]})]}),s.jsxs("div",{className:"bg-card p-6 rounded-2xl border border-border",children:[u&&s.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center",children:[s.jsx(i2,{className:"w-12 h-12 text-gold animate-pulse"}),s.jsx("p",{className:"mt-4 text-text-body",children:"Aguarde, a IA est criando seu post..."})]}),g&&s.jsx("p",{className:"text-danger text-center",children:g}),h&&s.jsxs("div",{className:"flex flex-col h-full",children:[s.jsx("h3",{className:"text-lg font-bold text-text-title mb-2",children:"Contedo Gerado"}),s.jsx("div",{className:"bg-surface rounded-lg p-4 flex-1 overflow-y-auto max-h-[400px]",children:s.jsx("p",{className:"text-sm text-text-body whitespace-pre-wrap",children:h})}),s.jsx("button",{onClick:A,className:`w-full flex items-center justify-center mt-4 py-2 px-4 font-semibold rounded-lg transition-colors ${y?"bg-success/20 text-success":"bg-surface hover:bg-border"}`,children:y?s.jsxs(s.Fragment,{children:[s.jsx(qU,{className:"mr-2"})," Copiado!"]}):s.jsxs(s.Fragment,{children:[s.jsx(FU,{className:"mr-2"})," Copiar Texto"]})})]}),!u&&!g&&!h&&s.jsx("div",{className:"flex flex-col items-center justify-center h-full text-center text-text-soft",children:s.jsx("p",{children:"Preencha o formulrio ao lado para criar seu contedo de marketing personalizado."})})]})]})},Owe=({model:e})=>{const[t,n]=E.useState(!1),o=(l=>l.replace(/{{link_cadastro}}/g,mf.cadastro).replace(/{{link_loja}}/g,mf.loja).replace(/{{link_produtos}}/g,mf.produtos))(e.contentText),i=()=>{navigator.clipboard.writeText(o),n(!0),setTimeout(()=>n(!1),2e3)},a=o.split(/(\bhttps?:\/\/\S+\b)/g).map((l,u)=>l.startsWith("http")?s.jsx("span",{className:"text-gold font-semibold",children:l},u):l);return s.jsxs("div",{className:"bg-card rounded-2xl border border-border shadow-custom-lg overflow-hidden flex flex-col",children:[s.jsx("img",{src:e.imageUrl,alt:e.title,className:"w-full h-48 object-cover"}),s.jsxs("div",{className:"p-6 flex-1 flex flex-col",children:[s.jsx("h3",{className:"text-lg font-bold text-text-title",children:e.title}),s.jsx("div",{className:"my-4 p-4 bg-surface rounded-lg text-sm text-text-body whitespace-pre-wrap flex-1",children:a}),s.jsx("button",{onClick:i,className:`w-full flex items-center justify-center text-center py-2 px-4 font-semibold rounded-lg transition-colors duration-200 ${t?"bg-success/20 text-success border border-success":"bg-gold text-card hover:bg-gold-hover"}`,children:t?s.jsxs(s.Fragment,{children:[s.jsx(qU,{className:"w-5 h-5 mr-2"}),"Copiado!"]}):s.jsxs(s.Fragment,{children:[s.jsx(FU,{className:"w-5 h-5 mr-2"}),"Copiar Texto"]})})]})]})},Lwe=()=>s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:Moe.map(e=>s.jsx(Owe,{model:e},e.id))}),Bwe=()=>{const[e,t]=E.useState("ia_generator");return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-text-title",children:"Central de Marketing"}),s.jsx("p",{className:"text-text-body mt-1",children:"Use estas ferramentas para divulgar em suas redes sociais e contatos."})]}),s.jsx("div",{className:"border-b border-border",children:s.jsxs("nav",{className:"flex flex-wrap -mb-px","aria-label":"Tabs",children:[s.jsx(EI,{label:"Gerador com IA",active:e==="ia_generator",onClick:()=>t("ia_generator")}),s.jsx(EI,{label:"Modelos Prontos",active:e==="models",onClick:()=>t("models")})]})}),s.jsxs("div",{className:"mt-6",children:[e==="ia_generator"&&s.jsx(_we,{}),e==="models"&&s.jsx(Lwe,{})]})]})},Uwe=e=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e/100),jI=({label:e,active:t,onClick:n})=>s.jsx("button",{onClick:n,className:`whitespace-nowrap py-4 px-4 border-b-2 font-medium text-sm transition-colors
            ${t?"border-gold text-gold":"border-transparent text-text-soft hover:text-text-body hover:border-border"}`,children:e}),bf=({name:e,label:t,value:n,onChange:r,type:o="text",placeholder:i,required:a=!1,disabled:l=!1})=>s.jsxs("div",{children:[s.jsx("label",{htmlFor:e,className:"block text-sm font-medium text-text-body mb-2",children:t}),s.jsx("input",{type:o,id:e,name:e,value:n,onChange:r,placeholder:i,required:a,disabled:l,className:"w-full px-4 py-3 rounded-lg bg-surface border border-border focus:outline-none focus:ring-2 focus:ring-gold/25 focus:border-transparent transition-all disabled:opacity-50"})]}),zwe=({clients:e,onAddClient:t})=>{const[n,r]=E.useState(!1),[o,i]=E.useState({name:"",email:"",phone:""}),a=u=>{const{name:f,value:h}=u.target;i(p=>({...p,[f]:h}))},l=u=>{u.preventDefault(),t({id:`C${Date.now()}`,createdAt:new Date().toISOString(),...o}),i({name:"",email:"",phone:""}),r(!1)};return s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex justify-end",children:s.jsx("button",{onClick:()=>r(!0),className:"text-center py-2 px-6 bg-gold text-base text-card hover:bg-gold-hover font-semibold rounded-lg transition-colors",children:"Adicionar Cliente"})}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:e.map(u=>s.jsxs("div",{className:"bg-card p-5 rounded-2xl border border-border",children:[s.jsx("h3",{className:"font-bold text-text-title text-lg",children:u.name}),s.jsx("p",{className:"text-sm text-text-body",children:u.email}),s.jsx("p",{className:"text-sm text-text-soft",children:u.phone}),s.jsxs("p",{className:"text-xs text-text-soft mt-2 pt-2 border-t border-border",children:["Cliente desde: ",new Date(u.createdAt).toLocaleDateString("pt-BR")]})]},u.id))}),s.jsx(da,{isOpen:n,onClose:()=>r(!1),title:"Novo Cliente",children:s.jsxs("form",{onSubmit:l,className:"space-y-4",children:[s.jsx(bf,{name:"name",label:"Nome Completo",value:o.name,onChange:a,required:!0}),s.jsx(bf,{name:"email",label:"E-mail",type:"email",value:o.email,onChange:a,required:!0}),s.jsx(bf,{name:"phone",label:"Telefone",type:"tel",value:o.phone,onChange:a,required:!0}),s.jsx("button",{type:"submit",className:"mt-4 w-full text-center py-3 px-6 bg-gold text-card font-semibold rounded-lg",children:"Salvar Cliente"})]})})]})},Fwe=({sales:e,clients:t,onAddSale:n})=>{const[r,o]=E.useState(!1),[i,a]=E.useState(!1),[l,u]=E.useState({clientId:"",items:"",totalAmount:""}),f=p=>{p.preventDefault();const g=t.find(x=>x.id===l.clientId);g&&(n({seq:Date.now(),id:`S${Date.now()}`,clientId:g.id,clientName:g.name,items:[{name:l.items,amount:parseFloat(l.totalAmount)*100}],totalAmount:parseFloat(l.totalAmount)*100,state:qi.PENDING,occurredAt:new Date().toISOString()}),u({clientId:"",items:"",totalAmount:""}),o(!1))},h=E.useMemo(()=>[{header:"Data",accessor:"occurredAt",render:p=>s.jsx("span",{className:"text-sm",children:new Date(p.occurredAt).toLocaleDateString("pt-BR")})},{header:"Cliente",accessor:"clientName"},{header:"Itens",accessor:"items",render:p=>s.jsx("span",{className:"text-sm",children:p.items.map(g=>g.name).join(", ")})},{header:"Valor Total",accessor:"totalAmount",render:p=>s.jsx("span",{className:"font-semibold text-text-title",children:Uwe(p.totalAmount)})},{header:"Status",accessor:"state",render:p=>s.jsx(pu,{status:p.state})}],[]);return s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex justify-end",children:s.jsx("button",{onClick:()=>o(!0),className:"text-center py-2 px-6 bg-gold text-base text-card hover:bg-gold-hover font-semibold rounded-lg transition-colors",children:"Registrar Venda"})}),s.jsx(UU,{columns:h,data:e,onRowClick:()=>a(!0)}),s.jsx(da,{isOpen:r,onClose:()=>o(!1),title:"Registrar Nova Venda",children:s.jsxs("form",{onSubmit:f,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"clientId",className:"block text-sm font-medium text-text-body mb-2",children:"Cliente"}),s.jsxs("select",{id:"clientId",name:"clientId",value:l.clientId,onChange:p=>u(g=>({...g,clientId:p.target.value})),required:!0,className:"w-full px-4 py-3 rounded-lg bg-surface border border-border",children:[s.jsx("option",{value:"",disabled:!0,children:"Selecione um cliente"}),t.map(p=>s.jsx("option",{value:p.id,children:p.name},p.id))]})]}),s.jsx(bf,{name:"items",label:"Produtos/Servios",value:l.items,onChange:p=>u(g=>({...g,items:p.target.value})),placeholder:"Ex: Kit Essencial",required:!0}),s.jsx(bf,{name:"totalAmount",label:"Valor Total",type:"number",value:l.totalAmount,onChange:p=>u(g=>({...g,totalAmount:p.target.value})),placeholder:"0.00",required:!0}),s.jsx("button",{type:"submit",className:"mt-4 w-full text-center py-3 px-6 bg-gold text-card font-semibold rounded-lg",children:"Salvar Venda"})]})}),s.jsx(Kx,{isOpen:i,onClose:()=>a(!1),featureName:"Detalhes da Venda"})]})},qwe=()=>{const[e,t]=E.useState("clients"),[n,r]=E.useState(Poe),[o,i]=E.useState(Roe),a=u=>r(f=>[u,...f]),l=u=>i(f=>[u,...f]);return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-text-title",children:"Central de Clientes e Vendas"}),s.jsx("p",{className:"text-text-body mt-1",children:"Gerencie seus contatos e registre suas vendas para um controle completo."})]}),s.jsx("div",{className:"border-b border-border",children:s.jsxs("nav",{className:"flex flex-wrap -mb-px","aria-label":"Tabs",children:[s.jsx(jI,{label:"Clientes",active:e==="clients",onClick:()=>t("clients")}),s.jsx(jI,{label:"Vendas",active:e==="sales",onClick:()=>t("sales")})]})}),s.jsxs("div",{className:"mt-6",children:[e==="clients"&&s.jsx(zwe,{clients:n,onAddClient:a}),e==="sales"&&s.jsx(Fwe,{sales:o,clients:n,onAddSale:l})]})]})},Hwe=[{name:"Cobranas",path:"cobrancas"},{name:"Links de Pagamento",path:"links"},{name:"Saques",path:"saques"},{name:"Transferncias",path:"transferencias"}],Vwe=()=>s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-card p-4 pb-0 rounded-2xl border border-border shadow-custom-lg",children:[s.jsxs("div",{className:"px-2 pt-2",children:[s.jsx("h1",{className:"text-2xl font-bold text-text-title",children:"Central de Pagamentos"}),s.jsx("p",{className:"text-text-soft mt-1",children:"Gerencie suas cobranas, saques, transferncias e mais."})]}),s.jsx("div",{className:"mt-4 border-b border-border",children:s.jsx("nav",{className:"flex flex-wrap -mb-px","aria-label":"Tabs",children:Hwe.map(e=>s.jsx(Gx,{to:e.path,className:({isActive:t})=>`whitespace-nowrap py-4 px-3 border-b-2 font-medium text-sm transition-colors ${t?"border-gold text-gold":"border-transparent text-text-soft hover:text-text-body hover:border-border"}`,children:e.name},e.name))})})]}),s.jsx("div",{className:"mt-6",children:s.jsx(gL,{})})]}),AI=e=>{const t=e.replace(/\D/g,"");if(!t)return"";const n=parseInt(t,10)/100;return new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(n)},TI=e=>e.replace(/\D/g,""),gw=({label:e,active:t,onClick:n,disabled:r})=>s.jsx("button",{onClick:n,disabled:r,className:`px-4 py-2 text-sm font-semibold rounded-lg transition-colors w-full ${t?"bg-gold/10 text-gold":"bg-surface text-text-body hover:bg-border"} ${r?"opacity-50 cursor-not-allowed":""}`,children:e}),$we=()=>{const[e,t]=E.useState(""),[n,r]=E.useState(""),[o,i]=E.useState(null),[a,l]=E.useState("random"),[u,f]=E.useState(""),h={random:"Aleatria",cpf:"CPF",cnpj:"CNPJ",email:"E-mail",phone:"Telefone"},p=y=>{y.preventDefault();const N=parseInt(TI(e),10);if(!N||N<=0){alert("Por favor, insira um valor vlido.");return}let C="a0b1c2d3-e4f5-g6h7-i8j9-k0l1m2n3o4p5",A="Chave Aleatria";if(a!=="random"){if(!u.trim()){alert("Por favor, insira a Chave PIX.");return}C=u,A=`${h[a]}: ${u}`}const k=`00020126580014br.gov.bcb.pix01${C.length.toString().padStart(2,"0")}${C}520400005303986540${(N/100).toFixed(2).replace(".","")}5802BR5913NOME DO LOJISTA6009SAO PAULO62070503***6304ABCD`;i({qrCodeUrl:`https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=${encodeURIComponent(k)}&bgcolor=1E1E1E&color=E5E7EB&qzone=1`,copyPaste:k,value:AI(e),keyInfo:A})},g=()=>{i(null),t(""),r(""),l("random"),f("")},x=()=>{o&&(navigator.clipboard.writeText(o.copyPaste),alert("Cdigo PIX copiado para a rea de transferncia!"))};return o?s.jsxs("div",{className:"text-center animate-fade-in",children:[s.jsx("h3",{className:"text-lg font-bold text-text-title",children:"QR Code Gerado"}),s.jsx("p",{className:"text-text-soft mt-1 mb-6",children:"Aponte a cmera no app do seu banco para pagar."}),s.jsx("div",{className:"flex justify-center my-4",children:s.jsx("img",{src:o.qrCodeUrl,alt:"PIX QR Code",className:"rounded-lg border-4 border-surface"})}),s.jsx("p",{className:"text-3xl font-bold text-text-title",children:o.value}),s.jsx("p",{className:"text-sm text-text-soft mb-1",children:n||"Pagamento RS WalletPay"}),s.jsx("p",{className:"text-sm text-text-body font-semibold mb-4",children:o.keyInfo}),s.jsxs("div",{className:"my-6",children:[s.jsx("label",{className:"text-sm font-medium text-text-body mb-2 block",children:"PIX Copia e Cola"}),s.jsxs("div",{className:"relative",children:[s.jsx("textarea",{readOnly:!0,value:o.copyPaste,className:"w-full bg-surface border border-border rounded-lg p-3 text-sm text-text-body resize-none h-24 focus:outline-none focus:ring-2 focus:ring-gold/25"}),s.jsx("button",{onClick:x,className:"absolute top-2 right-2 p-2 rounded-md bg-card hover:bg-border transition-colors",title:"Copiar cdigo",children:s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}),s.jsx("path",{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"})]})})]})]}),s.jsx("button",{onClick:g,className:"w-full text-center py-3 px-6 bg-surface text-text-body hover:bg-surface/80 border border-border hover:border-gold font-semibold rounded-lg transition-colors duration-200",children:"Gerar Nova Cobrana"})]}):s.jsxs("form",{onSubmit:p,className:"space-y-6 animate-fade-in",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"amount",className:"block text-sm font-medium text-text-body mb-2",children:"Valor da cobrana"}),s.jsx("div",{className:"relative",children:s.jsx("input",{type:"text",id:"amount",value:e?AI(e):"",onChange:y=>t(TI(y.target.value)),placeholder:"R$ 0,00",className:"w-full px-4 py-3 rounded-lg bg-surface border border-border focus:outline-none focus:ring-2 focus:ring-gold/25 focus:border-transparent transition-all text-2xl font-bold",required:!0})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-text-body mb-2",children:"Tipo de Chave PIX"}),s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-5 gap-2",children:Object.entries(h).map(([y,N])=>s.jsx("button",{type:"button",onClick:()=>{l(y),f("")},className:`px-3 py-2 text-sm font-semibold rounded-lg transition-colors ${a===y?"bg-gold/10 text-gold ring-1 ring-gold/50":"bg-surface text-text-body hover:bg-border"}`,children:N},y))})]}),a!=="random"&&s.jsxs("div",{className:"animate-fade-in",children:[s.jsx("label",{htmlFor:"pixKey",className:"block text-sm font-medium text-text-body mb-2",children:`Informar ${h[a]}`}),s.jsx("input",{type:a==="email"?"email":"text",id:"pixKey",value:u,onChange:y=>f(y.target.value),placeholder:`Digite a chave ${h[a]}`,className:"w-full px-4 py-3 rounded-lg bg-surface border border-border focus:outline-none focus:ring-2 focus:ring-gold/25 focus:border-transparent transition-all",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-text-body mb-2",children:"Descrio (opcional)"}),s.jsx("input",{type:"text",id:"description",value:n,onChange:y=>r(y.target.value),placeholder:"Ex: Venda de produto X",className:"w-full px-4 py-3 rounded-lg bg-surface border border-border focus:outline-none focus:ring-2 focus:ring-gold/25 focus:border-transparent transition-all"})]}),s.jsx("button",{type:"submit",className:"w-full text-center py-3 px-6 bg-gold text-base text-card hover:bg-gold-hover font-semibold rounded-lg transition-colors duration-200",children:"Gerar QR Code PIX"})]})},Gwe=()=>{const[e,t]=E.useState("pix");return s.jsxs("div",{className:"bg-card p-6 sm:p-8 rounded-2xl border border-border shadow-custom-lg",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h2",{className:"text-xl font-bold text-text-title",children:"Criar nova cobrana"}),s.jsx("p",{className:"text-text-soft mt-1",children:"Selecione o mtodo e preencha os dados para gerar a cobrana."})]}),s.jsxs("div",{className:"flex items-center gap-2 mb-6 p-1 bg-surface rounded-xl",children:[s.jsx(gw,{label:"PIX",active:e==="pix",onClick:()=>t("pix")}),s.jsx(gw,{label:"Boleto",active:e==="boleto",onClick:()=>{},disabled:!0}),s.jsx(gw,{label:"Carto de Crdito",active:e==="card",onClick:()=>{},disabled:!0})]}),e==="pix"&&s.jsx($we,{}),s.jsx("style",{children:`
                @keyframes fade-in {
                from { opacity: 0; transform: translateY(-10px); }
                to { opacity: 1; transform: translateY(0); }
                }
                .animate-fade-in {
                animation: fade-in 0.4s ease-out forwards;
                }
            `})]})},Kwe=({actions:e})=>{const[t,n]=E.useState(!1),r=E.useRef(null);return E.useEffect(()=>{const o=i=>{r.current&&!r.current.contains(i.target)&&n(!1)};return document.addEventListener("mousedown",o),()=>document.removeEventListener("mousedown",o)},[r]),s.jsxs("div",{className:"relative inline-block text-left",ref:r,children:[s.jsx("button",{onClick:()=>n(!t),className:"text-text-body hover:text-gold p-1 rounded-full hover:bg-surface transition-colors","aria-label":"Mais opes",children:s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("circle",{cx:"12",cy:"12",r:"1"}),s.jsx("circle",{cx:"12",cy:"5",r:"1"}),s.jsx("circle",{cx:"12",cy:"19",r:"1"})]})}),t&&s.jsx("div",{className:"origin-top-right absolute right-0 mt-2 w-56 rounded-lg shadow-lg bg-card border border-border ring-1 ring-black ring-opacity-5 z-10",children:s.jsx("div",{className:"py-1",role:"menu","aria-orientation":"vertical","aria-labelledby":"options-menu",children:e.map(o=>s.jsxs("button",{onClick:()=>{o.onClick(),n(!1)},disabled:o.disabled,className:"w-full text-left flex items-center px-4 py-2 text-sm text-text-body hover:bg-surface hover:text-text-title disabled:opacity-50 disabled:cursor-not-allowed",role:"menuitem",children:[o.icon&&s.jsx("span",{className:"mr-3",children:o.icon}),o.label]},o.label))})})]})},Wwe=e=>e===null?"Aberto":new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e/100),Jwe=({link:e,onAction:t})=>{const n=[{label:"Copiar Link",onClick:()=>t("copy",e)},{label:"Ver QR Code",onClick:()=>t("qr",e)},{label:e.status==="active"?"Desativar":"Ativar",onClick:()=>t("toggle",e)}];return s.jsxs("div",{className:"bg-card p-5 rounded-2xl border border-border flex items-center justify-between gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-bold text-text-title",children:e.name}),s.jsx("p",{className:`text-xl font-semibold ${e.amount===null?"text-info":"text-text-body"}`,children:Wwe(e.amount)}),s.jsxs("div",{className:"flex items-center text-sm text-text-soft mt-2",children:[s.jsx("span",{className:`w-2 h-2 rounded-full mr-2 ${e.status==="active"?"bg-success":"bg-danger"}`}),s.jsx("span",{children:e.status==="active"?"Ativo":"Inativo"}),s.jsx("span",{className:"mx-2",children:""}),s.jsxs("span",{children:["Criado em ",new Date(e.createdAt).toLocaleDateString("pt-BR")]})]})]}),s.jsx(Kwe,{actions:n})]})},Ywe=()=>{const[e,t]=E.useState(koe),[n,r]=E.useState({type:null,data:null}),[o,i]=E.useState(!0),a=(h,p)=>{h==="copy"&&(navigator.clipboard.writeText(p.url),alert("Link copiado!")),h==="qr"&&r({type:"share",data:p}),h==="toggle"&&t(g=>g.map(x=>x.id===p.id?{...x,status:x.status==="active"?"inactive":"active"}:x))},l=h=>{h.preventDefault();const p=new FormData(h.currentTarget),g={id:`link_${Date.now()}`,name:p.get("name"),amount:o?parseFloat(p.get("amount").replace(/\D/g,"")):null,status:"active",url:`https://rs.wallet/pay/${p.get("name").toLowerCase().replace(/\s/g,"-")}`,createdAt:new Date().toISOString()};t([g,...e]),r({type:"share",data:g})},u=()=>s.jsxs("div",{className:"text-center",children:[s.jsx("h3",{className:"text-lg font-bold text-text-title mb-2",children:"Link Gerado com Sucesso!"}),s.jsx("p",{className:"text-text-soft mb-4",children:"Compartilhe o QR Code ou o link abaixo com seu cliente."}),s.jsx("div",{className:"flex justify-center my-4",children:s.jsx("img",{src:`https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=${encodeURIComponent(n.data.url)}&bgcolor=1E1E1E&color=E5E7EB&qzone=1`,alt:"QR Code",className:"rounded-lg border-4 border-surface"})}),s.jsxs("div",{className:"relative my-4",children:[s.jsx("input",{readOnly:!0,value:n.data.url,className:"w-full bg-surface border border-border rounded-lg p-3 text-sm text-text-body focus:outline-none"}),s.jsx("button",{onClick:()=>{navigator.clipboard.writeText(n.data.url),alert("Copiado!")},className:"absolute top-2 right-2 p-2 rounded-md bg-card hover:bg-border transition-colors",title:"Copiar link",children:s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}),s.jsx("path",{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"})]})})]}),s.jsx("button",{onClick:()=>r({type:null,data:null}),className:"w-full text-center py-3 px-6 bg-gold text-base text-card hover:bg-gold-hover font-semibold rounded-lg transition-colors duration-200",children:"Fechar"})]}),f=()=>s.jsxs("form",{onSubmit:l,children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-text-body mb-2",children:"Nome do Link"}),s.jsx("input",{type:"text",id:"name",name:"name",placeholder:"Ex: Kit Essencial",required:!0,className:"w-full px-4 py-3 rounded-lg bg-surface border border-border focus:outline-none focus:ring-2 focus:ring-gold/25"})]}),s.jsxs("div",{className:"flex gap-2 p-1 bg-surface rounded-lg",children:[s.jsx("button",{type:"button",onClick:()=>i(!0),className:`w-full py-2 rounded-md text-sm font-semibold transition-colors ${o?"bg-card":"hover:bg-border"}`,children:"Valor Fixo"}),s.jsx("button",{type:"button",onClick:()=>i(!1),className:`w-full py-2 rounded-md text-sm font-semibold transition-colors ${o?"hover:bg-border":"bg-card"}`,children:"Valor Aberto"})]}),o&&s.jsxs("div",{children:[s.jsx("label",{htmlFor:"amount",className:"block text-sm font-medium text-text-body mb-2",children:"Valor"}),s.jsx("input",{type:"text",id:"amount",name:"amount",placeholder:"R$ 0,00",required:!0,className:"w-full px-4 py-3 rounded-lg bg-surface border border-border focus:outline-none focus:ring-2 focus:ring-gold/25"})]})]}),s.jsx("button",{type:"submit",className:"mt-6 w-full text-center py-3 px-6 bg-gold text-base text-card hover:bg-gold-hover font-semibold rounded-lg transition-colors duration-200",children:"Criar Link"})]});return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold text-text-title",children:"Meus Links de Pagamento"}),s.jsx("p",{className:"text-text-soft mt-1",children:"Crie e gerencie links para receber pagamentos de seus clientes."})]}),s.jsx("button",{onClick:()=>r({type:"create",data:null}),className:"w-full sm:w-auto text-center py-2 px-6 bg-gold text-base text-card hover:bg-gold-hover font-semibold rounded-lg transition-colors duration-200 whitespace-nowrap",children:"Criar Novo Link"})]}),s.jsx("div",{className:"space-y-4",children:e.map(h=>s.jsx(Jwe,{link:h,onAction:a},h.id))}),s.jsxs(da,{isOpen:!!n.type,onClose:()=>r({type:null,data:null}),title:n.type==="create"?"Novo Link de Pagamento":"Compartilhar Link",children:[n.type==="create"&&f(),n.type==="share"&&u()]})]})},kI=e=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e/100),Xwe=e=>{const t=e.replace(/\D/g,"");if(!t)return"";const n=parseInt(t,10)/100;return new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(n)},Qwe=e=>e.replace(/\D/g,""),Zwe=()=>{const[e,t]=E.useState(""),[n,r]=E.useState(null),[o,i]=E.useState(""),[a,l]=E.useState({isOpen:!1,content:null}),[u,f]=E.useState(!1),[h,p]=E.useState(0),[g,x]=E.useState([]),[y,N]=E.useState([]);E.useEffect(()=>{(async()=>{var k,D,R;try{const I=localStorage.getItem("userId")||"demo-user",[P,B,L]=await Promise.all([ii.getBalance(I).catch(()=>null),ii.listPixKeys(I).catch(()=>null),ii.getWithdrawals(I).catch(()=>null)]);(k=P==null?void 0:P.data)!=null&&k.success&&p(P.data.balance.available*100),(D=B==null?void 0:B.data)!=null&&D.success?x(B.data.pix_keys||Rc):x(Rc),(R=L==null?void 0:L.data)!=null&&R.success&&N(L.data.withdrawals)}catch(I){console.error("Erro ao carregar dados:",I),x(Rc)}})()},[]);const C=E.useMemo(()=>Ro.filter(T=>T.type===Zt.WITHDRAWAL||T.type===Zt.FEES&&T.description.includes("Saque")).sort((T,k)=>new Date(k.occurredAt).getTime()-new Date(T.occurredAt).getTime()),[]);E.useEffect(()=>{if(!e){r(null);return}parseInt(e.replace(/\D/g,""),10)>h?r("Saldo insuficiente para o valor solicitado."):r(null)},[e,h]);const A=async T=>{var D,R;if(T.preventDefault(),n)return;const k=parseInt(e.replace(/\D/g,""),10);if(!k||k<=0){alert("Valor invlido.");return}if(k>h){alert("Saldo insuficiente.");return}try{f(!0);const I=localStorage.getItem("userId"),P=await ii.requestWithdraw({user_id:I,amount:k,method:"pix",pix_key:o});if((D=P==null?void 0:P.data)!=null&&D.success){l({isOpen:!0,content:"success"}),t(""),i("");const B=await ii.getWithdrawals(I);(R=B==null?void 0:B.data)!=null&&R.success&&N(B.data.withdrawals)}else alert("Erro ao solicitar saque")}catch(I){console.error("Erro ao solicitar saque:",I),alert("Erro ao solicitar saque. Tente novamente.")}finally{f(!1)}t("")};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-2 bg-card p-6 sm:p-8 rounded-2xl border border-border",children:[s.jsx("h2",{className:"text-xl font-bold text-text-title",children:"Solicitar Saque"}),s.jsx("p",{className:"text-text-soft mt-1",children:"O valor ser enviado para a chave PIX selecionada."}),s.jsxs("div",{className:"my-6 bg-surface p-4 rounded-lg border border-border",children:[s.jsx("p",{className:"text-sm text-text-soft",children:"Saldo disponvel para saque"}),s.jsx("p",{className:"text-3xl font-bold text-gold",children:kI(h)})]}),s.jsxs("form",{onSubmit:A,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"amount",className:"block text-sm font-medium text-text-body mb-2",children:"Valor do saque"}),s.jsx("input",{type:"text",id:"amount",value:e?Xwe(e):"",onChange:T=>t(Qwe(T.target.value)),placeholder:"R$ 0,00",className:`w-full px-4 py-3 rounded-lg bg-surface border focus:outline-none focus:ring-2 transition-colors ${n?"border-danger text-danger focus:ring-danger/25":"border-border focus:ring-gold/25"}`}),n&&s.jsx("p",{className:"text-sm text-danger mt-1",children:n})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"pixKey",className:"block text-sm font-medium text-text-body mb-2",children:"Chave PIX de destino"}),s.jsx("select",{id:"pixKey",value:o,onChange:T=>i(T.target.value),className:"w-full px-4 py-3 rounded-lg bg-surface border border-border focus:outline-none focus:ring-2 focus:ring-gold/25",children:Rc.map(T=>s.jsxs("option",{value:T.id,children:[`${T.type.toUpperCase()}: ${T.key}`,T.isPrimary?" (Principal)":""]},T.id))})]}),s.jsx("button",{type:"submit",disabled:!!n,className:"w-full text-center py-3 px-6 bg-gold text-base text-card hover:bg-gold-hover font-semibold rounded-lg transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:"Confirmar Saque"})]})]}),s.jsxs("div",{className:"bg-card p-6 rounded-2xl border border-border",children:[s.jsx("h3",{className:"text-lg font-bold text-text-title mb-4",children:"Chaves PIX Salvas"}),s.jsx("div",{className:"space-y-3 mb-4",children:Rc.length>0?Rc.map(T=>s.jsxs("div",{className:"bg-surface p-3 rounded-lg border border-border text-sm",children:[s.jsxs("p",{className:"font-semibold text-text-body capitalize",children:[T.type," ",T.isPrimary&&s.jsx("span",{className:"text-xs text-gold",children:"(Principal)"})]}),s.jsx("p",{className:"text-text-soft truncate",children:T.key})]},T.id)):s.jsx("p",{className:"text-sm text-text-soft text-center py-4",children:"Nenhuma chave cadastrada."})}),s.jsx("button",{onClick:()=>l({isOpen:!0,content:"addKey"}),className:"w-full text-center py-2 px-4 bg-surface text-text-body hover:bg-border border border-border font-semibold rounded-lg transition-colors",children:"Adicionar Chave"})]})]}),s.jsxs("div",{className:"bg-card p-6 rounded-2xl border border-border",children:[s.jsx("h3",{className:"text-lg font-bold text-text-title mb-4",children:"Histrico de Saques"}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-left",children:[s.jsx("thead",{className:"text-xs text-text-soft uppercase",children:s.jsxs("tr",{children:[s.jsx("th",{className:"py-2 px-3",children:"Data"}),s.jsx("th",{className:"py-2 px-3",children:"Descrio"}),s.jsx("th",{className:"py-2 px-3 text-right",children:"Valor"}),s.jsx("th",{className:"py-2 px-3 text-center",children:"Status"})]})}),s.jsx("tbody",{className:"divide-y divide-border",children:C.length>0?C.map(T=>s.jsxs("tr",{children:[s.jsx("td",{className:"py-3 px-3 text-sm",children:new Date(T.occurredAt).toLocaleString("pt-BR")}),s.jsx("td",{className:"py-3 px-3 text-sm",children:T.description}),s.jsx("td",{className:`py-3 px-3 text-right font-semibold ${T.amount>0?"text-success":"text-danger"}`,children:kI(T.amount)}),s.jsx("td",{className:"py-3 px-3 text-center",children:s.jsx(pu,{status:T.state})})]},T.seq)):s.jsx("tr",{children:s.jsx("td",{colSpan:4,className:"text-center py-8 text-text-body",children:"Nenhum saque realizado."})})})]})})]}),s.jsxs(da,{isOpen:a.isOpen,onClose:()=>l({isOpen:!1,content:null}),title:a.content==="success"?"Sucesso!":"Adicionar Chave PIX",children:[a.content==="success"&&s.jsxs("div",{className:"text-center",children:[s.jsx("p",{children:"Sua solicitao de saque foi enviada e est sendo processada."}),s.jsx("button",{onClick:()=>l({isOpen:!1,content:null}),className:"mt-4 w-full text-center py-2 px-4 bg-gold text-card font-semibold rounded-lg",children:"Ok"})]}),a.content==="addKey"&&s.jsx("p",{className:"text-center",children:"Gerenciamento de chaves PIX em desenvolvimento."})]})]})},MI=e=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e/100),e2e=()=>{const[e,t]=E.useState(""),[n,r]=E.useState(""),[o,i]=E.useState(""),[a,l]=E.useState(""),[u,f]=E.useState(!1),[h,p]=E.useState(!1),[g,x]=E.useState(0);E.useEffect(()=>{(async()=>{var A;try{const T=localStorage.getItem("userId")||"demo-user",k=await ii.getBalance(T);(A=k==null?void 0:k.data)!=null&&A.success&&x(k.data.balance.available*100)}catch(T){console.error("Erro ao carregar saldo:",T)}})()},[]),E.useEffect(()=>{if(n.trim().length>=6){const C=s2.find(A=>A.id.toLowerCase()===n.toLowerCase());i(C?C.name:"Consultor no encontrado")}else i("")},[n]);const y=E.useMemo(()=>Ro.filter(C=>C.type===Zt.TRANSFER).sort((C,A)=>new Date(A.occurredAt).getTime()-new Date(C.occurredAt).getTime()),[]),N=async C=>{var T;C.preventDefault();const A=parseInt(e.replace(/\D/g,""),10);if(!A||A<=0){alert("Valor invlido.");return}if(A>g){alert("Saldo insuficiente.");return}try{p(!0);const k=localStorage.getItem("userId"),D=await ii.transfer({from_user_id:k,to_user_id:n,amount:A,note:a});(T=D==null?void 0:D.data)!=null&&T.success?(f(!0),t(""),r(""),l("")):alert("Erro ao realizar transferncia")}catch(k){console.error("Erro ao transferir:",k),alert("Erro ao realizar transferncia. Tente novamente.")}finally{p(!1)}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-card p-6 sm:p-8 rounded-2xl border border-border",children:[s.jsx("h2",{className:"text-xl font-bold text-text-title",children:"Transferir Saldo"}),s.jsx("p",{className:"text-text-soft mt-1",children:"Envie saldo para outro consultor da rede RS Prlipsi."}),s.jsxs("div",{className:"my-6 bg-surface p-4 rounded-lg border border-border",children:[s.jsx("p",{className:"text-sm text-text-soft",children:"Saldo disponvel para transferncia"}),s.jsx("p",{className:"text-3xl font-bold text-gold",children:MI(g)})]}),s.jsxs("form",{onSubmit:N,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"recipientId",className:"block text-sm font-medium text-text-body mb-2",children:"ID do Destinatrio"}),s.jsx("input",{type:"text",id:"recipientId",value:n,onChange:C=>r(C.target.value.toUpperCase()),placeholder:"RS123456",className:"w-full px-4 py-3 rounded-lg bg-surface border border-border focus:outline-none focus:ring-2 focus:ring-gold/25",required:!0}),o&&s.jsx("p",{className:`text-sm mt-2 ${o==="Consultor no encontrado"?"text-danger":"text-success"}`,children:o})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"amount",className:"block text-sm font-medium text-text-body mb-2",children:"Valor"}),s.jsx("input",{type:"text",id:"amount",value:e,onChange:C=>t(C.target.value.replace(/\D/g,"")),placeholder:"R$ 0,00",className:"w-full px-4 py-3 rounded-lg bg-surface border border-border focus:outline-none focus:ring-2 focus:ring-gold/25",required:!0})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"note",className:"block text-sm font-medium text-text-body mb-2",children:"Observao (opcional)"}),s.jsx("input",{type:"text",id:"note",value:a,onChange:C=>l(C.target.value),placeholder:"Ex: Adiantamento de comisso",className:"w-full px-4 py-3 rounded-lg bg-surface border border-border focus:outline-none focus:ring-2 focus:ring-gold/25"})]}),s.jsx("button",{type:"submit",className:"w-full text-center py-3 px-6 bg-gold text-base text-card hover:bg-gold-hover font-semibold rounded-lg transition-colors duration-200",children:"Revisar e Transferir"})]})]}),s.jsxs("div",{className:"bg-card p-6 rounded-2xl border border-border",children:[s.jsx("h3",{className:"text-lg font-bold text-text-title mb-4",children:"Histrico de Transferncias"}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-left",children:[s.jsx("thead",{className:"text-xs text-text-soft uppercase",children:s.jsxs("tr",{children:[s.jsx("th",{className:"py-2 px-3",children:"Data"}),s.jsx("th",{className:"py-2 px-3",children:"Descrio"}),s.jsx("th",{className:"py-2 px-3 text-right",children:"Valor"}),s.jsx("th",{className:"py-2 px-3 text-center",children:"Status"})]})}),s.jsx("tbody",{className:"divide-y divide-border",children:y.length>0?y.map(C=>s.jsxs("tr",{children:[s.jsx("td",{className:"py-3 px-3 text-sm",children:new Date(C.occurredAt).toLocaleString("pt-BR")}),s.jsx("td",{className:"py-3 px-3 text-sm",children:C.description}),s.jsx("td",{className:`py-3 px-3 text-right font-semibold ${C.amount>0?"text-success":"text-danger"}`,children:MI(C.amount)}),s.jsx("td",{className:"py-3 px-3 text-center",children:s.jsx(pu,{status:C.state})})]},C.seq)):s.jsx("tr",{children:s.jsx("td",{colSpan:4,className:"text-center py-8 text-text-body",children:"Nenhuma transferncia realizada."})})})]})})]}),s.jsx(da,{isOpen:u,onClose:()=>f(!1),title:"Confirmao",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{children:"Transferncia enviada com sucesso!"}),s.jsx("button",{onClick:()=>f(!1),className:"mt-4 w-full text-center py-2 px-4 bg-gold text-card font-semibold rounded-lg",children:"Ok"})]})})]})},t2e=()=>s.jsx(foe,{children:s.jsxs(Hre,{children:[s.jsx(sn,{path:"/",element:s.jsx(Ld,{to:"/app/dashboard",replace:!0})}),s.jsxs(sn,{path:"/app",element:s.jsx(Loe,{}),children:[s.jsx(sn,{index:!0,element:s.jsx(Ld,{to:"dashboard",replace:!0})}),s.jsx(sn,{path:"dashboard",element:s.jsx(gwe,{})}),s.jsx(sn,{path:"transactions",element:s.jsx(xwe,{})}),s.jsxs(sn,{path:"payments",element:s.jsx(Vwe,{}),children:[s.jsx(sn,{index:!0,element:s.jsx(Ld,{to:"cobrancas",replace:!0})}),s.jsx(sn,{path:"cobrancas",element:s.jsx(Gwe,{})}),s.jsx(sn,{path:"links",element:s.jsx(Ywe,{})}),s.jsx(sn,{path:"saques",element:s.jsx(Zwe,{})}),s.jsx(sn,{path:"transferencias",element:s.jsx(e2e,{})})]}),s.jsx(sn,{path:"sales",element:s.jsx(qwe,{})}),s.jsx(sn,{path:"marketing",element:s.jsx(Bwe,{})}),s.jsx(sn,{path:"cards",element:s.jsx(Dwe,{})}),s.jsx(sn,{path:"reports",element:s.jsx(wwe,{})}),s.jsx(sn,{path:"network",element:s.jsx(Nwe,{})}),s.jsx(sn,{path:"settings",element:s.jsx(Awe,{})}),s.jsx(sn,{path:"*",element:s.jsx(Ld,{to:"dashboard",replace:!0})})]}),s.jsx(sn,{path:"*",element:s.jsx(Ld,{to:"/app/dashboard",replace:!0})})]})}),n2e=({userProfile:e,onSave:t})=>{const[n,r]=E.useState(e),o=JSON.stringify(n)!==JSON.stringify(e),i=h=>{const{name:p,value:g}=h.target;r(x=>({...x,[p]:g}))},a=h=>{r(p=>({...p,avatarUrl:h}))},l=()=>{t(n)},u=()=>{r(e)},f=({label:h,value:p})=>s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-400",children:h}),s.jsx("p",{className:"mt-1 text-white p-2 bg-gray-800 rounded-md",children:p})]});return s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"pb-6 mb-6 flex justify-end items-center border-b border-gray-800",children:s.jsxs("div",{className:"flex items-center gap-4",children:[o&&s.jsx("p",{className:"text-sm text-yellow-400",children:"Voc tem alteraes no salvas."}),s.jsx("button",{onClick:u,disabled:!o,className:"text-sm font-semibold bg-gray-700 text-white py-2 px-4 rounded-md hover:bg-gray-600 disabled:opacity-50",children:"Descartar"}),s.jsx("button",{onClick:l,disabled:!o,className:"text-sm font-bold bg-yellow-500 text-black py-2 px-4 rounded-md hover:bg-yellow-400 disabled:opacity-50",children:"Salvar Perfil"})]})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsx("div",{className:"lg:col-span-1",children:s.jsxs("div",{className:"bg-black border border-gray-800 rounded-lg p-6 text-center",children:[s.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Foto de Perfil"}),s.jsx(Cr,{currentImage:n.avatarUrl,onImageUpload:a,placeholderText:"Alterar foto",aspectRatio:"square"})]})}),s.jsx("div",{className:"lg:col-span-2",children:s.jsxs("div",{className:"bg-black border border-gray-800 rounded-lg p-6 space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-400 mb-1",children:"Nome de Exibio"}),s.jsx("input",{id:"name",name:"name",type:"text",value:n.name,onChange:i,className:"w-full bg-gray-800 border-2 border-gray-700 rounded-md py-2 px-3 text-white"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-400 mb-1",children:"E-mail"}),s.jsx("input",{id:"email",name:"email",type:"email",value:n.email,onChange:i,className:"w-full bg-gray-800 border-2 border-gray-700 rounded-md py-2 px-3 text-white"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"cpfCnpj",className:"block text-sm font-medium text-gray-400 mb-1",children:"CPF/CNPJ"}),s.jsx("input",{id:"cpfCnpj",name:"cpfCnpj",type:"text",value:n.cpfCnpj,onChange:i,className:"w-full bg-gray-800 border-2 border-gray-700 rounded-md py-2 px-3 text-white"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-400 mb-1",children:"Telefone"}),s.jsx("input",{id:"phone",name:"phone",type:"tel",value:n.phone,onChange:i,className:"w-full bg-gray-800 border-2 border-gray-700 rounded-md py-2 px-3 text-white"})]})]}),s.jsx(f,{label:"ID",value:n.id}),s.jsx(f,{label:"Graduao",value:n.graduation}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsx(f,{label:"Status da Conta",value:n.accountStatus}),s.jsx(f,{label:"Atividade Mensal",value:n.monthlyActivity})]}),s.jsx(f,{label:"Link de Indicao",value:n.referralLink}),s.jsx(f,{label:"Link de Afiliado",value:n.affiliateLink})]})})]})]})},r2e=()=>s.jsxs("div",{className:"flex flex-col items-center justify-center text-center py-20 bg-black border-2 border-dashed border-gray-800 rounded-lg h-[75vh]",children:[s.jsx(Mg,{className:"w-20 h-20 text-yellow-400 mb-4"}),s.jsx("h3",{className:"text-3xl font-bold font-display text-white",children:"RS Studio: Em Breve"}),s.jsx("p",{className:"mt-2 max-w-lg text-gray-400",children:"Uma sute de ferramentas com IA para automao e criao de contedo est chegando para revolucionar seu negcio. Aguarde!"})]}),o2e=e=>s.jsx("svg",{...e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 016-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0018 18a8.967 8.967 0 00-6 2.292m0-14.25v14.25"})}),HU=e=>s.jsx("svg",{...e,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:s.jsx("path",{d:"M16 9V4h-2v5h-4V4H8v5H3.56c-.34 0-.67.14-.9.37-.23.23-.34.55-.31.87l.45 4.88c.11 1.22.69 2.33 1.58 3.09.89.76 2.06 1.23 3.32 1.23h.1c.34 0 .67-.14.9-.37.23-.23.34-.55.31-.87l-.45-4.88c-.02-.2-.11-.38-.25-.52-.14-.14-.33-.21-.53-.21H6v-3h12v3h-2.56c-.2 0-.39.08-.53.21-.14.14-.23.32-.25.52l-.45 4.88c-.03.32.08.64.31.87.23.23.56.37.9.37h.1c1.26 0 2.43-.47 3.32-1.23.89-.76 1.47-1.87 1.58-3.09l.45-4.88c.03-.32-.08-.64-.31-.87-.23-.23-.56-.37-.9-.37H16z"})}),uC=e=>s.jsx("svg",{...e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5M16.5 12L12 16.5m0 0L7.5 12m4.5 4.5V3"})}),i2e=({announcements:e,trainings:t,marketingAssets:n,onNavigate:r})=>{const[o,i]=E.useState(null),[a,l]=E.useState(null),u=[...e].sort((g,x)=>g.isPinned&&!x.isPinned?-1:!g.isPinned&&x.isPinned?1:new Date(x.date).getTime()-new Date(g.date).getTime()),f=t.slice(0,4),h=n.slice(0,8),p=({asset:g})=>{const x=g.format==="PDF",y=()=>{x?window.open(g.downloadUrl,"_blank"):l(g)};return s.jsxs("div",{className:"relative group bg-gray-900 border border-gray-800 rounded-lg p-3 text-center transition-transform transform hover:-translate-y-1",children:[s.jsx("button",{onClick:y,className:"aspect-square bg-gray-800 flex items-center justify-center rounded-md mb-2 overflow-hidden w-full",children:x?s.jsx(kl,{className:"w-16 h-16 text-gray-500"}):s.jsx("img",{src:g.previewUrl,alt:g.name,className:"w-full h-full object-cover"})}),s.jsx("p",{className:"text-sm font-semibold text-white truncate",title:g.name,children:g.name}),s.jsx("p",{className:"text-xs text-gray-500",children:g.format}),s.jsxs("div",{className:"absolute inset-0 bg-black/80 opacity-0 group-hover:opacity-100 transition-opacity rounded-lg flex flex-col items-center justify-center p-4 space-y-2",children:[s.jsx("button",{onClick:y,className:"w-full text-sm font-bold bg-yellow-500 text-black py-2 px-4 rounded-md hover:bg-yellow-400",children:x?"Abrir":"Visualizar"}),s.jsxs("a",{href:g.downloadUrl,download:g.name,className:"w-full inline-flex items-center justify-center gap-2 text-sm font-semibold bg-gray-700 text-white py-2 px-4 rounded-md hover:bg-gray-600",children:[s.jsx(uC,{className:"w-5 h-5"})," Baixar"]})]})]})};return s.jsxs("div",{className:"space-y-12",children:[s.jsxs("section",{children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-3",children:[s.jsx($f,{className:"w-6 h-6 text-yellow-400"})," Comunicados Oficiais"]}),s.jsx("button",{onClick:()=>r("manageAnnouncements"),className:"text-sm font-semibold text-yellow-400 hover:underline",children:"Gerenciar"})]}),s.jsx("div",{className:"bg-black border border-gray-800 rounded-lg p-3 space-y-2",children:u.slice(0,4).map(g=>s.jsx("button",{onClick:()=>i(g),className:`w-full text-left p-4 rounded-lg transition-colors duration-200 ${g.isPinned?"bg-yellow-900/30 border-l-4 border-yellow-500":"bg-gray-800/40"} hover:bg-gray-800/80`,children:s.jsxs("div",{className:"flex justify-between items-center gap-4",children:[s.jsxs("div",{children:[s.jsxs("p",{className:"font-semibold text-white flex items-center gap-3",children:[g.isPinned&&s.jsx(HU,{className:"w-5 h-5 text-yellow-400 flex-shrink-0"}),g.title]}),s.jsx("p",{className:"text-xs text-gray-500 mt-1 ml-1",children:new Date(g.date).toLocaleDateString("pt-BR")})]}),s.jsx("span",{className:"text-sm font-semibold text-yellow-400 flex-shrink-0",children:"Ler"})]})},g.id))})]}),s.jsxs("section",{children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-3",children:[s.jsx(o2e,{className:"w-6 h-6 text-yellow-400"})," Treinamentos Recentes"]}),s.jsx("button",{onClick:()=>r("manageTrainings"),className:"text-sm font-semibold text-yellow-400 hover:underline",children:"Ver Todos"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:f.map(g=>s.jsx("button",{onClick:()=>r("trainingModuleDetail",g),className:"bg-black border border-gray-800 rounded-lg overflow-hidden group text-left transition-all duration-300 hover:shadow-lg hover:shadow-yellow-500/10 hover:border-gray-700 hover:-translate-y-1",children:s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:g.thumbnailUrl,alt:g.title,className:"w-full h-36 object-cover transition-transform duration-300 group-hover:scale-105"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 to-transparent"}),s.jsxs("div",{className:"absolute top-2 right-2 bg-black/60 text-white text-xs px-2 py-1 rounded-full",children:[g.lessons.length," ",g.lessons.length>1?"Aulas":"Aula"]}),s.jsx("h3",{className:"absolute bottom-3 left-3 right-3 font-bold text-base text-white group-hover:text-yellow-400 transition-colors leading-tight",children:g.title})]})},g.id))})]}),s.jsxs("section",{children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-3",children:[s.jsx($I,{className:"w-6 h-6 text-yellow-400"})," Novos Materiais de Marketing"]}),s.jsx("button",{onClick:()=>r("manageMarketingAssets"),className:"text-sm font-semibold text-yellow-400 hover:underline",children:"Ver Todos"})]}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 xl:grid-cols-8 gap-4",children:h.map(g=>s.jsx(p,{asset:g},g.id))})]}),o&&s.jsx("div",{className:"fixed inset-0 bg-black/70 z-50 flex items-center justify-center p-4",onClick:()=>i(null),children:s.jsxs("div",{className:"bg-black border border-gray-800 rounded-lg w-full max-w-2xl max-h-[90vh] flex flex-col",onClick:g=>g.stopPropagation(),children:[s.jsxs("header",{className:"flex items-start justify-between p-4 border-b border-gray-800",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold text-white",children:o.title}),s.jsx("p",{className:"text-sm text-gray-500",children:new Date(o.date).toLocaleDateString("pt-BR")})]}),s.jsx("button",{onClick:()=>i(null),children:s.jsx(ci,{className:"w-6 h-6 text-gray-400 hover:text-white"})})]}),s.jsx("main",{className:"p-6 overflow-y-auto prose prose-invert max-w-none",dangerouslySetInnerHTML:{__html:o.content}})]})}),a&&s.jsx("div",{className:"fixed inset-0 bg-black/80 z-50 flex items-center justify-center p-4",onClick:()=>l(null),children:s.jsxs("div",{className:"bg-black border border-gray-800 rounded-lg w-full max-w-4xl max-h-[90vh] flex flex-col",onClick:g=>g.stopPropagation(),children:[s.jsxs("header",{className:"flex items-center justify-between p-4 border-b border-gray-800",children:[s.jsx("h2",{className:"text-lg font-semibold text-white truncate",children:a.name}),s.jsx("button",{onClick:()=>l(null),children:s.jsx(ci,{className:"w-6 h-6 text-gray-400 hover:text-white"})})]}),s.jsx("main",{className:"p-4 flex-grow flex items-center justify-center overflow-auto",children:s.jsx("img",{src:a.previewUrl,alt:a.name,className:"max-w-full max-h-full object-contain"})}),s.jsx("footer",{className:"p-4 border-t border-gray-800 bg-gray-900/50 text-right",children:s.jsxs("a",{href:a.downloadUrl,download:a.name,className:"inline-flex items-center gap-2 text-sm font-bold bg-yellow-500 text-black py-2 px-4 rounded-md hover:bg-yellow-400",children:[s.jsx(uC,{className:"w-5 h-5"})," Baixar"]})})]})})]})},a2e=({order:e,settings:t,product:n,onAccept:r,onDecline:o})=>{const[i,a]=E.useState(!1),l=()=>{a(!0),setTimeout(()=>{r(),a(!1)},1500)};return s.jsxs("div",{className:"max-w-2xl mx-auto my-8 p-6 rounded-lg border-2 border-dashed border-[rgb(var(--color-brand-gold))] bg-[rgb(var(--color-brand-gold))]/[.05] animate-pulse-border",children:[s.jsx("style",{children:`
                @keyframes pulse-border {
                    0%, 100% { border-color: rgb(var(--color-brand-gold)); }
                    50% { border-color: rgb(var(--color-warning)); }
                }
                .animate-pulse-border {
                    animation: pulse-border 2.5s ease-in-out infinite;
                }
            `}),s.jsx("h2",{className:"text-2xl font-bold font-display text-[rgb(var(--color-brand-gold))] text-center",children:t.title}),s.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-6 mt-4",children:[s.jsx("img",{src:n.images[0],alt:n.name,className:"w-32 h-32 object-cover rounded-md flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-[rgb(var(--color-brand-text-dim))]",children:t.description}),s.jsxs("div",{className:"flex items-baseline gap-2 mt-2",children:[s.jsx("span",{className:"text-2xl font-bold text-[rgb(var(--color-brand-gold))]",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(t.offerPrice)}),s.jsx("span",{className:"text-md text-[rgb(var(--color-brand-text-dim))] line-through",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(n.price)})]})]})]}),s.jsxs("div",{className:"mt-6 space-y-3",children:[s.jsxs("button",{onClick:l,disabled:i,className:"w-full bg-green-600 text-white font-bold py-3 px-4 rounded-md hover:bg-green-500 transition-colors disabled:opacity-70 disabled:cursor-wait flex items-center justify-center gap-2",children:[i&&s.jsx(Lo,{className:"w-5 h-5"}),t.acceptButtonText]}),s.jsx("button",{onClick:o,disabled:i,className:"w-full text-center text-[rgb(var(--color-brand-text-dim))] hover:text-white text-sm transition-colors disabled:opacity-50",children:t.declineButtonText})]})]})},s2e=({order:e,onContinueShopping:t,upsellSettings:n,allProducts:r,onAcceptUpsell:o})=>{const[i,a]=E.useState("pending"),[l,u]=E.useState(!1),f=E.useMemo(()=>n.enabled?r.find(x=>x.id===n.productId):null,[n,r]);if(!e)return s.jsxs("div",{className:"bg-[rgb(var(--color-brand-dark))] text-white min-h-screen flex flex-col items-center justify-center text-center p-4",children:[s.jsx("h1",{className:"text-2xl font-bold text-white mb-4",children:"Pedido no encontrado."}),s.jsx("button",{onClick:t,className:"bg-[rgb(var(--color-brand-gold))] text-black font-bold py-3 px-8 rounded-full text-lg",children:"Voltar para a Loja"})]});const h=()=>{f&&(o(e,f,n.offerPrice),a("accepted"))},p=()=>{e.pixCopyableCode&&(navigator.clipboard.writeText(e.pixCopyableCode),u(!0),setTimeout(()=>u(!1),2e3))},g=()=>f&&i==="pending"?s.jsx(a2e,{order:e,settings:n,product:f,onAccept:h,onDecline:()=>a("declined")}):s.jsxs(s.Fragment,{children:[s.jsx(Fl,{className:"w-20 h-20 text-[rgb(var(--color-success))] mx-auto mb-4"}),s.jsx("h1",{className:"text-3xl md:text-4xl font-bold font-display text-white",children:"Obrigado por sua compra!"}),s.jsx("p",{className:"text-lg text-[rgb(var(--color-brand-text-dim))] mt-2",children:"Seu pedido foi recebido e est sendo processado."}),i==="accepted"&&s.jsx("p",{className:"text-lg text-[rgb(var(--color-success))] mt-2 font-semibold",children:"Sua oferta especial foi adicionada com sucesso!"})]});return s.jsxs("div",{className:"bg-[rgb(var(--color-brand-dark))] text-white min-h-screen",children:[s.jsx("header",{className:"bg-[rgb(var(--color-brand-gray))] backdrop-blur-sm border-b border-[rgb(var(--color-brand-gold))]/[.30]",children:s.jsx("div",{className:"container mx-auto px-4 h-20 flex items-center",children:s.jsx("span",{className:"text-3xl font-display text-[rgb(var(--color-brand-gold))]",children:"RS Prlipsi"})})}),s.jsxs("main",{className:"container mx-auto px-4 py-12 text-center",children:[g(),e.boletoUrl&&s.jsxs("div",{className:"max-w-2xl mx-auto my-8 p-6 rounded-lg border-2 border-[rgb(var(--color-brand-gold))] bg-[rgb(var(--color-brand-gold))]/[.05]",children:[s.jsx("h2",{className:"text-2xl font-bold font-display text-[rgb(var(--color-brand-gold))] text-center",children:"Boleto Gerado com Sucesso!"}),s.jsx("p",{className:"text-[rgb(var(--color-brand-text-dim))] text-center mt-2",children:"Clique no boto abaixo para visualizar e imprimir seu boleto."}),s.jsx("div",{className:"mt-6 text-center",children:s.jsx("a",{href:e.boletoUrl,target:"_blank",rel:"noopener noreferrer",className:"inline-block bg-[rgb(var(--color-brand-gold))] text-black font-bold py-3 px-8 rounded-full text-lg",children:"Visualizar Boleto"})})]}),e.pixQrCodeUrl&&s.jsxs("div",{className:"max-w-2xl mx-auto my-8 p-6 rounded-lg border-2 border-[rgb(var(--color-brand-gold))] bg-[rgb(var(--color-brand-gold))]/[.05]",children:[s.jsx("h2",{className:"text-2xl font-bold font-display text-[rgb(var(--color-brand-gold))] text-center",children:"Pague com PIX para Finalizar"}),s.jsxs("div",{className:"text-center p-4 rounded-lg",children:[s.jsx("img",{src:e.pixQrCodeUrl,alt:"QR Code PIX",className:"mx-auto bg-white p-2 rounded-md"}),s.jsx("p",{className:"text-sm mt-4 text-[rgb(var(--color-brand-text-dim))]",children:"Aponte a cmera do seu celular para pagar, ou use o cdigo abaixo."}),s.jsxs("button",{onClick:p,className:"mt-4 w-full bg-[rgb(var(--color-brand-gray))] text-white font-semibold py-3 px-4 rounded-md hover:bg-[rgb(var(--color-brand-gray-light))] flex items-center justify-center gap-2",children:[l?s.jsx(Qc,{className:"w-5 h-5 text-[rgb(var(--color-success))]"}):s.jsx(vs,{className:"w-5 h-5"}),l?"Cdigo Copiado!":"Copiar Cdigo PIX"]})]})]}),s.jsxs("div",{className:"max-w-2xl mx-auto bg-[rgb(var(--color-brand-gray))] rounded-lg p-6 my-8 text-left",children:[s.jsxs("h2",{className:"text-xl font-bold text-white mb-4 border-b border-[rgb(var(--color-brand-gray-light))] pb-2",children:["Resumo do Pedido ",s.jsx("span",{className:"text-[rgb(var(--color-brand-gold))] font-mono",children:e.id})]}),s.jsx("div",{className:"space-y-3",children:e.items.map((x,y)=>s.jsxs("div",{className:"flex justify-between items-center text-sm",children:[s.jsxs("p",{className:"text-white",children:[x.productName," ",s.jsxs("span",{className:"text-[rgb(var(--color-brand-text-dim))]",children:["x",x.quantity]})]}),s.jsx("p",{className:"text-[rgb(var(--color-brand-text-dim))]",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(x.price*x.quantity)})]},`${x.variantId}-${y}`))}),s.jsxs("div",{className:"mt-4 pt-4 border-t border-[rgb(var(--color-brand-gray-light))] space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-[rgb(var(--color-brand-text-dim))]",children:"Subtotal"}),s.jsx("span",{className:"text-white",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e.subtotal)})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("span",{className:"text-[rgb(var(--color-brand-text-dim))]",children:["Frete (",e.shippingMethod,")"]}),s.jsx("span",{className:"text-white",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e.shippingCost)})]}),e.discount>0&&s.jsxs("div",{className:"flex justify-between text-[rgb(var(--color-success))]",children:[s.jsxs("span",{children:["Desconto (",e.appliedCoupon,")"]}),s.jsxs("span",{children:["- ",new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e.discount)]})]}),s.jsxs("div",{className:"flex justify-between font-bold text-lg pt-2 text-[rgb(var(--color-brand-gold))]",children:[s.jsx("span",{children:"Total"}),s.jsx("span",{children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e.total)})]})]})]}),s.jsx("button",{onClick:t,className:"bg-[rgb(var(--color-brand-gold))] text-black font-bold py-3 px-8 rounded-full text-lg hover:bg-yellow-400 transition-transform transform hover:scale-105",children:"Continuar Comprando"})]})]})},l2e=({settings:e,products:t,onSave:n})=>{const[r,o]=E.useState(e),i=JSON.stringify(r)!==JSON.stringify(e);E.useEffect(()=>{o(e)},[e]);const a=()=>{n(r),alert("Configuraes do Order Bump salvas com sucesso!")},l=()=>o(e),u=p=>{const{name:g,value:x}=p.target;o(y=>({...y,[g]:g==="offerPrice"?Number(x):x}))},f=p=>{o(g=>({...g,enabled:p}))},h=t.find(p=>p.id===r.productId);return s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"pb-6 mb-6 flex justify-end items-center border-b border-gray-800",children:s.jsxs("div",{className:"flex items-center gap-4",children:[i&&s.jsx("p",{className:"text-sm text-yellow-400",children:"Voc tem alteraes no salvas."}),s.jsx("button",{onClick:l,disabled:!i,className:"text-sm font-semibold bg-gray-700 text-white py-2 px-4 rounded-md hover:bg-gray-600 disabled:opacity-50",children:"Descartar"}),s.jsx("button",{onClick:a,disabled:!i,className:"text-sm font-bold bg-yellow-500 text-black py-2 px-4 rounded-md hover:bg-yellow-400 disabled:opacity-50",children:"Salvar"})]})}),s.jsx("div",{className:"max-w-4xl mx-auto space-y-8",children:s.jsxs("div",{className:"bg-black border border-gray-800 rounded-lg",children:[s.jsxs("div",{className:"p-4 border-b border-gray-800 flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold text-white",children:"Configurao do Order Bump"}),s.jsx(vt,{checked:r.enabled,onChange:f,labelId:"order-bump-toggle"})]}),r.enabled&&s.jsxs("div",{className:"p-6 space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"productId",className:"block text-sm font-medium text-gray-400 mb-2",children:"Produto da Oferta"}),s.jsx("select",{id:"productId",name:"productId",value:r.productId,onChange:u,className:"w-full bg-gray-800 border-2 border-gray-700 rounded-md py-2 px-3 text-white",children:t.map(p=>s.jsx("option",{value:p.id,children:p.name},p.id))}),h&&s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Preo original: ",new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(h.price)]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"offerPrice",className:"block text-sm font-medium text-gray-400 mb-2",children:"Preo da Oferta"}),s.jsx("input",{type:"number",id:"offerPrice",name:"offerPrice",value:r.offerPrice,onChange:u,className:"w-full bg-gray-800 border-2 border-gray-700 rounded-md py-2 px-3 text-white"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-400 mb-2",children:"Ttulo da Oferta"}),s.jsx("input",{type:"text",id:"title",name:"title",value:r.title,onChange:u,className:"w-full bg-gray-800 border-2 border-gray-700 rounded-md py-2 px-3 text-white"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Ex:  SIM, EU QUERO ESTA OFERTA ESPECIAL!"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-400 mb-2",children:"Descrio da Oferta"}),s.jsx("textarea",{id:"description",name:"description",value:r.description,onChange:u,rows:3,className:"w-full bg-gray-800 border-2 border-gray-700 rounded-md py-2 px-3 text-white"})]})]})]})})]})},c2e=({settings:e,products:t,onSave:n})=>{const[r,o]=E.useState(e),i=JSON.stringify(r)!==JSON.stringify(e);E.useEffect(()=>{o(e)},[e]);const a=()=>{n(r),alert("Configuraes do Upsell salvas com sucesso!")},l=()=>o(e),u=p=>{const{name:g,value:x}=p.target;o(y=>({...y,[g]:g==="offerPrice"?Number(x):x}))},f=p=>{o(g=>({...g,enabled:p}))},h=t.find(p=>p.id===r.productId);return s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"pb-6 mb-6 flex justify-end items-center border-b border-gray-800",children:s.jsxs("div",{className:"flex items-center gap-4",children:[i&&s.jsx("p",{className:"text-sm text-yellow-400",children:"Voc tem alteraes no salvas."}),s.jsx("button",{onClick:l,disabled:!i,className:"text-sm font-semibold bg-gray-700 text-white py-2 px-4 rounded-md hover:bg-gray-600 disabled:opacity-50",children:"Descartar"}),s.jsx("button",{onClick:a,disabled:!i,className:"text-sm font-bold bg-yellow-500 text-black py-2 px-4 rounded-md hover:bg-yellow-400 disabled:opacity-50",children:"Salvar"})]})}),s.jsx("div",{className:"max-w-4xl mx-auto space-y-8",children:s.jsxs("div",{className:"bg-black border border-gray-800 rounded-lg",children:[s.jsxs("div",{className:"p-4 border-b border-gray-800 flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-white",children:"Upsell Ps-Compra (One-Click)"}),s.jsx("p",{className:"text-sm text-gray-400",children:"Oferea um produto complementar logo aps a finalizao da compra."})]}),s.jsx(vt,{checked:r.enabled,onChange:f,labelId:"upsell-toggle"})]}),r.enabled&&s.jsxs("div",{className:"p-6 space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"productId",className:"block text-sm font-medium text-gray-400 mb-2",children:"Produto da Oferta"}),s.jsx("select",{id:"productId",name:"productId",value:r.productId,onChange:u,className:"w-full bg-gray-800 border-2 border-gray-700 rounded-md py-2 px-3 text-white",children:t.map(p=>s.jsx("option",{value:p.id,children:p.name},p.id))}),h&&s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Preo original: ",new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(h.price)]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"offerPrice",className:"block text-sm font-medium text-gray-400 mb-2",children:"Preo da Oferta de Upsell"}),s.jsx("input",{type:"number",id:"offerPrice",name:"offerPrice",value:r.offerPrice,onChange:u,className:"w-full bg-gray-800 border-2 border-gray-700 rounded-md py-2 px-3 text-white"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-400 mb-2",children:"Ttulo da Oferta"}),s.jsx("input",{type:"text",id:"title",name:"title",value:r.title,onChange:u,className:"w-full bg-gray-800 border-2 border-gray-700 rounded-md py-2 px-3 text-white"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Ex:  OFERTA NICA PS-COMPRA! "})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-400 mb-2",children:"Descrio da Oferta"}),s.jsx("textarea",{id:"description",name:"description",value:r.description,onChange:u,rows:3,className:"w-full bg-gray-800 border-2 border-gray-700 rounded-md py-2 px-3 text-white"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"acceptButtonText",className:"block text-sm font-medium text-gray-400 mb-2",children:"Texto do Boto de Aceitar"}),s.jsx("input",{type:"text",id:"acceptButtonText",name:"acceptButtonText",value:r.acceptButtonText,onChange:u,className:"w-full bg-gray-800 border-2 border-gray-700 rounded-md py-2 px-3 text-white"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"declineButtonText",className:"block text-sm font-medium text-gray-400 mb-2",children:"Texto do Boto de Recusar"}),s.jsx("input",{type:"text",id:"declineButtonText",name:"declineButtonText",value:r.declineButtonText,onChange:u,className:"w-full bg-gray-800 border-2 border-gray-700 rounded-md py-2 px-3 text-white"})]})]})]})]})})]})},u2e=({status:e})=>{const t={"No enviado":"bg-gray-500/20 text-gray-300",Enviado:"bg-blue-500/20 text-blue-300",Recuperado:"bg-green-500/20 text-green-300"};return s.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${t[e]}`,children:e})},d2e=({carts:e})=>{const t=e.reduce((r,o)=>r+o.total,0),n=r=>{alert(`Simulao: E-mail de recuperao enviado para ${r}.`)};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-black border border-gray-800 rounded-lg p-6 flex items-center gap-4",children:[s.jsx(vx,{className:"w-8 h-8 text-yellow-400"}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-gray-400",children:"Carrinhos Abandonados"}),s.jsx("p",{className:"text-2xl font-bold text-white",children:e.length})]})]}),s.jsxs("div",{className:"bg-black border border-gray-800 rounded-lg p-6 flex items-center gap-4",children:[s.jsx(Fl,{className:"w-8 h-8 text-yellow-400"}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-gray-400",children:"Valor Total Abandonado"}),s.jsx("p",{className:"text-2xl font-bold text-white",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(t)})]})]})]}),s.jsxs("div",{className:"bg-black border border-gray-800 rounded-lg",children:[s.jsx("div",{className:"p-4 border-b border-gray-800",children:s.jsx("h3",{className:"text-lg font-semibold text-white",children:"Lista de Carrinhos"})}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm text-left text-gray-400",children:[s.jsx("thead",{className:"text-xs text-gray-400 uppercase bg-black",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3",children:"Cliente"}),s.jsx("th",{className:"px-6 py-3",children:"Data"}),s.jsx("th",{className:"px-6 py-3",children:"Itens"}),s.jsx("th",{className:"px-6 py-3 text-right",children:"Valor"}),s.jsx("th",{className:"px-6 py-3",children:"Status Recuperao"}),s.jsx("th",{className:"px-6 py-3 text-center",children:"Aes"})]})}),s.jsx("tbody",{children:e.map(r=>s.jsxs("tr",{className:"border-b border-gray-800 hover:bg-gray-800/50",children:[s.jsxs("td",{className:"px-6 py-4",children:[s.jsx("p",{className:"font-medium text-white",children:r.customerName}),s.jsx("p",{className:"text-xs text-gray-500",children:r.customerEmail})]}),s.jsx("td",{className:"px-6 py-4",children:new Date(r.abandonedAt).toLocaleString("pt-BR")}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("ul",{className:"text-xs",children:r.items.map(o=>s.jsxs("li",{children:["- ",o.name," (x",o.quantity,")"]},o.id))})}),s.jsx("td",{className:"px-6 py-4 text-right font-semibold text-white",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(r.total)}),s.jsx("td",{className:"px-6 py-4",children:s.jsx(u2e,{status:r.recoveryStatus})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx("button",{onClick:()=>n(r.customerEmail),className:"text-blue-400 hover:text-blue-300 disabled:text-gray-600 disabled:cursor-not-allowed",title:"Enviar e-mail de recuperao",disabled:r.recoveryStatus!=="No enviado",children:s.jsx(oL,{className:"w-5 h-5"})})})]},r.id))})]})})]})]})},f2e=({status:e})=>{const t={Pendente:{icon:mN,color:"yellow"},Aprovada:{icon:Fl,color:"green"},Rejeitada:{icon:Pg,color:"red"}},{icon:n,color:r}=t[e],o={yellow:"bg-yellow-500/10 text-yellow-400",green:"bg-green-500/10 text-green-400",red:"bg-red-500/10 text-red-400"};return s.jsxs("span",{className:`inline-flex items-center gap-1.5 px-2 py-1 text-xs font-medium rounded-full ${o[r]}`,children:[s.jsx(n,{className:"w-3.5 h-3.5"}),e]})},h2e=({reviews:e,products:t,onReviewApprove:n,onReviewDelete:r})=>{const[o,i]=E.useState([]),[a,l]=E.useState("all"),u=E.useMemo(()=>a==="all"?e:e.filter(g=>g.status===a),[e,a]),f=g=>{i(g.target.checked?u.map(x=>x.id):[])},h=g=>{i(x=>x.includes(g)?x.filter(y=>y!==g):[...x,g])},p=g=>{o.length!==0&&(g==="delete"?window.confirm(`Tem certeza que deseja excluir ${o.length} avaliao(es)?`)&&o.forEach(x=>r(x)):o.forEach(x=>{g==="approve"&&n(x)}),i([]))};return s.jsxs("div",{className:"bg-black border border-gray-800 rounded-lg",children:[s.jsxs("div",{className:"p-4 border-b border-gray-800 flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-white",children:"Moderar Avaliaes"}),s.jsx("p",{className:"text-sm text-gray-400",children:"Aprove, rejeite ou exclua as avaliaes enviadas pelos clientes."})]}),s.jsx("div",{className:"flex gap-2",children:["all","Pendente","Aprovada","Rejeitada"].map(g=>s.jsx("button",{onClick:()=>l(g),className:`px-3 py-1 text-sm rounded-full ${a===g?"bg-yellow-500 text-black font-semibold":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,children:g==="all"?"Todas":g},g))})]}),o.length>0&&s.jsxs("div",{className:"p-4 bg-gray-800/50 flex items-center gap-4",children:[s.jsxs("span",{className:"text-sm text-white",children:[o.length," selecionada(s)"]}),s.jsxs("button",{onClick:()=>p("approve"),className:"flex items-center gap-2 text-sm font-semibold bg-green-600/50 text-white py-1.5 px-3 rounded-md hover:bg-green-600",children:[s.jsx(Fl,{className:"w-4 h-4"})," Aprovar"]}),s.jsxs("button",{onClick:()=>p("reject"),className:"flex items-center gap-2 text-sm font-semibold bg-red-600/50 text-white py-1.5 px-3 rounded-md hover:bg-red-600",children:[s.jsx(Pg,{className:"w-4 h-4"})," Rejeitar"]}),s.jsxs("button",{onClick:()=>p("delete"),className:"flex items-center gap-2 text-sm font-semibold bg-gray-700 text-white py-1.5 px-3 rounded-md hover:bg-gray-600",children:[s.jsx(Tn,{className:"w-4 h-4"})," Excluir"]})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm text-left text-gray-400",children:[s.jsx("thead",{className:"text-xs text-gray-400 uppercase bg-black",children:s.jsxs("tr",{children:[s.jsx("th",{className:"p-4",children:s.jsx("input",{type:"checkbox",onChange:f,checked:o.length>0&&o.length===u.length})}),s.jsx("th",{className:"px-6 py-3",children:"Avaliao"}),s.jsx("th",{className:"px-6 py-3",children:"Produto"}),s.jsx("th",{className:"px-6 py-3",children:"Data"}),s.jsx("th",{className:"px-6 py-3",children:"Status"})]})}),s.jsx("tbody",{children:u.map(g=>s.jsxs("tr",{className:"border-b border-gray-800 hover:bg-gray-800/50",children:[s.jsx("td",{className:"w-4 p-4",children:s.jsx("input",{type:"checkbox",checked:o.includes(g.id),onChange:()=>h(g.id)})}),s.jsxs("td",{className:"px-6 py-4 max-w-sm",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("div",{className:"flex text-yellow-400",children:[...Array(5)].map((x,y)=>s.jsx(nf,{className:`w-4 h-4 ${y<g.rating?"text-yellow-400":"text-gray-600"}`},y))}),s.jsx("p",{className:"font-semibold text-white",children:g.title})]}),s.jsxs("p",{className:"text-xs text-gray-300 italic",children:['"',g.text,'"']}),s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["- ",g.author]})]}),s.jsx("td",{className:"px-6 py-4 text-white font-medium",children:g.productName}),s.jsx("td",{className:"px-6 py-4",children:new Date(g.createdAt).toLocaleDateString("pt-BR")}),s.jsx("td",{className:"px-6 py-4",children:s.jsx(f2e,{status:g.status})})]},g.id))})]})})]})},p2e=({announcements:e,onNavigate:t,onDelete:n})=>{const[r,o]=E.useState(""),[i,a]=E.useState([]),l=E.useMemo(()=>e.filter(h=>h.title.toLowerCase().includes(r.toLowerCase())).sort((h,p)=>h.isPinned&&!p.isPinned?-1:!h.isPinned&&p.isPinned?1:new Date(p.date).getTime()-new Date(h.date).getTime()),[e,r]),u=h=>{a(h.target.checked?l.map(p=>p.id):[])},f=h=>{a(p=>p.includes(h)?p.filter(g=>g!==h):[...p,h])};return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("button",{onClick:()=>t("communication"),className:"flex items-center gap-2 text-sm font-semibold text-gray-300 hover:text-yellow-400",children:[s.jsx(Nl,{className:"w-5 h-5"}),"Voltar para a Central"]}),s.jsxs("div",{className:"bg-black border border-gray-800 rounded-lg",children:[s.jsxs("div",{className:"p-4 border-b border-gray-800 flex justify-between items-center",children:[s.jsxs("div",{className:"relative max-w-lg",children:[s.jsx("input",{type:"text",placeholder:"Buscar comunicados...",value:r,onChange:h=>o(h.target.value),className:"w-full bg-gray-800 border-2 border-gray-700 rounded-md py-2 pl-10 pr-4"}),s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(zo,{className:"h-5 w-5 text-gray-400"})})]}),s.jsx("button",{onClick:()=>t("addEditAnnouncement"),className:"text-sm font-bold bg-yellow-500 text-black py-2 px-4 rounded-md hover:bg-yellow-400",children:"+ Novo Comunicado"})]}),i.length>0&&s.jsx("div",{className:"p-4 bg-gray-800/50",children:s.jsxs("button",{onClick:()=>n(i),className:"flex items-center gap-2 text-sm text-red-400 hover:text-red-300",children:[s.jsx(Tn,{className:"w-5 h-5"}),"Excluir ",i.length," comunicado(s)"]})}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm text-left text-gray-400",children:[s.jsx("thead",{className:"text-xs text-gray-400 uppercase bg-black",children:s.jsxs("tr",{children:[s.jsx("th",{scope:"col",className:"p-4",children:s.jsx("input",{type:"checkbox",onChange:u,checked:i.length>0&&i.length===l.length})}),s.jsx("th",{scope:"col",className:"px-6 py-3",children:"Ttulo"}),s.jsx("th",{scope:"col",className:"px-6 py-3",children:"Data"})]})}),s.jsx("tbody",{children:l.map(h=>s.jsxs("tr",{className:`border-b border-gray-800 hover:bg-gray-800/50 ${h.isPinned?"bg-yellow-400/5":""}`,children:[s.jsx("td",{className:"w-4 p-4",children:s.jsx("input",{type:"checkbox",checked:i.includes(h.id),onChange:()=>f(h.id)})}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[h.isPinned&&s.jsx("span",{title:"Fixado",children:s.jsx(HU,{className:"w-5 h-5 text-yellow-400 flex-shrink-0"})}),s.jsx("button",{onClick:()=>t("addEditAnnouncement",h),className:"font-medium text-white hover:text-yellow-400",children:h.title})]})}),s.jsx("td",{className:"px-6 py-4",children:new Date(h.date).toLocaleDateString("pt-BR")})]},h.id))})]})})]})]})},m2e=({announcement:e,onSave:t,onCancel:n})=>{const r=!!e,[o,i]=E.useState({title:"",content:"",isPinned:!1,date:new Date().toISOString(),...e}),a=E.useRef(null),[l,u]=E.useState(!1),f=g=>{const{name:x,value:y}=g.target;i(N=>({...N,[x]:y}))},h=g=>{var x;if(g.preventDefault(),!((x=o.title)!=null&&x.trim())){alert("Por favor, insira um ttulo.");return}t(o)},p=async()=>{if(!o.title){alert("Por favor, insira um ttulo antes de gerar o contedo.");return}u(!0);try{const g=new ou({apiKey:"PLACEHOLDER_API_KEY"}),x=`Voc  um especialista em comunicao interna para uma empresa de luxo chamada RS Prlipsi. Com base no ttulo do comunicado "${o.title}", escreva um comunicado oficial claro, profissional e engajador. Use formatao rica em HTML, como ttulos (h2), pargrafos (p), listas (ul/li) e negrito (strong) para uma boa legibilidade.`,y=await g.models.generateContent({model:"gemini-2.5-flash",contents:x});i(N=>({...N,content:y.text??""}))}catch(g){console.error("AI Content Generation Error:",g),alert("Ocorreu um erro ao gerar o contedo. Tente novamente.")}finally{u(!1)}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"pb-6 mb-6 flex justify-between items-center border-b border-gray-800",children:[s.jsx("h1",{className:"text-2xl font-bold text-white",children:r?"Editar Comunicado":"Novo Comunicado"}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("button",{type:"button",onClick:n,className:"text-sm font-semibold bg-gray-700 text-white py-2 px-4 rounded-md",children:"Descartar"}),s.jsx("button",{type:"button",onClick:()=>{var g;return(g=a.current)==null?void 0:g.requestSubmit()},className:"text-sm font-bold bg-yellow-500 text-black py-2 px-4 rounded-md",children:"Salvar"})]})]}),s.jsx("form",{onSubmit:h,ref:a,className:"max-w-4xl mx-auto space-y-6",children:s.jsxs("div",{className:"bg-black border border-gray-800 rounded-lg p-6 space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-white mb-2",children:"Ttulo"}),s.jsx("input",{type:"text",name:"title",id:"title",value:o.title,onChange:f,className:"w-full bg-gray-800 border-2 border-gray-700 rounded-md py-2 px-3 text-white"})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsx("label",{className:"block text-sm font-medium text-white",children:"Contedo"}),s.jsxs("button",{type:"button",onClick:p,disabled:l,className:"flex items-center gap-1.5 text-sm font-semibold bg-yellow-500/10 text-yellow-400 py-1 px-3 rounded-md",children:[l?s.jsx(Lo,{className:"w-4 h-4"}):s.jsx(Eg,{className:"w-4 h-4"}),l?"Gerando...":"Gerar com IA"]})]}),s.jsx(MO,{value:o.content||"",onChange:g=>i(x=>({...x,content:g}))})]}),s.jsxs("div",{className:"flex items-center gap-3 pt-4",children:[s.jsx(vt,{checked:!!o.isPinned,onChange:g=>i(x=>({...x,isPinned:g})),labelId:"pin-toggle"}),s.jsx("label",{htmlFor:"pin-toggle",className:"text-sm text-white",children:"Fixar no topo da lista"})]})]})})]})},g2e=({module:e,onNavigate:t,completedLessons:n})=>{const r=e.lessons.filter(i=>n.includes(i.id)).length,o=e.lessons.length>0?r/e.lessons.length*100:0;return s.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-lg overflow-hidden group flex flex-col transition-all duration-300 hover:shadow-lg hover:shadow-yellow-500/10 hover:border-gray-700 hover:-translate-y-1",children:[s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:e.thumbnailUrl,alt:e.title,className:"w-full h-40 object-cover"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/40 to-transparent"}),s.jsxs("div",{className:"absolute top-2 right-2 bg-black/50 text-white text-xs px-2 py-1 rounded-full",children:[e.lessons.length," Aulas"]})]}),s.jsxs("div",{className:"p-4 flex flex-col flex-grow",children:[s.jsx("h3",{className:"text-lg font-bold text-white group-hover:text-yellow-400 transition-colors flex-grow",children:e.title}),s.jsx("p",{className:"text-sm text-gray-400 mt-2 h-16",children:e.description}),s.jsxs("div",{className:"mt-4",children:[s.jsxs("div",{className:"flex justify-between items-center text-xs text-gray-400 mb-1",children:[s.jsx("span",{children:"Progresso"}),s.jsxs("span",{children:[o.toFixed(0),"%"]})]}),s.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2",children:s.jsx("div",{className:"bg-yellow-400 h-2 rounded-full",style:{width:`${o}%`}})}),s.jsx("button",{onClick:t,className:"w-full mt-6 bg-gray-700 text-white font-bold py-2 px-4 rounded-md hover:bg-yellow-500 hover:text-black transition-colors",children:"Acessar Treinamento"})]})]})]})},x2e=({trainings:e,onNavigate:t,completedLessons:n})=>s.jsxs("div",{className:"space-y-6",children:[s.jsxs("button",{onClick:()=>t("communication"),className:"flex items-center gap-2 text-sm font-semibold text-gray-300 hover:text-yellow-400 -mb-2",children:[s.jsx(Nl,{className:"w-5 h-5"}),"Voltar para a Central de Comunicao"]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-white",children:"Central de Treinamentos"}),s.jsx("p",{className:"text-gray-400",children:"Capacite-se e impulsione seus resultados."})]}),s.jsxs("button",{onClick:()=>t("addEditTraining"),className:"flex items-center gap-2 text-sm font-bold bg-yellow-500 text-black py-2 px-4 rounded-md hover:bg-yellow-400",children:[s.jsx(Hx,{className:"w-5 h-5"}),"Adicionar Mdulo"]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:e.map(r=>s.jsx(g2e,{module:r,completedLessons:n,onNavigate:()=>t("trainingModuleDetail",r)},r.id))})]}),b2e=({training:e,onSave:t,onCancel:n})=>{const r=!!e,[o,i]=E.useState({title:"",description:"",thumbnailUrl:"",lessons:[],...e}),a=E.useRef(null),l=g=>{const{name:x,value:y}=g.target;i(N=>({...N,[x]:y}))},u=(g,x,y)=>{const N=[...o.lessons||[]];N[g][x]=y,i(C=>({...C,lessons:N}))},f=()=>{const g={id:`l-${Date.now()}`,title:"Nova Aula",videoUrl:"",content:""};i(x=>({...x,lessons:[...x.lessons||[],g]}))},h=g=>{i(x=>({...x,lessons:(x.lessons||[]).filter((y,N)=>N!==g)}))},p=g=>{if(g.preventDefault(),!o.title){alert("O ttulo do mdulo  obrigatrio.");return}t(o)};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"pb-6 mb-6 flex justify-between items-center border-b border-gray-800",children:[s.jsx("h1",{className:"text-2xl font-bold text-white",children:r?"Editar Mdulo":"Novo Mdulo de Treinamento"}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("button",{type:"button",onClick:n,className:"text-sm font-semibold bg-gray-700 text-white py-2 px-4 rounded-md",children:"Descartar"}),s.jsx("button",{type:"button",onClick:()=>{var g;return(g=a.current)==null?void 0:g.requestSubmit()},className:"text-sm font-bold bg-yellow-500 text-black py-2 px-4 rounded-md",children:"Salvar Mdulo"})]})]}),s.jsxs("form",{onSubmit:p,ref:a,className:"max-w-4xl mx-auto space-y-6",children:[s.jsxs("div",{className:"bg-black border border-gray-800 rounded-lg p-6 space-y-4",children:[s.jsx("input",{name:"title",value:o.title,onChange:l,placeholder:"Ttulo do Mdulo",className:"w-full bg-gray-800 border-2 border-gray-700 rounded-md py-2 px-3 text-white"}),s.jsx("textarea",{name:"description",value:o.description,onChange:l,placeholder:"Descrio do Mdulo",rows:3,className:"w-full bg-gray-800 border-2 border-gray-700 rounded-md py-2 px-3 text-white"}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Imagem de Capa (Thumbnail)"}),s.jsx(Cr,{currentImage:o.thumbnailUrl||"",onImageUpload:g=>i(x=>({...x,thumbnailUrl:g})),placeholderText:"Capa do Mdulo"})]})]}),s.jsxs("div",{className:"bg-black border border-gray-800 rounded-lg p-6 space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-white",children:"Aulas do Mdulo"}),s.jsx("div",{className:"space-y-4",children:(o.lessons||[]).map((g,x)=>s.jsxs("div",{className:"bg-gray-800/50 p-4 rounded-lg border border-gray-700",children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsxs("h4",{className:"font-semibold text-white",children:["Aula ",x+1]}),s.jsx("button",{type:"button",onClick:()=>h(x),className:"text-gray-400 hover:text-red-500",children:s.jsx(Tn,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("input",{value:g.title,onChange:y=>u(x,"title",y.target.value),placeholder:"Ttulo da Aula",className:"w-full bg-gray-800 border-2 border-gray-700 rounded-md py-1 px-2 text-white text-sm"}),s.jsx("input",{value:g.videoUrl,onChange:y=>u(x,"videoUrl",y.target.value),placeholder:"URL do Vdeo",className:"w-full bg-gray-800 border-2 border-gray-700 rounded-md py-1 px-2 text-white text-sm"}),s.jsx("textarea",{value:g.content,onChange:y=>u(x,"content",y.target.value),placeholder:"Contedo/Transcrio para IA",rows:4,className:"w-full bg-gray-800 border-2 border-gray-700 rounded-md py-1 px-2 text-white text-sm"})]})]},x))}),s.jsx("button",{type:"button",onClick:f,className:"mt-4 text-sm font-semibold bg-gray-700 text-white py-2 px-4 rounded-md hover:bg-gray-600",children:"+ Adicionar Aula"})]})]})]})},v2e=e=>s.jsxs("svg",{...e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:[s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.91 11.672a.375.375 0 010 .656l-5.603 3.113a.375.375 0 01-.557-.328V8.887c0-.286.307-.466.557-.327l5.603 3.112z"})]}),y2e=e=>s.jsx("svg",{...e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 12L3.269 3.126A59.768 59.768 0 0121.485 12 59.77 59.77 0 013.27 20.876L5.999 12zm0 0h7.5"})}),w2e=e=>s.jsx("svg",{...e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.217 10.907a2.25 2.25 0 100 2.186m0-2.186c.18.324.283.696.283 1.093s-.103.77-.283 1.093m0-2.186l9.566-5.314m-9.566 7.5l9.566 5.314m0 0a2.25 2.25 0 100-2.186m0 2.186c-.18.324-.283.696-.283 1.093s.103.77.283 1.093m0-2.186l-9.566-5.314"})}),C2e=({module:e,onNavigate:t,completedLessons:n,onToggleLessonComplete:r,onLikeLesson:o})=>{var q;const[i,a]=E.useState(e.lessons[0]||null),[l,u]=E.useState([{sender:"ai",text:"Ol! Faa uma pergunta sobre esta aula e eu responderei com base no contedo."}]),[f,h]=E.useState(""),[p,g]=E.useState(!1),[x,y]=E.useState(null),[N,C]=E.useState(null),[A,T]=E.useState({}),[k,D]=E.useState(null),[R,I]=E.useState("");E.useEffect(()=>{a(e.lessons[0]||null),u([{sender:"ai",text:"Ol! Faa uma pergunta sobre esta aula e eu responderei com base no contedo."}]),C(null),T({}),D(null)},[e]),E.useEffect(()=>{u([{sender:"ai",text:"Ol! Faa uma pergunta sobre esta aula e eu responderei com base no contedo."}]),C(null),T({}),D(null)},[i]);const P=async W=>{if(!i)return;g(!0);const ie=new ou({apiKey:"PLACEHOLDER_API_KEY"});let K="",U="";try{if(W==="summarize")K=`Resuma o seguinte contedo da aula de forma concisa e clara:

---
${i.content}
---`,U=`Resumo da Aula: ${i.title}`;else if(W==="explain")K=`Explique os conceitos chave do seguinte contedo da aula como se eu fosse um iniciante:

---
${i.content}
---`,U=`Explicao da Aula: ${i.title}`;else if(W==="quiz"){const pe=await ie.models.generateContent({model:"gemini-2.5-flash",contents:`Gere um quiz com 3 perguntas de mltipla escolha (4 opes cada) sobre o seguinte contedo:

---
${i.content}
---`,config:{responseMimeType:"application/json",responseSchema:{type:Sn.OBJECT,properties:{questions:{type:Sn.ARRAY,items:{type:Sn.OBJECT,properties:{question:{type:Sn.STRING},options:{type:Sn.ARRAY,items:{type:Sn.STRING}},correctAnswerIndex:{type:Sn.INTEGER}}}}}}}}),be=JSON.parse(pe.text??"{}");be.questions&&(C(be.questions),D(null),T({})),g(!1);return}const V=await ie.models.generateContent({model:"gemini-2.5-flash",contents:K});y({title:U,content:V.text??"No foi possvel gerar uma resposta."})}catch(V){console.error("AI Interaction Error:",V),y({title:"Erro",content:"Ocorreu um erro ao processar sua solicitao."})}finally{g(!1)}},B=async()=>{if(!f.trim()||!i)return;const W={sender:"user",text:f};u(ie=>[...ie,W]),h(""),g(!0);try{const ie=new ou({apiKey:"PLACEHOLDER_API_KEY"}),K=`Voc  a RSIA, uma assistente de IA da RS Prlipsi. Responda  pergunta do usurio baseando-se ESTREITAMENTE no contedo da aula fornecido abaixo. Se a resposta no estiver no contedo, diga que voc s pode responder sobre o material da aula.

[CONTEDO DA AULA]
${i.content}

[PERGUNTA DO USURIO]
${f}`,V={sender:"ai",text:(await ie.models.generateContent({model:"gemini-2.5-flash",contents:K})).text??"No consegui processar sua pergunta."};u(pe=>[...pe,V])}catch(ie){console.error("AI Chat Error:",ie);const K={sender:"ai",text:"Desculpe, ocorreu um erro."};u(U=>[...U,K])}finally{g(!1)}},L=()=>{if(!N)return;let W=0;N.forEach((ie,K)=>{A[K]===ie.correctAnswerIndex&&W++}),D({score:W,total:N.length})},$=async()=>{if(!i)return;const W={title:`Treinamento RS Prlipsi: ${e.title}`,text:`Estou fazendo a aula "${i.title}". Confira!`,url:window.location.href};try{if(navigator.share)await navigator.share(W);else throw new Error("Web Share API not supported")}catch{await navigator.clipboard.writeText(W.url),I("Link copiado para a rea de transferncia!"),setTimeout(()=>I(""),2500)}};if(!i)return s.jsxs("div",{children:[s.jsxs("button",{onClick:()=>t("manageTrainings"),className:"flex items-center gap-2 text-sm font-semibold text-gray-300 hover:text-yellow-500 mb-4",children:[s.jsx(Nl,{className:"w-5 h-5"})," Voltar para todos os treinamentos"]}),s.jsx("p",{children:"Nenhuma aula encontrada neste mdulo."})]});const X=((q=e.lessons.find(W=>W.id===i.id))==null?void 0:q.likes)||0;return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("button",{onClick:()=>t("manageTrainings"),className:"flex items-center gap-2 text-sm font-semibold text-gray-300 hover:text-yellow-500",children:[s.jsx(Nl,{className:"w-5 h-5"})," Voltar para todos os treinamentos"]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.jsx("div",{className:"aspect-video bg-black rounded-lg flex items-center justify-center border border-gray-800",children:i.videoUrl&&i.videoUrl!=="placeholder.mp4"?s.jsx("video",{src:i.videoUrl,controls:!0,autoPlay:!0,className:"w-full h-full rounded-lg"},i.id):s.jsx("p",{className:"text-gray-500",children:"Vdeo indisponvel"})}),s.jsxs("div",{className:"bg-black border border-gray-800 rounded-lg p-6 space-y-4",children:[s.jsx("h2",{className:"text-2xl font-bold text-white",children:i.title}),s.jsxs("div",{className:"flex flex-wrap items-center gap-2 border-b border-gray-800 pb-4",children:[s.jsxs("button",{onClick:()=>P("summarize"),disabled:p,className:"flex items-center gap-1.5 text-sm font-semibold bg-yellow-500/10 text-yellow-400 py-2 px-3 rounded-md hover:bg-yellow-500/20",children:[s.jsx(Mg,{className:"w-4 h-4"})," Resumir"]}),s.jsxs("button",{onClick:()=>P("explain"),disabled:p,className:"flex items-center gap-1.5 text-sm font-semibold bg-yellow-500/10 text-yellow-400 py-2 px-3 rounded-md hover:bg-yellow-500/20",children:[s.jsx(Mg,{className:"w-4 h-4"})," Explicar"]})]}),s.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:n.includes(i.id),onChange:()=>r(i.id),className:"h-5 w-5 rounded bg-gray-700 border-gray-600 text-yellow-500 focus:ring-yellow-600"}),s.jsx("span",{className:"font-semibold text-white",children:"Marcar como concluda"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:()=>P("quiz"),disabled:p,className:"text-sm font-semibold bg-gray-700 text-white py-2 px-4 rounded-md hover:bg-gray-600",children:"Gerar Quiz"}),s.jsxs("button",{onClick:()=>o(e.id,i.id),className:"flex items-center gap-2 text-sm font-semibold bg-gray-700 text-white py-2 px-4 rounded-md hover:bg-gray-600",children:[s.jsx(dC,{className:"w-4 h-4"})," ",X]}),s.jsxs("div",{className:"relative",children:[s.jsxs("button",{onClick:$,className:"flex items-center gap-2 text-sm font-semibold bg-gray-700 text-white py-2 px-4 rounded-md hover:bg-gray-600",children:[s.jsx(w2e,{className:"w-4 h-4"})," Compartilhar"]}),R&&s.jsxs("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 bg-green-500 text-black text-xs font-bold px-2 py-1 rounded-md flex items-center gap-1 whitespace-nowrap",children:[s.jsx(Qc,{className:"w-4 h-4"}),R]})]})]})]}),N&&s.jsxs("div",{className:"space-y-4 border-t border-gray-800 pt-4",children:[s.jsx("h3",{className:"font-bold text-lg text-white",children:"Quiz da Aula"}),N.map((W,ie)=>s.jsxs("div",{className:"text-sm",children:[s.jsxs("p",{className:"font-semibold text-gray-200 mb-2",children:[ie+1,". ",W.question]}),s.jsx("div",{className:"space-y-2",children:W.options.map((K,U)=>s.jsxs("label",{className:`flex items-center gap-2 p-2 rounded-md border ${A[ie]===U?"border-yellow-500":"border-gray-700"}`,children:[s.jsx("input",{type:"radio",name:`q-${ie}`,checked:A[ie]===U,onChange:()=>T(V=>({...V,[ie]:U})),disabled:!!k}),s.jsx("span",{children:K})]},U))})]},ie)),k?s.jsxs("div",{className:`p-3 rounded-lg text-center font-bold ${k.score/k.total>=.7?"bg-green-500/20 text-green-300":"bg-red-500/20 text-red-300"}`,children:["Voc acertou ",k.score," de ",k.total," perguntas!"]}):s.jsx("button",{onClick:L,className:"text-sm font-bold bg-yellow-500 text-black py-2 px-4 rounded-md hover:bg-yellow-400",children:"Verificar Respostas"})]}),s.jsxs("div",{className:"border-t border-gray-800 pt-4",children:[s.jsx("h3",{className:"font-semibold text-white mb-2",children:"Pergunte  RSIA sobre esta aula"}),s.jsxs("div",{className:"bg-gray-900/50 p-3 rounded-lg h-64 flex flex-col",children:[s.jsxs("div",{className:"flex-grow space-y-3 overflow-y-auto pr-2 text-sm",children:[l.map((W,ie)=>s.jsx("div",{className:`flex ${W.sender==="ai"?"justify-start":"justify-end"}`,children:s.jsx("div",{className:`p-2 rounded-lg max-w-[80%] ${W.sender==="ai"?"bg-gray-700":"bg-yellow-600 text-black"}`,children:W.text})},ie)),p&&s.jsx("div",{className:"flex justify-start",children:s.jsx(Lo,{className:"w-5 h-5 text-yellow-400"})})]}),s.jsxs("div",{className:"flex items-center gap-2 pt-2",children:[s.jsx("input",{type:"text",value:f,onChange:W=>h(W.target.value),onKeyDown:W=>W.key==="Enter"&&B(),placeholder:"Faa uma pergunta...",className:"flex-grow bg-gray-800 border-2 border-gray-700 rounded-full py-2 px-4 text-white"}),s.jsx("button",{onClick:B,className:"p-2 bg-yellow-500 rounded-full text-black",children:s.jsx(y2e,{className:"w-5 h-5"})})]})]})]})]})]}),s.jsxs("div",{className:"bg-black border border-gray-800 rounded-lg p-4 space-y-2 self-start",children:[s.jsx("h3",{className:"font-bold text-lg text-white mb-2 px-2",children:e.title}),e.lessons.map((W,ie)=>{const K=n.includes(W.id),U=(i==null?void 0:i.id)===W.id;return s.jsxs("button",{onClick:()=>a(W),className:`w-full text-left flex items-center gap-3 p-3 rounded-lg transition-colors ${U?"bg-yellow-500/10":"hover:bg-gray-800/50"}`,children:[K?s.jsx(Fl,{className:"w-6 h-6 text-green-400 flex-shrink-0"}):s.jsx(v2e,{className:"w-6 h-6 text-gray-500 flex-shrink-0"}),s.jsxs("span",{className:`font-semibold ${U?"text-yellow-400":"text-white"}`,children:["Aula ",ie+1,": ",W.title]})]},W.id)}),s.jsx("button",{onClick:()=>t("addEditTraining",e),className:"w-full text-left font-bold text-yellow-500 p-3 rounded-lg hover:bg-gray-800/50",children:"+ Adicionar Aula"})]})]}),x&&s.jsx("div",{className:"fixed inset-0 bg-black/70 z-50 flex items-center justify-center p-4",onClick:()=>y(null),children:s.jsxs("div",{className:"bg-black border border-gray-800 rounded-lg w-full max-w-2xl max-h-[80vh] flex flex-col",onClick:W=>W.stopPropagation(),children:[s.jsxs("header",{className:"flex items-center justify-between p-4 border-b border-gray-800",children:[s.jsx("h2",{className:"text-xl font-bold text-white",children:x.title}),s.jsx("button",{onClick:()=>y(null),children:s.jsx(ci,{className:"w-6 h-6 text-gray-400 hover:text-white"})})]}),s.jsx("main",{className:"p-6 overflow-y-auto prose prose-invert max-w-none",dangerouslySetInnerHTML:{__html:x.content.replace(/\n/g,"<br />")}})]})})]})},N2e=({assets:e,onNavigate:t,onDelete:n})=>{const[r,o]=E.useState(""),[i,a]=E.useState([]),[l,u]=E.useState(null),f=E.useMemo(()=>e.filter(g=>g.name.toLowerCase().includes(r.toLowerCase())),[e,r]),h=g=>{a(x=>x.includes(g)?x.filter(y=>y!==g):[...x,g])},p=g=>{g.format==="PDF"?window.open(g.downloadUrl,"_blank"):u(g)};return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("button",{onClick:()=>t("communication"),className:"flex items-center gap-2 text-sm font-semibold text-gray-300 hover:text-yellow-400",children:[s.jsx(Nl,{className:"w-5 h-5"}),"Voltar para a Central"]}),s.jsxs("div",{className:"bg-black border border-gray-800 rounded-lg",children:[s.jsxs("div",{className:"p-4 border-b border-gray-800 flex justify-between items-center",children:[s.jsxs("div",{className:"relative max-w-lg",children:[s.jsx("input",{type:"text",placeholder:"Buscar materiais...",value:r,onChange:g=>o(g.target.value),className:"w-full bg-gray-800 border-2 border-gray-700 rounded-md py-2 pl-10 pr-4"}),s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(zo,{className:"h-5 w-5 text-gray-400"})})]}),s.jsx("button",{onClick:()=>t("addEditMarketingAsset"),className:"text-sm font-bold bg-yellow-500 text-black py-2 px-4 rounded-md hover:bg-yellow-400",children:"+ Novo Material"})]}),i.length>0&&s.jsx("div",{className:"p-4 bg-gray-800/50",children:s.jsxs("button",{onClick:()=>n(i),className:"flex items-center gap-2 text-sm text-red-400 hover:text-red-300",children:[s.jsx(Tn,{className:"w-5 h-5"}),"Excluir ",i.length," item(s)"]})}),s.jsx("div",{className:"p-6",children:s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4",children:f.map(g=>s.jsxs("div",{className:"relative group bg-gray-800/50 rounded-lg p-2 flex flex-col",children:[s.jsx("div",{className:"absolute top-2 left-2 z-10",children:s.jsx("input",{type:"checkbox",checked:i.includes(g.id),onChange:()=>h(g.id),className:"h-4 w-4 rounded bg-gray-900 border-gray-600 text-yellow-500 focus:ring-yellow-600"})}),s.jsx("button",{onClick:()=>p(g),className:"aspect-square bg-gray-800 flex items-center justify-center rounded-md mb-2 overflow-hidden flex-grow",children:g.format==="PDF"?s.jsx(kl,{className:"w-16 h-16 text-gray-500"}):s.jsx("img",{src:g.previewUrl,alt:g.name,className:"w-full h-full object-contain"})}),s.jsx("p",{className:"text-xs font-semibold text-white truncate text-center",title:g.name,children:g.name}),s.jsxs("div",{className:"absolute inset-0 bg-black/70 opacity-0 group-hover:opacity-100 transition-opacity flex flex-col items-center justify-center p-2",children:[s.jsx("button",{onClick:()=>t("addEditMarketingAsset",g),className:"text-sm font-semibold bg-gray-700 text-white py-2 px-4 rounded-md hover:bg-gray-600 mb-2 w-full",children:"Editar"}),s.jsx("button",{onClick:()=>p(g),className:"flex items-center justify-center gap-2 text-sm font-semibold bg-yellow-500 text-black py-2 px-4 rounded-md hover:bg-yellow-400 w-full",children:g.format==="PDF"?"Abrir":"Visualizar"})]})]},g.id))})})]}),l&&s.jsx("div",{className:"fixed inset-0 bg-black/80 z-50 flex items-center justify-center p-4",onClick:()=>u(null),children:s.jsxs("div",{className:"bg-black border border-gray-800 rounded-lg w-full max-w-4xl max-h-[90vh] flex flex-col",onClick:g=>g.stopPropagation(),children:[s.jsxs("header",{className:"flex items-center justify-between p-4 border-b border-gray-800",children:[s.jsx("h2",{className:"text-lg font-semibold text-white truncate",children:l.name}),s.jsx("button",{onClick:()=>u(null),children:s.jsx(ci,{className:"w-6 h-6 text-gray-400 hover:text-white"})})]}),s.jsx("main",{className:"p-4 flex-grow flex items-center justify-center overflow-auto",children:s.jsx("img",{src:l.previewUrl,alt:l.name,className:"max-w-full max-h-full object-contain"})}),s.jsx("footer",{className:"p-4 border-t border-gray-800 bg-gray-900/50 text-right",children:s.jsxs("a",{href:l.downloadUrl,download:l.name,className:"inline-flex items-center gap-2 text-sm font-bold bg-yellow-500 text-black py-2 px-4 rounded-md hover:bg-yellow-400",children:[s.jsx(uC,{className:"w-5 h-5"})," Baixar"]})})]})})]})},S2e=({asset:e,onSave:t,onCancel:n})=>{const r=!!e,[o,i]=E.useState({name:"",type:"banner",format:"JPG",downloadUrl:"",previewUrl:"",...e}),a=E.useRef(null),[l,u]=E.useState(""),[f,h]=E.useState(!1),[p,g]=E.useState(null),x=T=>{const{name:k,value:D}=T.target;i(R=>({...R,[k]:D}))},y=T=>{if(T.target.files&&T.target.files[0]){const k=T.target.files[0];if(o.format==="PDF"&&k.type!=="application/pdf"){alert("Por favor, selecione um arquivo PDF.");return}g(k),o.format==="PDF"&&i(D=>({...D,previewUrl:"https://i.imgur.com/S5OK3sI.png",name:D.name||k.name.replace(/\.[^/.]+$/,"")}))}},N=T=>{T.preventDefault();const k=o.format==="JPG"||o.format==="PNG";if(!o.name||k&&!o.previewUrl){alert("Nome e pr-visualizao so obrigatrios.");return}if(o.format==="PDF"&&!p&&!r){alert("Por favor, envie um arquivo PDF.");return}let D={...o};if(p){const R=URL.createObjectURL(p);k&&(D.previewUrl=R),D.downloadUrl=R}else k&&!D.downloadUrl&&(D.downloadUrl=D.previewUrl);t(D)},C=async()=>{if(!l.trim()){alert("Por favor, descreva a imagem que voc quer gerar.");return}h(!0),i(T=>({...T,format:"JPG"}));try{const T=new ou({apiKey:"PLACEHOLDER_API_KEY"}),k=`Um material de marketing para a marca de luxo "RS Prlipsi". Estilo sofisticado, com tema de preto e dourado. Briefing: "${l}"`,I=`data:image/jpeg;base64,${(await T.models.generateImages({model:"imagen-4.0-generate-001",prompt:k,config:{numberOfImages:1,outputMimeType:"image/jpeg"}})).generatedImages[0].image.imageBytes}`;i(P=>({...P,previewUrl:I,downloadUrl:I,name:P.name||l}))}catch(T){console.error("AI Image Generation Error:",T),alert("Erro ao gerar imagem. Tente novamente.")}finally{h(!1)}},A=o.format==="JPG"||o.format==="PNG";return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"pb-6 mb-6 flex justify-between items-center border-b border-gray-800",children:[s.jsx("h1",{className:"text-2xl font-bold text-white",children:r?"Editar Material":"Novo Material"}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("button",{type:"button",onClick:n,className:"text-sm font-semibold bg-gray-700 text-white py-2 px-4 rounded-md",children:"Descartar"}),s.jsx("button",{type:"button",onClick:()=>{var T;return(T=a.current)==null?void 0:T.requestSubmit()},className:"text-sm font-bold bg-yellow-500 text-black py-2 px-4 rounded-md",children:"Salvar"})]})]}),s.jsxs("form",{onSubmit:N,ref:a,className:"max-w-4xl mx-auto space-y-6",children:[s.jsxs("div",{className:"bg-black border border-gray-800 rounded-lg p-6 space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-white",children:"Gerar Imagem com IA"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{value:l,onChange:T=>u(T.target.value),placeholder:"Descreva a imagem (ex: 'Banner para o dia das mes com um relgio dourado')",className:"flex-grow bg-gray-800 border-2 border-gray-700 rounded-md py-2 px-3 text-white"}),s.jsxs("button",{type:"button",onClick:C,disabled:f,className:"font-semibold bg-yellow-500/10 text-yellow-400 py-2 px-4 rounded-md flex items-center gap-2",children:[f?s.jsx(Lo,{className:"w-5 h-5"}):s.jsx(Eg,{className:"w-5 h-5"}),"Gerar"]})]})]}),s.jsxs("div",{className:"bg-black border border-gray-800 rounded-lg p-6 space-y-4",children:[s.jsx("input",{name:"name",value:o.name,onChange:x,placeholder:"Nome do Material",className:"w-full bg-gray-800 border-2 border-gray-700 rounded-md py-2 px-3 text-white"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("select",{name:"type",value:o.type,onChange:x,className:"w-full bg-gray-800 border-2 border-gray-700 rounded-md py-2 px-3 text-white",children:[s.jsx("option",{value:"banner",children:"Banner"}),s.jsx("option",{value:"logo",children:"Logo"}),s.jsx("option",{value:"template",children:"Template"})]}),s.jsxs("select",{name:"format",value:o.format,onChange:x,className:"w-full bg-gray-800 border-2 border-gray-700 rounded-md py-2 px-3 text-white",children:[s.jsx("option",{value:"JPG",children:"JPG"}),s.jsx("option",{value:"PNG",children:"PNG"}),s.jsx("option",{value:"PDF",children:"PDF"})]})]}),A?s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Arquivo de Imagem"}),s.jsx(Cr,{currentImage:o.previewUrl||"",onImageUpload:T=>i(k=>({...k,previewUrl:T,downloadUrl:T})),placeholderText:"Arraste ou envie uma imagem"})]}):s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Arquivo PDF"}),s.jsx("div",{className:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-700 border-dashed rounded-md",children:s.jsxs("div",{className:"space-y-1 text-center",children:[s.jsx(kl,{className:"mx-auto h-12 w-12 text-gray-400"}),s.jsxs("div",{className:"flex text-sm text-gray-500",children:[s.jsxs("label",{htmlFor:"file-upload",className:"relative cursor-pointer bg-gray-800 rounded-md font-medium text-yellow-400 hover:text-yellow-300 focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-yellow-500 px-2",children:[s.jsx("span",{children:"Envie um arquivo"}),s.jsx("input",{id:"file-upload",name:"file-upload",type:"file",className:"sr-only",accept:".pdf",onChange:y})]}),s.jsx("p",{className:"pl-1",children:"ou arraste e solte"})]}),p&&s.jsx("p",{className:"text-xs text-green-400",children:p.name}),!p&&r&&o.downloadUrl&&s.jsxs("p",{className:"text-xs text-gray-400",children:["Arquivo atual: ",s.jsxs("a",{href:o.downloadUrl,target:"_blank",rel:"noopener noreferrer",className:"underline",children:[o.name,".pdf"]})]})]})})]}),o.format==="PDF"&&s.jsx("input",{name:"downloadUrl",value:o.downloadUrl,onChange:x,placeholder:"URL para Download (se j estiver hospedado)",className:"w-full bg-gray-800 border-2 border-gray-700 rounded-md py-2 px-3 text-white"})]})]})]})},E2e=({orders:e,onOrderFound:t})=>{const[n,r]=E.useState(""),[o,i]=E.useState(""),[a,l]=E.useState(""),[u,f]=E.useState(!1),h=p=>{p.preventDefault(),l(""),f(!0),setTimeout(()=>{const g=e.find(x=>x.id.toLowerCase()===n.toLowerCase().trim()&&x.customerEmail.toLowerCase()===o.toLowerCase().trim());g?t(g):l("Pedido no encontrado. Verifique os dados e tente novamente."),f(!1)},1e3)};return s.jsx("div",{className:"flex items-center justify-center min-h-[70vh] bg-[rgb(var(--color-brand-dark))] py-12",children:s.jsxs("div",{className:"w-full max-w-lg p-8 space-y-8 bg-[rgb(var(--color-brand-gray))] border-2 border-[rgb(var(--color-brand-gold))]/[.30] rounded-lg shadow-2xl",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold text-center font-display text-[rgb(var(--color-brand-gold))]",children:"Acompanhe seu Pedido"}),s.jsx("p",{className:"mt-2 text-center text-[rgb(var(--color-brand-text-dim))]",children:"Insira os dados abaixo para ver o status da sua entrega."})]}),s.jsxs("form",{className:"mt-8 space-y-6",onSubmit:h,children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"orderId",className:"block text-sm font-medium text-[rgb(var(--color-brand-text-light))] mb-2",children:"Nmero do Pedido"}),s.jsx("input",{id:"orderId",name:"orderId",type:"text",required:!0,value:n,onChange:p=>r(p.target.value),className:"appearance-none relative block w-full px-3 py-3 border-2 border-[rgb(var(--color-brand-gray-light))] bg-[rgb(var(--color-brand-dark))] text-[rgb(var(--color-brand-text-light))] placeholder-[rgb(var(--color-brand-text-dim))] rounded-md focus:outline-none focus:ring-[rgb(var(--color-brand-gold))] focus:border-[rgb(var(--color-brand-gold))] sm:text-sm",placeholder:"Ex: #2024-001"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-[rgb(var(--color-brand-text-light))] mb-2",children:"E-mail da Compra"}),s.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:o,onChange:p=>i(p.target.value),className:"appearance-none relative block w-full px-3 py-3 border-2 border-[rgb(var(--color-brand-gray-light))] bg-[rgb(var(--color-brand-dark))] text-[rgb(var(--color-brand-text-light))] placeholder-[rgb(var(--color-brand-text-dim))] rounded-md focus:outline-none focus:ring-[rgb(var(--color-brand-gold))] focus:border-[rgb(var(--color-brand-gold))] sm:text-sm",placeholder:"seuemail@exemplo.com"})]})]}),a&&s.jsx("p",{className:"text-[rgb(var(--color-error))] text-sm text-center !mt-4",children:a}),s.jsx("div",{children:s.jsxs("button",{type:"submit",disabled:u,className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-bold rounded-md text-[rgb(var(--color-brand-dark))] bg-[rgb(var(--color-brand-gold))] hover:bg-[rgb(var(--color-warning))] focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-[rgb(var(--color-brand-dark))] focus:ring-[rgb(var(--color-brand-gold))] transition-colors mt-6 disabled:opacity-50 disabled:cursor-wait",children:[u?s.jsx(Lo,{className:"w-5 h-5"}):s.jsx(zo,{className:"w-5 h-5"}),s.jsx("span",{className:"ml-2",children:u?"Buscando...":"Rastrear Pedido"})]})})]})]})})},j2e=e=>s.jsxs("svg",{...e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:[s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 18.72a9.094 9.094 0 003.741-.479 3 3 0 00-4.682-2.72m-7.5-2.928a9.092 9.092 0 013.741-.479 3 3 0 014.682-2.72M12 12.75a9.092 9.092 0 00-3.741.479 3 3 0 00-4.682 2.72m7.5 2.928v-2.928m0 0a9.092 9.092 0 013.741.479 3 3 0 01-4.682 2.72m0 0V15m-3.72 3.72a9.094 9.094 0 01-3.741.479 3 3 0 01-4.682-2.72m7.5-2.928v-2.928"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),A2e=e=>s.jsx("svg",{...e,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 18.75a60.07 60.07 0 0115.797 2.101c.727.198 1.453-.342 1.453-1.096V18.75M3.75 4.5v.75A.75.75 0 013 6h-.75m0 0v-.375c0-.621.504-1.125 1.125-1.125H20.25M2.25 6v9m18-10.5v.75c0 .414.336.75.75.75h.75m-1.5-1.5h.375c.621 0 1.125.504 1.125 1.125v9.75c0 .621-.504 1.125-1.125 1.125h-.375m1.5-1.5H21a.75.75 0 00-.75.75v.75m0 0H3.75m0 0h-.375a1.125 1.125 0 01-1.125-1.125V15m1.5 1.5v-.75A.75.75 0 003 15h-.75M15 10.5a3 3 0 11-6 0 3 3 0 016 0zm3 0h.008v.008H18V10.5zm-12 0h.008v.008H6V10.5z"})}),T2e=({distributor:e})=>{const t=e.stores.length,n=e.stores.reduce((r,o)=>r+o.consultantIds.length,0);return s.jsxs("div",{className:"bg-[rgb(var(--color-brand-gray))] border border-[rgb(var(--color-brand-gray-light))] border-t-2 border-t-[rgb(var(--color-brand-gold))] rounded-lg p-6 transition-all duration-300 hover:shadow-lg hover:shadow-[rgb(var(--color-brand-gold))]/[0.10] hover:-translate-y-1",children:[s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold text-[rgb(var(--color-brand-gold))]",children:e.name}),s.jsxs("p",{className:"text-sm text-[rgb(var(--color-brand-text-dim))]",children:["Proprietrio: ",e.ownerName]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-xs text-[rgb(var(--color-brand-text-dim))] font-mono",children:e.id}),s.jsx("p",{className:"text-xs text-[rgb(var(--color-brand-text-dim))]",children:e.cpfCnpj})]})]}),s.jsxs("div",{className:"mt-6 grid grid-cols-1 sm:grid-cols-3 gap-4 text-center",children:[s.jsxs("div",{className:"bg-[rgb(var(--color-brand-dark))] p-3 rounded-md",children:[s.jsx(iL,{className:"w-6 h-6 mx-auto text-[rgb(var(--color-brand-text-dim))]"}),s.jsx("p",{className:"text-2xl font-bold text-[rgb(var(--color-brand-text-light))] mt-1",children:t}),s.jsx("p",{className:"text-xs text-[rgb(var(--color-brand-text-dim))]",children:"Lojas"})]}),s.jsxs("div",{className:"bg-[rgb(var(--color-brand-dark))] p-3 rounded-md",children:[s.jsx(j2e,{className:"w-6 h-6 mx-auto text-[rgb(var(--color-brand-text-dim))]"}),s.jsx("p",{className:"text-2xl font-bold text-[rgb(var(--color-brand-text-light))] mt-1",children:n}),s.jsx("p",{className:"text-xs text-[rgb(var(--color-brand-text-dim))]",children:"Consultores"})]}),s.jsxs("div",{className:"bg-[rgb(var(--color-brand-dark))] p-3 rounded-md",children:[s.jsx(A2e,{className:"w-6 h-6 mx-auto text-[rgb(var(--color-brand-text-dim))]"}),s.jsx("p",{className:"text-2xl font-bold text-[rgb(var(--color-brand-text-light))] mt-1",children:"R$--"}),s.jsx("p",{className:"text-xs text-[rgb(var(--color-brand-text-dim))]",children:"Faturamento (Ms)"})]})]})]})},k2e=({distributors:e,onNavigate:t})=>{const[n,r]=E.useState(""),o=E.useMemo(()=>e.filter(i=>i.name.toLowerCase().includes(n.toLowerCase())||i.ownerName.toLowerCase().includes(n.toLowerCase())||i.id.toLowerCase().includes(n.toLowerCase())),[e,n]);return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center gap-4",children:[s.jsxs("div",{className:"relative flex-grow max-w-lg",children:[s.jsx("input",{type:"text",placeholder:"Buscar por nome, proprietrio ou ID...",value:n,onChange:i=>r(i.target.value),className:"w-full bg-[rgb(var(--color-brand-dark))] border-2 border-[rgb(var(--color-brand-gray-light))] rounded-md py-2 pl-10 pr-4 text-[rgb(var(--color-brand-text-light))]"}),s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(zo,{className:"h-5 w-5 text-[rgb(var(--color-brand-text-dim))]"})})]}),s.jsxs("button",{onClick:()=>{t("addEditDistributor")},className:"flex items-center gap-2 text-sm font-bold bg-[rgb(var(--color-brand-gold))] text-[rgb(var(--color-brand-dark))] py-2 px-4 rounded-md hover:bg-[rgb(var(--color-warning))] transition-colors whitespace-nowrap",children:[s.jsx(Hx,{className:"w-5 h-5"}),"Adicionar CD"]})]}),s.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:o.map(i=>s.jsx(T2e,{distributor:i},i.id))}),o.length===0&&s.jsx("div",{className:"text-center py-16 bg-[rgb(var(--color-brand-dark))] border-2 border-dashed border-[rgb(var(--color-brand-gray-light))] rounded-lg",children:s.jsx("p",{className:"text-lg text-[rgb(var(--color-brand-text-dim))]",children:"Nenhuma Central de Distribuio encontrada."})})]})},M2e=({onCancel:e})=>s.jsxs("div",{className:"bg-[rgb(var(--color-brand-dark))] border border-[rgb(var(--color-brand-gray-light))] rounded-lg p-6",children:[s.jsx("h2",{className:"text-xl font-bold text-[rgb(var(--color-brand-text-light))] mb-4",children:"Adicionar/Editar Central de Distribuio"}),s.jsx("p",{className:"text-[rgb(var(--color-brand-text-dim))]",children:"O formulrio para adicionar e editar CDs ser implementado aqui."}),s.jsx("div",{className:"mt-6",children:s.jsx("button",{onClick:e,className:"text-sm font-semibold bg-[rgb(var(--color-brand-gray))] text-[rgb(var(--color-brand-text-light))] py-2 px-4 rounded-md hover:bg-[rgb(var(--color-brand-gray-light))]",children:"Voltar"})})]}),PI=[{id:"1",name:"Relgio de Pulso Clssico de Couro",seller:"Ana Carolina",price:1250,compareAtPrice:1500,currency:"BRL",shortDescription:"Um relgio atemporal que combina design clssico com funcionalidade moderna. Perfeito para qualquer ocasio.",description:`
      <h2>Design Atemporal, Qualidade Inquestionvel</h2>
      <p>Este relgio  mais do que um simples acessrio;  uma declarao de estilo. Com sua pulseira de couro genuno e caixa de ao inoxidvel polido, ele exala sofisticao.</p>
      <ul>
        <li><strong>Movimento:</strong> Quartzo Suo de alta preciso.</li>
        <li><strong>Material:</strong> Ao inoxidvel 316L e couro legtimo.</li>
        <li><strong>Resistncia  gua:</strong> 5 ATM (adequado para banho, no para mergulho).</li>
        <li><strong>Vidro:</strong> Cristal de safira resistente a arranhes.</li>
      </ul>
      <blockquote>"O tempo  o que mais queremos, mas o que usamos de pior maneira." - William Penn. Use o seu com sabedoria e estilo.</blockquote>
      <p>Seja para uma reunio de negcios ou um evento social, este relgio complementar seu visual com um toque de elegncia discreta.</p>
    `,images:["https://picsum.photos/seed/watch1/600/600","https://picsum.photos/seed/watch2/600/600","https://picsum.photos/seed/watch3/600/600","https://picsum.photos/seed/watch4/600/600"],rating:4.8,reviewCount:72,collectionId:"col-1",status:"Ativo",inventory:25,weight:.3,width:10,height:5,length:15,type:"Fsico",sku:"RW-CLASSIC-01",requiresShipping:!0,trackQuantity:!0,chargeTax:!0,continueSelling:!1,seoTitle:"Relgio Clssico de Couro | Elegncia e Preciso",seoDescription:"Descubra o relgio de pulso clssico com pulseira de couro e movimento suo. Uma pea de luxo atemporal para o homem moderno.",urlHandle:"relogio-pulso-classico-couro",options:[{id:"opt1",name:"Cor da Pulseira",values:["Marrom","Preto"]},{id:"opt2",name:"Cor da Caixa",values:["Prata","Dourado"]}],variants:[{id:"var1",options:{"Cor da Pulseira":"Marrom","Cor da Caixa":"Prata"},price:1250,inventory:10,sku:"RW-MAR-PRA"},{id:"var2",options:{"Cor da Pulseira":"Marrom","Cor da Caixa":"Dourado"},price:1350,inventory:5,sku:"RW-MAR-DOU"},{id:"var3",options:{"Cor da Pulseira":"Preto","Cor da Caixa":"Prata"},price:1250,inventory:8,sku:"RW-PRE-PRA"},{id:"var4",options:{"Cor da Pulseira":"Preto","Cor da Caixa":"Dourado"},price:1350,inventory:2,sku:"RW-PRE-DOU"}],supplier:"Relojoaria Sua Premium"},{id:"2",name:"Bolsa de Ombro de Designer em Couro",seller:"RS Prlipsi",price:2100,currency:"BRL",shortDescription:"Elegncia e praticidade em uma bolsa de couro legtimo com design exclusivo. Espao interno otimizado e acabamento impecvel.",description:`
      <h2>A Companheira Perfeita para o Seu Dia a Dia</h2>
      <p>Feita  mo com couro italiano da mais alta qualidade, esta bolsa de ombro  o eptome do luxo funcional. Seu design verstil a torna perfeita tanto para o trabalho quanto para o lazer.</p>
      <h3>Caractersticas:</h3>
      <ul>
        <li><strong>Material Externo:</strong> Couro bovino italiano de flor integral.</li>
        <li><strong>Forro:</strong> Tecido jacquard personalizado.</li>
        <li><strong>Metais:</strong> Banhados a ouro com acabamento acetinado.</li>
        <li><strong>Compartimentos:</strong> Trs compartimentos internos, incluindo um com zper, e um bolso externo de acesso rpido.</li>
      </ul>
    `,images:["https://picsum.photos/seed/bag1/600/600","https://picsum.photos/seed/bag2/600/600","https://picsum.photos/seed/bag3/600/600"],rating:4.9,reviewCount:45,collectionId:"col-2",status:"Ativo",inventory:15,weight:.8,width:30,height:25,length:10,type:"Fsico",sku:"HB-LEATHER-DESIGN",requiresShipping:!0,trackQuantity:!0,chargeTax:!0,continueSelling:!1,options:[],variants:[],supplier:"Artesos de Florena"},{id:"3",name:"Caneta-tinteiro Executiva",seller:"Escritrio Premium",price:850,compareAtPrice:950,currency:"BRL",shortDescription:"Uma experincia de escrita superior. Corpo em resina nobre, detalhes banhados a platina e pena de ouro 14K feita  mo.",description:`
      <h2>A Arte da Escrita</h2>
      <p>Redescubra o prazer de escrever com esta caneta-tinteiro executiva. Cada trao  uma experincia suave e fluida, graas  sua pena de ouro macio 14K, meticulosamente trabalhada.</p>
    `,images:["https://picsum.photos/seed/pen1/600/600","https://picsum.photos/seed/pen2/600/600"],rating:4.7,reviewCount:30,collectionId:"col-3",status:"Ativo",inventory:50,weight:.1,width:15,height:2,length:2,type:"Fsico",sku:"PEN-EXEC-BLK",requiresShipping:!0,trackQuantity:!0,chargeTax:!0,continueSelling:!1,options:[],variants:[],supplier:"Oficina Alem de Canetas"},{id:"4",name:"culos de Sol Aviador Polarizados",seller:"Estilo & Viso",price:720,currency:"BRL",shortDescription:"Proteo e estilo icnico. Lentes polarizadas com 100% de proteo UV e armao de metal leve e resistente.",description:`
      <h2>Viso Clara, Estilo Inconfundvel</h2>
      <p>O design clssico do aviador encontra a tecnologia moderna de lentes polarizadas. Estes culos de sol no apenas protegem seus olhos, mas tambm elevam seu estilo a um novo patamar.</p>
    `,images:["https://picsum.photos/seed/glasses1/600/600","https://picsum.photos/seed/glasses2/600/600","https://picsum.photos/seed/glasses3/600/600"],rating:4.9,reviewCount:88,collectionId:null,status:"Ativo",inventory:40,weight:.15,width:15,height:5,length:5,type:"Fsico",sku:"SUN-AVIA-POL",requiresShipping:!0,trackQuantity:!0,chargeTax:!0,continueSelling:!1,options:[],variants:[],supplier:"Design de culos Italiano"},{id:"5",name:"Curso Online de Marketing Digital",seller:"Academia do Saber",price:497,currency:"BRL",shortDescription:"Domine as estratgias essenciais de marketing digital, de SEO a mdias sociais, e impulsione sua carreira ou negcio.",description:`
      <h2>Transforme sua Carreira com Marketing Digital</h2>
      <p>Aprenda com especialistas do setor e adquira as habilidades mais procuradas do mercado. Este curso abrangente cobre tudo o que voc precisa para ter sucesso no mundo digital.</p>
    `,images:["https://picsum.photos/seed/course1/600/600"],rating:4.8,reviewCount:250,collectionId:null,status:"Ativo",inventory:1e3,weight:0,width:0,height:0,length:0,type:"Digital",sku:"DIG-MKT-COURSE",requiresShipping:!1,trackQuantity:!1,chargeTax:!1,continueSelling:!0,options:[],variants:[]}],P2e=[{id:"#2024-001",customerId:"cust-1",date:"2024-07-28T10:30:00Z",customerName:"Carlos Silva",customerEmail:"carlos.silva@example.com",customerCpf:"123.456.789-00",customerPhone:"11987654321",shippingAddress:{street:"Rua das Flores",number:"123",complement:"Apto 4B",neighborhood:"Jardim das Rosas",city:"So Paulo",state:"SP",zipCode:"01234-567"},subtotal:1250,shippingCost:0,discount:0,total:1250,currency:"BRL",paymentStatus:"Pago",fulfillmentStatus:"Realizado",items:[{productId:"1",variantId:"var1",productName:"Relgio de Pulso Clssico de Couro",quantity:1,price:1250,variantText:"Cor da Pulseira: Marrom / Material da Caixa: Ao Inoxidvel",sku:"RW-CLASSIC-01"}],trackingCode:"BR123456789SP",shippingMethod:"SEDEX",notes:"Cliente solicitou embalagem para presente."},{id:"#2024-002",customerId:"cust-2",date:"2024-07-28T11:45:00Z",customerName:"Maria Oliveira",customerEmail:"maria.oliveira@example.com",customerCpf:"234.567.890-11",customerPhone:"21912345678",shippingAddress:{street:"Avenida Copacabana",number:"456",neighborhood:"Copacabana",city:"Rio de Janeiro",state:"RJ",zipCode:"22345-678"},subtotal:2820,shippingCost:0,discount:0,total:2820,currency:"BRL",paymentStatus:"Pendente",fulfillmentStatus:"No Realizado",items:[{productId:"2",variantId:"default",productName:"Bolsa de Ombro de Designer em Couro",quantity:1,price:2100,sku:"HB-LEATHER-DESIGN"},{productId:"4",variantId:"default",productName:"culos de Sol Aviador Polarizados",quantity:1,price:720,sku:"SUN-AVIA-POL"}],shippingMethod:"Transportadora"},{id:"#2024-003",date:"2024-07-27T15:00:00Z",customerName:"Joo Pereira",customerEmail:"joao.pereira@example.com",customerCpf:"345.678.901-22",customerPhone:"31988887777",shippingAddress:{street:"Praa da Liberdade",number:"789",neighborhood:"Savassi",city:"Belo Horizonte",state:"MG",zipCode:"30140-010"},subtotal:850,shippingCost:0,discount:0,total:850,currency:"BRL",paymentStatus:"Cancelado",fulfillmentStatus:"No Realizado",items:[{productId:"3",variantId:"default",productName:"Caneta-tinteiro Executiva",quantity:1,price:850,sku:"PEN-EXEC-BLK"}],shippingMethod:"SEDEX"},{id:"#2024-004",date:"2024-07-26T09:10:00Z",customerName:"Ana Costa",customerEmail:"ana.costa@example.com",customerCpf:"456.789.012-33",customerPhone:"71999998888",shippingAddress:{street:"Largo do Pelourinho",number:"10",neighborhood:"Pelourinho",city:"Salvador",state:"BA",zipCode:"40026-280"},subtotal:4200,shippingCost:0,discount:0,total:4200,currency:"BRL",paymentStatus:"Pago",fulfillmentStatus:"No Realizado",items:[{productId:"2",variantId:"default",productName:"Bolsa de Ombro de Designer em Couro",quantity:2,price:2100,sku:"HB-LEATHER-DESIGN"}],shippingMethod:"Transportadora",notes:"Verificar endereo com o cliente antes de enviar. Possvel erro no nmero."},{id:"#2024-005",customerId:"cust-1",date:"2024-07-25T18:20:00Z",customerName:"Carlos Silva",customerEmail:"carlos.silva@example.com",customerCpf:"567.890.123-44",customerPhone:"51987651234",shippingAddress:{street:"Rua dos Andradas",number:"1000",neighborhood:"Centro Histrico",city:"Porto Alegre",state:"RS",zipCode:"90020-000"},subtotal:3350,shippingCost:0,discount:0,total:3350,currency:"BRL",paymentStatus:"Parcialmente Pago",fulfillmentStatus:"Parcial",items:[{productId:"1",variantId:"var1",productName:"Relgio de Pulso Clssico de Couro",quantity:1,price:1250,sku:"RW-CLASSIC-01"},{productId:"2",variantId:"default",productName:"Bolsa de Ombro de Designer em Couro",quantity:1,price:2100,sku:"HB-LEATHER-DESIGN"}],shippingMethod:"Retirar no Local"}],R2e=[{id:"RET-001",orderId:"#2024-001",customerName:"Carlos Silva",customerEmail:"carlos.silva@example.com",requestDate:"2024-07-29T14:00:00Z",items:[{productId:"1",productName:"Relgio de Pulso Clssico de Couro",quantity:1,reason:"Defeito no fecho"}],status:"Pendente",resolutionType:"Troca"},{id:"RET-002",orderId:"#2024-004",customerName:"Ana Costa",customerEmail:"ana.costa@example.com",requestDate:"2024-07-28T09:30:00Z",items:[{productId:"2",productName:"Bolsa de Ombro de Designer em Couro",quantity:1,reason:"No gostei da cor"}],status:"Aprovada",resolutionType:"Reembolso"},{id:"RET-003",orderId:"#2024-005",customerName:"Lucas Martins",customerEmail:"lucas.martins@example.com",requestDate:"2024-07-27T11:00:00Z",items:[{productId:"2",productName:"Bolsa de Ombro de Designer em Couro",quantity:1,reason:"Tamanho incorreto"}],status:"Concluda",resolutionType:"Troca"}],I2e=[{id:"DS-001",name:"Fone de Ouvido Sem Fio ProSound X5",supplier:"TechSupplier Inc.",costPrice:120,suggestedRetailPrice:249.9,images:["https://picsum.photos/seed/headphone/600/600"],description:"Experimente a liberdade do udio sem fio com o ProSound X5. Cancelamento de rudo ativo, bateria de 20 horas e design ergonmico.",category:"Eletrnicos",inventory:500},{id:"DS-002",name:"Smartwatch Fitness Tracker",supplier:"HealthGadgets",costPrice:85.5,suggestedRetailPrice:199.9,images:["https://picsum.photos/seed/smartwatch/600/600"],description:"Monitore sua sade e atividades fsicas com este smartwatch completo. Medidor de frequncia cardaca, contador de passos e notificaes inteligentes.",category:"Eletrnicos",inventory:1200},{id:"DS-003",name:"Mochila Urbana Anti-furto",supplier:"UrbanGear",costPrice:95,suggestedRetailPrice:219,images:["https://picsum.photos/seed/backpack/600/600"],description:"Mochila com design moderno, compartimento para notebook, porta USB para carregamento e zperes ocultos para maior segurana.",category:"Acessrios",inventory:350}],D2e=[{id:"DSO-001",orderId:"#2024-001",supplier:"TechSupplier Inc.",supplierOrderId:"TS-98765",date:"2024-07-28T10:35:00Z",items:[{productId:"DS-001",productName:"Fone de Ouvido Sem Fio ProSound X5",quantity:1,costPrice:120}],totalCost:120,status:"Enviado",trackingCode:"LP123456789CN"},{id:"DSO-002",orderId:"#2024-002",supplier:"HealthGadgets",supplierOrderId:"HG-A5B4C",date:"2024-07-28T11:50:00Z",items:[{productId:"DS-002",productName:"Smartwatch Fitness Tracker",quantity:2,costPrice:85.5}],totalCost:171,status:"Processando"}],_2e=[{id:"CUP-001",code:"BEMVINDO10",type:"Porcentagem",value:10,status:"Ativo",usageCount:45,usageLimit:1e3,startDate:"2024-07-01T00:00:00Z",endDate:null},{id:"CUP-002",code:"INVERNO50",type:"Valor Fixo",value:50,status:"Ativo",usageCount:120,usageLimit:500,startDate:"2024-06-15T00:00:00Z",endDate:"2024-08-31T23:59:59Z"},{id:"CUP-003",code:"FRETEGRATIS",type:"Valor Fixo",value:0,status:"Inativo",usageCount:250,usageLimit:null,startDate:"2024-05-01T00:00:00Z",endDate:"2024-05-31T23:59:59Z"}],O2e=[{id:"PIX-001",type:"Facebook",name:"Campanha de Vero",pixelId:"123456789012345",status:"Ativo"},{id:"PIX-002",type:"Google Ads",name:"Rede de Pesquisa",pixelId:"AW-987654321",idLabel:"xyz-ABC123",status:"Ativo"},{id:"PIX-003",type:"TikTok",name:"Campanha de Influencers",pixelId:"C1A2B3D4E5F6G7H8",status:"Ativo"},{id:"PIX-004",type:"Pinterest",name:"Campanha de Moda",pixelId:"9876543210987",status:"Inativo"},{id:"PIX-005",type:"Google Analytics",name:"Anlise de Trfego Principal",pixelId:"G-ABC123XYZ",status:"Ativo"},{id:"PIX-006",type:"Taboola",name:"Contedo Patrocinado",pixelId:"1234567",status:"Ativo"},{id:"PIX-007",type:"LinkedIn",name:"Gerao de Leads B2B",pixelId:"987654",status:"Ativo"},{id:"PIX-008",type:"Snapchat",name:"Filtro de Lanamento",pixelId:"snap-1234-5678-9012",status:"Ativo"},{id:"PIX-009",type:"Bing",name:"Campanha Microsoft Ads",pixelId:"UET-987654321",status:"Inativo"}],L2e=[{id:"PS-001",name:"Tech Store Brasil",description:"Eletrnicos",logo:"https://picsum.photos/seed/tech/40/40",commission:15},{id:"PS-002",name:"Beleza Natural Cosmticos",description:"Cosmticos",logo:"https://picsum.photos/seed/beleza/40/40",commission:20},{id:"PS-003",name:"Academia do Saber",description:"Cursos Online",logo:"https://picsum.photos/seed/saber/40/40",commission:30}],B2e=[{id:"SL-001",shortUrl:"https://rs.shp/a83xZ",originalUrl:"https://rs-shop.com.br/loja/seller-01?ref=user-01",clicks:152},{id:"SL-002",shortUrl:"https://rs.shp/c7YuP",originalUrl:"https://rs-shop.com.br/loja/seller-03/curso-mkt?ref=user-01",clicks:89}],U2e={storeName:"RS Prlipsi Marketplace",storeColors:{primary:"#FFD700",secondary:"#1E1E1E",accent:"#7FFF00"},contactEmail:"contato@rsprolipsi.com.br",contactPhone:"(11) 99999-9999",logoUrl:"",faviconUrl:"",hero:{title:"Elegncia, Redefinida.",subtitle:"Descubra um mercado selecionado de produtos premium de vendedores confiveis. Sua jornada para o luxo comea aqui.",desktopImage:"https://picsum.photos/seed/hero-desktop/1600/900?grayscale",mobileImage:"https://picsum.photos/seed/hero-mobile/800/1200?grayscale"},carouselBanners:[{id:"banner-1",desktopImage:"https://picsum.photos/seed/carousel1-desktop/1200/400",mobileImage:"https://picsum.photos/seed/carousel1-mobile/400/300",link:"#"},{id:"banner-2",desktopImage:"https://picsum.photos/seed/carousel2-desktop/1200/400",mobileImage:"https://picsum.photos/seed/carousel2-mobile/400/300",link:"#"},{id:"banner-3",desktopImage:"https://picsum.photos/seed/carousel3-desktop/1200/400",mobileImage:"https://picsum.photos/seed/carousel3-mobile/400/300",link:"#"}],midPageBanner:{id:"mid-banner-1",desktopImage:"https://picsum.photos/seed/midbanner-desktop/1200/300",mobileImage:"https://picsum.photos/seed/midbanner-mobile/400/200",link:"#"},footer:{description:"O futuro do e-commerce premium.",buyerLinks:[{label:"Encontrar Produtos",url:"#featured-products"},{label:"Sua Conta",url:"#"},{label:"Rastrear Pedidos",url:"#"}],sellerLinks:[{label:"Painel do Lojista",url:"#",isAction:!0},{label:"Seja um Lojista",url:"#"},{label:"Ferramentas de Marketing",url:"#"}],companyLinks:[],socialLinks:[{platform:"facebook",url:"https://facebook.com/rsprolipsi"},{platform:"instagram",url:"https://instagram.com/rsprolipsi"},{platform:"twitter",url:"https://twitter.com/rsprolipsi"},{platform:"linkedin",url:"https://linkedin.com/company/rsprolipsi"}],contactEmail:"contato@rsprolipsi.com.br",cnpj:"00.000.000/0001-00",businessAddress:"Rua Exemplo, 123 - Centro, So Paulo - SP, 01010-010",paymentMethods:[],shippingMethods:[]},orderBump:{enabled:!0,productId:"3",offerPrice:595,title:" SIM, EU QUERO ESTA OFERTA ESPECIAL!",description:"Adicione a Caneta-tinteiro Executiva ao seu pedido por um preo exclusivo e eleve sua experincia de escrita!"},upsell:{enabled:!0,productId:"4",offerPrice:499.9,title:" OFERTA NICA PS-COMPRA! ",description:"Parabns pela sua compra! Vimos que voc tem bom gosto. Que tal adicionar estes culos de Sol Aviador por um preo que voc no ver novamente?",acceptButtonText:"Sim, adicionar ao meu pedido com 1 clique!",declineButtonText:"No, obrigado. Perder esta oferta."},homepageSections:[{id:"featuredProducts",name:"Produtos em Destaque",enabled:!0},{id:"offers",name:"Ofertas Especiais",enabled:!0},{id:"bestsellers",name:"Mais Vendidos",enabled:!0},{id:"featuredCollections",name:"Colees em Destaque",enabled:!0},{id:"recentlyViewed",name:"Vistos Recentemente",enabled:!0},{id:"midPageBanner",name:"Banner de Meio da Pgina",enabled:!0}],customCss:`/*
============================================================
  CSS DA LOJA OFICIAL - RS Prlipsi
============================================================
  Este arquivo contm o estilo base completo da sua loja.
  Use-o como ponto de partida para suas personalizaes.
*/

/* 
============================================================
  1. ESTILOS GERAIS E FONTES (PALETA APLICADA)
============================================================
*/
body {
  background-color: #121212; /* Preto Absoluto */
  color: #E5E7EB; /* Branco Neve */
  font-family: 'Roboto', sans-serif;
}

.font-display {
  font-family: 'Playfair Display', serif;
}

/* Scrollbar Personalizada */
::-webkit-scrollbar {
  width: 8px;
}
::-webkit-scrollbar-track {
  background: #121212;
}
::-webkit-scrollbar-thumb {
  background: #2A2A2A;
  border-radius: 4px;
}
::-webkit-scrollbar-thumb:hover {
  background: #3a3a3a;
}

/* 
============================================================
  2. CABEALHO (HEADER) (PALETA APLICADA)
============================================================
*/
header {
  position: sticky;
  top: 0;
  z-index: 50;
  background-color: rgba(30, 30, 30, 0.8); /* Cinza Grafite com transparncia */
  backdrop-filter: blur(4px);
  border-bottom: 1px solid rgba(255, 215, 0, 0.3); /* Ouro Prlipsi com transparncia */
}

header .logo {
  font-family: 'Playfair Display', serif;
  font-size: 1.875rem; /* text-3xl */
  color: #FFD700; /* Ouro Prlipsi */
}

header .search-bar {
  background-color: #121212; /* Preto Absoluto */
  border: 2px solid #2A2A2A; /* Cinza Claro */
  border-radius: 9999px; /* rounded-full */
  color: #E5E7EB; /* Branco Neve */
  transition: border-color 0.3s;
}

header .search-bar:focus {
  outline: none;
  border-color: #FFD700; /* Ouro Prlipsi */
}

header .nav-link {
  color: #E5E7EB; /* Branco Neve */
  transition: color 0.3s;
}

header .nav-link:hover {
  color: #FFD700; /* Ouro Prlipsi */
}

/* Animao do Dropdown de Categorias */
@keyframes fade-in-down {
  from {
    opacity: 0;
    transform: translateY(-10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.animate-fade-in-down {
  animation: fade-in-down 0.2s ease-out forwards;
}

header .category-dropdown {
  background-color: #1E1E1E; /* Cinza Grafite */
  border: 2px solid rgba(255, 215, 0, 0.3);
  border-radius: 0.375rem; /* rounded-md */
}

header .category-dropdown a {
  color: #E5E7EB; /* Branco Neve */
  transition: background-color 0.3s, color 0.3s;
}

header .category-dropdown a:hover {
  background-color: #FFD700; /* Ouro Prlipsi */
  color: #121212; /* Preto Absoluto */
}


/* 
============================================================
  3. BANNER PRINCIPAL (HERO) (PALETA APLICADA)
============================================================
*/
.hero-section {
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
  text-align: center;
  height: 70vh;
  background-size: cover;
  background-position: center;
}

.hero-section::before {
  content: '';
  position: absolute;
  inset: 0;
  background-color: rgba(18, 18, 18, 0.6); /* Preto Absoluto com transparncia */
}

.hero-section h1 {
  font-family: 'Playfair Display', serif;
  font-weight: 700;
  font-size: 3.75rem; /* text-6xl */
  color: #E5E7EB; /* Branco Neve */
  text-shadow: 0 2px 4px rgba(0,0,0,0.5);
}

.hero-section p {
  color: #E5E7EB; /* Branco Neve */
  font-size: 1.25rem; /* text-xl */
}

/* 
============================================================
  4. BOTES (BUTTONS) (PALETA APLICADA)
============================================================
*/
.btn-primary {
  background-color: #FFD700; /* Ouro Prlipsi */
  color: #121212; /* Preto Absoluto */
  font-weight: 700;
  padding: 0.75rem 2rem;
  border-radius: 9999px;
  transition: transform 0.2s, opacity 0.2s;
}

.btn-primary:hover {
  opacity: 0.9;
  transform: scale(1.05);
}

.btn-secondary {
  background-color: transparent;
  border: 2px solid #FFD700; /* Ouro Prlipsi */
  color: #FFD700; /* Ouro Prlipsi */
  font-weight: 700;
  padding: 0.75rem 2rem;
  border-radius: 9999px;
  transition: background-color 0.3s, color 0.3s;
}

.btn-secondary:hover {
  background-color: #FFD700;
  color: #121212;
}


/* 
============================================================
  5. SEES E CARDS (PALETA APLICADA)
============================================================
*/
.section-title {
  font-family: 'Playfair Display', serif;
  font-weight: 700;
  font-size: 2.25rem; /* text-4xl */
  color: #E5E7EB; /* Branco Neve */
}

.section-subtitle {
  color: #9CA3AF; /* Cinza Suave */
  font-size: 1.125rem; /* text-lg */
}

/* Card de Produto */
.product-card {
  background-color: rgba(30, 30, 30, 0.5); /* Cinza Grafite com transparncia */
  border: 1px solid #2A2A2A; /* Cinza Claro */
  border-radius: 0.5rem; /* rounded-lg */
  overflow: hidden;
  box-shadow: 0 4px 6px -1px rgba(0,0,0,0.1), 0 2px 4px -2px rgba(0,0,0,0.1);
  transition: box-shadow 0.3s;
  cursor: pointer;
}

.product-card:hover {
  box-shadow: 0 0 15px rgba(255, 215, 0, 0.1);
}

.product-card img {
  transition: transform 0.3s;
}

.product-card:hover img {
  transform: scale(1.05);
}

.product-card h3 {
  transition: color 0.3s;
}

.product-card:hover h3 {
  color: #FFD700; /* Ouro Prlipsi */
}

.product-card .price {
  color: #FFD700; /* Ouro Prlipsi */
  font-weight: 600;
  font-size: 1.25rem; /* text-xl */
}

/* Card de Chamada para Ao (CTA) */
.cta-card {
  background: linear-gradient(to bottom right, #1E1E1E, #121212); /* Cinza Grafite para Preto Absoluto */
  padding: 2rem;
  border-radius: 0.5rem; /* rounded-lg */
  border: 2px solid #2A2A2A; /* Cinza Claro */
  box-shadow: 0 10px 15px -3px rgba(0,0,0,0.1), 0 4px 6px -4px rgba(0,0,0,0.1);
}

/* 
============================================================
  6. RODAP (FOOTER) (PALETA APLICADA)
============================================================
*/
footer {
  background-color: #1E1E1E; /* Cinza Grafite */
  color: #9CA3AF; /* Cinza Suave */
  border-top: 1px solid #2A2A2A; /* Cinza Claro */
}

footer h4 {
  font-weight: 700;
  color: #E5E7EB; /* Branco Neve */
  letter-spacing: 0.05em; /* tracking-wider */
}

footer a, footer button {
  transition: color 0.3s;
}

footer a:hover, footer button:hover {
  color: #FFD700; /* Ouro Prlipsi */
}

/* 
============================================================
  7. DETALHES DO PRODUTO (PRODUCT DETAIL PAGE) (PALETA APLICADA)
============================================================
*/
.product-detail .category {
  color: #FFD700; /* Ouro Prlipsi */
  font-weight: 600;
}

.product-detail .title {
  font-family: 'Playfair Display', serif;
  font-weight: 700;
  color: #E5E7EB; /* Branco Neve */
}

.product-detail .price {
  color: #FFD700; /* Ouro Prlipsi */
  font-weight: 300;
}

.product-detail .prose {
  color: #E5E7EB; /* Branco Neve */
  line-height: 1.75;
}

.product-detail .prose h1,
.product-detail .prose h2,
.product-detail .prose h3 {
  color: #E5E7EB;
}

.product-detail .prose a {
  color: #60a5fa; /* blue-400 for links is fine */
}

.product-detail .prose blockquote {
  border-left: 3px solid #FFD700; /* Ouro Prlipsi */
  padding-left: 1rem;
  margin-left: 0.5rem;
  font-style: italic;
  color: #E5E7EB;
}

/* 
============================================================
  8. PAINEL DE ADMINISTRAO (ADMIN) (PALETA APLICADA)
============================================================
*/
.admin-layout {
  background-color: #121212; /* Preto Absoluto */
  color: #E5E7EB; /* Branco Neve */
}

.admin-sidebar {
  background-color: #1E1E1E; /* Cinza Grafite */
  color: #E5E7EB; /* Branco Neve */
}

.admin-sidebar button:hover {
  background-color: #2A2A2A; /* Cinza Claro */
}

.admin-sidebar button.active {
  color: #FFD700; /* Ouro Prlipsi */
  background-color: #2A2A2A; /* Cinza Claro */
}

.admin-header {
  background-color: #1E1E1E; /* Cinza Grafite */
  border-bottom: 1px solid #2A2A2A; /* Cinza Claro */
}

.admin-card {
  background-color: #1E1E1E; /* Cinza Grafite */
  border: 1px solid #2A2A2A; /* Cinza Claro */
  border-radius: 0.5rem; /* rounded-lg */
}

.admin-input {
  background-color: #121212; /* Preto Absoluto */
  border: 2px solid #2A2A2A; /* Cinza Claro */
  border-radius: 0.375rem; /* rounded-md */
  color: #E5E7EB; /* Branco Neve */
}

.admin-input:focus {
  outline: none;
  border-color: #FFD700; /* Ouro Prlipsi */
}

.admin-table th {
  text-transform: uppercase;
  background-color: #1E1E1E; /* Cinza Grafite */
  color: #9CA3AF; /* Cinza Suave */
}

.admin-table tr {
  border-bottom: 1px solid #2A2A2A; /* Cinza Claro */
}

.admin-table tr:hover {
  background-color: rgba(42, 42, 42, 0.5); /* Cinza Claro com transparncia */
}
`},z2e={mercadoPago:{enabled:!0,publicKey:"TEST-12345678-ABCD-1234-ABCD-1234567890AB",accessToken:"APP_USR-1234567890123456-123456-abcdefghijklmnopqrstuvwxyz123456"},pagSeguro:{enabled:!1,email:"seuemail@pagseguro.com.br",token:"ABCDEFGHIJKLMNOPQRSTUVWXYZ123456"},pix:{enabled:!0,pixKeyType:"Chave Aleatria",pixKey:"a1b2c3d4-e5f6-7890-1234-567890abcdef"},appmax:{enabled:!1,apiKey:""},asaas:{enabled:!0,apiKey:""},pagarme:{enabled:!1,apiKey:"",encryptionKey:""},stripe:{enabled:!1,publishableKey:"",secretKey:""}},F2e={frenet:{enabled:!1,apiKey:"",apiSecret:""},melhorEnvio:{enabled:!0,apiToken:""},correios:{enabled:!0,contrato:"9912345678",senha:"SUA_SENHA"},superFrete:{enabled:!1,apiToken:""},jadlog:{enabled:!1,apiToken:""},loggi:{enabled:!1,apiKey:""}},q2e={dropshippingPointsPerBrl:1,affiliatePointsPerBrl:1.5,frequency:"Trimestral",tiers:[{id:"tier-1",name:"Bronze",pointsRequired:1e3,reward:150,pinImageUrl:"https://i.imgur.com/J4pGo2K.png",bannerImageUrl:""},{id:"tier-2",name:"Prata",pointsRequired:2500,reward:400,pinImageUrl:"https://i.imgur.com/e22xkCr.png",bannerImageUrl:""},{id:"tier-3",name:"Ouro",pointsRequired:5e3,reward:1e3,pinImageUrl:"https://i.imgur.com/s6c3jZp.png",bannerImageUrl:""}]},H2e=[{id:"col-1",title:"Relgios de Luxo",description:"Uma seleo de relgios premium para quem aprecia a arte da relojoaria.",imageUrl:"https://picsum.photos/seed/coll-watches/800/400",productIds:["1"]},{id:"col-2",title:"Essenciais de Couro",description:"Acessrios de couro atemporais, feitos para durar.",imageUrl:"https://picsum.photos/seed/coll-leather/800/400",productIds:["1","2"]},{id:"col-3",title:"Instrumentos de Escrita",description:"Eleve sua escrita com nossa coleo de canetas e acessrios de luxo.",imageUrl:"https://picsum.photos/seed/coll-writing/800/400",productIds:["3"]}],V2e=[{id:"cust-1",name:"Carlos Silva",email:"carlos.silva@example.com",passwordHash:"123456"},{id:"cust-2",name:"Maria Oliveira",email:"maria.oliveira@example.com",passwordHash:"123456"},{id:"cust-admin",name:"Admin RS Prlipsi",email:"rsprolipsioficial@gmail.com",passwordHash:"Yannis784512@"}],$2e=[{id:"na-1",icon:"UserPlusIcon",text:"<strong>Lucas Martins</strong> se cadastrou usando seu link de indicao!",timestamp:"2 horas atrs"},{id:"na-2",icon:"ShoppingCartIcon",text:"Novo pedido de <strong>R$ 1.250,00</strong> na sua loja.",timestamp:"5 horas atrs"},{id:"na-3",icon:"TrophyIcon",text:"Voc alcanou o nvel <strong>PRATA</strong> no plano de carreira!",timestamp:"1 dia atrs"},{id:"na-4",icon:"StarOutlineIcon",text:"<strong>Maria Eduarda</strong> deixou uma nova avaliao em um produto.",timestamp:"2 dias atrs"}],G2e=[{day:"Seg",bonus:150},{day:"Ter",bonus:220},{day:"Qua",bonus:180},{day:"Qui",bonus:300},{day:"Sex",bonus:250},{day:"Sb",bonus:350},{day:"Dom",bonus:190}],K2e=[{id:"rev-1",productId:"1",productName:"Relgio de Pulso Clssico de Couro",author:"Marcos Vinicius",rating:5,title:"Simplesmente perfeito!",text:"A qualidade do material  incrvel e o design  muito elegante. Chegou super rpido. Recomendo!",createdAt:"2024-07-25T10:00:00Z",status:"Aprovada"},{id:"rev-2",productId:"2",productName:"Bolsa de Ombro de Designer em Couro",author:"Ana Clara",rating:3,title:"Bonita, mas menor do que eu esperava",text:"A bolsa  linda e de tima qualidade, mas achei que seria um pouco maior pelas fotos. Para o dia a dia, acaba sendo pequena.",createdAt:"2024-07-24T15:30:00Z",status:"Pendente"},{id:"rev-3",productId:"1",productName:"Relgio de Pulso Clssico de Couro",author:"Juliana Costa",rating:4,title:"timo presente",text:"Comprei de presente para o meu marido e ele adorou.  um relgio muito bonito e verstil. A entrega foi pontual.",createdAt:"2024-07-22T09:15:00Z",status:"Aprovada"},{id:"rev-4",productId:"4",productName:"culos de Sol Aviador Polarizados",author:"Fernando Dias",rating:1,title:"No gostei",text:"O produto veio com um arranho na lente. Pedi a devoluo.",createdAt:"2024-07-28T11:00:00Z",status:"Rejeitada"},{id:"rev-5",productId:"3",productName:"Caneta-tinteiro Executiva",author:"Beatriz Lima",rating:5,title:"Experincia de escrita incrvel",text:"Nunca pensei que uma caneta pudesse fazer tanta diferena. A escrita  extremamente macia. Vale o investimento.",createdAt:"2024-07-29T18:00:00Z",status:"Pendente"}],W2e=[{id:"q-1",productId:"1",author:"Carlos P.",text:"A pulseira  de couro legtimo mesmo?  resistente?",createdAt:new Date(Date.now()-4320*60*1e3).toISOString(),answers:[{id:"a-1",author:"Ana Carolina (Vendedor)",text:"Ol, Carlos! Sim, a pulseira  de couro genuno de alta qualidade, muito resistente e confortvel para o uso dirio.",createdAt:new Date(Date.now()-2880*60*1e3).toISOString()}]},{id:"q-2",productId:"1",author:"Mariana F.",text:"  prova d'gua? Posso nadar com ele?",createdAt:new Date(Date.now()-7200*60*1e3).toISOString(),answers:[{id:"a-2",author:"Ana Carolina (Vendedor)",text:"Ol, Mariana. Ele tem resistncia  gua de 5 ATM, o que significa que  adequado para banho e respingos, mas no recomendamos para natao ou mergulho.",createdAt:new Date(Date.now()-7200*60*1e3+36e5).toISOString()},{id:"a-3",author:"Carlos P.",text:"Eu tenho um e j tomei chuva com ele sem problemas.",createdAt:new Date(Date.now()-5760*60*1e3).toISOString()}]}],J2e=[{id:"ann-1",title:"Lanamento do Novo Plano de Compensao 2025",date:new Date(Date.now()-1440*60*1e3).toISOString(),content:`
            <h2>Detalhes do Novo Plano de Compensao</h2>
            <p>Estamos entusiasmados em anunciar nosso novo plano de compensao, projetado para recompensar ainda mais seu esforo e dedicao. As principais mudanas incluem:</p>
            <ul>
                <li><strong>Novos Nveis:</strong> Introduzimos os nveis de Rubi e Esmeralda.</li>
                <li><strong>Bnus Acelerado:</strong> Ganhos mais rpidos nos primeiros 90 dias.</li>
                <li><strong>Prmios de Liderana:</strong> Recompensas exclusivas para lderes de equipe.</li>
            </ul>
            <p>Acesse a seo de treinamentos para um vdeo explicativo completo.</p>
        `,isPinned:!0},{id:"ann-2",title:"Atualizao da Poltica de Devolues",date:new Date(Date.now()-4320*60*1e3).toISOString(),content:"<p>Nossa poltica de devolues foi atualizada para melhor atender nossos clientes e lojistas. O prazo para solicitao de devoluo agora  de 10 dias corridos aps o recebimento do produto.</p>",isPinned:!1},{id:"ann-3",title:"Prxima Live de Treinamento: Tcnicas de Venda",date:new Date(Date.now()-7200*60*1e3).toISOString(),content:"<p>No perca nossa prxima live de treinamento nesta sexta-feira, s 19h. Vamos abordar as melhores tcnicas para aumentar suas vendas e engajar clientes. O link ser disponibilizado no dia.</p>",isPinned:!1}],Y2e=[{id:"train-1",title:"Configurando Sua Loja de Sucesso",description:"Aprenda o passo a passo para montar e configurar sua loja virtual do zero, pronta para vender.",thumbnailUrl:"https://picsum.photos/seed/store-success/400/200",progress:50,lessons:[{id:"l1-1",title:"O que  Facebook Ads?",videoUrl:"https://storage.googleapis.com/gtv-videos-bucket/sample/ForBiggerFun.mp4",content:"Facebook Ads  a plataforma de publicidade da Meta, que permite criar e veicular anncios no Facebook, Instagram, Messenger e Audience Network. Com ela,  possvel alcanar um pblico altamente segmentado com base em demografia, interesses e comportamentos. O objetivo principal  gerar resultados de negcios, como reconhecimento de marca, gerao de leads, trfego para o site e vendas. A plataforma oferece diversos formatos de anncio, incluindo imagens, vdeos, carrossis e colees.",likes:127},{id:"l1-2",title:"Criando sua Conta de Anncios",videoUrl:"https://storage.googleapis.com/gtv-videos-bucket/sample/ForBiggerJoyrides.mp4",content:"Para comear a anunciar, voc precisa de uma conta no Gerenciador de Negcios (Business Manager) da Meta. Dentro do Gerenciador, voc criar uma Conta de Anncios.  crucial configurar corretamente as informaes de pagamento e faturamento. Lembre-se de adicionar uma forma de pagamento vlida, como carto de crdito ou boleto, para que seus anncios possam ser veiculados. A estrutura ideal  ter uma conta do Gerenciador de Negcios que gerencia mltiplas contas de anncios, caso voc trabalhe com diferentes clientes ou projetos.",likes:98},{id:"l1-3",title:"Como Criar uma Pgina (Fanpage)",videoUrl:"https://storage.googleapis.com/gtv-videos-bucket/sample/ForBiggerMeltdowns.mp4",content:'Uma Pgina no Facebook (Fanpage)  a identidade da sua empresa na plataforma.  por meio dela que seus anncios sero veiculados. Para criar uma, v at a seo "Pginas" do seu perfil e clique em "Criar Nova Pgina". Preencha as informaes essenciais como nome, categoria, descrio, foto de perfil e capa. Uma pgina bem configurada transmite profissionalismo e confiana para seu pblico.',likes:153},{id:"l1-4",title:"Instalando o Pixel do Facebook",videoUrl:"https://storage.googleapis.com/gtv-videos-bucket/sample/ForBiggerEscapes.mp4",content:"O Pixel da Meta  um trecho de cdigo que voc instala em seu site. Sua funo  rastrear as aes dos visitantes, como visualizaes de pgina, adies ao carrinho e compras. Esses dados so valiosos para otimizar suas campanhas, criar pblicos personalizados (remarketing) e mensurar o retorno sobre o investimento (ROI) dos seus anncios. A instalao pode ser feita manualmente, via gerenciadores de tags como o Google Tag Manager, ou atravs de integraes com plataformas de e-commerce.",likes:212}]},{id:"train-2",title:"Dominando o Produto e a Oferta",description:"Aprenda a escolher produtos vencedores e criar ofertas irresistveis que vendem todos os dias.",thumbnailUrl:"https://picsum.photos/seed/product-offer/400/200",progress:50,lessons:[{id:"l2-1",title:"Anlise de Mercado e Nicho",videoUrl:"placeholder.mp4",content:"SEO (Search Engine Optimization)  o conjunto de tcnicas para otimizar seu site e contedo para os mecanismos de busca...",likes:88},{id:"l2-2",title:"Criao de Ofertas Irresistveis",videoUrl:"placeholder.mp4",content:"Aprenda a encontrar os termos que seu pblico-alvo utiliza para buscar por seus produtos ou servios...",likes:112}]},{id:"train-3",title:"Logstica de Dropshipping Simplificada",description:"Entenda todo o fluxo de um pedido, desde a venda at a entrega na casa do cliente, sem estresse.",thumbnailUrl:"https://picsum.photos/seed/dropship-logistics/400/200",progress:33,lessons:[{id:"l3-1",title:"O Ciclo de Vida do Pedido Drop",videoUrl:"placeholder.mp4",content:"Conhea a trajetria da RS Prlipsi e os valores que guiam nossa jornada...",likes:130}]},{id:"train-4",title:"RSIA: Sua Assistente de Vendas",description:"Aprenda a utilizar as ferramentas de IA da plataforma para otimizar suas vendas e marketing.",thumbnailUrl:"https://picsum.photos/seed/ai-assistant/400/200",progress:0,lessons:[{id:"l4-1",title:"Introduo  RSIA",videoUrl:"placeholder.mp4",content:"Descubra como nossa inteligncia artificial, a RSIA, pode ser sua maior aliada...",likes:250}]}],X2e=[{id:"asset-1",name:"Logo Oficial RS Prlipsi (Ouro)",type:"logo",format:"PNG",downloadUrl:"https://picsum.photos/seed/logo-gold-dl/500/500",previewUrl:"https://picsum.photos/seed/logo-gold-pv/200/200"},{id:"asset-2",name:"Banner Promocional - Dia das Mes",type:"banner",format:"JPG",downloadUrl:"https://picsum.photos/seed/assetbanner1/1200/600",previewUrl:"https://picsum.photos/seed/assetbanner1/400/200"},{id:"asset-3",name:"Template de Post (PDF)",type:"template",format:"PDF",downloadUrl:"https://www.w3.org/WAI/ER/tests/xhtml/testfiles/resources/pdf/dummy.pdf",previewUrl:"https://i.imgur.com/S5OK3sI.png"},{id:"asset-4",name:"Logo Oficial RS Prlipsi (Preto)",type:"logo",format:"PNG",downloadUrl:"https://picsum.photos/seed/logo-black-dl/500/500",previewUrl:"https://picsum.photos/seed/logo-black-pv/200/200"},{id:"asset-5",name:"Guia de Produto - Relgios",type:"template",format:"PDF",downloadUrl:"https://www.w3.org/WAI/ER/tests/xhtml/testfiles/resources/pdf/dummy.pdf",previewUrl:"https://i.imgur.com/S5OK3sI.png"},{id:"asset-6",name:"Manual de Marca",type:"template",format:"PDF",downloadUrl:"https://www.w3.org/WAI/ER/tests/xhtml/testfiles/resources/pdf/dummy.pdf",previewUrl:"https://i.imgur.com/S5OK3sI.png"},{id:"asset-7",name:"Catlogo de Bolsas",type:"template",format:"PDF",downloadUrl:"https://www.w3.org/WAI/ER/tests/xhtml/testfiles/resources/pdf/dummy.pdf",previewUrl:"https://i.imgur.com/S5OK3sI.png"}],Q2e=[{id:"ac-1",customerName:"Joana Martins",customerEmail:"joana.m@example.com",customerPhone:"11987654321",items:[{id:"2-default",productId:"2",variantId:"default",name:"Bolsa de Ombro de Designer em Couro",price:2100,image:"https://picsum.photos/seed/bag1/600/600",quantity:1,variantText:""}],total:2100,abandonedAt:new Date(Date.now()-7200*1e3).toISOString(),recoveryStatus:"No enviado"},{id:"ac-2",customerName:"Ricardo Alves",customerEmail:"ricardo.alves@example.com",customerPhone:"21912345678",items:[{id:"1-var1",productId:"1",variantId:"var1",name:"Relgio de Pulso Clssico de Couro",price:1250,image:"https://picsum.photos/seed/watch1/600/600",quantity:1,variantText:"Cor da Pulseira: Marrom, Cor da Caixa: Prata"},{id:"4-default",productId:"4",variantId:"default",name:"culos de Sol Aviador Polarizados",price:720,image:"https://picsum.photos/seed/glasses1/600/600",quantity:1,variantText:""}],total:1970,abandonedAt:new Date(Date.now()-1440*60*1e3).toISOString(),recoveryStatus:"Enviado"},{id:"ac-3",customerName:"Cliente Annimo",customerEmail:"visitante@email.com",customerPhone:"31999998888",items:[{id:"3-default",productId:"3",variantId:"default",name:"Caneta-tinteiro Executiva",price:850,image:"https://picsum.photos/seed/pen1/600/600",quantity:2,variantText:""}],total:1700,abandonedAt:new Date(Date.now()-7200*60*1e3).toISOString(),recoveryStatus:"Recuperado"}],Z2e=[{id:"CHG-001",customerName:"Fernanda Lima",customerEmail:"fernanda.lima@example.com",customerCpf:"111.222.333-44",customerPhone:"21987654321",customerAddress:{street:"Avenida Atlntica",number:"1702",neighborhood:"Copacabana",city:"Rio de Janeiro",state:"RJ",zipCode:"22021-001"},items:[{id:"1",description:"Relgio de Pulso Clssico de Couro",quantity:1,price:1250},{id:"custom-1",description:"Gravao Personalizada",quantity:1,price:150}],shipping:25,total:1425,status:"Pago",createdAt:"2024-07-28T10:00:00Z",dueDate:"2024-08-05T23:59:59Z",paymentLink:"https://rs.shp/pay/ab12cd34"},{id:"CHG-002",customerName:"Ricardo Alves",customerEmail:"ricardo.alves@example.com",customerCpf:"222.333.444-55",customerPhone:"11912345678",items:[{id:"2",description:"Bolsa de Ombro de Designer em Couro",quantity:1,price:2100}],shipping:0,total:2100,status:"Pendente",createdAt:"2024-07-29T14:30:00Z",dueDate:"2024-08-08T23:59:59Z",paymentLink:"https://rs.shp/pay/ef56gh78"},{id:"CHG-003",customerName:"Mariana Costa",customerEmail:"mariana.costa@example.com",customerCpf:"333.444.555-66",items:[{id:"custom-2",description:"Consultoria de Estilo",quantity:2,price:300}],shipping:0,total:600,status:"Vencido",createdAt:"2024-07-15T11:00:00Z",dueDate:"2024-07-22T23:59:59Z",paymentLink:"https://rs.shp/pay/ij90kl12"}],eCe={automaticTransfers:{enabled:!1,frequency:"Semanal",dayOfWeek:5,minimumAmount:100},notifications:{onNewCommission:!0,onTransferSuccess:!0,onTransferFail:!0},security:{twoFactorAuth:!1}},tCe=[{id:"CD-001",name:"CD Central Curitiba",ownerName:"Roberto Silveira",cpfCnpj:"12.345.678/0001-99",email:"roberto.silveira@rsprolipsi.com.br",phone:"(41) 99999-0001",stores:[{id:"STORE-01",name:"RS Prlipsi - Shopping Mueller",city:"Curitiba",state:"PR",consultantIds:["C-001","C-002","C-003"]},{id:"STORE-02",name:"RS Prlipsi - ParkShoppingBarigi",city:"Curitiba",state:"PR",consultantIds:["C-004","C-005"]}]},{id:"CD-002",name:"CD Litoral Catarinense",ownerName:"Mariana Costa",cpfCnpj:"98.765.432/0001-11",email:"mariana.costa@rsprolipsi.com.br",phone:"(47) 98888-0002",stores:[{id:"STORE-03",name:"RS Prlipsi - Balnerio Shopping",city:"Balnerio Cambori",state:"SC",consultantIds:["C-006","C-007","C-008","C-009"]},{id:"STORE-04",name:"RS Prlipsi - Itaja Shopping",city:"Itaja",state:"SC",consultantIds:["C-010"]}]},{id:"CD-003",name:"CD Norte do Paran",ownerName:"Carlos Andrade",cpfCnpj:"55.666.777/0001-22",email:"carlos.andrade@rsprolipsi.com.br",phone:"(43) 97777-0003",stores:[{id:"STORE-05",name:"RS Prlipsi - Catua Shopping Londrina",city:"Londrina",state:"PR",consultantIds:["C-011","C-012","C-013"]}]}],nCe=[{id:"dash-banner-1",desktopImage:"https://picsum.photos/seed/launch/1200/400",mobileImage:"https://picsum.photos/seed/launch-m/400/300",link:"#"},{id:"dash-banner-2",desktopImage:"https://picsum.photos/seed/logistics/1200/400",mobileImage:"https://picsum.photos/seed/logistics-m/400/300",link:"#"}],rCe={components:[{id:"comp-1",column:"left",type:"userInfo",enabled:!0,visibleFields:{id:!0,graduation:!0,accountStatus:!0,monthlyActivity:!0,category:!0,referralLink:!1,affiliateLink:!1}},{id:"comp-2",column:"right",type:"adminBanner",enabled:!0},{id:"comp-3",column:"right",type:"bonusCards",enabled:!0},{id:"comp-4",column:"left",type:"qualificationProgress",enabled:!0,title:"Qualificao Atual",value:4500,max:15e3,startLabel:"Iniciante",endLabel:"Prata",startIcon:"StarOutlineIcon",endIcon:"TrophyIcon"},{id:"comp-5",column:"left",type:"qualificationProgress",enabled:!0,title:"Qualificao do Ms",value:800,max:2500,startLabel:"Base",endLabel:"Bronze",startIcon:"UserIcon",endIcon:"GlobalIcon"},{id:"comp-6",column:"right",type:"incentivesProgram",enabled:!0,title:"Programa de Incentivos e Premiaes",content:[{title:"Viagem Nacional",progress:60},{title:"Carro 0km",progress:30}]},{id:"comp-7",column:"left",type:"referralLinks",enabled:!0},{id:"comp-8",column:"right",type:"networkActivity",enabled:!0,title:"Atividade da Rede"},{id:"comp-9",column:"right",type:"performanceChart",enabled:!0,title:"Bnus Semanal"},{id:"comp-10",column:"left",type:"shortcut",enabled:!0,title:"Gerenciar Produtos",url:"manageProducts",icon:"ProductsIcon"},{id:"comp-11",column:"left",type:"shortcut",enabled:!0,title:"Viso Geral WalletPay",url:"walletOverview",icon:"WalletIcon"}],cards:[{id:"card-1",title:"Bnus Ciclo Global",icon:"GlobalIcon",dataKey:"cycleBonus"},{id:"card-2",title:"Bnus Top Sigme",icon:"TrophyIcon",dataKey:"topSigmeBonus"},{id:"card-3",title:"Bnus Plano de Carreira",icon:"StarOutlineIcon",dataKey:"careerPlanBonus"}]},VU=new URLSearchParams(window.location.search),xw=VU.get("view"),RI=VU.get("productId"),Jd=window.self!==window.top,oCe=()=>{const[e,t]=E.useState(Jd&&xw?xw:"home"),[n,r]=E.useState(null),[o,i]=E.useState(null),[a,l]=E.useState(null),[u,f]=E.useState(null),[h,p]=E.useState(null),[g,x]=E.useState(null),[y,N]=E.useState("home"),[C,A]=E.useState(PI),[T,k]=E.useState(P2e),[D,R]=E.useState(R2e),[I,P]=E.useState(D2e),[B]=E.useState(I2e),[L,$]=E.useState(_2e),[X,q]=E.useState(O2e),[W,ie]=E.useState(L2e),[K,U]=E.useState(B2e),[V,pe]=E.useState(U2e),[be,je]=E.useState(z2e),[O,F]=E.useState(F2e),[te,fe]=E.useState(q2e),[xe,De]=E.useState(nCe),[Le,Oe]=E.useState(rCe),[re,Re]=E.useState(H2e),[Te,de]=E.useState(V2e),[Ge,Be]=E.useState(null),[et,qt]=E.useState(null),[Hn,Wt]=E.useState(null),[Eo,Go]=E.useState(null),[Rn,Gl]=E.useState(null),[Ps,Vn]=E.useState(null),[Kl,ba]=E.useState(K2e),[Wl,mi]=E.useState([]),[_u,Ee]=E.useState(V.orderBump),[Ke,We]=E.useState(V.upsell),[lt,it]=E.useState(W2e),[In,ct]=E.useState(J2e),[jt,ut]=E.useState(Y2e),[gi,Rs]=E.useState(X2e),[Jl,Ou]=E.useState(Q2e),[Ko,Yl]=E.useState(Z2e),[Is,CE]=E.useState(tCe),[Lu,Bu]=E.useState(eCe),[va,L0]=E.useState({name:"Ana Carolina",id:"C0000111000000",graduation:"DIAMANTE PRESIDENCIAL",accountStatus:"Ativo",monthlyActivity:"Ativo",category:"DIAMANTE",referralLink:"https://rsprolipsi.com/register/anacaro",affiliateLink:"https://rs-shop.com/loja/anacarolina",avatarUrl:"https://i.pravatar.cc/80?u=anacarolina"}),[bh,B0]=E.useState({cycleBonus:500,topSigmeBonus:250,careerPlanBonus:1e3,affiliateBonus:1572.5,dropshipBonus:834.75,logisticsBonus:212.3}),[Uu,zu]=E.useState([]),[xi,vh]=E.useState([]),[Fu,jo]=E.useState(null),[yn,$n]=E.useState([]),[fn,ya]=E.useState([]),[yh,bi]=E.useState(!1),[wh,wa]=E.useState(!1);E.useEffect(()=>{Jd||window.scrollTo(0,0)},[e]),E.useEffect(()=>{const ne=()=>{const se=window.location.hash.replace("#","");if(se&&se!==e){const le=document.getElementById(se);le&&le.scrollIntoView({behavior:"smooth"})}};return window.addEventListener("hashchange",ne),ne(),()=>window.removeEventListener("hashchange",ne)},[e]),E.useEffect(()=>{const ne=se=>{se.data.type==="LIVE_PREVIEW_UPDATE"&&Jd&&pe(se.data.payload)};return window.addEventListener("message",ne),()=>{window.removeEventListener("message",ne)}},[]),E.useEffect(()=>{if(Jd&&xw==="productDetail"&&RI){const ne=PI.find(se=>se.id===RI);ne&&r(ne)}},[]),E.useEffect(()=>{const ne=document.getElementById("favicon");ne&&V.faviconUrl&&(ne.href=V.faviconUrl)},[V.faviconUrl]);const Ds=bo.useRef(0);E.useEffect(()=>{const ne=fn.reduce((se,le)=>se+le.quantity,0);if(ne>Ds.current){wa(!0);const se=setTimeout(()=>wa(!1),3e3);return Ds.current=ne,()=>clearTimeout(se)}Ds.current=ne},[fn]);const Ca=(ne,se,le)=>{console.log("App.tsx - handleAddToCart chamado:",{product:ne.name,quantity:se,selectedVariant:le}),ya(ve=>{console.log("App.tsx - Cart ANTES:",ve);const Jt=ve.find(wn=>wn.productId===ne.id&&wn.variantId===le.id);if(Jt){const wn=ve.map(Ta=>Ta.id===Jt.id?{...Ta,quantity:Ta.quantity+se}:Ta);return console.log("App.tsx - Cart DEPOIS (atualizado):",wn),wn}const Jo=`${ne.id}-${le.id}-${Date.now()}`,Jr=Object.values(le.options).join(" / "),Yo=[...ve,{id:Jo,productId:ne.id,variantId:le.id,name:ne.name,price:le.price,image:ne.images[0],quantity:se,variantText:Jr}];return console.log("App.tsx - Cart DEPOIS (novo item):",Yo),Yo}),console.log("App.tsx - Item adicionado, mostrando status flutuante")},vi=(ne,se)=>{ya(le=>se<=0?le.filter(ve=>ve.id!==ne):le.map(ve=>ve.id===ne?{...ve,quantity:se}:ve))},Na=ne=>{ya(se=>se.filter(le=>le.id!==ne))},Sa=ne=>{jo(ne),k(se=>[...se,ne]),ya([]),bi(!1),t("orderConfirmation")},tn=(ne,se,le)=>{var Jo,Jr;const ve={productId:se.id,variantId:((Jr=(Jo=se.variants)==null?void 0:Jo[0])==null?void 0:Jr.id)||"default",productName:`${se.name} (Upsell)`,quantity:1,price:le},Jt={...ne,items:[...ne.items,ve],total:ne.total+le,subtotal:ne.subtotal+le};k(Yo=>Yo.map(wn=>wn.id===ne.id?Jt:wn)),jo(Jt)},Wo=()=>ge((Ge==null?void 0:Ge.email)==="rsprolipsioficial@gmail.com"?"consultantStore":"consultantLogin"),ge=(ne,se)=>{if(!Jd){if(ne==="checkout"&&(N(e),bi(!1)),ne==="productDetail"&&se){const le=se.id;$n(ve=>[le,...ve.filter(Jt=>Jt!==le)].slice(0,4))}t(ne),r(null),i(null),l(null),f(null),p(null),x(null),qt(null),Wt(null),Gl(null),se&&(["productDetail","addEditProduct","editDropshippingProduct"].includes(ne)?r(se):["orderDetail","orderStatus"].includes(ne)?i(se):ne==="returnDetail"?l(se):ne==="addEditCoupon"?f(se):ne==="addEditMarketingPixel"?p(se):["collectionView","addEditCollection"].includes(ne)?x(se):ne==="addEditAnnouncement"?qt(se):["trainingModuleDetail","addEditTraining"].includes(ne)?Wt(se):ne==="addEditMarketingAsset"&&Gl(se))}},yi=ne=>{pe(se=>({...se,...ne}))},Ea=ne=>{De(ne),alert("Banners do painel atualizados com sucesso!")},U0=ne=>{Oe(ne),alert("Painel atualizado com sucesso!")},Ch=ne=>{A(se=>se.find(ve=>ve.id===ne.id)?se.map(ve=>ve.id===ne.id?ne:ve):[...se,{...ne,id:String(Date.now())}]),ge("manageProducts")},Nh=ne=>{window.confirm(`Tem certeza de que deseja excluir ${ne.length} produto(s)?`)&&A(se=>se.filter(le=>!ne.includes(le.id)))},z0=(ne,se)=>{k(le=>le.map(ve=>ve.id===ne?{...ve,...se}:ve))},Xl=ne=>{$(se=>se.find(ve=>ve.id===ne.id)?se.map(ve=>ve.id===ne.id?ne:ve):[...se,{...ne,id:`CUP-${Date.now()}`}]),ge("managePromotions")},Ql=ne=>{window.confirm("Tem certeza de que deseja excluir este cupom?")&&$(se=>se.filter(le=>le.id!==ne))},Ao=ne=>{q(se=>se.find(ve=>ve.id===ne.id)?se.map(ve=>ve.id===ne.id?ne:ve):[...se,{...ne,id:`PIX-${Date.now()}`}]),ge("virtualOfficePixels")},dr=ne=>{window.confirm("Tem certeza que deseja excluir este pixel?")&&q(se=>se.filter(le=>le.id!==ne))},Sh=ne=>{q(se=>se.map(le=>le.id===ne?{...le,status:le.status==="Ativo"?"Inativo":"Ativo"}:le))},F0=ne=>{const se=X.find(le=>le.id===ne);if(se){const le={...se,id:`PIX-${Date.now()}`,name:`${se.name} (Cpia)`};q(ve=>[...ve,le])}},qu=ne=>{Re(se=>se.find(ve=>ve.id===ne.id)?se.map(ve=>ve.id===ne.id?ne:ve):[...se,{...ne,id:`col-${Date.now()}`}]),ge("manageCollections")},Eh=ne=>{window.confirm("Tem certeza que deseja excluir esta coleo?")&&Re(se=>se.filter(le=>le.id!==ne))},Zl=ne=>{Be(ne),ge("home")},q0=ne=>{const se={id:`cust-${Date.now()}`,...ne};de(le=>[...le,se]),alert("Cadastro realizado com sucesso! Faa seu login para continuar."),ge("customerLogin")},fr=ne=>{window.confirm("Tem certeza?")&&ba(se=>se.filter(le=>le.id!==ne))},Hu=ne=>ba(se=>se.map(le=>le.id===ne?{...le,status:"Aprovada"}:le)),jh=ne=>mi(se=>[...se,{...ne,id:`link-${Date.now()}`}]),Vu=ne=>{window.confirm("Tem certeza?")&&mi(se=>se.filter(le=>le.id!==ne))},ja=ne=>{const se={...ne,id:`rev-${Date.now()}`,createdAt:new Date().toISOString(),status:"Pendente"};ba(le=>[se,...le]),alert("Sua avaliao foi enviada para moderao. Obrigado!")},Ah=ne=>{ct(se=>{const le=se.find(ve=>ve.id===ne.id);return le?se.map(ve=>ve.id===ne.id?{...le,...ne}:ve):[{...ne,id:`ann-${Date.now()}`},...se]}),ge("manageAnnouncements")},Th=ne=>{window.confirm("Tem certeza?")&&ct(se=>se.filter(le=>!ne.includes(le.id)))},Aa=ne=>{ut(se=>{const le=se.find(ve=>ve.id===ne.id);return le?se.map(ve=>ve.id===ne.id?{...le,...ne}:ve):[{...ne,id:`train-${Date.now()}`},...se]}),ge("manageTrainings")},H0=ne=>{Rs(se=>{const le=se.find(ve=>ve.id===ne.id);return le?se.map(ve=>ve.id===ne.id?{...le,...ne}:ve):[{...ne,id:`asset-${Date.now()}`},...se]}),ge("manageMarketingAssets")},kh=ne=>{window.confirm("Tem certeza?")&&Rs(se=>se.filter(le=>!ne.includes(le.id)))},Mh=ne=>{zu(se=>se.includes(ne)?se.filter(le=>le!==ne):[...se,ne])},$u=(ne,se)=>{ut(le=>le.map(ve=>ve.id===ne?{...ve,lessons:ve.lessons.map(Jt=>Jt.id===se?{...Jt,likes:(Jt.likes||0)+1}:Jt)}:ve))},_s=ne=>{if(!Ge){alert("Por favor, faa login para adicionar itens  sua lista de desejos."),ge("customerLogin");return}vh(se=>se.includes(ne)?se.filter(le=>le!==ne):[...se,ne])},V0=ne=>{const se={...ne,id:`CHG-${Date.now()}`,paymentLink:`https://pay.rsprolipsi.com/${Date.now()}`};return Yl(le=>[se,...le]),se},ec=["consultantStore","rsStudio","communication","manageProducts","addEditProduct","manageInventory","manageCollections","addEditCollection","manageOrders","orderDetail","managePromotions","addEditCoupon","manageOrderBump","manageUpsell","manageAbandonedCarts","manageReviews","manageAffiliates","walletPayHub","walletOverview","walletReports","walletTransfers","walletCharges","walletSettings","manageDistributors","addEditDistributor","virtualOfficePixels","addEditMarketingPixel","virtualOfficeLinkShortener","userProfileEditor","storeEditor","dashboardEditor","bannerDashboard","manageAnnouncements","addEditAnnouncement","manageTrainings","addEditTraining","trainingModuleDetail","manageMarketingAssets","addEditMarketingAsset","compensationPlan","managePayments","manageShipping"],To=()=>{const ne=ec.includes(e),se=(()=>{switch(e){case"home":return s.jsxs(s.Fragment,{children:[s.jsx(Xv,{logoUrl:V.logoUrl,onLogoClick:()=>ge("home"),onConsultantClick:Wo,cartItems:fn,onCartClick:()=>bi(!0),collections:re,onNavigate:ge,currentCustomer:Ge,onLogout:()=>{Be(null),ge("home")}}),s.jsx(lF,{content:V.hero}),s.jsx(BI,{banners:V.carouselBanners}),s.jsx(cF,{onProductClick:le=>ge("productDetail",le),products:C,wishlist:xi,onToggleWishlist:_s}),s.jsx(_ne,{onProductClick:le=>ge("productDetail",le),products:C,orders:T,wishlist:xi,onToggleWishlist:_s}),s.jsx(dne,{onProductClick:le=>ge("productDetail",le),products:C,wishlist:xi,onToggleWishlist:_s}),s.jsx(fne,{banner:V.midPageBanner}),s.jsx(Lne,{collections:re.slice(0,3),onNavigate:ge}),s.jsx(dF,{onConsultantClick:Wo,onBecomeSellerClick:()=>ge("sellerRegistration")}),s.jsx(Qv,{logoUrl:V.logoUrl,content:V.footer,onConsultantClick:Wo,onNavigate:ge,currentCustomer:Ge})]});case"consultantLogin":return s.jsx(xF,{onLoginSuccess:()=>ge("consultantStore"),onBackToHome:()=>ge("home")});case"consultantStore":return s.jsx(kF,{onNavigate:ge,banners:xe,settings:Le,userProfile:va,bonuses:bh,networkActivity:$2e,userPoints:12500,monthlyUserPoints:3200,compensationSettings:te,weeklyBonuses:G2e});case"customerLogin":return s.jsx(Mne,{onLoginSuccess:Zl,onBackToHome:()=>ge("home"),onNavigateToRegister:()=>ge("customerRegister"),onNavigateToForgotPassword:()=>ge("customerForgotPassword"),customers:Te});case"customerRegister":return s.jsx(Pne,{onRegister:q0,onBackToHome:()=>ge("home"),onNavigateToLogin:()=>ge("customerLogin"),existingCustomers:Te});case"customerAccount":return s.jsx(Dne,{customer:Ge,orders:T,onNavigate:ge});case"productDetail":return n?s.jsxs(s.Fragment,{children:[s.jsx(Xv,{logoUrl:V.logoUrl,onLogoClick:()=>ge("home"),onConsultantClick:Wo,cartItems:fn,onCartClick:()=>bi(!0),collections:re,onNavigate:ge,currentCustomer:Ge,onLogout:()=>{Be(null),ge("home")}}),s.jsx(gF,{product:n,collections:re,onBack:()=>ge("home"),onAddToCart:Ca,onNavigate:(le,ve)=>ge(le,ve),reviews:Kl.filter(le=>le.productId===n.id),onReviewSubmit:ja,wishlist:xi,onToggleWishlist:_s,questions:lt.filter(le=>le.productId===n.id),onQuestionSubmit:le=>{const ve={...le,id:`q-${Date.now()}`,createdAt:new Date().toISOString(),answers:[]};it(Jt=>[...Jt,ve])},onAnswerSubmit:(le,ve)=>{const Jt={...ve,id:`a-${Date.now()}`,createdAt:new Date().toISOString()};it(Jo=>Jo.map(Jr=>Jr.id===le?{...Jr,answers:[...Jr.answers,Jt]}:Jr))}}),s.jsx(Qv,{logoUrl:V.logoUrl,content:V.footer,onConsultantClick:Wo,onNavigate:ge,currentCustomer:Ge})]}):null;case"sellerRegistration":return s.jsx(bne,{onRegisterSuccess:()=>ge("consultantStore"),onBackToHome:()=>ge("home")});case"checkout":return fn.length>0?s.jsx(xne,{cartItems:fn,onBack:()=>ge(y||"home"),onFinalizePurchase:Sa,currentCustomer:Ge,coupons:L,orderBumpConfig:V.orderBump,allProducts:C,paymentSettings:be,onUpdateQuantity:vi,onRemoveItem:Na}):null;case"orderConfirmation":return Fu?s.jsx(s2e,{order:Fu,onContinueShopping:()=>ge("home"),upsellSettings:V.upsell,allProducts:C,onAcceptUpsell:(le,ve,Jt)=>{tn(le,ve,Jt)}}):null;case"collectionView":return g?s.jsxs(s.Fragment,{children:[s.jsx(Xv,{logoUrl:V.logoUrl,onLogoClick:()=>ge("home"),onConsultantClick:Wo,cartItems:fn,onCartClick:()=>bi(!0),collections:re,onNavigate:ge,currentCustomer:Ge,onLogout:()=>{Be(null),ge("home")}}),s.jsx(kne,{collection:g,products:C.filter(le=>le.collectionId===g.id&&le.status==="Ativo"),onProductClick:le=>ge("productDetail",le),onBack:()=>ge("home"),wishlist:xi,onToggleWishlist:_s}),s.jsx(Qv,{logoUrl:V.logoUrl,content:V.footer,onConsultantClick:Wo,onNavigate:ge,currentCustomer:Ge})]}):null;case"orderLookup":return s.jsx(E2e,{orders:T,onOrderFound:le=>ge("orderStatus",le)});case"communication":return s.jsx(i2e,{announcements:In,trainings:jt,marketingAssets:gi,onNavigate:ge});case"manageProducts":return s.jsx(MF,{products:C,onNavigate:ge,onProductsChange:A,onProductEdit:le=>ge("addEditProduct",le),onProductDelete:Nh});case"addEditProduct":return s.jsx(Tte,{product:n,collections:re,onSave:Ch,onCancel:()=>ge("manageProducts")});case"manageCollections":return s.jsx(Ane,{collections:re,onNavigate:ge,onCollectionEdit:le=>ge("addEditCollection",le),onCollectionDelete:Eh});case"addEditCollection":return s.jsx(Tne,{collection:g,products:C,onSave:qu,onCancel:()=>ge("manageCollections"),onNavigate:ge});case"manageOrders":return s.jsx(Ite,{orders:T,onNavigate:ge,onOrderClick:le=>ge("orderDetail",le)});case"orderDetail":return o?s.jsx(Dte,{order:o,onBack:()=>ge("manageOrders"),onUpdateOrder:z0}):null;case"managePromotions":return s.jsx(_te,{coupons:L,onNavigate:ge,onCouponEdit:le=>ge("addEditCoupon",le),onCouponDelete:Ql});case"addEditCoupon":return s.jsx(Ote,{coupon:u,onSave:Xl,onCancel:()=>ge("managePromotions")});case"manageOrderBump":return s.jsx(l2e,{settings:_u,products:C,onSave:Ee});case"manageUpsell":return s.jsx(c2e,{settings:Ke,products:C,onSave:We});case"manageAbandonedCarts":return s.jsx(d2e,{carts:Jl});case"manageReviews":return s.jsx(h2e,{reviews:Kl,products:C,onReviewApprove:Hu,onReviewDelete:fr});case"manageAffiliates":return s.jsx(Bne,{links:Wl,onNavigate:ge,onLinkAdd:jh,onLinkDelete:Vu});case"walletPayHub":return s.jsx(t2e,{});case"walletOverview":return s.jsx(Hne,{onNavigate:ge,charges:Ko,walletSettings:Lu});case"walletReports":return s.jsx(Fne,{onNavigate:ge,orders:T});case"walletTransfers":return s.jsx(Kne,{onNavigate:ge,orders:T,products:C,paymentSettings:be});case"walletCharges":return s.jsx(Yne,{charges:Ko,products:C,onSave:V0});case"walletSettings":return s.jsx(Xne,{settings:Lu,onSave:Bu,onNavigate:ge,paymentSettings:be});case"manageDistributors":return s.jsx(k2e,{distributors:Is,onNavigate:ge});case"addEditDistributor":return s.jsx(M2e,{onCancel:()=>ge("manageDistributors")});case"virtualOfficePixels":return s.jsx(Yte,{pixels:X,onNavigate:ge,onDelete:dr,onStatusToggle:Sh,onDuplicate:F0});case"addEditMarketingPixel":return s.jsx(Zte,{pixel:h,onSave:Ao,onCancel:()=>ge("virtualOfficePixels")});case"virtualOfficeLinkShortener":return s.jsx(Xte,{links:K,setLinks:U});case"userProfileEditor":return s.jsx(n2e,{userProfile:va,onSave:L0});case"storeEditor":return s.jsx(Lte,{customization:V,onUpdate:yi,onNavigate:ge});case"dashboardEditor":return s.jsx(jne,{settings:Le,onUpdate:U0});case"bannerDashboard":return s.jsx(wne,{banners:xe,onUpdate:Ea});case"manageAnnouncements":return s.jsx(p2e,{announcements:In,onNavigate:ge,onDelete:Th});case"addEditAnnouncement":return s.jsx(m2e,{announcement:et,onSave:Ah,onCancel:()=>ge("manageAnnouncements")});case"manageTrainings":return s.jsx(x2e,{trainings:jt,onNavigate:ge,completedLessons:Uu});case"addEditTraining":return s.jsx(b2e,{training:Hn,onSave:Aa,onCancel:()=>ge("manageTrainings")});case"trainingModuleDetail":return Hn?s.jsx(C2e,{module:Hn,completedLessons:Uu,onToggleLessonComplete:Mh,onLikeLesson:$u,onNavigate:ge}):null;case"manageMarketingAssets":return s.jsx(N2e,{assets:gi,onNavigate:ge,onDelete:kh});case"addEditMarketingAsset":return s.jsx(S2e,{asset:Rn,onSave:H0,onCancel:()=>ge("manageMarketingAssets")});case"compensationPlan":return s.jsx(vne,{settings:te,onSave:fe,onNavigate:ge});case"managePayments":return s.jsx(hne,{settings:be,onSave:je,onNavigate:ge});case"manageShipping":return s.jsx(pne,{settings:O,onSave:F,onNavigate:ge});case"rsStudio":return s.jsx(r2e,{products:C,onNavigate:ge});default:return s.jsx("div",{className:"p-8 text-center text-white",children:"Pgina no encontrada"})}})();return ne?s.jsx(une,{currentView:e,onNavigate:ge,onLogout:()=>ge("home"),children:se}):se};return s.jsxs("div",{className:"min-h-screen bg-brand-dark",children:[To(),yh&&fn&&s.jsx(mne,{isOpen:yh,onClose:()=>bi(!1),cartItems:fn,onUpdateQuantity:vi,onRemoveItem:Na,onNavigate:ge}),wh&&fn&&fn.length>0&&s.jsx(gne,{cartItems:fn,onViewCart:()=>bi(!0)})]})},$U=document.getElementById("root");if(!$U)throw new Error("Could not find root element to mount to");const iCe=sF.createRoot($U);iCe.render(s.jsx(bo.StrictMode,{children:s.jsx(oCe,{})}));

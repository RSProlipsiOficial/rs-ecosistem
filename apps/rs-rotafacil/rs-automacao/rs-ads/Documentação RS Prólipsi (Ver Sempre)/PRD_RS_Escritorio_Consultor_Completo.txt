PRD – MÓDULO CONSULTOR (ESCRITÓRIO RS PRÓLIPSI)
Documento técnico-funcional do Painel do Consultor (Escritório RS Prólipsi), baseado no código-fonte real do pacote Rs Prólipsi Consultor.zip. Define a estrutura completa do sistema, módulos, integrações, banco de dados e, principalmente, a lógica da Árvore Genealógica SIGME.
1. Visão Geral

O Painel do Consultor RS Prólipsi é o ambiente operacional do usuário dentro do sistema de marketing multinível (SIGME).
Ele integra rede, ganhos, loja virtual, comunicação e perfil financeiro de forma unificada.

2. Estrutura Técnica e de Pastas

/src
  /assets
  /components
    /dashboard
    /network
    /wallet
    /store
    /communication
    /profile
  /hooks
  /pages
    index.jsx
    network.jsx
    wallet.jsx
    store.jsx
    communication.jsx
    profile.jsx
    support.jsx
  /services
    api.js
    sigma.js
    wallet.js
    market.js
    rsstudio.js
  /utils
    constants.js
    formatters.js
  /config
    env.js
  /styles
    global.css
.env
package.json

3. Dashboard Principal

Página inicial com KPIs e atalhos rápidos.
- Saldo Atual (WalletPay)
- Pontos Acumulados (SIGME)
- Matrizes Ativas (SIGME)
- Ciclos Concluídos
- Gráficos de desempenho
- Botão de sincronização global

4. Módulo SIGME / Rede

Núcleo funcional do painel, exibe a Árvore Genealógica interativa.
Componente: NetworkTree.jsx
Biblioteca: D3.js (SVG dinâmico)
Renderização: baseada em coordenadas X/Y calculadas no backend Supabase.

Estrutura de dados (exemplo JSON):
{
  "id": "user_uuid",
  "nome": "Fulano da Silva",
  "nivel": 1,
  "posicao": { "x": 120, "y": 60 },
  "filhos": [
    { "id": "child1", "nivel": 2, "ativo": true },
    { "id": "child2", "nivel": 2, "ativo": false }
  ],
  "ativo": true,
  "diretos": 5,
  "status_ciclo": "ativo"
}

Cores:
- Verde: ativo
- Cinza: inativo
- Dourado: qualificado (PIN)

Funções integradas:
- getUserNetwork(userId)
- getMatrixStatus(userId)
- getBonusSummary(userId)
- syncNetworkTree()

5. Módulo Financeiro / WalletPay

Tela: /pages/wallet.jsx
Funções:
- Saldo e histórico de ganhos
- Solicitar saque via PIX
- Listagem de bônus e saques
- Webhook de atualização

Endpoints:
- GET /wallet/balance
- GET /wallet/transactions
- POST /wallet/withdraw
- POST /wallet/webhook

6. Módulo Marketplace / Loja

Tela: /pages/store.jsx
Funções:
- Exibe catálogo de produtos
- Mostra preço, estoque e comissão
- Link afiliado: https://loja.rsprolipsi.com.br/?ref={consultor_id}
- Integração com market.js

7. Módulo RS Studio / Comunicação

Tela: /pages/communication.jsx
Funções:
- Chat RSA (IA)
- Mensagens automáticas
- Treinamentos e vídeos
- Notificações e comunicados

Componentes:
- ChatBox.jsx
- NotificationCard.jsx
- TrainingList.jsx

8. Módulo Perfil e Configurações

Tela: /pages/profile.jsx
Funções:
- Edição de dados pessoais
- Upload de documentos (KYC)
- Alteração de senha / 2FA
- Atualização de plano premium
Integrações:
- WalletPay e RS Config

9. Módulo Suporte

Tela: /pages/support.jsx
Funções:
- Contato via WhatsApp API
- Abertura de ticket
- Histórico de atendimentos

10. Banco de Dados

Tabela | Função
---------|---------
consultants | Dados pessoais e login
network_nodes | Estrutura da árvore genealógica
matrix_cycles | Controle de ciclos e reentradas
wallet_transactions | Movimentação financeira
orders | Vendas do Marketplace
messages | Comunicação interna
logs | Auditoria de ações

11. Segurança e Autenticação

- JWT com refresh token
- Middleware de proteção de rotas
- Logs de IP e sessões
- Criptografia AES em dados sensíveis
- Políticas LGPD aplicadas

12. Roadmap

Fase | Entrega | Descrição
------|----------|-----------
Fase 1 | Rede e WalletPay | Estrutura principal SIGME
Fase 2 | Comunicação RS Studio | Chat RSA e treinamentos
Fase 3 | Marketplace integrado | Vendas diretas
Fase 4 | Configurações e upgrades | Planos premium
Fase 5 | RS.IA | Relatórios automáticos e rede inteligente
